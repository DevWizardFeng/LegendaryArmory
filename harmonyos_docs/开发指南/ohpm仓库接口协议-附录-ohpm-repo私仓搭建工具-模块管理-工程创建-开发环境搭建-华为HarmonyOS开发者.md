<h1 _ngcontent-ibp-c119="" class="doc-title ng-star-inserted" title="ohpm仓库接口协议"> ohpm仓库接口协议 </h1>

<div _ngcontent-ibp-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000002336786057"><div class="tiledSection"><h2 id="section175573515528">概述<i class="anchor-icon anchor-icon-link" anchorid="section175573515528" tips="复制节点链接"></i></h2></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p93091131152915">ohpm客户端与ohpm-repo私仓通过REST API交互，目前一共有六种API：</p> <ol id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_ol20237204818301"><li id="zh-cn_topic_0000002268583698_li5237174813303"><strong>Fetch Metadata</strong>：用于获取三方库的元数据。三方库的下载地址也是元数据的一部分，具体的下载操作可以由ohpm-repo内部实现，也可以使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-storageplugin">存储插件</a>，代理给其它文件服务实现。无论采用哪种实现方式，在ohpm客户端向返回的下载地址发起请求时，如果ohpm-repo配置不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-system-settings">匿名访问</a>，ohpm客户端必须配置只读/读写认证，在下载请求的Http Header中，通过Authorization字段携带相应的Access Token，ohpm客户端才能正确下载。</li><li id="zh-cn_topic_0000002268583698_li1523724818306"><strong>Login（可选）</strong>: 用于客户端登录。在使用公私钥认证时，ohpm客户端通过Login API从ohpm-repo获取一个Token，然后在调用publish，unpublish和dist-tags等API时，会在Http Header的Authorization字段携带相应的Token；如果选用Access Token的认证方式，则不需要实现该API。</li><li id="li1470181452713"><strong>Login_pss（可选）</strong>：接口作用同Login接口。与Login接口差异：签名算法升级，由传统的RSA-SHA256 变更为 RSA-PSS（Probabilistic Signature Scheme）填充模式。</li><li id="zh-cn_topic_0000002268583698_li9237848123016"><strong>Publish</strong>：用于发布一个三方库到ohpm-repo私仓，需要先进行读写权限认证。</li><li id="zh-cn_topic_0000002268583698_li192371448173015"><strong>Unpublish</strong>：用于从ohpm-repo私仓下架（删除）一个三方库（下架一个包的某个版本或所有版本），需要先进行读写权限认证。</li><li id="zh-cn_topic_0000002268583698_li13237104883019"><strong>Ping</strong>：用于检测与ohpm-repo仓库的网络连通性，不需要任何认证。</li><li id="zh-cn_topic_0000002268583698_li22371448153012"><strong>DistTags</strong>：用于管理tag标签，包含新增、更新和删除三类操作，需要先进行读写权限认证。查询某个包的所有标签复用Fetch Metadata接口，如果ohpm-repo配置不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-system-settings">匿名访问</a>，需要通过只读/读写Access Token进行认证；如果配置默认支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-system-settings">匿名访问</a>，无需进行任何认证。</li><li id="li9996111655818">Versions: 用于查看三方库版本列表，查询结果按照发布时间升序排列，以列表形式进行分页展示。可通过Options中pageNum和pageSize设置页码和每页数量。</li></ol> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p203091131102912">ohpm客户端在访问ohpm-repo时，支持公私钥和Access Token两种认证方式：</p> <ul id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_ul1130913122910"><li id="zh-cn_topic_0000002268583698_li4309153114298">在使用公私钥认证时，ohpm客户端通过Login API从ohpm-repo获取一个Token（Token生成细节请参考Login API的具体定义），然后在调用publish，unpublish和dist-tags的API时，会在Http Header的Authorization字段携带相应的Token，该Token具有读写权限。</li><li id="zh-cn_topic_0000002268583698_li123099313294">在使用Access Token认证时，需要在ohpm客户端配置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-certification#section1631316181327">AccessToken</a>。Access Token 按权限范围分为两类：只读Access Token和读写Access Token。在ohpm客户端访问ohpm-repo时，Http Header的Authorization字段将携带相应的Access Token。在调用Fetch Metadata时，如果配置不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-system-settings">匿名访问</a>，系统会优先识别只读Access Token，只读Access Token不存在将继续识别读写Access Token；在调用其他需读写权限API时，ohpm客户端仅识别读写Access Token。Access Token一般通过ohpm-repo管理界面生成，当然也可以使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-custom-auth-plugin">认证插件</a>，将Access Token的生成代理给专门的认证服务实现，进而调用认证服务的API来完成相应的认证操作。</li></ul> <div class="tiledSection"><h2 id="section1520210917535">Fetch Metadata<i class="anchor-icon anchor-icon-link" anchorid="section1520210917535" tips="复制节点链接"></i></h2></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p55341423012">返回指定包的metadata元数据。</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_zh-cn_topic_0000001792256165_screen6969543171146" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">GET</span> &lt;<span class="hljs-title class_">router</span>-<span class="hljs-title class_">prefix</span>&gt;/:<span class="hljs-title class_">group</span>?/:<span class="hljs-title class_">package_name</span></li></ol></pre></div></div>  <div class="tablenoborder"><div class="tbBox"><table id="table104079161924" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__row64073161222"><th align="left" class="cellrowborder" id="mcps1.3.9.1.5.1.1" valign="top" width="24.97%"><p id="ZH-CN_TOPIC_0000002478173760__p144073161725">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.1.5.1.2" valign="top" width="25.03%"><p id="ZH-CN_TOPIC_0000002478173760__p1240719168211">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.1.5.1.3" valign="top" width="8.94%"><p id="ZH-CN_TOPIC_0000002478173760__p8407216226">必填项</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.1.5.1.4" valign="top" width="41.06%"><p id="ZH-CN_TOPIC_0000002478173760__p1240721614215">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__row7407516529"><td class="cellrowborder" valign="top" width="24.97%"><p id="ZH-CN_TOPIC_0000002478173760__p24078166210">group</p> </td> <td class="cellrowborder" valign="top" width="25.03%"><p id="ZH-CN_TOPIC_0000002478173760__p1340715161125">string</p> </td> <td class="cellrowborder" valign="top" width="8.94%"><p id="ZH-CN_TOPIC_0000002478173760__p1640717161128">否</p> </td> <td class="cellrowborder" valign="top" width="41.06%"><p id="ZH-CN_TOPIC_0000002478173760__p1140718161622">组织名，以@开头，比如@ohos</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__row24073168213"><td class="cellrowborder" valign="top" width="24.97%"><p id="ZH-CN_TOPIC_0000002478173760__p64071516421">package_name</p> </td> <td class="cellrowborder" valign="top" width="25.03%"><p id="ZH-CN_TOPIC_0000002478173760__p8407416926">string</p> </td> <td class="cellrowborder" valign="top" width="8.94%"><p id="ZH-CN_TOPIC_0000002478173760__p154078167214">是</p> </td> <td class="cellrowborder" valign="top" width="41.06%"><p id="ZH-CN_TOPIC_0000002478173760__p840714161227">包名 (不含组织部分)</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p8330135323217"><strong>请求示例</strong>（以请求一个应用内的HAR包 @test/package1 为例）<strong>：</strong></p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen134962143315" data-highlighted="yes"><ol class="linenums"><li><strong><span class="hljs-variable">请求方法</span></strong>：<span class="hljs-variable">GET</span></li><li><span class="hljs-comment">// http://myohpmrepo.com：ohpm-repo仓库地址，开发过程中需要替换为实际搭建的ohpm-repo仓库域名或IP地址。</span></li><li><span class="hljs-comment">// repos：固定字段。</span></li><li><span class="hljs-comment">// ohpm：指定访问的仓库名称，开发过程中需要替换为实际使用的仓库。</span></li><li><strong><span class="hljs-variable">请求</span> </strong><strong> <span class="hljs-variable">URL</span>：<span class="hljs-variable">http</span>:<span class="hljs-comment">//myohpmrepo.com/repos/ohpm/@test/package1</span></strong><span class="hljs-comment">  </span></li><li><strong><span class="hljs-variable">请求头</span></strong>：</li><li><span class="hljs-variable">authorization</span>: <span class="hljs-title class_">NjJmNjFhODI3N2ZlNDUwMzlhYmUwNjQxZjQ3ZTNhZDU</span>=</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173760__p19703512152511">请求头包含一个字段，描述如下：</p>  <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000002268583698_table94548452009" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row19454245309"><th align="left" class="cellrowborder" id="mcps1.3.13.1.5.1.1" valign="top" width="30.826917308269174%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p11454745605">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.1.5.1.2" valign="top" width="20.677932206779325%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1945415451307">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.1.5.1.3" valign="top" width="17.66823317668233%"><p id="ZH-CN_TOPIC_0000002478173760__p185762433519">必填项</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.1.5.1.4" valign="top" width="30.826917308269174%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1745417451006">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row945564515018"><td class="cellrowborder" valign="top" width="30.826917308269174%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1939413814110">authorization</p> </td> <td class="cellrowborder" valign="top" width="20.677932206779325%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p94557458017">string</p> </td> <td class="cellrowborder" valign="top" width="17.66823317668233%"><p id="ZH-CN_TOPIC_0000002478173760__p253604483414">是</p> </td> <td class="cellrowborder" valign="top" width="30.826917308269174%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p202411711111">填写只读或者读写AccessToken，选填项，当ohpm-repo配置不支持匿名访问时必须填写。</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p0132174312341"><strong>响应失败示例</strong>（以请求一个应用内的HAR包 @test/package1 为例）<strong>：</strong></p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen3132174314349" data-highlighted="yes"><ol class="linenums"><li>{</li><li>    <span class="hljs-string">"code"</span>: <span class="hljs-number">1018</span>,</li><li>    <span class="hljs-string">"message"</span>: <span class="hljs-string">"package not found: @test/package1"</span></li><li>}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1433131612366">响应失败有两个字段，描述如下：</p>  <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000002268583698_table1233210167367" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row13332616153612"><th align="left" class="cellrowborder" id="mcps1.3.17.1.5.1.1" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p833211166363">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.1.5.1.2" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p73329161369">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.1.5.1.3" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1233271643611">必填项</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.1.5.1.4" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p13324163368">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row733212165361"><td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p13332016123616">code</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p5332116153610">number</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1033221643614">是</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p633251673618">响应失败错误码</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row193329169365"><td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p18688444153614">message</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p3333141683612">string</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1433371643610">是</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p03338166364">响应失败错误信息</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1469454219335"><strong>响应成功示例</strong>（以请求一个应用内的HAR包 @test/package1 为例）：</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen1857714716338" data-highlighted="yes"><ol class="linenums"><li>{</li><li>  <span class="hljs-string">"_id"</span>: <span class="hljs-string">"@test/package1"</span>,</li><li>  <span class="hljs-string">"name"</span>: <span class="hljs-string">"@test/package1"</span>,</li><li>  <span class="hljs-string">"description"</span>: <span class="hljs-string">"Please describe the basic information."</span>,</li><li>  <span class="hljs-string">"dist-tags"</span>: {</li><li>    <span class="hljs-string">"latest"</span>: <span class="hljs-string">"2.0.0"</span></li><li>  },</li><li>  <span class="hljs-string">"versions"</span>: {</li><li>    <span class="hljs-string">"1.0.0"</span>: {</li><li>      <span class="hljs-string">"name"</span>: <span class="hljs-string">"@test/package1"</span>,</li><li>      <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.0.0"</span>,</li><li>      <span class="hljs-string">"description"</span>: <span class="hljs-string">"Please describe the basic information."</span>,</li><li>      <span class="hljs-string">"main"</span>: <span class="hljs-string">"Index.ets"</span>,</li><li>      <span class="hljs-string">"author"</span>: {</li><li>        <span class="hljs-string">"name"</span>: <span class="hljs-string">"apple11"</span>,</li><li>        <span class="hljs-string">"url"</span>: <span class="hljs-string">""</span>,</li><li>        <span class="hljs-string">"email"</span>: <span class="hljs-string">""</span></li><li>      },</li><li>      <span class="hljs-string">"license"</span>: <span class="hljs-string">"Apache-2.0"</span>,</li><li>      <span class="hljs-string">"dependencies"</span>: {</li><li>      },</li><li>      <span class="hljs-string">"artifactType"</span>: <span class="hljs-string">"original"</span>,</li><li>      <span class="hljs-string">"_nodeVersion"</span>: <span class="hljs-string">"20.14.0"</span>,</li><li>      <span class="hljs-string">"_ohpmVersion"</span>: <span class="hljs-string">"ohpm-repo-5.0.3"</span>,</li><li>      <span class="hljs-string">"_id"</span>: <span class="hljs-string">"@test/package1@1.0.0"</span>,</li><li>      <span class="hljs-string">"dist"</span>: {</li><li>        <span class="hljs-string">"integrity"</span>: <span class="hljs-string">"sha512-UAPn6H3lsqQvwmevJSbWWv52PA8Ii6rgutLeJnVAHkNrUX2isytQ2pkzjodHuroYb64XKcwg+E6I8tUcFxwF3A=="</span>,</li><li>        <span class="hljs-string">"tarball"</span>: <span class="hljs-string">"https://myohpmrepo.com/repos/ohpm/@test/package1/-/@test/package1-1.0.0.har"</span></li><li>      }</li><li>    },</li><li>    <span class="hljs-string">"2.0.0"</span>: {</li><li>      <span class="hljs-string">"name"</span>: <span class="hljs-string">"@test/package1"</span>,</li><li>      <span class="hljs-string">"version"</span>: <span class="hljs-string">"2.0.0"</span>,</li><li>      <span class="hljs-string">"description"</span>: <span class="hljs-string">"Please describe the basic information."</span>,</li><li>      <span class="hljs-string">"main"</span>: <span class="hljs-string">"Index.ets"</span>,</li><li>      <span class="hljs-string">"author"</span>: {</li><li>        <span class="hljs-string">"name"</span>: <span class="hljs-string">"apple11"</span>,</li><li>        <span class="hljs-string">"url"</span>: <span class="hljs-string">""</span>,</li><li>        <span class="hljs-string">"email"</span>: <span class="hljs-string">""</span></li><li>      },</li><li>      <span class="hljs-string">"license"</span>: <span class="hljs-string">"Apache-2.0"</span>,</li><li>      <span class="hljs-string">"dependencies"</span>: {</li><li>      },</li><li>      <span class="hljs-string">"artifactType"</span>: <span class="hljs-string">"original"</span>,</li><li>      <span class="hljs-string">"_nodeVersion"</span>: <span class="hljs-string">"20.14.0"</span>,</li><li>      <span class="hljs-string">"_ohpmVersion"</span>: <span class="hljs-string">"ohpm-repo-5.0.3-rc.2"</span>,</li><li>      <span class="hljs-string">"_id"</span>: <span class="hljs-string">"@test/package1@2.0.0"</span>,</li><li>      <span class="hljs-string">"dist"</span>: {</li><li>        <span class="hljs-string">"integrity"</span>: <span class="hljs-string">"sha512-6C47XiyVfUAljbS2d08LWEJE2dZHPFi6SNYEsR0REQVKUwlNKf6hNI8wKaI0dHCmDPhQPymOdGeTF+2E3fZWgQ=="</span>,</li><li>        <span class="hljs-string">"tarball"</span>: <span class="hljs-string">"https://10.70.95.74:8077/ohpm/@test/package1/-/@test/package1-2.0.0.har"</span></li><li>      }</li><li>    }</li><li>  },</li><li>  <span class="hljs-string">"_rev"</span>: <span class="hljs-string">"2"</span>,</li><li>  <span class="hljs-string">"time"</span>: {</li><li>    <span class="hljs-string">"1.0.0"</span>: <span class="hljs-string">"2024-06-26T14:48:17.302+08:00"</span>,</li><li>    <span class="hljs-string">"created"</span>: <span class="hljs-string">"2024-06-26T14:48:17.302+08:00"</span>,</li><li>    <span class="hljs-string">"modified"</span>: <span class="hljs-string">"2024-06-26T14:48:27.785+08:00"</span>,</li><li>    <span class="hljs-string">"2.0.0"</span>: <span class="hljs-string">"2024-06-26T14:48:27.785+08:00"</span></li><li>  }</li><li>}</li></ol></pre></div></div> <div class="tiledSection"><h3 id="section14182914119" class="firsth2">metadata响应数据说明<i class="anchor-icon anchor-icon-link" anchorid="section14182914119" tips="复制节点链接"></i></h3></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p109391885347">响应数据中包含八个顶级字段，描述如下：</p>  <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000002268583698_table1388844114449" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row3888241124415"><th align="left" class="cellrowborder" id="mcps1.3.22.1.4.1.1" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p10822115094419">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.1.4.1.2" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p3822155044410">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.1.4.1.3" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p582212506443">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row4888184124410"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p5822145012442">_id</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p2822115034419">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p7822155013444">包名，并用作数据库的主键ID</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row42724510442"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p3822150134420">_rev</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p19822165054419">number</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p118221650194416">包的版本数量</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1588810413445"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p58221850154415">name</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p12822195064413">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p9822950104413">包名</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row6888124154419"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p682215011441">description</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p48223500440">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p5822125064416">包的描述</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row688954117442"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p118231450164413">dist-tags</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p158238507443">json</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p58236506444">包的所有标签信息</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row5889114144413"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1082315084416">versions</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p4823155014448">json</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p882385018440">包的所有版本数据</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row4889194117446"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p2823145044419">packageType</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1823125013440">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p182385034413">包的类型，详情见说明</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row78891641124420"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1582325094415">time</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p48231750124412">json</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p3823185014413">包的发布时间</p> </td> </tr>  </tbody></table></div> </div> <ol id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_ol104361135103410"><li id="zh-cn_topic_0000002268583698_li15436935173414">name: 包名，可以包含组织名称，比如@myscop/myhsplib。</li><li id="zh-cn_topic_0000002268583698_li15698181115915">dist-tags: 描述包的标签与包具体版本的映射关系，每一个包都有一个latest标签维护当前最大版本。</li><li id="li15367192619159">packageType（可选）: 描述包的类型，只有当请求的包为HSP包时，元数据中才存在packageType字段，且必须为InterfaceHar。</li><li id="zh-cn_topic_0000002268583698_li943643519346">time: 维护包所有版本的发布时间，其中created表示包的首个版本发布时间，modified表示包最后一个版本的发布时间。</li></ol> <p id="ZH-CN_TOPIC_0000002478173760__p3785134614116"></p> <p id="ZH-CN_TOPIC_0000002478173760__p25107474116"></p> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p42067339558">顶级字段中versions字段包含包的所有版本数据，描述如下：</p>  <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000002268583698_table1154704018435" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row854774064320"><th align="left" class="cellrowborder" id="mcps1.3.27.1.4.1.1" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p612492104417">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.27.1.4.1.2" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p61248210442">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.27.1.4.1.3" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p0124102154411">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row254714404433"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1712414211442">_id</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p14124192154410">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p61241427444">包名@包的版本号，如：@myscope/myhsplib@1.0.0</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row367114585434"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1212416234415">_nodeVersion</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p512412164417">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p512412215447">发布时使用的Node.js版本</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row195471240184315"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p5124029446">_ohpmVersion</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1812419215447">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p131242219446">发布时使用的ohpm客户端版本</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1454714074316"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1412472194419">name</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p912452114415">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p151241823447">包名</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row10547194012433"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p51247213441">version</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1912511215446">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p11125027444">包的版本号</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1754715405432"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p151254212440">description</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p181255244416">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1712532164413">包的描述</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1548340104317"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1212512184417">author</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p812516234412">json</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p51253214412">包的作者信息</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row15548840184314"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p31254204411">repository</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p11252219440">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p91251829443">包的源码仓库地址</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row654884011432"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p91259244416">license</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p51253294418">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p101251210441">包的项目开源许可证，详情见说明</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1548154013439"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p41258264416">packageType</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p9125727444">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1912511214410">包的类型，详情见说明</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row35481140134311"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p112515210444">dependencies</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p112562144412">json</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p201250215445">包的运行时依赖</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row3548174014310"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p13125172164410">devDependencies</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p11251214411">json</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p12126429443">包的开发态依赖</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row25481940154310"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p112610213442">dynamicDependencies</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1012614216444">json</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1812619214418">包的动态依赖，只针对HSP包</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row654994024317"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p71263214449">types</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p13126162184414">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p8126324442">包的类型声明文件</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row8549140134311"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p10126122174419">main</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p41261828449">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p131266234416">包的入口文件</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1454917408431"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1812620234414">dist</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p31261925446">json</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p151265216442">维护包的SSRI值及下载地址，详情见说明</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row10549340164319"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1212619216445">hspType</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p71261522446">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p17126152104416">HSP包的类型，详情见说明</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row11140621875"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p154875246716">compatibleSdkVersion</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1414022477">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1140927717">SDK版本</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1832716971"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p375212301872">compatibleSdkType</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p173277614717">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p19327164713">SDK类型</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row6181140279"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p58268461372">nativeComponents</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p15197401978">数组</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p181920401474">native so依赖配置</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row738510501676"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p84238454812">size</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p938618501970">num</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p2386105011715">包的大小</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row3169557688"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1846613218919">fileNum</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p790683514152">num</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p3169557580">包文件数量</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row738434173119"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p9624648153110">userName</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p638514111311">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p538510415319">获取metadata数据的用户名</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1570514733119"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1140015403119">userRole</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p117059470319">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p8705147163118">获取metadata数据的用户角色</p> </td> </tr>  </tbody></table></div> </div> <ol id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_ol113011131183514"><li id="zh-cn_topic_0000002268583698_li20301153119352">author: 描述包的作者信息，具体为：<ul id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_ul030113153517"><li id="zh-cn_topic_0000002268583698_li1630163193515">name: 必填，作者名字；</li><li id="zh-cn_topic_0000002268583698_li1630103120352">url: 可选，作者主页地址；</li><li id="zh-cn_topic_0000002268583698_li18301143114350">email: 可选，作者联系邮箱。</li></ul> </li><li id="zh-cn_topic_0000002268583698_li183014318354">license: 当前项目的开源许可证。遵循<a href="https://spdx.org/licenses/" target="_blank">spdx license</a>规范。许可证若为GPL，repository建议不为空。</li><li id="zh-cn_topic_0000002268583698_li43012312355">packageType: 描述包的类型，只有当请求的包为HSP包时，元数据中才存在packageType字段，且必须为InterfaceHar。</li><li id="zh-cn_topic_0000002268583698_li183021531143517">hspType: 描述HSP包的类型，当packageType为InterfaceHar时，需要存在hspType字段，目前hspType只支持应用内HSP(bundle_app)。</li><li id="zh-cn_topic_0000002268583698_li13021331193515">types: 指定包类型定义的文件名。当用ArkTs定义新的类型，需要提供给其他开发者使用，则需要指定其声明文件，一般为.d.ts和.d.ets文件，当包为HSP包时，该文件必须存在。</li><li id="zh-cn_topic_0000002268583698_li113025313358">main: 指定加载的入口文件，当types不存在时，main必须存在。</li><li id="zh-cn_topic_0000002268583698_li1430263110354">dist: 维护包的SSRI值及下载地址，具体字段有：<ul id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_ul53021231133519"><li id="zh-cn_topic_0000002268583698_li103021531123510">integrity: .har文件的<a href="https://w3c.github.io/webappsec/specs/subresourceintegrity/" target="_blank">SSRI</a>值，用于完整性校验；</li><li id="zh-cn_topic_0000002268583698_li53021731203514">tarball: .har文件的下载地址;</li><li id="zh-cn_topic_0000002268583698_li1930214315355">integrity_hsp: 当包hspType为bundle_app时，会存在.hsp后缀的文件，该字段为的.hsp文件的SSRI值；</li><li id="zh-cn_topic_0000002268583698_li17302193123513">resolved_hsp: .hsp文件的下载地址。</li></ul> </li></ol> <div class="tiledSection"><h2 id="section1942812424530">Login<i class="anchor-icon anchor-icon-link" anchorid="section1942812424530" tips="复制节点链接"></i></h2></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p16256112733510">客户端登录，获得上传包，下架包和编辑标签tag时所需的token。</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen68941346173618" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">POST</span> &lt;<span class="hljs-title class_">router</span>-<span class="hljs-title class_">prefix</span>&gt;/<span class="hljs-variable">login</span></li></ol></pre></div></div>  <div class="tablenoborder"><div class="tbBox"><table id="table16723145171818" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__row3723184571812"><th align="left" class="cellrowborder" id="mcps1.3.32.1.5.1.1" valign="top" width="24.97%"><p id="ZH-CN_TOPIC_0000002478173760__p9723104521818">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.32.1.5.1.2" valign="top" width="25.03%"><p id="ZH-CN_TOPIC_0000002478173760__p1272334513180">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.32.1.5.1.3" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__p167237451188">必填项</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.32.1.5.1.4" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__p1372364512185">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__row147238458189"><td class="cellrowborder" valign="top" width="24.97%"><p id="ZH-CN_TOPIC_0000002478173760__p2723134516184">ohpm-repo仓库地址</p> </td> <td class="cellrowborder" valign="top" width="25.03%"><p id="ZH-CN_TOPIC_0000002478173760__p372317451180">string</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__p972311454186">是</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__p19723104514189">实际搭建的ohpm-repo仓库域名或IP地址</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__row102114771919"><td class="cellrowborder" valign="top" width="24.97%"><p id="ZH-CN_TOPIC_0000002478173760__p524458131917">repo_name</p> </td> <td class="cellrowborder" valign="top" width="25.03%"><p id="ZH-CN_TOPIC_0000002478173760__p1724416811914">string</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__p9244188101910">是</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__p1724448111914">指定访问的仓库名称</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p62141158153614"><strong>请求示例</strong>：</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen8795314370" data-highlighted="yes"><ol class="linenums"><li><strong><span class="hljs-variable">请求方法</span></strong>：<span class="hljs-variable">POST</span></li><li><span class="hljs-comment">// http://myohpmrepo.com：ohpm-repo仓库地址，开发过程中需要替换为实际搭建的ohpm-repo仓库域名或IP地址。</span></li><li><span class="hljs-comment">// repos：固定字段。</span></li><li><span class="hljs-comment">// ohpm：指定访问的仓库名称，开发过程中需要替换为实际使用的仓库。</span></li><li><strong><span class="hljs-variable">请求</span> <span class="hljs-variable">URL</span>：<span class="hljs-variable">http</span>:<span class="hljs-comment">//myohpmrepo.com/repos/ohpm/login</span></strong><span class="hljs-comment">  </span></li><li><strong><span class="hljs-variable">请求头</span></strong>：</li><li><span class="hljs-variable">command</span>: <span class="hljs-title class_">login</span>；</li><li><strong><span class="hljs-variable">请求体</span></strong>（<span class="hljs-variable">json格式内容</span>）：</li><li>{</li><li>  <span class="hljs-string">"publishId"</span>: <span class="hljs-string">"95115BAFDE"</span>,</li><li>  <span class="hljs-string">"timestamp"</span>: <span class="hljs-number">1702088629606</span>,</li><li>  <span class="hljs-string">"nonce"</span>: <span class="hljs-string">"e3b3d53f91d0488f9838c86e306ca9f5"</span>,</li><li>  <span class="hljs-string">"signature"</span>: <span class="hljs-string">"qXYUnUK8Quy95a..."</span>,</li><li>  <span class="hljs-string">"version"</span>: <span class="hljs-string">"v1"</span></li><li>}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p19558165215342">请求头包含四个字段，描述如下：</p>  <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000002268583698_table18701114763414" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1670134723413"><th align="left" class="cellrowborder" id="mcps1.3.36.1.4.1.1" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p2701124711343">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.36.1.4.1.2" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p670134743417">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.36.1.4.1.3" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p3701164743411">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row177028478349"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p070234733413">command</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p370204713413">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p27021547193416">命令的名称，选填</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p5851123303719">请求体包含五个字段，描述如下：</p>  <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000002268583698_table943674517211" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row20436145192117"><th align="left" class="cellrowborder" id="mcps1.3.38.1.4.1.1" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1558019554215">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.38.1.4.1.2" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p2580115515215">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.38.1.4.1.3" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p858055510210">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1436104517218"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p175801355152113">version</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p0580195510219">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1258025562111">协议版本，必选</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row202337545218"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1758025518216">publishId</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1058045510216">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1058035517210">发布码，必选</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1437645102110"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1758014553213">timestamp</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p65804552212">number</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p3580135516215">发布时间戳，必选</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row5437345122119"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p2580195517212">nonce</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p10580155142111">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p155816555217">随机数，必选</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row194373457217"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1158115557219">signature</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p105810550214">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1458145592119">签名值，具体见下述说明，必选</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p199919517377">1、publishId: 由ohpm-repo私仓生成的发布码，与用户绑定，每个用户的发布码是唯一的，在客户端的.ohpmrc文件中通过publish_id配置；</p> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p441555311377">2、timestamp: 时间戳，单位为毫秒；</p> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p153548556377">3、nonce: 客户端在登录时动态生成的uuidv4随机数；</p> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p98021046113713">4、signature: 客户端在登录时，将协议版本、发布码、发布时间戳和随机数以v{version}-{publishId}-{timestamp}-{nonce}格式组合而成，并使用私钥经RSA-SHA256算法签名而生成。</p> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p3589719133819"><strong>响应成功示例：</strong></p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen18860456103811" data-highlighted="yes"><ol class="linenums"><li>{</li><li>  <span class="hljs-string">"success"</span>: <span class="hljs-keyword">true</span>,</li><li>  <span class="hljs-string">"token"</span>: <span class="hljs-string">"7100c3f38dddf3cf8234...."</span></li><li>}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p2014355074312">成功响应体包含2个字段，描述如下：</p>  <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000002268583698_table151441850124318" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row71441350174315"><th align="left" class="cellrowborder" id="mcps1.3.46.1.4.1.1" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p414455034310">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.46.1.4.1.2" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1014410509434">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.46.1.4.1.3" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p214455017439">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row101445505435"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p2014475094318">success</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p6144250154316">boolean</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1214435015434">响应是否成功,值为true</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1914485004315"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p18144165084315">token</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p16144115016437">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p12144125012430">认证成功返回的token值</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p372582811109"><strong>响应失败示例：</strong></p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen172522891015" data-highlighted="yes"><ol class="linenums"><li>{</li><li>    <span class="hljs-string">"success"</span>: <span class="hljs-keyword">false</span>,</li><li>    <span class="hljs-string">"error"</span>: <span class="hljs-string">"The timestamp is expired"</span></li><li>}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p17174112175114">失败响应体包含2个字段，描述如下：</p>  <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000002268583698_table01741921135117" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row617492116516"><th align="left" class="cellrowborder" id="mcps1.3.50.1.4.1.1" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p217402114517">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.50.1.4.1.2" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1917472116514">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.50.1.4.1.3" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p10174102145120">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row7174142115114"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1217414218518">success</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p41751621145112">boolean</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p6175112112515">响应是否成功，值为false</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row188613167116"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p686261618119">error</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p2686192211112">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1084105012117">认证失败返回的错误原因</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p25978113396">token: 使用公私钥认证时，ohpm-repo生成的认证信息。认证信息必须验证有效，才有权限执行上传包、下架包和编辑标签tag等操作。</p> </div></div></div> <div class="tiledSection"><h2 id="section556429135411">Publish<i class="anchor-icon anchor-icon-link" anchorid="section556429135411" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section444511511524" class="firsth2">上传一个HAR/HSP包到ohpm-repo私仓中<i class="anchor-icon anchor-icon-link" anchorid="section444511511524" tips="复制节点链接"></i></h3></div> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen5204182523914" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">PUT</span> &lt;<span class="hljs-title class_">router</span>-<span class="hljs-title class_">prefix</span>&gt;/:<span class="hljs-title class_">package_name</span></li></ol></pre></div></div>  <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000002268583698_table1820864219236" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row62085421237"><th align="left" class="cellrowborder" id="mcps1.3.55.1.5.1.1" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1261414516234">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.55.1.5.1.2" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p461454520236">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.55.1.5.1.3" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p136141245152311">必填项</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.55.1.5.1.4" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p96141545132310">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1020904220235"><td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p6614174552313">package_name</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1761464511233">string</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p186141045172314">是</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p20614204514235">包名</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p105931948143911">若包名中包含组织名，则package_name为包名进行url编码后的结果，比如：当包名为@myscope/mypkg时，package_name为@myscope%2fmypkg。</p> </div></div></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p183804554393">请求示例（以上传一个应用内的HSP包@myscope/myhsppkg为例）：</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen105115174015" data-highlighted="yes"><ol class="linenums"><li><strong><span class="hljs-variable">请求方法</span></strong>：<span class="hljs-variable">PUT</span></li><li><span class="hljs-comment">// http://myohpmrepo.com：ohpm-repo仓库地址，开发过程中需要替换为实际搭建的ohpm-repo仓库域名或IP地址。</span></li><li><span class="hljs-comment">// repos：固定字段。</span></li><li><span class="hljs-comment">// ohpm：指定访问的仓库名称，开发过程中需要替换为实际使用的仓库。</span></li><li><strong><span class="hljs-variable">请求</span> <span class="hljs-variable">URL</span>：<span class="hljs-variable">http</span>:<span class="hljs-comment">//myohpmrepo.com/repos/ohpm/@myscope%2fmypkg</span></strong><span class="hljs-comment">  </span></li><li><strong><span class="hljs-variable">请求头</span></strong>：</li><li><span class="hljs-variable">command</span>: <span class="hljs-title class_">publish</span></li><li><span class="hljs-variable">Authorization</span>：&lt;<span class="hljs-title class_">token</span>&gt;</li><li><strong><span class="hljs-variable">请求体</span></strong>（<span class="hljs-variable">包的metadata数据</span>，<span class="hljs-variable">由ohpm客户端生成</span>）：</li><li>{</li><li>  <span class="hljs-string">"_id"</span>: <span class="hljs-string">"@myscope/myhsppkg"</span>,</li><li>  <span class="hljs-string">"name"</span>: <span class="hljs-string">"@myscope/myhsppkg"</span>,</li><li>  <span class="hljs-string">"packageType"</span>: <span class="hljs-string">"InterfaceHar"</span>,</li><li>  <span class="hljs-string">"description"</span>: <span class="hljs-string">"Please describe the basic information."</span>,</li><li>  <span class="hljs-string">"dist-tags"</span>: {</li><li>    <span class="hljs-string">"latest"</span>: <span class="hljs-string">"1.0.4"</span></li><li>  },</li><li>  <span class="hljs-string">"versions"</span>: {</li><li>    <span class="hljs-string">"1.0.4"</span>: {</li><li>      <span class="hljs-string">"name"</span>: <span class="hljs-string">"@myscope/myhsppkg"</span>,</li><li>      <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.0.4"</span>,</li><li>      <span class="hljs-string">"description"</span>: <span class="hljs-string">"Please describe the basic information."</span>,</li><li>      <span class="hljs-string">"author"</span>: {</li><li>        <span class="hljs-string">"name"</span>: <span class="hljs-string">"fsq"</span>,</li><li>        <span class="hljs-string">"url"</span>: <span class="hljs-string">""</span>,</li><li>        <span class="hljs-string">"email"</span>: <span class="hljs-string">""</span></li><li>      },</li><li>      <span class="hljs-string">"license"</span>: <span class="hljs-string">"Apache-2.0"</span>,</li><li>      <span class="hljs-string">"packageType"</span>: <span class="hljs-string">"InterfaceHar"</span>,</li><li>      <span class="hljs-string">"dependencies"</span>: {</li><li>        <span class="hljs-string">"pkga"</span>: <span class="hljs-string">"1.0.0"</span>,</li><li>        <span class="hljs-string">"pkgb"</span>: <span class="hljs-string">"1.0.0"</span></li><li>      },</li><li>      <span class="hljs-string">"types"</span>: <span class="hljs-string">"Index.d.ets"</span>,</li><li>      <span class="hljs-string">"_nodeVersion"</span>: <span class="hljs-string">"16.20.1"</span>,</li><li>      <span class="hljs-string">"_ohpmVersion"</span>: <span class="hljs-string">"1.4.0"</span>,</li><li>      <span class="hljs-string">"_id"</span>: <span class="hljs-string">"@myscope/myhsppkg@1.0.4"</span>,</li><li>      <span class="hljs-string">"dist"</span>: {</li><li>        <span class="hljs-string">"integrity"</span>: <span class="hljs-string">"sha512-0bHCBS2JtlyX7Gq5q6tbO2eRRbj0RO2cAAagC/K6/zmDZHPGrnIScDkD3Yjip8I/YWq7VbY7HYlHXtcLApILVg=="</span>,</li><li>        <span class="hljs-string">"tarball"</span>: <span class="hljs-string">"https://localhost:8081/repos/ohpm/@myscope/myhsppkg/-/@myscope/myhsppkg-1.0.4.har"</span>,</li><li>        <span class="hljs-string">"integrity_hsp"</span>: <span class="hljs-string">"sha512-3B7KlJFEHuQ9X+Zxl+oRVIL8CCczaPu2nEGQvXrULrViXuY80Ld2CnkQEVFfd/eZK6DNAFTS1wBhqOTLYtOqow=="</span></li><li>      }</li><li>    }</li><li>  },</li><li>  <span class="hljs-string">"_attachments"</span>: {</li><li>    <span class="hljs-string">"@test/ohpmhsplib-1.0.4.har"</span>: {</li><li>      <span class="hljs-string">"content_type"</span>: <span class="hljs-string">"application/octet-stream"</span>,</li><li>      <span class="hljs-string">"data"</span>: <span class="hljs-string">"H4sIAAAAAAAACu1ZUU..."</span>,</li><li>      <span class="hljs-string">"length"</span>: <span class="hljs-number">858</span></li><li>    },</li><li>    <span class="hljs-string">"@test/ohpmhsplib-1.0.4.hsp"</span>: {</li><li>      <span class="hljs-string">"content_type"</span>: <span class="hljs-string">"application/octet-stream"</span>,</li><li>      <span class="hljs-string">"data"</span>: <span class="hljs-string">"UEsDBAoAAAgAAAAAIU5v..."</span>,</li><li>      <span class="hljs-string">"length"</span>: <span class="hljs-number">29185</span></li><li>    }</li><li>  },</li><li>  <span class="hljs-string">"hspType"</span>: <span class="hljs-string">"bundle_app"</span></li><li>}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p18961124795611">请求头包含五个字段，描述如下：</p>  <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000002268583698_table1961747185615" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row996114718569"><th align="left" class="cellrowborder" id="mcps1.3.60.1.4.1.1" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p14961647165616">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.60.1.4.1.2" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p15961647165614">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.60.1.4.1.3" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p12961144795613">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row14961194715567"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p196114755615">command</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p15961174795616">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p14961247125612">命令的名称，选填</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row795981685713"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1795991685712">Authorization</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p49595161574">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p195931611579">认证信息，AccessToken的值或者调用login接口的token值，必填</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1659817203143">请求体数据中包含八个顶级字段，描述如下：</p>  <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000002268583698_table459912001418" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row11599162013143"><th align="left" class="cellrowborder" id="mcps1.3.62.1.4.1.1" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p17599182012146">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.62.1.4.1.2" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p135991820181412">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.62.1.4.1.3" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p659918201149">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row55991420141414"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p175991320151410">_id</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1259942014146">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p359942014148">包名，并用作数据库的主键ID</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row0599102031416"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p16599172051410">name</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1859952021411">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1859912001410">包名</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row55991320121411"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p45992204148">description</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p16599102017146">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1559911201143">包的描述</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1260014209143"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1760016207144">dist-tags</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p196001320161411">json</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p136001020161410">包的所有标签信息</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row060082061410"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p96003204145">versions</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p15600192018142">json</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p136001620131418">包的所有版本数据</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row18600182014145"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p360052019148">packageType</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1960020200145">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p360042017145">包的类型，详情见说明</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row11875016102119"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p18875016192114">_attachments</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p13691421152111">json</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p3875616162117">待发布包的包数据信息</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row47408572225"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p187996586226">hspType</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p15740165711226">json</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p67401057152211">hsp包的类型</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ol id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_ol66701056114010"><li id="zh-cn_topic_0000002268583698_li1211216231212">当上传的包为应用内HSP包时，包格式为tgz格式，内部包含.har及.hsp两个文件，且在元数据的_attachments部分会包含这两个文件。</li><li id="zh-cn_topic_0000002268583698_li86701156124016">当上传的包为HAR包，包格式为.har格式。</li><li id="zh-cn_topic_0000002268583698_li17670185619401">当上传HSP包时，提交的元数据中会存在packageType字段，且为InterfaceHar。</li><li id="zh-cn_topic_0000002268583698_li067055615402">当上传的包为应用内HSP包时，提交的元数据中version的dist域中存在integrity_hsp字段，表示HSP部分的SSRI值。</li></ol> </div></div></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p18494124703817"><strong>成功响应体示例：</strong></p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen18267193935916" data-highlighted="yes"><ol class="linenums"><li>{</li><li>    <span class="hljs-string">"code"</span>: <span class="hljs-number">200</span>,</li><li>    <span class="hljs-string">"message"</span>: <span class="hljs-string">"success"</span>，</li><li>}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p135542047123813"><strong>失败响应体示例：</strong></p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen6558132613415" data-highlighted="yes"><ol class="linenums"><li>{</li><li>    <span class="hljs-string">"success"</span>: <span class="hljs-keyword">false</span>,</li><li>    <span class="hljs-string">"error"</span>: <span class="hljs-string">"&lt;error message&gt;"</span>，</li><li> }</li></ol></pre></div></div> <div class="tiledSection"><h3 id="section08863329310">流式上传一个HAR/HSP到ohpm-repo<i class="anchor-icon anchor-icon-link" anchorid="section08863329310" tips="复制节点链接"></i></h3></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p106787473388">ohpm客户端（5.0.1版本）和ohpm-repo（5.0.1版本）开始支持使用流式上传，当上传的三方包大小超过阈值（默认5M，可在.ohpmrc中自定义配置）时，ohpm会优先调用流式上传接口进行上传。</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen898351619425" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">POST</span> &lt;<span class="hljs-title class_">router</span>-<span class="hljs-title class_">prefix</span>&gt;/<span class="hljs-variable">stream</span>/:<span class="hljs-title class_">package_name</span></li></ol></pre></div></div>  <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000002268583698_table134691720142414" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row13469152082415"><th align="left" class="cellrowborder" id="mcps1.3.71.1.5.1.1" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p3351152319244">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.71.1.5.1.2" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p235132362413">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.71.1.5.1.3" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1335112237246">必填项</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.71.1.5.1.4" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p4351142316242">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1646942062419"><td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p183521023192419">package_name</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p20352823142417">string</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p335282312418">是</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p173521523112412">包名。若包名中包含组织名，则package_name为包名进行url编码后的结果，比如：当包名为@myscope/mypkg时，package_name为@myscope%2fmypkg。</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1567185917438"><strong>请求示例</strong>（以上传一个应用内的HSP包@myscope/myhsppkg为例）：</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen16132324161419" data-highlighted="yes"><ol class="linenums"><li><strong><span class="hljs-variable">请求方法</span></strong>：<span class="hljs-variable">POST</span></li><li><span class="hljs-comment">// http://myohpmrepo.com：ohpm-repo仓库地址，开发过程中需要替换为实际搭建的ohpm-repo仓库域名或IP地址。</span></li><li><span class="hljs-comment">// repos：固定字段。</span></li><li><span class="hljs-comment">// ohpm：指定访问的仓库名称，开发过程中需要替换为实际使用的仓库。</span></li><li><strong><span class="hljs-variable">请求</span> <span class="hljs-variable">URL</span>：<span class="hljs-variable">http</span>:<span class="hljs-comment">//myohpmrepo.com/repos/ohpm/stream/@myscope%2fmypkg</span></strong><span class="hljs-comment">  </span></li><li><strong><span class="hljs-variable">请求头</span></strong>：</li><li><span class="hljs-variable">command</span>: <span class="hljs-title class_">publish</span></li><li><span class="hljs-variable">Authorization</span>：&lt;<span class="hljs-title class_">token</span>&gt;</li><li><strong><span class="hljs-variable">请求体</span></strong>：<span class="hljs-variable">formData数据格式</span>，<span class="hljs-variable">由两部分组成</span>：</li><li><span class="hljs-number">1</span>）<span class="hljs-variable">metadata</span>=&lt;<span class="hljs-title class_">file</span>.<span class="hljs-title class_">json</span>&gt;：<span class="hljs-variable">包的元数据</span></li><li><span class="hljs-number">2</span>）<span class="hljs-variable">pkg_stream</span>=&lt;@<span class="hljs-title class_">hsp</span>.<span class="hljs-title class_">tgz</span>;<span class="hljs-title class_">application</span>/<span class="hljs-title class_">octet</span>-<span class="hljs-title class_">stream</span>&gt;：<span class="hljs-variable">待上传包的文件流数据</span></li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173760__p4555182211715"></p> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p14711122444">请求示例中请求体的包元数据内容如下所示：</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen1921835154416" data-highlighted="yes"><ol class="linenums"><li>{</li><li>  <span class="hljs-string">"_id"</span>: <span class="hljs-string">"@myscope/myhsppkg"</span>,</li><li>  <span class="hljs-string">"name"</span>: <span class="hljs-string">"@myscope/myhsppkg"</span>,</li><li>  <span class="hljs-string">"packageType"</span>: <span class="hljs-string">"InterfaceHar"</span>,</li><li>  <span class="hljs-string">"description"</span>: <span class="hljs-string">"Please describe the basic information."</span>,</li><li>  <span class="hljs-string">"dist-tags"</span>: {</li><li>    <span class="hljs-string">"latest"</span>: <span class="hljs-string">"1.0.4"</span></li><li>  },</li><li>  <span class="hljs-string">"versions"</span>: {</li><li>    <span class="hljs-string">"1.0.4"</span>: {</li><li>      <span class="hljs-string">"name"</span>: <span class="hljs-string">"@myscope/myhsppkg"</span>,</li><li>      <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.0.4"</span>,</li><li>      <span class="hljs-string">"description"</span>: <span class="hljs-string">"Please describe the basic information."</span>,</li><li>      <span class="hljs-string">"author"</span>: {</li><li>        <span class="hljs-string">"name"</span>: <span class="hljs-string">"fsq"</span>,</li><li>        <span class="hljs-string">"url"</span>: <span class="hljs-string">""</span>,</li><li>        <span class="hljs-string">"email"</span>: <span class="hljs-string">""</span></li><li>      },</li><li>      <span class="hljs-string">"license"</span>: <span class="hljs-string">"Apache-2.0"</span>,</li><li>      <span class="hljs-string">"packageType"</span>: <span class="hljs-string">"InterfaceHar"</span>,</li><li>      <span class="hljs-string">"dependencies"</span>: {</li><li>        <span class="hljs-string">"pkga"</span>: <span class="hljs-string">"1.0.0"</span>,</li><li>        <span class="hljs-string">"pkgb"</span>: <span class="hljs-string">"1.0.0"</span></li><li>      },</li><li>      <span class="hljs-string">"types"</span>: <span class="hljs-string">"Index.d.ets"</span>,</li><li>      <span class="hljs-string">"_nodeVersion"</span>: <span class="hljs-string">"16.20.1"</span>,</li><li>      <span class="hljs-string">"_ohpmVersion"</span>: <span class="hljs-string">"1.4.0"</span>,</li><li>      <span class="hljs-string">"_id"</span>: <span class="hljs-string">"@myscope/myhsppkg@1.0.4"</span>,</li><li>      <span class="hljs-string">"dist"</span>: {</li><li>        <span class="hljs-string">"integrity"</span>: <span class="hljs-string">"sha512-0bHCBS2JtlyX7Gq5q6tbO2eRRbj0RO2cAAagC/K6/zmDZHPGrnIScDkD3Yjip8I/YWq7VbY7HYlHXtcLApILVg=="</span>,</li><li>        <span class="hljs-string">"tarball"</span>: <span class="hljs-string">"https://localhost:8081/repos/ohpm/@myscope/myhsppkg/-/@myscope/myhsppkg-1.0.4.har"</span>,</li><li>        <span class="hljs-string">"integrity_hsp"</span>: <span class="hljs-string">"sha512-3B7KlJFEHuQ9X+Zxl+oRVIL8CCczaPu2nEGQvXrULrViXuY80Ld2CnkQEVFfd/eZK6DNAFTS1wBhqOTLYtOqow=="</span></li><li>      }</li><li>    }</li><li>  },</li><li>  <span class="hljs-string">"hspType"</span>: <span class="hljs-string">"bundle_app"</span></li><li>   <span class="hljs-string">"pkg"</span>: <span class="hljs-string">"D:\\basicData\\har\\package.tgz"</span>,</li><li>   <span class="hljs-string">"isTgz"</span>: <span class="hljs-keyword">true</span></li><li>}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p174521199323">请求头包含五个字段，描述如下：</p>  <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000002268583698_table34526194322" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row4452151933214"><th align="left" class="cellrowborder" id="mcps1.3.78.1.4.1.1" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p94529196328">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.78.1.4.1.2" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p9452101913214">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.78.1.4.1.3" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p84521192322">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row745211192329"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p14521819133213">command</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p18452161912329">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1645211933212">命令的名称，选填</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row2453111993213"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1345315195326">authorization</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p14453181916325">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1045361963217">认证信息，AccessToken的值或者调用login接口的token值，必填</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p84531519123217">请求体的metadata数据中包含九个顶级字段，描述如下：</p>  <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000002268583698_table1545341912323" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row04530198325"><th align="left" class="cellrowborder" id="mcps1.3.80.1.4.1.1" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1045301953212">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.80.1.4.1.2" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1645381953211">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.80.1.4.1.3" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1453151917326">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row124539197324"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p16453319103214">_id</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p2453419103216">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p4453101933213">包名，并用作数据库的主键ID</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row6453131919324"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1945361913325">name</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p645341923219">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p124531519113210">包名</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1545312197321"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p04531719133218">description</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p204531019193217">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p745331923213">包的描述</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1445310194329"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p12453131913217">dist-tags</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1845311913210">json</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p94531219113217">包的所有标签信息</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1345313194328"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p184537198328">versions</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p154531419203214">json</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1845317193327">包的所有版本数据</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1453131963213"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p14531819123219">packageType</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p14454119203216">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p64546192327">包的类型，详情见说明</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row245411911329"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p0454141923216">hspType</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p164541919143218">json</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p13454121963220">hsp包的类型</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row6923121910411"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p16318192464115">pkg</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p3923101974119">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1963144910413">记录上传包的路径</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1273112394118"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p8773929104114">isTgz</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1427311239413">boolean</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p12469560416">记录是否是tgz包</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ol id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_ol1147213386455"><li id="zh-cn_topic_0000002268583698_li1472163810457">当上传的包为应用内HSP包时，包格式为tgz格式，内部包含.har及.hsp两个文件。</li><li id="zh-cn_topic_0000002268583698_li3472133818453">当上传的包为HAR包，包格式为.har格式。</li><li id="zh-cn_topic_0000002268583698_li547219380457">当上传HSP包时，提交的元数据中会存在packageType字段，且为InterfaceHar。</li><li id="zh-cn_topic_0000002268583698_li247216385456">当上传的包为应用内HSP包时，提交的元数据中version的dist域中存在integrity_hsp字段，表示HSP部分的SSRI值。</li></ol> </div></div></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p096015298327"><strong>成功响应体示例：</strong></p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen5960132993212" data-highlighted="yes"><ol class="linenums"><li>{</li><li>    <span class="hljs-string">"code"</span>: <span class="hljs-number">200</span>,</li><li>    <span class="hljs-string">"message"</span>: <span class="hljs-string">"success"</span></li><li>}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p89601529143210"><strong>失败响应体示例：</strong></p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen69601629123211" data-highlighted="yes"><ol class="linenums"><li>{</li><li>    <span class="hljs-string">"success"</span>: <span class="hljs-keyword">false</span>,</li><li>    <span class="hljs-string">"error"</span>: <span class="hljs-string">"&lt;error message&gt;"</span></li><li> }</li></ol></pre></div></div> <div class="tiledSection"><h2 id="section1569495619572">Unpublish<i class="anchor-icon anchor-icon-link" anchorid="section1569495619572" tips="复制节点链接"></i></h2></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p4375112164415">从ohpm-repo中下架一个HAR/HSP包 （下架一个包的某个版本，或是整个包）。</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen14618474464" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">DELETE</span> &lt;<span class="hljs-title class_">router</span>-<span class="hljs-title class_">prefix</span>&gt;/:<span class="hljs-title class_">package_name</span></li></ol></pre></div></div>  <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000002268583698_table9504175712243" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1050517573248"><th align="left" class="cellrowborder" id="mcps1.3.89.1.5.1.1" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p25051757152415">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.89.1.5.1.2" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p75056572246">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.89.1.5.1.3" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p250525712417">必填项</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.89.1.5.1.4" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p195051857202417">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1950535717248"><td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1250525742420">package_name</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p850555716243">string</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p35051157142417">是</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1850511577241">包名</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ol id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_ol1173019584719"><li id="zh-cn_topic_0000002268583698_li127301651479">若包名中包含组织名，则package_name为包名进行url编码后的结果，比如：当包名为@myscope/myhsppkg时，package_name为@myscope%2fmyhsppkg。</li><li id="zh-cn_topic_0000002268583698_li67308513479">若指定具体版本需要在请求体中加上&lt;version&gt;部分，比如：{"version":"1.0.0"}。</li><li id="zh-cn_topic_0000002268583698_li107304515470">若不指定具体版本，则表示下架该包所有版本。</li></ol> </div></div></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p81701616194720">请求示例：</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen94301237145814" data-highlighted="yes"><ol class="linenums"><li><strong><span class="hljs-variable">请求方法</span></strong>：<span class="hljs-variable">DELETE</span></li><li><span class="hljs-comment">// http://myohpmrepo.com：ohpm-repo仓库地址，开发过程中需要替换为实际搭建的ohpm-repo仓库域名或IP地址。</span></li><li><span class="hljs-comment">// repos：固定字段。</span></li><li><span class="hljs-comment">// ohpm：指定访问的仓库名称，开发过程中需要替换为实际使用的仓库。</span></li><li><strong><span class="hljs-variable">请求</span> <span class="hljs-variable">URL</span>：<span class="hljs-variable">http</span>:<span class="hljs-comment">//myohpmrepo.com/repos/ohpm/@myscope%2fmyhsppkg</span></strong><span class="hljs-comment">  </span></li><li><strong><span class="hljs-variable">请求头</span></strong>：</li><li><span class="hljs-variable">command</span>: <span class="hljs-title class_">unpublish</span></li><li><span class="hljs-variable">Authorization</span>：&lt;<span class="hljs-title class_">token</span>&gt;</li><li><strong><span class="hljs-variable">请求体</span></strong>：</li><li>{<span class="hljs-string">"version"</span>:<span class="hljs-string">"1.0.0"</span>}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1768084561413">请求头包含五个字段，描述如下：</p>  <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000002268583698_table1368094516148" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row968054531416"><th align="left" class="cellrowborder" id="mcps1.3.94.1.4.1.1" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1668010453143">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.94.1.4.1.2" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p156811145191411">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.94.1.4.1.3" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p146811445131410">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row156818453144"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p4681154519147">command</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p12681114518140">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p6681164521411">命令的名称，选填</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row9681154551412"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p2068112455145">Authorization</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p15681164541412">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p146811454144">认证信息，AccessToken的值或者调用login接口的token值，必填</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p652025211015"><strong>成功响应体示例：</strong></p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen1652014521808" data-highlighted="yes"><ol class="linenums"><li>{</li><li>    <span class="hljs-string">"code"</span>: <span class="hljs-number">200</span>,</li><li>    <span class="hljs-string">"message"</span>: <span class="hljs-string">"success"</span></li><li>}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p6520752904"><strong>失败响应体示例：</strong></p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen185201052104" data-highlighted="yes"><ol class="linenums"><li>{</li><li>    <span class="hljs-string">"success"</span>: <span class="hljs-keyword">false</span>,</li><li>    <span class="hljs-string">"error"</span>: <span class="hljs-string">"&lt;error message&gt;"</span></li><li> }</li></ol></pre></div></div> <div class="tiledSection"><h2 id="section127307517546">Ping<i class="anchor-icon anchor-icon-link" anchorid="section127307517546" tips="复制节点链接"></i></h2></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p657832164419">检测与ohpm-repo仓库的网络连通性。</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen61337582476" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">GET</span> &lt;<span class="hljs-title class_">router</span>-<span class="hljs-title class_">prefix</span>&gt;/-/<span class="hljs-variable">ping</span></li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1787153834711">请求示例：</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen107345324718" data-highlighted="yes"><ol class="linenums"><li><strong>请求方法</strong>：GET</li><li><span class="hljs-comment">// http://myohpmrepo.com：ohpm-repo仓库地址，开发过程中需要替换为实际搭建的ohpm-repo仓库域名或IP地址。</span></li><li><span class="hljs-comment">// repos：固定字段。</span></li><li><span class="hljs-comment">// ohpm：指定访问的仓库名称，开发过程中需要替换为实际使用的仓库。</span></li><li><strong>请求 URL：http:<span class="hljs-comment">//myohpmrepo.com/repos/ohpm/-/ping</span></strong></li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p546994112474">响应成功示例：</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen1352145910476" data-highlighted="yes"><ol class="linenums"><li>{</li><li>    <span class="hljs-string">"code"</span>: <span class="hljs-number">200</span>,</li><li>    <span class="hljs-string">"message"</span>: <span class="hljs-string">"success"</span></li><li>}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p53771736237">失败响应体示例：</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen203771036936" data-highlighted="yes"><ol class="linenums"><li>{</li><li>    <span class="hljs-string">"success"</span>: <span class="hljs-keyword">false</span>,</li><li>    <span class="hljs-string">"error"</span>: <span class="hljs-string">"&lt;error message&gt;"</span></li><li> }</li></ol></pre></div></div> <div class="tiledSection"><h2 id="section193711821155513">DistTags<i class="anchor-icon anchor-icon-link" anchorid="section193711821155513" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section160310219412" class="firsth2">新增tag<i class="anchor-icon anchor-icon-link" anchorid="section160310219412" tips="复制节点链接"></i></h3></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p181821124104818">为包添加tag。</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen579163018481" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">POST</span> &lt;<span class="hljs-title class_">router</span>-<span class="hljs-title class_">prefix</span>&gt;/-/<span class="hljs-keyword">package</span>/:<span class="hljs-title class_">package_name</span>/<span class="hljs-variable">dist</span>-<span class="hljs-variable">tags</span>/:<span class="hljs-title class_">tag</span></li></ol></pre></div></div>  <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000002268583698_table139012034124810" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row15902103410486"><th align="left" class="cellrowborder" id="mcps1.3.112.1.5.1.1" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p16783614486">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.112.1.5.1.2" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p177136144816">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.112.1.5.1.3" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p7713644816">必填项</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.112.1.5.1.4" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p187536184812">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1590223417483"><td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1888368484">package_name</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1581236164814">string</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p18811363482">是</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p188193674810">包名</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row16902133415487"><td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p7853615488">tag</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p188103604816">string</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p14853684817">是</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p188336194816">标签名</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p774874534811">若包名中包含组织名，则package_name为包名进行url编码后的结果，比如：当包名为@myscope/mypkg时，package_name为@myscope%2fmypkg。</p> </div></div></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p12585115094813">请求示例（为包@myscope/myhsppkg@1.0.0增加标签（tag）test）：</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen126079312412" data-highlighted="yes"><ol class="linenums"><li><strong><span class="hljs-variable">请求方法</span></strong>：<span class="hljs-variable">POST</span></li><li><span class="hljs-comment">// http://myohpmrepo.com：ohpm-repo仓库地址，开发过程中需要替换为实际搭建的ohpm-repo仓库域名或IP地址。</span></li><li><span class="hljs-comment">// repos：固定字段。</span></li><li><span class="hljs-comment">// ohpm：指定访问的仓库名称，开发过程中需要替换为实际使用的仓库。</span></li><li><strong><span class="hljs-variable">请求</span> <span class="hljs-variable">URL</span>：<span class="hljs-variable">http</span>:<span class="hljs-comment">//myohpmrepo.com/repos/ohpm/-/package/@myscope%2fmypkg/dist-tags/test</span></strong></li><li><strong><span class="hljs-variable">请求头</span></strong>：</li><li><span class="hljs-variable">command</span>: <span class="hljs-title class_">dist</span>-<span class="hljs-title class_">tags</span></li><li><span class="hljs-variable">Authorization</span>：&lt;<span class="hljs-title class_">token</span>&gt;</li><li><strong><span class="hljs-variable">请求体</span></strong>：</li><li>{<span class="hljs-string">"version"</span>:<span class="hljs-string">"1.0.0"</span>}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p5806185719146">请求头包含五个字段，描述如下：</p>  <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000002268583698_table1780615731414" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row168061357111417"><th align="left" class="cellrowborder" id="mcps1.3.117.1.4.1.1" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p15806757171410">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.117.1.4.1.2" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p0806157201417">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.117.1.4.1.3" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p18061957181417">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row13806957101417"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1880635731413">command</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1980635717149">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p13806115710143">命令的名称，选填</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row13807857191413"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p10807125714149">Authorization</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p38072057161410">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p18807145718140">认证信息，AccessToken的值或者调用login接口的token值，必填</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p471221301512">响应成功示例：</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen197121413201516" data-highlighted="yes"><ol class="linenums"><li>{</li><li>    <span class="hljs-string">"code"</span>: <span class="hljs-number">200</span>,</li><li>    <span class="hljs-string">"message"</span>: <span class="hljs-string">"success"</span></li><li>}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1071251361516">失败响应体示例：</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen971310135159" data-highlighted="yes"><ol class="linenums"><li>{</li><li>    <span class="hljs-string">"success"</span>: <span class="hljs-keyword">false</span>,</li><li>    <span class="hljs-string">"error"</span>: <span class="hljs-string">"&lt;error message&gt;"</span></li><li> }</li></ol></pre></div></div> <div class="tiledSection"><h3 id="section13381473412">更新tag<i class="anchor-icon anchor-icon-link" anchorid="section13381473412" tips="复制节点链接"></i></h3></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p29461958174814">修改包tag对应的版本号。</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen391114236491" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">PUT</span> &lt;<span class="hljs-title class_">router</span>-<span class="hljs-title class_">prefix</span>&gt;/-/<span class="hljs-keyword">package</span>/:<span class="hljs-title class_">package_name</span>/<span class="hljs-variable">dist</span>-<span class="hljs-variable">tags</span>/:<span class="hljs-title class_">tag</span></li></ol></pre></div></div>  <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000002268583698_table45331591496" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row253329124916"><th align="left" class="cellrowborder" id="mcps1.3.125.1.5.1.1" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1953449194919">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.125.1.5.1.2" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1253489114910">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.125.1.5.1.3" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p3534897497">必填项</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.125.1.5.1.4" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p3534169164914">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row453417917498"><td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1953410974912">package_name</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p35342954910">string</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1353429114919">是</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p105349918497">包名</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row195341291494"><td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1153410918494">tag</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1853410915498">string</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p35343994915">是</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p19534199194912">标签名</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p135174804916">请求示例（为包@myscope/myhsppkg修改标签（tag）test对应版本号为2.0.0）：</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen115902551658" data-highlighted="yes"><ol class="linenums"><li><strong><span class="hljs-variable">请求方法</span></strong>：<span class="hljs-variable">PUT</span></li><li><span class="hljs-comment">// http://myohpmrepo.com：ohpm-repo仓库地址，开发过程中需要替换为实际搭建的ohpm-repo仓库域名或IP地址。</span></li><li><span class="hljs-comment">// repos：固定字段。</span></li><li><span class="hljs-comment">// ohpm：指定访问的仓库名称，开发过程中需要替换为实际使用的仓库。</span></li><li><strong><span class="hljs-variable">请求</span> <span class="hljs-variable">URL</span>：<span class="hljs-variable">http</span>:<span class="hljs-comment">//myohpmrepo.com/repos/ohpm/-/package/@myscope%2fmypkg/dist-tags/test</span></strong></li><li><strong><span class="hljs-variable">请求头</span></strong>：</li><li><span class="hljs-variable">command</span>: <span class="hljs-title class_">dist</span>-<span class="hljs-title class_">tags</span></li><li><span class="hljs-variable">Authorization</span>：&lt;<span class="hljs-title class_">token</span>&gt;</li><li><strong><span class="hljs-variable">请求体</span></strong>：</li><li>{<span class="hljs-string">"version"</span>:<span class="hljs-string">"2.0.0"</span>}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p11118736191515">请求头包含五个字段，描述如下：</p>  <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000002268583698_table16118133615150" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row611812364159"><th align="left" class="cellrowborder" id="mcps1.3.129.1.4.1.1" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1311823611156">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.129.1.4.1.2" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p711823651512">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.129.1.4.1.3" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p3119183631510">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row0119236171515"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1811993681518">command</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p611912361158">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1011933671517">命令的名称，选填</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row412073618150"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1812017368159">Authorization</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p15120143610156">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p11121236181516">认证信息，AccessToken的值或者调用login接口的token值，必填</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p131211836161514"><strong>响应成功示例：</strong></p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen1212133618157" data-highlighted="yes"><ol class="linenums"><li>{</li><li>    <span class="hljs-string">"code"</span>: <span class="hljs-number">200</span>,</li><li>    <span class="hljs-string">"message"</span>: <span class="hljs-string">"success"</span></li><li>}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p131218361153"><strong>失败响应体示例：</strong></p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen91211236191512" data-highlighted="yes"><ol class="linenums"><li>{</li><li>    <span class="hljs-string">"success"</span>: <span class="hljs-keyword">false</span>,</li><li>    <span class="hljs-string">"error"</span>: <span class="hljs-string">"&lt;error message&gt;"</span></li><li> }</li></ol></pre></div></div> <div class="tiledSection"><h3 id="section1650017519516">删除tag<i class="anchor-icon anchor-icon-link" anchorid="section1650017519516" tips="复制节点链接"></i></h3></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p9523105184913">删除包的tag。</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen8429122313508" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">DELETE</span> &lt;<span class="hljs-title class_">router</span>-<span class="hljs-title class_">prefix</span>&gt;/-/<span class="hljs-keyword">package</span>/:<span class="hljs-title class_">package_name</span>/<span class="hljs-variable">dist</span>-<span class="hljs-variable">tags</span>/:<span class="hljs-title class_">tag</span></li></ol></pre></div></div>  <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000002268583698_table686503220491" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row138659323495"><th align="left" class="cellrowborder" id="mcps1.3.137.1.5.1.1" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1686513321498">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.137.1.5.1.2" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p14865163234917">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.137.1.5.1.3" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p148655323492">必填项</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.137.1.5.1.4" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p886583211494">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1486512327497"><td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p3866432134914">package_name</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p586693218493">string</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1286613224919">是</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1386614327492">包名</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row3866103215494"><td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p10866432174912">tag</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1866113244916">string</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p14866132164910">是</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p178661232184910">标签名</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p136784520509"><strong>请求示例</strong>（删除包@myscope/myhsppkg的标签（tag）test）：</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen5771123518616" data-highlighted="yes"><ol class="linenums"><li><strong><span class="hljs-variable">请求方法</span></strong>：<span class="hljs-variable">DELETE</span></li><li><span class="hljs-comment">// http://myohpmrepo.com：ohpm-repo仓库地址，开发过程中需要替换为实际搭建的ohpm-repo仓库域名或IP地址。</span></li><li><span class="hljs-comment">// repos：固定字段。</span></li><li><span class="hljs-comment">// ohpm：指定访问的仓库名称，开发过程中需要替换为实际使用的仓库。</span></li><li><strong><span class="hljs-variable">请求</span> <span class="hljs-variable">URL</span>：<span class="hljs-variable">http</span>:<span class="hljs-comment">//myohpmrepo.com/repos/ohpm/-/package/@myscope%2fmypkg/dist-tags/test</span></strong></li><li><strong><span class="hljs-variable">请求头</span></strong>：</li><li><span class="hljs-variable">command</span>: <span class="hljs-title class_">dist</span>-<span class="hljs-title class_">tags</span></li><li><span class="hljs-variable">Authorization</span>：&lt;<span class="hljs-title class_">token</span>&gt;</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p12922164117159">请求头包含五个字段，描述如下：</p>  <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000002268583698_table29221141141510" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row119221941141515"><th align="left" class="cellrowborder" id="mcps1.3.141.1.4.1.1" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p79221641161513">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.141.1.4.1.2" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1392274110152">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.141.1.4.1.3" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p179221241151510">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row792234161511"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p0922134101510">command</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p892216419153">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p14923104171514">命令的名称，选填</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row392454161518"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p7924104115150">Authorization</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1592415418151">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p149241341181516">认证信息，AccessToken的值或者调用login接口的token值，必填</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p392454115152"><strong>响应成功示例：</strong></p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen0924134115155" data-highlighted="yes"><ol class="linenums"><li>{</li><li>    <span class="hljs-string">"code"</span>: <span class="hljs-number">200</span>,</li><li>    <span class="hljs-string">"message"</span>: <span class="hljs-string">"success"</span></li><li>}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p13924941181512"><strong>失败响应体示例：</strong></p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_screen1692410416154" data-highlighted="yes"><ol class="linenums"><li>{</li><li>    <span class="hljs-string">"success"</span>: <span class="hljs-keyword">false</span>,</li><li>    <span class="hljs-string">"error"</span>: <span class="hljs-string">"&lt;error message&gt;"</span></li><li> }</li></ol></pre></div></div> <div class="tiledSection"><h2 id="section1661194781711">Versions<i class="anchor-icon anchor-icon-link" anchorid="section1661194781711" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002478173760__p270195217172">用于查看三方库版本列表，查询结果按照发布时间升序排列，以列表形式进行分页展示。</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__screen1079314165199" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">GET</span> &lt;<span class="hljs-title class_">router</span>-<span class="hljs-title class_">prefix</span>&gt;/:<span class="hljs-title class_">group</span>?/:<span class="hljs-title class_">package_name</span>/<span class="hljs-variable">versions</span>?<span class="hljs-variable">pageNum</span>=<span class="hljs-number">1</span>&amp;<span class="hljs-variable">pageSize</span>=<span class="hljs-number">10</span></li></ol></pre></div></div>  <div class="tablenoborder"><div class="tbBox"><table id="table187931016191912" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__row8793216141915"><th align="left" class="cellrowborder" id="mcps1.3.146.4.1.5.1.1" valign="top" width="24.97%"><p id="ZH-CN_TOPIC_0000002478173760__p6793191631913">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.146.4.1.5.1.2" valign="top" width="25.03%"><p id="ZH-CN_TOPIC_0000002478173760__p679301631910">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.146.4.1.5.1.3" valign="top" width="9.34%"><p id="ZH-CN_TOPIC_0000002478173760__p1579310165192">必填项</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.146.4.1.5.1.4" valign="top" width="40.660000000000004%"><p id="ZH-CN_TOPIC_0000002478173760__p1479313166190">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__row1979341615192"><td class="cellrowborder" valign="top" width="24.97%"><p id="ZH-CN_TOPIC_0000002478173760__p6793816141911">group</p> </td> <td class="cellrowborder" valign="top" width="25.03%"><p id="ZH-CN_TOPIC_0000002478173760__p127941516151910">string</p> </td> <td class="cellrowborder" valign="top" width="9.34%"><p id="ZH-CN_TOPIC_0000002478173760__p979451610194">否</p> </td> <td class="cellrowborder" valign="top" width="40.660000000000004%"><p id="ZH-CN_TOPIC_0000002478173760__p1779481641915">组织名，以@开头，比如@ohos</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__row67946168195"><td class="cellrowborder" valign="top" width="24.97%"><p id="ZH-CN_TOPIC_0000002478173760__p4794121617191">package_name</p> </td> <td class="cellrowborder" valign="top" width="25.03%"><p id="ZH-CN_TOPIC_0000002478173760__p1579410162199">string</p> </td> <td class="cellrowborder" valign="top" width="9.34%"><p id="ZH-CN_TOPIC_0000002478173760__p11794316171913">是</p> </td> <td class="cellrowborder" valign="top" width="40.660000000000004%"><p id="ZH-CN_TOPIC_0000002478173760__p1479417163198">包名 (不含组织部分)</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__row4852193363712"><td class="cellrowborder" valign="top" width="24.97%"><p id="ZH-CN_TOPIC_0000002478173760__p385293315372">pageNum</p> </td> <td class="cellrowborder" valign="top" width="25.03%"><p id="ZH-CN_TOPIC_0000002478173760__p3852113313713">number</p> </td> <td class="cellrowborder" valign="top" width="9.34%"><p id="ZH-CN_TOPIC_0000002478173760__p785253353719">否</p> </td> <td class="cellrowborder" valign="top" width="40.660000000000004%"><p id="ZH-CN_TOPIC_0000002478173760__p785315334375">页码，取值范围：[1, 10000]</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__row1814813387373"><td class="cellrowborder" valign="top" width="24.97%"><p id="ZH-CN_TOPIC_0000002478173760__p9148838193720">pageSize</p> </td> <td class="cellrowborder" valign="top" width="25.03%"><p id="ZH-CN_TOPIC_0000002478173760__p12148133883715">number</p> </td> <td class="cellrowborder" valign="top" width="9.34%"><p id="ZH-CN_TOPIC_0000002478173760__p161480385377">否</p> </td> <td class="cellrowborder" valign="top" width="40.660000000000004%"><p id="ZH-CN_TOPIC_0000002478173760__p161485388374">每页的版本数量，取值范围：[1, 500]</p> </td> </tr>  </tbody></table></div> </div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002478173760__p122081157111614">若包名中包含组织名，则package_name为包名进行url编码后的结果，比如：当包名为@myscope/mypkg时，package_name为@myscope%2fmypkg。</p> </div></div></div> <p id="ZH-CN_TOPIC_0000002478173760__p162081157191611">请求示例（以查看@myscope/myhsppkg包中的版本为例）：</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__screen1620855715167" data-highlighted="yes"><ol class="linenums"><li><strong><span class="hljs-variable">请求方法</span></strong>：<span class="hljs-variable">GET</span></li><li><span class="hljs-comment">// http://myohpmrepo.com：ohpm-repo仓库地址，开发过程中需要替换为实际搭建的ohpm-repo仓库域名或IP地址。</span></li><li><span class="hljs-comment">// repos：固定字段。</span></li><li><span class="hljs-comment">// ohpm：指定访问的仓库名称，开发过程中需要替换为实际使用的仓库。</span></li><li><strong><span class="hljs-variable">请求</span> <span class="hljs-variable">URL</span>：<span class="hljs-variable">http</span>:<span class="hljs-comment">//myohpmrepo.com/repos/ohpm/@myscope%2fmypkg/versions</span></strong><span class="hljs-comment">?pageNum=1&amp;pageSize=10</span></li><li><strong><span class="hljs-variable">请求头</span></strong>：</li><li><span class="hljs-variable">authorization</span>: <span class="hljs-title class_">NjJmNjFhODI3N2ZlNDUwMzlhYmUwNjQxZjQ3ZTNhZDU</span>=</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173760__p932062312297"></p> <p id="ZH-CN_TOPIC_0000002478173760__p158301557182811">请求头包含一个字段，描述如下：</p>  <div class="tablenoborder"><div class="tbBox"><table id="table5830135717286" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__row178301057122818"><th align="left" class="cellrowborder" id="mcps1.3.152.1.4.1.1" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__p883012576288">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.152.1.4.1.2" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__p16830657142812">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.152.1.4.1.3" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__p13830115713288">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__row19830195742810"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__p158301857132814">authorization</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__p1283017577289">string</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__p1883015572288">填写只读或者读写AccessToken，选填项，当ohpm-repo配置不支持匿名访问时必须填写。</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002478173760__p2083017578289"><strong>响应失败示例</strong>（以请求一个应用内的HAR包 @test/package1 为例）<strong>：</strong></p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__screen583018571282" data-highlighted="yes"><ol class="linenums"><li>{</li><li>    <span class="hljs-string">"code"</span>: <span class="hljs-number">1018</span>,</li><li>    <span class="hljs-string">"message"</span>: <span class="hljs-string">"package not found: @test/package1"</span></li><li>}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173760__p3830155710289">响应失败有两个字段，描述如下：</p>  <div class="tablenoborder"><div class="tbBox"><table id="table7830185716288" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__row8830857102814"><th align="left" class="cellrowborder" id="mcps1.3.156.1.5.1.1" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__p1083085713286">属性</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.156.1.5.1.2" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__p14830115782817">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.156.1.5.1.3" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__p178305577286">必填项</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.156.1.5.1.4" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__p7830205712810">描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__row1583010575281"><td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__p58311157122810">code</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__p0831105710286">number</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__p28311757112817">是</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__p28311757172811">响应失败错误码</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__row12831757142818"><td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__p198311572285">message</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__p1483115571287">string</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__p208311357112819">是</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002478173760__p3831125792813">响应失败错误信息</p> </td> </tr>  </tbody></table></div> </div> <div class="p" id="ZH-CN_TOPIC_0000002478173760__p14209125711164"><strong>响应成功示例</strong>：<div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__screen122091457121613" data-highlighted="yes"><ol class="linenums"><li>{</li><li>    <span class="hljs-string">"code"</span>: <span class="hljs-number">200</span>,</li><li>    <span class="hljs-string">"body"</span>: {</li><li>        <span class="hljs-string">"total"</span>: <span class="hljs-number">2</span>,</li><li>        <span class="hljs-string">"pageNum"</span>: <span class="hljs-number">1</span>,</li><li>        <span class="hljs-string">"pageSize"</span>: <span class="hljs-number">10</span>,</li><li>        <span class="hljs-string">"rows"</span>: [<span class="hljs-string">"1.0.1"</span>,<span class="hljs-string">"1.0.2"</span>],</li><li>        <span class="hljs-string">"pages"</span>: <span class="hljs-number">1</span></li><li>    } </li><li>}</li></ol></pre></div></div> </div> <p id="ZH-CN_TOPIC_0000002478173760__p7210457151612"><strong>失败响应体示例</strong>：</p> <div _ngcontent-ibp-c106="" class="highlight-div"><div _ngcontent-ibp-c106="" class="highlight-div-header"><div _ngcontent-ibp-c106="" class="highlight-div-header-left"><div _ngcontent-ibp-c106="" class="handle-button expand-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibp-c106="" class="highlight-div-header-right"><div _ngcontent-ibp-c106="" class="handle-button ai-button"></div><div _ngcontent-ibp-c106="" class="handle-button line-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibp-c106="" class="handle-button theme-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibp-c106="" class="handle-button copy-button"><div _ngcontent-ibp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173760__screen1021015701611" data-highlighted="yes"><ol class="linenums"><li>{</li><li>    <span class="hljs-string">"code"</span>: <span class="hljs-number">404</span>,</li><li>    <span class="hljs-string">"error"</span>: <span class="hljs-string">"&lt;error message&gt;"</span></li><li> }</li></ol></pre></div></div> <div class="tiledSection"><h2 id="section14900950356">仓库响应码说明<i class="anchor-icon anchor-icon-link" anchorid="section14900950356" tips="复制节点链接"></i></h2> <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000002268583698_table972412016503" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row97241700502"><th align="left" class="cellrowborder" id="mcps1.3.160.2.1.4.1.1" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p109150745017">响应码</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.160.2.1.4.1.2" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1391514725015">范围</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.160.2.1.4.1.3" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p19155718504">说明</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row6724150175019"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p6915473502">200</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p129152785011">仓库所有接口</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p20915147175013">成功</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row177247015504"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p10915778506">400</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p6915187155019">仓库所有接口</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p99151673503">客户端传参校验失败、登录失败</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row1772410055013"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p591511717504">401</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p6915976501"><a href="/consumer/cn/doc/harmonyos-guides/ide-interface-protocol#section556429135411">Publish</a>, <a href="/consumer/cn/doc/harmonyos-guides/ide-interface-protocol#section1569495619572">Unpublish</a>, <a href="/consumer/cn/doc/harmonyos-guides/ide-interface-protocol#section193711821155513">DistTags</a></p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1191518715506">认证失败</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row87241603507"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p691510711508">404</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p14916107145017">访问仓库不存在的接口</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1291611735016">接口不存在</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row572414015019"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p1991618719501">500</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p129161079504">仓库所有接口</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p991697185012">服务内部错误</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_row772511075017"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p109166755015">598</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p189164718505"><a href="/consumer/cn/doc/harmonyos-guides/ide-interface-protocol#section556429135411">Publish</a></p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p29161772505">当仓库上传接口返回的响应状态码为598时，ohpm 5.0.1及以上版本会尝试去重新上传</p> </td> </tr>  </tbody></table></div> </div> </div> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p id="ZH-CN_TOPIC_0000002478173760__zh-cn_topic_0000002268583698_p3900108195116">由于<a href="/consumer/cn/doc/harmonyos-guides/ide-interface-protocol#section08863329310">流式上传接口</a>在ohpm 5.0.1版本才开始支持，当ohpm调用该接口时，若返回的响应状态码为404时，ohpm客户端会再次调用<a href="/consumer/cn/doc/harmonyos-guides/ide-interface-protocol#section444511511524">上传接口</a>上传。为了保证与ohpm客户端的兼容性，请确保当访问仓库不存在的接口仓库的响应状态码为404。</p> </div></div></div> </div> <div></div></div>