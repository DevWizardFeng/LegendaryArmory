<h1 _ngcontent-qhu-c119="" class="doc-title ng-star-inserted" title="preferences数据库调试工具指导"> preferences数据库调试工具指导 </h1>

<div _ngcontent-qhu-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>当前开发者在使用preferences数据库进行开发调试和定位问题时，无法查看数据库文件中的内容信息，如元数据和用户数据等。</p> <p>为了提升开发者的工作效率，数据库调试工具支持开发者查看设备中的preference_kv数据库和preference_xml数据库内容。</p> <p>其中，preference_kv数据库对应的首选项存储模式为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-persistence-by-preferences#gskv存储" target="_blank">GSKV存储模式</a>；preference_xml数据库对应的首选项存储模式为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/data-persistence-by-preferences#xml存储" target="_blank">XML存储模式</a>。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>从HarmonyOS 6.0.0版本开始，支持使用preferences数据库调试工具。</p> </div></div></div> <div class="tiledSection"><h2 id="section161676343815">环境要求<i class="anchor-icon anchor-icon-link" anchorid="section161676343815" tips="复制节点链接"></i></h2><ul><li>在使用本工具前，开发者需要先获取<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/hdc#环境准备" target="_blank">hdc工具</a>，开启<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-developer-mode#section530763213432" target="_blank">开发者选项</a>，执行hdc shell。</li></ul> <ul><li>正常连接设备。</li></ul> </div> <div class="tiledSection"><h2 id="section2514129287">操作准备<i class="anchor-icon anchor-icon-link" anchorid="section2514129287" tips="复制节点链接"></i></h2><ul><li>在使用preferences调试工具之前，必须要先切换至目标调试应用路径下，再使用arkdata命令进入到preferences调试工具（需要使用arkdata配置相关参数打开preferences数据库，开库成功后才能使用preferences工具进行数据的增删改查）。<div class="p">arkdata命令支持的参数如下表所示： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.2.1.1.1.1.4.1.1" valign="top" width="15.090909090909092%"><p>参数</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.1.1.1.4.1.2" valign="top" width="21.373737373737374%"><p>参数值类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.1.1.1.4.1.3" valign="top" width="63.535353535353536%"><p>描述</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="15.090909090909092%"><p>-t</p> </td> <td class="cellrowborder" valign="top" width="21.373737373737374%"><p>字符串</p> </td> <td class="cellrowborder" valign="top" width="63.535353535353536%"><p>数据库类型，进入到对应的数据库调试工具， 取值范围：{preference_kv, preference_xml, vector}。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15.090909090909092%"><p>-f</p> </td> <td class="cellrowborder" valign="top" width="21.373737373737374%"><p>字符串</p> </td> <td class="cellrowborder" valign="top" width="63.535353535353536%"><p>数据库文件全路径，包含文件名， 路径不能以‘/’结尾。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15.090909090909092%"><p>-p</p> </td> <td class="cellrowborder" valign="top" width="21.373737373737374%"><p>整型</p> </td> <td class="cellrowborder" valign="top" width="63.535353535353536%"><p>数据库pagesize，数据库开库配置参数，代表存储的单页大小，默认值32，可取值为是4、8、16、32、64。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15.090909090909092%"><p>-c</p> </td> <td class="cellrowborder" valign="top" width="21.373737373737374%"><p>整型</p> </td> <td class="cellrowborder" valign="top" width="63.535353535353536%"><p>数据库cacheSize，数据库开库配置参数，即bufferPoolSize，代表内存缓存池大小， 默认值2048，可取值为2048和4096。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15.090909090909092%"><p>-h</p> </td> <td class="cellrowborder" valign="top" width="21.373737373737374%"><p>不涉及</p> </td> <td class="cellrowborder" valign="top" width="63.535353535353536%"><p>打印程序帮助信息。</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>preferences数据库调试工具-p和-c两个参数无效，数据库pagesize和cachesize，输入限定范围内的值时，直接使用默认值，默认值为32和2048，输入限定范围外的值时会报错。</p> </div></div></div> </div> <div _ngcontent-qhu-c106="" class="highlight-div"><div _ngcontent-qhu-c106="" class="highlight-div-header"><div _ngcontent-qhu-c106="" class="highlight-div-header-left"><div _ngcontent-qhu-c106="" class="handle-button expand-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qhu-c106="" class="highlight-div-header-right"><div _ngcontent-qhu-c106="" class="handle-button ai-button"></div><div _ngcontent-qhu-c106="" class="handle-button line-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qhu-c106="" class="handle-button theme-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qhu-c106="" class="handle-button copy-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qhu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">C</span>:\<span class="hljs-title class_">Users</span>\*****&gt;<span class="hljs-title class_">hdc</span> <span class="hljs-title class_">shell</span></li><li>$ <span class="hljs-variable">cd</span> /<span class="hljs-variable">data</span>/<span class="hljs-variable">app</span>/<span class="hljs-variable">el1</span>/<span class="hljs-number">100</span>/<span class="hljs-variable">base</span>/<span class="hljs-variable">com</span>.<span class="hljs-variable">test</span>.<span class="hljs-variable">myapplication</span>   <span class="hljs-comment">// 进入到目标调试应用路径下(当前路径为示例,开发者需自己获取调试应用路径)</span></li><li>$ <span class="hljs-variable">arkdata</span> -<span class="hljs-variable">t</span> <span class="hljs-variable">preference_kv</span>                           <span class="hljs-comment">// 缺省-f, 没有指定数据库文件，默认新建一个名字为arkdata的数据库，路径在当前工作目录的data/preference_kv目录下.  </span></li><li><span class="hljs-variable">Enter</span> <span class="hljs-string">".help"</span> <span class="hljs-keyword">for</span> <span class="hljs-variable">usage</span> <span class="hljs-variable">hints</span>. </li></ol></pre></div></div> <p>在非调试应用路径下，执行数据库开库操作时，缺少-f默认创建文件夹，在当前目录下创建data/preference_kv文件夹层级失败，具体报错如下：</p> <div _ngcontent-qhu-c106="" class="highlight-div"><div _ngcontent-qhu-c106="" class="highlight-div-header"><div _ngcontent-qhu-c106="" class="highlight-div-header-left"><div _ngcontent-qhu-c106="" class="handle-button expand-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qhu-c106="" class="highlight-div-header-right"><div _ngcontent-qhu-c106="" class="handle-button ai-button"></div><div _ngcontent-qhu-c106="" class="handle-button line-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qhu-c106="" class="handle-button theme-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qhu-c106="" class="handle-button copy-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qhu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">C</span>:\<span class="hljs-title class_">Users</span>\*****&gt;<span class="hljs-title class_">hdc</span> <span class="hljs-title class_">shell</span></li><li>$ <span class="hljs-variable">arkdata</span> -<span class="hljs-variable">t</span> <span class="hljs-variable">preference_kv</span></li><li>[<span class="hljs-variable">unsucc</span>]<span class="hljs-variable">Failed</span> <span class="hljs-variable">to</span> <span class="hljs-variable">create</span> <span class="hljs-variable">directory</span> ./<span class="hljs-variable">data</span>/<span class="hljs-variable">preference_kv</span> : <span class="hljs-title class_">Permission</span> <span class="hljs-title class_">denied</span></li></ol></pre></div></div> <p>在非调试应用路径下，执行数据库开库操作时，指定路径，db文件创建失败，具体报错如下：</p> <div _ngcontent-qhu-c106="" class="highlight-div"><div _ngcontent-qhu-c106="" class="highlight-div-header"><div _ngcontent-qhu-c106="" class="highlight-div-header-left"><div _ngcontent-qhu-c106="" class="handle-button expand-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qhu-c106="" class="highlight-div-header-right"><div _ngcontent-qhu-c106="" class="handle-button ai-button"></div><div _ngcontent-qhu-c106="" class="handle-button line-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qhu-c106="" class="handle-button theme-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qhu-c106="" class="handle-button copy-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qhu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-csharp" data-highlighted="yes"><ol class="linenums"><li>C:\Users\*****&gt;hdc shell</li><li>$ arkdata -t preference_kv -f ./preference_kv</li><li>[<span class="hljs-meta">GMDB SERVER</span>] [GMERR<span class="hljs-number">-1013000</span>] multi-process <span class="hljs-keyword">init</span> <span class="hljs-keyword">init</span> unsucc!</li><li>[<span class="hljs-meta">ERROR</span>] open db fail, ret = <span class="hljs-number">-5000.</span></li></ol></pre></div></div> <div class="p">preference_xml和preference_kv数据库同名不能交叉读写操作，不能混用，preference_kv打开preference_xml数据库会报错，preference_xml打开preference_kv数据库会损坏，具体报错如下：<div _ngcontent-qhu-c106="" class="highlight-div"><div _ngcontent-qhu-c106="" class="highlight-div-header"><div _ngcontent-qhu-c106="" class="highlight-div-header-left"><div _ngcontent-qhu-c106="" class="handle-button expand-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qhu-c106="" class="highlight-div-header-right"><div _ngcontent-qhu-c106="" class="handle-button ai-button"></div><div _ngcontent-qhu-c106="" class="handle-button line-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qhu-c106="" class="handle-button theme-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qhu-c106="" class="handle-button copy-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qhu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-shell" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">ls</span> ./data/preference_kv</span></li><li>arkdata       arkdata.ctrl.dwr  arkdata.redo  arkdata.undo</li><li>arkdata.ctrl  arkdata.map       arkdata.safe</li><li><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">ls</span> ./data/preference_xml/</span></li><li>arkdata  arkdata.lock</li><li><span class="hljs-meta prompt_">$ </span><span class="language-bash">arkdata -t preference_kv -f ./data/preference_xml/arkdata</span></li><li>[GMDB SERVER] [GMERR-1019003] open-mode check init unsucc!</li><li>[unsucc] open db fail, ret = -43000</li><li><span class="hljs-meta prompt_">$ </span><span class="language-bash">arkdata -t preference_xml -f ./data/preference_kv/arkdata</span></li><li>Enter ".help" for usage hints.</li><li><span class="hljs-meta prompt_">preference_xml&gt;</span><span class="language-bash">&gt;&gt; /data/temp/./data/preference_kv/arkdata:1: parser error : Start tag expected, <span class="hljs-string">'&lt;'</span> not found</span></li><li>^</li></ol></pre></div></div> </div> </li><li>可使用arkdata --help查看整个数据库的相关参数。<div _ngcontent-qhu-c106="" class="highlight-div"><div _ngcontent-qhu-c106="" class="highlight-div-header"><div _ngcontent-qhu-c106="" class="highlight-div-header-left"><div _ngcontent-qhu-c106="" class="handle-button expand-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qhu-c106="" class="highlight-div-header-right"><div _ngcontent-qhu-c106="" class="handle-button ai-button"></div><div _ngcontent-qhu-c106="" class="handle-button line-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qhu-c106="" class="handle-button theme-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qhu-c106="" class="handle-button copy-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qhu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">C</span>:\<span class="hljs-title class_">Users</span>\*****&gt;<span class="hljs-title class_">hdc</span> <span class="hljs-title class_">shell</span></li><li>$ <span class="hljs-variable">arkdata</span> --<span class="hljs-variable">help</span></li><li><span class="hljs-variable">USAGE</span></li><li>  <span class="hljs-variable">arkdata</span> [<span class="hljs-variable">option</span>]</li><li><span class="hljs-variable">OPTION</span></li><li>  -<span class="hljs-variable">t</span>|--<span class="hljs-keyword">type</span>      &lt;<span class="hljs-title class_">preference_kv</span> | <span class="hljs-title class_">preference_xml</span> | <span class="hljs-title class_">vector</span>&gt;, <span class="hljs-variable">it</span> <span class="hljs-keyword">is</span> <span class="hljs-variable">mandatory</span> </li><li>  -<span class="hljs-variable">f</span>|--<span class="hljs-title class_">file</span>      &lt;<span class="hljs-title class_">database</span> <span class="hljs-title class_">file</span> <span class="hljs-title class_">path</span>&gt; </li><li>  -<span class="hljs-variable">p</span>|--<span class="hljs-title class_">pageSize</span>  &lt;<span class="hljs-title class_">database</span> <span class="hljs-title class_">pageSize</span>&gt;  </li><li>  -<span class="hljs-variable">c</span>|--<span class="hljs-title class_">cacheSize</span> &lt;<span class="hljs-title class_">database</span> <span class="hljs-title class_">cacheSize</span>&gt;</li><li>  -<span class="hljs-variable">h</span>|--<span class="hljs-variable">help</span></li></ol></pre></div></div> </li></ul> </div> <div class="tiledSection"><h2 id="section163227171891">命令列表<i class="anchor-icon anchor-icon-link" anchorid="section163227171891" tips="复制节点链接"></i></h2><div class="p">preference_kv和preference_xml调试工具支持的命令如下表所示： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.2.1.1.3.1.1" valign="top" width="25.45%"><p>命令格式</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.1.3.1.2" valign="top" width="74.55000000000001%"><p>命令描述</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="25.45%"><p>.help</p> </td> <td class="cellrowborder" valign="top" width="74.55000000000001%"><p>显示帮助信息。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="25.45%"><p>.q | .quit</p> </td> <td class="cellrowborder" valign="top" width="74.55000000000001%"><p>退出数据库交互模式。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="25.45%"><p>get key:{key name}</p> </td> <td class="cellrowborder" valign="top" width="74.55000000000001%"><p>根据指定的key查询数据库。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="25.45%"><p>put key:{key name}</p> <p>value:{value}</p> </td> <td class="cellrowborder" valign="top" width="74.55000000000001%"><p>插入指定的键值对到数据库或者更新键值对。输入需要两行，第一行输入key，使用“key:”作为关键字，第二行输入value，使用“value:”作为关键字。</p> <p>例如：put key:123</p> <p>value:345</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="25.45%"><p>delete key:{key name}</p> </td> <td class="cellrowborder" valign="top" width="74.55000000000001%"><p>删除指定键值对。</p> <p>例如：delete key:123</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="25.45%"><p>delete</p> </td> <td class="cellrowborder" valign="top" width="74.55000000000001%"><p>删除表内所有内容。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="25.45%"><p>scan</p> </td> <td class="cellrowborder" valign="top" width="74.55000000000001%"><p>全表查询。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>preference_xml支持全表查询，preference_kv不支持全表查询。</p> </div></div></div> </td> </tr>  </tbody></table></div> </div> </div> </div> <div class="tiledSection"><h2 id="section01288291697">约束限制<i class="anchor-icon anchor-icon-link" anchorid="section01288291697" tips="复制节点链接"></i></h2><ul><li>数字默认为int类型，若以引号赋予数字值，将识别为string类型。</li><li>命令行输入数据仅支持string、number和boolean类型，其他类型将被转换为string类型。</li><li>由于hdc使用中文会显示乱码，因此数据库调试工具不支持中文。</li><li>支持的设备：Phone、PC/2in1。</li></ul> </div> <div class="tiledSection"><h2 id="section154297715341">命令的具体使用及示例<i class="anchor-icon anchor-icon-link" anchorid="section154297715341" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section14757123618127" class="firsth2">帮助命令（.help）<i class="anchor-icon anchor-icon-link" anchorid="section14757123618127" tips="复制节点链接"></i></h3><p>打开preference_kv或者preference_xml数据库后，使用帮助命令可以查看其支持的命令。</p> <div _ngcontent-qhu-c106="" class="highlight-div"><div _ngcontent-qhu-c106="" class="highlight-div-header"><div _ngcontent-qhu-c106="" class="highlight-div-header-left"><div _ngcontent-qhu-c106="" class="handle-button expand-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qhu-c106="" class="highlight-div-header-right"><div _ngcontent-qhu-c106="" class="handle-button ai-button"></div><div _ngcontent-qhu-c106="" class="handle-button line-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qhu-c106="" class="handle-button theme-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qhu-c106="" class="handle-button copy-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qhu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-shell" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta prompt_">preference_kv&gt;</span><span class="language-bash">&gt;&gt; .<span class="hljs-built_in">help</span></span></li></ol></pre></div></div> </div> <div _ngcontent-qhu-c106="" class="highlight-div"><div _ngcontent-qhu-c106="" class="highlight-div-header"><div _ngcontent-qhu-c106="" class="highlight-div-header-left"><div _ngcontent-qhu-c106="" class="handle-button expand-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qhu-c106="" class="highlight-div-header-right"><div _ngcontent-qhu-c106="" class="handle-button ai-button"></div><div _ngcontent-qhu-c106="" class="handle-button line-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qhu-c106="" class="handle-button theme-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qhu-c106="" class="handle-button copy-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qhu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-shell" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta prompt_">preference_xml&gt;</span><span class="language-bash">&gt;&gt; .<span class="hljs-built_in">help</span></span></li></ol></pre></div></div> <div class="tiledSection"><h3 id="section10569131191417">创建或打开已有的数据库<i class="anchor-icon anchor-icon-link" anchorid="section10569131191417" tips="复制节点链接"></i></h3><ol><li>执行hdc shell命令进入shell交互模式。</li><li>必须要先切换至目标调试应用路径下，再进入存在db文件的路径下，执行"arkdata -t  preference_kv -f perfdata"或者"arkdata -t  preference_xml -f perfdata"新建一个数据库。<div _ngcontent-qhu-c106="" class="highlight-div"><div _ngcontent-qhu-c106="" class="highlight-div-header"><div _ngcontent-qhu-c106="" class="highlight-div-header-left"><div _ngcontent-qhu-c106="" class="handle-button expand-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qhu-c106="" class="highlight-div-header-right"><div _ngcontent-qhu-c106="" class="handle-button ai-button"></div><div _ngcontent-qhu-c106="" class="handle-button line-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qhu-c106="" class="handle-button theme-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qhu-c106="" class="handle-button copy-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qhu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-shell" data-highlighted="yes"><ol class="linenums"><li>C:\Users\*****&gt;hdc shell</li><li><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">cd</span> /data/app/el1/100/database/com.test.myapplication   // 进入到目标调试应用路径下.(当前路径为示例,开发者需自己获取调试应用路径)</span></li><li><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">cd</span> entry/rdb/                                          // 需要进入到有db文件的路径下,保证有读写权限,才能有权限创建新数据库.</span></li><li><span class="hljs-meta prompt_">$ </span><span class="language-bash">arkdata -t preference_kv</span></li><li>Enter ".help" for usage hints.</li><li><span class="hljs-meta prompt_">preference_kv&gt;</span><span class="language-bash">&gt;&gt;.q</span></li><li><span class="hljs-meta prompt_">$ </span><span class="language-bash">arkdata -t preference_xml</span></li><li>Enter ".help" for usage hints.</li><li><span class="hljs-meta prompt_">preference_xml&gt;</span><span class="language-bash">&gt;&gt; put key:1                               // preference_xml需要put一条数据,内部才会触发创建数据库文件.</span></li><li> ...&gt;&gt;&gt; value:1</li><li><span class="hljs-meta prompt_">preference_xml&gt;</span><span class="language-bash">&gt;&gt; .q</span></li></ol></pre></div></div> </li><li>创建新的数据库时，系统会自动生成以下类型的文件， 标签debug_hap_data_file代表属于调试应用。<div _ngcontent-qhu-c106="" class="highlight-div"><div _ngcontent-qhu-c106="" class="highlight-div-header"><div _ngcontent-qhu-c106="" class="highlight-div-header-left"><div _ngcontent-qhu-c106="" class="handle-button expand-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qhu-c106="" class="highlight-div-header-right"><div _ngcontent-qhu-c106="" class="handle-button ai-button"></div><div _ngcontent-qhu-c106="" class="handle-button line-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qhu-c106="" class="handle-button theme-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qhu-c106="" class="handle-button copy-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qhu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li>$ <span class="hljs-variable">ls</span> -<span class="hljs-variable">lZ</span> ./<span class="hljs-variable">data</span>/<span class="hljs-variable">preference_kv</span>/</li><li><span class="hljs-variable">total</span> <span class="hljs-number">148</span></li><li>-<span class="hljs-variable">rw</span>-<span class="hljs-variable">rw</span>---- <span class="hljs-number">1</span> <span class="hljs-variable">shell</span> <span class="hljs-variable">shell</span> <span class="hljs-variable">u</span>:<span class="hljs-title class_">object_r</span>:<span class="hljs-title class_">debug_hap_data_file</span>:<span class="hljs-title class_">s0</span>  <span class="hljs-number">73728</span> <span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">12</span> <span class="hljs-number">20</span>:<span class="hljs-number">31</span> <span class="hljs-title class_">arkdata</span></li><li>-<span class="hljs-variable">rw</span>-<span class="hljs-variable">rw</span>---- <span class="hljs-number">1</span> <span class="hljs-variable">shell</span> <span class="hljs-variable">shell</span> <span class="hljs-variable">u</span>:<span class="hljs-title class_">object_r</span>:<span class="hljs-title class_">debug_hap_data_file</span>:<span class="hljs-title class_">s0</span>   <span class="hljs-number">4112</span> <span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">12</span> <span class="hljs-number">20</span>:<span class="hljs-number">31</span> <span class="hljs-title class_">arkdata</span>.<span class="hljs-title class_">ctrl</span></li><li>-<span class="hljs-variable">rw</span>-<span class="hljs-variable">rw</span>---- <span class="hljs-number">1</span> <span class="hljs-variable">shell</span> <span class="hljs-variable">shell</span> <span class="hljs-variable">u</span>:<span class="hljs-title class_">object_r</span>:<span class="hljs-title class_">debug_hap_data_file</span>:<span class="hljs-title class_">s0</span>  <span class="hljs-number">12304</span> <span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">12</span> <span class="hljs-number">20</span>:<span class="hljs-number">31</span> <span class="hljs-title class_">arkdata</span>.<span class="hljs-title class_">ctrl</span>.<span class="hljs-title class_">dwr</span></li><li>-<span class="hljs-variable">rw</span>-<span class="hljs-variable">rw</span>---- <span class="hljs-number">1</span> <span class="hljs-variable">shell</span> <span class="hljs-variable">shell</span> <span class="hljs-variable">u</span>:<span class="hljs-title class_">object_r</span>:<span class="hljs-title class_">debug_hap_data_file</span>:<span class="hljs-title class_">s0</span>      <span class="hljs-number">0</span> <span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">12</span> <span class="hljs-number">20</span>:<span class="hljs-number">31</span> <span class="hljs-title class_">arkdata</span>.<span class="hljs-title class_">map</span></li><li>-<span class="hljs-variable">rw</span>-<span class="hljs-variable">rw</span>---- <span class="hljs-number">1</span> <span class="hljs-variable">shell</span> <span class="hljs-variable">shell</span> <span class="hljs-variable">u</span>:<span class="hljs-title class_">object_r</span>:<span class="hljs-title class_">debug_hap_data_file</span>:<span class="hljs-title class_">s0</span>    <span class="hljs-number">512</span> <span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">12</span> <span class="hljs-number">20</span>:<span class="hljs-number">31</span> <span class="hljs-title class_">arkdata</span>.<span class="hljs-title class_">redo</span></li><li>-<span class="hljs-variable">rw</span>-<span class="hljs-variable">rw</span>---- <span class="hljs-number">1</span> <span class="hljs-variable">shell</span> <span class="hljs-variable">shell</span> <span class="hljs-variable">u</span>:<span class="hljs-title class_">object_r</span>:<span class="hljs-title class_">debug_hap_data_file</span>:<span class="hljs-title class_">s0</span>      <span class="hljs-number">8</span> <span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">12</span> <span class="hljs-number">20</span>:<span class="hljs-number">31</span> <span class="hljs-title class_">arkdata</span>.<span class="hljs-title class_">safe</span></li><li>-<span class="hljs-variable">rw</span>-<span class="hljs-variable">rw</span>---- <span class="hljs-number">1</span> <span class="hljs-variable">shell</span> <span class="hljs-variable">shell</span> <span class="hljs-variable">u</span>:<span class="hljs-title class_">object_r</span>:<span class="hljs-title class_">debug_hap_data_file</span>:<span class="hljs-title class_">s0</span>  <span class="hljs-number">16384</span> <span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">12</span> <span class="hljs-number">20</span>:<span class="hljs-number">31</span> <span class="hljs-title class_">arkdata</span>.<span class="hljs-title class_">undo</span></li><li>
</li><li>$ <span class="hljs-variable">ls</span> -<span class="hljs-variable">lZ</span> ./<span class="hljs-variable">data</span>/<span class="hljs-variable">preference_xml</span>/</li><li><span class="hljs-variable">total</span> <span class="hljs-number">12</span></li><li>-<span class="hljs-variable">rw</span>-<span class="hljs-variable">rw</span>---- <span class="hljs-number">1</span> <span class="hljs-variable">root</span> <span class="hljs-variable">ddms</span> <span class="hljs-variable">u</span>:<span class="hljs-title class_">object_r</span>:<span class="hljs-title class_">debug_hap_data_file</span>:<span class="hljs-title class_">s0</span>  <span class="hljs-number">105</span> <span class="hljs-number">2025</span>-<span class="hljs-number">09</span>-<span class="hljs-number">05</span> <span class="hljs-number">15</span>:<span class="hljs-number">11</span> <span class="hljs-title class_">arkdata</span></li><li>-<span class="hljs-variable">rw</span>-<span class="hljs-variable">rw</span>---- <span class="hljs-number">1</span> <span class="hljs-variable">root</span> <span class="hljs-variable">ddms</span> <span class="hljs-variable">u</span>:<span class="hljs-title class_">object_r</span>:<span class="hljs-title class_">debug_hap_data_file</span>:<span class="hljs-title class_">s0</span>    <span class="hljs-number">0</span> <span class="hljs-number">2025</span>-<span class="hljs-number">09</span>-<span class="hljs-number">05</span> <span class="hljs-number">15</span>:<span class="hljs-number">11</span> <span class="hljs-title class_">arkdata</span>.<span class="hljs-title class_">lock</span></li></ol></pre></div></div> </li><li>打开已有数据库。<div _ngcontent-qhu-c106="" class="highlight-div"><div _ngcontent-qhu-c106="" class="highlight-div-header"><div _ngcontent-qhu-c106="" class="highlight-div-header-left"><div _ngcontent-qhu-c106="" class="handle-button expand-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qhu-c106="" class="highlight-div-header-right"><div _ngcontent-qhu-c106="" class="handle-button ai-button"></div><div _ngcontent-qhu-c106="" class="handle-button line-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qhu-c106="" class="handle-button theme-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qhu-c106="" class="handle-button copy-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qhu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-shell" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta prompt_">$ </span><span class="language-bash">arkdata -t preference_kv -f ./data/preference_kv/arkdata</span></li><li>Enter ".help" for usage hints.</li><li><span class="hljs-meta prompt_">preference_kv&gt;</span><span class="language-bash">&gt;&gt;</span></li></ol></pre></div></div> </li></ol> </div> <div class="tiledSection"><h3 id="section7296103713337">插入数据<i class="anchor-icon anchor-icon-link" anchorid="section7296103713337" tips="复制节点链接"></i></h3><p>在preference_kv&gt;&gt;&gt;提示符下，可通过put命令插入指定键值对，显示结果如下：</p> <div _ngcontent-qhu-c106="" class="highlight-div"><div _ngcontent-qhu-c106="" class="highlight-div-header"><div _ngcontent-qhu-c106="" class="highlight-div-header-left"><div _ngcontent-qhu-c106="" class="handle-button expand-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qhu-c106="" class="highlight-div-header-right"><div _ngcontent-qhu-c106="" class="handle-button ai-button"></div><div _ngcontent-qhu-c106="" class="handle-button line-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qhu-c106="" class="handle-button theme-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qhu-c106="" class="handle-button copy-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qhu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">preference_kv</span>&gt;&gt;&gt; <span class="hljs-variable">put</span> <span class="hljs-variable">key</span>:<span class="hljs-title class_">name</span></li><li> ...&gt;&gt;&gt; <span class="hljs-variable">value</span>:<span class="hljs-number">123</span></li><li><span class="hljs-variable">preference_kv</span>&gt;&gt;&gt; <span class="hljs-variable">put</span> <span class="hljs-variable">key</span>:<span class="hljs-title class_">id_name</span></li><li> ...&gt;&gt;&gt; <span class="hljs-variable">value</span>:<span class="hljs-string">'123'</span></li><li><span class="hljs-variable">preference_kv</span>&gt;&gt;&gt; <span class="hljs-variable">get</span> <span class="hljs-variable">key</span>:<span class="hljs-title class_">name</span>   <span class="hljs-comment">// 不带引号结果</span></li><li><span class="hljs-keyword">type</span> <span class="hljs-title class_">int</span>: <span class="hljs-number">123</span></li><li><span class="hljs-variable">preference_kv</span>&gt;&gt;&gt; <span class="hljs-variable">get</span> <span class="hljs-variable">key</span>:<span class="hljs-title class_">id_name</span>   <span class="hljs-comment">// 带引号结果</span></li><li><span class="hljs-keyword">type</span> <span class="hljs-title class_">string</span>: <span class="hljs-number">123</span></li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section71921012155">全表查询<i class="anchor-icon anchor-icon-link" anchorid="section71921012155" tips="复制节点链接"></i></h3><ul><li>在preference_xml&gt;&gt;&gt;提示符下，可通过scan命令全表查询，显示结果如下：<div _ngcontent-qhu-c106="" class="highlight-div"><div _ngcontent-qhu-c106="" class="highlight-div-header"><div _ngcontent-qhu-c106="" class="highlight-div-header-left"><div _ngcontent-qhu-c106="" class="handle-button expand-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qhu-c106="" class="highlight-div-header-right"><div _ngcontent-qhu-c106="" class="handle-button ai-button"></div><div _ngcontent-qhu-c106="" class="handle-button line-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qhu-c106="" class="handle-button theme-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qhu-c106="" class="handle-button copy-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qhu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">preference_xml</span>&gt;&gt;&gt; <span class="hljs-variable">scan</span></li><li>==========================<span class="hljs-variable">PREFERENCES</span> <span class="hljs-variable">XML</span> <span class="hljs-variable">INFO</span>============================</li><li><span class="hljs-variable">DataCount</span>:<span class="hljs-number">7</span></li><li>==========================<span class="hljs-variable">PREFERENCES</span> <span class="hljs-variable">XML</span> <span class="hljs-variable">DATA</span>============================</li><li>==========================<span class="hljs-variable">Data</span> <span class="hljs-variable">Index</span>:<span class="hljs-number">1</span>==========================</li><li><span class="hljs-variable">key</span>:</li><li><span class="hljs-number">1</span></li><li><span class="hljs-variable">value</span>:</li><li><span class="hljs-keyword">type</span> <span class="hljs-title class_">int</span>: <span class="hljs-number">1</span></li><li>==========================<span class="hljs-variable">Data</span> <span class="hljs-variable">Index</span>:<span class="hljs-number">2</span>==========================</li><li><span class="hljs-variable">key</span>:</li><li><span class="hljs-number">2</span></li><li><span class="hljs-variable">value</span>:</li><li><span class="hljs-keyword">type</span> <span class="hljs-title class_">int</span>: <span class="hljs-number">2</span></li><li>==========================<span class="hljs-variable">Data</span> <span class="hljs-variable">Index</span>:<span class="hljs-number">3</span>==========================</li><li><span class="hljs-variable">key</span>:</li><li><span class="hljs-number">3</span></li><li><span class="hljs-variable">value</span>:</li><li><span class="hljs-keyword">type</span> <span class="hljs-title class_">int</span>: <span class="hljs-number">3</span></li><li>==========================<span class="hljs-variable">Data</span> <span class="hljs-variable">Index</span>:<span class="hljs-number">4</span>==========================</li><li><span class="hljs-variable">key</span>:</li><li><span class="hljs-number">4</span></li><li><span class="hljs-variable">value</span>:</li><li><span class="hljs-keyword">type</span> <span class="hljs-title class_">int</span>: <span class="hljs-number">4</span></li><li>==========================<span class="hljs-variable">Data</span> <span class="hljs-variable">Index</span>:<span class="hljs-number">5</span>==========================</li><li><span class="hljs-variable">key</span>:</li><li><span class="hljs-number">5</span></li><li><span class="hljs-variable">value</span>:</li><li><span class="hljs-keyword">type</span> <span class="hljs-title class_">int</span>: <span class="hljs-number">5</span></li><li><span class="hljs-variable">Press</span> <span class="hljs-string">'q'</span> <span class="hljs-variable">to</span> <span class="hljs-variable">quit</span>, <span class="hljs-string">'n'</span> <span class="hljs-variable">to</span> <span class="hljs-keyword">continue</span>: <span class="hljs-title class_">n</span></li><li>==========================<span class="hljs-variable">Data</span> <span class="hljs-variable">Index</span>:<span class="hljs-number">6</span>==========================</li><li><span class="hljs-variable">key</span>:</li><li><span class="hljs-number">6</span></li><li><span class="hljs-variable">value</span>:</li><li><span class="hljs-keyword">type</span> <span class="hljs-title class_">int</span>: <span class="hljs-number">6</span></li><li>==========================<span class="hljs-variable">Data</span> <span class="hljs-variable">Index</span>:<span class="hljs-number">7</span>==========================</li><li><span class="hljs-variable">key</span>:</li><li><span class="hljs-number">7</span></li><li><span class="hljs-variable">value</span>:</li><li><span class="hljs-keyword">type</span> <span class="hljs-title class_">int</span>: <span class="hljs-number">7</span></li><li><span class="hljs-variable">preference_xml</span>&gt;&gt;&gt;</li></ol></pre></div></div> </li><li>preference_kv不支持全表扫描，显示结果如下：<div _ngcontent-qhu-c106="" class="highlight-div"><div _ngcontent-qhu-c106="" class="highlight-div-header"><div _ngcontent-qhu-c106="" class="highlight-div-header-left"><div _ngcontent-qhu-c106="" class="handle-button expand-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qhu-c106="" class="highlight-div-header-right"><div _ngcontent-qhu-c106="" class="handle-button ai-button"></div><div _ngcontent-qhu-c106="" class="handle-button line-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qhu-c106="" class="handle-button theme-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qhu-c106="" class="handle-button copy-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qhu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-css" data-highlighted="yes"><ol class="linenums"><li>preference_kv&gt;&gt;&gt; scan</li><li><span class="hljs-selector-attr">[unsucc]</span> Unable <span class="hljs-selector-tag">to</span> parse command.</li></ol></pre></div></div> </li></ul> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>当显示数据条目达到5条时，为提升阅读体验，系统将提示用户是否继续显示或退出。输入q键退出显示，输入n继续显示结果。</p> </div></div></div> <div class="tiledSection"><h3 id="section1987705842217">单值查询<i class="anchor-icon anchor-icon-link" anchorid="section1987705842217" tips="复制节点链接"></i></h3><p>在preference_kv&gt;&gt;&gt;提示符下，可通过get命令指定key查询指定键值对，显示结果如下：</p> </div> <div _ngcontent-qhu-c106="" class="highlight-div"><div _ngcontent-qhu-c106="" class="highlight-div-header"><div _ngcontent-qhu-c106="" class="highlight-div-header-left"><div _ngcontent-qhu-c106="" class="handle-button expand-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qhu-c106="" class="highlight-div-header-right"><div _ngcontent-qhu-c106="" class="handle-button ai-button"></div><div _ngcontent-qhu-c106="" class="handle-button line-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qhu-c106="" class="handle-button theme-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qhu-c106="" class="handle-button copy-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qhu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-kotlin" data-highlighted="yes"><ol class="linenums"><li>preference_kv&gt;&gt;&gt; <span class="hljs-keyword">get</span><strong> </strong>key:name</li><li> No <span class="hljs-keyword">data</span> <span class="hljs-keyword">for</span> key = name  <span class="hljs-comment">// 表示没有值</span></li></ol></pre></div></div> <p>带引号与不带引号查询的值不同，显示结果如下：</p> <div _ngcontent-qhu-c106="" class="highlight-div"><div _ngcontent-qhu-c106="" class="highlight-div-header"><div _ngcontent-qhu-c106="" class="highlight-div-header-left"><div _ngcontent-qhu-c106="" class="handle-button expand-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qhu-c106="" class="highlight-div-header-right"><div _ngcontent-qhu-c106="" class="handle-button ai-button"></div><div _ngcontent-qhu-c106="" class="handle-button line-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qhu-c106="" class="handle-button theme-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qhu-c106="" class="handle-button copy-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qhu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">preference_kv</span>&gt;&gt;&gt; <span class="hljs-variable">put</span> <span class="hljs-variable">key</span>:<span class="hljs-title class_">name</span></li><li> ...&gt;&gt;&gt; <span class="hljs-variable">value</span>:<span class="hljs-number">123</span></li><li><span class="hljs-variable">preference_kv</span>&gt;&gt;&gt; <span class="hljs-variable">put</span> <span class="hljs-variable">key</span>:<span class="hljs-title class_">id_name</span></li><li> ...&gt;&gt;&gt; <span class="hljs-variable">value</span>:<span class="hljs-string">'123'</span></li><li><span class="hljs-variable">preference_kv</span>&gt;&gt;&gt; <span class="hljs-variable">put</span> <span class="hljs-variable">key</span>:<span class="hljs-title class_">name</span></li><li> ...&gt;&gt;&gt; <span class="hljs-variable">value</span>:<span class="hljs-keyword">true</span></li><li><span class="hljs-variable">preference_kv</span>&gt;&gt;&gt; <span class="hljs-variable">put</span> <span class="hljs-variable">key</span>:<span class="hljs-title class_">name1</span></li><li> ...&gt;&gt;&gt; <span class="hljs-variable">value</span>:<span class="hljs-string">'true'</span></li><li><span class="hljs-variable">preference_kv</span>&gt;&gt;&gt; <span class="hljs-variable">get</span> <span class="hljs-variable">key</span>:<span class="hljs-title class_">name</span>      <span class="hljs-comment">// 数字不带引号结果</span></li><li><span class="hljs-keyword">type</span> <span class="hljs-title class_">int</span>: <span class="hljs-number">123</span></li><li><span class="hljs-variable">preference_kv</span>&gt;&gt;&gt; <span class="hljs-variable">get</span> <span class="hljs-variable">key</span>:<span class="hljs-title class_">id_name</span>   <span class="hljs-comment">// 数字带引号结果</span></li><li><span class="hljs-keyword">type</span> <span class="hljs-title class_">string</span>: <span class="hljs-number">123</span></li><li><span class="hljs-variable">preference_kv</span>&gt;&gt;&gt; <span class="hljs-variable">get</span> <span class="hljs-variable">key</span>:<span class="hljs-title class_">name</span>      <span class="hljs-comment">// true不带引号结果</span></li><li><span class="hljs-keyword">type</span> <span class="hljs-title class_">bool</span>: <span class="hljs-number">1</span></li><li><span class="hljs-variable">preference_kv</span>&gt;&gt;&gt; <span class="hljs-variable">get</span> <span class="hljs-variable">key</span>:<span class="hljs-title class_">name1</span>     <span class="hljs-comment">// true带引号结果</span></li><li><span class="hljs-keyword">type</span> <span class="hljs-title class_">string</span>: <span class="hljs-keyword">true</span></li></ol></pre></div></div> <div class="tiledSection"><h3 id="section5713175811335">更新数据<i class="anchor-icon anchor-icon-link" anchorid="section5713175811335" tips="复制节点链接"></i></h3><p>在preference_kv&gt;&gt;&gt;提示符下，当key值存在时， 可通过put命令更新键值对，显示结果如下：</p> <div _ngcontent-qhu-c106="" class="highlight-div"><div _ngcontent-qhu-c106="" class="highlight-div-header"><div _ngcontent-qhu-c106="" class="highlight-div-header-left"><div _ngcontent-qhu-c106="" class="handle-button expand-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qhu-c106="" class="highlight-div-header-right"><div _ngcontent-qhu-c106="" class="handle-button ai-button"></div><div _ngcontent-qhu-c106="" class="handle-button line-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qhu-c106="" class="handle-button theme-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qhu-c106="" class="handle-button copy-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qhu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">preference_kv</span>&gt;&gt;&gt; <span class="hljs-variable">put</span> <span class="hljs-variable">key</span>:<span class="hljs-title class_">name</span></li><li> ...&gt;&gt;&gt; <span class="hljs-variable">value</span>:<span class="hljs-title class_">x</span></li><li><span class="hljs-variable">preference_kv</span>&gt;&gt;&gt; <span class="hljs-variable">get</span> <span class="hljs-variable">key</span>:<span class="hljs-title class_">name</span></li><li><span class="hljs-keyword">type</span> <span class="hljs-title class_">string</span>: <span class="hljs-title class_">x</span></li><li><span class="hljs-variable">preference_kv</span>&gt;&gt;&gt; <span class="hljs-variable">put</span> <span class="hljs-variable">key</span>:<span class="hljs-title class_">name</span></li><li> ...&gt;&gt;&gt; <span class="hljs-variable">value</span>:<span class="hljs-title class_">y</span></li><li><span class="hljs-variable">preference_kv</span>&gt;&gt;&gt; <span class="hljs-variable">get</span> <span class="hljs-variable">key</span>:<span class="hljs-title class_">name</span></li><li><span class="hljs-keyword">type</span> <span class="hljs-title class_">string</span>: <span class="hljs-title class_">y</span></li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section17336515163413">删除数据<i class="anchor-icon anchor-icon-link" anchorid="section17336515163413" tips="复制节点链接"></i></h3><p>在preference_kv&gt;&gt;&gt;提示符下，可通过delete命令删除指定键值对，显示结果如下：</p> <div _ngcontent-qhu-c106="" class="highlight-div"><div _ngcontent-qhu-c106="" class="highlight-div-header"><div _ngcontent-qhu-c106="" class="highlight-div-header-left"><div _ngcontent-qhu-c106="" class="handle-button expand-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qhu-c106="" class="highlight-div-header-right"><div _ngcontent-qhu-c106="" class="handle-button ai-button"></div><div _ngcontent-qhu-c106="" class="handle-button line-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qhu-c106="" class="handle-button theme-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qhu-c106="" class="handle-button copy-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qhu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">preference_kv</span>&gt;&gt;&gt; <span class="hljs-variable">get</span> <span class="hljs-variable">key</span>:<span class="hljs-title class_">name</span></li><li><span class="hljs-keyword">type</span> <span class="hljs-title class_">string</span>: <span class="hljs-title class_">y</span></li><li><span class="hljs-variable">preference_kv</span>&gt;&gt;&gt; <span class="hljs-variable">delete</span> <span class="hljs-variable">key</span>:<span class="hljs-title class_">name</span></li><li><span class="hljs-variable">preference_kv</span>&gt;&gt;&gt; <span class="hljs-variable">get</span> <span class="hljs-variable">key</span>:<span class="hljs-title class_">name</span></li><li> <span class="hljs-variable">No</span> <span class="hljs-variable">data</span> <span class="hljs-keyword">for</span> <span class="hljs-variable">key</span> = <span class="hljs-variable">key</span>:<span class="hljs-title class_">name</span></li></ol></pre></div></div> <p>delete命令不指定键值对全表删除，显示结果如下：</p> <div _ngcontent-qhu-c106="" class="highlight-div"><div _ngcontent-qhu-c106="" class="highlight-div-header"><div _ngcontent-qhu-c106="" class="highlight-div-header-left"><div _ngcontent-qhu-c106="" class="handle-button expand-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qhu-c106="" class="highlight-div-header-right"><div _ngcontent-qhu-c106="" class="handle-button ai-button"></div><div _ngcontent-qhu-c106="" class="handle-button line-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qhu-c106="" class="handle-button theme-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qhu-c106="" class="handle-button copy-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qhu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">preference_kv</span>&gt;&gt;&gt; <span class="hljs-variable">get</span> <span class="hljs-variable">key</span>:<span class="hljs-title class_">name</span></li><li><span class="hljs-keyword">type</span> <span class="hljs-title class_">int</span>: <span class="hljs-title class_">xx</span></li><li><span class="hljs-variable">preference_kv</span>&gt;&gt;&gt; <span class="hljs-variable">get</span> <span class="hljs-variable">key</span>:<span class="hljs-title class_">id_name</span> </li><li><span class="hljs-keyword">type</span> <span class="hljs-title class_">int</span>: <span class="hljs-title class_">yy</span></li><li><span class="hljs-variable">preference_kv</span>&gt;&gt;&gt; <span class="hljs-variable">delete</span></li><li><span class="hljs-variable">preference_kv</span>&gt;&gt;&gt; <span class="hljs-variable">get</span> <span class="hljs-variable">key</span>:<span class="hljs-title class_">name</span></li><li> <span class="hljs-variable">No</span> <span class="hljs-variable">data</span> <span class="hljs-keyword">for</span> <span class="hljs-variable">key</span> = <span class="hljs-variable">name</span></li><li><span class="hljs-variable">preference_kv</span>&gt;&gt;&gt; <span class="hljs-variable">get</span> <span class="hljs-variable">key</span>:<span class="hljs-title class_">id_name</span> </li><li> <span class="hljs-variable">No</span> <span class="hljs-variable">data</span> <span class="hljs-keyword">for</span> <span class="hljs-variable">key</span> = <span class="hljs-variable">id_name</span> </li></ol></pre></div></div> </div> <p>在preference_kv&gt;&gt;&gt;提示符下，可以使用 .q或者.quit命令退出数据库交互模式，显示结果如下：</p> <div _ngcontent-qhu-c106="" class="highlight-div"><div _ngcontent-qhu-c106="" class="highlight-div-header"><div _ngcontent-qhu-c106="" class="highlight-div-header-left"><div _ngcontent-qhu-c106="" class="handle-button expand-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qhu-c106="" class="highlight-div-header-right"><div _ngcontent-qhu-c106="" class="handle-button ai-button"></div><div _ngcontent-qhu-c106="" class="handle-button line-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qhu-c106="" class="handle-button theme-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qhu-c106="" class="handle-button copy-button"><div _ngcontent-qhu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qhu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-shell" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta prompt_">preference_kv&gt;</span><span class="language-bash">&gt;&gt;.q</span></li><li><span class="hljs-meta prompt_">$ </span></li></ol></pre></div></div> <div class="tiledSection"><h2 id="section27262581719">模拟器支持情况<i class="anchor-icon anchor-icon-link" anchorid="section27262581719" tips="复制节点链接"></i></h2><p>当前工具支持模拟器。</p> </div> <div class="tiledSection"><h2 id="section139922094109">常见问题<i class="anchor-icon anchor-icon-link" anchorid="section139922094109" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section1935514411139" class="firsth2">如何删除字符<i class="anchor-icon anchor-icon-link" anchorid="section1935514411139" tips="复制节点链接"></i></h3><p>使用Ctrl+BackSpace删除单个字符，使用Ctrl+U删除全部字符。</p> </div> </div> <div></div></div>