<h1 _ngcontent-qjd-c119="" class="doc-title ng-star-inserted" title="stateStyles：多态样式"> stateStyles：多态样式 </h1>

<div _ngcontent-qjd-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>@Styles仅应用于静态页面的样式复用，stateStyles可以依据组件的内部状态的不同，快速设置不同样式。这就是我们本章要介绍的内容stateStyles（又称为：多态样式）。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>多态样式仅支持通用属性。如果多态样式不生效，则该属性可能为组件的私有属性，例如：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-text-style" target="_blank">fontColor</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-textinput" target="_blank">TextInput</a>组件的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-background" target="_blank">backgroundColor</a>等。此时，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier" target="_blank">attributeModifier</a>动态设置组件属性来解决此问题。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="概述">概述<i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2>          <p>stateStyles是属性方法，可以根据UI内部状态来设置样式，类似于css伪类，但语法不同。ArkUI提供以下六种状态：</p>     <ul>      <li>       <p>focused：获焦态。</p></li>      <li>       <p>normal：正常态。</p></li>      <li>       <p>pressed：按压态。</p></li>      <li>       <p>disabled：不可用态。</p></li>      <li>       <p>clicked：点击态。</p></li>      <li>       <p>selected<sup>10+</sup>：选中态。</p></li>     </ul>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>获焦态目前仅支持通过外接键盘的Tab键或方向键触发，不支持在嵌套滚动组件场景下通过按键触发。</p>      </div></div></div>    </div>    <div class="tiledSection">     <h2 id="使用场景">使用场景<i class="anchor-icon anchor-icon-link" anchorid="使用场景" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="基础场景" class="firsth2">基础场景<i class="anchor-icon anchor-icon-link" anchorid="基础场景" tips="复制节点链接"></i></h3>          <p>下面的示例展示了stateStyles最基本的使用场景。Button1处于第一个组件，Button2处于第二个组件。按压时显示为pressed态指定的黑色。使用Tab键走焦，Button1获焦并显示为focused态指定的粉色。当Button2获焦的时候，Button2显示为focused态指定的粉色，Button1失焦显示normal态指定的蓝色。</p>     <div _ngcontent-qjd-c106="" class="highlight-div"><div _ngcontent-qjd-c106="" class="highlight-div-header"><div _ngcontent-qjd-c106="" class="highlight-div-header-left"><div _ngcontent-qjd-c106="" class="handle-button expand-button"><div _ngcontent-qjd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjd-c106="" class="highlight-div-header-right"><div _ngcontent-qjd-c106="" class="handle-button ai-button"></div><div _ngcontent-qjd-c106="" class="handle-button line-button"><div _ngcontent-qjd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjd-c106="" class="handle-button theme-button"><div _ngcontent-qjd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjd-c106="" class="handle-button copy-button"><div _ngcontent-qjd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">StateStylesSample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Button1'</span>)</li><li>        .<span class="hljs-title function_">stateStyles</span>({</li><li>          <span class="hljs-attr">focused</span>: {</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffffeef0'</span>)</li><li>          },</li><li>          <span class="hljs-attr">pressed</span>: {</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ff707070'</span>)</li><li>          },</li><li>          <span class="hljs-attr">normal</span>: {</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ff2787d9'</span>)</li><li>          }</li><li>        })</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">20</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Button2'</span>)</li><li>        .<span class="hljs-title function_">stateStyles</span>({</li><li>          <span class="hljs-attr">focused</span>: {</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffffeef0'</span>)</li><li>          },</li><li>          <span class="hljs-attr">pressed</span>: {</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ff707070'</span>)</li><li>          },</li><li>          <span class="hljs-attr">normal</span>: {</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ff2787d9'</span>)</li><li>          }</li><li>        })</li><li>    }.<span class="hljs-title function_">margin</span>(<span class="hljs-string">'30%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><strong>图1</strong> 获焦态和按压态</p>     <p><span><img originheight="244" originwidth="297" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114854.51184993753732347849472571376051:50001231000000:2800:E7F0B198FD1FA35FBF22A138FAF97442CF53577E261CDE75125D567DC492AA0B.gif" class="notEnlarge" width="297" height="244"></span></p>    </div>    <div class="tiledSection">     <h3 id="styles和statestyles联合使用">@Styles和stateStyles联合使用<i class="anchor-icon anchor-icon-link" anchorid="styles和statestyles联合使用" tips="复制节点链接"></i></h3>          <p>以下示例通过@Styles指定stateStyles的不同状态。</p>     <div _ngcontent-qjd-c106="" class="highlight-div"><div _ngcontent-qjd-c106="" class="highlight-div-header"><div _ngcontent-qjd-c106="" class="highlight-div-header-left"><div _ngcontent-qjd-c106="" class="handle-button expand-button"><div _ngcontent-qjd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjd-c106="" class="highlight-div-header-right"><div _ngcontent-qjd-c106="" class="handle-button ai-button"></div><div _ngcontent-qjd-c106="" class="handle-button line-button"><div _ngcontent-qjd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjd-c106="" class="handle-button theme-button"><div _ngcontent-qjd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjd-c106="" class="handle-button copy-button"><div _ngcontent-qjd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MyComponent</span> {</li><li>  <span class="hljs-meta">@Styles</span> <span class="hljs-title function_">normalStyle</span>(<span class="hljs-params"></span>) {</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-meta">@Styles</span> <span class="hljs-title function_">pressedStyle</span>(<span class="hljs-params"></span>) {</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Text1'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>        .<span class="hljs-title function_">stateStyles</span>({</li><li>          <span class="hljs-attr">normal</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">normalStyle</span>,</li><li>          <span class="hljs-attr">pressed</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">pressedStyle</span>,</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><strong>图2</strong> 正常态和按压态</p>     <p><span><img originheight="76" originwidth="120" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114854.86453995629935203739461530818160:50001231000000:2800:1D575FE4D31EDD742C0D38054582A9AD24BBE1AAA5D0678A779F6254A2C3F578.gif" class="notEnlarge" width="120" height="76"></span></p>    </div>    <div class="tiledSection">     <h3 id="在statestyles里使用常规变量和状态变量">在stateStyles里使用常规变量和状态变量<i class="anchor-icon anchor-icon-link" anchorid="在statestyles里使用常规变量和状态变量" tips="复制节点链接"></i></h3>          <p>stateStyles可以通过this绑定组件内的常规变量和状态变量。</p>     <div _ngcontent-qjd-c106="" class="highlight-div"><div _ngcontent-qjd-c106="" class="highlight-div-header"><div _ngcontent-qjd-c106="" class="highlight-div-header-left"><div _ngcontent-qjd-c106="" class="handle-button expand-button"><div _ngcontent-qjd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qjd-c106="" class="highlight-div-header-right"><div _ngcontent-qjd-c106="" class="handle-button ai-button"></div><div _ngcontent-qjd-c106="" class="handle-button line-button"><div _ngcontent-qjd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qjd-c106="" class="handle-button theme-button"><div _ngcontent-qjd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qjd-c106="" class="handle-button copy-button"><div _ngcontent-qjd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qjd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CompWithInlineStateStyles</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">focusedColor</span>: <span class="hljs-title class_">Color</span> = <span class="hljs-number">0xD5D5D5</span>;</li><li>  <span class="hljs-attr">normalColor</span>: <span class="hljs-title class_">Color</span> = <span class="hljs-number">0x004AAF</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'clickMe'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">stateStyles</span>({</li><li>          <span class="hljs-attr">normal</span>: {</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">normalColor</span>)</li><li>          },</li><li>          <span class="hljs-attr">focused</span>: {</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">focusedColor</span>)</li><li>          }</li><li>        })</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">focusedColor</span> = <span class="hljs-number">0x707070</span>;</li><li>        })</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-string">'30%'</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p>Button默认normal态显示蓝色，第一次按下Tab键让Button获焦显示为focus态的浅灰色，点击事件触发后，再次按下Tab键让Button获焦，focus态变为深灰色。</p>     <p><strong>图3</strong> 点击改变获焦态样式</p>     <p><span><img originheight="201" originwidth="221" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114854.51246017406347169762446883630597:50001231000000:2800:176F62A6EEA07C76C7931FA19D62D6F8D4857EFCD7F4E62075535BDE7AA84BCA.gif" class="notEnlarge" width="221" height="201"></span></p>    </div>   </div>   <div></div></div>