<h1 _ngcontent-ecl-c119="" class="doc-title ng-star-inserted" title="wukong稳定性工具使用指导"> wukong稳定性工具使用指导 </h1>

<div _ngcontent-ecl-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body2077533858232523"> <div class="tiledSection"><h2 id="功能介绍">功能介绍<i class="anchor-icon anchor-icon-link" anchorid="功能介绍" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002447250949__p225198039232523">wukong是系统自带的一种命令行工具，支持Ability的随机事件注入、控件注入、异常捕获、报告生成和对Ability数据遍历截图等特性。通过模拟用户行为，对系统或应用进行稳定性压力测试。wukong分为随机测试、专项测试和专注测试。</p> <p id="ZH-CN_TOPIC_0000002447250949__p1874564411232523">随机测试是指随机测试界面内容，支持的能力包括：shell启动、拉起整机应用、多种注入方式、设置随机种子、打印运行日志和生成报告。</p> <p id="ZH-CN_TOPIC_0000002447250949__p298675685232523">专项测试主要提供对指定应用控件进行测试，支持的能力包括：shell启动、顺序遍历及截图、测试休眠睡醒、录制回放、打印运行日志和生成报告。</p> <p id="ZH-CN_TOPIC_0000002447250949__p1349472221232523">专注测试主要提供对指定控件的注入测试，支持的能力包括：shell启动、拉起整机应用、多种注入方式、设置随机种子、设置专注控件类型、设置注入控件次数、打印运行日志和生成报告。</p> </div>  <div class="tiledSection"><h2 id="实现原理">实现原理<i class="anchor-icon anchor-icon-link" anchorid="实现原理" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002447250949__p1211430523232523">wukong部件架构图以及部件内子模块职责如下所述。</p> <p id="ZH-CN_TOPIC_0000002447250949__p1058317947232523"><span><img originheight="295" originwidth="946" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251120201414.24424689718818781283373166550274:50001231000000:2800:143084B51CC26DD34AD22108441F3EAB731FAD77559DCB0979562F065D27DA28.png" width="920" height="286.892177589852"></span></p> <ul id="ZH-CN_TOPIC_0000002447250949__ul852369389232523"><li id="li2121454758232523">命令行解析：支持命令行获取参数并解析。</li><li id="li1282998662232523">运行环境管理：根据命令行初始化wukong整体运行环境。</li><li id="li2093951179232523">系统接口管理：检查并获取指定的mgr，注册controller和dfx的faultlog的回调函数。</li><li id="li1084900476232523">随机事件生成：通过random函数生成指定种子数的随机序列，生成事件。</li><li id="li460338320232523">事件注入：根据支持的事件类型向系统注入事件，依赖窗口、多模、安全等子系统。</li><li id="li1367940097232523">异常捕获处理/报告生成：通过DFX子系统获取运行中的异常信息并记录log，生成报告。</li></ul> </div>  <div class="tiledSection"><h2 id="约束与限制">约束与限制<i class="anchor-icon anchor-icon-link" anchorid="约束与限制" tips="复制节点链接"></i></h2><ol id="ZH-CN_TOPIC_0000002447250949__ol1951251508232523"><li id="li1478235821232523"><p id="ZH-CN_TOPIC_0000002447250949__p337824703232523">wukong测试工具在API 9版本开始预置使用。</p>  </li><li id="li147455681232523"><p id="ZH-CN_TOPIC_0000002447250949__p1042338090232523">所有命令执行前需完成<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/hdc" target="_blank">hdc环境配置</a>，并进入shell模式。</p>  </li></ol> </div>  <div class="tiledSection"><h2 id="功能特性及命令说明">功能特性及命令说明<i class="anchor-icon anchor-icon-link" anchorid="功能特性及命令说明" tips="复制节点链接"></i></h2> <div class="tablenoborder"><div class="tbBox"><table id="table303482071232523" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002447250949__row1511059971232523"><th align="left" class="cellrowborder" id="mcps1.3.4.2.1.3.1.1" valign="top" width="50%">命令</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.3.1.2" valign="top" width="50%">说明</th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002447250949__row1259253176232523"><td class="cellrowborder" valign="top" width="50%">-v/--version</td> <td class="cellrowborder" valign="top" width="50%">获取wukong版本信息。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row215535744232523"><td class="cellrowborder" valign="top" width="50%">help</td> <td class="cellrowborder" valign="top" width="50%">获取wukong帮助信息。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row396454961232523"><td class="cellrowborder" valign="top" width="50%">appinfo</td> <td class="cellrowborder" valign="top" width="50%">查询支持拉起应用bundleName和对应的mainAbility名。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1920589152232523"><td class="cellrowborder" valign="top" width="50%">special</td> <td class="cellrowborder" valign="top" width="50%">wukong专项测试。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1352188246232523"><td class="cellrowborder" valign="top" width="50%">exec</td> <td class="cellrowborder" valign="top" width="50%">wukong随机测试。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row239894953232523"><td class="cellrowborder" valign="top" width="50%">focus</td> <td class="cellrowborder" valign="top" width="50%">wukong专注测试。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="执行命令" class="firsth2">执行命令<i class="anchor-icon anchor-icon-link" anchorid="执行命令" tips="复制节点链接"></i></h3><ul id="ZH-CN_TOPIC_0000002447250949__ul1664760595232523"><li id="li339630621232523"><p id="ZH-CN_TOPIC_0000002447250949__p1872720031232523">进入shell模式</p>  <div _ngcontent-ecl-c106="" class="highlight-div"><div _ngcontent-ecl-c106="" class="highlight-div-header"><div _ngcontent-ecl-c106="" class="highlight-div-header-left"><div _ngcontent-ecl-c106="" class="handle-button expand-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ecl-c106="" class="highlight-div-header-right"><div _ngcontent-ecl-c106="" class="handle-button ai-button"></div><div _ngcontent-ecl-c106="" class="handle-button line-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ecl-c106="" class="handle-button theme-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ecl-c106="" class="handle-button copy-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ecl-c106="" class="highlight-scroll-div"><pre class="bash prettyprint linenums hljs language-bash" id="ZH-CN_TOPIC_0000002447250949__screen165064103232523" hw-language="bash" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">#若连接单个设备，则直接输入如下命令进入shell模式</span></li><li>C:\Users&gt;hdc shell</li><li>$</li><li><span class="hljs-comment">#若同时连接多个设备，则需先获取sn号，先输入hdc list targets获取sn号，然后进入shell模式</span></li><li>C:\Users&gt;hdc list targets</li><li>15xxx424axxxx345209d94xxxx8fxx900</li><li>C:\Users&gt;hdc -t 15xxx424axxxx345209d94xxxx8fxx900 shell</li><li>$</li></ol></pre></div></div>  </li><li id="li1997076876232523"><p id="ZH-CN_TOPIC_0000002447250949__p1620603005232523">获取应用的bundle name和ability name</p>  <div _ngcontent-ecl-c106="" class="highlight-div"><div _ngcontent-ecl-c106="" class="highlight-div-header"><div _ngcontent-ecl-c106="" class="highlight-div-header-left"><div _ngcontent-ecl-c106="" class="handle-button expand-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ecl-c106="" class="highlight-div-header-right"><div _ngcontent-ecl-c106="" class="handle-button ai-button"></div><div _ngcontent-ecl-c106="" class="handle-button line-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ecl-c106="" class="handle-button theme-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ecl-c106="" class="handle-button copy-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ecl-c106="" class="highlight-scroll-div"><pre class="bash prettyprint linenums hljs language-bash" id="ZH-CN_TOPIC_0000002447250949__screen696872319232523" hw-language="bash" data-highlighted="yes"><ol class="linenums"><li>$ wukong appinfo</li><li>BundleName:  com.ohos.adminprovisioning</li><li>AbilityName:  com.ohos.adminprovisioning.MainAbility</li><li>BundleName:  com.ohos.callui</li><li>AbilityName:  com.ohos.callui.MainAbility</li></ol></pre></div></div>  </li><li id="li509452042232523"><p id="ZH-CN_TOPIC_0000002447250949__p1152462078232523">执行查看帮助命令</p>  <div _ngcontent-ecl-c106="" class="highlight-div"><div _ngcontent-ecl-c106="" class="highlight-div-header"><div _ngcontent-ecl-c106="" class="highlight-div-header-left"><div _ngcontent-ecl-c106="" class="handle-button expand-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ecl-c106="" class="highlight-div-header-right"><div _ngcontent-ecl-c106="" class="handle-button ai-button"></div><div _ngcontent-ecl-c106="" class="handle-button line-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ecl-c106="" class="handle-button theme-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ecl-c106="" class="handle-button copy-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ecl-c106="" class="highlight-scroll-div"><pre class="bash prettyprint linenums hljs language-bash" id="ZH-CN_TOPIC_0000002447250949__screen276060912232523" hw-language="bash" data-highlighted="yes"><ol class="linenums"><li>C:\Users&gt;hdc shell</li><li>$ wukong <span class="hljs-built_in">help</span>        <span class="hljs-comment">#wukong帮助菜单</span></li><li>usage: wukong &lt;<span class="hljs-built_in">command</span>&gt; [&lt;arguments&gt;]</li><li>These are common wukong <span class="hljs-built_in">command</span> list:</li><li>  <span class="hljs-built_in">help</span>                       wukong <span class="hljs-built_in">help</span> information</li><li>  -v/--version               wukong version</li><li>  <span class="hljs-built_in">exec</span>                       run random <span class="hljs-built_in">test</span></li><li>  special                    run special <span class="hljs-built_in">test</span></li><li>  focus                      run focus <span class="hljs-built_in">test</span></li><li>  appinfo                    show all app information</li><li>$ wukong <span class="hljs-built_in">exec</span> -<span class="hljs-built_in">help</span>   <span class="hljs-comment">#wukong随机测试帮助菜单</span></li><li>usage: wukong <span class="hljs-built_in">exec</span> [&lt;arguments&gt;]</li><li>These are wukong <span class="hljs-built_in">exec</span> arguments list:</li><li>  -h, --<span class="hljs-built_in">help</span>                 random <span class="hljs-built_in">test</span> <span class="hljs-built_in">help</span></li><li>  -a, --appswitch            appswitch event percent</li><li>  -b, --bundle               the bundle name of allowlist</li><li>  -p, --prohibit             the bundle name of blocklist</li><li>  -d, --page                 block page list</li><li>  -t, --<span class="hljs-built_in">touch</span>                <span class="hljs-built_in">touch</span> event percent</li><li>  -c, --count                <span class="hljs-built_in">test</span> count</li><li>  -i, --interval             interval</li><li>  -s, --seed                 random seed</li><li>  -m, --mouse                mouse event percent</li><li>  -k, --keyboard             keyboard event percent</li><li>  -H, --hardkey              hardkey event percent</li><li>  -S, --swap                 swap event percent</li><li>  -T, --time                 <span class="hljs-built_in">test</span> time</li><li>  -C, --component            component event percent</li><li>  -r, --rotate               rotate event percent</li><li>  -e, --allow ability        the ability name of allowlist</li><li>  -E, --block ability        the ability name of blocklist</li><li>  -Y, --blockCompId          the <span class="hljs-built_in">id</span> list of block component</li><li>  -y, --blockCompType        the <span class="hljs-built_in">type</span> list of block component</li><li>  -I, --screenshot           get screenshot(only <span class="hljs-keyword">in</span> random input)</li><li>  -B, --checkBWScreen        black and white screen detection</li><li>  -U, --Uri                  <span class="hljs-built_in">set</span> Uri pages</li><li>  -x, --Uri-<span class="hljs-built_in">type</span>             <span class="hljs-built_in">set</span> Uri-<span class="hljs-built_in">type</span></li><li>$ wukong special -<span class="hljs-built_in">help</span>    <span class="hljs-comment">#wukong专项测试帮助菜单</span></li><li>usage: wukong special [&lt;arguments&gt;]</li><li>These are wukong special arguments list:</li><li>  -h, --<span class="hljs-built_in">help</span>                 special <span class="hljs-built_in">test</span> <span class="hljs-built_in">help</span></li><li>  -t, --<span class="hljs-built_in">touch</span>[x,y]           <span class="hljs-built_in">touch</span> event</li><li>  -c, --count                total count of <span class="hljs-built_in">test</span></li><li>  -i, --interval             interval</li><li>  -S, --swap[option]         swap event</li><li>                              option is -s| -e| -b</li><li>                              -s, --start: the start point of swap</li><li>                              -e, --end: the end point of swap</li><li>                              -b, --bilateral: swap go and back</li><li>  -k, --spec_insomnia        power on/off event</li><li>  -T, --time                 total time of <span class="hljs-built_in">test</span></li><li>  -C, --component            component event</li><li>  -p, --screenshot           get screenshot(only <span class="hljs-keyword">in</span> componment input)</li><li>  -r, --record               record user operation</li><li>  -R, --replay               replay user operation</li><li>  -u, --uitest               uitest dumpLayout</li></ol></pre></div></div>  </li></ul> </div>  <div class="tiledSection"><h2 id="随机测试">随机测试<i class="anchor-icon anchor-icon-link" anchorid="随机测试" tips="复制节点链接"></i></h2></div>  <div class="tiledSection"><h3 id="命令参数" class="firsth2">命令参数<i class="anchor-icon anchor-icon-link" anchorid="命令参数" tips="复制节点链接"></i></h3> <div class="tablenoborder"><div class="tbBox"><table id="table1687136539232523" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002447250949__row551594692232523"><th align="left" class="cellrowborder" id="mcps1.3.7.2.1.5.1.1" valign="top" width="25%">命令</th> <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.5.1.2" valign="top" width="25%">功能</th> <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.5.1.3" valign="top" width="25%">必选</th> <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.5.1.4" valign="top" width="25%">说明</th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002447250949__row1623365984232523"><td class="cellrowborder" valign="top" width="25%">-h,--help</td> <td class="cellrowborder" valign="top" width="25%">获取当前测试的帮助信息。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">-</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1259212039232523"><td class="cellrowborder" valign="top" width="25%">-c,--count</td> <td class="cellrowborder" valign="top" width="25%">设置执行次数，与测试总时间-T冲突。二者取其一。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">单位次数，默认10次。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1734721740232523"><td class="cellrowborder" valign="top" width="25%">-i,--interval</td> <td class="cellrowborder" valign="top" width="25%">设置执行间隔。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">单位ms，默认1500ms。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row2020830266232523"><td class="cellrowborder" valign="top" width="25%">-s,--seed</td> <td class="cellrowborder" valign="top" width="25%">设置随机种子。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">配置相同随机种子，会生成相同随机事件序列。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1599869276232523"><td class="cellrowborder" valign="top" width="25%">-b,--bundle[bundlename,……,bundlename]</td> <td class="cellrowborder" valign="top" width="25%">设置本次测试的允许应用名单，与-p冲突。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">默认测试当前设备所有应用（应用名称用英文逗号隔开）。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1881320372232523"><td class="cellrowborder" valign="top" width="25%">-p,--prohibit[bundlename,……,bundlename]</td> <td class="cellrowborder" valign="top" width="25%">设置本次测试的禁止应用名单，与-b冲突。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">默认不禁止任何应用（应用名称用英文逗号隔开）。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row480910941232523"><td class="cellrowborder" valign="top" width="25%">-d,--page[page,……,page]</td> <td class="cellrowborder" valign="top" width="25%">设置本次测试的禁止页面名单。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">系统默认禁止pages/system页面（页面名称用逗号隔开）。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row2124732295232523"><td class="cellrowborder" valign="top" width="25%">-a,--appswitch</td> <td class="cellrowborder" valign="top" width="25%">设置应用随机拉起测试比例。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">默认10%。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1361736500232523"><td class="cellrowborder" valign="top" width="25%">-t,--touch</td> <td class="cellrowborder" valign="top" width="25%">设置屏幕随机触摸测试比例。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">默认10%。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1659884318232523"><td class="cellrowborder" valign="top" width="25%">-S,--swap</td> <td class="cellrowborder" valign="top" width="25%">设置屏幕随机移动测试比例。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">默认3%。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1212206144232523"><td class="cellrowborder" valign="top" width="25%">-m,--mouse</td> <td class="cellrowborder" valign="top" width="25%">设置屏幕随机鼠标测试比例。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">默认1%。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1733595113232523"><td class="cellrowborder" valign="top" width="25%">-k,--keyboard</td> <td class="cellrowborder" valign="top" width="25%">设置屏幕随机键盘操作测试比例。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">默认2%。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1392861328232523"><td class="cellrowborder" valign="top" width="25%">-H,--hardkey</td> <td class="cellrowborder" valign="top" width="25%">设置随机物理按键测试比例。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">默认2%。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1318628501232523"><td class="cellrowborder" valign="top" width="25%">-r,--rotate</td> <td class="cellrowborder" valign="top" width="25%">设置随机屏幕旋转测试比例。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">默认2%。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row325391929232523"><td class="cellrowborder" valign="top" width="25%">-C, --component</td> <td class="cellrowborder" valign="top" width="25%">设置随机控件测试比例。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">默认70%。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1162989250232523"><td class="cellrowborder" valign="top" width="25%">-I, --screenshot</td> <td class="cellrowborder" valign="top" width="25%">控件测试截图。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">-</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1749238891232523"><td class="cellrowborder" valign="top" width="25%">-T,--time</td> <td class="cellrowborder" valign="top" width="25%">设置测试总时间，与设置执行次数-c冲突。二者取其一。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">单位分钟，默认10分钟。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row875733465232523"><td class="cellrowborder" valign="top" width="25%">-e, --allow ability</td> <td class="cellrowborder" valign="top" width="25%">设置允许测试的ability。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">-</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1011279323232523"><td class="cellrowborder" valign="top" width="25%">-E, --block ability</td> <td class="cellrowborder" valign="top" width="25%">设置禁止测试的ability。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">-</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row737697734232523"><td class="cellrowborder" valign="top" width="25%">-Y, --blockCompId</td> <td class="cellrowborder" valign="top" width="25%">设置不进行注入的CompId。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">-</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row382671983232523"><td class="cellrowborder" valign="top" width="25%">-y, --blockCompType</td> <td class="cellrowborder" valign="top" width="25%">设置不进行注入的CompType。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">-</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row408604588232523"><td class="cellrowborder" valign="top" width="25%">-B, --checkBWScreen</td> <td class="cellrowborder" valign="top" width="25%">设置启用黑白屏检测。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">-</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1384713297232523"><td class="cellrowborder" valign="top" width="25%">-U, -uri</td> <td class="cellrowborder" valign="top" width="25%">设置应用拉起页面uri。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">-</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row232881396232523"><td class="cellrowborder" valign="top" width="25%">-x, -uriType</td> <td class="cellrowborder" valign="top" width="25%">设置应用拉起页面uriType。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">-</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="使用示例">使用示例<i class="anchor-icon anchor-icon-link" anchorid="使用示例" tips="复制节点链接"></i></h3><ul id="ZH-CN_TOPIC_0000002447250949__ul916851740232523"><li id="li1145423196232523"><p id="ZH-CN_TOPIC_0000002447250949__p1735943174232523">设置100次事件注入</p>  <div _ngcontent-ecl-c106="" class="highlight-div"><div _ngcontent-ecl-c106="" class="highlight-div-header"><div _ngcontent-ecl-c106="" class="highlight-div-header-left"><div _ngcontent-ecl-c106="" class="handle-button expand-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ecl-c106="" class="highlight-div-header-right"><div _ngcontent-ecl-c106="" class="handle-button ai-button"></div><div _ngcontent-ecl-c106="" class="handle-button line-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ecl-c106="" class="handle-button theme-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ecl-c106="" class="handle-button copy-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ecl-c106="" class="highlight-scroll-div"><pre class="bash prettyprint linenums hljs language-bash" id="ZH-CN_TOPIC_0000002447250949__screen88011943232523" hw-language="bash" data-highlighted="yes"><ol class="linenums"><li>$ wukong <span class="hljs-built_in">exec</span> -s 10 -i 1000 -a 0.28 -t 0.72 -c 100</li></ol></pre></div></div>  <p id="ZH-CN_TOPIC_0000002447250949__p819533666232523">命令中各参数含义：</p>   <div class="tablenoborder"><div class="tbBox"><table id="table955514897232523" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002447250949__row533077402232523"><th align="left" class="cellrowborder" id="mcps1.3.8.2.1.4.1.4.1.1" valign="top" width="33.33333333333333%">命令</th> <th align="left" class="cellrowborder" id="mcps1.3.8.2.1.4.1.4.1.2" valign="top" width="33.33333333333333%">参数值</th> <th align="left" class="cellrowborder" id="mcps1.3.8.2.1.4.1.4.1.3" valign="top" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002447250949__row326178034232523"><td class="cellrowborder" valign="top" width="33.33333333333333%">wukong exec</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">-</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">主命令。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1745390955232523"><td class="cellrowborder" valign="top" width="33.33333333333333%">-s</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">10</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">参数设置随机种子，10为种子值。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1228159038232523"><td class="cellrowborder" valign="top" width="33.33333333333333%">-i</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">1000</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">参数设置应用拉起间隔为1000ms。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1906630566232523"><td class="cellrowborder" valign="top" width="33.33333333333333%">-a</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">0.28</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">参数设置应用随机拉起测试比例28%。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1371539722232523"><td class="cellrowborder" valign="top" width="33.33333333333333%">-t</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">0.72</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">参数设置屏幕随机touch测试比例为72%。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1905281990232523"><td class="cellrowborder" valign="top" width="33.33333333333333%">-c</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">100</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">参数设置执行次数为100次。</td> </tr>  </tbody></table></div> </div>  </li><li id="li1089367688232523"><p id="ZH-CN_TOPIC_0000002447250949__p108489612232523">指定页面压测</p>  <div _ngcontent-ecl-c106="" class="highlight-div"><div _ngcontent-ecl-c106="" class="highlight-div-header"><div _ngcontent-ecl-c106="" class="highlight-div-header-left"><div _ngcontent-ecl-c106="" class="handle-button expand-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ecl-c106="" class="highlight-div-header-right"><div _ngcontent-ecl-c106="" class="handle-button ai-button"></div><div _ngcontent-ecl-c106="" class="handle-button line-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ecl-c106="" class="handle-button theme-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ecl-c106="" class="handle-button copy-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ecl-c106="" class="highlight-scroll-div"><pre class="bash prettyprint linenums hljs language-bash" id="ZH-CN_TOPIC_0000002447250949__screen972359334232523" hw-language="bash" data-highlighted="yes"><ol class="linenums"><li>&gt; 显示启动</li><li>&gt; hdc_std shell</li><li>$ wukong <span class="hljs-built_in">exec</span> -b bundlename -e abilityname -U uri</li><li>
</li><li>&gt; 隐式启动</li><li>&gt; hdc_std shell</li><li>$ wukong <span class="hljs-built_in">exec</span> -b bundlename -U uri -x uriType</li></ol></pre></div></div>  </li><li id="li900571768232523"><p id="ZH-CN_TOPIC_0000002447250949__p1279864646232523">设置允许测试和禁止测试的ability</p>  <div _ngcontent-ecl-c106="" class="highlight-div"><div _ngcontent-ecl-c106="" class="highlight-div-header"><div _ngcontent-ecl-c106="" class="highlight-div-header-left"><div _ngcontent-ecl-c106="" class="handle-button expand-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ecl-c106="" class="highlight-div-header-right"><div _ngcontent-ecl-c106="" class="handle-button ai-button"></div><div _ngcontent-ecl-c106="" class="handle-button line-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ecl-c106="" class="handle-button theme-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ecl-c106="" class="handle-button copy-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ecl-c106="" class="highlight-scroll-div"><pre class="bash prettyprint linenums hljs language-bash" id="ZH-CN_TOPIC_0000002447250949__screen160895358232523" hw-language="bash" data-highlighted="yes"><ol class="linenums"><li>$ wukong <span class="hljs-built_in">exec</span> -b com.ohos.settings -e com.ohos.settings.MainAbility -E com.ohos.settings.AppInfoAbility</li></ol></pre></div></div>  <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">  <p id="ZH-CN_TOPIC_0000002447250949__p2051650532232523">若配置-e、-E则须配置-b来指定应用。</p>  </div></div></div>  </li></ul> </div>  <div class="tiledSection"><h2 id="专项测试">专项测试<i class="anchor-icon anchor-icon-link" anchorid="专项测试" tips="复制节点链接"></i></h2></div>  <div class="tiledSection"><h3 id="命令参数-1" class="firsth2">命令参数<i class="anchor-icon anchor-icon-link" anchorid="命令参数-1" tips="复制节点链接"></i></h3> <div class="tablenoborder"><div class="tbBox"><table id="table1730464659232523" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002447250949__row504606000232523"><th align="left" class="cellrowborder" id="mcps1.3.10.2.1.5.1.1" valign="top" width="25%">命令</th> <th align="left" class="cellrowborder" id="mcps1.3.10.2.1.5.1.2" valign="top" width="25%">功能</th> <th align="left" class="cellrowborder" id="mcps1.3.10.2.1.5.1.3" valign="top" width="25%">必选</th> <th align="left" class="cellrowborder" id="mcps1.3.10.2.1.5.1.4" valign="top" width="25%">说明</th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002447250949__row1859942759232523"><td class="cellrowborder" valign="top" width="25%">-h, --help</td> <td class="cellrowborder" valign="top" width="25%">获取当前专项测试的帮助信息。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">-</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1057780320232523"><td class="cellrowborder" valign="top" width="25%">-k, --spec_insomnia</td> <td class="cellrowborder" valign="top" width="25%">休眠唤醒专项测试。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">-</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row820013095232523"><td class="cellrowborder" valign="top" width="25%">-c, --count</td> <td class="cellrowborder" valign="top" width="25%">设置执行次数。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">单位次数，默认10次。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1936532698232523"><td class="cellrowborder" valign="top" width="25%">-i, --interval</td> <td class="cellrowborder" valign="top" width="25%">设置执行间隔。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">单位ms，默认1500ms。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row677242743232523"><td class="cellrowborder" valign="top" width="25%">-S, --swap</td> <td class="cellrowborder" valign="top" width="25%">滑动测试。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">-</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row2021785864232523"><td class="cellrowborder" valign="top" width="25%">-s, --start[x,y]</td> <td class="cellrowborder" valign="top" width="25%">设置滑动测试起点坐标。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">坐标均为正值。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row505874603232523"><td class="cellrowborder" valign="top" width="25%">-e, --end[x,y]</td> <td class="cellrowborder" valign="top" width="25%">设置滑动测试终点坐标。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">坐标均为正值。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row2088137071232523"><td class="cellrowborder" valign="top" width="25%">-b, --bilateral</td> <td class="cellrowborder" valign="top" width="25%">设置往返滑动。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">默认不往返滑动。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row628900979232523"><td class="cellrowborder" valign="top" width="25%">-t, --touch[x,y]</td> <td class="cellrowborder" valign="top" width="25%">点击测试。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">-</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1787535550232523"><td class="cellrowborder" valign="top" width="25%">-T, --time</td> <td class="cellrowborder" valign="top" width="25%">设置测试总时间。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">单位分钟，默认10分钟。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1486193779232523"><td class="cellrowborder" valign="top" width="25%">-C, --component</td> <td class="cellrowborder" valign="top" width="25%">控件顺序遍历测试。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">需要设置测试应用名称。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row489331805232523"><td class="cellrowborder" valign="top" width="25%">-r, --record</td> <td class="cellrowborder" valign="top" width="25%">录制。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">需要指定录制文件。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row2107153243232523"><td class="cellrowborder" valign="top" width="25%">-R, --replay</td> <td class="cellrowborder" valign="top" width="25%">回放。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">需要指定回放文件。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row953644585232523"><td class="cellrowborder" valign="top" width="25%">-p, --screenshot</td> <td class="cellrowborder" valign="top" width="25%">控件测试截图。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">-</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="测试命令">测试命令<i class="anchor-icon anchor-icon-link" anchorid="测试命令" tips="复制节点链接"></i></h3><div _ngcontent-ecl-c106="" class="highlight-div"><div _ngcontent-ecl-c106="" class="highlight-div-header"><div _ngcontent-ecl-c106="" class="highlight-div-header-left"><div _ngcontent-ecl-c106="" class="handle-button expand-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ecl-c106="" class="highlight-div-header-right"><div _ngcontent-ecl-c106="" class="handle-button ai-button"></div><div _ngcontent-ecl-c106="" class="handle-button line-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ecl-c106="" class="handle-button theme-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ecl-c106="" class="handle-button copy-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ecl-c106="" class="highlight-scroll-div"><pre class="bash prettyprint linenums hljs language-bash" id="ZH-CN_TOPIC_0000002447250949__screen441825845232523" hw-language="bash" data-highlighted="yes"><ol class="linenums"><li>$ wukong special -C [bundlename] -p</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="专注测试">专注测试<i class="anchor-icon anchor-icon-link" anchorid="专注测试" tips="复制节点链接"></i></h2></div>  <div class="tiledSection"><h3 id="命令参数-2" class="firsth2">命令参数<i class="anchor-icon anchor-icon-link" anchorid="命令参数-2" tips="复制节点链接"></i></h3> <div class="tablenoborder"><div class="tbBox"><table id="table1199513569232523" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002447250949__row518241495232523"><th align="left" class="cellrowborder" id="mcps1.3.13.2.1.5.1.1" valign="top" width="25%">命令</th> <th align="left" class="cellrowborder" id="mcps1.3.13.2.1.5.1.2" valign="top" width="25%">功能</th> <th align="left" class="cellrowborder" id="mcps1.3.13.2.1.5.1.3" valign="top" width="25%">必选</th> <th align="left" class="cellrowborder" id="mcps1.3.13.2.1.5.1.4" valign="top" width="25%">说明</th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002447250949__row1691337477232523"><td class="cellrowborder" valign="top" width="25%">-n,--numberfocus</td> <td class="cellrowborder" valign="top" width="25%">设置每个控件注入的次数。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">单位次数。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1853851774232523"><td class="cellrowborder" valign="top" width="25%">-f, --focustypes</td> <td class="cellrowborder" valign="top" width="25%">设置需要专注的控件类型。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">以英文逗号隔开。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1424470432232523"><td class="cellrowborder" valign="top" width="25%">-h,--help</td> <td class="cellrowborder" valign="top" width="25%">获取当前测试的帮助信息。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">-</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row2065270161232523"><td class="cellrowborder" valign="top" width="25%">-c,--count</td> <td class="cellrowborder" valign="top" width="25%">设置执行次数，与设置执行时间-T冲突。二者取其一。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">单位次数，默认10次。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1061259663232523"><td class="cellrowborder" valign="top" width="25%">-i,--interval</td> <td class="cellrowborder" valign="top" width="25%">设置执行间隔。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">单位ms，默认1500ms。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row161782631232523"><td class="cellrowborder" valign="top" width="25%">-s,--seed</td> <td class="cellrowborder" valign="top" width="25%">设置随机种子。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">配置相同随机种子，会生成相同随机事件序列。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row83911658232523"><td class="cellrowborder" valign="top" width="25%">-b,--bundle[bundlename,……,bundlename]</td> <td class="cellrowborder" valign="top" width="25%">设置本次测试的允许应用名单，与-p冲突。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">默认测试当前设备所有应用（应用名称用英文逗号隔开）。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row78120817232523"><td class="cellrowborder" valign="top" width="25%">-p,--prohibit[bundlename,……,bundlename]</td> <td class="cellrowborder" valign="top" width="25%">设置本次测试的禁止应用名单，与-b冲突。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">默认不禁止任何应用（应用名称用英文逗号隔开）。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1631522910232523"><td class="cellrowborder" valign="top" width="25%">-d,--page[page,……,page]</td> <td class="cellrowborder" valign="top" width="25%">设置本次测试的禁止页面名单。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">系统默认禁止pages/system页面（页面名称用逗号隔开）。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1085437388232523"><td class="cellrowborder" valign="top" width="25%">-a,--appswitch</td> <td class="cellrowborder" valign="top" width="25%">设置应用随机拉起测试比例。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">默认10%。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row785914058232523"><td class="cellrowborder" valign="top" width="25%">-t,--touch</td> <td class="cellrowborder" valign="top" width="25%">设置屏幕随机触摸测试比例。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">默认10%。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1159841363232523"><td class="cellrowborder" valign="top" width="25%">-S,--swap</td> <td class="cellrowborder" valign="top" width="25%">设置屏幕随机移动测试比例。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">默认3%。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row2100110092232523"><td class="cellrowborder" valign="top" width="25%">-m,--mouse</td> <td class="cellrowborder" valign="top" width="25%">设置屏幕随机鼠标测试比例。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">默认1%。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row915235941232523"><td class="cellrowborder" valign="top" width="25%">-k,--keyboard</td> <td class="cellrowborder" valign="top" width="25%">设置屏幕随机键盘操作测试比例。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">默认2%。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1792387854232523"><td class="cellrowborder" valign="top" width="25%">-H,--hardkey</td> <td class="cellrowborder" valign="top" width="25%">设置随机物理按键测试比例。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">默认2%。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row533305886232523"><td class="cellrowborder" valign="top" width="25%">-r,--rotate</td> <td class="cellrowborder" valign="top" width="25%">设置随机屏幕旋转测试比例。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">默认2%。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row682824142232523"><td class="cellrowborder" valign="top" width="25%">-C, --component</td> <td class="cellrowborder" valign="top" width="25%">设置随机控件测试比例。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">默认70%。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row905020258232523"><td class="cellrowborder" valign="top" width="25%">-I, --screenshot</td> <td class="cellrowborder" valign="top" width="25%">控件测试截图。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">-</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1615090162232523"><td class="cellrowborder" valign="top" width="25%">-T,--time</td> <td class="cellrowborder" valign="top" width="25%">设置测试总时间，与设置执行次数-c冲突。二者取其一。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">单位分钟，默认10分钟。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1863271324232523"><td class="cellrowborder" valign="top" width="25%">-e, --allow ability</td> <td class="cellrowborder" valign="top" width="25%">设置允许测试的ability。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">-</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row937109083232523"><td class="cellrowborder" valign="top" width="25%">-E, --block ability</td> <td class="cellrowborder" valign="top" width="25%">设置禁止测试的ability。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">-</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row220115836232523"><td class="cellrowborder" valign="top" width="25%">-Y, --blockCompId</td> <td class="cellrowborder" valign="top" width="25%">设置不进行注入的CompId。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">-</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row158980263232523"><td class="cellrowborder" valign="top" width="25%">-y, --blockCompType</td> <td class="cellrowborder" valign="top" width="25%">设置不进行注入的CompType。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">-</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row814775569232523"><td class="cellrowborder" valign="top" width="25%">-B, --checkBWScreen</td> <td class="cellrowborder" valign="top" width="25%">设置启用黑白屏检测。</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">-</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="使用示例-1">使用示例<i class="anchor-icon anchor-icon-link" anchorid="使用示例-1" tips="复制节点链接"></i></h3><div _ngcontent-ecl-c106="" class="highlight-div"><div _ngcontent-ecl-c106="" class="highlight-div-header"><div _ngcontent-ecl-c106="" class="highlight-div-header-left"><div _ngcontent-ecl-c106="" class="handle-button expand-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ecl-c106="" class="highlight-div-header-right"><div _ngcontent-ecl-c106="" class="handle-button ai-button"></div><div _ngcontent-ecl-c106="" class="handle-button line-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ecl-c106="" class="handle-button theme-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ecl-c106="" class="handle-button copy-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ecl-c106="" class="highlight-scroll-div"><pre class="bash prettyprint linenums hljs language-bash" id="ZH-CN_TOPIC_0000002447250949__screen980659427232523" hw-language="bash" data-highlighted="yes"><ol class="linenums"><li>$ wukong focus -s 10 -i 1000 -a 0.28 -t 0.72 -c 100</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002447250949__p2132312872232523">命令中各参数含义：</p>  <div class="tablenoborder"><div class="tbBox"><table id="table2039709405232523" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002447250949__row930845085232523"><th align="left" class="cellrowborder" id="mcps1.3.14.4.1.4.1.1" valign="top" width="33.33333333333333%">命令</th> <th align="left" class="cellrowborder" id="mcps1.3.14.4.1.4.1.2" valign="top" width="33.33333333333333%">参数值</th> <th align="left" class="cellrowborder" id="mcps1.3.14.4.1.4.1.3" valign="top" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002447250949__row840889930232523"><td class="cellrowborder" valign="top" width="33.33333333333333%">wukong focus</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">-</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">主命令。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1732788971232523"><td class="cellrowborder" valign="top" width="33.33333333333333%">-s</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">10</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">参数设置随机种子，10为种子值。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row23880055232523"><td class="cellrowborder" valign="top" width="33.33333333333333%">-i</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">1000</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">参数设置应用拉起间隔为1000ms。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1941375121232523"><td class="cellrowborder" valign="top" width="33.33333333333333%">-a</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">0.28</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">参数设置应用随机拉起测试比例28%。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1686382990232523"><td class="cellrowborder" valign="top" width="33.33333333333333%">-t</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">0.72</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">参数设置屏幕随机touch测试比例为72%。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row744672441232523"><td class="cellrowborder" valign="top" width="33.33333333333333%">-c</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">100</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">参数设置执行次数为100次。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="查看测试结果">查看测试结果<i class="anchor-icon anchor-icon-link" anchorid="查看测试结果" tips="复制节点链接"></i></h2></div>  <div class="tiledSection"><h3 id="测试结果输出路径" class="firsth2">测试结果输出路径<i class="anchor-icon anchor-icon-link" anchorid="测试结果输出路径" tips="复制节点链接"></i></h3><p id="ZH-CN_TOPIC_0000002447250949__p1538845613232523">执行完测试指令后，会自动生成测试结果，测试结果输出根路径如下：</p> <ul id="ZH-CN_TOPIC_0000002447250949__ul27742938232523"><li id="li1611735546232523">2022/9/22之前的DevEco Studio版本，结果存放路径为：/data/local/wukong/report/xxxxxxxx_xxxxxx/</li><li id="li2133385089232523">2022/9/22之后的DevEco Studio版本，结果存放路径为：/data/local/tmp/wukong/report/xxxxxxxx_xxxxxx/</li></ul> </div>  <div class="tiledSection"><h3 id="测试报告文件目录">测试报告文件目录<i class="anchor-icon anchor-icon-link" anchorid="测试报告文件目录" tips="复制节点链接"></i></h3> <div class="tablenoborder"><div class="tbBox"><table id="table46750691232523" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002447250949__row1479932765232523"><th align="left" class="cellrowborder" id="mcps1.3.17.2.1.3.1.1" valign="top" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.17.2.1.3.1.2" valign="top" width="50%">描述</th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002447250949__row286109067232523"><td class="cellrowborder" valign="top" width="50%">exception/</td> <td class="cellrowborder" valign="top" width="50%">存放本次测试产生的异常文件。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row2120832315232523"><td class="cellrowborder" valign="top" width="50%">screenshot/</td> <td class="cellrowborder" valign="top" width="50%">存放测试遍历的截图。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1318223461232523"><td class="cellrowborder" valign="top" width="50%">wukong_report.csv</td> <td class="cellrowborder" valign="top" width="50%">测试报告统计汇总。</td> </tr> <tr id="ZH-CN_TOPIC_0000002447250949__row1668287876232523"><td class="cellrowborder" valign="top" width="50%">wukong.log</td> <td class="cellrowborder" valign="top" width="50%">测试操作历程。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="查看操作日志">查看操作日志<i class="anchor-icon anchor-icon-link" anchorid="查看操作日志" tips="复制节点链接"></i></h3><p id="ZH-CN_TOPIC_0000002447250949__p1358012168232523">wukong支持通过hdc命令将日志获取到本地，查看操作历程。</p> <div _ngcontent-ecl-c106="" class="highlight-div"><div _ngcontent-ecl-c106="" class="highlight-div-header"><div _ngcontent-ecl-c106="" class="highlight-div-header-left"><div _ngcontent-ecl-c106="" class="handle-button expand-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ecl-c106="" class="highlight-div-header-right"><div _ngcontent-ecl-c106="" class="handle-button ai-button"></div><div _ngcontent-ecl-c106="" class="handle-button line-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ecl-c106="" class="handle-button theme-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ecl-c106="" class="handle-button copy-button"><div _ngcontent-ecl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ecl-c106="" class="highlight-scroll-div"><pre class="bash prettyprint linenums hljs language-bash" id="ZH-CN_TOPIC_0000002447250949__screen2094447212232523" hw-language="bash" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment"># wukong.log文件对应路径如下</span></li><li>/data/local/tmp/wukong/report/xxxxxxxx_xxxxxx/wukong.log</li><li>
</li><li><span class="hljs-comment"># 查看wukong测试报告文件目录操作如下</span></li><li>$ <span class="hljs-built_in">cd</span> /data/local/tmp/wukong/report/20170805_170053</li><li>$ <span class="hljs-built_in">ls</span></li><li>data.js  exception  wukong.log  wukong_report.csv</li><li>
</li><li><span class="hljs-comment"># 开启shell窗口，用hdc file recv获取wukong日志</span></li><li>C:\Users\xxx&gt;hdc file recv /data/local/tmp/wukong/report/20170805_170053/wukong.log C:\Users\xxx\Desktop\<span class="hljs-built_in">log</span></li><li>[I][2024-01-03 20:08:02] HdcFile::TransferSummary success</li><li>FileTransfer finish, Size:76492, File count = 1, time:16ms rate:4780.75kB/s</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="常见问题">常见问题<i class="anchor-icon anchor-icon-link" anchorid="常见问题" tips="复制节点链接"></i></h2></div>  <div class="tiledSection"><h3 id="failed-to-connect-to-aams" class="firsth2">failed to connect to AAMS<i class="anchor-icon anchor-icon-link" anchorid="failed-to-connect-to-aams" tips="复制节点链接"></i></h3><p id="ZH-CN_TOPIC_0000002447250949__p1910304726232523"> <strong>错误描述</strong> </p> <p id="ZH-CN_TOPIC_0000002447250949__p296924432232523">failed to connect to AAMS.</p> <p id="ZH-CN_TOPIC_0000002447250949__p589705155232523"> <strong>可能原因</strong> </p> <p id="ZH-CN_TOPIC_0000002447250949__p2069626883232523">AAMS被hypium或者dev testing的UIViewer占用了，AAMS同一时间只能被一个程序连接。</p> <p id="ZH-CN_TOPIC_0000002447250949__p1114308514232523"> <strong>解决方案</strong> </p> <p id="ZH-CN_TOPIC_0000002447250949__p1777980227232523">结束占用AAMS的进程，或直接重启设备。</p> </div>  <div class="tiledSection"><h3 id="errorcode4005">Errorcode:(4005)<i class="anchor-icon anchor-icon-link" anchorid="errorcode4005" tips="复制节点链接"></i></h3><p id="ZH-CN_TOPIC_0000002447250949__p1904802218232523"> <strong>错误描述</strong> </p> <p id="ZH-CN_TOPIC_0000002447250949__p1227143506232523">Errorcode:(4005).</p> <p id="ZH-CN_TOPIC_0000002447250949__p1663395383232523"> <strong>可能原因</strong> </p> <p id="ZH-CN_TOPIC_0000002447250949__p1849432070232523">因屏幕显示区域大小变化，导致无障碍获取页面信息失败。</p> <p id="ZH-CN_TOPIC_0000002447250949__p222750014232523"> <strong>解决方案</strong> </p> <p id="ZH-CN_TOPIC_0000002447250949__p1284871194232523">该错误不影响测试流程，无需处理。</p> </div>  <div class="tiledSection"><h3 id="errorcode4007">Errorcode:(4007)<i class="anchor-icon anchor-icon-link" anchorid="errorcode4007" tips="复制节点链接"></i></h3><p id="ZH-CN_TOPIC_0000002447250949__p214201364232523"> <strong>错误描述</strong> </p> <p id="ZH-CN_TOPIC_0000002447250949__p1102142576232523">Errorcode:(4007).</p> <p id="ZH-CN_TOPIC_0000002447250949__p745175166232523"> <strong>可能原因</strong> </p> <p id="ZH-CN_TOPIC_0000002447250949__p253862098232523">因屏幕显示区域大小变化，导致无障碍获取页面信息失败。</p> <p id="ZH-CN_TOPIC_0000002447250949__p693660423232523"> <strong>解决方案</strong> </p> <p id="ZH-CN_TOPIC_0000002447250949__p599267934232523">该错误不影响测试流程，无需处理。</p> </div> </div> <div></div></div>