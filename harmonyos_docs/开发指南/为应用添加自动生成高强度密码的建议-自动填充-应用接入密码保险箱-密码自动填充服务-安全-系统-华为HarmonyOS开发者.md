<h1 _ngcontent-lqs-c119="" class="doc-title ng-star-inserted" title="为应用添加自动生成高强度密码的建议"> 为应用添加自动生成高强度密码的建议 </h1>

<div _ngcontent-lqs-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>在本文档中介绍的强密码特指，在密码保险箱强密码填充场景中，推荐用户使用的较强密码。强密码中一定包含大写字母、小写字母、数字三种字符。且强密码的复杂度高，破解难度大。</p> <p>当开发者没有指定密码规则，或是开发者指定的规则书写错误、不符合规范时，密码保险箱会根据<a href="/consumer/cn/doc/harmonyos-guides/passwordvault-custom-strong-password-rules#section7437183813818">默认的规则</a>生成符合开发者指定条件的强密码。开发者可以在允许的范围内指定强密码的规格，详见<a href="/consumer/cn/doc/harmonyos-guides/passwordvault-custom-strong-password-rules#section1082215712419">开发者可自定义的强密码规则</a>。</p> <div class="tiledSection"><h2 id="section7437183813818">默认强密码规则<i class="anchor-icon anchor-icon-link" anchorid="section7437183813818" tips="复制节点链接"></i></h2><p>当开发者没有指定规则，或是指定的密码规则不符合规范时，将按照以下默认规则生成强密码。</p> <ul><li><span>以字母开头。</span></li><li><span>包含大小写字母和数字。</span></li><li><span>长度为16位。</span></li></ul> </div> <div class="tiledSection"><h2 id="section1082215712419">开发者可自定义的强密码规则<i class="anchor-icon anchor-icon-link" anchorid="section1082215712419" tips="复制节点链接"></i></h2><p>开发者可以设置新密码输入框的passwordRules属性来指定强密码规则。</p> <p>强密码中一定包含大写字母、小写字母、数字三种字符。开发者可以按照以下指导对强密码规格做一些限定。</p> <p>强密码规则包含3个属性：</p> <p>3个属性可以任意选择，书写时顺序不做限制，属性之间以英文“，”进行分隔，每个属性只能出现一次。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>各属性段请严格参照介绍进行书写，否则将导致指定规则不生效。</p> </div></div></div> <ul><li><strong>"begin</strong><strong>"</strong><p>表示生成的强密码首位的字符类型，可选值如下表所示。该字段可缺省，若填写了非下表中的指定值则按默认规则处理。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.7.1.4.1.3.1.1" valign="top" width="50%"><p>取值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.4.1.3.1.2" valign="top" width="50%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="50%"><p>upper</p> </td> <td class="cellrowborder" valign="top" width="50%"><p>以大写字母开头。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="50%"><p>lower</p> </td> <td class="cellrowborder" valign="top" width="50%"><p>以小写字母开头。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="50%"><p>digit</p> </td> <td class="cellrowborder" valign="top" width="50%"><p>以数字开头。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="50%"><p>不填</p> </td> <td class="cellrowborder" valign="top" width="50%"><p>不填时，将以任意字母或数字0-9开头。</p> </td> </tr>  </tbody></table></div> </div> <p>格式举例：</p> <div _ngcontent-lqs-c106="" class="highlight-div"><div _ngcontent-lqs-c106="" class="highlight-div-header"><div _ngcontent-lqs-c106="" class="highlight-div-header-left"><div _ngcontent-lqs-c106="" class="handle-button expand-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-lqs-c106="" class="highlight-div-header-right"><div _ngcontent-lqs-c106="" class="handle-button ai-button"></div><div _ngcontent-lqs-c106="" class="handle-button line-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-lqs-c106="" class="handle-button theme-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-lqs-c106="" class="handle-button copy-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-lqs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-lua" data-highlighted="yes"><ol class="linenums"><li><span class="">begin:[<span class="hljs-built_in">upper</span>]</span></li></ol></pre></div></div> </li><li><strong>"special</strong><strong>"</strong><p>表示生成的强密码是否可以包含特殊字符。需要包含特殊字符时，请将该字段设置为"yes"；如不需要，不填写"special"字段。</p> <p>当设置为"yes"时，生成的强密码中将包含至少一个特殊字符，特殊字符不会出现在强密码的首位。</p> <p>强密码中可能出现的特殊字符包括：!@#$%^&amp;*</p> <p>格式举例：</p> <div _ngcontent-lqs-c106="" class="highlight-div"><div _ngcontent-lqs-c106="" class="highlight-div-header"><div _ngcontent-lqs-c106="" class="highlight-div-header-left"><div _ngcontent-lqs-c106="" class="handle-button expand-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-lqs-c106="" class="highlight-div-header-right"><div _ngcontent-lqs-c106="" class="handle-button ai-button"></div><div _ngcontent-lqs-c106="" class="handle-button line-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-lqs-c106="" class="handle-button theme-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-lqs-c106="" class="handle-button copy-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-lqs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-bash" data-highlighted="yes"><ol class="linenums"><li><span class="">special:[<span class="hljs-built_in">yes</span>]</span></li></ol></pre></div></div> </li><li><strong>"len"</strong><p>表示生成的强密码长度。密码保险箱允许设定的强密码长度最小12位，最大32位。</p> <p>强密码长度属性提供三个关键字用于描述长度。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.7.3.4.1.3.1.1" valign="top" width="50%"><p>关键字</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.7.3.4.1.3.1.2" valign="top" width="50%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="50%"><p>fixedlen</p> </td> <td class="cellrowborder" valign="top" width="50%"><p>固定长度</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="50%"><p>minlen</p> </td> <td class="cellrowborder" valign="top" width="50%"><p>最小长度</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="50%"><p>maxlen</p> </td> <td class="cellrowborder" valign="top" width="50%"><p>最大长度</p> </td> </tr>  </tbody></table></div> </div> <p>开发者可以根据以下方式指定强密码长度。如果开发者指定的密码长度数值不在有效范围[12, 32]内，将视为非法指定，系统将使用默认长度16位替代。</p> <ol><li><span>仅设置固定长度fixedlen，此时强密码长度为fixedlen设置值。</span><div _ngcontent-lqs-c106="" class="highlight-div"><div _ngcontent-lqs-c106="" class="highlight-div-header"><div _ngcontent-lqs-c106="" class="highlight-div-header-left"><div _ngcontent-lqs-c106="" class="handle-button expand-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-lqs-c106="" class="highlight-div-header-right"><div _ngcontent-lqs-c106="" class="handle-button ai-button"></div><div _ngcontent-lqs-c106="" class="handle-button line-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-lqs-c106="" class="handle-button theme-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-lqs-c106="" class="handle-button copy-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-lqs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-go" data-highlighted="yes"><ol class="linenums"><li><span class=""><span class="hljs-built_in">len</span>:[fixedlen:<span class="hljs-number">16</span>]</span></li></ol></pre></div></div> </li><li><span>仅设置最小长度minlen，此时强密码长度随机，最小长度为minlen设置值，最大为默认值32位。</span><div _ngcontent-lqs-c106="" class="highlight-div"><div _ngcontent-lqs-c106="" class="highlight-div-header"><div _ngcontent-lqs-c106="" class="highlight-div-header-left"><div _ngcontent-lqs-c106="" class="handle-button expand-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-lqs-c106="" class="highlight-div-header-right"><div _ngcontent-lqs-c106="" class="handle-button ai-button"></div><div _ngcontent-lqs-c106="" class="handle-button line-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-lqs-c106="" class="handle-button theme-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-lqs-c106="" class="handle-button copy-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-lqs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-go" data-highlighted="yes"><ol class="linenums"><li><span class=""><span class="hljs-built_in">len</span>:[minlen:<span class="hljs-number">15</span>]</span></li></ol></pre></div></div> </li><li><span>仅设置最大长度maxlen，此时强密码长度随机，最小长度为默认值12位，最大为maxlen设置值。</span><div _ngcontent-lqs-c106="" class="highlight-div"><div _ngcontent-lqs-c106="" class="highlight-div-header"><div _ngcontent-lqs-c106="" class="highlight-div-header-left"><div _ngcontent-lqs-c106="" class="handle-button expand-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-lqs-c106="" class="highlight-div-header-right"><div _ngcontent-lqs-c106="" class="handle-button ai-button"></div><div _ngcontent-lqs-c106="" class="handle-button line-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-lqs-c106="" class="handle-button theme-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-lqs-c106="" class="handle-button copy-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-lqs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-go" data-highlighted="yes"><ol class="linenums"><li><span class=""><span class="hljs-built_in">len</span>:[maxlen:<span class="hljs-number">28</span>]</span></li></ol></pre></div></div> </li><li><span>同时设置最大长度maxlen和最小长度minlen。设置时，minlen的值必须小于maxlen的值。此时强密码长度随机，最小长度为minlen设置值，最大为maxlen设置值。</span><div _ngcontent-lqs-c106="" class="highlight-div"><div _ngcontent-lqs-c106="" class="highlight-div-header"><div _ngcontent-lqs-c106="" class="highlight-div-header-left"><div _ngcontent-lqs-c106="" class="handle-button expand-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-lqs-c106="" class="highlight-div-header-right"><div _ngcontent-lqs-c106="" class="handle-button ai-button"></div><div _ngcontent-lqs-c106="" class="handle-button line-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-lqs-c106="" class="handle-button theme-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-lqs-c106="" class="handle-button copy-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-lqs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class=""><span class="hljs-variable">len</span>:[<span class="hljs-variable">minlen</span>:<span class="hljs-number">13</span>,<span class="hljs-variable">maxlen</span>:<span class="hljs-number">18</span>]</span></li></ol></pre></div></div> </li><li><span>若不指定len属性，强密码长度默认为16位。</span></li></ol> </li></ul> </div> <div class="tiledSection"><h3 id="section89001116389" class="firsth2">自定义规则样例说明<i class="anchor-icon anchor-icon-link" anchorid="section89001116389" tips="复制节点链接"></i></h3><p>正确的规则样例如下：</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.3.1.3.1.1" valign="top" width="36.7%"><p>强密码规则样例</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.3.1.3.1.2" valign="top" width="63.3%"><p>规则释义</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="36.7%"><p>begin:[upper],special:[yes],len:[maxlen:32,minlen:12]</p> </td> <td class="cellrowborder" valign="top" width="63.3%"><p>以大写字母开头，包含大小写字母、数字、特殊字符，长度为12-32之间（包含12和32）的随机数值。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="36.7%"><p>begin:[lower],special:[yes],len:[minlen:14]</p> </td> <td class="cellrowborder" valign="top" width="63.3%"><p>以小写字母开头，包含大小写字母、数字、特殊字符，长度为14-32之间（包含14和32）的随机数值。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="36.7%"><p>begin:[digit],special:[yes],len:[fixedlen:15]</p> </td> <td class="cellrowborder" valign="top" width="63.3%"><p>以数字开头，包含大小写字母、数字、特殊字符，长度为15。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="36.7%"><p>begin:[upper]</p> </td> <td class="cellrowborder" valign="top" width="63.3%"><p>以大写字母开头，包含大小写字母、数字，长度为16。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="36.7%"><p>special:[yes]</p> </td> <td class="cellrowborder" valign="top" width="63.3%"><p>以任意字母或数字开头，包含大小写字母、数字、特殊字符，长度为16。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="36.7%"><p>len:[fixedlen:15]</p> </td> <td class="cellrowborder" valign="top" width="63.3%"><p>以任意字母或数字开头，包含大小写字母、数字，长度为15。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="36.7%"><p>begin:[upper],special:[yes]</p> </td> <td class="cellrowborder" valign="top" width="63.3%"><p>以大写字母开头，包含大小写字母、数字、特殊字符,长度为16。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="36.7%"><p>begin:[lower],len:[maxlen:25,minlen:12]</p> </td> <td class="cellrowborder" valign="top" width="63.3%"><p>以小写字母开头，包含大小写字母、数字，长度为12-25之间（包含12和25）的随机数值。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="36.7%"><p>special:[yes],len:[fixedlen:15]</p> </td> <td class="cellrowborder" valign="top" width="63.3%"><p>以任意字母或数字开头，包含大小写字母、数字、特殊字符，长度为15。</p> </td> </tr>  </tbody></table></div> </div> <p>错误的规则用例如下：</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.5.1.3.1.1" valign="top" width="37.2%"><p>强密码规则错误用例</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.3.1.2" valign="top" width="62.8%"><p>错误原因</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="37.2%"><p>begin:[uppper]</p> </td> <td class="cellrowborder" valign="top" width="62.8%"><p>begin属性的取值upper拼写错误。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="37.2%"><p>began:[upper]</p> </td> <td class="cellrowborder" valign="top" width="62.8%"><p>begin属性拼写错误。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="37.2%"><p>len:[15]</p> </td> <td class="cellrowborder" valign="top" width="62.8%"><p>len属性语法错误，未使用三种长度关键词。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="37.2%"><p>len:[fixedlen:15,maxlen:18]</p> </td> <td class="cellrowborder" valign="top" width="62.8%"><p>len属性语法错误，fixedlen与maxlen不可混用。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="37.2%"><p>len:[maxlen:15,minlen:18]</p> </td> <td class="cellrowborder" valign="top" width="62.8%"><p>len属性参数值错误，maxlen的取值不能小于minlen。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="section64612364319">示例<i class="anchor-icon anchor-icon-link" anchorid="section64612364319" tips="复制节点链接"></i></h3><div _ngcontent-lqs-c106="" class="highlight-div"><div _ngcontent-lqs-c106="" class="highlight-div-header"><div _ngcontent-lqs-c106="" class="highlight-div-header-left"><div _ngcontent-lqs-c106="" class="handle-button expand-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-lqs-c106="" class="highlight-div-header-right"><div _ngcontent-lqs-c106="" class="handle-button ai-button"></div><div _ngcontent-lqs-c106="" class="handle-button line-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-lqs-c106="" class="handle-button theme-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-lqs-c106="" class="handle-button copy-button"><div _ngcontent-lqs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-lqs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class=""><span class="hljs-built_in">TextInput</span>({ placeholder: '新密码' })</span></li><li><span class="">    <span class="hljs-selector-class">.enableAutoFill</span>(true)</span></li><li><span class="">    <span class="hljs-selector-class">.type</span>(InputType.NEW_PASSWORD)</span></li><li><span class="">    <span class="hljs-selector-class">.passwordRules</span>('begin:[lower],special:[yes]</span><span class="">,len:[maxlen:<span class="hljs-number">32</span>,minlen:<span class="hljs-number">12</span>]')</span></li><li><span class="">    <span class="hljs-selector-class">.placeholderColor</span>(<span class="hljs-number">0</span>x182431)</span></li><li><span class="">    <span class="hljs-selector-class">.width</span>('<span class="hljs-number">100%</span>')</span></li><li><span class="">    <span class="hljs-selector-class">.opacity</span>(<span class="hljs-number">0.6</span>)</span></li><li><span class="">    <span class="hljs-selector-class">.showPasswordIcon</span>(true)</span></li><li><span class="">    <span class="hljs-selector-class">.placeholderFont</span>({ size: <span class="hljs-number">16</span>, weight: FontWeight.Regular })</span></li><li><span class="">    <span class="hljs-selector-class">.margin</span>({ bottom: <span class="hljs-number">36</span> })</span></li></ol></pre></div></div> </div> </div> <div></div></div>