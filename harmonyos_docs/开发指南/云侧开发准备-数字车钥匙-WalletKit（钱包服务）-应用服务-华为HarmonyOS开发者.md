<h1 _ngcontent-gdi-c119="" class="doc-title ng-star-inserted" title="云侧开发准备"> 云侧开发准备 </h1>

<div _ngcontent-gdi-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="section141202223915">Wallet Kit服务云侧接入基本信息配置<i class="anchor-icon anchor-icon-link" anchorid="section141202223915" tips="复制节点链接"></i></h2><p>在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/wallet-preparations">创建Wallet Kit服务</a>的配置参数里填写。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.1.3.1.3.1.1" valign="top" width="24.83%"><p>Wallet Kit服务参数名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.1.3.1.3.1.2" valign="top" width="75.17%"><p>参数值</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="24.83%"><p>服务类型</p> </td> <td class="cellrowborder" valign="top" width="75.17%"><p>钥匙</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="24.83%"><p>服务项目</p> </td> <td class="cellrowborder" valign="top" width="75.17%"><p>ICCE车钥匙</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="24.83%"><p>服务名称</p> </td> <td class="cellrowborder" valign="top" width="75.17%"><p>xxx数字车钥匙服务（xxx可为公司名称/产品名称）。该字段仅用于方便开发者区分自己配置的多个服务，没有其他用途。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="24.83%"><p>服务号</p> </td> <td class="cellrowborder" valign="top" width="75.17%"><p>ICCE车钥匙卡片的发卡机构，用于唯一表明某一发卡机构。hwpass.stdcarkey.xxx.xxx（xxx可为公司/产品名称，总长度不超过32个英文小写字符，请严格按照此规则定义）。钱包可根据此值进行发卡机构的管控；在预置模板、生成钥匙卡片以及开通激活过程的请求体中会携带该值。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="24.83%"><p>接入方式</p> </td> <td class="cellrowborder" valign="top" width="75.17%"><p>云端接入</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="24.83%"><p>回调地址</p> </td> <td class="cellrowborder" valign="top" width="75.17%"><p>用于用户添加/删除卡券时回调通知发卡机构的地址，注意：地址必须使用https。示例：https://商户服务器地址/v1/passes/nfccallback。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="24.83%"><p>用户公钥</p> </td> <td class="cellrowborder" valign="top" width="75.17%"><p>按照<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/wallet-preparations">创建Wallet Kit服务</a>步骤5提供的生成方式，并将生成的公钥内容粘贴在此处。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.2.1.3.1.1" valign="top" width="24.81%"><p>NFC参数名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.2.1.3.1.2" valign="top" width="75.19%"><p>参数值</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="24.81%"><p>是否支持跨设备移动同步</p> </td> <td class="cellrowborder" valign="top" width="75.19%"><p>是</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="24.81%"><p>是否开通NFC能力</p> </td> <td class="cellrowborder" valign="top" width="75.19%"><p>是</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>这里的“是否开通NFC能力”，只要支持蓝牙功能，就需要选择是。</p> </div></div></div> <div class="tiledSection"><h2 id="section12609122318407">配置车钥匙管理台地址至钱包服务器<i class="anchor-icon anchor-icon-link" anchorid="section12609122318407" tips="复制节点链接"></i></h2><p>在车钥匙的开通激活阶段，钱包需要向商户服务器请求数据；这整个的数据链路为：华为钱包APP-&gt;钱包云服务器-&gt;DK业务管理服务。</p> <p>钱包云服务器向DK业务管理服务请求需要知道DK业务管理服务的地址，因此需要将DK业务管理服务的地址配置进钱包云服务器。</p> <div _ngcontent-gdi-c106="" class="highlight-div"><div _ngcontent-gdi-c106="" class="highlight-div-header"><div _ngcontent-gdi-c106="" class="highlight-div-header-left"><div _ngcontent-gdi-c106="" class="handle-button expand-button"><div _ngcontent-gdi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gdi-c106="" class="highlight-div-header-right"><div _ngcontent-gdi-c106="" class="handle-button ai-button"></div><div _ngcontent-gdi-c106="" class="handle-button line-button"><div _ngcontent-gdi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gdi-c106="" class="handle-button theme-button"><div _ngcontent-gdi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gdi-c106="" class="handle-button copy-button"><div _ngcontent-gdi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gdi-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class=""><span class="hljs-string">"registrationsUrl"</span></span>: <span class=""><span class="hljs-string">"商户服务器地址/v1/passes/registrations"</span></span>,</li><li><span class=""><span class="hljs-string">"requestPersonalizeTokenUrl"</span></span>: <span class=""><span class="hljs-string">"商户服务器地址/v1/passes/requestPersonalizeToken"</span></span>,</li><li><span class=""><span class="hljs-string">"requestPersonalizeUrl"</span></span>: <span class=""><span class="hljs-string">"商户服务器地址/v1/passes/requestPersonalize"</span></span>,</li><li><span class=""><span class="hljs-string">"spNfcOperCallBackUrl"</span></span>：<span class=""><span class="hljs-string">"商户服务器地址/v1/passes/nfccallback"</span></span></li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section291173112447">UI设计<i class="anchor-icon anchor-icon-link" anchorid="section291173112447" tips="复制节点链接"></i></h2> <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.2.1.3.1.1" valign="top" width="32.17%"><p>车钥匙列表元素</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.3.1.2" valign="top" width="67.83%"><p>设计规范</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="32.17%"><p>LOGO</p> </td> <td class="cellrowborder" valign="top" width="67.83%"><p>尺寸64dp×64dp，提供方图</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="32.17%"><p>名称</p> </td> <td class="cellrowborder" valign="top" width="67.83%"><p>无</p> </td> </tr>  </tbody></table></div> </div>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.3.1.3.1.1" valign="top" width="32.17%"><p>车钥匙详情元素</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.3.1.3.1.2" valign="top" width="67.83%"><p>设计规范</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="32.17%"><p>LOGO</p> </td> <td class="cellrowborder" valign="top" width="67.83%"><p>尺寸32dp×32dp</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="32.17%"><p>名称</p> </td> <td class="cellrowborder" valign="top" width="67.83%"><p>无</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="32.17%"><p>卡面图片</p> </td> <td class="cellrowborder" valign="top" width="67.83%"><p>尺寸328dp×205dp，提供方图</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>所有图片请直接提供直角，请勿切圆角；注意在深色模式下，图片的边框不要有白边。</p> </div></div></div> </div> </div> <div></div></div>