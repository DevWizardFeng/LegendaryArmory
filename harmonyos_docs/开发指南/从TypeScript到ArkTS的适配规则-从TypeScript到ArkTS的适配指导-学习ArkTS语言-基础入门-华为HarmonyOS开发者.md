<h1 _ngcontent-fyn-c119="" class="doc-title ng-star-inserted" title="从TypeScript到ArkTS的适配规则"> 从TypeScript到ArkTS的适配规则 </h1>

<div _ngcontent-fyn-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;"> <div><p>ArkTS规范约束了TypeScript（简称TS）中影响开发正确性或增加运行时开销的特性。本文罗列了ArkTS中限制的TS特性，并提供重构代码的建议。ArkTS保留了TS大部分语法特性，未在本文中约束的TS特性，ArkTS完全支持。例如，ArkTS支持自定义装饰器，语法与TS一致。按本文约束进行代码重构后，代码仍为合法有效的TS代码。</p> <p><strong>示例</strong></p> <p>包含关键字var的原始TypeScript代码：</p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">addTen</span>(<span class="hljs-params">x: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span> {</li><li>  <span class="hljs-keyword">var</span> ten = <span class="hljs-number">10</span>;</li><li>  <span class="hljs-keyword">return</span> x + ten;</li><li>}</li></ol></pre></div></div> <p>重构后的代码：</p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">addTen</span>(<span class="hljs-params">x: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span> {</li><li>  <span class="hljs-keyword">let</span> ten = <span class="hljs-number">10</span>;</li><li>  <span class="hljs-keyword">return</span> x + ten;</li><li>}</li></ol></pre></div></div> <p><strong>级别</strong></p> <p>约束分为两个级别：错误、警告。</p> <ul><li><strong>错误</strong>: 必须要遵从的约束。如果不遵从该约束，将会导致程序编译失败。</li><li><strong>警告</strong>: 推荐遵从的约束。尽管现在违反该约束不会影响编译流程，但是在将来，违反该约束可能会导致程序编译失败。</li></ul> <p><strong>不支持的特性</strong></p> <p>目前，不支持的特性主要包括：</p> <ul><li>与降低运行时性能的动态类型相关的特性。</li><li>需要编译器额外支持从而导致项目构建时间增加的特性。</li></ul> <p>根据开发者的反馈和实际场景的数据，未来将逐步减少不支持的特性。</p>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 140px;"><h2 id="概述">概述<i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2><p>本节罗列了ArkTS不支持或部分支持的TypeScript特性。完整的列表以及详细的代码示例和重构建议，请参考<a href="/consumer/cn/doc/harmonyos-guides/typescript-to-arkts-migration-guide#约束说明">约束说明</a>。更多案例请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-more-cases">适配指导案例</a>。</p> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 824px;"><h3 id="强制使用静态类型" class="firsth2">强制使用静态类型<i class="anchor-icon anchor-icon-link" anchorid="强制使用静态类型" tips="复制节点链接"></i></h3><p>静态类型是ArkTS的重要特性之一。当程序使用静态类型时，所有类型在编译时已知，这有助于开发者理解代码中的数据结构。编译器可以提前验证代码的正确性，减少运行时的类型检查，从而提升性能。</p> <p>基于上述考虑，ArkTS中禁止使用any类型。</p> <p><strong>示例</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 不支持：</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">res</span>: <span class="hljs-built_in">any</span> = <span class="hljs-title function_">some_api_function</span>(<span class="hljs-string">'hello'</span>, <span class="hljs-string">'world'</span>);</li><li><span class="hljs-comment">// 支持：</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">CallResult</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">succeeded</span>(): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</li><li>  }</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">errorMessage</span>(): <span class="hljs-built_in">string</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-string">'123'</span>;</li><li>  }</li><li>}</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">some_api_function</span>(<span class="hljs-params">param1: <span class="hljs-built_in">string</span>, param2: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">CallResult</span> {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CallResult</span>();</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">res</span>: <span class="hljs-title class_">CallResult</span> = <span class="hljs-title function_">some_api_function</span>(<span class="hljs-string">'hello'</span>, <span class="hljs-string">'world'</span>);</li><li><span class="hljs-keyword">if</span> (!res.<span class="hljs-title function_">succeeded</span>()) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Call failed: '</span> + res.<span class="hljs-title function_">errorMessage</span>());</li><li>}</li></ol></pre></div></div> <p>any类型在TypeScript中并不常见，仅约1%的TypeScript代码库使用。代码检查工具（例如ESLint）也制定了一系列规则来禁止使用any。因此，虽然禁止any将导致代码重构，但重构量很小，有助于整体性能提升。</p> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1584px;"><h3 id="禁止在运行时变更对象布局">禁止在运行时变更对象布局<i class="anchor-icon anchor-icon-link" anchorid="禁止在运行时变更对象布局" tips="复制节点链接"></i></h3><p>为实现最佳性能，ArkTS要求在程序执行期间不能更改对象的布局。换句话说，ArkTS禁止以下行为：</p> <ul><li>向对象中添加新的属性或方法。</li><li>从对象中删除已有的属性或方法。</li><li>将任意类型的值赋值给对象属性。</li></ul> <p>TypeScript编译器已经禁止了许多此类操作。然而，有些操作还是有可能绕过编译器的，例如，使用as any转换对象的类型，或者在编译TS代码时关闭严格类型检查的配置，或者在代码中通过@ts-ignore忽略类型检查。</p> <p>在ArkTS中，严格类型检查不是可配置项。ArkTS强制进行部分严格类型检查，并通过规范禁止使用any类型，禁止在代码中使用@ts-ignore。</p> <p><strong>示例</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">x: <span class="hljs-built_in">number</span>, y: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> = x;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> = y;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">// 无法从对象中删除某个属性，从而确保所有Point对象都具有属性x</span></li><li><span class="hljs-keyword">let</span> p1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Point</span>(<span class="hljs-number">1.0</span>, <span class="hljs-number">1.0</span>);</li><li><span class="hljs-keyword">delete</span> p1.<span class="hljs-property">x</span>;           <span class="hljs-comment">// 在TypeScript和ArkTS中，都会产生编译时错误</span></li><li><span class="hljs-keyword">delete</span> (p1 <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">x</span>;  <span class="hljs-comment">// 在TypeScript中不会报错；在ArkTS中会产生编译时错误</span></li><li>
</li><li><span class="hljs-comment">// Point类没有定义命名为z的属性，在程序运行时也无法添加该属性</span></li><li><span class="hljs-keyword">let</span> p2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Point</span>(<span class="hljs-number">2.0</span>, <span class="hljs-number">2.0</span>);</li><li>p2.<span class="hljs-property">z</span> = <span class="hljs-string">'Label'</span>;           <span class="hljs-comment">// 在TypeScript和ArkTS中，都会产生编译时错误</span></li><li>(p2 <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">z</span> = <span class="hljs-string">'Label'</span>;   <span class="hljs-comment">// 在TypeScript中不会报错；在ArkTS中会产生编译时错误</span></li><li>
</li><li><span class="hljs-comment">// 类的定义确保了所有Point对象只有属性x和y，并且无法被添加其他属性</span></li><li><span class="hljs-keyword">let</span> p3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Point</span>(<span class="hljs-number">3.0</span>, <span class="hljs-number">3.0</span>);</li><li><span class="hljs-keyword">let</span> prop = <span class="hljs-title class_">Symbol</span>();      <span class="hljs-comment">// 在TypeScript中不会报错；在ArkTS中会产生编译时错误</span></li><li>(p3 <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>)[prop] = p3.<span class="hljs-property">x</span>; <span class="hljs-comment">// 在TypeScript中不会报错；在ArkTS中会产生编译时错误</span></li><li>p3[prop] = p3.<span class="hljs-property">x</span>;          <span class="hljs-comment">// 在TypeScript和ArkTS中，都会产生编译时错误</span></li><li>
</li><li><span class="hljs-comment">// 类的定义确保了所有Point对象的属性x和y都具有number类型，因此，无法将其他类型的值赋值给它们</span></li><li><span class="hljs-keyword">let</span> p4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Point</span>(<span class="hljs-number">4.0</span>, <span class="hljs-number">4.0</span>);</li><li>p4.<span class="hljs-property">x</span> = <span class="hljs-string">'Hello!'</span>;          <span class="hljs-comment">// 在TypeScript和ArkTS中，都会产生编译时错误</span></li><li>(p4 <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">x</span> = <span class="hljs-string">'Hello!'</span>; <span class="hljs-comment">// 在TypeScript中不会报错；在ArkTS中会产生编译时错误</span></li><li>
</li><li><span class="hljs-comment">// 使用符合类定义的Point对象：</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">distance</span>(<span class="hljs-params">p1: Point, p2: Point</span>): <span class="hljs-built_in">number</span> {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(</li><li>    (p2.<span class="hljs-property">x</span> - p1.<span class="hljs-property">x</span>) * (p2.<span class="hljs-property">x</span> - p1.<span class="hljs-property">x</span>) + (p2.<span class="hljs-property">y</span> - p1.<span class="hljs-property">y</span>) * (p2.<span class="hljs-property">y</span> - p1.<span class="hljs-property">y</span>)</li><li>  );</li><li>}</li><li><span class="hljs-keyword">let</span> p5 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Point</span>(<span class="hljs-number">5.0</span>, <span class="hljs-number">5.0</span>);</li><li><span class="hljs-keyword">let</span> p6 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Point</span>(<span class="hljs-number">6.0</span>, <span class="hljs-number">6.0</span>);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Distance between p5 and p6: '</span> + <span class="hljs-title function_">distance</span>(p5, p6));</li></ol></pre></div></div> <p>修改对象布局会影响代码可读性和运行时性能。定义类后，在其他地方修改对象布局，容易引起困惑乃至引入错误。此外，还需要额外的运行时支持，增加执行开销。这与静态类型约束冲突：使用显式类型时，不应添加或删除属性。</p> <p>当前，只有少数项目允许在运行时变更对象布局，一些常用的代码检查工具也增加了相应的限制规则。虽然需要少量代码重构，但由此带来的性能提升收益十分可观。</p> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 440px;"><h3 id="限制运算符的语义">限制运算符的语义<i class="anchor-icon anchor-icon-link" anchorid="限制运算符的语义" tips="复制节点链接"></i></h3><p>为获得更好的性能并鼓励开发者编写更清晰的代码，ArkTS限制了一些运算符的语义。详细的语义限制，请参考<a href="/consumer/cn/doc/harmonyos-guides/typescript-to-arkts-migration-guide#约束说明">约束说明</a>。</p> <p><strong>示例</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 一元运算符`+`只能作用于数值类型：</span></li><li><span class="hljs-keyword">let</span> t = +<span class="hljs-number">42</span>;   <span class="hljs-comment">// 合法运算</span></li><li><span class="hljs-keyword">let</span> s = +<span class="hljs-string">'42'</span>; <span class="hljs-comment">// 编译时错误</span></li></ol></pre></div></div> <p>使用额外的语义重载语言运算符会增加语言规范的复杂度，而且，开发者还被迫牢记所有可能的例外情况及对应的处理规则。在特定情况下，这会导致不必要的运行时开销。</p> <p>当前只有不到1%的代码库使用该特性。因此，尽管限制运算符的语义需要重构代码，但重构量很小且非常容易操作，并且，通过重构能使代码更清晰、具备更高性能。</p> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1384px;"><h3 id="不支持-structural-typing">不支持 structural typing<i class="anchor-icon anchor-icon-link" anchorid="不支持-structural-typing" tips="复制节点链接"></i></h3><p>假设两个不相关的类T和U都拥有相同的publicAPI：</p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">greet</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Hello, '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">U</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">greet</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Greetings, '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> <p>类型为T的值是否能赋给类型为U的变量。</p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">u</span>: U = <span class="hljs-keyword">new</span> <span class="hljs-title function_">T</span>(); <span class="hljs-comment">// 是否允许？</span></li></ol></pre></div></div> <p>类型为T的值是否能传递给接受类型为U的参数的函数。</p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">greeter</span>(<span class="hljs-params">u: U</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'To '</span> + u.<span class="hljs-property">name</span>);</li><li>  u.<span class="hljs-title function_">greet</span>();</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">t</span>: T = <span class="hljs-keyword">new</span> <span class="hljs-title function_">T</span>();</li><li><span class="hljs-title function_">greeter</span>(t); <span class="hljs-comment">// 是否允许？</span></li></ol></pre></div></div> <p>具体采用哪种方法，情况如下：</p> <ul><li>T和U没有继承关系或没有implements相同的接口，但由于它们具有相同的publicAPI，它们“在某种程度上是相等的”，因此上述两个问题的答案都是“是”。</li><li>T和U没有继承关系或没有implements相同的接口，应当始终被视为完全不同的类型，因此上述两个问题的答案都是“否”。</li></ul> <p>采用第一种方法的语言支持structural typing，而采用第二种方法的语言则不支持structural typing。目前TypeScript支持structural typing，而ArkTS不支持。</p> <p>关于structural typing是否有助于生成清晰、易理解的代码，目前尚无定论。ArkTS不支持structural typing的原因如下：</p> <p>因为对structural typing的支持是一个重大的特性，需要在语言规范、编译器和运行时进行大量的考虑和仔细的实现。另外，由于ArkTS使用静态类型，运行时为了支持这个特性需要额外的性能开销。</p> <p>鉴于此，当前我们还不支持该特性。根据实际场景的需求和反馈，我们后续会重新加以考虑。更多案例和建议请参考<a href="/consumer/cn/doc/harmonyos-guides/typescript-to-arkts-migration-guide#约束说明">约束说明</a>。</p> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 80px;"><h2 id="约束说明">约束说明<i class="anchor-icon anchor-icon-link" anchorid="约束说明" tips="复制节点链接"></i></h2></div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1249px;"><h3 id="对象的属性名必须是合法的标识符" class="firsth2">对象的属性名必须是合法的标识符<i class="anchor-icon anchor-icon-link" anchorid="对象的属性名必须是合法的标识符" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-identifiers-as-prop-names</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605001</strong></p> <p>在ArkTS中，对象的属性名不能为数字或字符串。例外：ArkTS支持属性名为字符串字面量和枚举中的字符串值。通过属性名访问类的属性，通过数值索引访问数组元素。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">var</span> x = { <span class="hljs-string">'name'</span>: <span class="hljs-string">'x'</span>, <span class="hljs-number">2</span>: <span class="hljs-string">'3'</span> };</li><li>
</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(x[<span class="hljs-string">'name'</span>]); <span class="hljs-comment">// x</span></li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(x[<span class="hljs-number">2</span>]); <span class="hljs-comment">// 3</span></li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">X</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">x</span>: X = { <span class="hljs-attr">name</span>: <span class="hljs-string">'x'</span> };</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(x.<span class="hljs-property">name</span>); <span class="hljs-comment">// x</span></li><li>
</li><li><span class="hljs-keyword">let</span> y = [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>];</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(y[<span class="hljs-number">2</span>]); <span class="hljs-comment">// c</span></li><li>
</li><li><span class="hljs-comment">// 在需要通过非标识符（即不同类型的key）获取数据的场景中，使用Map&lt;Object, some_type&gt;。</span></li><li><span class="hljs-keyword">let</span> z = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">Object</span>, <span class="hljs-built_in">string</span>&gt;();</li><li>z.<span class="hljs-title function_">set</span>(<span class="hljs-string">'name'</span>, <span class="hljs-string">'1'</span>);</li><li>z.<span class="hljs-title function_">set</span>(<span class="hljs-number">2</span>, <span class="hljs-string">'2'</span>);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(z.<span class="hljs-title function_">get</span>(<span class="hljs-string">'name'</span>));  <span class="hljs-comment">// 1</span></li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(z.<span class="hljs-title function_">get</span>(<span class="hljs-number">2</span>)); <span class="hljs-comment">// 2</span></li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Test</span> {</li><li>  A = <span class="hljs-string">'aaa'</span>,</li><li>  B = <span class="hljs-string">'bbb'</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">obj</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>&gt; = {</li><li>  [<span class="hljs-title class_">Test</span>.<span class="hljs-property">A</span>]: <span class="hljs-number">1</span>,   <span class="hljs-comment">// 枚举中的字符串值</span></li><li>  [<span class="hljs-title class_">Test</span>.<span class="hljs-property">B</span>]: <span class="hljs-number">2</span>,   <span class="hljs-comment">// 枚举中的字符串值</span></li><li>  [<span class="hljs-string">'value'</span>]: <span class="hljs-number">3</span>   <span class="hljs-comment">// 字符串字面量</span></li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 284px;"><h3 id="不支持symbolapi">不支持Symbol()API<i class="anchor-icon anchor-icon-link" anchorid="不支持symbolapi" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-symbol</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605002</strong></p> <p>在ArkTS中，对象布局在编译时确定，不可在运行时更改，因此不支持Symbol() API。该API在静态类型语言中通常没有实际意义。</p> <p>ArkTS只支持Symbol.iterator。</p> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 649px;"><h3 id="不支持以开头的私有字段">不支持以#开头的私有字段<i class="anchor-icon anchor-icon-link" anchorid="不支持以开头的私有字段" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-private-identifiers</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605003</strong></p> <p>ArkTS不支持使用#符号开头声明的私有字段。改用private关键字。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> {</li><li>  #<span class="hljs-attr">foo</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">42</span></li><li>}</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">foo</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">42</span></li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 601px;"><h3 id="类型命名空间的命名必须唯一">类型、命名空间的命名必须唯一<i class="anchor-icon anchor-icon-link" anchorid="类型命名空间的命名必须唯一" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-unique-names</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605004</strong></p> <p>类型（类、接口、枚举）和命名空间的名称必须唯一，并且不能与其他名称（如变量名、函数名）重复。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">X</span>: <span class="hljs-built_in">string</span></li><li><span class="hljs-keyword">type</span> X = <span class="hljs-built_in">number</span>[] <span class="hljs-comment">// 类型的别名与变量同名</span></li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">X</span>: <span class="hljs-built_in">string</span></li><li><span class="hljs-keyword">type</span> T = <span class="hljs-built_in">number</span>[] <span class="hljs-comment">// 为避免名称冲突，此处不允许使用X</span></li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1393px;"><h3 id="使用let而非var">使用let而非var<i class="anchor-icon anchor-icon-link" anchorid="使用let而非var" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-var</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605005</strong></p> <p>let关键字可以在块级作用域中声明变量，帮助程序员避免错误。因此，ArkTS不支持var，请使用let声明变量。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">f</span>(<span class="hljs-params">shouldInitialize: <span class="hljs-built_in">boolean</span></span>) {</li><li>  <span class="hljs-keyword">if</span> (shouldInitialize) {</li><li>     <span class="hljs-keyword">var</span> x = <span class="hljs-string">'b'</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> x;</li><li>}</li><li>
</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-title function_">f</span>(<span class="hljs-literal">true</span>));  <span class="hljs-comment">// b</span></li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-title function_">f</span>(<span class="hljs-literal">false</span>)); <span class="hljs-comment">// undefined</span></li><li>
</li><li><span class="hljs-keyword">let</span> upperLet = <span class="hljs-number">0</span>;</li><li>{</li><li>  <span class="hljs-keyword">var</span> scopedVar = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-keyword">let</span> scopedLet = <span class="hljs-number">0</span>;</li><li>  upperLet = <span class="hljs-number">5</span>;</li><li>}</li><li>scopedVar = <span class="hljs-number">5</span>; <span class="hljs-comment">// 可见</span></li><li>scopedLet = <span class="hljs-number">5</span>; <span class="hljs-comment">// 编译时错误</span></li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">f</span>(<span class="hljs-params">shouldInitialize: <span class="hljs-built_in">boolean</span></span>): <span class="hljs-built_in">string</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">x</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'a'</span>;</li><li>  <span class="hljs-keyword">if</span> (shouldInitialize) {</li><li>    x = <span class="hljs-string">'b'</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> x;</li><li>}</li><li>
</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-title function_">f</span>(<span class="hljs-literal">true</span>));  <span class="hljs-comment">// b</span></li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-title function_">f</span>(<span class="hljs-literal">false</span>)); <span class="hljs-comment">// a</span></li><li>
</li><li><span class="hljs-keyword">let</span> upperLet = <span class="hljs-number">0</span>;</li><li><span class="hljs-keyword">let</span> scopedVar = <span class="hljs-number">0</span>;</li><li>{</li><li>  <span class="hljs-keyword">let</span> scopedLet = <span class="hljs-number">0</span>;</li><li>  upperLet = <span class="hljs-number">5</span>;</li><li>}</li><li>scopedVar = <span class="hljs-number">5</span>;</li><li>scopedLet = <span class="hljs-number">5</span>; <span class="hljs-comment">//编译时错误</span></li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 769px;"><h3 id="使用具体的类型而非any或unknown">使用具体的类型而非any或unknown<i class="anchor-icon anchor-icon-link" anchorid="使用具体的类型而非any或unknown" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-any-unknown</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605008</strong></p> <p>ArkTS不支持any和unknown类型。显式指定具体类型。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">value1</span>: <span class="hljs-built_in">any</span></li><li>value1 = <span class="hljs-literal">true</span>;</li><li>value1 = <span class="hljs-number">42</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">value2</span>: <span class="hljs-built_in">unknown</span></li><li>value2 = <span class="hljs-literal">true</span>;</li><li>value2 = <span class="hljs-number">42</span>;</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">value_b</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>; <span class="hljs-comment">// 或者 let value_b = true</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">value_n</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">42</span>; <span class="hljs-comment">// 或者 let value_n = 42</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">value_o1</span>: <span class="hljs-title class_">Object</span> = <span class="hljs-literal">true</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">value_o2</span>: <span class="hljs-title class_">Object</span> = <span class="hljs-number">42</span>;</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1057px;"><h3 id="使用class而非具有call-signature的类型">使用class而非具有call signature的类型<i class="anchor-icon anchor-icon-link" anchorid="使用class而非具有call-signature的类型" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-call-signatures</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605014</strong></p> <p>ArkTS不支持对象类型中包含call signature。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">type</span> <span class="hljs-title class_">DescribableFunction</span> = {</li><li>  <span class="hljs-attr">description</span>: <span class="hljs-built_in">string</span></li><li>  (<span class="hljs-attr">someArg</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">string</span> <span class="hljs-comment">// call signature</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">doSomething</span>(<span class="hljs-params">fn: DescribableFunction</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(fn.<span class="hljs-property">description</span> + <span class="hljs-string">' returned '</span> + <span class="hljs-title function_">fn</span>(<span class="hljs-string">''</span>));</li><li>}</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DescribableFunction</span> {</li><li>  <span class="hljs-attr">description</span>: <span class="hljs-built_in">string</span></li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">invoke</span>(<span class="hljs-attr">someArg</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">string</span> {</li><li>    <span class="hljs-keyword">return</span> someArg;</li><li>  }</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">description</span> = <span class="hljs-string">'desc'</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">doSomething</span>(<span class="hljs-params">fn: DescribableFunction</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(fn.<span class="hljs-property">description</span> + <span class="hljs-string">' returned '</span> + fn.<span class="hljs-title function_">invoke</span>(<span class="hljs-string">''</span>));</li><li>}</li><li>
</li><li><span class="hljs-title function_">doSomething</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">DescribableFunction</span>());</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 961px;"><h3 id="使用class而非具有构造签名的类型">使用class而非具有构造签名的类型<i class="anchor-icon anchor-icon-link" anchorid="使用class而非具有构造签名的类型" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-ctor-signatures-type</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605015</strong></p> <p>ArkTS不支持对象类型中的构造签名。改用类。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">SomeObject</span> {}</li><li>
</li><li><span class="hljs-keyword">type</span> <span class="hljs-title class_">SomeConstructor</span> = {</li><li>  <span class="hljs-keyword">new</span> (<span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">SomeObject</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params">ctor: SomeConstructor</span>) {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title function_">ctor</span>(<span class="hljs-string">'hello'</span>);</li><li>}</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">SomeObject</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">f</span>: <span class="hljs-built_in">string</span></li><li>  <span class="hljs-title function_">constructor</span> (<span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">f</span> = s;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params">s: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">SomeObject</span> {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SomeObject</span>(s);</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 937px;"><h3 id="仅支持一个静态块">仅支持一个静态块<i class="anchor-icon anchor-icon-link" anchorid="仅支持一个静态块" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-multiple-static-blocks</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605016</strong></p> <p>ArkTS不允许类中存在多个静态块。如果存在多个静态块语句，请将其合并到一个静态块中。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> {</li><li>  <span class="hljs-keyword">static</span> <span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span></li><li>
</li><li>  <span class="hljs-keyword">static</span> {</li><li>    C.<span class="hljs-property">s</span> = <span class="hljs-string">'aa'</span></li><li>  }</li><li>  <span class="hljs-keyword">static</span> {</li><li>    C.<span class="hljs-property">s</span> = C.<span class="hljs-property">s</span> + <span class="hljs-string">'bb'</span></li><li>  }</li><li>}</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> {</li><li>  <span class="hljs-keyword">static</span> <span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span></li><li>
</li><li>  <span class="hljs-keyword">static</span> {</li><li>    C.<span class="hljs-property">s</span> = <span class="hljs-string">'aa'</span></li><li>    C.<span class="hljs-property">s</span> = C.<span class="hljs-property">s</span> + <span class="hljs-string">'bb'</span></li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 913px;"><h3 id="不支持index-signature">不支持index signature<i class="anchor-icon anchor-icon-link" anchorid="不支持index-signature" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-indexed-signatures</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605017</strong></p> <p>ArkTS不允许index signature，改用数组。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 带index signature的接口：</span></li><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">StringArray</span> {</li><li>  [<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>]: <span class="hljs-built_in">string</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getStringArray</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">StringArray</span> {</li><li>  <span class="hljs-keyword">return</span> [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>];</li><li>}</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">myArray</span>: <span class="hljs-title class_">StringArray</span> = <span class="hljs-title function_">getStringArray</span>();</li><li><span class="hljs-keyword">const</span> secondItem = myArray[<span class="hljs-number">1</span>];</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">X</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">f</span>: <span class="hljs-built_in">string</span>[] = []</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">myArray</span>: X = <span class="hljs-keyword">new</span> <span class="hljs-title function_">X</span>();</li><li><span class="hljs-keyword">const</span> secondItem = myArray.<span class="hljs-property">f</span>[<span class="hljs-number">1</span>];</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1033px;"><h3 id="section-type">使用继承而非intersection type<i class="anchor-icon anchor-icon-link" anchorid="section-type" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-intersection-types</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605019</strong></p> <p>目前ArkTS不支持intersection type，可以使用继承作为替代方案。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Identity</span> {</li><li>  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span></li><li>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Contact</span> {</li><li>  <span class="hljs-attr">email</span>: <span class="hljs-built_in">string</span></li><li>  <span class="hljs-attr">phoneNumber</span>: <span class="hljs-built_in">string</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">type</span> <span class="hljs-title class_">Employee</span> = <span class="hljs-title class_">Identity</span> &amp; <span class="hljs-title class_">Contact</span></li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Identity</span> {</li><li>  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span></li><li>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Contact</span> {</li><li>  <span class="hljs-attr">email</span>: <span class="hljs-built_in">string</span></li><li>  <span class="hljs-attr">phoneNumber</span>: <span class="hljs-built_in">string</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Employee</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Identity</span>,  <span class="hljs-title class_">Contact</span> {}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1033px;"><h3 id="不支持this类型">不支持this类型<i class="anchor-icon anchor-icon-link" anchorid="不支持this类型" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-typing-with-this</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605021</strong></p> <p>ArkTS不支持this类型，改用显式具体类型。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">ListItem</span> {</li><li>  <span class="hljs-title function_">getHead</span>(): <span class="hljs-variable language_">this</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> {</li><li>  <span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>
</li><li>  <span class="hljs-title function_">m</span>(<span class="hljs-params">c: <span class="hljs-variable language_">this</span></span>) {</li><li>    <span class="hljs-comment">// ...</span></li><li>  }</li><li>}</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">interface</span> testListItem {</li><li>  <span class="hljs-title function_">getHead</span>(): testListItem</li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> {</li><li>  <span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>
</li><li>  <span class="hljs-title function_">m</span>(<span class="hljs-params">c: C</span>) {</li><li>    <span class="hljs-comment">// ...</span></li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 793px;"><h3 id="不支持条件类型">不支持条件类型<i class="anchor-icon anchor-icon-link" anchorid="不支持条件类型" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-conditional-types</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605022</strong></p> <p>ArkTS不支持条件类型别名，建议引入带显式约束的新类型，或使用Object进行逻辑重构。</p> <p>不支持infer关键字。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">type</span> X&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span> ? <span class="hljs-attr">T</span>: <span class="hljs-built_in">never</span></li><li><span class="hljs-keyword">type</span> Y&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Array</span>&lt;infer <span class="hljs-title class_">Item</span>&gt; ? <span class="hljs-title class_">Item</span>: <span class="hljs-built_in">never</span></li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 在类型别名中提供显式约束</span></li><li><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">X1</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>&gt; = T</li><li>
</li><li><span class="hljs-comment">// 用Object重写，类型控制较少，需要更多的类型检查以确保安全</span></li><li><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">X2</span>&lt;T&gt; = <span class="hljs-title class_">Object</span></li><li>
</li><li><span class="hljs-comment">// Item必须作为泛型参数使用，并能正确实例化</span></li><li><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">YI</span>&lt;<span class="hljs-title class_">Item</span>, T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">Item</span>&gt;&gt; = <span class="hljs-title class_">Item</span></li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1225px;"><h3 id="不支持在constructor中声明字段">不支持在constructor中声明字段<i class="anchor-icon anchor-icon-link" anchorid="不支持在constructor中声明字段" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-ctor-prop-decls</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605025</strong></p> <p>ArkTS禁止在构造函数中声明类字段，所有字段都必须在class作用域内显式声明。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span></li><li><span class="hljs-params">    <span class="hljs-keyword">protected</span> ssn: <span class="hljs-built_in">string</span>,</span></li><li><span class="hljs-params">    <span class="hljs-keyword">private</span> firstName: <span class="hljs-built_in">string</span>,</span></li><li><span class="hljs-params">    <span class="hljs-keyword">private</span> lastName: <span class="hljs-built_in">string</span></span></li><li><span class="hljs-params">  </span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ssn</span> = ssn;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">firstName</span> = firstName;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastName</span> = lastName;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getFullName</span>(): <span class="hljs-built_in">string</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">firstName</span> + <span class="hljs-string">' '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastName</span>;</li><li>  }</li><li>}</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {</li><li>  <span class="hljs-keyword">protected</span> <span class="hljs-attr">ssn</span>: <span class="hljs-built_in">string</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">firstName</span>: <span class="hljs-built_in">string</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">lastName</span>: <span class="hljs-built_in">string</span></li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">ssn: <span class="hljs-built_in">string</span>, firstName: <span class="hljs-built_in">string</span>, lastName: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ssn</span> = ssn;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">firstName</span> = firstName;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastName</span> = lastName;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getFullName</span>(): <span class="hljs-built_in">string</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">firstName</span> + <span class="hljs-string">' '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastName</span>;</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 841px;"><h3 id="接口中不支持构造签名">接口中不支持构造签名<i class="anchor-icon anchor-icon-link" anchorid="接口中不支持构造签名" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-ctor-signatures-iface</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605027</strong></p> <p>ArkTS语法禁止在接口（interface）中定义构造签名。作为替代方案，建议使用普通函数或方法来实现相同功能。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">interface</span> I {</li><li>  <span class="hljs-keyword">new</span> (<span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span>): I</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params">i: I</span>) {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title function_">i</span>(<span class="hljs-string">'hello'</span>);</li><li>}</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">interface</span> I {</li><li>  <span class="hljs-title function_">create</span>(<span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span>): I</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params">i: I</span>) {</li><li>  <span class="hljs-keyword">return</span> i.<span class="hljs-title function_">create</span>(<span class="hljs-string">'hello'</span>);</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 236px;"><h3 id="不支持索引访问类型">不支持索引访问类型<i class="anchor-icon anchor-icon-link" anchorid="不支持索引访问类型" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-aliases-by-index</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605028</strong></p> <p>ArkTS不支持索引访问类型。</p> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1753px;"><h3 id="不支持通过索引访问字段">不支持通过索引访问字段<i class="anchor-icon anchor-icon-link" anchorid="不支持通过索引访问字段" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-props-by-index</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605029</strong></p> <p>ArkTS不支持动态声明字段，不支持动态访问字段。只能访问已在类中声明或者继承可见的字段，访问其他字段将会造成编译时错误。</p> <p>使用点操作符访问字段，例如（obj.field），不支持索引访问（obj['field']）。</p> <p>ArkTS支持通过索引访问TypedArray（例如Int32Array）中的元素。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> {</li><li>  <span class="hljs-attr">x</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>  <span class="hljs-attr">y</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">p</span>: <span class="hljs-title class_">Point</span> = {<span class="hljs-attr">x</span>: <span class="hljs-string">'1'</span>, <span class="hljs-attr">y</span>: <span class="hljs-string">'2'</span>};</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(p[<span class="hljs-string">'x'</span>]); <span class="hljs-comment">// 1</span></li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  [<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">person</span>: <span class="hljs-title class_">Person</span> = {</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-string">'John'</span>,</li><li>  <span class="hljs-attr">age</span>: <span class="hljs-number">30</span>,</li><li>  <span class="hljs-attr">email</span>: <span class="hljs-string">'***@example.com'</span>,</li><li>  <span class="hljs-attr">phoneNumber</span>: <span class="hljs-string">'18*********'</span>,</li><li>}</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> {</li><li>  <span class="hljs-attr">x</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>  <span class="hljs-attr">y</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">p</span>: <span class="hljs-title class_">Point</span> = {<span class="hljs-attr">x</span>: <span class="hljs-string">'1'</span>, <span class="hljs-attr">y</span>: <span class="hljs-string">'2'</span>};</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(p.<span class="hljs-property">x</span>); <span class="hljs-comment">// 1</span></li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span></li><li>  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span></li><li>  <span class="hljs-attr">email</span>: <span class="hljs-built_in">string</span></li><li>  <span class="hljs-attr">phoneNumber</span>: <span class="hljs-built_in">string</span></li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span>, email: <span class="hljs-built_in">string</span>,</span></li><li><span class="hljs-params">        phoneNumber: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">email</span> = email;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">phoneNumber</span> = phoneNumber;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> person = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">'John'</span>, <span class="hljs-number">30</span>, <span class="hljs-string">'***@example.com'</span>, <span class="hljs-string">'18*********'</span>);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(person[<span class="hljs-string">'name'</span>]);     <span class="hljs-comment">// 编译时错误</span></li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(person.<span class="hljs-property">unknownProperty</span>); <span class="hljs-comment">// 编译时错误</span></li><li>
</li><li><span class="hljs-keyword">let</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>(<span class="hljs-number">1</span>);</li><li>arr[<span class="hljs-number">0</span>];</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 2785px;"><h3 id="不支持structural-typing">不支持structural typing<i class="anchor-icon anchor-icon-link" anchorid="不支持structural-typing" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-structural-typing</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605030</strong></p> <p>ArkTS不支持structural typing，编译器无法比较两种类型的publicAPI并决定它们是否相同。使用其他机制，例如继承、接口或类型别名。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">interface</span> I1 {</li><li>  <span class="hljs-title function_">f</span>(): <span class="hljs-built_in">string</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">interface</span> I2 { <span class="hljs-comment">// I2等价于I1</span></li><li>  <span class="hljs-title function_">f</span>(): <span class="hljs-built_in">string</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">X</span> {</li><li>  <span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Y</span> { <span class="hljs-comment">// Y等价于X</span></li><li>  <span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> x = <span class="hljs-keyword">new</span> <span class="hljs-title function_">X</span>();</li><li><span class="hljs-keyword">let</span> y = <span class="hljs-keyword">new</span> <span class="hljs-title function_">Y</span>();</li><li>
</li><li><span class="hljs-comment">// 将X对象赋值给Y对象</span></li><li>y = x;</li><li>
</li><li><span class="hljs-comment">// 将Y对象赋值给X对象</span></li><li>x = y;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params">x: X</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(x.<span class="hljs-property">n</span> + x.<span class="hljs-property">s</span>);</li><li>}</li><li>
</li><li><span class="hljs-comment">// 由于X和Y的API是等价的，所以X和Y是等价的</span></li><li><span class="hljs-title function_">foo</span>(<span class="hljs-keyword">new</span> <span class="hljs-title function_">X</span>());</li><li><span class="hljs-title function_">foo</span>(<span class="hljs-keyword">new</span> <span class="hljs-title function_">Y</span>());</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">interface</span> I1 {</li><li>  <span class="hljs-title function_">f</span>(): <span class="hljs-built_in">string</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">I2</span> = <span class="hljs-variable constant_">I1</span> <span class="hljs-comment">// I2是I1的别名</span></li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span> {</li><li>  <span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>}</li><li>
</li><li><span class="hljs-comment">// D是B的继承类，构建了子类型和父类型的关系</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">D</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">B</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">super</span>()</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> b = <span class="hljs-keyword">new</span> <span class="hljs-title function_">B</span>();</li><li><span class="hljs-keyword">let</span> d = <span class="hljs-keyword">new</span> <span class="hljs-title function_">D</span>();</li><li>
</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Assign D to B'</span>);</li><li>b = d; <span class="hljs-comment">// 合法赋值，因为B是D的父类</span></li><li>
</li><li><span class="hljs-comment">// 将b赋值给d将会引起编译时错误</span></li><li><span class="hljs-comment">// d = b</span></li><li>
</li><li><span class="hljs-keyword">interface</span> Z {</li><li>   <span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span></li><li>   <span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span></li><li>}</li><li>
</li><li><span class="hljs-comment">// 类X implements 接口Z，构建了X和Y的关系</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">X</span> <span class="hljs-keyword">implements</span> Z {</li><li>  <span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>}</li><li>
</li><li><span class="hljs-comment">// 类Y implements 接口Z，构建了X和Y的关系</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Y</span> <span class="hljs-keyword">implements</span> Z {</li><li>  <span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">x</span>: Z = <span class="hljs-keyword">new</span> <span class="hljs-title function_">X</span>();</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">y</span>: Z = <span class="hljs-keyword">new</span> <span class="hljs-title function_">Y</span>();</li><li>
</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Assign X to Y'</span>);</li><li>y = x <span class="hljs-comment">// 合法赋值，它们是相同的类型</span></li><li>
</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Assign Y to X'</span>);</li><li>x = y <span class="hljs-comment">// 合法赋值，它们是相同的类型</span></li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params">c: Z</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(c.<span class="hljs-property">n</span> + c.<span class="hljs-property">s</span>);</li><li>}</li><li>
</li><li><span class="hljs-comment">// 类X和类Y implement 相同的接口，因此下面的两个函数调用都是合法的</span></li><li><span class="hljs-title function_">foo</span>(<span class="hljs-keyword">new</span> <span class="hljs-title function_">X</span>());</li><li><span class="hljs-title function_">foo</span>(<span class="hljs-keyword">new</span> <span class="hljs-title function_">Y</span>());</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1105px;"><h3 id="需要显式标注泛型函数类型实参">需要显式标注泛型函数类型实参<i class="anchor-icon anchor-icon-link" anchorid="需要显式标注泛型函数类型实参" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-inferred-generic-params</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605034</strong></p> <p>如果可以从传递给泛型函数的参数中推断出具体类型，ArkTS允许省略泛型类型实参。否则，省略泛型类型实参会发生编译时错误。</p> <p>禁止仅基于泛型函数返回类型推断泛型类型参数。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> choose&lt;T&gt;(<span class="hljs-attr">x</span>: T, <span class="hljs-attr">y</span>: T): T {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() &lt; <span class="hljs-number">0.5</span> ? <span class="hljs-attr">x</span>: y;</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> x = <span class="hljs-title function_">choose</span>(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>);   <span class="hljs-comment">// 推断choose&lt;number&gt;(...)</span></li><li><span class="hljs-keyword">let</span> y = <span class="hljs-title function_">choose</span>(<span class="hljs-string">'10'</span>, <span class="hljs-number">20</span>); <span class="hljs-comment">// 编译时错误</span></li><li>
</li><li><span class="hljs-keyword">function</span> greet&lt;T&gt;(): T {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-string">'Hello'</span> <span class="hljs-keyword">as</span> T;</li><li>}</li><li><span class="hljs-keyword">let</span> z = <span class="hljs-title function_">greet</span>() <span class="hljs-comment">// T的类型被推断为“unknown”</span></li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> choose&lt;T&gt;(<span class="hljs-attr">x</span>: T, <span class="hljs-attr">y</span>: T): T {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() &lt; <span class="hljs-number">0.5</span> ? <span class="hljs-attr">x</span>: y;</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> x = <span class="hljs-title function_">choose</span>(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>);   <span class="hljs-comment">// 推断choose&lt;number&gt;(...)</span></li><li><span class="hljs-keyword">let</span> y = <span class="hljs-title function_">choose</span>(<span class="hljs-string">'10'</span>, <span class="hljs-number">20</span>); <span class="hljs-comment">// 编译时错误</span></li><li>
</li><li><span class="hljs-keyword">function</span> greet&lt;T&gt;(): T {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-string">'Hello'</span> <span class="hljs-keyword">as</span> T;</li><li>}</li><li><span class="hljs-keyword">let</span> z = greet&lt;<span class="hljs-built_in">string</span>&gt;();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 4609px;"><h3 id="需要显式标注对象字面量的类型">需要显式标注对象字面量的类型<i class="anchor-icon anchor-icon-link" anchorid="需要显式标注对象字面量的类型" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-untyped-obj-literals</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605038</strong></p> <p>在 ArkTS 中，需要显式标注对象字面量的类型，否则将导致编译时错误。在某些场景下，编译器可以根据上下文推断出字面量的类型。</p> <p>在以下上下文中不支持使用字面量初始化类和接口：</p> <ul><li>初始化具有any、Object或object类型的任何对象</li><li>初始化带有方法的类或接口</li><li>初始化包含自定义含参数的构造函数的类</li><li>初始化带readonly字段的类</li></ul> <p><strong>例子1</strong></p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> o1 = {<span class="hljs-attr">n</span>: <span class="hljs-number">42</span>, <span class="hljs-attr">s</span>: <span class="hljs-string">'foo'</span>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">o2</span>: <span class="hljs-title class_">Object</span> = {<span class="hljs-attr">n</span>: <span class="hljs-number">42</span>, <span class="hljs-attr">s</span>: <span class="hljs-string">'foo'</span>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">o3</span>: <span class="hljs-built_in">object</span> = {<span class="hljs-attr">n</span>: <span class="hljs-number">42</span>, <span class="hljs-attr">s</span>: <span class="hljs-string">'foo'</span>};</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">oo</span>: <span class="hljs-title class_">Object</span>[] = [{<span class="hljs-attr">n</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">s</span>: <span class="hljs-string">'1'</span>}, {<span class="hljs-attr">n</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">s</span>: <span class="hljs-string">'2'</span>}];</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C1</span> {</li><li>  <span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">o1</span>: <span class="hljs-variable constant_">C1</span> = {<span class="hljs-attr">n</span>: <span class="hljs-number">42</span>, <span class="hljs-attr">s</span>: <span class="hljs-string">'foo'</span>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">o2</span>: <span class="hljs-variable constant_">C1</span> = {<span class="hljs-attr">n</span>: <span class="hljs-number">42</span>, <span class="hljs-attr">s</span>: <span class="hljs-string">'foo'</span>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">o3</span>: <span class="hljs-variable constant_">C1</span> = {<span class="hljs-attr">n</span>: <span class="hljs-number">42</span>, <span class="hljs-attr">s</span>: <span class="hljs-string">'foo'</span>};</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">oo</span>: <span class="hljs-variable constant_">C1</span>[] = [{<span class="hljs-attr">n</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">s</span>: <span class="hljs-string">'1'</span>}, {<span class="hljs-attr">n</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">s</span>: <span class="hljs-string">'2'</span>}];</li></ol></pre></div></div> <p><strong>例子2</strong></p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C2</span> {</li><li>  <span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span></li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">s: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">s</span> = <span class="hljs-string">'s ='</span> + s;</li><li>  }</li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">o4</span>: <span class="hljs-variable constant_">C2</span> = {<span class="hljs-attr">s</span>: <span class="hljs-string">'foo'</span>};</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C2</span> {</li><li>  <span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span></li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">s: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">s</span> = <span class="hljs-string">'s ='</span> + s;</li><li>  }</li><li>}</li><li><span class="hljs-keyword">let</span> o4 = <span class="hljs-keyword">new</span> <span class="hljs-title function_">C2</span>(<span class="hljs-string">'foo'</span>);</li></ol></pre></div></div> <p><strong>例子3</strong></p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C3</span> {</li><li>  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">o5</span>: <span class="hljs-variable constant_">C3</span> = {<span class="hljs-attr">n</span>: <span class="hljs-number">42</span>, <span class="hljs-attr">s</span>: <span class="hljs-string">'foo'</span>};</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C3</span> {</li><li>  <span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">o5</span>: <span class="hljs-variable constant_">C3</span> = {<span class="hljs-attr">n</span>: <span class="hljs-number">42</span>, <span class="hljs-attr">s</span>: <span class="hljs-string">'foo'</span>};</li></ol></pre></div></div> <p><strong>例子4</strong></p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> {}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">o6</span>: A = {};</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> {}</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">A</span> {}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">o6</span>: C = {}; <span class="hljs-comment">// 或 let o6: C = new C()</span></li></ol></pre></div></div> <p><strong>例子5</strong></p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C4</span> {</li><li>  <span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>  <span class="hljs-title function_">f</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Hello'</span>);</li><li>  }</li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">o7</span>: <span class="hljs-variable constant_">C4</span> = {<span class="hljs-attr">n</span>: <span class="hljs-number">42</span>, <span class="hljs-attr">s</span>: <span class="hljs-string">'foo'</span>, <span class="hljs-attr">f</span>: <span class="hljs-function">() =&gt;</span> {}};</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C4</span> {</li><li>  <span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>  <span class="hljs-title function_">f</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Hello'</span>);</li><li>  }</li><li>}</li><li><span class="hljs-keyword">let</span> o7 = <span class="hljs-keyword">new</span> <span class="hljs-title function_">C4</span>();</li><li>o7.<span class="hljs-property">n</span> = <span class="hljs-number">42</span>;</li><li>o7.<span class="hljs-property">s</span> = <span class="hljs-string">'foo'</span>;</li></ol></pre></div></div> <p><strong>例子6</strong></p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> {</li><li>  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getPoint</span>(<span class="hljs-params">o: Point</span>): <span class="hljs-title class_">Point</span> {</li><li>  <span class="hljs-keyword">return</span> o;</li><li>}</li><li>
</li><li><span class="hljs-comment">// TS支持structural typing，可以推断p的类型为Point</span></li><li><span class="hljs-keyword">let</span> p = {<span class="hljs-attr">x</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span>};</li><li><span class="hljs-title function_">getPoint</span>(p);</li><li>
</li><li><span class="hljs-comment">// 可通过上下文推断出对象字面量的类型为Point</span></li><li><span class="hljs-title function_">getPoint</span>({<span class="hljs-attr">x</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span>});</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> {</li><li>  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>
</li><li>  <span class="hljs-comment">// 在字面量初始化之前，使用constructor()创建一个有效对象。</span></li><li>  <span class="hljs-comment">// 由于没有为Point定义构造函数，编译器将自动添加一个默认构造函数。</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getPoint</span>(<span class="hljs-params">o: Point</span>): <span class="hljs-title class_">Point</span> {</li><li>  <span class="hljs-keyword">return</span> o;</li><li>}</li><li>
</li><li><span class="hljs-comment">// 字面量初始化需要显式定义类型</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">p</span>: <span class="hljs-title class_">Point</span> = {<span class="hljs-attr">x</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span>};</li><li><span class="hljs-title function_">getPoint</span>(p);</li><li>
</li><li><span class="hljs-comment">// getPoint接受Point类型，字面量初始化生成一个Point的新实例</span></li><li><span class="hljs-title function_">getPoint</span>({<span class="hljs-attr">x</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span>});</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 841px;"><h3 id="对象字面量不能用于类型声明">对象字面量不能用于类型声明<i class="anchor-icon anchor-icon-link" anchorid="对象字面量不能用于类型声明" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-obj-literals-as-types</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605040</strong></p> <p>ArkTS不支持使用对象字面量声明类型，建议使用类或接口声明类型。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">o</span>: {<span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>} = {</li><li>  <span class="hljs-attr">x</span>: <span class="hljs-number">2</span>,</li><li>  <span class="hljs-attr">y</span>: <span class="hljs-number">3</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">type</span> S = <span class="hljs-title class_">Set</span>&lt;{<span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>}&gt;</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">O</span> {</li><li>  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">o</span>: O = {<span class="hljs-attr">x</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">3</span>};</li><li>
</li><li><span class="hljs-keyword">type</span> S = <span class="hljs-title class_">Set</span>&lt;O&gt;</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 697px;"><h3 id="数组字面量必须仅包含可推断类型的元素">数组字面量必须仅包含可推断类型的元素<i class="anchor-icon anchor-icon-link" anchorid="数组字面量必须仅包含可推断类型的元素" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-noninferrable-arr-literals</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605043</strong></p> <p>ArkTS将数组字面量的类型推断为所有元素的联合类型。如果其中任何一个元素的类型无法推导，则在编译时会发生错误。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> a = [{<span class="hljs-attr">n</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">s</span>: <span class="hljs-string">'1'</span>}, {<span class="hljs-attr">n</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">s</span>: <span class="hljs-string">'2'</span>}];</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> {</li><li>  <span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> a1 = [{<span class="hljs-attr">n</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">s</span>: <span class="hljs-string">'1'</span>} <span class="hljs-keyword">as</span> C, {<span class="hljs-attr">n</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">s</span>: <span class="hljs-string">'2'</span>} <span class="hljs-keyword">as</span> C]; <span class="hljs-comment">// a1的类型为“C[]”</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">a2</span>: C[] = [{<span class="hljs-attr">n</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">s</span>: <span class="hljs-string">'1'</span>}, {<span class="hljs-attr">n</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">s</span>: <span class="hljs-string">'2'</span>}];    <span class="hljs-comment">// a2的类型为“C[]”</span></li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 649px;"><h3 id="使用箭头函数而非函数表达式">使用箭头函数而非函数表达式<i class="anchor-icon anchor-icon-link" anchorid="使用箭头函数而非函数表达式" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-func-expressions</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605046</strong></p> <p>ArkTS不支持函数表达式，使用箭头函数（=&gt;）。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> f = <span class="hljs-keyword">function</span> (<span class="hljs-params">s: <span class="hljs-built_in">string</span></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(s);</li><li>}</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">f</span> = (<span class="hljs-params">s: <span class="hljs-built_in">string</span></span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(s);</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1033px;"><h3 id="不支持使用类表达式">不支持使用类表达式<i class="anchor-icon anchor-icon-link" anchorid="不支持使用类表达式" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-class-literals</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605050</strong></p> <p>ArkTS不支持类表达式，必须显式声明一个类。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-title class_">Rectangle</span> = <span class="hljs-keyword">class</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">height: <span class="hljs-built_in">number</span>, width: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">height</span> = height;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">width</span> = width;</li><li>  }</li><li>
</li><li>  height;</li><li>  width;</li><li>}</li><li>
</li><li><span class="hljs-keyword">const</span> rectangle = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Rectangle</span>(<span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>);</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">testRectangle</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">testHeight: <span class="hljs-built_in">number</span>, testWidth: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">testHeight</span> = testHeight;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">testWidth</span> = testWidth;</li><li>  }</li><li>
</li><li>  <span class="hljs-attr">testHeight</span>: <span class="hljs-built_in">number</span>;</li><li>  <span class="hljs-attr">testWidth</span>: <span class="hljs-built_in">number</span>;</li><li>}</li><li>
</li><li><span class="hljs-keyword">const</span> rectangle = <span class="hljs-keyword">new</span> <span class="hljs-title function_">testRectangle</span>(<span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 841px;"><h3 id="类不允许implements">类不允许implements<i class="anchor-icon anchor-icon-link" anchorid="类不允许implements" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-implements-only-iface</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605051</strong></p> <p>ArkTS中只有接口可以被implements，类不允许被implements。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> {</li><li>  <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) {}</li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C1</span> <span class="hljs-keyword">implements</span> C {</li><li>  <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) {}</li><li>}</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">interface</span> C {</li><li>  <span class="hljs-title function_">foo</span>(): <span class="hljs-built_in">void</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C1</span> <span class="hljs-keyword">implements</span> C {</li><li>  <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) {}</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1513px;"><h3 id="不支持修改对象的方法">不支持修改对象的方法<i class="anchor-icon anchor-icon-link" anchorid="不支持修改对象的方法" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-method-reassignment</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605052</strong></p> <p>ArkTS不支持修改对象的方法。在静态语言中，对象布局固定，类的所有实例共享同一个方法。</p> <p>若需为特定对象添加方法，可封装函数或采用继承机制。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> {</li><li>  <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'foo'</span>);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">bar</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'bar'</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> c1 = <span class="hljs-keyword">new</span> <span class="hljs-title function_">C</span>();</li><li><span class="hljs-keyword">let</span> c2 = <span class="hljs-keyword">new</span> <span class="hljs-title function_">C</span>();</li><li>c2.<span class="hljs-property">foo</span> = bar;</li><li>
</li><li>c1.<span class="hljs-title function_">foo</span>(); <span class="hljs-comment">// foo</span></li><li>c2.<span class="hljs-title function_">foo</span>(); <span class="hljs-comment">// bar</span></li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> {</li><li>  <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'foo'</span>);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">C</span> {</li><li>  <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Extra'</span>);</li><li>    <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">foo</span>();</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">bar</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'bar'</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> c1 = <span class="hljs-keyword">new</span> <span class="hljs-title function_">C</span>();</li><li><span class="hljs-keyword">let</span> c2 = <span class="hljs-keyword">new</span> <span class="hljs-title function_">C</span>();</li><li>c1.<span class="hljs-title function_">foo</span>(); <span class="hljs-comment">// foo</span></li><li>c2.<span class="hljs-title function_">foo</span>(); <span class="hljs-comment">// foo</span></li><li>
</li><li><span class="hljs-keyword">let</span> c3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Derived</span>();</li><li>c3.<span class="hljs-title function_">foo</span>(); <span class="hljs-comment">// Extra foo</span></li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1345px;"><h3 id="类型转换仅支持as-t语法">类型转换仅支持as T语法<i class="anchor-icon anchor-icon-link" anchorid="类型转换仅支持as-t语法" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-as-casts</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605053</strong></p> <p>在ArkTS中，as关键字是类型转换的唯一语法，错误的类型转换会导致编译时错误或者运行时抛出ClassCastException异常。ArkTS不支持使用&lt;type&gt;语法进行类型转换。</p> <p>需要将primitive类型（如number或boolean）转换为引用类型时，请使用new表达式。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">testShape</span> {}</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">testCircle</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">testShape</span> { <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">5</span> }</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">testSquare</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">testShape</span> { <span class="hljs-attr">y</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'a'</span> }</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createShape</span>(<span class="hljs-params"></span>): testShape {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title function_">testCircle</span>();</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> c1 = &lt;testCircle&gt; <span class="hljs-title function_">createShape</span>();</li><li>
</li><li><span class="hljs-keyword">let</span> c2 = <span class="hljs-title function_">createShape</span>() <span class="hljs-keyword">as</span> testCircle;</li><li>
</li><li><span class="hljs-comment">// 如果转换错误，不会产生编译时或运行时报错</span></li><li><span class="hljs-keyword">let</span> c3 = <span class="hljs-title function_">createShape</span>() <span class="hljs-keyword">as</span> testSquare;</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(c3.<span class="hljs-property">y</span>); <span class="hljs-comment">// undefined</span></li><li>
</li><li><span class="hljs-comment">// 在TS中，由于`as`关键字不会在运行时生效，所以`instanceof`的左操作数不会在运行时被装箱成引用类型</span></li><li><span class="hljs-keyword">let</span> e1 = (<span class="hljs-number">5.0</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">Number</span>) <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Number</span>; <span class="hljs-comment">// false</span></li><li>
</li><li><span class="hljs-comment">// 创建Number对象，获得预期结果：</span></li><li><span class="hljs-keyword">let</span> e2 = (<span class="hljs-keyword">new</span> <span class="hljs-title class_">Number</span>(<span class="hljs-number">5.0</span>)) <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Number</span>; <span class="hljs-comment">// true</span></li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">testShape</span> {}</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">testCircle</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">testShape</span> { <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">5</span> }</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createShape</span>(<span class="hljs-params"></span>): testShape {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title function_">testCircle</span>();</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> c1 = <span class="hljs-title function_">createShape</span>() <span class="hljs-keyword">as</span> testCircle;</li><li>
</li><li><span class="hljs-comment">// 创建Number对象，获得预期结果：</span></li><li><span class="hljs-keyword">let</span> e1 = (<span class="hljs-keyword">new</span> <span class="hljs-title class_">Number</span>(<span class="hljs-number">5.0</span>)) <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Number</span>; <span class="hljs-comment">// true</span></li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 236px;"><h3 id="不支持jsx表达式">不支持JSX表达式<i class="anchor-icon anchor-icon-link" anchorid="不支持jsx表达式" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-jsx</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605054</strong></p> <p>不支持使用JSX。</p> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1393px;"><h3 id="一元运算符-和仅适用于数值类型">一元运算符+、-和~仅适用于数值类型<i class="anchor-icon anchor-icon-link" anchorid="一元运算符-和仅适用于数值类型" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-polymorphic-unops</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605055</strong></p> <p>ArkTS对一元运算符实施严格的类型检查，仅允许操作数值类型。与TypeScript不同，ArkTS禁止隐式的字符串转换到数值，开发者必须使用显式类型的转换方法。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> a = +<span class="hljs-number">5</span>;    <span class="hljs-comment">// 5（number类型）</span></li><li><span class="hljs-keyword">let</span> b = +<span class="hljs-string">'5'</span>;    <span class="hljs-comment">// 5（number类型）</span></li><li><span class="hljs-keyword">let</span> c = -<span class="hljs-number">5</span>;    <span class="hljs-comment">// -5（number类型）</span></li><li><span class="hljs-keyword">let</span> d = -<span class="hljs-string">'5'</span>;    <span class="hljs-comment">// -5（number类型）</span></li><li><span class="hljs-keyword">let</span> e = ~<span class="hljs-number">5</span>;    <span class="hljs-comment">// -6（number类型）</span></li><li><span class="hljs-keyword">let</span> f = ~<span class="hljs-string">'5'</span>;    <span class="hljs-comment">// -6（number类型）</span></li><li><span class="hljs-keyword">let</span> g = +<span class="hljs-string">'string'</span>; <span class="hljs-comment">// NaN（number类型）</span></li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">returnTen</span>(<span class="hljs-params"></span>): <span class="hljs-built_in">string</span> {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-string">'-10'</span>;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">returnString</span>(<span class="hljs-params"></span>): <span class="hljs-built_in">string</span> {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-string">'string'</span>;</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> x = +<span class="hljs-title function_">returnTen</span>();  <span class="hljs-comment">// -10（number类型）</span></li><li><span class="hljs-keyword">let</span> y = +<span class="hljs-title function_">returnString</span>(); <span class="hljs-comment">// NaN</span></li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> a = +<span class="hljs-number">5</span>;    <span class="hljs-comment">// 5（number类型）</span></li><li><span class="hljs-keyword">let</span> b = +<span class="hljs-string">'5'</span>;    <span class="hljs-comment">// 编译时错误</span></li><li><span class="hljs-keyword">let</span> c = -<span class="hljs-number">5</span>;    <span class="hljs-comment">// -5（number类型）</span></li><li><span class="hljs-keyword">let</span> d = -<span class="hljs-string">'5'</span>;    <span class="hljs-comment">// 编译时错误</span></li><li><span class="hljs-keyword">let</span> e = ~<span class="hljs-number">5</span>;    <span class="hljs-comment">// -6（number类型）</span></li><li><span class="hljs-keyword">let</span> f = ~<span class="hljs-string">'5'</span>;    <span class="hljs-comment">// 编译时错误</span></li><li><span class="hljs-keyword">let</span> g = +<span class="hljs-string">'string'</span>; <span class="hljs-comment">// 编译时错误</span></li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">returnTen</span>(<span class="hljs-params"></span>): <span class="hljs-built_in">string</span> {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-string">'-10'</span>;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">returnString</span>(<span class="hljs-params"></span>): <span class="hljs-built_in">string</span> {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-string">'string'</span>;</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> x = +<span class="hljs-title function_">returnTen</span>();  <span class="hljs-comment">// 编译时错误</span></li><li><span class="hljs-keyword">let</span> y = +<span class="hljs-title function_">returnString</span>(); <span class="hljs-comment">// 编译时错误</span></li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 865px;"><h3 id="不支持delete运算符">不支持delete运算符<i class="anchor-icon anchor-icon-link" anchorid="不支持delete运算符" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-delete</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605059</strong></p> <p>在ArkTS中，对象布局于编译时确定，运行时不可更改，因此删除属性的操作无意义。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> {</li><li>  x?: <span class="hljs-built_in">number</span> = <span class="hljs-number">0.0</span></li><li>  y?: <span class="hljs-built_in">number</span> = <span class="hljs-number">0.0</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Point</span>();</li><li><span class="hljs-keyword">delete</span> p.<span class="hljs-property">y</span>;</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 可以声明一个可空类型并使用null作为缺省值</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> {</li><li>  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span> = <span class="hljs-number">0</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Point</span>();</li><li>p.<span class="hljs-property">y</span> = <span class="hljs-literal">null</span>;</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 793px;"><h3 id="仅允许在表达式中使用typeof运算符">仅允许在表达式中使用typeof运算符<i class="anchor-icon anchor-icon-link" anchorid="仅允许在表达式中使用typeof运算符" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-type-query</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605060</strong></p> <p>ArkTS仅支持在表达式中使用typeof运算符，不允许使用typeof作为类型。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> n1 = <span class="hljs-number">42</span>;</li><li><span class="hljs-keyword">let</span> s1 = <span class="hljs-string">'foo'</span>;</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-keyword">typeof</span> n1); <span class="hljs-comment">// 'number'</span></li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-keyword">typeof</span> s1); <span class="hljs-comment">// 'string'</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">n2</span>: <span class="hljs-keyword">typeof</span> n1</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">s2</span>: <span class="hljs-keyword">typeof</span> s1</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> n1 = <span class="hljs-number">42</span>;</li><li><span class="hljs-keyword">let</span> s1 = <span class="hljs-string">'foo'</span>;</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-keyword">typeof</span> n1); <span class="hljs-comment">// 'number'</span></li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-keyword">typeof</span> s1); <span class="hljs-comment">// 'string'</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">n2</span>: <span class="hljs-built_in">number</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">s2</span>: <span class="hljs-built_in">string</span></li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 649px;"><h3 id="部分支持instanceof运算符">部分支持instanceof运算符<i class="anchor-icon anchor-icon-link" anchorid="部分支持instanceof运算符" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-instanceof-ref-types</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605065</strong></p> <p>TypeScript中，instanceof运算符的左操作数类型必须为any类型、对象类型或类型参数，否则结果为false。ArkTS中，instanceof运算符的左操作数类型必须为引用类型（如对象、数组或函数），否则会发生编译时错误。此外，左操作数必须是对象实例。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">num</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">42</span>;</li><li><span class="hljs-keyword">let</span> result = num <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Number</span>;</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'result = '</span>, result); <span class="hljs-comment">// result = false</span></li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">num</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">42</span>;</li><li><span class="hljs-keyword">let</span> result = num <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Number</span>; <span class="hljs-comment">// 编译报错</span></li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 793px;"><h3 id="不支持in运算符">不支持in运算符<i class="anchor-icon anchor-icon-link" anchorid="不支持in运算符" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-in</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605066</strong></p> <p>在ArkTS中，对象布局在编译时已知且运行时无法修改，因此不支持in运算符。需要检查类成员是否存在时，使用instanceof代替。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>}</li><li><span class="hljs-keyword">let</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>();</li><li>
</li><li><span class="hljs-keyword">let</span> b = <span class="hljs-string">'name'</span> <span class="hljs-keyword">in</span> p; <span class="hljs-comment">// true</span></li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>}</li><li><span class="hljs-keyword">let</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>();</li><li>
</li><li><span class="hljs-keyword">let</span> b = p <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Person</span>; <span class="hljs-comment">// true，且属性name一定存在</span></li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 961px;"><h3 id="不支持解构赋值">不支持解构赋值<i class="anchor-icon anchor-icon-link" anchorid="不支持解构赋值" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-destruct-assignment</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605069</strong></p> <p>ArkTS不支持解构赋值。可使用其他替代方法，例如，使用临时变量。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> [one, two] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>]; <span class="hljs-comment">// 此处需要分号</span></li><li>[one, two] = [two, one];</li><li>
</li><li><span class="hljs-keyword">let</span> head, tail</li><li>[head, ...tail] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">arr</span>: <span class="hljs-built_in">number</span>[] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>];</li><li><span class="hljs-keyword">let</span> one = arr[<span class="hljs-number">0</span>];</li><li><span class="hljs-keyword">let</span> two = arr[<span class="hljs-number">1</span>];</li><li>
</li><li><span class="hljs-keyword">let</span> tmp = one;</li><li>one = two;</li><li>two = tmp;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">data</span>: <span class="hljs-title class_">Number</span>[] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];</li><li><span class="hljs-keyword">let</span> head = data[<span class="hljs-number">0</span>];</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">tail</span>: <span class="hljs-title class_">Number</span>[] = [];</li><li><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; data.<span class="hljs-property">length</span>; ++i) {</li><li>  tail.<span class="hljs-title function_">push</span>(data[i]);</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 909px;"><h3 id="逗号运算符仅用在for循环语句中">逗号运算符,仅用在for循环语句中<i class="anchor-icon anchor-icon-link" anchorid="逗号运算符仅用在for循环语句中" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-comma-outside-loops</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605071</strong></p> <p>在ArkTS中，逗号运算符仅适用于for循环语句，用于明确执行顺序。</p> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"> </div></div></div> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>, j = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; ++i, j += <span class="hljs-number">2</span>) {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> x = <span class="hljs-number">0</span>;</li><li>x = (++x, x++); <span class="hljs-comment">// 1</span></li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>, j = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; ++i, j += <span class="hljs-number">2</span>) {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>
</li><li><span class="hljs-comment">// 通过语句表示执行顺序，而非逗号运算符</span></li><li><span class="hljs-keyword">let</span> x = <span class="hljs-number">0</span>;</li><li>++x;</li><li>x = x++;</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1081px;"><h3 id="不支持解构变量声明">不支持解构变量声明<i class="anchor-icon anchor-icon-link" anchorid="不支持解构变量声明" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-destruct-decls</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605074</strong></p> <p>ArkTS不支持解构变量声明。解构变量声明是一个依赖于结构兼容性的动态特性，且解构声明中的名称必须与被解构对象中的属性名称一致。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> {</li><li>  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0.0</span></li><li>  <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0.0</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">returnZeroPoint</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Point</span> {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Point</span>();</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> {x, y} = <span class="hljs-title function_">returnZeroPoint</span>();</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> {</li><li>  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0.0</span></li><li>  <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0.0</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">returnZeroPoint</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Point</span> {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Point</span>();</li><li>}</li><li>
</li><li><span class="hljs-comment">// 创建一个局部变量来处理每个字段</span></li><li><span class="hljs-keyword">let</span> zp = <span class="hljs-title function_">returnZeroPoint</span>();</li><li><span class="hljs-keyword">let</span> x = zp.<span class="hljs-property">x</span>;</li><li><span class="hljs-keyword">let</span> y = zp.<span class="hljs-property">y</span>;</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 745px;"><h3 id="不支持在catch语句标注类型">不支持在catch语句标注类型<i class="anchor-icon anchor-icon-link" anchorid="不支持在catch语句标注类型" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-types-in-catch</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605079</strong></p> <p>TypeScript的catch语句中，只能标注any或unknown类型。ArkTS不支持这些类型，应省略类型标注。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>} <span class="hljs-keyword">catch</span> (<span class="hljs-attr">a</span>: <span class="hljs-built_in">unknown</span>) {</li><li>  <span class="hljs-comment">// 处理异常</span></li><li>}</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>} <span class="hljs-keyword">catch</span> (a) {</li><li>  <span class="hljs-comment">// 处理异常</span></li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 697px;"><h3 id="不支持for--in">不支持for .. in<i class="anchor-icon anchor-icon-link" anchorid="不支持for--in" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-for-in</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605080</strong></p> <p>在ArkTS中，对象布局在编译时确定且运行时不可修改，因此不支持使用for .. in迭代对象属性。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span>[] = [<span class="hljs-string">'1.0'</span>, <span class="hljs-string">'2.0'</span>, <span class="hljs-string">'3.0'</span>];</li><li><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i <span class="hljs-keyword">in</span> a) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(a[i]);</li><li>}</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span>[] = [<span class="hljs-string">'1.0'</span>, <span class="hljs-string">'2.0'</span>, <span class="hljs-string">'3.0'</span>];</li><li><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; a.<span class="hljs-property">length</span>; ++i) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(a[i]);</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 793px;"><h3 id="不支持映射类型">不支持映射类型<i class="anchor-icon anchor-icon-link" anchorid="不支持映射类型" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-mapped-types</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605083</strong></p> <p>ArkTS不支持映射类型，使用其他语法表示相同语义。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">type</span> <span class="hljs-title class_">OptionsFlags</span>&lt;<span class="hljs-title class_">Type</span>&gt; = {</li><li>  [<span class="hljs-title class_">Property</span> <span class="hljs-keyword">in</span> keyof <span class="hljs-title class_">Type</span>]: <span class="hljs-built_in">boolean</span></li><li>}</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> {</li><li>  <span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">CFlags</span> {</li><li>  <span class="hljs-attr">n</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span></li><li>  <span class="hljs-attr">s</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span></li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 649px;"><h3 id="不支持with语句">不支持with语句<i class="anchor-icon anchor-icon-link" anchorid="不支持with语句" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-with</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605084</strong></p> <p>ArkTS不支持with语句，使用其他语法来表示相同的语义。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">with</span> (<span class="hljs-title class_">Math</span>) { <span class="hljs-comment">// 编译时错误, 但是仍能生成JavaScript代码</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">r</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">42</span>;</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">area</span>: <span class="hljs-built_in">number</span> = <span class="hljs-variable constant_">PI</span> * r * r;</li><li>}</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">r</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">42</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">area</span>: <span class="hljs-built_in">number</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * r * r;</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 601px;"><h3 id="限制throw语句中表达式的类型">限制throw语句中表达式的类型<i class="anchor-icon anchor-icon-link" anchorid="限制throw语句中表达式的类型" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-limited-throw</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605087</strong></p> <p>ArkTS只支持抛出Error类或其派生类的实例。禁止抛出其他类型的数据，例如number或string。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">throw</span> <span class="hljs-number">4</span>;</li><li><span class="hljs-keyword">throw</span> <span class="hljs-string">''</span>;</li><li><span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>();</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1465px;"><h3 id="限制省略函数返回类型标注">限制省略函数返回类型标注<i class="anchor-icon anchor-icon-link" anchorid="限制省略函数返回类型标注" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-implicit-return-types</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605090</strong></p> <p>ArkTS在部分场景中支持对函数返回类型进行推断。当return语句中的表达式是对某个函数或方法进行调用，且该函数或方法的返回类型没有被显著标注时，会出现编译时错误。在这种情况下，请标注函数返回类型。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 只有在开启noImplicitAny选项时会产生编译时错误</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">f</span>(<span class="hljs-params">x: <span class="hljs-built_in">number</span></span>) {</li><li>  <span class="hljs-keyword">if</span> (x &lt;= <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-keyword">return</span> x;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-title function_">g</span>(x);</li><li>}</li><li>
</li><li><span class="hljs-comment">// 只有在开启noImplicitAny选项时会产生编译时错误</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">g</span>(<span class="hljs-params">x: <span class="hljs-built_in">number</span></span>) {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-title function_">f</span>(x - <span class="hljs-number">1</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">doOperation</span>(<span class="hljs-params">x: <span class="hljs-built_in">number</span>, y: <span class="hljs-built_in">number</span></span>) {</li><li>  <span class="hljs-keyword">return</span> x + y;</li><li>}</li><li>
</li><li><span class="hljs-title function_">f</span>(<span class="hljs-number">10</span>);</li><li><span class="hljs-title function_">doOperation</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>);</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 需标注返回类型：</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">f</span>(<span class="hljs-params">x: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span> {</li><li>  <span class="hljs-keyword">if</span> (x &lt;= <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-keyword">return</span> x;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-title function_">g</span>(x);</li><li>}</li><li>
</li><li><span class="hljs-comment">// 可以省略返回类型，返回类型可以从f的类型标注推导得到</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">g</span>(<span class="hljs-params">x: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span> {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-title function_">f</span>(x - <span class="hljs-number">1</span>);</li><li>}</li><li>
</li><li><span class="hljs-comment">// 可以省略返回类型</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">doOperation</span>(<span class="hljs-params">x: <span class="hljs-built_in">number</span>, y: <span class="hljs-built_in">number</span></span>) {</li><li>  <span class="hljs-keyword">return</span> x + y;</li><li>}</li><li>
</li><li><span class="hljs-title function_">f</span>(<span class="hljs-number">10</span>);</li><li><span class="hljs-title function_">doOperation</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 985px;"><h3 id="不支持参数解构的函数声明">不支持参数解构的函数声明<i class="anchor-icon anchor-icon-link" anchorid="不支持参数解构的函数声明" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-destruct-params</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605091</strong></p> <p>ArkTS要求实参必须直接传递给函数，且必须指定到形参。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">drawText</span>(<span class="hljs-params">{ text = <span class="hljs-string">''</span>, location: [x, y] = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>], bold = <span class="hljs-literal">false</span> }</span>) {</li><li>  text;</li><li>  x;</li><li>  y;</li><li>  bold;</li><li>}</li><li>
</li><li><span class="hljs-title function_">drawText</span>({ <span class="hljs-attr">text</span>: <span class="hljs-string">'Hello, world!'</span>, <span class="hljs-attr">location</span>: [<span class="hljs-number">100</span>, <span class="hljs-number">50</span>], <span class="hljs-attr">bold</span>: <span class="hljs-literal">true</span> });</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">drawText</span>(<span class="hljs-params">text: <span class="hljs-built_in">String</span>, location: <span class="hljs-built_in">number</span>[], bold: <span class="hljs-built_in">boolean</span></span>) {</li><li>  <span class="hljs-keyword">let</span> x = location[<span class="hljs-number">0</span>];</li><li>  <span class="hljs-keyword">let</span> y = location[<span class="hljs-number">1</span>];</li><li>  text;</li><li>  x;</li><li>  y;</li><li>  bold;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title function_">drawText</span>(<span class="hljs-string">'Hello, world!'</span>, [<span class="hljs-number">100</span>, <span class="hljs-number">50</span>], <span class="hljs-literal">true</span>);</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1033px;"><h3 id="不支持在函数内声明函数">不支持在函数内声明函数<i class="anchor-icon anchor-icon-link" anchorid="不支持在函数内声明函数" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-nested-funcs</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605092</strong></p> <p>ArkTS不支持在函数内声明函数，改用lambda函数。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">addNum</span>(<span class="hljs-params">a: <span class="hljs-built_in">number</span>, b: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">void</span> {</li><li>
</li><li>  <span class="hljs-comment">// 函数内声明函数</span></li><li>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">logToConsole</span>(<span class="hljs-params">message: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(message);</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">let</span> result = a + b;</li><li>
</li><li>  <span class="hljs-comment">// 调用函数</span></li><li>  <span class="hljs-title function_">logToConsole</span>(<span class="hljs-string">'result is '</span> + result);</li><li>}</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">addNum</span>(<span class="hljs-params">a: <span class="hljs-built_in">number</span>, b: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-comment">// 使用lambda函数代替声明函数</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">logToConsole</span>: <span class="hljs-function">(<span class="hljs-params">message: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">void</span> = (<span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(message);</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">let</span> result = a + b;</li><li>
</li><li>  <span class="hljs-title function_">logToConsole</span>(<span class="hljs-string">'result is '</span> + result);</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1129px;"><h3 id="不支持在函数和类的静态方法中使用this">不支持在函数和类的静态方法中使用this<i class="anchor-icon anchor-icon-link" anchorid="不支持在函数和类的静态方法中使用this" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-standalone-this</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605093</strong></p> <p>ArkTS中this只能在类的实例方法中使用，不支持在函数和类的静态方法中使用。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params">i: <span class="hljs-built_in">string</span></span>) {</li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span> = i; <span class="hljs-comment">// 只有在开启noImplicitThis选项时会产生编译时错误</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> {</li><li>  <span class="hljs-attr">count</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'a'</span></li><li>  m = foo</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> a = <span class="hljs-keyword">new</span> <span class="hljs-title function_">A</span>();</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(a.<span class="hljs-property">count</span>); <span class="hljs-comment">// 打印a</span></li><li>a.<span class="hljs-title function_">m</span>(<span class="hljs-string">'b'</span>);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(a.<span class="hljs-property">count</span>); <span class="hljs-comment">// 打印b</span></li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> {</li><li>  <span class="hljs-attr">count</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'a'</span></li><li>  <span class="hljs-title function_">m</span>(<span class="hljs-attr">i</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span> = i;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"></span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">let</span> a = <span class="hljs-keyword">new</span> <span class="hljs-title function_">A</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(a.<span class="hljs-property">count</span>);  <span class="hljs-comment">// 打印a</span></li><li>  a.<span class="hljs-title function_">m</span>(<span class="hljs-string">'b'</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(a.<span class="hljs-property">count</span>);  <span class="hljs-comment">// 打印b</span></li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1009px;"><h3 id="不支持生成器函数">不支持生成器函数<i class="anchor-icon anchor-icon-link" anchorid="不支持生成器函数" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-generators</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605094</strong></p> <p>目前ArkTS不支持生成器函数，可使用async或await机制处理并行任务。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span>* <span class="hljs-title function_">counter</span>(<span class="hljs-params">start: <span class="hljs-built_in">number</span>, end: <span class="hljs-built_in">number</span></span>) {</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = start; i &lt;= end; i++) {</li><li>    <span class="hljs-keyword">yield</span> i;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> num <span class="hljs-keyword">of</span> <span class="hljs-title function_">counter</span>(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>)) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(num.<span class="hljs-title function_">toString</span>());</li><li>}</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">complexNumberProcessing</span>(<span class="hljs-params">num: <span class="hljs-built_in">number</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">number</span>&gt; {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-keyword">return</span> num;</li><li>}</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">5</span>; i++) {</li><li>    <span class="hljs-keyword">await</span> <span class="hljs-title function_">complexNumberProcessing</span>(i);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-title function_">foo</span>()</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1873px;"><h3 id="使用instanceof和as进行类型保护">使用instanceof和as进行类型保护<i class="anchor-icon anchor-icon-link" anchorid="使用instanceof和as进行类型保护" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-is</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605096</strong></p> <p>在ArkTS中，不支持is运算符，必须使用instanceof运算符来替代。在使用instanceof之前，必须先使用as运算符将对象转换为所需类型。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span> {</li><li>  <span class="hljs-attr">foo</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>  <span class="hljs-attr">common</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Bar</span> {</li><li>  <span class="hljs-attr">bar</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>  <span class="hljs-attr">common</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">isFoo</span>(<span class="hljs-params">arg: <span class="hljs-built_in">any</span></span>): arg is <span class="hljs-title class_">Foo</span> {</li><li>  <span class="hljs-keyword">return</span> arg.<span class="hljs-property">foo</span> !== <span class="hljs-literal">undefined</span>;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">doStuff</span>(<span class="hljs-params">arg: Foo | Bar</span>) {</li><li>  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isFoo</span>(arg)) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(arg.<span class="hljs-property">foo</span>);  <span class="hljs-comment">// OK</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(arg.<span class="hljs-property">bar</span>);  <span class="hljs-comment">// 编译时错误</span></li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(arg.<span class="hljs-property">foo</span>);  <span class="hljs-comment">// 编译时错误</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(arg.<span class="hljs-property">bar</span>);  <span class="hljs-comment">// OK</span></li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-title function_">doStuff</span>({ <span class="hljs-attr">foo</span>: <span class="hljs-string">'123'</span>, <span class="hljs-attr">common</span>: <span class="hljs-string">'123'</span> });</li><li><span class="hljs-title function_">doStuff</span>({ <span class="hljs-attr">bar</span>: <span class="hljs-string">'123'</span>, <span class="hljs-attr">common</span>: <span class="hljs-string">'123'</span> });</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span> {</li><li>  <span class="hljs-attr">foo</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>  <span class="hljs-attr">common</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Bar</span> {</li><li>  <span class="hljs-attr">bar</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>  <span class="hljs-attr">common</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">isFoo</span>(<span class="hljs-params">arg: <span class="hljs-built_in">Object</span></span>): <span class="hljs-built_in">boolean</span> {</li><li>  <span class="hljs-keyword">return</span> arg <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Foo</span>;</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">doStuff</span>(<span class="hljs-params">arg: <span class="hljs-built_in">Object</span></span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isFoo</span>(arg)) {</li><li>    <span class="hljs-keyword">let</span> fooArg = arg <span class="hljs-keyword">as</span> <span class="hljs-title class_">Foo</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(fooArg.<span class="hljs-property">foo</span>);   <span class="hljs-comment">// OK</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(arg.<span class="hljs-property">bar</span>);    <span class="hljs-comment">// 编译时错误</span></li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-keyword">let</span> barArg = arg <span class="hljs-keyword">as</span> <span class="hljs-title class_">Bar</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(arg.<span class="hljs-property">foo</span>);    <span class="hljs-comment">// 编译时错误</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(barArg.<span class="hljs-property">bar</span>);   <span class="hljs-comment">// OK</span></li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"></span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-title function_">doStuff</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Foo</span>());</li><li>  <span class="hljs-title function_">doStuff</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Bar</span>());</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1689px;"><h3 id="部分支持展开运算符">部分支持展开运算符<i class="anchor-icon anchor-icon-link" anchorid="部分支持展开运算符" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-spread</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605099</strong></p> <p>ArkTS仅支持使用展开运算符展开数组、Array的子类和TypedArray（例如Int32Array）。仅支持使用在以下场景中：</p> <ol><li>传递给剩余参数时；</li><li>复制一个数组到数组字面量。</li></ol> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params">x: <span class="hljs-built_in">number</span>, y: <span class="hljs-built_in">number</span>, z: <span class="hljs-built_in">number</span></span>) {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">args</span>: [<span class="hljs-built_in">number</span>, <span class="hljs-built_in">number</span>, <span class="hljs-built_in">number</span>] = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>];</li><li><span class="hljs-title function_">foo</span>(...args);</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">log_numbers</span>(<span class="hljs-params">x: <span class="hljs-built_in">number</span>, y: <span class="hljs-built_in">number</span>, z: <span class="hljs-built_in">number</span></span>) {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">numbers</span>: <span class="hljs-built_in">number</span>[] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];</li><li><span class="hljs-title function_">log_numbers</span>(numbers[<span class="hljs-number">0</span>], numbers[<span class="hljs-number">1</span>], numbers[<span class="hljs-number">2</span>]);</li></ol></pre></div></div> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> point2d = { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">2</span> };</li><li><span class="hljs-keyword">let</span> point3d = { ...point2d, <span class="hljs-attr">z</span>: <span class="hljs-number">3</span> };</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point2D</span> {</li><li>  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>; <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point3D</span> {</li><li>  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>; <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>; <span class="hljs-attr">z</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">p2d: Point2D, z: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> = p2d.<span class="hljs-property">x</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> = p2d.<span class="hljs-property">y</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">z</span> = z;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> p3d = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Point3D</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">2</span> } <span class="hljs-keyword">as</span> <span class="hljs-title class_">Point2D</span>, <span class="hljs-number">3</span>);</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DerivedFromArray</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Uint16Array</span> {};</li><li>
</li><li><span class="hljs-keyword">let</span> arr1 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];</li><li><span class="hljs-keyword">let</span> arr2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint16Array</span>([<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]);</li><li><span class="hljs-keyword">let</span> arr3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DerivedFromArray</span>([<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]);</li><li><span class="hljs-keyword">let</span> arr4 = [...arr1, <span class="hljs-number">10</span>, ...arr2, <span class="hljs-number">11</span>, ...arr3];</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 2329px;"><h3 id="接口不能继承具有相同方法的两个接口">接口不能继承具有相同方法的两个接口<i class="anchor-icon anchor-icon-link" anchorid="接口不能继承具有相同方法的两个接口" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-extend-same-prop</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：106050102</strong></p> <p>在TypeScript中，如果一个接口继承了两个具有相同方法的接口，则必须使用联合类型声明该方法的返回值类型。在ArkTS中，由于接口不能包含两个无法区分的方法（如参数列表相同但返回类型不同），因此不能继承具有相同方法的两个接口。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Mover</span> {</li><li>  <span class="hljs-title function_">getStatus</span>(): { <span class="hljs-attr">speed</span>: <span class="hljs-built_in">number</span> }</li><li>}</li><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Shaker</span> {</li><li>  <span class="hljs-title function_">getStatus</span>(): { <span class="hljs-attr">frequency</span>: <span class="hljs-built_in">number</span> }</li><li>}</li><li>
</li><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">MoverShaker</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Mover</span>, <span class="hljs-title class_">Shaker</span> {</li><li>  <span class="hljs-title function_">getStatus</span>(): {</li><li>    <span class="hljs-attr">speed</span>: <span class="hljs-built_in">number</span></li><li>    <span class="hljs-attr">frequency</span>: <span class="hljs-built_in">number</span></li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">MoverShaker</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">speed</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">frequency</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>
</li><li>  <span class="hljs-title function_">getStatus</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">return</span> { <span class="hljs-attr">speed</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">speed</span>, <span class="hljs-attr">frequency</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">frequency</span> };</li><li>  }</li><li>}</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MoveStatus</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">speed</span>: <span class="hljs-built_in">number</span></li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">speed</span> = <span class="hljs-number">0</span>;</li><li>  }</li><li>}</li><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Mover</span> {</li><li>  <span class="hljs-title function_">getMoveStatus</span>(): <span class="hljs-title class_">MoveStatus</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">ShakeStatus</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">frequency</span>: <span class="hljs-built_in">number</span></li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frequency</span> = <span class="hljs-number">0</span>;</li><li>  }</li><li>}</li><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Shaker</span> {</li><li>  <span class="hljs-title function_">getShakeStatus</span>(): <span class="hljs-title class_">ShakeStatus</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MoveAndShakeStatus</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">speed</span>: <span class="hljs-built_in">number</span></li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">frequency</span>: <span class="hljs-built_in">number</span></li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">speed</span> = <span class="hljs-number">0</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">frequency</span> = <span class="hljs-number">0</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Mover</span>, <span class="hljs-title class_">Shaker</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">move_status</span>: <span class="hljs-title class_">MoveStatus</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">shake_status</span>: <span class="hljs-title class_">ShakeStatus</span></li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">move_status</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MoveStatus</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">shake_status</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ShakeStatus</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">getMoveStatus</span>(): <span class="hljs-title class_">MoveStatus</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">move_status</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">getShakeStatus</span>(): <span class="hljs-title class_">ShakeStatus</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">shake_status</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">getStatus</span>(): <span class="hljs-title class_">MoveAndShakeStatus</span> {</li><li>    <span class="hljs-keyword">return</span> {</li><li>      <span class="hljs-attr">speed</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">move_status</span>.<span class="hljs-property">speed</span>,</li><li>      <span class="hljs-attr">frequency</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">shake_status</span>.<span class="hljs-property">frequency</span></li><li>    };</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 985px;"><h3 id="不支持声明合并">不支持声明合并<i class="anchor-icon anchor-icon-link" anchorid="不支持声明合并" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-decl-merging</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605103</strong></p> <p>ArkTS不支持类和接口的声明合并。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Document</span> {</li><li>  <span class="hljs-title function_">createElement</span>(<span class="hljs-attr">tagName</span>: <span class="hljs-built_in">any</span>): <span class="hljs-built_in">number</span>;</li><li>}</li><li>
</li><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Document</span> {</li><li>  <span class="hljs-title function_">createElement</span>(<span class="hljs-attr">tagName</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">boolean</span>;</li><li>}</li><li>
</li><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Document</span> {</li><li>  <span class="hljs-title function_">createElement</span>(<span class="hljs-attr">tagName</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">number</span>;</li><li>  <span class="hljs-title function_">createElement</span>(<span class="hljs-attr">tagName</span>: <span class="hljs-built_in">boolean</span>): <span class="hljs-built_in">boolean</span>;</li><li>  <span class="hljs-title function_">createElement</span>(<span class="hljs-attr">tagName</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">value</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">string</span>;</li><li>}</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Document</span> {</li><li>  <span class="hljs-title function_">createElement</span>(<span class="hljs-attr">tagName</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">number</span>;</li><li>  <span class="hljs-title function_">createElement</span>(<span class="hljs-attr">tagName</span>: <span class="hljs-built_in">boolean</span>): <span class="hljs-built_in">boolean</span>;</li><li>  <span class="hljs-title function_">createElement</span>(<span class="hljs-attr">tagName</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">value</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">number</span>;</li><li>  <span class="hljs-title function_">createElement</span>(<span class="hljs-attr">tagName</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">string</span>;</li><li>  <span class="hljs-title function_">createElement</span>(<span class="hljs-attr">tagName</span>: <span class="hljs-title class_">Object</span>): <span class="hljs-built_in">object</span>;</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 841px;"><h3 id="接口不能继承类">接口不能继承类<i class="anchor-icon anchor-icon-link" anchorid="接口不能继承类" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-extends-only-class</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605104</strong></p> <p>在ArkTS中，接口不能继承类，只能继承其他接口。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Control</span> {</li><li>  <span class="hljs-attr">state</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">SelectableControl</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Control</span> {</li><li>  <span class="hljs-title function_">select</span>(): <span class="hljs-built_in">void</span></li><li>}</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Control</span> {</li><li>  <span class="hljs-attr">state</span>: <span class="hljs-built_in">number</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">SelectableControl</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Control</span> {</li><li>  <span class="hljs-title function_">select</span>(): <span class="hljs-built_in">void</span></li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1249px;"><h3 id="不支持构造函数类型">不支持构造函数类型<i class="anchor-icon anchor-icon-link" anchorid="不支持构造函数类型" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-ctor-signatures-funcs</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605106</strong></p> <p>ArkTS不支持构造函数类型，改用lambda函数。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span></li><li><span class="hljs-params">    name: <span class="hljs-built_in">string</span>,</span></li><li><span class="hljs-params">    age: <span class="hljs-built_in">number</span></span></li><li><span class="hljs-params">  </span>) {}</li><li>}</li><li><span class="hljs-keyword">type</span> <span class="hljs-title class_">PersonCtor</span> = <span class="hljs-keyword">new</span> (<span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>) =&gt; <span class="hljs-title class_">Person</span></li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createPerson</span>(<span class="hljs-params">Ctor: PersonCtor, name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span></span>): <span class="hljs-title class_">Person</span></li><li>{</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Ctor</span>(name, age);</li><li>}</li><li>
</li><li><span class="hljs-keyword">const</span> person = <span class="hljs-title function_">createPerson</span>(<span class="hljs-title class_">Person</span>, <span class="hljs-string">'John'</span>, <span class="hljs-number">30</span>);</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span></li><li><span class="hljs-params">    name: <span class="hljs-built_in">string</span>,</span></li><li><span class="hljs-params">    age: <span class="hljs-built_in">number</span></span></li><li><span class="hljs-params">  </span>) {}</li><li>}</li><li><span class="hljs-keyword">type</span> <span class="hljs-title class_">PersonCtor</span> = <span class="hljs-function">(<span class="hljs-params">n: <span class="hljs-built_in">string</span>, a: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-title class_">Person</span></li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createPerson</span>(<span class="hljs-params">Ctor: PersonCtor, n: <span class="hljs-built_in">string</span>, a: <span class="hljs-built_in">number</span></span>): <span class="hljs-title class_">Person</span> {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ctor</span>(n, a);</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-title class_">Impersonizer</span>: <span class="hljs-title class_">PersonCtor</span> = (<span class="hljs-attr">n</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">a</span>: <span class="hljs-built_in">number</span>): <span class="hljs-function"><span class="hljs-params">Person</span> =&gt;</span> {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(n, a);</li><li>}</li><li>
</li><li><span class="hljs-keyword">const</span> person = <span class="hljs-title function_">createPerson</span>(<span class="hljs-title class_">Impersonizer</span>, <span class="hljs-string">'John'</span>, <span class="hljs-number">30</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1177px;"><h3 id="只能使用类型相同的编译时表达式初始化枚举成员">只能使用类型相同的编译时表达式初始化枚举成员<i class="anchor-icon anchor-icon-link" anchorid="只能使用类型相同的编译时表达式初始化枚举成员" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-enum-mixed-types</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605111</strong></p> <p>ArkTS不支持使用运行期间计算的表达式初始化枚举成员。枚举中所有显式初始化的成员必须具有相同类型。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-variable constant_">E1</span> {</li><li>  A = <span class="hljs-number">0xa</span>,</li><li>  B = <span class="hljs-number">0xb</span>,</li><li>  C = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>(),</li><li>  D = <span class="hljs-number">0xd</span>,</li><li>  E <span class="hljs-comment">// 推断出0xe</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-variable constant_">E2</span> {</li><li>  A = <span class="hljs-number">0xa</span>,</li><li>  B = <span class="hljs-string">'0xb'</span>,</li><li>  C = <span class="hljs-number">0xc</span>,</li><li>  D = <span class="hljs-string">'0xd'</span></li><li>}</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-variable constant_">E1</span> {</li><li>  A = <span class="hljs-number">0xa</span>,</li><li>  B = <span class="hljs-number">0xb</span>,</li><li>  C = <span class="hljs-number">0xc</span>,</li><li>  D = <span class="hljs-number">0xd</span>,</li><li>  E <span class="hljs-comment">// 推断出0xe</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-variable constant_">E2</span> {</li><li>  A = <span class="hljs-string">'0xa'</span>,</li><li>  B = <span class="hljs-string">'0xb'</span>,</li><li>  C = <span class="hljs-string">'0xc'</span>,</li><li>  D = <span class="hljs-string">'0xd'</span></li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 937px;"><h3 id="不支持enum声明合并">不支持enum声明合并<i class="anchor-icon anchor-icon-link" anchorid="不支持enum声明合并" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-enum-merging</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605113</strong></p> <p>ArkTS不支持enum声明合并。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">ColorSet</span> {</li><li>  <span class="hljs-variable constant_">RED</span>,</li><li>  <span class="hljs-variable constant_">GREEN</span></li><li>}</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">ColorSet</span> {</li><li>  <span class="hljs-variable constant_">YELLOW</span> = <span class="hljs-number">2</span></li><li>}</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">ColorSet</span> {</li><li>  <span class="hljs-variable constant_">BLACK</span> = <span class="hljs-number">3</span>,</li><li>  <span class="hljs-variable constant_">BLUE</span></li><li>}</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">ColorSet</span> {</li><li>  <span class="hljs-variable constant_">RED</span>,</li><li>  <span class="hljs-variable constant_">GREEN</span>,</li><li>  <span class="hljs-variable constant_">YELLOW</span>,</li><li>  <span class="hljs-variable constant_">BLACK</span>,</li><li>  <span class="hljs-variable constant_">BLUE</span></li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 769px;"><h3 id="命名空间不能被用作对象">命名空间不能被用作对象<i class="anchor-icon anchor-icon-link" anchorid="命名空间不能被用作对象" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-ns-as-obj</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605114</strong></p> <p>ArkTS不支持将命名空间用作对象，可以使用类或模块。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">MyNamespace</span> {</li><li>  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> m = <span class="hljs-title class_">MyNamespace</span>;</li><li>m.<span class="hljs-property">x</span> = <span class="hljs-number">2</span>;</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">MyNamespace</span> {</li><li>  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span></li><li>}</li><li>
</li><li><span class="hljs-title class_">MyNamespace</span>.<span class="hljs-property">x</span> = <span class="hljs-number">2</span>;</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 865px;"><h3 id="不支持命名空间中的非声明语句">不支持命名空间中的非声明语句<i class="anchor-icon anchor-icon-link" anchorid="不支持命名空间中的非声明语句" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-ns-statements</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605116</strong></p> <p>在ArkTS中，命名空间用于定义标识符的可见范围，仅在编译时有效。因此，命名空间中不支持非声明语句。可以将非声明语句写在函数中。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">namespace</span> A {</li><li>  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span></li><li>  x = <span class="hljs-number">1</span>;</li><li>}</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">namespace</span> A {</li><li>  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span></li><li>
</li><li>  <span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">init</span>(<span class="hljs-params"></span>) {</li><li>    x = <span class="hljs-number">1</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">// 调用初始化函数来执行</span></li><li>A.<span class="hljs-title function_">init</span>();</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 553px;"><h3 id="不支持require和import赋值表达式">不支持require和import赋值表达式<i class="anchor-icon anchor-icon-link" anchorid="不支持require和import赋值表达式" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-require</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605121</strong></p> <p>ArkTS不支持通过require导入和import赋值表达式，改用import。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> m = <span class="hljs-built_in">require</span>(<span class="hljs-string">'mod'</span>)</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> m <span class="hljs-keyword">from</span> <span class="hljs-string">'mod'</span></li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1033px;"><h3 id="不支持export--语法">不支持export = ...语法<i class="anchor-icon anchor-icon-link" anchorid="不支持export--语法" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-export-assignment</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605126</strong></p> <p>ArkTS不支持export = ...语法，改用常规的export或import。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// module1</span></li><li><span class="hljs-keyword">export</span> = <span class="hljs-title class_">Point</span></li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">x: <span class="hljs-built_in">number</span>, y: <span class="hljs-built_in">number</span></span>) {}</li><li>  <span class="hljs-keyword">static</span> origin = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Point</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>)</li><li>}</li><li>
</li><li><span class="hljs-comment">// module2</span></li><li><span class="hljs-keyword">import</span> <span class="hljs-title class_">Pt</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'module1'</span>)</li><li>
</li><li><span class="hljs-keyword">let</span> p = <span class="hljs-title class_">Pt</span>.<span class="hljs-property">Point</span>.<span class="hljs-property">origin</span>;</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// module1</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">x: <span class="hljs-built_in">number</span>, y: <span class="hljs-built_in">number</span></span>) {}</li><li>  <span class="hljs-keyword">static</span> origin = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Point</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>)</li><li>}</li><li>
</li><li><span class="hljs-comment">// module2</span></li><li><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-title class_">Pt</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'module1'</span></li><li>
</li><li><span class="hljs-keyword">let</span> p = <span class="hljs-title class_">Pt</span>.<span class="hljs-property">Point</span>.<span class="hljs-property">origin</span></li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 625px;"><h3 id="不支持ambient-module声明">不支持ambient module声明<i class="anchor-icon anchor-icon-link" anchorid="不支持ambient-module声明" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-ambient-decls</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605128</strong></p> <p>由于ArkTS本身有与JavaScript交互的机制，ArkTS不支持ambient module声明。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">'someModule'</span> {</li><li>  <span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">normalize</span>(<span class="hljs-params">s: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">string</span>;</li><li>}</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 从原始模块中导入需要的内容</span></li><li><span class="hljs-keyword">import</span> { normalize } <span class="hljs-keyword">from</span> <span class="hljs-string">'someModule'</span></li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 889px;"><h3 id="不支持在模块名中使用通配符">不支持在模块名中使用通配符<i class="anchor-icon anchor-icon-link" anchorid="不支持在模块名中使用通配符" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-module-wildcards</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605129</strong></p> <p>在ArkTS中，导入是编译时而非运行时行为，不支持在模块名中使用通配符。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 声明</span></li><li><span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">'*!text'</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span></li><li>  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> content</li><li>}</li><li>
</li><li><span class="hljs-comment">// 使用代码</span></li><li><span class="hljs-keyword">import</span> fileContent <span class="hljs-keyword">from</span> <span class="hljs-string">'some.txt!text'</span></li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 声明</span></li><li><span class="hljs-keyword">declare</span> <span class="hljs-keyword">namespace</span> N {</li><li>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params">x: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span></li><li>}</li><li>
</li><li><span class="hljs-comment">// 使用代码</span></li><li><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> m <span class="hljs-keyword">from</span> <span class="hljs-string">'module'</span></li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'N.foo called: '</span> + N.<span class="hljs-title function_">foo</span>(<span class="hljs-number">42</span>));</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 865px;"><h3 id="不支持通用模块定义umd">不支持通用模块定义(UMD)<i class="anchor-icon anchor-icon-link" anchorid="不支持通用模块定义umd" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-umd</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605130</strong></p> <p>ArkTS不支持通用模块定义（UMD）。因为在ArkTS中没有“脚本”的概念（相对于“模块”）。此外，在ArkTS中，导入是编译时而非运行时特性。改用export和import语法。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// math-lib.d.ts</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">isPrime</span>(<span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">boolean</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">as</span> <span class="hljs-keyword">namespace</span> mathLib</li><li>
</li><li>// 脚本中</li><li>mathLib.isPrime(2)</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// math-lib.d.ts</span></li><li><span class="hljs-keyword">namespace</span> mathLib {</li><li>  <span class="hljs-keyword">export</span> <span class="hljs-title function_">isPrime</span>(<span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">boolean</span></li><li>}</li><li>
</li><li><span class="hljs-comment">// 程序中</span></li><li><span class="hljs-keyword">import</span> { mathLib } <span class="hljs-keyword">from</span> <span class="hljs-string">'math-lib'</span></li><li>mathLib.<span class="hljs-title function_">isPrime</span>(<span class="hljs-number">2</span>)</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 236px;"><h3 id="不支持newtarget">不支持new.target<i class="anchor-icon anchor-icon-link" anchorid="不支持newtarget" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-new-target</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605132</strong></p> <p>ArkTS没有原型的概念，因此不支持new.target。此特性不符合静态类型的原则。</p> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 889px;"><h3 id="不支持确定赋值断言">不支持确定赋值断言<i class="anchor-icon anchor-icon-link" anchorid="不支持确定赋值断言" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-definite-assignment</p> <p><strong>级别：警告</strong></p> <p><strong>错误码：10605134</strong></p> <p>ArkTS不支持确定赋值断言，例如：let v!: T。改为在声明变量的同时为变量赋值。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> x!: <span class="hljs-built_in">number</span> <span class="hljs-comment">// 提示：在使用前将x初始化</span></li><li>
</li><li><span class="hljs-title function_">initialize</span>();</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">initialize</span>(<span class="hljs-params"></span>) {</li><li>  x = <span class="hljs-number">10</span>;</li><li>}</li><li>
</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'x = '</span> + x);</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">initialize</span>(<span class="hljs-params"></span>): <span class="hljs-built_in">number</span> {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-number">10</span>;</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span> = <span class="hljs-title function_">initialize</span>();</li><li>
</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'x = '</span> + x);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1033px;"><h3 id="不支持在原型上赋值">不支持在原型上赋值<i class="anchor-icon anchor-icon-link" anchorid="不支持在原型上赋值" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-prototype-assignment</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605136</strong></p> <p>ArkTS没有原型的概念，因此不支持在原型上赋值。此特性不符合静态类型的原则。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> C = <span class="hljs-keyword">function</span>(<span class="hljs-params">p</span>) {</li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">p</span> = p; <span class="hljs-comment">// 只有在开启noImplicitThis选项时会产生编译时错误</span></li><li>}</li><li>
</li><li>C.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = {</li><li>  <span class="hljs-title function_">m</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">p</span>);</li><li>  }</li><li>}</li><li>
</li><li>C.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">q</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">r: <span class="hljs-built_in">string</span></span>) {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">p</span> == r;</li><li>}</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> {</li><li>  <span class="hljs-attr">p</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>  <span class="hljs-title function_">m</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">p</span>);</li><li>  }</li><li>  <span class="hljs-title function_">q</span>(<span class="hljs-params">r: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">p</span> === r;</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 793px;"><h3 id="不支持globalthis">不支持globalThis<i class="anchor-icon anchor-icon-link" anchorid="不支持globalthis" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-globalthis</p> <p><strong>级别：警告</strong></p> <p><strong>错误码：10605137</strong></p> <p>由于ArkTS不支持动态更改对象的布局，因此不支持全局作用域和globalThis。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 全局文件中</span></li><li><span class="hljs-keyword">var</span> abc = <span class="hljs-number">100</span>;</li><li>
</li><li><span class="hljs-comment">// 从上面引用'abc'</span></li><li><span class="hljs-keyword">let</span> x = globalThis.<span class="hljs-property">abc</span>;</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// file1</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> <span class="hljs-attr">abc</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">100</span>;</li><li>
</li><li><span class="hljs-comment">// file2</span></li><li><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> M <span class="hljs-keyword">from</span> <span class="hljs-string">'file1'</span></li><li>
</li><li><span class="hljs-keyword">let</span> x = M.<span class="hljs-property">abc</span>;</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 332px;"><h3 id="不支持一些utility类型">不支持一些utility类型<i class="anchor-icon anchor-icon-link" anchorid="不支持一些utility类型" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-utility-types</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605138</strong></p> <p>ArkTS仅支持Partial、Required、Readonly和Record，不支持TypeScript中其他的Utility Types。</p> <p>对于Partial&lt;T&gt;类型，泛型参数T必须为类或者接口类型。</p> <p>对于Record类型的对象，通过索引访问到的值的类型是包含undefined的联合类型。</p> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 236px;"><h3 id="不支持对函数声明属性">不支持对函数声明属性<i class="anchor-icon anchor-icon-link" anchorid="不支持对函数声明属性" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-func-props</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605139</strong></p> <p>由于ArkTS不支持动态改变函数对象布局，因此，不支持对函数声明属性。</p> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 260px;"><h3 id="不支持functionapply和functioncall">不支持Function.apply和Function.call<i class="anchor-icon anchor-icon-link" anchorid="不支持functionapply和functioncall" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-func-apply-call</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605152</strong></p> <p>ArkTS不允许使用标准库函数Function.apply和Function.call，因为这些函数用于显式设置被调用函数的this参数。在ArkTS中，this的语义仅限于传统的OOP风格，函数体中禁止使用this。</p> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 260px;"><h3 id="不支持functionbind">不支持Function.bind<i class="anchor-icon anchor-icon-link" anchorid="不支持functionbind" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-func-bind</p> <p><strong>级别：警告</strong></p> <p><strong>错误码：10605140</strong></p> <p>ArkTS禁用标准库函数Function.bind。标准库使用这些函数显式设置被调用函数的this参数。在ArkTS中，this仅限于传统OOP风格，函数体中禁用使用this。</p> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1033px;"><h3 id="不支持as-const断言">不支持as const断言<i class="anchor-icon anchor-icon-link" anchorid="不支持as-const断言" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-as-const</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605142</strong></p> <p>ArkTS不支持as const断言和字面量类型。在标准TypeScript中，as const用于标注字面量类型。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 'hello'类型</span></li><li><span class="hljs-keyword">let</span> x = <span class="hljs-string">'hello'</span> <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>;</li><li>
</li><li><span class="hljs-comment">// 'readonly [10, 20]'类型</span></li><li><span class="hljs-keyword">let</span> y = [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>;</li><li>
</li><li><span class="hljs-comment">// '{ readonly text: 'hello' }'类型</span></li><li><span class="hljs-keyword">let</span> z = { <span class="hljs-attr">text</span>: <span class="hljs-string">'hello'</span> } <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>;</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 'string'类型</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">x</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'hello'</span>;</li><li>
</li><li><span class="hljs-comment">// 'number[]'类型</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>[] = [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>];</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Label</span> {</li><li>  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>}</li><li>
</li><li><span class="hljs-comment">// 'Label'类型</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">z</span>: <span class="hljs-title class_">Label</span> = {</li><li>  <span class="hljs-attr">text</span>: <span class="hljs-string">'hello'</span></li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 577px;"><h3 id="不支持导入断言">不支持导入断言<i class="anchor-icon anchor-icon-link" anchorid="不支持导入断言" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-import-assertions</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605143</strong></p> <p>ArkTS不支持导入断言。因为导入是编译时特性，运行时检查导入API是否正确没有意义。改用常规的import语法。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { obj } <span class="hljs-keyword">from</span> <span class="hljs-string">'something.json'</span> assert { <span class="hljs-attr">type</span>: <span class="hljs-string">'json'</span> }</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 编译时将检查导入T的正确性</span></li><li><span class="hljs-keyword">import</span> { something } <span class="hljs-keyword">from</span> <span class="hljs-string">'module'</span></li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1100px;"><h3 id="限制使用标准库">限制使用标准库<i class="anchor-icon anchor-icon-link" anchorid="限制使用标准库" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-limited-stdlib</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605144</strong></p> <p>ArkTS不允许使用TypeScript或JavaScript标准库中的某些接口。大部分接口与动态特性有关。ArkTS中禁止使用以下接口：</p> <p>全局对象的属性和方法：eval</p> <p>Object：__proto__、__defineGetter__、__defineSetter__、</p> <p>__lookupGetter__、__lookupSetter__、assign、create、</p> <p>defineProperties、defineProperty、freeze、</p> <p>fromEntries、getOwnPropertyDescriptor、getOwnPropertyDescriptors、</p> <p>getOwnPropertySymbols、getPrototypeOf、</p> <p>hasOwnProperty、is、isExtensible、isFrozen、</p> <p>isPrototypeOf、isSealed、preventExtensions、</p> <p>propertyIsEnumerable、seal、setPrototypeOf</p> <p>Reflect：apply、construct、defineProperty、deleteProperty、</p> <p>getOwnPropertyDescriptor、getPrototypeOf、</p> <p>isExtensible、preventExtensions、</p> <p>setPrototypeOf</p> <p>Proxy：handler.apply()、handler.construct()、</p> <p>handler.defineProperty()、handler.deleteProperty()、handler.get()、</p> <p>handler.getOwnPropertyDescriptor()、handler.getPrototypeOf()、</p> <p>handler.has()、handler.isExtensible()、handler.ownKeys()、</p> <p>handler.preventExtensions()、handler.set()、handler.setPrototypeOf()</p> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1969px;"><h3 id="强制进行严格类型检查">强制进行严格类型检查<i class="anchor-icon anchor-icon-link" anchorid="强制进行严格类型检查" tips="复制节点链接"></i></h3><p><strong>级别：错误</strong></p> <p><strong>错误码：10605999</strong></p> <p>在编译阶段，会进行TypeScript严格模式的类型检查，包括：</p> <p>noImplicitReturns,</p> <p>strictFunctionTypes,</p> <p>strictNullChecks,</p> <p>strictPropertyInitialization。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 只有在开启noImplicitReturns选项时会产生编译时错误</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params">s: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">string</span> {</li><li>  <span class="hljs-keyword">if</span> (s != <span class="hljs-string">''</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(s);</li><li>    <span class="hljs-keyword">return</span> s;</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(s);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// 只有在开启strictNullChecks选项时会产生编译时错误</span></li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params">s: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">string</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(s);</li><li>  <span class="hljs-keyword">return</span> s;</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">n1</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">n2</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li></ol></pre></div></div> <p>在定义类时，如果无法在声明时或者构造函数中初始化某实例属性，那么可以使用确定赋值断言符!来消除strictPropertyInitialization的报错。</p> <p>使用确定赋值断言符会增加代码错误的风险。开发者必须确保实例属性在使用前已赋值，以避免运行时异常。</p> <p>使用确定赋值断言符会增加运行时开销，应尽量避免使用。</p> <p>使用确定赋值断言符将产生warning: arkts-no-definite-assignment。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> {</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>  <span class="hljs-comment">// 只有在开启strictPropertyInitialization选项时会产生编译时错误</span></li><li>  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>   <span class="hljs-comment">// 只有在开启strictPropertyInitialization选项时会产生编译时错误</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> c = <span class="hljs-keyword">new</span> <span class="hljs-title function_">C</span>();</li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> {</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>  age!: <span class="hljs-built_in">number</span>      <span class="hljs-comment">// warning: arkts-no-definite-assignment</span></li><li>
</li><li>  <span class="hljs-title function_">initAge</span>(<span class="hljs-params">age: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> c = <span class="hljs-keyword">new</span> <span class="hljs-title function_">C</span>();</li><li>c.<span class="hljs-title function_">initAge</span>(<span class="hljs-number">10</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 769px;"><h3 id="不允许通过注释关闭类型检查">不允许通过注释关闭类型检查<i class="anchor-icon anchor-icon-link" anchorid="不允许通过注释关闭类型检查" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-strict-typing-required</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605146</strong></p> <p>在ArkTS中，类型检查不是可选项。不允许通过注释关闭类型检查，不支持使用@ts-ignore和@ts-nocheck。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// @ts-nocheck</span></li><li><span class="hljs-comment">// ...</span></li><li><span class="hljs-comment">// 关闭了类型检查后的代码</span></li><li><span class="hljs-comment">// ...</span></li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">s1</span>: <span class="hljs-built_in">string</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// 没有报错</span></li><li>
</li><li><span class="hljs-comment">// @ts-ignore</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">s2</span>: <span class="hljs-built_in">string</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// 没有报错</span></li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">s1</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// 没有报错，合适的类型</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">s2</span>: <span class="hljs-built_in">string</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// 编译时报错</span></li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 841px;"><h3 id="允许ets文件importetstsjs文件源码-不允许tsjs文件importets文件源码">允许.ets文件import.ets/.ts/.js文件源码, 不允许.ts/.js文件import.ets文件源码<i class="anchor-icon anchor-icon-link" anchorid="允许ets文件importetstsjs文件源码-不允许tsjs文件importets文件源码" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-ts-deps</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605147</strong></p> <p>.ets文件可以import.ets/.ts/.js文件源码，但是.ts/.js文件不允许import.ets文件源码。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// app.ets</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>
</li><li><span class="hljs-comment">// lib.ts</span></li><li><span class="hljs-keyword">import</span> { C } <span class="hljs-keyword">from</span> <span class="hljs-string">'app'</span></li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// lib1.ets</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>
</li><li><span class="hljs-comment">// lib2.ets</span></li><li><span class="hljs-keyword">import</span> { C } <span class="hljs-keyword">from</span> <span class="hljs-string">'lib1'</span></li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 236px;"><h3 id="class不能被用作对象">class不能被用作对象<i class="anchor-icon anchor-icon-link" anchorid="class不能被用作对象" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-classes-as-obj</p> <p><strong>级别：警告</strong></p> <p><strong>错误码：10605149</strong></p> <p>在ArkTS中，class声明的是一个新类型，不是值。因此，不支持将class用作对象，例如将其赋值给一个对象。</p> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 841px;"><h3 id="不支持在import语句前使用其他语句">不支持在import语句前使用其他语句<i class="anchor-icon anchor-icon-link" anchorid="不支持在import语句前使用其他语句" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-no-misplaced-imports</p> <p><strong>级别：错误</strong></p> <p><strong>错误码：10605150</strong></p> <p>在ArkTS中，除动态 import 语句外，所有 import 语句都应置于其他语句之前。</p> <p><strong>TypeScript</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> {</li><li>  <span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>  <span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">import</span> foo <span class="hljs-keyword">from</span> <span class="hljs-string">'module1'</span></li></ol></pre></div></div> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> foo <span class="hljs-keyword">from</span> <span class="hljs-string">'module1'</span></li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> {</li><li>  <span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>  <span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">import</span>(<span class="hljs-string">'module2'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">() =&gt;</span> {})  <span class="hljs-comment">// 动态import</span></li></ol></pre></div></div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1045px;"><h3 id="限制使用esobject类型">限制使用ESObject类型<i class="anchor-icon anchor-icon-link" anchorid="限制使用esobject类型" tips="复制节点链接"></i></h3><p><strong>规则：</strong>arkts-limited-esobj</p> <p><strong>级别：警告</strong></p> <p><strong>错误码：10605151</strong></p> <p>为了防止动态对象（来自.ts/.js文件）在静态代码（.ets文件）中的滥用，ESObject类型在ArkTS中的使用是受限的。</p> <p>在API版本18以前，唯一允许使用ESObject类型的场景是局部变量的声明。ESObject类型变量只能被跨语言调用的对象赋值，例如：ESObject、any、unknown、匿名类型等。禁止使用在.ets文件中定义的静态类型值初始化ESObject类型变量。ESObject类型变量只能用于跨语言调用的函数或赋值给另一个ESObject类型变量。</p> <p>从API版本18开始，ESObject类型不再支持赋值对象字面量类型。ESObject类型支持在动态导入场景中作为类型标注，以及用于属性访问（点操作符和[]访问）、调用表达式和new表达式。</p> <p><strong>ArkTS</strong></p> <div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// lib.d.ts</span></li><li><span class="hljs-keyword">declare</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>): <span class="hljs-built_in">any</span>;</li><li><span class="hljs-keyword">declare</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">bar</span>(<span class="hljs-params">a: <span class="hljs-built_in">any</span></span>): <span class="hljs-built_in">number</span>;</li><li>
</li><li><span class="hljs-comment">// main.ets</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">e0</span>: <span class="hljs-title class_">ESObject</span> = <span class="hljs-title function_">foo</span>(); <span class="hljs-comment">// API18以前，编译时错误：ESObject类型只能用于局部变量；API18以后，OK，显式标注ESObject类型</span></li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">f</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> e1 = <span class="hljs-title function_">foo</span>();        <span class="hljs-comment">// 编译时错误：e1的类型是any</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e2</span>: <span class="hljs-title class_">ESObject</span> = <span class="hljs-number">1</span>;  <span class="hljs-comment">// API18以前，编译时错误：不能用非动态值初始化ESObject类型变量；API18以后，OK，支持赋值数字类型</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e3</span>: <span class="hljs-title class_">ESObject</span> = {}; <span class="hljs-comment">// API18以前，编译时错误：不能用非动态值初始化ESObject类型变量；API18以后，编译时错误：ESObject不支持赋值对象字面量类型</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e4</span>: <span class="hljs-title class_">ESObject</span> = []; <span class="hljs-comment">// API18以前，编译时错误：不能用非动态值初始化ESObject类型变量；API18以后，OK，支持赋值数组类型</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e5</span>: <span class="hljs-title class_">ESObject</span> = <span class="hljs-string">''</span>; <span class="hljs-comment">// API18以前，编译时错误：不能用非动态值初始化ESObject类型变量；API18以后，OK，支持赋值字符串类型</span></li><li>  e5[<span class="hljs-string">'prop'</span>];            <span class="hljs-comment">// API18以前，编译时错误：不能访问ESObject类型变量的属性；API18以后，OK，支持[]访问</span></li><li>  e5[<span class="hljs-number">1</span>];                 <span class="hljs-comment">// API18以前，编译时错误：不能访问ESObject类型变量的属性；API18以后，OK，支持[]访问</span></li><li>  e5.<span class="hljs-property">prop</span>;               <span class="hljs-comment">// API18以前，编译时错误：不能访问ESObject类型变量的属性；API18以后，OK，支持点操作符访问</span></li><li>
</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e6</span>: <span class="hljs-title class_">ESObject</span> = <span class="hljs-title function_">foo</span>(); <span class="hljs-comment">// OK，显式标注ESObject类型</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">e7</span>: <span class="hljs-title class_">ESObject</span> = e6;    <span class="hljs-comment">// OK，使用ESObject类型赋值</span></li><li>  <span class="hljs-title function_">bar</span>(e7);                  <span class="hljs-comment">// OK，ESObject类型变量传给跨语言调用的函数</span></li><li>}</li></ol></pre></div></div> </div> </div> <div></div></div>