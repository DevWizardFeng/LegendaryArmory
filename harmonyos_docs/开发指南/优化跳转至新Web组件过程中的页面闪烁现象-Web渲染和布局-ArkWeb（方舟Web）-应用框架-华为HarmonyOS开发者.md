<h1 _ngcontent-yhp-c119="" class="doc-title ng-star-inserted" title="优化跳转至新Web组件过程中的页面闪烁现象"> 优化跳转至新Web组件过程中的页面闪烁现象 </h1>

<div _ngcontent-yhp-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>应用使用Navigation等路由策略导航至Web组件页面时，在网页加载过程中，页面底部可能出现闪烁现象，这会影响用户体验。</p>  <div class="tiledSection"><h2 id="闪烁原因">闪烁原因<i class="anchor-icon anchor-icon-link" anchorid="闪烁原因" tips="复制节点链接"></i></h2><p>使用Navigation等路由策略导航至Web组件页面时，通常根据网页的回调通知判断是否隐藏系统导航栏。若决定隐藏，Web组件布局会进行调整。这一布局调整过程可简化为如下四个阶段：</p> <p><span><img originheight="333" originwidth="1429" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114734.41382139045889254220904634826409:50001231000000:2800:7609BA386E485BAA9885CE4146271163CA9E7A43DDDE3FF518790BBA667B2F84.png" width="920" height="214.3876836948915"></span></p> <p>图中四个状态的说明（从左至右）：</p> <ol><li><p>将应用路由至Web页面，页面顶部为系统导航栏，底部是Web组件。在此情况下，网页能够正常加载。</p>  </li><li><p>在网页加载过程中，系统会回调通知应用侧隐藏系统导航栏，以便切换至网页端的导航栏。此时系统导航栏被隐藏，Web组件的布局随即进行调整，页面底部最初会显露出Web组件的背景色（假设为灰色）。</p>  </li><li><p>网页继续根据新的尺寸加载并显示，首先呈现的是HTML网页的背景色（假设为白色）。</p>  </li><li><p>最后，网页内容完全加载，展现出完整的HTML网页内容。</p>  </li></ol> <p>在上述流程中，如果Web组件的背景色与网页背景色不同，跳转时可能会出现闪烁。闪烁的概率取决于网页的复杂度和网络状况。</p> </div>  <div class="tiledSection"><h2 id="优化方法">优化方法<i class="anchor-icon anchor-icon-link" anchorid="优化方法" tips="复制节点链接"></i></h2><p>应用可以通过设置与网页背景色相同的Web组件的背景色，避免视觉闪烁，提升用户体验。例如，将Web组件的背景色设置为白色。</p> <p>在类似情况下，如果Web组件的默认背景色为白色，而网页背景色为灰色，导航到新的Web页面时可能会出现白色闪烁。同理，将Web组件的背景色设置为灰色可以解决此问题。</p> <p>以下为设置Web组件背景色的接口示例（示例中将Web组件背景色设置为灰色，若不设置，Web组件背景色默认为白色）：</p> <div _ngcontent-yhp-c106="" class="highlight-div"><div _ngcontent-yhp-c106="" class="highlight-div-header"><div _ngcontent-yhp-c106="" class="highlight-div-header-left"><div _ngcontent-yhp-c106="" class="handle-button expand-button"><div _ngcontent-yhp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-yhp-c106="" class="highlight-div-header-right"><div _ngcontent-yhp-c106="" class="handle-button ai-button"></div><div _ngcontent-yhp-c106="" class="handle-button line-button"><div _ngcontent-yhp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-yhp-c106="" class="handle-button theme-button"><div _ngcontent-yhp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-yhp-c106="" class="handle-button copy-button"><div _ngcontent-yhp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-yhp-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: $rawfile(<span class="hljs-string">'xxx.html'</span>),  <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">webController</span>})</li><li>  .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li></ol></pre></div></div> </div> </div> <div></div></div>