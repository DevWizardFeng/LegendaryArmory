<h1 _ngcontent-pgy-c119="" class="doc-title ng-star-inserted" title="使用DevTools工具调试前端页面"> 使用DevTools工具调试前端页面 </h1>

<div _ngcontent-pgy-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>Web组件支持使用DevTools工具调试前端页面。DevTools是Web前端开发调试工具，支持在电脑上调试移动设备前端页面。开发者通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#setwebdebuggingaccess" target="_blank">setWebDebuggingAccess()</a>接口开启Web组件前端页面调试能力，使用DevTools在电脑上调试移动前端网页，设备需为4.1.0及以上版本。</p>    <div class="tiledSection">     <h2 id="无线调试">无线调试<i class="anchor-icon anchor-icon-link" anchorid="无线调试" tips="复制节点链接"></i></h2>          <p>从API version 20开始，可使用无线调试接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#setwebdebuggingaccess20" target="_blank">setWebDebuggingAccess<sup>20+</sup></a>，来简化调试流程。</p>    </div>    <div class="tiledSection">     <h3 id="应用代码开启web调试开关" class="firsth2">应用代码开启Web调试开关<i class="anchor-icon anchor-icon-link" anchorid="应用代码开启web调试开关" tips="复制节点链接"></i></h3>          <p>调试网页前，需要应用侧代码调用setWebDebuggingAccess()接口开启Web调试开关。</p>     <p>如果没有开启Web调试开关，则DevTools无法发现被调试的网页。</p>     <ol>      <li>在应用代码中开启Web调试开关，应用需要调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#setwebdebuggingaccess20" target="_blank">setWebDebuggingAccess<sup>20+</sup></a>接口，设置TCP Socket端口号并启用Web调试功能。</li>     </ol>     <div _ngcontent-pgy-c106="" class="highlight-div"><div _ngcontent-pgy-c106="" class="highlight-div-header"><div _ngcontent-pgy-c106="" class="highlight-div-header-left"><div _ngcontent-pgy-c106="" class="handle-button expand-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pgy-c106="" class="highlight-div-header-right"><div _ngcontent-pgy-c106="" class="handle-button ai-button"></div><div _ngcontent-pgy-c106="" class="handle-button line-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pgy-c106="" class="handle-button theme-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pgy-c106="" class="handle-button copy-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pgy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { webview } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkWeb'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: webview.<span class="hljs-property">WebviewController</span> = <span class="hljs-keyword">new</span> webview.<span class="hljs-title class_">WebviewController</span>();</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-comment">// 配置Web开启无线调试模式，指定TCP Socket的端口。</span></li><li>      webview.<span class="hljs-property">WebviewController</span>.<span class="hljs-title function_">setWebDebuggingAccess</span>(<span class="hljs-literal">true</span>, <span class="hljs-number">8888</span>);</li><li>    } <span class="hljs-keyword">catch</span> (error) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`ErrorCode: <span class="hljs-subst">${(error <span class="hljs-keyword">as</span> BusinessError).code}</span>,  Message: <span class="hljs-subst">${(error <span class="hljs-keyword">as</span> BusinessError).message}</span>`</span>);</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>代码中使用的8888端口仅作为示例展示，开发者使用过程中，应保证端口号可以被应用使用。如果因为端口被占用或者应用无权限使用等因素导致端口无法被应用使用，会导致接口抛出异常或者ArkWeb无法开启调试模式。</p>       <ol>        <li>开启调试功能需要在DevEco Studio应用工程hap模块的module.json5文件中增加如下权限，添加方法请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/declare-permissions#在配置文件中声明权限">在配置文件中声明权限</a>。</li>       </ol>      </div></div></div>     <div _ngcontent-pgy-c106="" class="highlight-div"><div _ngcontent-pgy-c106="" class="highlight-div-header"><div _ngcontent-pgy-c106="" class="highlight-div-header-left"><div _ngcontent-pgy-c106="" class="handle-button expand-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pgy-c106="" class="highlight-div-header-right"><div _ngcontent-pgy-c106="" class="handle-button ai-button"></div><div _ngcontent-pgy-c106="" class="handle-button line-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pgy-c106="" class="handle-button theme-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pgy-c106="" class="handle-button copy-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pgy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-string">"requestPermissions"</span>:[</li><li>   {</li><li>     <span class="hljs-string">"name"</span> : <span class="hljs-string">"ohos.permission.INTERNET"</span></li><li>   }</li><li> ]</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="在chrome浏览器上打开调试工具页面">在Chrome浏览器上打开调试工具页面<i class="anchor-icon anchor-icon-link" anchorid="在chrome浏览器上打开调试工具页面" tips="复制节点链接"></i></h3>          <ol>      <li>在电脑端Chrome浏览器地址栏中输入调试工具地址 chrome://inspect/#devices 并打开该页面。</li>      <li>       <p>修改Chrome调试工具的配置。</p>       <p>确保已勾选 "Discover network targets"，以便从指定的IP地址和端口号发现被调试网页。</p>       <p>(1) 点击 "Configure" 按钮。</p>       <p>(2) 在 "Target discovery settings" 中添加被调试设备的IP地址和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#setwebdebuggingaccess20" target="_blank">setWebDebuggingAccess<sup>20+</sup></a>接口中指定的port端口，比如：192.168.0.3:8888。</p></li>     </ol>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>调试工具和被调试设备要在同一局域网下，并且能够相互访问。如果被调试设备有多个IP地址，要使用与调试工具同一个网段的IP地址。</p>      </div></div></div>    </div>    <div class="tiledSection">     <h3 id="等待发现被调试页面">等待发现被调试页面<i class="anchor-icon anchor-icon-link" anchorid="等待发现被调试页面" tips="复制节点链接"></i></h3>          <p>如果前面的步骤执行成功，Chrome的调试页面将显示待调试的网页。</p>     <p><span><img originheight="523" originwidth="848" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114723.55869792955957543447948590115979:50001231000000:2800:515F3BF464FFFCB5D4941428C23333AF718FD87476494EEA9022537270C2B073.jpg" width="848" height="523"></span></p>    </div>    <div class="tiledSection">     <h3 id="开始网页调试">开始网页调试<i class="anchor-icon anchor-icon-link" anchorid="开始网页调试" tips="复制节点链接"></i></h3>          <p><span><img originheight="494" originwidth="788" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114723.58381756963151344257148475140864:50001231000000:2800:D6C28B02E54EBC232223F33B2B244BFAC6F5734689C99344B4B1EC17F6B96B6A.png" width="788" height="494"></span></p>    </div>    <div class="tiledSection">     <h2 id="usb连接调试">USB连接调试<i class="anchor-icon anchor-icon-link" anchorid="usb连接调试" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="应用代码开启web调试开关-1" class="firsth2">应用代码开启Web调试开关<i class="anchor-icon anchor-icon-link" anchorid="应用代码开启web调试开关-1" tips="复制节点链接"></i></h3>          <p>调试网页前，需要应用侧代码调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#setwebdebuggingaccess" target="_blank">setWebDebuggingAccess()</a>接口开启Web调试开关。</p>     <p>如果没有开启Web调试开关，则DevTools无法发现被调试的网页。</p>     <ol>      <li>       <p>在应用代码中开启Web调试开关，具体如下：</p>       <div _ngcontent-pgy-c106="" class="highlight-div"><div _ngcontent-pgy-c106="" class="highlight-div-header"><div _ngcontent-pgy-c106="" class="highlight-div-header-left"><div _ngcontent-pgy-c106="" class="handle-button expand-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pgy-c106="" class="highlight-div-header-right"><div _ngcontent-pgy-c106="" class="handle-button ai-button"></div><div _ngcontent-pgy-c106="" class="handle-button line-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pgy-c106="" class="handle-button theme-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pgy-c106="" class="handle-button copy-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pgy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { webview } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkWeb'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: webview.<span class="hljs-property">WebviewController</span> = <span class="hljs-keyword">new</span> webview.<span class="hljs-title class_">WebviewController</span>();</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// 配置Web开启调试模式</span></li><li>    webview.<span class="hljs-property">WebviewController</span>.<span class="hljs-title function_">setWebDebuggingAccess</span>(<span class="hljs-literal">true</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div></li>      <li>       <p>开启调试功能需要在DevEco Studio应用工程hap模块的module.json5文件中增加如下权限，添加方法请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/declare-permissions#在配置文件中声明权限">在配置文件中声明权限</a>。</p>       <div _ngcontent-pgy-c106="" class="highlight-div"><div _ngcontent-pgy-c106="" class="highlight-div-header"><div _ngcontent-pgy-c106="" class="highlight-div-header-left"><div _ngcontent-pgy-c106="" class="handle-button expand-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pgy-c106="" class="highlight-div-header-right"><div _ngcontent-pgy-c106="" class="handle-button ai-button"></div><div _ngcontent-pgy-c106="" class="handle-button line-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pgy-c106="" class="handle-button theme-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pgy-c106="" class="handle-button copy-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pgy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-string">"requestPermissions"</span>:[</li><li>   {</li><li>     <span class="hljs-string">"name"</span> : <span class="hljs-string">"ohos.permission.INTERNET"</span></li><li>   }</li><li> ]</li></ol></pre></div></div></li>     </ol>    </div>    <div class="tiledSection">     <h3 id="将设备连接至电脑">将设备连接至电脑<i class="anchor-icon anchor-icon-link" anchorid="将设备连接至电脑" tips="复制节点链接"></i></h3>          <p>请将设备连接至电脑，随后开启开发者模式，为后续的端口转发操作做好准备。</p>     <ol>      <li>       <p>请开启设备上的开发者模式，并启用USB调试功能。</p>       <p>(1) 终端系统查看“设置 &gt; 系统”中是否有“开发者选项”，如果不存在，可在“设置 &gt; 关于本机”连续七次单击“版本号”，直到提示“开启开发者模式”，点击“确认开启”后输入PIN码（如果已设置），设备将自动重启。</p>       <p>(2) USB数据线连接终端和电脑，在“设置 &gt; 系统 &gt; 开发者选项”中，打开“USB调试”开关，弹出的“允许USB调试”的弹框，点击“允许”。</p></li>      <li>       <p>使用hdc命令连接上设备。</p>       <p>打开命令行执行如下命令，查看hdc能否发现设备。</p>       <div _ngcontent-pgy-c106="" class="highlight-div"><div _ngcontent-pgy-c106="" class="highlight-div-header"><div _ngcontent-pgy-c106="" class="highlight-div-header-left"><div _ngcontent-pgy-c106="" class="handle-button expand-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pgy-c106="" class="highlight-div-header-right"><div _ngcontent-pgy-c106="" class="handle-button ai-button"></div><div _ngcontent-pgy-c106="" class="handle-button line-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pgy-c106="" class="handle-button theme-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pgy-c106="" class="handle-button copy-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pgy-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>hdc list targets</li></ol></pre></div></div>       <ul>        <li>         <p>如果命令返回设备的ID，表示hdc已连接上设备。</p>         <p><span><img originheight="91" originwidth="223" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114723.50500500470445670894460566413984:50001231000000:2800:52C30EE5483F588F6E7CE76CC2D6F6C9A978A33F64905FDDE64D9CA3ED46868E.png" class="notEnlarge" width="223" height="91"></span></p></li>        <li>         <p>如果命令返回 [Empty]，则说明hdc还没有发现设备。</p>         <p><span><img originheight="79" originwidth="166" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114723.03996646969315910921732812790555:50001231000000:2800:5C07BFA23B8DFCE6FE886609CD62EFF91AEFF6048AC780C776AD31BD3E101790.jpg" class="notEnlarge" width="166" height="79"></span></p></li>       </ul></li>      <li>       <p>进入hdc shell。</p>       <p>连接设备后，执行以下命令进入hdc shell。</p>       <div _ngcontent-pgy-c106="" class="highlight-div"><div _ngcontent-pgy-c106="" class="highlight-div-header"><div _ngcontent-pgy-c106="" class="highlight-div-header-left"><div _ngcontent-pgy-c106="" class="handle-button expand-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pgy-c106="" class="highlight-div-header-right"><div _ngcontent-pgy-c106="" class="handle-button ai-button"></div><div _ngcontent-pgy-c106="" class="handle-button line-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pgy-c106="" class="handle-button theme-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pgy-c106="" class="handle-button copy-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pgy-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>hdc shell</li></ol></pre></div></div></li>     </ol>    </div>    <div class="tiledSection">     <h3 id="端口转发">端口转发<i class="anchor-icon anchor-icon-link" anchorid="端口转发" tips="复制节点链接"></i></h3>          <p>当应用代码调用setWebDebuggingAccess接口开启Web调试开关后，ArkWeb内核将启动一个domain socket的监听，以此实现DevTools对网页的调试功能。</p>     <p>Chrome浏览器无法直接访问到设备上的domain socket， 因此需要将设备上的domain socket转发到电脑上。</p>     <p><strong>推荐使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-run-debug-configurations#section48387420516" target="_blank">自动映射WebView调试链接</a></strong>。</p>     <p>若当前DevEco版本低，可参考以下方法：</p>     <ol>      <li>       <p>先在hdc shell里执行如下命令，查询ArkWeb在设备里创建的domain socket。</p>       <div _ngcontent-pgy-c106="" class="highlight-div"><div _ngcontent-pgy-c106="" class="highlight-div-header"><div _ngcontent-pgy-c106="" class="highlight-div-header-left"><div _ngcontent-pgy-c106="" class="handle-button expand-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pgy-c106="" class="highlight-div-header-right"><div _ngcontent-pgy-c106="" class="handle-button ai-button"></div><div _ngcontent-pgy-c106="" class="handle-button line-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pgy-c106="" class="handle-button theme-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pgy-c106="" class="handle-button copy-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pgy-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>cat /proc/net/unix | grep devtools</li></ol></pre></div></div>       <ul>        <li>         <p>如果前几步操作无误，该命令的执行结果将显示用于查询的domain socket端口。</p>         <p><span><img originheight="89" originwidth="506" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114723.21509962640061324114548012629362:50001231000000:2800:6B82988E5C74BCCA1BA67C39A7D874D01A548E3B6BCEDAF09C8D1D7B4AFCFF9B.jpg" width="506" height="89"></span></p></li>        <li>         <p>如果没有查询到结果， 请再次确认。</p>         <p>(1) 应用开启了Web调试开关。</p>         <p>(2) 应用使用Web组件加载了网页。</p></li>       </ul></li>      <li>       <p>将查询到的domain socket转发至电脑的TCP 9222端口。</p>       <p>执行exit退出hdc shell。</p>       <div _ngcontent-pgy-c106="" class="highlight-div"><div _ngcontent-pgy-c106="" class="highlight-div-header"><div _ngcontent-pgy-c106="" class="highlight-div-header-left"><div _ngcontent-pgy-c106="" class="handle-button expand-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pgy-c106="" class="highlight-div-header-right"><div _ngcontent-pgy-c106="" class="handle-button ai-button"></div><div _ngcontent-pgy-c106="" class="handle-button line-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pgy-c106="" class="handle-button theme-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pgy-c106="" class="handle-button copy-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pgy-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>exit</li></ol></pre></div></div>       <p>在命令行里执行如下命令转发端口。</p>       <div _ngcontent-pgy-c106="" class="highlight-div"><div _ngcontent-pgy-c106="" class="highlight-div-header"><div _ngcontent-pgy-c106="" class="highlight-div-header-left"><div _ngcontent-pgy-c106="" class="handle-button expand-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pgy-c106="" class="highlight-div-header-right"><div _ngcontent-pgy-c106="" class="handle-button ai-button"></div><div _ngcontent-pgy-c106="" class="handle-button line-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pgy-c106="" class="handle-button theme-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pgy-c106="" class="handle-button copy-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pgy-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>hdc fport tcp:9222 localabstract:webview_devtools_remote_38532</li></ol></pre></div></div>       <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">         <p>"webview_devtools_remote_" 后面的数字，代表ArkWeb所在应用的进程号， 该数字不是固定的。请将”webview_devtools_remote_“后面的数字改为自己查询到的值。</p>         <p>如果应用的进程号发生变化，例如，应用重新启动，则需要重新配置端口转发。</p>        </div></div></div>       <p>命令执行成功示意图：</p>       <p><span><img originheight="159" originwidth="545" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114723.30637605090077376953420129983241:50001231000000:2800:E2300C55A70020905966B68796DCA1CAB95B67454B4361DE126B38759A9714EF.jpg" width="545" height="159"></span></p></li>      <li>       <p>在命令行里执行如下命令，检查端口是否转发成功。</p>       <div _ngcontent-pgy-c106="" class="highlight-div"><div _ngcontent-pgy-c106="" class="highlight-div-header"><div _ngcontent-pgy-c106="" class="highlight-div-header-left"><div _ngcontent-pgy-c106="" class="handle-button expand-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pgy-c106="" class="highlight-div-header-right"><div _ngcontent-pgy-c106="" class="handle-button ai-button"></div><div _ngcontent-pgy-c106="" class="handle-button line-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pgy-c106="" class="handle-button theme-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pgy-c106="" class="handle-button copy-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pgy-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>hdc fport ls</li></ol></pre></div></div>       <ul>        <li>         <p>如果有返回端口转发的任务，则说明端口转发成功。</p>         <p><span><img originheight="82" originwidth="695" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114723.79359191319520531301993833144595:50001231000000:2800:FF43B3C3E309F151D5D73E1CD65E27EDD998CA783602AA05E58FE0115D98A796.png" width="695" height="82"></span></p></li>        <li>         <p>如果返回 [Empty]， 则说明端口转发失败。</p>         <p><span><img originheight="87" originwidth="185" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114723.92800626763652615035389167270063:50001231000000:2800:40C2E95F3A47BEA4EC812DDBB740325452F78C069B45A7905261D2C162111B90.jpg" class="notEnlarge" width="185" height="87"></span></p></li>       </ul></li>     </ol>    </div>    <div class="tiledSection">     <h3 id="便捷脚本">便捷脚本<i class="anchor-icon anchor-icon-link" anchorid="便捷脚本" tips="复制节点链接"></i></h3>          <p><strong>Windows平台</strong></p>     <p>请复制以下信息创建bat文件，开启调试应用后执行。</p>     <div _ngcontent-pgy-c106="" class="highlight-div"><div _ngcontent-pgy-c106="" class="highlight-div-header"><div _ngcontent-pgy-c106="" class="highlight-div-header-left"><div _ngcontent-pgy-c106="" class="handle-button expand-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pgy-c106="" class="highlight-div-header-right"><div _ngcontent-pgy-c106="" class="handle-button ai-button"></div><div _ngcontent-pgy-c106="" class="handle-button line-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pgy-c106="" class="handle-button theme-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pgy-c106="" class="handle-button copy-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pgy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li>@<span class="hljs-title function_">echo</span> <span class="hljs-variable">off</span></li><li><span class="hljs-variable">setlocal</span> <span class="hljs-variable">enabledelayedexpansion</span></li><li>
</li><li>:: <span class="hljs-title class_">Initialize</span> <span class="hljs-title class_">port</span> <span class="hljs-title class_">number</span> <span class="hljs-title class_">and</span> <span class="hljs-title class_">PID</span> <span class="hljs-title class_">list</span></li><li><span class="hljs-variable">set</span> <span class="hljs-variable">PORT</span>=<span class="hljs-number">9222</span></li><li><span class="hljs-variable">set</span> <span class="hljs-variable">PID_LIST</span>=</li><li>
</li><li>:: <span class="hljs-title class_">Get</span> <span class="hljs-title class_">the</span> <span class="hljs-title class_">list</span> <span class="hljs-title class_">of</span> <span class="hljs-title class_">all</span> <span class="hljs-title class_">forwarded</span> <span class="hljs-title class_">ports</span> <span class="hljs-title class_">and</span> <span class="hljs-title class_">PIDs</span></li><li><span class="hljs-keyword">for</span> /<span class="hljs-variable">f</span> <span class="hljs-string">"tokens=2,5 delims=:_"</span> %%<span class="hljs-variable">a</span> <span class="hljs-keyword">in</span> (<span class="hljs-string">'hdc fport ls'</span>) <span class="hljs-keyword">do</span> (</li><li>    <span class="hljs-keyword">if</span> %%<span class="hljs-variable">a</span> <span class="hljs-variable">gtr</span> !<span class="hljs-variable">PORT</span>! (</li><li>        <span class="hljs-variable">set</span> <span class="hljs-variable">PORT</span>=%%<span class="hljs-variable">a</span></li><li>    )</li><li>    <span class="hljs-keyword">for</span> /<span class="hljs-variable">f</span> <span class="hljs-string">"tokens=1 delims= "</span> %%<span class="hljs-variable">c</span> <span class="hljs-keyword">in</span> (<span class="hljs-string">"%%b"</span>) <span class="hljs-keyword">do</span> (</li><li>        <span class="hljs-variable">set</span> <span class="hljs-variable">PID_LIST</span>=!<span class="hljs-variable">PID_LIST</span>! %%<span class="hljs-variable">c</span></li><li>    )</li><li>)</li><li>
</li><li>:: <span class="hljs-title class_">Increment</span> <span class="hljs-title class_">port</span> <span class="hljs-title class_">number</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">next</span> <span class="hljs-title class_">application</span></li><li><span class="hljs-variable">set</span> <span class="hljs-variable">temp_PORT</span>=!<span class="hljs-variable">PORT</span>!</li><li><span class="hljs-variable">set</span> /<span class="hljs-variable">a</span> <span class="hljs-variable">temp_PORT</span>+=<span class="hljs-number">1</span></li><li><span class="hljs-variable">set</span> <span class="hljs-variable">PORT</span>=!<span class="hljs-variable">temp_PORT</span>!</li><li>
</li><li>:: <span class="hljs-title class_">Get</span> <span class="hljs-title class_">the</span> <span class="hljs-title class_">domain</span> <span class="hljs-title class_">socket</span> <span class="hljs-title class_">name</span> <span class="hljs-title class_">of</span> <span class="hljs-title class_">devtools</span></li><li><span class="hljs-keyword">for</span> /<span class="hljs-variable">f</span> <span class="hljs-string">"tokens=*"</span> %%<span class="hljs-variable">a</span> <span class="hljs-keyword">in</span> (<span class="hljs-string">'hdc shell "cat /proc/net/unix | grep devtools"'</span>) <span class="hljs-keyword">do</span> (</li><li>    <span class="hljs-variable">set</span> <span class="hljs-variable">SOCKET_NAME</span>=%%<span class="hljs-variable">a</span></li><li>
</li><li>    :: <span class="hljs-title class_">Extract</span> <span class="hljs-title class_">process</span> <span class="hljs-title class_">ID</span></li><li>    <span class="hljs-keyword">for</span> /<span class="hljs-variable">f</span> <span class="hljs-string">"delims=_ tokens=4"</span> %%<span class="hljs-variable">b</span> <span class="hljs-keyword">in</span> (<span class="hljs-string">"!SOCKET_NAME!"</span>) <span class="hljs-keyword">do</span> <span class="hljs-variable">set</span> <span class="hljs-variable">PID</span>=%%<span class="hljs-variable">b</span></li><li>
</li><li>    :: <span class="hljs-title class_">Check</span> <span class="hljs-keyword">if</span> <span class="hljs-title class_">PID</span> <span class="hljs-title class_">already</span> <span class="hljs-title class_">has</span> <span class="hljs-title class_">a</span> <span class="hljs-title class_">mapping</span></li><li>    <span class="hljs-variable">echo</span> !<span class="hljs-variable">PID_LIST</span>! | <span class="hljs-variable">findstr</span> /<span class="hljs-variable">C</span>:<span class="hljs-string">" !PID! "</span> &gt;<span class="hljs-title class_">nul</span></li><li>    <span class="hljs-keyword">if</span> <span class="hljs-variable">errorlevel</span> <span class="hljs-number">1</span> (</li><li>        :: <span class="hljs-title class_">Add</span> <span class="hljs-title class_">mapping</span></li><li>        <span class="hljs-variable">hdc</span> <span class="hljs-variable">fport</span> <span class="hljs-variable">tcp</span>:!<span class="hljs-title class_">PORT</span>! <span class="hljs-title class_">localabstract</span>:<span class="hljs-title class_">webview_devtools_remote_</span>!<span class="hljs-title class_">PID</span>!</li><li>        <span class="hljs-keyword">if</span> <span class="hljs-variable">errorlevel</span> <span class="hljs-number">1</span> (</li><li>            <span class="hljs-variable">echo</span> <span class="hljs-variable">Error</span>: <span class="hljs-title class_">Failed</span> <span class="hljs-title class_">to</span> <span class="hljs-title class_">add</span> <span class="hljs-title class_">mapping</span>.</li><li>            <span class="hljs-variable">pause</span></li><li>            <span class="hljs-variable">exit</span> /<span class="hljs-variable">b</span></li><li>        )</li><li>
</li><li>        :: <span class="hljs-title class_">Add</span> <span class="hljs-title class_">PID</span> <span class="hljs-title class_">to</span> <span class="hljs-title class_">list</span> <span class="hljs-title class_">and</span> <span class="hljs-title class_">increment</span> <span class="hljs-title class_">port</span> <span class="hljs-title class_">number</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">next</span> <span class="hljs-title class_">application</span></li><li>        <span class="hljs-variable">set</span> <span class="hljs-variable">PID_LIST</span>=!<span class="hljs-variable">PID_LIST</span>! !<span class="hljs-variable">PID</span>!</li><li>        <span class="hljs-variable">set</span> <span class="hljs-variable">temp_PORT</span>=!<span class="hljs-variable">PORT</span>!</li><li>        <span class="hljs-variable">set</span> /<span class="hljs-variable">a</span> <span class="hljs-variable">temp_PORT</span>+=<span class="hljs-number">1</span></li><li>        <span class="hljs-variable">set</span> <span class="hljs-variable">PORT</span>=!<span class="hljs-variable">temp_PORT</span>!</li><li>    )</li><li>)</li><li>
</li><li>:: <span class="hljs-title class_">If</span> <span class="hljs-title class_">no</span> <span class="hljs-title class_">process</span> <span class="hljs-title class_">ID</span> <span class="hljs-title class_">was</span> <span class="hljs-title class_">found</span>, <span class="hljs-variable">prompt</span> <span class="hljs-variable">the</span> <span class="hljs-variable">user</span> <span class="hljs-variable">to</span> <span class="hljs-keyword">open</span> <span class="hljs-variable">debugging</span> <span class="hljs-keyword">in</span> <span class="hljs-variable">their</span> <span class="hljs-variable">application</span> <span class="hljs-variable">code</span> <span class="hljs-variable">and</span> <span class="hljs-variable">provide</span> <span class="hljs-variable">the</span> <span class="hljs-variable">documentation</span> <span class="hljs-variable">link</span></li><li><span class="hljs-keyword">if</span> <span class="hljs-string">"!SOCKET_NAME!"</span>==<span class="hljs-string">""</span> (</li><li>    <span class="hljs-variable">echo</span> <span class="hljs-variable">No</span> <span class="hljs-variable">process</span> <span class="hljs-variable">ID</span> <span class="hljs-variable">was</span> <span class="hljs-variable">found</span>. <span class="hljs-variable">Please</span> <span class="hljs-keyword">open</span> <span class="hljs-variable">debugging</span> <span class="hljs-keyword">in</span> <span class="hljs-variable">your</span> <span class="hljs-variable">application</span> <span class="hljs-variable">code</span> <span class="hljs-variable">using</span> <span class="hljs-variable">the</span> <span class="hljs-variable">corresponding</span> <span class="hljs-keyword">interface</span>. <span class="hljs-variable">You</span> <span class="hljs-variable">can</span> <span class="hljs-variable">find</span> <span class="hljs-variable">the</span> <span class="hljs-variable">relevant</span> <span class="hljs-variable">documentation</span> <span class="hljs-variable">at</span> <span class="hljs-keyword">this</span> <span class="hljs-variable">link</span>: [<span class="hljs-variable">https</span>:<span class="hljs-comment">//gitcode.com/openharmony/docs/blob/master/zh-cn/application-dev/web/web-debugging-with-devtools.md]</span></li><li>    <span class="hljs-variable">pause</span></li><li>    <span class="hljs-variable">exit</span> /<span class="hljs-variable">b</span></li><li>)</li><li>
</li><li>:: <span class="hljs-title class_">Check</span> <span class="hljs-title class_">mapping</span></li><li><span class="hljs-variable">hdc</span> <span class="hljs-variable">fport</span> <span class="hljs-variable">ls</span></li><li>
</li><li><span class="hljs-variable">echo</span>.</li><li><span class="hljs-variable">echo</span> <span class="hljs-variable">Script</span> <span class="hljs-variable">executed</span> <span class="hljs-variable">successfully</span>. <span class="hljs-variable">Press</span> <span class="hljs-variable">any</span> <span class="hljs-variable">key</span> <span class="hljs-variable">to</span> <span class="hljs-variable">exit</span>...</li><li><span class="hljs-variable">pause</span> &gt;<span class="hljs-variable">nul</span></li><li>
</li><li>:: <span class="hljs-title class_">Try</span> <span class="hljs-title class_">to</span> <span class="hljs-keyword">open</span> <span class="hljs-title class_">the</span> <span class="hljs-title class_">page</span> <span class="hljs-keyword">in</span> <span class="hljs-title class_">Edge</span></li><li><span class="hljs-variable">start</span> <span class="hljs-variable">msedge</span> <span class="hljs-variable">chrome</span>:<span class="hljs-comment">//inspect/#devices</span></li><li>
</li><li>:: <span class="hljs-title class_">If</span> <span class="hljs-title class_">Edge</span> <span class="hljs-keyword">is</span> <span class="hljs-title class_">not</span> <span class="hljs-title class_">available</span>, <span class="hljs-variable">then</span> <span class="hljs-keyword">open</span> <span class="hljs-variable">the</span> <span class="hljs-variable">page</span> <span class="hljs-keyword">in</span> <span class="hljs-variable">Chrome</span></li><li><span class="hljs-keyword">if</span> <span class="hljs-variable">errorlevel</span> <span class="hljs-number">1</span> (</li><li>    <span class="hljs-variable">start</span> <span class="hljs-variable">chrome</span> <span class="hljs-variable">chrome</span>:<span class="hljs-comment">//inspect/#devices</span></li><li>)</li><li>
</li><li><span class="hljs-variable">endlocal</span></li></ol></pre></div></div>     <p><strong>Linux或Mac平台</strong></p>     <p>请复制以下信息创建sh文件，注意chmod以及格式转换，开启调试应用后执行。</p>     <p>本脚本会先删除所有的端口转发，如果有其他的工具(如：DevEco Studio)也在使用端口转发功能，会受到影响。</p>     <div _ngcontent-pgy-c106="" class="highlight-div"><div _ngcontent-pgy-c106="" class="highlight-div-header"><div _ngcontent-pgy-c106="" class="highlight-div-header-left"><div _ngcontent-pgy-c106="" class="handle-button expand-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pgy-c106="" class="highlight-div-header-right"><div _ngcontent-pgy-c106="" class="handle-button ai-button"></div><div _ngcontent-pgy-c106="" class="handle-button line-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pgy-c106="" class="handle-button theme-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pgy-c106="" class="handle-button copy-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pgy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-bash" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">#!/bin/bash</span></li><li>
</li><li><span class="hljs-comment"># Get current fport rule list</span></li><li>CURRENT_FPORT_LIST=$(hdc fport <span class="hljs-built_in">ls</span>)</li><li>
</li><li><span class="hljs-comment"># Delete the existing fport rule one by one</span></li><li><span class="hljs-keyword">while</span> IFS= <span class="hljs-built_in">read</span> -r line; <span class="hljs-keyword">do</span></li><li>    <span class="hljs-comment"># Extract the taskline</span></li><li>    IFS=<span class="hljs-string">' '</span> <span class="hljs-built_in">read</span> -ra parts &lt;&lt;&lt; <span class="hljs-string">"<span class="hljs-variable">$line</span>"</span></li><li>    taskline=<span class="hljs-string">"<span class="hljs-variable">${parts[1]}</span> <span class="hljs-variable">${parts[2]}</span>"</span></li><li>
</li><li>    <span class="hljs-comment"># Delete the corresponding fport rule</span></li><li>    <span class="hljs-built_in">echo</span> <span class="hljs-string">"Removing forward rule for <span class="hljs-variable">$taskline</span>"</span></li><li>    hdc fport <span class="hljs-built_in">rm</span> <span class="hljs-variable">$taskline</span></li><li>    result=$?</li><li>
</li><li>    <span class="hljs-keyword">if</span> [ <span class="hljs-variable">$result</span> -eq 0 ]; <span class="hljs-keyword">then</span></li><li>        <span class="hljs-built_in">echo</span> <span class="hljs-string">"Remove forward rule success, taskline:<span class="hljs-variable">$taskline</span>"</span></li><li>    <span class="hljs-keyword">else</span></li><li>        <span class="hljs-built_in">echo</span> <span class="hljs-string">"Failed to remove forward rule, taskline:<span class="hljs-variable">$taskline</span>"</span></li><li>    <span class="hljs-keyword">fi</span></li><li>
</li><li><span class="hljs-keyword">done</span> &lt;&lt;&lt; <span class="hljs-string">"<span class="hljs-variable">$CURRENT_FPORT_LIST</span>"</span></li><li>
</li><li><span class="hljs-comment"># Initial port number</span></li><li>INITIAL_PORT=9222</li><li>
</li><li><span class="hljs-comment"># Get the current port number, use initial port number if not set previously</span></li><li>CURRENT_PORT=<span class="hljs-variable">${PORT:-<span class="hljs-variable">$INITIAL_PORT</span>}</span></li><li>
</li><li><span class="hljs-comment"># Get the list of all PIDs that match the condition</span></li><li>PID_LIST=$(hdc shell <span class="hljs-built_in">cat</span> /proc/net/unix | grep webview_devtools_remote_ | awk -F <span class="hljs-string">'_'</span> <span class="hljs-string">'{print $NF}'</span>)</li><li>
</li><li><span class="hljs-keyword">if</span> [ -z <span class="hljs-string">"<span class="hljs-variable">$PID_LIST</span>"</span> ]; <span class="hljs-keyword">then</span></li><li>    <span class="hljs-built_in">echo</span> <span class="hljs-string">"Failed to retrieve PID from the device"</span></li><li>    <span class="hljs-built_in">exit</span> 1</li><li><span class="hljs-keyword">fi</span></li><li>
</li><li><span class="hljs-comment"># Increment the port number</span></li><li>PORT=<span class="hljs-variable">$CURRENT_PORT</span></li><li>
</li><li><span class="hljs-comment"># Forward ports for each application one by one</span></li><li><span class="hljs-keyword">for</span> PID <span class="hljs-keyword">in</span> <span class="hljs-variable">$PID_LIST</span>; <span class="hljs-keyword">do</span></li><li>    <span class="hljs-comment"># Increment the port number</span></li><li>    PORT=$((PORT + <span class="hljs-number">1</span>))</li><li>
</li><li>    <span class="hljs-comment"># Execute the hdc fport command</span></li><li>    hdc fport tcp:<span class="hljs-variable">$PORT</span> localabstract:webview_devtools_remote_<span class="hljs-variable">$PID</span></li><li>
</li><li>    <span class="hljs-comment"># Check if the command executed successfully</span></li><li>    <span class="hljs-keyword">if</span> [ $? -ne 0 ]; <span class="hljs-keyword">then</span></li><li>        <span class="hljs-built_in">echo</span> <span class="hljs-string">"Failed to execute hdc fport command"</span></li><li>        <span class="hljs-built_in">exit</span> 1</li><li>    <span class="hljs-keyword">fi</span></li><li><span class="hljs-keyword">done</span></li><li>
</li><li><span class="hljs-comment"># List all forwarded ports</span></li><li>hdc fport <span class="hljs-built_in">ls</span></li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="在chrome浏览器上打开调试工具页面-1">在Chrome浏览器上打开调试工具页面<i class="anchor-icon anchor-icon-link" anchorid="在chrome浏览器上打开调试工具页面-1" tips="复制节点链接"></i></h3>          <ol>      <li>       <p>在电脑端Chrome浏览器地址栏中输入调试工具地址 chrome://inspect/#devices 并打开该页面。</p></li>      <li>       <p>修改Chrome调试工具的配置。</p>       <p>需要从本地的TCP 9222端口发现被调试网页，所以请确保已勾选 "Discover network targets"。然后再进行网络配置。</p>       <p>(1) 点击 "Configure" 按钮。</p>       <p>(2) 在 "Target discovery settings" 中添加要监听的本地端口localhost:9222。</p>       <p><span><img originheight="883" originwidth="845" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114723.96848406126345831347154746353955:50001231000000:2800:B8D8143BD532BAC4E7FB5F50717DB8115733E270291576E71B9AF6DEAA566F4D.jpg" width="845" height="883"></span></p></li>      <li>       <p>为了同时调试多个应用，请在Chrome浏览器的调试工具网页内，于“Devices”选项中的“configure”部分添加多个端口号。</p>       <p><span><img originheight="636" originwidth="568" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114723.75289599307719304424396424589325:50001231000000:2800:BBECE1CFBF93F6912E255F69329C71A15E2C9734616CB50E3293F0144D56EFF8.png" width="568" height="636"></span></p></li>     </ol>    </div>    <div class="tiledSection">     <h3 id="等待发现被调试页面-1">等待发现被调试页面<i class="anchor-icon anchor-icon-link" anchorid="等待发现被调试页面-1" tips="复制节点链接"></i></h3>          <p>如果前面的步骤执行成功，Chrome的调试页面将显示待调试的网页。</p>     <p><span><img originheight="523" originwidth="848" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114723.06287374615882352574341427054382:50001231000000:2800:6874EB494EEC999A700DD63F3EC21EFB31B7C494465D856F8E5A1B28690376C0.jpg" width="848" height="523"></span></p>    </div>    <div class="tiledSection">     <h3 id="开始网页调试-1">开始网页调试<i class="anchor-icon anchor-icon-link" anchorid="开始网页调试-1" tips="复制节点链接"></i></h3>          <p><span><img originheight="494" originwidth="788" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114723.00602178838510893553577264862431:50001231000000:2800:01D5D8EA892E4055E6D4F4259E7C9346F85BE7243BA7D1D3DDF5D5FB021C8A85.png" width="788" height="494"></span></p>    </div>    <div class="tiledSection">     <h2 id="常见问题与解决方法">常见问题与解决方法<i class="anchor-icon anchor-icon-link" anchorid="常见问题与解决方法" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="可以调试系统浏览器打开的网页吗" class="firsth2">可以调试系统浏览器打开的网页吗？<i class="anchor-icon anchor-icon-link" anchorid="可以调试系统浏览器打开的网页吗" tips="复制节点链接"></i></h3>          <p>能否调试系统浏览器打开的网页，取决于系统浏览器是否开启Web调试开关。</p>     <ul>      <li>当前系统浏览器已启用Web调试开关，可继续执行<a href="/consumer/cn/doc/harmonyos-guides/web-debugging-with-devtools#usb连接调试">USB连接调试</a>中的后续步骤。</li>     </ul>    </div>    <div class="tiledSection">     <h3 id="hdc无法发现设备">hdc无法发现设备<i class="anchor-icon anchor-icon-link" anchorid="hdc无法发现设备" tips="复制节点链接"></i></h3>          <p><strong>问题现象</strong></p>     <p>在命令行里执行如下命令后，没有列出设备ID。</p>     <div _ngcontent-pgy-c106="" class="highlight-div"><div _ngcontent-pgy-c106="" class="highlight-div-header"><div _ngcontent-pgy-c106="" class="highlight-div-header-left"><div _ngcontent-pgy-c106="" class="handle-button expand-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pgy-c106="" class="highlight-div-header-right"><div _ngcontent-pgy-c106="" class="handle-button ai-button"></div><div _ngcontent-pgy-c106="" class="handle-button line-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pgy-c106="" class="handle-button theme-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pgy-c106="" class="handle-button copy-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pgy-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>hdc list targets</li></ol></pre></div></div>     <p><strong>解决方法</strong></p>     <ul>      <li>请确保设备上的USB调试开关已开启。</li>      <li>请确保设备与电脑相连。</li>     </ul>    </div>    <div class="tiledSection">     <h3 id="hdc的命令显示设备未授权或unauthorized">hdc的命令显示设备"未授权"或"unauthorized"<i class="anchor-icon anchor-icon-link" anchorid="hdc的命令显示设备未授权或unauthorized" tips="复制节点链接"></i></h3>          <p><strong>问题现象</strong></p>     <p>执行hdc命令时，提示设备"未授权"或"unauthorized"。</p>     <p><strong>问题原因</strong></p>     <p>设备没有授权该台电脑进行调试。</p>     <p><strong>解决方法</strong></p>     <p>开启USB调试开关的设备连接没有授权的电脑后，会弹框提示"是否允许USB调试？"，请选择允许。</p>    </div>    <div class="tiledSection">     <h3 id="找不到devtools的domain-socket">找不到DevTools的domain socket<i class="anchor-icon anchor-icon-link" anchorid="找不到devtools的domain-socket" tips="复制节点链接"></i></h3>          <p><strong>问题现象</strong></p>     <p>在hdc shell里执行如下命令后，没有结果。</p>     <div _ngcontent-pgy-c106="" class="highlight-div"><div _ngcontent-pgy-c106="" class="highlight-div-header"><div _ngcontent-pgy-c106="" class="highlight-div-header-left"><div _ngcontent-pgy-c106="" class="handle-button expand-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pgy-c106="" class="highlight-div-header-right"><div _ngcontent-pgy-c106="" class="handle-button ai-button"></div><div _ngcontent-pgy-c106="" class="handle-button line-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pgy-c106="" class="handle-button theme-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pgy-c106="" class="handle-button copy-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pgy-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>cat /proc/net/unix | grep devtools</li></ol></pre></div></div>     <p><strong>解决方法</strong></p>     <ul>      <li>请确保应用<a href="/consumer/cn/doc/harmonyos-guides/web-debugging-with-devtools#应用代码开启web调试开关">开启了Web调试开关</a>。</li>      <li>请确保应用使用Web组件加载了网页。</li>     </ul>    </div>    <div class="tiledSection">     <h3 id="端口转发不成功">端口转发不成功<i class="anchor-icon anchor-icon-link" anchorid="端口转发不成功" tips="复制节点链接"></i></h3>          <p><strong>问题现象</strong></p>     <p>在命令行里执行如下命令后，没有列出之前设置过转发任务。</p>     <div _ngcontent-pgy-c106="" class="highlight-div"><div _ngcontent-pgy-c106="" class="highlight-div-header"><div _ngcontent-pgy-c106="" class="highlight-div-header-left"><div _ngcontent-pgy-c106="" class="handle-button expand-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pgy-c106="" class="highlight-div-header-right"><div _ngcontent-pgy-c106="" class="handle-button ai-button"></div><div _ngcontent-pgy-c106="" class="handle-button line-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pgy-c106="" class="handle-button theme-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pgy-c106="" class="handle-button copy-button"><div _ngcontent-pgy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pgy-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>hdc fport ls</li></ol></pre></div></div>     <p><strong>解决方法</strong></p>     <ul>      <li>请确保设备里的domain socket存在。</li>      <li>       <p>请确保电脑端的tcp:9222没有被占用。</p>       <p>如果tcp:9222被占用，可以将domain socket转发到其他未被占用的TCP端口， 比如9223等。</p>       <p>如果转发到了新的TCP端口， 需要同步修改电脑端Chrome浏览器"Target discovery settings"中的端口号。</p></li>     </ul>    </div>    <div class="tiledSection">     <h3 id="端口转发成功后电脑端chrome无法发现被调试网页">端口转发成功后，电脑端Chrome无法发现被调试网页<i class="anchor-icon anchor-icon-link" anchorid="端口转发成功后电脑端chrome无法发现被调试网页" tips="复制节点链接"></i></h3>          <p><strong>问题现象</strong></p>     <p>电脑端Chrome浏览器无法发现被调试网页。</p>     <p><strong>问题原因</strong></p>     <p>端口转发失效可能是以下原因：</p>     <ul>      <li>设备与电脑断连，会导致hdc里的所有转发任务被清空。</li>      <li>hdc服务重启，也会导致hdc里的所有转发任务被清空。</li>      <li>设备里应用的进程号发生了变更（应用重新启动等），会导致hdc里旧的转发任务失效。</li>      <li>多个转发任务转发到了同一个端口等异常配置，会导致转发异常。</li>     </ul>     <p><strong>解决方法</strong></p>     <ul>      <li>       <p>请确保电脑端的本地tcp:9222（其他TCP端口同理）没有被占用。</p></li>      <li>       <p>请确保设备端的domain socket还存在。</p></li>      <li>       <p>请确保domain socket名称里的进程号与被调试的应用的进程号相同。</p></li>      <li>       <p>请删除hdc里其他不必要的转发任务。</p></li>      <li>       <p>转发成功后，请用电脑端的Chrome浏览器打开网址 <a href="http://localhost:9222/json" target="_blank">http://localhost:9222/json</a> ，URL里的9222需要改为自己实际配置的TCP端口。</p>       <ul>        <li>         <p>如果网页有内容， 说明端口转发成功，请在Chrome的调试页面<a href="/consumer/cn/doc/harmonyos-guides/web-debugging-with-devtools#等待发现被调试页面">等待被调试页面的出现</a>。</p>         <p><span><img originheight="345" originwidth="850" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114724.76631498070984248337996140896192:50001231000000:2800:7E6B659677F41E3CD1DF65CC70E91381BE7AEF1F493C8224333C13F41A568826.jpg" width="850" height="345"></span></p></li>        <li>         <p>如果展示的是错误网页， 说明端口转发失败， 请参阅<a href="/consumer/cn/doc/harmonyos-guides/web-debugging-with-devtools#端口转发不成功">端口转发不成功</a>中的解决方法。</p>         <p><span><img originheight="658" originwidth="472" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114724.61741530921835964444180155257754:50001231000000:2800:46C1B53E93210361CD7E614F5116A7F364C73D6B560EE22003A5CFE70509B941.jpg" width="472" height="658"></span></p></li>       </ul></li>      <li>       <p>电脑端Chrome浏览器打开 <a href="http://localhost:9222/json" target="_blank">http://localhost:9222/json</a> 页面有内容，但是Chrome的调试工具界面还是无法发现调试目标。</p>       <ul>        <li>请确保Chrome调试工具界面的 "Configure" 中配置的端口号，与端口转发指定的TCP端口号一致。</li>        <li>         <p>在本文档中，默认使用的TCP端口号为9222。</p>         <p>如果开发者使用了其他的TCP端口号(比如9223)，请同时修改<a href="/consumer/cn/doc/harmonyos-guides/web-debugging-with-devtools#端口转发">端口转发</a>中的TCP端口号和<a href="/consumer/cn/doc/harmonyos-guides/web-debugging-with-devtools#在chrome浏览器上打开调试工具页面">Chrome调试工具界面"Configure"配置</a>中的端口号。</p></li>       </ul></li>     </ul>    </div>    <div class="tiledSection">     <h3 id="开启了无线调试模式后电脑端chrome无法发现被调试网页">开启了无线调试模式后，电脑端Chrome无法发现被调试网页<i class="anchor-icon anchor-icon-link" anchorid="开启了无线调试模式后电脑端chrome无法发现被调试网页" tips="复制节点链接"></i></h3>          <p><strong>问题现象</strong></p>     <p>ArkWeb开启了无线调试模式后，电脑端Chrome浏览器无法发现被调试网页。</p>     <p><strong>问题原因</strong></p>     <ul>      <li>无线调试模式没有成功开启。</li>      <li>调试工具和被调试设备之间网络不通。</li>     </ul>     <p><strong>解决方法</strong></p>     <ul>      <li>请确保使用的端口可以被应用使用。</li>      <li>请确保调试工具和被调试设备在同一个局域网内，且它们之间网络通畅。</li>     </ul>    </div>    <div class="tiledSection">     <h3 id="web组件无法使用devtools工具进行调试">Web组件无法使用DevTools工具进行调试<i class="anchor-icon anchor-icon-link" anchorid="web组件无法使用devtools工具进行调试" tips="复制节点链接"></i></h3>          <p><strong>问题现象</strong></p>     <p>电脑端Chrome浏览器无法发现被调试网页。</p>     <p><strong>问题原因</strong></p>     <ul>      <li>当同时使用HDC和ADB时，ADB会干扰DevTools与设备之间的WebSocket连接。</li>     </ul>     <p><strong>解决方法</strong></p>     <ul>      <li>如果同时使用HDC和ADB，先关闭ADB进程，确保DevTools与设备建立WebSocket连接。</li>     </ul>    </div>    <div class="tiledSection">     <h3 id="使用devtools工具进行调试出现404报错">使用DevTools工具进行调试出现404报错<i class="anchor-icon anchor-icon-link" anchorid="使用devtools工具进行调试出现404报错" tips="复制节点链接"></i></h3>          <p><strong>问题现象</strong></p>     <p>在电脑端Chrome浏览器中调试网页时，出现报错：“HTTP/1.1 404 Not Found”。</p>     <p><strong>问题原因</strong></p>     <ul>      <li>Chrome浏览器版本较低，导致无法使用DevTools调试。</li>     </ul>     <p><strong>解决方法</strong></p>     <ul>      <li>方案一，将电脑端Chrome升级到最新版本。</li>      <li>方案二，如果不希望升级浏览器，可以手动拼接调试URL。完整的URL链接为：“devtools://devtools/bundled/inspector.html?ws=localhost:9222/devtools/page/xxx”。       <ul>        <li>该链接由两部分组成：“devtools://devtools/bundled/inspector.html”前半段固定不变。“?ws=localhost:9222/devtools/page/xxx”后半段需要根据实际配置修改。</li>        <li>端口转发成功后，使用Chrome浏览器打开 <a href="http://localhost:9222/json" target="_blank">http://localhost:9222/json</a> 页面。请注意，URL中的9222应替换为实际配置的TCP端口。然后取“devtoolsFrontendUrl”后的value值“?ws”及其后部分。</li>       </ul></li>     </ul>    </div>   </div>   <div></div></div>