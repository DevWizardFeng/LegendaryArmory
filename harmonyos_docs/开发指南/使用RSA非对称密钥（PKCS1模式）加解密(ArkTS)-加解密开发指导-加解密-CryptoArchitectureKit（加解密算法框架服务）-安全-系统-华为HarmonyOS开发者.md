<h1 _ngcontent-ggc-c119="" class="doc-title ng-star-inserted" title="使用RSA非对称密钥（PKCS1模式）加解密(ArkTS)"> 使用RSA非对称密钥（PKCS1模式）加解密(ArkTS) </h1>

<div _ngcontent-ggc-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>对应的算法规格请查看<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-asym-encrypt-decrypt-spec#rsa">非对称密钥加解密算法规格：RSA</a>。</p>    <p><strong>加密</strong></p>    <ol>     <li>      <p>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreateasykeygenerator" target="_blank">cryptoFramework.createAsyKeyGenerator</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#generatekeypair-1" target="_blank">AsyKeyGenerator.generateKeyPair</a>，生成RSA密钥类型为RSA1024、素数个数为2的非对称密钥对（KeyPair）。KeyPair对象中包括公钥PubKey、私钥PriKey。</p>      <p>如何生成RSA非对称密钥对，开发者可参考下文示例，并结合<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-asym-key-generation-conversion-spec#rsa">非对称密钥生成和转换规格：RSA</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-generate-asym-key-pair-randomly">随机生成非对称密钥对</a>理解，参考文档与当前示例可能存在入参差异，请在阅读时注意区分。</p></li>     <li>      <p>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreatecipher" target="_blank">cryptoFramework.createCipher</a>，指定字符串参数'RSA1024|PKCS1'，创建非对称密钥类型为RSA1024、填充模式为PKCS1的Cipher实例，用于完成加解密操作。</p></li>     <li>      <p>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-1" target="_blank">Cipher.init</a>，设置模式为加密（CryptoMode.ENCRYPT_MODE），指定加密密钥（KeyPair.PubKey），初始化加密Cipher实例。</p>      <p>非对称密钥无加密参数，直接传入null。</p></li>     <li>      <p>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#dofinal-1" target="_blank">Cipher.doFinal</a>，传入明文，获取加密后的数据。</p>      <ul>       <li>doFinal输出结果可能为null，在访问具体数据前，需要先判断结果是否为null，避免产生异常。</li>       <li>当数据量较大时，可以多次调用doFinal，即<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/crypto-rsa-asym-encrypt-decrypt-by-segment">分段加解密</a>。</li>      </ul></li>    </ol>    <p><strong>解密</strong></p>    <ol>     <li>      <p>由于RSA算法的Cipher实例不支持重复init操作，需要调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#cryptoframeworkcreatecipher" target="_blank">cryptoFramework.createCipher</a>，重新生成Cipher实例。</p></li>     <li>      <p>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#init-1" target="_blank">Cipher.init</a>，设置模式为解密（CryptoMode.DECRYPT_MODE），指定解密密钥（KeyPair.PriKey）初始化解密Cipher实例。PKCS1模式无加密参数，直接传入null。</p></li>     <li>      <p>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-cryptoframework#dofinal-1" target="_blank">Cipher.doFinal</a>，传入密文，获取解密后的数据。</p></li>    </ol>    <ul>     <li>      <p>异步方法示例：</p>      <div _ngcontent-ggc-c106="" class="highlight-div"><div _ngcontent-ggc-c106="" class="highlight-div-header"><div _ngcontent-ggc-c106="" class="highlight-div-header-left"><div _ngcontent-ggc-c106="" class="handle-button expand-button"><div _ngcontent-ggc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ggc-c106="" class="highlight-div-header-right"><div _ngcontent-ggc-c106="" class="handle-button ai-button"></div><div _ngcontent-ggc-c106="" class="handle-button line-button"><div _ngcontent-ggc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ggc-c106="" class="handle-button theme-button"><div _ngcontent-ggc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ggc-c106="" class="handle-button copy-button"><div _ngcontent-ggc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ggc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { buffer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li><span class="hljs-comment">// 加密消息。</span></li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">encryptMessagePromise</span>(<span class="hljs-params">publicKey: cryptoFramework.PubKey, plainText: cryptoFramework.DataBlob</span>) {</li><li>  <span class="hljs-keyword">let</span> cipher = cryptoFramework.<span class="hljs-title function_">createCipher</span>(<span class="hljs-string">'RSA1024|PKCS1'</span>);</li><li>  <span class="hljs-keyword">await</span> cipher.<span class="hljs-title function_">init</span>(cryptoFramework.<span class="hljs-property">CryptoMode</span>.<span class="hljs-property">ENCRYPT_MODE</span>, publicKey, <span class="hljs-literal">null</span>);</li><li>  <span class="hljs-keyword">let</span> encryptData = <span class="hljs-keyword">await</span> cipher.<span class="hljs-title function_">doFinal</span>(plainText);</li><li>  <span class="hljs-keyword">return</span> encryptData;</li><li>}</li><li><span class="hljs-comment">// 解密消息。</span></li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">decryptMessagePromise</span>(<span class="hljs-params">privateKey: cryptoFramework.PriKey, cipherText: cryptoFramework.DataBlob</span>) {</li><li>  <span class="hljs-keyword">let</span> decoder = cryptoFramework.<span class="hljs-title function_">createCipher</span>(<span class="hljs-string">'RSA1024|PKCS1'</span>);</li><li>  <span class="hljs-keyword">await</span> decoder.<span class="hljs-title function_">init</span>(cryptoFramework.<span class="hljs-property">CryptoMode</span>.<span class="hljs-property">DECRYPT_MODE</span>, privateKey, <span class="hljs-literal">null</span>);</li><li>  <span class="hljs-keyword">let</span> decryptData = <span class="hljs-keyword">await</span> decoder.<span class="hljs-title function_">doFinal</span>(cipherText);</li><li>  <span class="hljs-keyword">return</span> decryptData;</li><li>}</li><li><span class="hljs-comment">// 生成RSA密钥对。</span></li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">genKeyPairByData</span>(<span class="hljs-params">pubKeyData: <span class="hljs-built_in">Uint8Array</span>, priKeyData: <span class="hljs-built_in">Uint8Array</span></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">pubKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: pubKeyData };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">priKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: priKeyData };</li><li>  <span class="hljs-keyword">let</span> rsaGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'RSA1024'</span>);</li><li>  <span class="hljs-keyword">let</span> keyPair = <span class="hljs-keyword">await</span> rsaGenerator.<span class="hljs-title function_">convertKey</span>(pubKeyBlob, priKeyBlob);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'convertKey success'</span>);</li><li>  <span class="hljs-keyword">return</span> keyPair;</li><li>}</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> pkData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">129</span>, <span class="hljs-number">159</span>, <span class="hljs-number">48</span>, <span class="hljs-number">13</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">134</span>, <span class="hljs-number">247</span>, <span class="hljs-number">13</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">129</span>, <span class="hljs-number">141</span>, <span class="hljs-number">0</span>, <span class="hljs-number">48</span>, <span class="hljs-number">129</span>, <span class="hljs-number">137</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">197</span>, <span class="hljs-number">64</span>, <span class="hljs-number">10</span>, <span class="hljs-number">198</span>, <span class="hljs-number">14</span>, <span class="hljs-number">110</span>, <span class="hljs-number">65</span>, <span class="hljs-number">92</span>, <span class="hljs-number">206</span>, <span class="hljs-number">35</span>, <span class="hljs-number">28</span>, <span class="hljs-number">123</span>, <span class="hljs-number">153</span>, <span class="hljs-number">24</span>, <span class="hljs-number">134</span>, <span class="hljs-number">255</span>, <span class="hljs-number">145</span>, <span class="hljs-number">74</span>, <span class="hljs-number">42</span>, <span class="hljs-number">173</span>, <span class="hljs-number">40</span>, <span class="hljs-number">215</span>, <span class="hljs-number">146</span>, <span class="hljs-number">58</span>, <span class="hljs-number">143</span>, <span class="hljs-number">46</span>, <span class="hljs-number">10</span>, <span class="hljs-number">195</span>, <span class="hljs-number">154</span>, <span class="hljs-number">160</span>, <span class="hljs-number">69</span>, <span class="hljs-number">196</span>, <span class="hljs-number">220</span>, <span class="hljs-number">152</span>, <span class="hljs-number">179</span>, <span class="hljs-number">44</span>, <span class="hljs-number">111</span>, <span class="hljs-number">200</span>, <span class="hljs-number">84</span>, <span class="hljs-number">78</span>, <span class="hljs-number">215</span>, <span class="hljs-number">73</span>, <span class="hljs-number">210</span>, <span class="hljs-number">181</span>, <span class="hljs-number">12</span>, <span class="hljs-number">29</span>, <span class="hljs-number">70</span>, <span class="hljs-number">68</span>, <span class="hljs-number">36</span>, <span class="hljs-number">135</span>, <span class="hljs-number">153</span>, <span class="hljs-number">89</span>, <span class="hljs-number">230</span>, <span class="hljs-number">202</span>, <span class="hljs-number">130</span>, <span class="hljs-number">212</span>, <span class="hljs-number">111</span>, <span class="hljs-number">243</span>, <span class="hljs-number">234</span>, <span class="hljs-number">92</span>, <span class="hljs-number">131</span>, <span class="hljs-number">62</span>, <span class="hljs-number">145</span>, <span class="hljs-number">50</span>, <span class="hljs-number">73</span>, <span class="hljs-number">48</span>, <span class="hljs-number">104</span>, <span class="hljs-number">245</span>, <span class="hljs-number">46</span>, <span class="hljs-number">70</span>, <span class="hljs-number">45</span>, <span class="hljs-number">157</span>, <span class="hljs-number">147</span>, <span class="hljs-number">143</span>, <span class="hljs-number">140</span>, <span class="hljs-number">162</span>, <span class="hljs-number">156</span>, <span class="hljs-number">216</span>, <span class="hljs-number">220</span>, <span class="hljs-number">49</span>, <span class="hljs-number">121</span>, <span class="hljs-number">142</span>, <span class="hljs-number">194</span>, <span class="hljs-number">33</span>, <span class="hljs-number">223</span>, <span class="hljs-number">201</span>, <span class="hljs-number">0</span>, <span class="hljs-number">16</span>, <span class="hljs-number">163</span>, <span class="hljs-number">210</span>, <span class="hljs-number">240</span>, <span class="hljs-number">118</span>, <span class="hljs-number">92</span>, <span class="hljs-number">147</span>, <span class="hljs-number">121</span>, <span class="hljs-number">220</span>, <span class="hljs-number">17</span>, <span class="hljs-number">114</span>, <span class="hljs-number">24</span>, <span class="hljs-number">52</span>, <span class="hljs-number">125</span>, <span class="hljs-number">135</span>, <span class="hljs-number">176</span>, <span class="hljs-number">88</span>, <span class="hljs-number">21</span>, <span class="hljs-number">83</span>, <span class="hljs-number">86</span>, <span class="hljs-number">17</span>, <span class="hljs-number">156</span>, <span class="hljs-number">88</span>, <span class="hljs-number">250</span>, <span class="hljs-number">48</span>, <span class="hljs-number">79</span>, <span class="hljs-number">86</span>, <span class="hljs-number">128</span>, <span class="hljs-number">248</span>, <span class="hljs-number">105</span>, <span class="hljs-number">208</span>, <span class="hljs-number">133</span>, <span class="hljs-number">140</span>, <span class="hljs-number">13</span>, <span class="hljs-number">153</span>, <span class="hljs-number">164</span>, <span class="hljs-number">191</span>, <span class="hljs-number">136</span>, <span class="hljs-number">164</span>, <span class="hljs-number">44</span>, <span class="hljs-number">53</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]);</li><li>  <span class="hljs-keyword">let</span> skData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">119</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">48</span>, <span class="hljs-number">13</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">134</span>, <span class="hljs-number">247</span>, <span class="hljs-number">13</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">97</span>, <span class="hljs-number">48</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">93</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">197</span>, <span class="hljs-number">64</span>, <span class="hljs-number">10</span>, <span class="hljs-number">198</span>, <span class="hljs-number">14</span>, <span class="hljs-number">110</span>, <span class="hljs-number">65</span>, <span class="hljs-number">92</span>, <span class="hljs-number">206</span>, <span class="hljs-number">35</span>, <span class="hljs-number">28</span>, <span class="hljs-number">123</span>, <span class="hljs-number">153</span>, <span class="hljs-number">24</span>, <span class="hljs-number">134</span>, <span class="hljs-number">255</span>, <span class="hljs-number">145</span>, <span class="hljs-number">74</span>, <span class="hljs-number">42</span>, <span class="hljs-number">173</span>, <span class="hljs-number">40</span>, <span class="hljs-number">215</span>, <span class="hljs-number">146</span>, <span class="hljs-number">58</span>, <span class="hljs-number">143</span>, <span class="hljs-number">46</span>, <span class="hljs-number">10</span>, <span class="hljs-number">195</span>, <span class="hljs-number">154</span>, <span class="hljs-number">160</span>, <span class="hljs-number">69</span>, <span class="hljs-number">196</span>, <span class="hljs-number">220</span>, <span class="hljs-number">152</span>, <span class="hljs-number">179</span>, <span class="hljs-number">44</span>, <span class="hljs-number">111</span>, <span class="hljs-number">200</span>, <span class="hljs-number">84</span>, <span class="hljs-number">78</span>, <span class="hljs-number">215</span>, <span class="hljs-number">73</span>, <span class="hljs-number">210</span>, <span class="hljs-number">181</span>, <span class="hljs-number">12</span>, <span class="hljs-number">29</span>, <span class="hljs-number">70</span>, <span class="hljs-number">68</span>, <span class="hljs-number">36</span>, <span class="hljs-number">135</span>, <span class="hljs-number">153</span>, <span class="hljs-number">89</span>, <span class="hljs-number">230</span>, <span class="hljs-number">202</span>, <span class="hljs-number">130</span>, <span class="hljs-number">212</span>, <span class="hljs-number">111</span>, <span class="hljs-number">243</span>, <span class="hljs-number">234</span>, <span class="hljs-number">92</span>, <span class="hljs-number">131</span>, <span class="hljs-number">62</span>, <span class="hljs-number">145</span>, <span class="hljs-number">50</span>, <span class="hljs-number">73</span>, <span class="hljs-number">48</span>, <span class="hljs-number">104</span>, <span class="hljs-number">245</span>, <span class="hljs-number">46</span>, <span class="hljs-number">70</span>, <span class="hljs-number">45</span>, <span class="hljs-number">157</span>, <span class="hljs-number">147</span>, <span class="hljs-number">143</span>, <span class="hljs-number">140</span>, <span class="hljs-number">162</span>, <span class="hljs-number">156</span>, <span class="hljs-number">216</span>, <span class="hljs-number">220</span>, <span class="hljs-number">49</span>, <span class="hljs-number">121</span>, <span class="hljs-number">142</span>, <span class="hljs-number">194</span>, <span class="hljs-number">33</span>, <span class="hljs-number">223</span>, <span class="hljs-number">201</span>, <span class="hljs-number">0</span>, <span class="hljs-number">16</span>, <span class="hljs-number">163</span>, <span class="hljs-number">210</span>, <span class="hljs-number">240</span>, <span class="hljs-number">118</span>, <span class="hljs-number">92</span>, <span class="hljs-number">147</span>, <span class="hljs-number">121</span>, <span class="hljs-number">220</span>, <span class="hljs-number">17</span>, <span class="hljs-number">114</span>, <span class="hljs-number">24</span>, <span class="hljs-number">52</span>, <span class="hljs-number">125</span>, <span class="hljs-number">135</span>, <span class="hljs-number">176</span>, <span class="hljs-number">88</span>, <span class="hljs-number">21</span>, <span class="hljs-number">83</span>, <span class="hljs-number">86</span>, <span class="hljs-number">17</span>, <span class="hljs-number">156</span>, <span class="hljs-number">88</span>, <span class="hljs-number">250</span>, <span class="hljs-number">48</span>, <span class="hljs-number">79</span>, <span class="hljs-number">86</span>, <span class="hljs-number">128</span>, <span class="hljs-number">248</span>, <span class="hljs-number">105</span>, <span class="hljs-number">208</span>, <span class="hljs-number">133</span>, <span class="hljs-number">140</span>, <span class="hljs-number">13</span>, <span class="hljs-number">153</span>, <span class="hljs-number">164</span>, <span class="hljs-number">191</span>, <span class="hljs-number">136</span>, <span class="hljs-number">164</span>, <span class="hljs-number">44</span>, <span class="hljs-number">53</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">128</span>, <span class="hljs-number">70</span>, <span class="hljs-number">75</span>, <span class="hljs-number">184</span>, <span class="hljs-number">139</span>, <span class="hljs-number">53</span>, <span class="hljs-number">1</span>, <span class="hljs-number">94</span>, <span class="hljs-number">17</span>, <span class="hljs-number">240</span>, <span class="hljs-number">244</span>, <span class="hljs-number">218</span>, <span class="hljs-number">101</span>, <span class="hljs-number">193</span>, <span class="hljs-number">253</span>, <span class="hljs-number">215</span>, <span class="hljs-number">190</span>, <span class="hljs-number">164</span>, <span class="hljs-number">204</span>, <span class="hljs-number">197</span>, <span class="hljs-number">192</span>, <span class="hljs-number">200</span>, <span class="hljs-number">89</span>, <span class="hljs-number">107</span>, <span class="hljs-number">39</span>, <span class="hljs-number">171</span>, <span class="hljs-number">119</span>, <span class="hljs-number">65</span>, <span class="hljs-number">38</span>, <span class="hljs-number">204</span>, <span class="hljs-number">168</span>, <span class="hljs-number">105</span>, <span class="hljs-number">180</span>, <span class="hljs-number">234</span>, <span class="hljs-number">217</span>, <span class="hljs-number">16</span>, <span class="hljs-number">161</span>, <span class="hljs-number">185</span>, <span class="hljs-number">132</span>, <span class="hljs-number">175</span>, <span class="hljs-number">103</span>, <span class="hljs-number">25</span>, <span class="hljs-number">154</span>, <span class="hljs-number">153</span>, <span class="hljs-number">153</span>, <span class="hljs-number">36</span>, <span class="hljs-number">36</span>, <span class="hljs-number">26</span>, <span class="hljs-number">178</span>, <span class="hljs-number">150</span>, <span class="hljs-number">66</span>, <span class="hljs-number">45</span>, <span class="hljs-number">8</span>, <span class="hljs-number">185</span>, <span class="hljs-number">19</span>, <span class="hljs-number">90</span>, <span class="hljs-number">228</span>, <span class="hljs-number">210</span>, <span class="hljs-number">177</span>, <span class="hljs-number">30</span>, <span class="hljs-number">200</span>, <span class="hljs-number">177</span>, <span class="hljs-number">141</span>, <span class="hljs-number">78</span>, <span class="hljs-number">184</span>, <span class="hljs-number">248</span>, <span class="hljs-number">59</span>, <span class="hljs-number">113</span>, <span class="hljs-number">154</span>, <span class="hljs-number">145</span>, <span class="hljs-number">73</span>, <span class="hljs-number">160</span>, <span class="hljs-number">24</span>, <span class="hljs-number">73</span>, <span class="hljs-number">157</span>, <span class="hljs-number">86</span>, <span class="hljs-number">207</span>, <span class="hljs-number">186</span>, <span class="hljs-number">32</span>, <span class="hljs-number">95</span>, <span class="hljs-number">200</span>, <span class="hljs-number">106</span>, <span class="hljs-number">252</span>, <span class="hljs-number">107</span>, <span class="hljs-number">69</span>, <span class="hljs-number">170</span>, <span class="hljs-number">193</span>, <span class="hljs-number">216</span>, <span class="hljs-number">196</span>, <span class="hljs-number">181</span>, <span class="hljs-number">142</span>, <span class="hljs-number">74</span>, <span class="hljs-number">203</span>, <span class="hljs-number">15</span>, <span class="hljs-number">18</span>, <span class="hljs-number">89</span>, <span class="hljs-number">228</span>, <span class="hljs-number">152</span>, <span class="hljs-number">19</span>, <span class="hljs-number">239</span>, <span class="hljs-number">21</span>, <span class="hljs-number">233</span>, <span class="hljs-number">98</span>, <span class="hljs-number">121</span>, <span class="hljs-number">214</span>, <span class="hljs-number">57</span>, <span class="hljs-number">187</span>, <span class="hljs-number">111</span>, <span class="hljs-number">239</span>, <span class="hljs-number">223</span>, <span class="hljs-number">248</span>, <span class="hljs-number">199</span>, <span class="hljs-number">70</span>, <span class="hljs-number">223</span>, <span class="hljs-number">108</span>, <span class="hljs-number">108</span>, <span class="hljs-number">113</span>, <span class="hljs-number">234</span>, <span class="hljs-number">144</span>, <span class="hljs-number">155</span>, <span class="hljs-number">95</span>, <span class="hljs-number">246</span>, <span class="hljs-number">144</span>, <span class="hljs-number">244</span>, <span class="hljs-number">122</span>, <span class="hljs-number">39</span>, <span class="hljs-number">55</span>, <span class="hljs-number">127</span>, <span class="hljs-number">81</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">246</span>, <span class="hljs-number">96</span>, <span class="hljs-number">188</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">104</span>, <span class="hljs-number">221</span>, <span class="hljs-number">105</span>, <span class="hljs-number">139</span>, <span class="hljs-number">144</span>, <span class="hljs-number">63</span>, <span class="hljs-number">175</span>, <span class="hljs-number">209</span>, <span class="hljs-number">87</span>, <span class="hljs-number">179</span>, <span class="hljs-number">162</span>, <span class="hljs-number">88</span>, <span class="hljs-number">192</span>, <span class="hljs-number">99</span>, <span class="hljs-number">82</span>, <span class="hljs-number">125</span>, <span class="hljs-number">53</span>, <span class="hljs-number">54</span>, <span class="hljs-number">48</span>, <span class="hljs-number">70</span>, <span class="hljs-number">245</span>, <span class="hljs-number">239</span>, <span class="hljs-number">37</span>, <span class="hljs-number">15</span>, <span class="hljs-number">242</span>, <span class="hljs-number">247</span>, <span class="hljs-number">84</span>, <span class="hljs-number">115</span>, <span class="hljs-number">187</span>, <span class="hljs-number">196</span>, <span class="hljs-number">95</span>, <span class="hljs-number">156</span>, <span class="hljs-number">40</span>, <span class="hljs-number">165</span>, <span class="hljs-number">60</span>, <span class="hljs-number">64</span>, <span class="hljs-number">102</span>, <span class="hljs-number">13</span>, <span class="hljs-number">229</span>, <span class="hljs-number">243</span>, <span class="hljs-number">2</span>, <span class="hljs-number">149</span>, <span class="hljs-number">0</span>, <span class="hljs-number">232</span>, <span class="hljs-number">226</span>, <span class="hljs-number">221</span>, <span class="hljs-number">192</span>, <span class="hljs-number">95</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">208</span>, <span class="hljs-number">5</span>, <span class="hljs-number">181</span>, <span class="hljs-number">98</span>, <span class="hljs-number">62</span>, <span class="hljs-number">210</span>, <span class="hljs-number">190</span>, <span class="hljs-number">141</span>, <span class="hljs-number">235</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">244</span>, <span class="hljs-number">34</span>, <span class="hljs-number">10</span>, <span class="hljs-number">105</span>, <span class="hljs-number">80</span>, <span class="hljs-number">76</span>, <span class="hljs-number">116</span>, <span class="hljs-number">163</span>, <span class="hljs-number">35</span>, <span class="hljs-number">231</span>, <span class="hljs-number">168</span>, <span class="hljs-number">187</span>, <span class="hljs-number">206</span>, <span class="hljs-number">189</span>, <span class="hljs-number">101</span>, <span class="hljs-number">215</span>, <span class="hljs-number">103</span>, <span class="hljs-number">80</span>, <span class="hljs-number">115</span>, <span class="hljs-number">86</span>, <span class="hljs-number">11</span>, <span class="hljs-number">34</span>, <span class="hljs-number">127</span>, <span class="hljs-number">203</span>, <span class="hljs-number">114</span>, <span class="hljs-number">84</span>, <span class="hljs-number">188</span>, <span class="hljs-number">121</span>, <span class="hljs-number">174</span>, <span class="hljs-number">169</span>, <span class="hljs-number">31</span>, <span class="hljs-number">142</span>, <span class="hljs-number">2</span>, <span class="hljs-number">182</span>, <span class="hljs-number">27</span>, <span class="hljs-number">140</span>, <span class="hljs-number">225</span>, <span class="hljs-number">157</span>, <span class="hljs-number">227</span>, <span class="hljs-number">71</span>, <span class="hljs-number">98</span>, <span class="hljs-number">15</span>, <span class="hljs-number">203</span>, <span class="hljs-number">187</span>, <span class="hljs-number">213</span>, <span class="hljs-number">5</span>, <span class="hljs-number">190</span>, <span class="hljs-number">20</span>, <span class="hljs-number">121</span>, <span class="hljs-number">8</span>, <span class="hljs-number">30</span>, <span class="hljs-number">193</span>, <span class="hljs-number">100</span>, <span class="hljs-number">232</span>, <span class="hljs-number">101</span>, <span class="hljs-number">141</span>, <span class="hljs-number">8</span>, <span class="hljs-number">124</span>, <span class="hljs-number">20</span>, <span class="hljs-number">29</span>, <span class="hljs-number">78</span>, <span class="hljs-number">6</span>, <span class="hljs-number">95</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">43</span>, <span class="hljs-number">225</span>, <span class="hljs-number">224</span>, <span class="hljs-number">6</span>, <span class="hljs-number">118</span>, <span class="hljs-number">224</span>, <span class="hljs-number">117</span>, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">199</span>, <span class="hljs-number">94</span>, <span class="hljs-number">70</span>, <span class="hljs-number">23</span>, <span class="hljs-number">109</span>, <span class="hljs-number">175</span>, <span class="hljs-number">173</span>, <span class="hljs-number">232</span>, <span class="hljs-number">208</span>, <span class="hljs-number">230</span>, <span class="hljs-number">61</span>, <span class="hljs-number">8</span>, <span class="hljs-number">105</span>, <span class="hljs-number">189</span>, <span class="hljs-number">156</span>, <span class="hljs-number">48</span>, <span class="hljs-number">150</span>, <span class="hljs-number">91</span>, <span class="hljs-number">154</span>, <span class="hljs-number">89</span>, <span class="hljs-number">248</span>, <span class="hljs-number">136</span>, <span class="hljs-number">173</span>, <span class="hljs-number">215</span>, <span class="hljs-number">254</span>, <span class="hljs-number">166</span>, <span class="hljs-number">84</span>, <span class="hljs-number">220</span>, <span class="hljs-number">130</span>, <span class="hljs-number">1</span>, <span class="hljs-number">234</span>, <span class="hljs-number">68</span>, <span class="hljs-number">40</span>, <span class="hljs-number">100</span>, <span class="hljs-number">84</span>, <span class="hljs-number">251</span>, <span class="hljs-number">224</span>, <span class="hljs-number">202</span>, <span class="hljs-number">254</span>, <span class="hljs-number">51</span>, <span class="hljs-number">115</span>, <span class="hljs-number">28</span>, <span class="hljs-number">198</span>, <span class="hljs-number">38</span>, <span class="hljs-number">124</span>, <span class="hljs-number">25</span>, <span class="hljs-number">175</span>, <span class="hljs-number">129</span>, <span class="hljs-number">94</span>, <span class="hljs-number">199</span>, <span class="hljs-number">61</span>, <span class="hljs-number">17</span>, <span class="hljs-number">216</span>, <span class="hljs-number">189</span>, <span class="hljs-number">2</span>, <span class="hljs-number">64</span>, <span class="hljs-number">72</span>, <span class="hljs-number">230</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">48</span>, <span class="hljs-number">138</span>, <span class="hljs-number">134</span>, <span class="hljs-number">87</span>, <span class="hljs-number">106</span>, <span class="hljs-number">123</span>, <span class="hljs-number">231</span>, <span class="hljs-number">247</span>, <span class="hljs-number">165</span>, <span class="hljs-number">173</span>, <span class="hljs-number">216</span>, <span class="hljs-number">194</span>, <span class="hljs-number">115</span>, <span class="hljs-number">198</span>, <span class="hljs-number">228</span>, <span class="hljs-number">223</span>, <span class="hljs-number">209</span>, <span class="hljs-number">120</span>, <span class="hljs-number">46</span>, <span class="hljs-number">114</span>, <span class="hljs-number">68</span>, <span class="hljs-number">92</span>, <span class="hljs-number">75</span>, <span class="hljs-number">117</span>, <span class="hljs-number">170</span>, <span class="hljs-number">214</span>, <span class="hljs-number">140</span>, <span class="hljs-number">131</span>, <span class="hljs-number">147</span>, <span class="hljs-number">208</span>, <span class="hljs-number">181</span>, <span class="hljs-number">19</span>, <span class="hljs-number">193</span>, <span class="hljs-number">157</span>, <span class="hljs-number">178</span>, <span class="hljs-number">186</span>, <span class="hljs-number">87</span>, <span class="hljs-number">246</span>, <span class="hljs-number">178</span>, <span class="hljs-number">101</span>, <span class="hljs-number">166</span>, <span class="hljs-number">79</span>, <span class="hljs-number">20</span>, <span class="hljs-number">54</span>, <span class="hljs-number">211</span>, <span class="hljs-number">51</span>, <span class="hljs-number">101</span>, <span class="hljs-number">199</span>, <span class="hljs-number">2</span>, <span class="hljs-number">197</span>, <span class="hljs-number">48</span>, <span class="hljs-number">192</span>, <span class="hljs-number">134</span>, <span class="hljs-number">84</span>, <span class="hljs-number">193</span>, <span class="hljs-number">69</span>, <span class="hljs-number">170</span>, <span class="hljs-number">82</span>, <span class="hljs-number">201</span>, <span class="hljs-number">131</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">213</span>, <span class="hljs-number">165</span>, <span class="hljs-number">55</span>, <span class="hljs-number">166</span>, <span class="hljs-number">131</span>, <span class="hljs-number">210</span>, <span class="hljs-number">195</span>, <span class="hljs-number">56</span>, <span class="hljs-number">250</span>, <span class="hljs-number">147</span>, <span class="hljs-number">195</span>, <span class="hljs-number">61</span>, <span class="hljs-number">205</span>, <span class="hljs-number">208</span>, <span class="hljs-number">189</span>, <span class="hljs-number">185</span>, <span class="hljs-number">40</span>, <span class="hljs-number">52</span>, <span class="hljs-number">50</span>, <span class="hljs-number">119</span>, <span class="hljs-number">137</span>, <span class="hljs-number">23</span>, <span class="hljs-number">246</span>, <span class="hljs-number">46</span>, <span class="hljs-number">220</span>, <span class="hljs-number">108</span>, <span class="hljs-number">52</span>, <span class="hljs-number">23</span>, <span class="hljs-number">152</span>, <span class="hljs-number">154</span>, <span class="hljs-number">94</span>, <span class="hljs-number">32</span>, <span class="hljs-number">144</span>, <span class="hljs-number">195</span>, <span class="hljs-number">184</span>, <span class="hljs-number">249</span>, <span class="hljs-number">21</span>, <span class="hljs-number">168</span>, <span class="hljs-number">12</span>, <span class="hljs-number">57</span>, <span class="hljs-number">222</span>, <span class="hljs-number">18</span>, <span class="hljs-number">60</span>, <span class="hljs-number">117</span>, <span class="hljs-number">81</span>, <span class="hljs-number">157</span>, <span class="hljs-number">72</span>, <span class="hljs-number">30</span>, <span class="hljs-number">155</span>, <span class="hljs-number">190</span>, <span class="hljs-number">165</span>, <span class="hljs-number">242</span>, <span class="hljs-number">228</span>, <span class="hljs-number">139</span>, <span class="hljs-number">240</span>, <span class="hljs-number">184</span>, <span class="hljs-number">145</span>, <span class="hljs-number">170</span>, <span class="hljs-number">103</span>, <span class="hljs-number">210</span>, <span class="hljs-number">160</span>, <span class="hljs-number">161</span>, <span class="hljs-number">135</span>, <span class="hljs-number">13</span>]);</li><li>  <span class="hljs-keyword">let</span> keyPair = <span class="hljs-keyword">await</span> <span class="hljs-title function_">genKeyPairByData</span>(pkData, skData);</li><li>  <span class="hljs-keyword">let</span> pubKey = keyPair.<span class="hljs-property">pubKey</span>;</li><li>  <span class="hljs-keyword">let</span> priKey = keyPair.<span class="hljs-property">priKey</span>;</li><li>  <span class="hljs-keyword">let</span> message = <span class="hljs-string">'This is a test'</span>;</li><li>  <span class="hljs-comment">// 把字符串按utf-8解码为Uint8Array。</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">plainText</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(message, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) };</li><li>  <span class="hljs-keyword">let</span> encryptText = <span class="hljs-keyword">await</span> <span class="hljs-title function_">encryptMessagePromise</span>(pubKey, plainText);</li><li>  <span class="hljs-keyword">let</span> decryptText = <span class="hljs-keyword">await</span> <span class="hljs-title function_">decryptMessagePromise</span>(priKey, encryptText);</li><li>  <span class="hljs-keyword">if</span> (plainText.<span class="hljs-property">data</span>.<span class="hljs-title function_">toString</span>() === decryptText.<span class="hljs-property">data</span>.<span class="hljs-title function_">toString</span>()) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'decrypt ok'</span>);</li><li>    <span class="hljs-comment">// 把Uint8Array按utf-8编码为字符串。</span></li><li>    <span class="hljs-keyword">let</span> messageDecrypted = buffer.<span class="hljs-title function_">from</span>(decryptText.<span class="hljs-property">data</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-string">'utf-8'</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'decrypted result string:'</span> + messageDecrypted);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'decrypt failed'</span>);</li><li>  }</li><li>}</li></ol></pre></div></div></li>     <li>      <p>同步方法示例：</p>      <div _ngcontent-ggc-c106="" class="highlight-div"><div _ngcontent-ggc-c106="" class="highlight-div-header"><div _ngcontent-ggc-c106="" class="highlight-div-header-left"><div _ngcontent-ggc-c106="" class="handle-button expand-button"><div _ngcontent-ggc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ggc-c106="" class="highlight-div-header-right"><div _ngcontent-ggc-c106="" class="handle-button ai-button"></div><div _ngcontent-ggc-c106="" class="handle-button line-button"><div _ngcontent-ggc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ggc-c106="" class="handle-button theme-button"><div _ngcontent-ggc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ggc-c106="" class="handle-button copy-button"><div _ngcontent-ggc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ggc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cryptoFramework } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CryptoArchitectureKit'</span>;</li><li><span class="hljs-keyword">import</span> { buffer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li><span class="hljs-comment">// 加密消息。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">encryptMessage</span>(<span class="hljs-params">publicKey: cryptoFramework.PubKey, plainText: cryptoFramework.DataBlob</span>) {</li><li>  <span class="hljs-keyword">let</span> cipher = cryptoFramework.<span class="hljs-title function_">createCipher</span>(<span class="hljs-string">'RSA1024|PKCS1'</span>);</li><li>  cipher.<span class="hljs-title function_">initSync</span>(cryptoFramework.<span class="hljs-property">CryptoMode</span>.<span class="hljs-property">ENCRYPT_MODE</span>, publicKey, <span class="hljs-literal">null</span>);</li><li>  <span class="hljs-keyword">let</span> encryptData = cipher.<span class="hljs-title function_">doFinalSync</span>(plainText);</li><li>  <span class="hljs-keyword">return</span> encryptData;</li><li>}</li><li><span class="hljs-comment">// 解密消息。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">decryptMessage</span>(<span class="hljs-params">privateKey: cryptoFramework.PriKey, cipherText: cryptoFramework.DataBlob</span>) {</li><li>  <span class="hljs-keyword">let</span> decoder = cryptoFramework.<span class="hljs-title function_">createCipher</span>(<span class="hljs-string">'RSA1024|PKCS1'</span>);</li><li>  decoder.<span class="hljs-title function_">initSync</span>(cryptoFramework.<span class="hljs-property">CryptoMode</span>.<span class="hljs-property">DECRYPT_MODE</span>, privateKey, <span class="hljs-literal">null</span>);</li><li>  <span class="hljs-keyword">let</span> decryptData = decoder.<span class="hljs-title function_">doFinalSync</span>(cipherText);</li><li>  <span class="hljs-keyword">return</span> decryptData;</li><li>}</li><li><span class="hljs-comment">// 生成RSA密钥对。</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">genKeyPairByData</span>(<span class="hljs-params">pubKeyData: <span class="hljs-built_in">Uint8Array</span>, priKeyData: <span class="hljs-built_in">Uint8Array</span></span>) {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">pubKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: pubKeyData };</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">priKeyBlob</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: priKeyData };</li><li>  <span class="hljs-keyword">let</span> rsaGenerator = cryptoFramework.<span class="hljs-title function_">createAsyKeyGenerator</span>(<span class="hljs-string">'RSA1024'</span>);</li><li>  <span class="hljs-keyword">let</span> keyPair = rsaGenerator.<span class="hljs-title function_">convertKeySync</span>(pubKeyBlob, priKeyBlob);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'convertKeySync success'</span>);</li><li>  <span class="hljs-keyword">return</span> keyPair;</li><li>}</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> pkData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">129</span>, <span class="hljs-number">159</span>, <span class="hljs-number">48</span>, <span class="hljs-number">13</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">134</span>, <span class="hljs-number">247</span>, <span class="hljs-number">13</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">129</span>, <span class="hljs-number">141</span>, <span class="hljs-number">0</span>, <span class="hljs-number">48</span>, <span class="hljs-number">129</span>, <span class="hljs-number">137</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">197</span>, <span class="hljs-number">64</span>, <span class="hljs-number">10</span>, <span class="hljs-number">198</span>, <span class="hljs-number">14</span>, <span class="hljs-number">110</span>, <span class="hljs-number">65</span>, <span class="hljs-number">92</span>, <span class="hljs-number">206</span>, <span class="hljs-number">35</span>, <span class="hljs-number">28</span>, <span class="hljs-number">123</span>, <span class="hljs-number">153</span>, <span class="hljs-number">24</span>, <span class="hljs-number">134</span>, <span class="hljs-number">255</span>, <span class="hljs-number">145</span>, <span class="hljs-number">74</span>, <span class="hljs-number">42</span>, <span class="hljs-number">173</span>, <span class="hljs-number">40</span>, <span class="hljs-number">215</span>, <span class="hljs-number">146</span>, <span class="hljs-number">58</span>, <span class="hljs-number">143</span>, <span class="hljs-number">46</span>, <span class="hljs-number">10</span>, <span class="hljs-number">195</span>, <span class="hljs-number">154</span>, <span class="hljs-number">160</span>, <span class="hljs-number">69</span>, <span class="hljs-number">196</span>, <span class="hljs-number">220</span>, <span class="hljs-number">152</span>, <span class="hljs-number">179</span>, <span class="hljs-number">44</span>, <span class="hljs-number">111</span>, <span class="hljs-number">200</span>, <span class="hljs-number">84</span>, <span class="hljs-number">78</span>, <span class="hljs-number">215</span>, <span class="hljs-number">73</span>, <span class="hljs-number">210</span>, <span class="hljs-number">181</span>, <span class="hljs-number">12</span>, <span class="hljs-number">29</span>, <span class="hljs-number">70</span>, <span class="hljs-number">68</span>, <span class="hljs-number">36</span>, <span class="hljs-number">135</span>, <span class="hljs-number">153</span>, <span class="hljs-number">89</span>, <span class="hljs-number">230</span>, <span class="hljs-number">202</span>, <span class="hljs-number">130</span>, <span class="hljs-number">212</span>, <span class="hljs-number">111</span>, <span class="hljs-number">243</span>, <span class="hljs-number">234</span>, <span class="hljs-number">92</span>, <span class="hljs-number">131</span>, <span class="hljs-number">62</span>, <span class="hljs-number">145</span>, <span class="hljs-number">50</span>, <span class="hljs-number">73</span>, <span class="hljs-number">48</span>, <span class="hljs-number">104</span>, <span class="hljs-number">245</span>, <span class="hljs-number">46</span>, <span class="hljs-number">70</span>, <span class="hljs-number">45</span>, <span class="hljs-number">157</span>, <span class="hljs-number">147</span>, <span class="hljs-number">143</span>, <span class="hljs-number">140</span>, <span class="hljs-number">162</span>, <span class="hljs-number">156</span>, <span class="hljs-number">216</span>, <span class="hljs-number">220</span>, <span class="hljs-number">49</span>, <span class="hljs-number">121</span>, <span class="hljs-number">142</span>, <span class="hljs-number">194</span>, <span class="hljs-number">33</span>, <span class="hljs-number">223</span>, <span class="hljs-number">201</span>, <span class="hljs-number">0</span>, <span class="hljs-number">16</span>, <span class="hljs-number">163</span>, <span class="hljs-number">210</span>, <span class="hljs-number">240</span>, <span class="hljs-number">118</span>, <span class="hljs-number">92</span>, <span class="hljs-number">147</span>, <span class="hljs-number">121</span>, <span class="hljs-number">220</span>, <span class="hljs-number">17</span>, <span class="hljs-number">114</span>, <span class="hljs-number">24</span>, <span class="hljs-number">52</span>, <span class="hljs-number">125</span>, <span class="hljs-number">135</span>, <span class="hljs-number">176</span>, <span class="hljs-number">88</span>, <span class="hljs-number">21</span>, <span class="hljs-number">83</span>, <span class="hljs-number">86</span>, <span class="hljs-number">17</span>, <span class="hljs-number">156</span>, <span class="hljs-number">88</span>, <span class="hljs-number">250</span>, <span class="hljs-number">48</span>, <span class="hljs-number">79</span>, <span class="hljs-number">86</span>, <span class="hljs-number">128</span>, <span class="hljs-number">248</span>, <span class="hljs-number">105</span>, <span class="hljs-number">208</span>, <span class="hljs-number">133</span>, <span class="hljs-number">140</span>, <span class="hljs-number">13</span>, <span class="hljs-number">153</span>, <span class="hljs-number">164</span>, <span class="hljs-number">191</span>, <span class="hljs-number">136</span>, <span class="hljs-number">164</span>, <span class="hljs-number">44</span>, <span class="hljs-number">53</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]);</li><li>  <span class="hljs-keyword">let</span> skData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">48</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">119</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">48</span>, <span class="hljs-number">13</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">42</span>, <span class="hljs-number">134</span>, <span class="hljs-number">72</span>, <span class="hljs-number">134</span>, <span class="hljs-number">247</span>, <span class="hljs-number">13</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">97</span>, <span class="hljs-number">48</span>, <span class="hljs-number">130</span>, <span class="hljs-number">2</span>, <span class="hljs-number">93</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">0</span>, <span class="hljs-number">197</span>, <span class="hljs-number">64</span>, <span class="hljs-number">10</span>, <span class="hljs-number">198</span>, <span class="hljs-number">14</span>, <span class="hljs-number">110</span>, <span class="hljs-number">65</span>, <span class="hljs-number">92</span>, <span class="hljs-number">206</span>, <span class="hljs-number">35</span>, <span class="hljs-number">28</span>, <span class="hljs-number">123</span>, <span class="hljs-number">153</span>, <span class="hljs-number">24</span>, <span class="hljs-number">134</span>, <span class="hljs-number">255</span>, <span class="hljs-number">145</span>, <span class="hljs-number">74</span>, <span class="hljs-number">42</span>, <span class="hljs-number">173</span>, <span class="hljs-number">40</span>, <span class="hljs-number">215</span>, <span class="hljs-number">146</span>, <span class="hljs-number">58</span>, <span class="hljs-number">143</span>, <span class="hljs-number">46</span>, <span class="hljs-number">10</span>, <span class="hljs-number">195</span>, <span class="hljs-number">154</span>, <span class="hljs-number">160</span>, <span class="hljs-number">69</span>, <span class="hljs-number">196</span>, <span class="hljs-number">220</span>, <span class="hljs-number">152</span>, <span class="hljs-number">179</span>, <span class="hljs-number">44</span>, <span class="hljs-number">111</span>, <span class="hljs-number">200</span>, <span class="hljs-number">84</span>, <span class="hljs-number">78</span>, <span class="hljs-number">215</span>, <span class="hljs-number">73</span>, <span class="hljs-number">210</span>, <span class="hljs-number">181</span>, <span class="hljs-number">12</span>, <span class="hljs-number">29</span>, <span class="hljs-number">70</span>, <span class="hljs-number">68</span>, <span class="hljs-number">36</span>, <span class="hljs-number">135</span>, <span class="hljs-number">153</span>, <span class="hljs-number">89</span>, <span class="hljs-number">230</span>, <span class="hljs-number">202</span>, <span class="hljs-number">130</span>, <span class="hljs-number">212</span>, <span class="hljs-number">111</span>, <span class="hljs-number">243</span>, <span class="hljs-number">234</span>, <span class="hljs-number">92</span>, <span class="hljs-number">131</span>, <span class="hljs-number">62</span>, <span class="hljs-number">145</span>, <span class="hljs-number">50</span>, <span class="hljs-number">73</span>, <span class="hljs-number">48</span>, <span class="hljs-number">104</span>, <span class="hljs-number">245</span>, <span class="hljs-number">46</span>, <span class="hljs-number">70</span>, <span class="hljs-number">45</span>, <span class="hljs-number">157</span>, <span class="hljs-number">147</span>, <span class="hljs-number">143</span>, <span class="hljs-number">140</span>, <span class="hljs-number">162</span>, <span class="hljs-number">156</span>, <span class="hljs-number">216</span>, <span class="hljs-number">220</span>, <span class="hljs-number">49</span>, <span class="hljs-number">121</span>, <span class="hljs-number">142</span>, <span class="hljs-number">194</span>, <span class="hljs-number">33</span>, <span class="hljs-number">223</span>, <span class="hljs-number">201</span>, <span class="hljs-number">0</span>, <span class="hljs-number">16</span>, <span class="hljs-number">163</span>, <span class="hljs-number">210</span>, <span class="hljs-number">240</span>, <span class="hljs-number">118</span>, <span class="hljs-number">92</span>, <span class="hljs-number">147</span>, <span class="hljs-number">121</span>, <span class="hljs-number">220</span>, <span class="hljs-number">17</span>, <span class="hljs-number">114</span>, <span class="hljs-number">24</span>, <span class="hljs-number">52</span>, <span class="hljs-number">125</span>, <span class="hljs-number">135</span>, <span class="hljs-number">176</span>, <span class="hljs-number">88</span>, <span class="hljs-number">21</span>, <span class="hljs-number">83</span>, <span class="hljs-number">86</span>, <span class="hljs-number">17</span>, <span class="hljs-number">156</span>, <span class="hljs-number">88</span>, <span class="hljs-number">250</span>, <span class="hljs-number">48</span>, <span class="hljs-number">79</span>, <span class="hljs-number">86</span>, <span class="hljs-number">128</span>, <span class="hljs-number">248</span>, <span class="hljs-number">105</span>, <span class="hljs-number">208</span>, <span class="hljs-number">133</span>, <span class="hljs-number">140</span>, <span class="hljs-number">13</span>, <span class="hljs-number">153</span>, <span class="hljs-number">164</span>, <span class="hljs-number">191</span>, <span class="hljs-number">136</span>, <span class="hljs-number">164</span>, <span class="hljs-number">44</span>, <span class="hljs-number">53</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">129</span>, <span class="hljs-number">128</span>, <span class="hljs-number">70</span>, <span class="hljs-number">75</span>, <span class="hljs-number">184</span>, <span class="hljs-number">139</span>, <span class="hljs-number">53</span>, <span class="hljs-number">1</span>, <span class="hljs-number">94</span>, <span class="hljs-number">17</span>, <span class="hljs-number">240</span>, <span class="hljs-number">244</span>, <span class="hljs-number">218</span>, <span class="hljs-number">101</span>, <span class="hljs-number">193</span>, <span class="hljs-number">253</span>, <span class="hljs-number">215</span>, <span class="hljs-number">190</span>, <span class="hljs-number">164</span>, <span class="hljs-number">204</span>, <span class="hljs-number">197</span>, <span class="hljs-number">192</span>, <span class="hljs-number">200</span>, <span class="hljs-number">89</span>, <span class="hljs-number">107</span>, <span class="hljs-number">39</span>, <span class="hljs-number">171</span>, <span class="hljs-number">119</span>, <span class="hljs-number">65</span>, <span class="hljs-number">38</span>, <span class="hljs-number">204</span>, <span class="hljs-number">168</span>, <span class="hljs-number">105</span>, <span class="hljs-number">180</span>, <span class="hljs-number">234</span>, <span class="hljs-number">217</span>, <span class="hljs-number">16</span>, <span class="hljs-number">161</span>, <span class="hljs-number">185</span>, <span class="hljs-number">132</span>, <span class="hljs-number">175</span>, <span class="hljs-number">103</span>, <span class="hljs-number">25</span>, <span class="hljs-number">154</span>, <span class="hljs-number">153</span>, <span class="hljs-number">153</span>, <span class="hljs-number">36</span>, <span class="hljs-number">36</span>, <span class="hljs-number">26</span>, <span class="hljs-number">178</span>, <span class="hljs-number">150</span>, <span class="hljs-number">66</span>, <span class="hljs-number">45</span>, <span class="hljs-number">8</span>, <span class="hljs-number">185</span>, <span class="hljs-number">19</span>, <span class="hljs-number">90</span>, <span class="hljs-number">228</span>, <span class="hljs-number">210</span>, <span class="hljs-number">177</span>, <span class="hljs-number">30</span>, <span class="hljs-number">200</span>, <span class="hljs-number">177</span>, <span class="hljs-number">141</span>, <span class="hljs-number">78</span>, <span class="hljs-number">184</span>, <span class="hljs-number">248</span>, <span class="hljs-number">59</span>, <span class="hljs-number">113</span>, <span class="hljs-number">154</span>, <span class="hljs-number">145</span>, <span class="hljs-number">73</span>, <span class="hljs-number">160</span>, <span class="hljs-number">24</span>, <span class="hljs-number">73</span>, <span class="hljs-number">157</span>, <span class="hljs-number">86</span>, <span class="hljs-number">207</span>, <span class="hljs-number">186</span>, <span class="hljs-number">32</span>, <span class="hljs-number">95</span>, <span class="hljs-number">200</span>, <span class="hljs-number">106</span>, <span class="hljs-number">252</span>, <span class="hljs-number">107</span>, <span class="hljs-number">69</span>, <span class="hljs-number">170</span>, <span class="hljs-number">193</span>, <span class="hljs-number">216</span>, <span class="hljs-number">196</span>, <span class="hljs-number">181</span>, <span class="hljs-number">142</span>, <span class="hljs-number">74</span>, <span class="hljs-number">203</span>, <span class="hljs-number">15</span>, <span class="hljs-number">18</span>, <span class="hljs-number">89</span>, <span class="hljs-number">228</span>, <span class="hljs-number">152</span>, <span class="hljs-number">19</span>, <span class="hljs-number">239</span>, <span class="hljs-number">21</span>, <span class="hljs-number">233</span>, <span class="hljs-number">98</span>, <span class="hljs-number">121</span>, <span class="hljs-number">214</span>, <span class="hljs-number">57</span>, <span class="hljs-number">187</span>, <span class="hljs-number">111</span>, <span class="hljs-number">239</span>, <span class="hljs-number">223</span>, <span class="hljs-number">248</span>, <span class="hljs-number">199</span>, <span class="hljs-number">70</span>, <span class="hljs-number">223</span>, <span class="hljs-number">108</span>, <span class="hljs-number">108</span>, <span class="hljs-number">113</span>, <span class="hljs-number">234</span>, <span class="hljs-number">144</span>, <span class="hljs-number">155</span>, <span class="hljs-number">95</span>, <span class="hljs-number">246</span>, <span class="hljs-number">144</span>, <span class="hljs-number">244</span>, <span class="hljs-number">122</span>, <span class="hljs-number">39</span>, <span class="hljs-number">55</span>, <span class="hljs-number">127</span>, <span class="hljs-number">81</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">246</span>, <span class="hljs-number">96</span>, <span class="hljs-number">188</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">104</span>, <span class="hljs-number">221</span>, <span class="hljs-number">105</span>, <span class="hljs-number">139</span>, <span class="hljs-number">144</span>, <span class="hljs-number">63</span>, <span class="hljs-number">175</span>, <span class="hljs-number">209</span>, <span class="hljs-number">87</span>, <span class="hljs-number">179</span>, <span class="hljs-number">162</span>, <span class="hljs-number">88</span>, <span class="hljs-number">192</span>, <span class="hljs-number">99</span>, <span class="hljs-number">82</span>, <span class="hljs-number">125</span>, <span class="hljs-number">53</span>, <span class="hljs-number">54</span>, <span class="hljs-number">48</span>, <span class="hljs-number">70</span>, <span class="hljs-number">245</span>, <span class="hljs-number">239</span>, <span class="hljs-number">37</span>, <span class="hljs-number">15</span>, <span class="hljs-number">242</span>, <span class="hljs-number">247</span>, <span class="hljs-number">84</span>, <span class="hljs-number">115</span>, <span class="hljs-number">187</span>, <span class="hljs-number">196</span>, <span class="hljs-number">95</span>, <span class="hljs-number">156</span>, <span class="hljs-number">40</span>, <span class="hljs-number">165</span>, <span class="hljs-number">60</span>, <span class="hljs-number">64</span>, <span class="hljs-number">102</span>, <span class="hljs-number">13</span>, <span class="hljs-number">229</span>, <span class="hljs-number">243</span>, <span class="hljs-number">2</span>, <span class="hljs-number">149</span>, <span class="hljs-number">0</span>, <span class="hljs-number">232</span>, <span class="hljs-number">226</span>, <span class="hljs-number">221</span>, <span class="hljs-number">192</span>, <span class="hljs-number">95</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">208</span>, <span class="hljs-number">5</span>, <span class="hljs-number">181</span>, <span class="hljs-number">98</span>, <span class="hljs-number">62</span>, <span class="hljs-number">210</span>, <span class="hljs-number">190</span>, <span class="hljs-number">141</span>, <span class="hljs-number">235</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">244</span>, <span class="hljs-number">34</span>, <span class="hljs-number">10</span>, <span class="hljs-number">105</span>, <span class="hljs-number">80</span>, <span class="hljs-number">76</span>, <span class="hljs-number">116</span>, <span class="hljs-number">163</span>, <span class="hljs-number">35</span>, <span class="hljs-number">231</span>, <span class="hljs-number">168</span>, <span class="hljs-number">187</span>, <span class="hljs-number">206</span>, <span class="hljs-number">189</span>, <span class="hljs-number">101</span>, <span class="hljs-number">215</span>, <span class="hljs-number">103</span>, <span class="hljs-number">80</span>, <span class="hljs-number">115</span>, <span class="hljs-number">86</span>, <span class="hljs-number">11</span>, <span class="hljs-number">34</span>, <span class="hljs-number">127</span>, <span class="hljs-number">203</span>, <span class="hljs-number">114</span>, <span class="hljs-number">84</span>, <span class="hljs-number">188</span>, <span class="hljs-number">121</span>, <span class="hljs-number">174</span>, <span class="hljs-number">169</span>, <span class="hljs-number">31</span>, <span class="hljs-number">142</span>, <span class="hljs-number">2</span>, <span class="hljs-number">182</span>, <span class="hljs-number">27</span>, <span class="hljs-number">140</span>, <span class="hljs-number">225</span>, <span class="hljs-number">157</span>, <span class="hljs-number">227</span>, <span class="hljs-number">71</span>, <span class="hljs-number">98</span>, <span class="hljs-number">15</span>, <span class="hljs-number">203</span>, <span class="hljs-number">187</span>, <span class="hljs-number">213</span>, <span class="hljs-number">5</span>, <span class="hljs-number">190</span>, <span class="hljs-number">20</span>, <span class="hljs-number">121</span>, <span class="hljs-number">8</span>, <span class="hljs-number">30</span>, <span class="hljs-number">193</span>, <span class="hljs-number">100</span>, <span class="hljs-number">232</span>, <span class="hljs-number">101</span>, <span class="hljs-number">141</span>, <span class="hljs-number">8</span>, <span class="hljs-number">124</span>, <span class="hljs-number">20</span>, <span class="hljs-number">29</span>, <span class="hljs-number">78</span>, <span class="hljs-number">6</span>, <span class="hljs-number">95</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">204</span>, <span class="hljs-number">43</span>, <span class="hljs-number">225</span>, <span class="hljs-number">224</span>, <span class="hljs-number">6</span>, <span class="hljs-number">118</span>, <span class="hljs-number">224</span>, <span class="hljs-number">117</span>, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">199</span>, <span class="hljs-number">94</span>, <span class="hljs-number">70</span>, <span class="hljs-number">23</span>, <span class="hljs-number">109</span>, <span class="hljs-number">175</span>, <span class="hljs-number">173</span>, <span class="hljs-number">232</span>, <span class="hljs-number">208</span>, <span class="hljs-number">230</span>, <span class="hljs-number">61</span>, <span class="hljs-number">8</span>, <span class="hljs-number">105</span>, <span class="hljs-number">189</span>, <span class="hljs-number">156</span>, <span class="hljs-number">48</span>, <span class="hljs-number">150</span>, <span class="hljs-number">91</span>, <span class="hljs-number">154</span>, <span class="hljs-number">89</span>, <span class="hljs-number">248</span>, <span class="hljs-number">136</span>, <span class="hljs-number">173</span>, <span class="hljs-number">215</span>, <span class="hljs-number">254</span>, <span class="hljs-number">166</span>, <span class="hljs-number">84</span>, <span class="hljs-number">220</span>, <span class="hljs-number">130</span>, <span class="hljs-number">1</span>, <span class="hljs-number">234</span>, <span class="hljs-number">68</span>, <span class="hljs-number">40</span>, <span class="hljs-number">100</span>, <span class="hljs-number">84</span>, <span class="hljs-number">251</span>, <span class="hljs-number">224</span>, <span class="hljs-number">202</span>, <span class="hljs-number">254</span>, <span class="hljs-number">51</span>, <span class="hljs-number">115</span>, <span class="hljs-number">28</span>, <span class="hljs-number">198</span>, <span class="hljs-number">38</span>, <span class="hljs-number">124</span>, <span class="hljs-number">25</span>, <span class="hljs-number">175</span>, <span class="hljs-number">129</span>, <span class="hljs-number">94</span>, <span class="hljs-number">199</span>, <span class="hljs-number">61</span>, <span class="hljs-number">17</span>, <span class="hljs-number">216</span>, <span class="hljs-number">189</span>, <span class="hljs-number">2</span>, <span class="hljs-number">64</span>, <span class="hljs-number">72</span>, <span class="hljs-number">230</span>, <span class="hljs-number">129</span>, <span class="hljs-number">129</span>, <span class="hljs-number">48</span>, <span class="hljs-number">138</span>, <span class="hljs-number">134</span>, <span class="hljs-number">87</span>, <span class="hljs-number">106</span>, <span class="hljs-number">123</span>, <span class="hljs-number">231</span>, <span class="hljs-number">247</span>, <span class="hljs-number">165</span>, <span class="hljs-number">173</span>, <span class="hljs-number">216</span>, <span class="hljs-number">194</span>, <span class="hljs-number">115</span>, <span class="hljs-number">198</span>, <span class="hljs-number">228</span>, <span class="hljs-number">223</span>, <span class="hljs-number">209</span>, <span class="hljs-number">120</span>, <span class="hljs-number">46</span>, <span class="hljs-number">114</span>, <span class="hljs-number">68</span>, <span class="hljs-number">92</span>, <span class="hljs-number">75</span>, <span class="hljs-number">117</span>, <span class="hljs-number">170</span>, <span class="hljs-number">214</span>, <span class="hljs-number">140</span>, <span class="hljs-number">131</span>, <span class="hljs-number">147</span>, <span class="hljs-number">208</span>, <span class="hljs-number">181</span>, <span class="hljs-number">19</span>, <span class="hljs-number">193</span>, <span class="hljs-number">157</span>, <span class="hljs-number">178</span>, <span class="hljs-number">186</span>, <span class="hljs-number">87</span>, <span class="hljs-number">246</span>, <span class="hljs-number">178</span>, <span class="hljs-number">101</span>, <span class="hljs-number">166</span>, <span class="hljs-number">79</span>, <span class="hljs-number">20</span>, <span class="hljs-number">54</span>, <span class="hljs-number">211</span>, <span class="hljs-number">51</span>, <span class="hljs-number">101</span>, <span class="hljs-number">199</span>, <span class="hljs-number">2</span>, <span class="hljs-number">197</span>, <span class="hljs-number">48</span>, <span class="hljs-number">192</span>, <span class="hljs-number">134</span>, <span class="hljs-number">84</span>, <span class="hljs-number">193</span>, <span class="hljs-number">69</span>, <span class="hljs-number">170</span>, <span class="hljs-number">82</span>, <span class="hljs-number">201</span>, <span class="hljs-number">131</span>, <span class="hljs-number">2</span>, <span class="hljs-number">65</span>, <span class="hljs-number">0</span>, <span class="hljs-number">213</span>, <span class="hljs-number">165</span>, <span class="hljs-number">55</span>, <span class="hljs-number">166</span>, <span class="hljs-number">131</span>, <span class="hljs-number">210</span>, <span class="hljs-number">195</span>, <span class="hljs-number">56</span>, <span class="hljs-number">250</span>, <span class="hljs-number">147</span>, <span class="hljs-number">195</span>, <span class="hljs-number">61</span>, <span class="hljs-number">205</span>, <span class="hljs-number">208</span>, <span class="hljs-number">189</span>, <span class="hljs-number">185</span>, <span class="hljs-number">40</span>, <span class="hljs-number">52</span>, <span class="hljs-number">50</span>, <span class="hljs-number">119</span>, <span class="hljs-number">137</span>, <span class="hljs-number">23</span>, <span class="hljs-number">246</span>, <span class="hljs-number">46</span>, <span class="hljs-number">220</span>, <span class="hljs-number">108</span>, <span class="hljs-number">52</span>, <span class="hljs-number">23</span>, <span class="hljs-number">152</span>, <span class="hljs-number">154</span>, <span class="hljs-number">94</span>, <span class="hljs-number">32</span>, <span class="hljs-number">144</span>, <span class="hljs-number">195</span>, <span class="hljs-number">184</span>, <span class="hljs-number">249</span>, <span class="hljs-number">21</span>, <span class="hljs-number">168</span>, <span class="hljs-number">12</span>, <span class="hljs-number">57</span>, <span class="hljs-number">222</span>, <span class="hljs-number">18</span>, <span class="hljs-number">60</span>, <span class="hljs-number">117</span>, <span class="hljs-number">81</span>, <span class="hljs-number">157</span>, <span class="hljs-number">72</span>, <span class="hljs-number">30</span>, <span class="hljs-number">155</span>, <span class="hljs-number">190</span>, <span class="hljs-number">165</span>, <span class="hljs-number">242</span>, <span class="hljs-number">228</span>, <span class="hljs-number">139</span>, <span class="hljs-number">240</span>, <span class="hljs-number">184</span>, <span class="hljs-number">145</span>, <span class="hljs-number">170</span>, <span class="hljs-number">103</span>, <span class="hljs-number">210</span>, <span class="hljs-number">160</span>, <span class="hljs-number">161</span>, <span class="hljs-number">135</span>, <span class="hljs-number">13</span>]);</li><li>  <span class="hljs-keyword">let</span> keyPair = <span class="hljs-title function_">genKeyPairByData</span>(pkData, skData);</li><li>  <span class="hljs-keyword">let</span> pubKey = keyPair.<span class="hljs-property">pubKey</span>;</li><li>  <span class="hljs-keyword">let</span> priKey = keyPair.<span class="hljs-property">priKey</span>;</li><li>  <span class="hljs-keyword">let</span> message = <span class="hljs-string">'This is a test'</span>;</li><li>  <span class="hljs-comment">// 把字符串按utf-8解码为Uint8Array。</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">plainText</span>: cryptoFramework.<span class="hljs-property">DataBlob</span> = { <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer.<span class="hljs-title function_">from</span>(message, <span class="hljs-string">'utf-8'</span>).<span class="hljs-property">buffer</span>) };</li><li>  <span class="hljs-keyword">let</span> encryptText = <span class="hljs-title function_">encryptMessage</span>(pubKey, plainText);</li><li>  <span class="hljs-keyword">let</span> decryptText = <span class="hljs-title function_">decryptMessage</span>(priKey, encryptText);</li><li>  <span class="hljs-keyword">if</span> (plainText.<span class="hljs-property">data</span>.<span class="hljs-title function_">toString</span>() === decryptText.<span class="hljs-property">data</span>.<span class="hljs-title function_">toString</span>()) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'decrypt ok'</span>);</li><li>    <span class="hljs-comment">// 把Uint8Array按utf-8编码为字符串。</span></li><li>    <span class="hljs-keyword">let</span> messageDecrypted = buffer.<span class="hljs-title function_">from</span>(decryptText.<span class="hljs-property">data</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-string">'utf-8'</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'decrypted result string:'</span> + messageDecrypted);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'decrypt failed'</span>);</li><li>  }</li><li>}</li></ol></pre></div></div></li>    </ul>   </div>   <div></div></div>