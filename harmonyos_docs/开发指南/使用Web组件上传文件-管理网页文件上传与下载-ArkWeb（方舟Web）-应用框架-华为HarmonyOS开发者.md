<h1 _ngcontent-xgk-c119="" class="doc-title ng-star-inserted" title="使用Web组件上传文件"> 使用Web组件上传文件 </h1>

<div _ngcontent-xgk-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>Web组件支持前端页面选择文件上传功能，应用开发者可以使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-basic-components-web-events#onshowfileselector9" target="_blank">onShowFileSelector()</a>接口来处理前端页面文件上传的请求，如果应用开发者不做任何处理，Web会提供默认行为来处理前端页面文件上传的请求。</p>    <div class="tiledSection">     <h2 id="使用onshowfileselector拉起文件管理器">使用onShowFileSelector拉起文件管理器<i class="anchor-icon anchor-icon-link" anchorid="使用onshowfileselector拉起文件管理器" tips="复制节点链接"></i></h2>          <p>下面的示例中，当用户在前端页面点击文件上传按钮，应用侧在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-basic-components-web-events#onshowfileselector9" target="_blank">onShowFileSelector()</a>接口中收到文件上传请求，在此接口中开发者将上传的本地文件路径设置给前端页面。</p>     <ul>      <li>       <p>应用侧代码。</p>       <div _ngcontent-xgk-c106="" class="highlight-div"><div _ngcontent-xgk-c106="" class="highlight-div-header"><div _ngcontent-xgk-c106="" class="highlight-div-header-left"><div _ngcontent-xgk-c106="" class="handle-button expand-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xgk-c106="" class="highlight-div-header-right"><div _ngcontent-xgk-c106="" class="handle-button ai-button"></div><div _ngcontent-xgk-c106="" class="handle-button line-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xgk-c106="" class="handle-button theme-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xgk-c106="" class="handle-button copy-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xgk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { webview } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkWeb'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { picker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: webview.<span class="hljs-property">WebviewController</span> = <span class="hljs-keyword">new</span> webview.<span class="hljs-title class_">WebviewController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: $rawfile(<span class="hljs-string">'local.html'</span>), <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>        .<span class="hljs-title function_">onShowFileSelector</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'MyFileUploader onShowFileSelector invoked'</span>);</li><li>          <span class="hljs-keyword">const</span> documentSelectOptions = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">DocumentSelectOptions</span>();</li><li>          <span class="hljs-keyword">let</span> <span class="hljs-attr">uri</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>          <span class="hljs-keyword">const</span> documentViewPicker = <span class="hljs-keyword">new</span> picker.<span class="hljs-title class_">DocumentViewPicker</span>();</li><li>          documentViewPicker.<span class="hljs-title function_">select</span>(documentSelectOptions).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">documentSelectResult</span>) =&gt;</span> {</li><li>            uri = documentSelectResult[<span class="hljs-number">0</span>];</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'documentViewPicker.select to file succeed and uri is:'</span> + uri);</li><li>            <span class="hljs-keyword">if</span> (event) {</li><li>              event.<span class="hljs-property">result</span>.<span class="hljs-title function_">handleFileList</span>([uri]);</li><li>            }</li><li>          }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Invoke documentViewPicker.select failed, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>          })</li><li>          <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div></li>      <li>       <p>local.html页面代码。</p>       <div _ngcontent-xgk-c106="" class="highlight-div"><div _ngcontent-xgk-c106="" class="highlight-div-header"><div _ngcontent-xgk-c106="" class="highlight-div-header-left"><div _ngcontent-xgk-c106="" class="handle-button expand-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xgk-c106="" class="highlight-div-header-right"><div _ngcontent-xgk-c106="" class="handle-button ai-button"></div><div _ngcontent-xgk-c106="" class="handle-button line-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xgk-c106="" class="handle-button theme-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xgk-c106="" class="handle-button copy-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xgk-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width"</span> /&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></li><li>
</li><li><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></li><li><span class="hljs-comment">&lt;!-- 点击上传文件按钮 --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"file"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></li></ol></pre></div></div></li>     </ul>     <p><span><img originheight="971" originwidth="464" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114722.03985683580336466951240830453778:50001231000000:2800:7782458582D3FD97E771CA33149748B93B0E9F7939D6D62190168E1DFB23E5E9.gif" width="464" height="971"></span></p>    </div>    <div class="tiledSection">     <h2 id="使用onshowfileselector拉起图库">使用onShowFileSelector拉起图库<i class="anchor-icon anchor-icon-link" anchorid="使用onshowfileselector拉起图库" tips="复制节点链接"></i></h2>          <p>下面的示例中，当用户在前端页面点击文件上传按钮，应用侧在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-basic-components-web-events#onshowfileselector9" target="_blank">onShowFileSelector()</a>接口中收到文件上传请求，在此接口中开发者将上传的本地图片路径设置给前端页面。</p>     <ul>      <li>       <p>应用侧代码。</p>       <div _ngcontent-xgk-c106="" class="highlight-div"><div _ngcontent-xgk-c106="" class="highlight-div-header"><div _ngcontent-xgk-c106="" class="highlight-div-header-left"><div _ngcontent-xgk-c106="" class="handle-button expand-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xgk-c106="" class="highlight-div-header-right"><div _ngcontent-xgk-c106="" class="handle-button ai-button"></div><div _ngcontent-xgk-c106="" class="handle-button line-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xgk-c106="" class="handle-button theme-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xgk-c106="" class="handle-button copy-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xgk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { webview } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkWeb'</span>;</li><li><span class="hljs-keyword">import</span> { photoAccessHelper } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MediaLibraryKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: webview.<span class="hljs-property">WebviewController</span> = <span class="hljs-keyword">new</span> webview.<span class="hljs-title class_">WebviewController</span>();</li><li>
</li><li>  <span class="hljs-keyword">async</span> <span class="hljs-title function_">selectFile</span>(<span class="hljs-attr">result</span>: <span class="hljs-title class_">FileSelectorResult</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {</li><li>    <span class="hljs-keyword">let</span> photoSelectOptions = <span class="hljs-keyword">new</span> photoAccessHelper.<span class="hljs-title class_">PhotoSelectOptions</span>();</li><li>    <span class="hljs-keyword">let</span> photoPicker = <span class="hljs-keyword">new</span> photoAccessHelper.<span class="hljs-title class_">PhotoViewPicker</span>();</li><li>    <span class="hljs-comment">// 过滤选择媒体文件类型为IMAGE_VIDEO</span></li><li>    photoSelectOptions.<span class="hljs-property">MIMEType</span> = photoAccessHelper.<span class="hljs-property">PhotoViewMIMETypes</span>.<span class="hljs-property">IMAGE_VIDEO_TYPE</span>;</li><li>    <span class="hljs-comment">// 设置最大选择数量</span></li><li>    photoSelectOptions.<span class="hljs-property">maxSelectNumber</span> = <span class="hljs-number">5</span>;</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">chooseFile</span>: photoAccessHelper.<span class="hljs-property">PhotoSelectResult</span> = <span class="hljs-keyword">await</span> photoPicker.<span class="hljs-title function_">select</span>(photoSelectOptions);</li><li>    <span class="hljs-comment">// 获取选择的文件列表</span></li><li>    result.<span class="hljs-title function_">handleFileList</span>(chooseFile.<span class="hljs-property">photoUris</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: $rawfile(<span class="hljs-string">'local.html'</span>), <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>        .<span class="hljs-title function_">onShowFileSelector</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {</li><li>          <span class="hljs-keyword">if</span> (event) {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">selectFile</span>(event.<span class="hljs-property">result</span>);</li><li>          }</li><li>          <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div></li>      <li>       <p>local.html页面代码。</p>       <div _ngcontent-xgk-c106="" class="highlight-div"><div _ngcontent-xgk-c106="" class="highlight-div-header"><div _ngcontent-xgk-c106="" class="highlight-div-header-left"><div _ngcontent-xgk-c106="" class="handle-button expand-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xgk-c106="" class="highlight-div-header-right"><div _ngcontent-xgk-c106="" class="handle-button ai-button"></div><div _ngcontent-xgk-c106="" class="handle-button line-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xgk-c106="" class="handle-button theme-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xgk-c106="" class="handle-button copy-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xgk-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width"</span> /&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></li><li>
</li><li><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></li><li><span class="hljs-comment">&lt;!-- 点击上传文件按钮 --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"file"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></li></ol></pre></div></div></li>     </ul>     <p><span><img originheight="971" originwidth="464" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114722.65294589016933024474119945041442:50001231000000:2800:CFE81D645752039FABBC05B601E48826DE1C24F6D4BE7C90D7936C7F94514436.gif" width="464" height="971"></span></p>    </div>    <div class="tiledSection">     <h2 id="使用onshowfileselector拉起相机">使用onShowFileSelector拉起相机<i class="anchor-icon anchor-icon-link" anchorid="使用onshowfileselector拉起相机" tips="复制节点链接"></i></h2>          <p>Web组件支持前端页面上传图片文件时调用相机即时拍照，应用开发者可以使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-basic-components-web-events#onshowfileselector9" target="_blank">onShowFileSelector()</a>接口来处理前端页面文件上传的请求并自行拉起相机，如果应用开发者不做任何处理，Web会提供默认行为来处理前端页面调用相机的请求。</p>     <p>此示例中，应用侧通过监听<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-basic-components-web-events#onshowfileselector9" target="_blank">onShowFileSelector</a>事件并返回true拦截ArkWeb默认弹窗,并调用系统CameraPicker拉起相机。</p>     <p>应用可以通过获取AcceptType对不同类型的目标文件做更精细的筛选。</p>     <div _ngcontent-xgk-c106="" class="highlight-div"><div _ngcontent-xgk-c106="" class="highlight-div-header"><div _ngcontent-xgk-c106="" class="highlight-div-header-left"><div _ngcontent-xgk-c106="" class="handle-button expand-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xgk-c106="" class="highlight-div-header-right"><div _ngcontent-xgk-c106="" class="handle-button ai-button"></div><div _ngcontent-xgk-c106="" class="handle-button line-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xgk-c106="" class="handle-button theme-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xgk-c106="" class="handle-button copy-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xgk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { webview } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkWeb'</span>;</li><li><span class="hljs-keyword">import</span> { camera, cameraPicker } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CameraKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">openCamera</span>(<span class="hljs-params">callback: Callback&lt;<span class="hljs-built_in">string</span>&gt;, uiContext: UIContext</span>) {</li><li>  <span class="hljs-keyword">let</span> mContext = uiContext.<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">Context</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">pickerProfile</span>: cameraPicker.<span class="hljs-property">PickerProfile</span> = {</li><li>      <span class="hljs-attr">cameraPosition</span>: camera.<span class="hljs-property">CameraPosition</span>.<span class="hljs-property">CAMERA_POSITION_BACK</span></li><li>    };</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">pickerResult</span>: cameraPicker.<span class="hljs-property">PickerResult</span> = <span class="hljs-keyword">await</span> cameraPicker.<span class="hljs-title function_">pick</span>(mContext,</li><li>      [cameraPicker.<span class="hljs-property">PickerMediaType</span>.<span class="hljs-property">PHOTO</span>, cameraPicker.<span class="hljs-property">PickerMediaType</span>.<span class="hljs-property">VIDEO</span>], pickerProfile);</li><li>    <span class="hljs-title function_">callback</span>(pickerResult.<span class="hljs-property">resultUri</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`the pick call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">webviewController</span>: webview.<span class="hljs-property">WebviewController</span> = <span class="hljs-keyword">new</span> webview.<span class="hljs-title class_">WebviewController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: $rawfile(<span class="hljs-string">"webCamera.html"</span>), <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">webviewController</span> })</li><li>        .<span class="hljs-title function_">onShowFileSelector</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {</li><li>            <span class="hljs-comment">//开发者可以通过event.fileSelector.getAcceptType()和event.fileSelector.isCapture()判断文件类型，并有选择地做出筛选以拉起不同的文件选择器</span></li><li>            <span class="hljs-title function_">openCamera</span>(<span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> {</li><li>                <span class="hljs-keyword">if</span> (event) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Title is '</span> + event.<span class="hljs-property">fileSelector</span>.<span class="hljs-title function_">getTitle</span>());</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Mode is '</span> + event.<span class="hljs-property">fileSelector</span>.<span class="hljs-title function_">getMode</span>());</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Accept types are '</span> + event.<span class="hljs-property">fileSelector</span>.<span class="hljs-title function_">getAcceptType</span>());</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Capture is '</span> + event.<span class="hljs-property">fileSelector</span>.<span class="hljs-title function_">isCapture</span>());</li><li>                event.<span class="hljs-property">result</span>.<span class="hljs-title function_">handleFileList</span>([result]);</li><li>                }</li><li>            }, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>())</li><li>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p>html页面代码</p>     <div _ngcontent-xgk-c106="" class="highlight-div"><div _ngcontent-xgk-c106="" class="highlight-div-header"><div _ngcontent-xgk-c106="" class="highlight-div-header-left"><div _ngcontent-xgk-c106="" class="handle-button expand-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xgk-c106="" class="highlight-div-header-right"><div _ngcontent-xgk-c106="" class="handle-button ai-button"></div><div _ngcontent-xgk-c106="" class="handle-button line-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xgk-c106="" class="handle-button theme-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xgk-c106="" class="handle-button copy-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xgk-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>WebCamera<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"file"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"photo"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"photo"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"display: none;width:200px;"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"img"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></li><li><span class="language-javascript">        <span class="hljs-keyword">let</span> photo = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"photo"</span>);</span></li><li><span class="language-javascript">        photo.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"change"</span>, preViewImg)</span></li><li><span class="language-javascript"></span></li><li><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">preViewImg</span>(<span class="hljs-params">event</span>) {</span></li><li><span class="language-javascript">            <span class="hljs-keyword">let</span> fileReader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>();</span></li><li><span class="language-javascript">            <span class="hljs-keyword">let</span> img = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"img"</span>);</span></li><li><span class="language-javascript">            fileReader.<span class="hljs-title function_">addEventListener</span>(</span></li><li><span class="language-javascript">                <span class="hljs-string">"load"</span>,</span></li><li><span class="language-javascript">                <span class="hljs-function">() =&gt;</span> {</span></li><li><span class="language-javascript">                    <span class="hljs-comment">// 将图像文件转换为 Base64 字符串</span></span></li><li><span class="language-javascript">                    img.<span class="hljs-property">src</span> = fileReader.<span class="hljs-property">result</span>;</span></li><li><span class="language-javascript">                    img.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">"block"</span>;</span></li><li><span class="language-javascript">                },</span></li><li><span class="language-javascript">                <span class="hljs-literal">false</span></span></li><li><span class="language-javascript">            );</span></li><li><span class="language-javascript">            <span class="hljs-keyword">if</span> (event.<span class="hljs-property">target</span>.<span class="hljs-property">files</span> &amp;&amp; event.<span class="hljs-property">target</span>.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>]) {</span></li><li><span class="language-javascript">              fileReader.<span class="hljs-title function_">readAsDataURL</span>(event.<span class="hljs-property">target</span>.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>]);</span></li><li><span class="language-javascript">            } <span class="hljs-keyword">else</span> {</span></li><li><span class="language-javascript">              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"File not exist."</span>);</span></li><li><span class="language-javascript">            }</span></li><li><span class="language-javascript">        }</span></li><li><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></li></ol></pre></div></div>     <p><span><img originheight="1150" originwidth="553" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114722.68941323435203954690125031142394:50001231000000:2800:0721CC220A15B2E8572D1AB1260AE8A5F950523B020E34FA53036D0AE6FCAC2E.gif" width="553" height="1150"></span></p>    </div>    <div class="tiledSection">     <h2 id="使用arkweb默认的方式处理文件上传请求">使用ArkWeb默认的方式处理文件上传请求<i class="anchor-icon anchor-icon-link" anchorid="使用arkweb默认的方式处理文件上传请求" tips="复制节点链接"></i></h2>          <p>accept 属性是一个字符串，它定义了文件 input 应该接受的文件类型。这个字符串是一个以逗号为分隔的唯一文件类型说明符列表。由于给定的文件类型可以用多种方式指定，因此当你需要给定格式的文件时，提供一组完整的类型指定符是非常有用的。</p>     <p>capture 属性是一个字符串，如果 accept 属性指出了 input 是图片或者视频类型，则它指定了使用哪个摄像头去获取这些数据。值 user 表示应该使用前置摄像头和（或）麦克风。值 environment 表示应该使用后置摄像头和（或）麦克风。如果缺少此属性，则用户代理可以自由决定做什么。如果请求的前置模式不可用，则用户代理可能退回到其首选的默认模式。</p>     <p>当指定布尔类型属性 multiple 时，文件 input 允许用户选择多个文件。</p>     <p>示例页面内有数个文件选择器，分别设置了不同的accept及capture属性，这两个属性对相机的影响如下：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.4.1.1" valign="top" width="33.33333333333333%">accept</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.4.1.2" valign="top" width="33.33333333333333%">capture</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.4.1.3" valign="top" width="33.33333333333333%">文件选择器行为</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">仅包含图片类型</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">设置为"environment"或"user"</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">直接拉起相机拍照模式。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">仅包含图片类型</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">不设置</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">先拉起弹窗，用户选择拍照后拉起相机拍照模式。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">仅包含视频类型</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">设置为"environment"或"user"</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">直接拉起相机录像模式。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">仅包含视频类型</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">不设置</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">先拉起弹窗，用户选择拍照后拉起相机录像模式。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">包含图片和视频类型</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">设置为"environment"或"user"</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">直接拉起相机拍照模式，可录像。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">包含图片和视频类型</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">不设置</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">先拉起弹窗，用户选择拍照后拉起相机拍照模式，可录像。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">不设置图片或视频类型</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">设置为"environment"或"user"</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">直接拉起相机拍照模式，可录像。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">不设置图片或视频类型</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">不设置</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">先拉起弹窗，用户选择拍照后拉起相机拍照模式，可录像。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">不包含图片或视频类型</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">设置为"environment"或"user"</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">直接拉起文件选择，不可拉起相机。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">不包含图片或视频类型</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">不设置</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">直接拉起文件选择，不可拉起相机。</td>        </tr>             </tbody></table></div>     </div>     <p>当前ArkWeb识别的文件类型有</p>     <ul>      <li>图片：tif, xbm, tiff, pjp, jfif, bmp, avif, apng, ico, webp, svg, gif, svgz, jpg, jpeg, png, pjpeg</li>      <li>视频：mp4, mpg, mpeg, m4v, ogm, ogv, webm</li>     </ul>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>ArkWeb默认仅拉起相机后置摄像头，值 'user'不会被处理成拉起前置摄像头。如有需要，请在应用侧通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-basic-components-web-events#onshowfileselector9" target="_blank">onShowFileSelector()</a>接口另行处理</p>      </div></div></div>     <p>html页面代码</p>     <div _ngcontent-xgk-c106="" class="highlight-div"><div _ngcontent-xgk-c106="" class="highlight-div-header"><div _ngcontent-xgk-c106="" class="highlight-div-header-left"><div _ngcontent-xgk-c106="" class="handle-button expand-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xgk-c106="" class="highlight-div-header-right"><div _ngcontent-xgk-c106="" class="handle-button ai-button"></div><div _ngcontent-xgk-c106="" class="handle-button line-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xgk-c106="" class="handle-button theme-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xgk-c106="" class="handle-button copy-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xgk-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>WebCamera<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"file"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"picture"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"picture"</span> <span class="hljs-attr">accept</span>=<span class="hljs-string">"image/*"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"display: none;width:200px"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"img"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></li><li><span class="language-javascript">        <span class="hljs-keyword">let</span> picture = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"picture"</span>);</span></li><li><span class="language-javascript">        picture.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"change"</span>, preViewImg)</span></li><li><span class="language-javascript"></span></li><li><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">preViewImg</span>(<span class="hljs-params">event</span>) {</span></li><li><span class="language-javascript">            <span class="hljs-keyword">let</span> fileReader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>();</span></li><li><span class="language-javascript">            <span class="hljs-keyword">let</span> img = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"img"</span>);</span></li><li><span class="language-javascript">            fileReader.<span class="hljs-title function_">addEventListener</span>(</span></li><li><span class="language-javascript">                <span class="hljs-string">"load"</span>,</span></li><li><span class="language-javascript">                <span class="hljs-function">() =&gt;</span> {</span></li><li><span class="language-javascript">                    <span class="hljs-comment">// 将图像文件转换为 Base64 字符串</span></span></li><li><span class="language-javascript">                    img.<span class="hljs-property">src</span> = fileReader.<span class="hljs-property">result</span>;</span></li><li><span class="language-javascript">                    img.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">"block"</span>;</span></li><li><span class="language-javascript">                },</span></li><li><span class="language-javascript">                <span class="hljs-literal">false</span></span></li><li><span class="language-javascript">            );</span></li><li><span class="language-javascript">            <span class="hljs-keyword">if</span> (event.<span class="hljs-property">target</span>.<span class="hljs-property">files</span> &amp;&amp; event.<span class="hljs-property">target</span>.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>]) {</span></li><li><span class="language-javascript">              fileReader.<span class="hljs-title function_">readAsDataURL</span>(event.<span class="hljs-property">target</span>.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>]);</span></li><li><span class="language-javascript">            } <span class="hljs-keyword">else</span> {</span></li><li><span class="language-javascript">              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"File not exist."</span>);</span></li><li><span class="language-javascript">            }</span></li><li><span class="language-javascript">        }</span></li><li><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></li></ol></pre></div></div>     <p>应用侧代码</p>     <div _ngcontent-xgk-c106="" class="highlight-div"><div _ngcontent-xgk-c106="" class="highlight-div-header"><div _ngcontent-xgk-c106="" class="highlight-div-header-left"><div _ngcontent-xgk-c106="" class="handle-button expand-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xgk-c106="" class="highlight-div-header-right"><div _ngcontent-xgk-c106="" class="handle-button ai-button"></div><div _ngcontent-xgk-c106="" class="handle-button line-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xgk-c106="" class="handle-button theme-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xgk-c106="" class="handle-button copy-button"><div _ngcontent-xgk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xgk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { webview } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkWeb'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">webviewController</span>: webview.<span class="hljs-property">WebviewController</span> = <span class="hljs-keyword">new</span> webview.<span class="hljs-title class_">WebviewController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: $rawfile(<span class="hljs-string">"webCamera.html"</span>), <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">webviewController</span> })</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="1150" originwidth="553" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114723.10721275402810746774049743736580:50001231000000:2800:DB6CB1CA8B5F4DECBDC77363B6432B569AA755B2002704135802931F5906768D.gif" width="553" height="1150"></span></p>    </div>    <div class="tiledSection">     <h2 id="常见问题">常见问题<i class="anchor-icon anchor-icon-link" anchorid="常见问题" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="onshowfileselector配合arkweb默认弹窗使用" class="firsth2">onShowFileSelector配合ArkWeb默认弹窗使用<i class="anchor-icon anchor-icon-link" anchorid="onshowfileselector配合arkweb默认弹窗使用" tips="复制节点链接"></i></h3>          <p>用户点击文件上传按钮后，程序优先执行onShowFileSelector中的回调进行逻辑处理，应用开发者可以根据处理结果选择 return false; ，进而拉起ArkWeb默认弹窗，此时不推荐同时拉起应用侧各Picker。</p>    </div>    <div class="tiledSection">     <h3 id="回调中getaccepttype和getmimetypes的区别">回调中getAcceptType和getMimeTypes的区别<i class="anchor-icon anchor-icon-link" anchorid="回调中getaccepttype和getmimetypes的区别" tips="复制节点链接"></i></h3>          <p>getAcceptType返回的是 accept 属性值全量转换为文件扩展名所组成的字符串数组，getMimeTypes返回的是 accept 属性值用逗号拆分后所组成的字符串数组。</p>     <p>如若 accept 属性值为 video/mp4, .png ，则getAcceptType返回 .mp4, .m4v; .png ，getMimeTypes返回 video/mp4; .png 。</p>    </div>    <div class="tiledSection">     <h3 id="arkweb默认弹窗的说明">ArkWeb默认弹窗的说明<i class="anchor-icon anchor-icon-link" anchorid="arkweb默认弹窗的说明" tips="复制节点链接"></i></h3>          <p>选项“图片”会拉起图库，根据 accept 属性值不同，用户可以选择上传图片或视频；选项“拍照”会拉起相机，根据 accept 属性值不同，用户可以选择拍照或录像；选项“文件”会拉起文件管理器，用户可以上传任意内容。</p>    </div>    <div class="tiledSection">     <h3 id="handlefilelist的使用说明">handleFileList的使用说明<i class="anchor-icon anchor-icon-link" anchorid="handlefilelist的使用说明" tips="复制节点链接"></i></h3>          <p>该函数将选择的文件路径提交给ArkWeb，入参主要有两种类型：</p>     <ol>      <li>file协议路径，目前只支持前缀为 file://media/ 、file://docs/ 的公共路径和 file://&lt;packageName&gt;/ 的应用包名路径，其他file协议路径无权限。</li>      <li>沙箱目录，具体参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-sandbox-directory">应用沙箱目录</a>。</li>     </ol>    </div>   </div>   <div></div></div>