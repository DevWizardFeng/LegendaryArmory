<h1 _ngcontent-xbl-c119="" class="doc-title ng-star-inserted" title="使用入门"> 使用入门 </h1>

<div _ngcontent-xbl-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="section698882222912">示例代码<i class="anchor-icon anchor-icon-link" anchorid="section698882222912" tips="复制节点链接"></i></h2>          <p>开发者可以参考<strong>服务端</strong><a href="https://gitcode.com/harmonyos_samples/push-kit_-sample-code_-server-demo_-java" target="_blank">示例代码</a>，了解推送Push场景化消息的过程。参考<strong>客户端</strong><a href="https://gitcode.com/harmonyos_samples/push-kit-sample-code-clientdemo-arkts" target="_blank">示例代码</a>，了解生成Push Token和接收Push场景化消息的功能和流程。</p>    </div>    <div class="tiledSection">     <h2 id="section65812095297">开发流程<i class="anchor-icon anchor-icon-link" anchorid="section65812095297" tips="复制节点链接"></i></h2>          <p>开发者需要按照流程来完成应用的开发工作，<strong>以<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-send-alert">推送通知消息</a>为例</strong>，完整的开发流程如下：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.2.3.1.4.1.1" valign="top" width="9.99%">          <p>序号</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.2.3.1.4.1.2" valign="top" width="29.99%">          <p>步骤</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.2.3.1.4.1.3" valign="top" width="60.019999999999996%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="9.99%">          <p>1</p></td>         <td class="cellrowborder" valign="top" width="29.99%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-config-setting">开通推送服务</a></p></td>         <td class="cellrowborder" valign="top" width="60.019999999999996%">          <p>在开发应用前，请先参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-config-setting#section13206419341">操作步骤</a>开通推送服务。其中<strong>配置签名信息</strong>时，请使用<strong>手动签名</strong>方式。</p>          <p>DevEco Studio 6.0.0 Beta5版本开始新增<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-signing#section18815157237" target="_blank">自动签名</a>方式。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="9.99%">          <p>2</p></td>         <td class="cellrowborder" valign="top" width="29.99%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-apply-right#section16708911111611">申请通知消息自分类权益</a></p></td>         <td class="cellrowborder" valign="top" width="60.019999999999996%">          <ul>           <li>请根据<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-apply-right#section1924971516101">通知消息分类标准</a>，申请对应场景化消息权益。不同类型的消息有对应的通知消息分类标准与提醒方式和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-apply-right#section1128516504398">通知消息推送数量管理规则</a>。如果您在申请过程中遇到任何问题，请发送邮件至<a href="mailto:hwpush@huawei.com" target="_blank">hwpush@huawei.com</a>与我们取得联系。</li>           <li>若未开通权益，或开通的权益类型与<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-scenes-send">调用REST API推送场景化消息</a>时，请求体中携带的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-scenariozed-api-request-param#section17371529101117" target="_blank">category</a>字段值不一致，消息将会默认归为<strong>资讯营销类消息</strong>，则会受到“单个应用每日每设备推送数量为2条或5条”的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-apply-right#section1128516504398">频控</a>限制。若超出限制，设备将会收不到该条消息。</li>           <li>调测阶段建议设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-scenariozed-api-request-param#section418321011212" target="_blank">testMessage</a>为true，以防发送成功的消息被<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-msg-freq-control" target="_blank">频控</a>，设备将会收不到该条消息。</li>           <li>若消息被频控，请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-faq-5">频控FAQ</a>进行问题排查。</li>          </ul></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="9.99%">          <p>3</p></td>         <td class="cellrowborder" valign="top" width="29.99%">          <p><strong>客户端</strong>获取Push Token</p></td>         <td class="cellrowborder" valign="top" width="60.019999999999996%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-jwt-token#section33041381718">调用推送服务REST API</a>时，需要设置token参数，对应的参数值参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-get-token#section85173618105">获取Push Token</a>进行获取。注意<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-get-token#section123091617105820">Push Token变化的场景</a>，若设备的Push Token发生变化但服务端调用推送服务REST API时未更新token的值，将会导致设备收不到该条消息。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="9.99%">          <p>4</p></td>         <td class="cellrowborder" valign="top" width="29.99%">          <p><strong>客户端</strong>请求通知授权</p></td>         <td class="cellrowborder" valign="top" width="60.019999999999996%">          <p>为确保应用可正常收到消息，应用发送通知前需调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-notificationmanager#notificationmanagerrequestenablenotification10-1" target="_blank">requestEnableNotification</a>()方法弹出提醒，告知用户需要允许接收通知消息。示例代码参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-send-alert#section17790171616598">开发步骤</a>中第2步。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="9.99%">          <p>5</p></td>         <td class="cellrowborder" valign="top" width="29.99%">          <p><strong>客户端</strong>配置skills标签</p></td>         <td class="cellrowborder" valign="top" width="60.019999999999996%">          <p>为确保点击消息可以正常跳转应用页面，在应用项目中完成skills标签配置，详情请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-send-alert#section697519219136">点击消息动作</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="9.99%">          <p>6</p></td>         <td class="cellrowborder" valign="top" width="29.99%">          <p><strong>服务端</strong>基于服务账号生成鉴权令牌</p></td>         <td class="cellrowborder" valign="top" width="60.019999999999996%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-jwt-token#section33041381718">调用推送服务REST API</a>推送场景化消息时，请求头需设置Authorization参数，请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-jwt-token">基于服务账号生成鉴权令牌</a>章节进行获取。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="9.99%">          <p>7</p></td>         <td class="cellrowborder" valign="top" width="29.99%">          <p><strong>服务端</strong><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-scenes-send">调用REST API推送场景化消息</a></p></td>         <td class="cellrowborder" valign="top" width="60.019999999999996%">          <p>应用服务端参考HarmonyOS NEXT版本<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-scenariozed-api-request-struct" target="_blank">请求体结构说明</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-scenariozed-api-request-param" target="_blank">请求体参数说明</a>发送REST API请求。若请求失败请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-scenariozed-api-response" target="_blank">响应参数</a>进行问题排查，若请求成功但设备未收到消息请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-faq-2">FAQ</a>进行问题排查。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="9.99%">          <p>8</p></td>         <td class="cellrowborder" valign="top" width="29.99%">          <p>（可选）开发消息回执</p></td>         <td class="cellrowborder" valign="top" width="60.019999999999996%">          <p>Push服务端会将消息送达状态以回执消息形式发送给您的应用回执服务端，方便您获取消息下达端侧后的状态，定位问题。详情请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-msg-receipt">开发消息回执</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="9.99%">          <p>9</p></td>         <td class="cellrowborder" valign="top" width="29.99%">          <p>（可选）<strong>客户端</strong>收到并处理消息</p></td>         <td class="cellrowborder" valign="top" width="60.019999999999996%">          <p>通过服务端请求传参和客户端的数据获取，可以进行服务端和客户端的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-send-alert#section108252081117">数据传递</a>。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section10437144191411">（可选）其他消息类型<i class="anchor-icon anchor-icon-link" anchorid="section10437144191411" tips="复制节点链接"></i></h2>          <p>Push Kit支持的所有消息类型及使用场景可以参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-kit-introduction#section121512516176">推送消息类型</a>。</p>     <p>如通过应用内通话消息实现音视频通话，通过通知扩展消息实现语音播报（Push Kit会将通知消息内容传递给通知扩展进程，您可在该进程中自行完成语音播报业务处理），通过后台消息实现配置更新等。</p>     <ul>      <li>部分场景化消息类型需要您申请特殊权益才能正常发送，详情请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-apply-right#section1937015602710">场景化消息权益简介</a>。</li>      <li>权益申请通过后，请参考对应消息类型的开发指南章节进行开发。</li>     </ul>     <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content">       <p>如果您的项目之前已经基于HarmonyOS 3.x/4.x的系统接入过推送服务，现在需要给HarmonyOS Next/5.x及之后的系统版本推送通知，客户端和服务端仍然需要按照上述开发流程重新进行开发。</p>      </div></div></div>    </div>   </div>   <div></div></div>