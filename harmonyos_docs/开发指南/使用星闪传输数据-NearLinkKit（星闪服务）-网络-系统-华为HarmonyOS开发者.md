<h1 _ngcontent-hqq-c119="" class="doc-title ng-star-inserted" title="使用星闪传输数据"> 使用星闪传输数据 </h1>

<div _ngcontent-hqq-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>提供星闪数传相关的端口通道建立和数据传输等功能，同一设备可以同时承担数据发送端和接收端的角色。</p>    <div class="tiledSection">     <h2 id="section874625817512">场景介绍<i class="anchor-icon anchor-icon-link" anchorid="section874625817512" tips="复制节点链接"></i></h2>          <p>从5.1.0(18)开始支持星闪数据传输，包括端口注册、建立连接、读写数据等能力。</p>     <p>星闪设备间已建立起逻辑链路基础上，支持应用基于Nearlink技术进行设备间的数据传输。</p>     <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content">       <p>1. 数据传输通道不保证链路加密。如需加密数传，需先进行配对流程，通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-remote-device#section65252361113" target="_blank">startPairing</a>接口发起。</p>       <p>2. 链路是否加密可通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-remote-device#section945162120309" target="_blank">getAcbState</a>接口查询，ENCRYPTED状态表示链路已加密。</p>      </div></div></div>    </div>    <div class="tiledSection">     <h2 id="section11948101511812">接口说明<i class="anchor-icon anchor-icon-link" anchorid="section11948101511812" tips="复制节点链接"></i></h2>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.1" valign="top" width="68.19%">          <p>接口名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.2" valign="top" width="31.81%">          <p>描述</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="68.19%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-data-transfer-api#section19932155019" target="_blank">createPort</a>(uuid: string): void</p></td>         <td class="cellrowborder" valign="top" width="31.81%">          <p>注册端口服务。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="68.19%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-data-transfer-api#section1047122612211" target="_blank">connect</a>(params: ConnectionParams): Promise&lt;void&gt;</p></td>         <td class="cellrowborder" valign="top" width="31.81%">          <p>连接远端设备，建立端口通道。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="68.19%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-data-transfer-api#section5484100194119" target="_blank">writeData</a>(params: DataParams): Promise&lt;void&gt;</p></td>         <td class="cellrowborder" valign="top" width="31.81%">          <p>通过设备地址和UUID向远端设备发数据。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="68.19%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-data-transfer-api#section1259823863112" target="_blank">on</a>(type: 'connectionStateChanged', callback: Callback&lt;ConnectionResult&gt;): void</p></td>         <td class="cellrowborder" valign="top" width="31.81%">          <p>订阅端口通道连接状态变更事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="68.19%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-data-transfer-api#section5547151720408" target="_blank">on</a>(type: 'readData', callback: Callback&lt;DataParams&gt;): void</p></td>         <td class="cellrowborder" valign="top" width="31.81%">          <p>订阅端口通道数据接收事件。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section10885122911213">开发步骤<i class="anchor-icon anchor-icon-link" anchorid="section10885122911213" tips="复制节点链接"></i></h2>          <ol>      <li><span>导入相关模块。</span>       <p></p>       <div _ngcontent-hqq-c106="" class="highlight-div"><div _ngcontent-hqq-c106="" class="highlight-div-header"><div _ngcontent-hqq-c106="" class="highlight-div-header-left"><div _ngcontent-hqq-c106="" class="handle-button expand-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hqq-c106="" class="highlight-div-header-right"><div _ngcontent-hqq-c106="" class="handle-button ai-button"></div><div _ngcontent-hqq-c106="" class="handle-button line-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hqq-c106="" class="handle-button theme-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hqq-c106="" class="handle-button copy-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hqq-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { dataTransfer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { remoteDevice } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li></ol></pre></div></div>       <p></p></li>      <li><span>与远端设备配对加密（可选，如需加密数传，则需执行此步骤）。该步骤执行后，将依据本端与远端设备的输入输出能力标识弹出不同类型的弹窗，需使用者进一步确认。目前支持免输入配对弹窗、数字比较弹窗与通行码鉴权弹窗。</span>       <p></p>       <div _ngcontent-hqq-c106="" class="highlight-div"><div _ngcontent-hqq-c106="" class="highlight-div-header"><div _ngcontent-hqq-c106="" class="highlight-div-header-left"><div _ngcontent-hqq-c106="" class="handle-button expand-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hqq-c106="" class="highlight-div-header-right"><div _ngcontent-hqq-c106="" class="handle-button ai-button"></div><div _ngcontent-hqq-c106="" class="handle-button line-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hqq-c106="" class="handle-button theme-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hqq-c106="" class="handle-button copy-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hqq-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">addr</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'00:11:22:33:AA:FF'</span>; <span class="hljs-comment">// 扫描获取到的远端设备地址</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">device</span>: remoteDevice.<span class="hljs-property">RemoteDevice</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  device = remoteDevice.<span class="hljs-title function_">createRemoteDevice</span>(addr);</li><li>  device.<span class="hljs-title function_">startPairing</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">()=&gt;</span>{</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'start pairing success'</span>);</li><li>  }).<span class="hljs-property">catch</span> (<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + err.<span class="hljs-property">message</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>       <p></p></li>      <li id="li1311118434818"><span>注册端口通道，发送端和接收端均需注册，并需保证发送端和接收端UUID相同。</span>       <p></p>       <div _ngcontent-hqq-c106="" class="highlight-div"><div _ngcontent-hqq-c106="" class="highlight-div-header"><div _ngcontent-hqq-c106="" class="highlight-div-header-left"><div _ngcontent-hqq-c106="" class="handle-button expand-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hqq-c106="" class="highlight-div-header-right"><div _ngcontent-hqq-c106="" class="handle-button ai-button"></div><div _ngcontent-hqq-c106="" class="handle-button line-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hqq-c106="" class="handle-button theme-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hqq-c106="" class="handle-button copy-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hqq-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">serviceUuid</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'FFFFFFFF-FC70-11EA-B720-000078951234'</span>; <span class="hljs-comment">// 星闪服务UUID，此处举例为自定义服务UUID</span></li><li><span class="hljs-keyword">try</span> {</li><li>  dataTransfer.<span class="hljs-title function_">createPort</span>(serviceUuid);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'create port success'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>       <p></p></li>      <li><span>订阅端口通道连接状态变更事件。</span>       <p></p>       <div _ngcontent-hqq-c106="" class="highlight-div"><div _ngcontent-hqq-c106="" class="highlight-div-header"><div _ngcontent-hqq-c106="" class="highlight-div-header-left"><div _ngcontent-hqq-c106="" class="handle-button expand-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hqq-c106="" class="highlight-div-header-right"><div _ngcontent-hqq-c106="" class="handle-button ai-button"></div><div _ngcontent-hqq-c106="" class="handle-button line-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hqq-c106="" class="handle-button theme-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hqq-c106="" class="handle-button copy-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hqq-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onReceiveConnectionStateEvent</span>:<span class="hljs-function">(<span class="hljs-params">data: dataTransfer.ConnectionResult</span>) =&gt;</span> <span class="hljs-keyword">void</span> = <span class="hljs-function">(<span class="hljs-params">data: dataTransfer.ConnectionResult</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  dataTransfer.<span class="hljs-title function_">on</span>(<span class="hljs-string">'connectionStateChanged'</span>, onReceiveConnectionStateEvent);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>       <p></p></li>      <li><span>订阅端口通道数据接收事件。</span>       <p></p>       <div _ngcontent-hqq-c106="" class="highlight-div"><div _ngcontent-hqq-c106="" class="highlight-div-header"><div _ngcontent-hqq-c106="" class="highlight-div-header-left"><div _ngcontent-hqq-c106="" class="handle-button expand-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hqq-c106="" class="highlight-div-header-right"><div _ngcontent-hqq-c106="" class="handle-button ai-button"></div><div _ngcontent-hqq-c106="" class="handle-button line-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hqq-c106="" class="handle-button theme-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hqq-c106="" class="handle-button copy-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hqq-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onReceiveReadDataEvent</span>:<span class="hljs-function">(<span class="hljs-params">data: dataTransfer.DataParams</span>) =&gt;</span> <span class="hljs-keyword">void</span> = <span class="hljs-function">(<span class="hljs-params">data: dataTransfer.DataParams</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  dataTransfer.<span class="hljs-title function_">on</span>(<span class="hljs-string">'readData'</span>, onReceiveReadDataEvent);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>       <p></p></li>      <li><span>连接远端设备，建立端口通道。其中UUID要与<a href="/consumer/cn/doc/harmonyos-guides/nearlink-start-data-transfer#li1311118434818">步骤3</a>中注册的UUID相同。</span>       <p></p>       <div _ngcontent-hqq-c106="" class="highlight-div"><div _ngcontent-hqq-c106="" class="highlight-div-header"><div _ngcontent-hqq-c106="" class="highlight-div-header-left"><div _ngcontent-hqq-c106="" class="handle-button expand-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hqq-c106="" class="highlight-div-header-right"><div _ngcontent-hqq-c106="" class="handle-button ai-button"></div><div _ngcontent-hqq-c106="" class="handle-button line-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hqq-c106="" class="handle-button theme-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hqq-c106="" class="handle-button copy-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hqq-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 构造端口通道建立的参数</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">connectionParams</span>:dataTransfer.<span class="hljs-property">ConnectionParams</span> = {</li><li>  <span class="hljs-attr">address</span>: addr, <span class="hljs-comment">// 扫描获取到的远端设备地址</span></li><li>  <span class="hljs-attr">uuid</span>: serviceUuid, <span class="hljs-comment">// 星闪服务UUID</span></li><li>  <span class="hljs-attr">mtu</span>: <span class="hljs-number">1024</span>, <span class="hljs-comment">// 期望发送数据包的字节大小,可选参数</span></li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>  dataTransfer.<span class="hljs-title function_">connect</span>(connectionParams).<span class="hljs-title function_">then</span>(<span class="hljs-function">()=&gt;</span>{</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'connect success'</span>);</li><li>  }).<span class="hljs-property">catch</span> (<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + err.<span class="hljs-property">message</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>       <p></p></li>      <li><span>通过设备地址和UUID向远端设备发数据。其中UUID要与<a href="/consumer/cn/doc/harmonyos-guides/nearlink-start-data-transfer#li1311118434818">步骤3</a>中注册的UUID相同。</span>       <p></p>       <div _ngcontent-hqq-c106="" class="highlight-div"><div _ngcontent-hqq-c106="" class="highlight-div-header"><div _ngcontent-hqq-c106="" class="highlight-div-header-left"><div _ngcontent-hqq-c106="" class="handle-button expand-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hqq-c106="" class="highlight-div-header-right"><div _ngcontent-hqq-c106="" class="handle-button ai-button"></div><div _ngcontent-hqq-c106="" class="handle-button line-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hqq-c106="" class="handle-button theme-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hqq-c106="" class="handle-button copy-button"><div _ngcontent-hqq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hqq-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 构造发送数据参数</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">transferValueBuffer</span>: <span class="hljs-title class_">Uint8Array</span> = <span class="hljs-variable">new</span> <span class="hljs-title function_">Uint8Array</span>(<span class="hljs-number">4</span>);</li><li><span class="hljs-variable">transferValueBuffer</span>[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;</li><li><span class="hljs-variable">transferValueBuffer</span>[<span class="hljs-number">1</span>] = <span class="hljs-number">2</span>;</li><li><span class="hljs-variable">transferValueBuffer</span>[<span class="hljs-number">2</span>] = <span class="hljs-number">3</span>;</li><li><span class="hljs-variable">transferValueBuffer</span>[<span class="hljs-number">3</span>] = <span class="hljs-number">4</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">dataParams</span>: <span class="hljs-title class_">dataTransfer</span>.<span class="hljs-title class_">DataParams</span> = {</li><li>  <span class="hljs-variable">address</span>: <span class="hljs-title class_">addr</span>, <span class="hljs-comment">// 星闪远端设备地址</span></li><li>  <span class="hljs-variable">uuid</span>: <span class="hljs-title class_">serviceUuid</span>, <span class="hljs-comment">// 星闪服务UUID</span></li><li>  <span class="hljs-variable">data</span>: <span class="hljs-title class_">transferValueBuffer</span>.<span class="hljs-title class_">buffer</span>, <span class="hljs-comment">// 星闪设备间传输的数据</span></li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-variable">dataTransfer</span>.<span class="hljs-title function_">writeData</span>(<span class="hljs-variable">dataParams</span>).<span class="hljs-title function_">then</span>(() =&gt; {</li><li>    <span class="hljs-variable">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'writeData success'</span>);</li><li>  }).<span class="hljs-keyword">catch</span> ((<span class="hljs-variable">err</span>: <span class="hljs-title class_">BusinessError</span>) =&gt; {</li><li>    <span class="hljs-variable">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + <span class="hljs-variable">err</span>.<span class="hljs-variable">code</span> + <span class="hljs-string">', errMessage: '</span> + <span class="hljs-variable">err</span>.<span class="hljs-variable">message</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (<span class="hljs-variable">err</span>) {</li><li>  <span class="hljs-variable">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (<span class="hljs-variable">err</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">BusinessError</span>).<span class="hljs-variable">code</span> + <span class="hljs-string">', errMessage: '</span> + (<span class="hljs-variable">err</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">BusinessError</span>).<span class="hljs-variable">message</span>);</li><li>}</li></ol></pre></div></div>       <p></p></li>     </ol>    </div>    <p></p>   </div>   <div></div></div>