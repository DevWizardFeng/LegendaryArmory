<h1 _ngcontent-cqh-c119="" class="doc-title ng-star-inserted" title="关于通知消息被频控的问题"> 关于通知消息被频控的问题 </h1>

<div _ngcontent-cqh-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>为了给用户提供更好的消息通知体验，营造清朗网络空间，华为推送服务设置了多条频控规则。若消息超出规则限制，超出的消息将会被<strong>丢弃</strong>，直到<strong>次日恢复</strong>。</p>    <div class="tiledSection">     <h2 id="section12348759191218">通知消息被频控的可能原因<i class="anchor-icon anchor-icon-link" anchorid="section12348759191218" tips="复制节点链接"></i></h2>          <p><span><img originheight="594" originwidth="1114" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114630.98159892553269209826586275804039:50001231000000:2800:292F9FB965429347225C757F6C8CA75F43C72FF8303503F594F968DA53334946.png" width="920" height="490.556552962298"></span></p>     <p>具体规则如下：</p>    </div>    <p><strong>调测阶段</strong>，每个项目每个自然日最多可推送<span>1000</span>条测试消息（非设备级，所有设备共用1000条），且不受场景化消息频控限制（即不区分通知消息类别、不区分场景化消息类别）。发送测试消息需设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-scenariozed-api-request-param#section418321011212" target="_blank">testMessage</a>为true。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>若消息数量超出<span>1000</span>条频次限制，推送服务将向您的回执服务器返回<strong>256结果码</strong>。（<span>1000</span>条为REST API请求成功总数，非成功到达端侧的消息总数）</p>     </div></div></div>    <p><strong>正式发布阶段</strong>，系统会根据现网使用场景和流量进行管控，不合理的使用场景系统会进行频控，并受<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-msg-freq-control#section551882820368" target="_blank">场景化消息频控</a>限制，具体频控规则见下表：</p>    <div class="tablenoborder">     <div class="tbBox"><table class="layoutFixed idpTab">      <thead>       <tr>        <th align="left" class="cellrowborder" id="mcps1.3.6.1.3.1.1" valign="top" width="29.42%">         <p>场景</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.6.1.3.1.2" valign="top" width="70.58%">         <p>频控规则</p></th>       </tr>      </thead>             <tbody><tr>        <td class="cellrowborder" valign="top" width="29.42%">         <p>通知消息</p></td>        <td class="cellrowborder" valign="top" width="70.58%">         <p><strong>若您未申请通知消息自分类权益，则推送的通知消息默认为资讯营销类（category取值为MARKETING）消息</strong>，根据<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-apply-right#section1128516504398">通知消息推送数量管理规则</a>限制单设备单应用下每个自然日，限制推送数量为2条或5条。若您仅需发送资讯营销类消息，则无需申请通知消息自分类权益；若您需要发送服务与通讯类消息，需要先开通<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-apply-right#section15173623155816" target="_blank">自分类权益</a><span style="color: rgb(36,39,40);">。</span></p></td>       </tr>       <tr>        <td class="cellrowborder" valign="top" width="29.42%">         <p>卡片刷新消息</p></td>        <td class="cellrowborder" valign="top" width="70.58%">         <p>应用每个设备单个卡片已上架为2条/天，未上架为5条/天。</p></td>       </tr>       <tr>        <td class="cellrowborder" valign="top" width="29.42%">         <p>实况窗消息</p></td>        <td class="cellrowborder" valign="top" width="70.58%">         <p>单个实况窗消息每个设备每5分钟最多更新10次，每小时最多更新60次。</p>         <p>出行打车与赛事比分场景，5分钟最多更新30次，每小时最多更新180次。</p></td>       </tr>           </tbody></table></div>    </div>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>系统会根据现网使用场景和流量进行管控，不合理的使用场景系统会进行频控，推送服务将向您的回执服务器返回<strong>102结果码</strong>。</p>      <p>若场景化消息超出对应的频控规则限制，推送服务将向您的回执服务器返回<strong>256结果码</strong>。</p>     </div></div></div>    <p>频控规则详情请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-msg-freq-control" target="_blank">消息频控</a>，回执状态码详情请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-msg-receipt#section19100519195717" target="_blank">回执状态码</a>。</p>    <div class="tiledSection">     <h2 id="section1435621112346">使用REST API接口单次推送消息可携带的Push Token数量是多少？<i class="anchor-icon anchor-icon-link" anchorid="section1435621112346" tips="复制节点链接"></i></h2>          <p>单次推送消息可携带的Push Token最多1000个，因此Push Kit服务器每次最多根据Token发送1000条消息。如果大于1000条，请求会返回错误码<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-scenariozed-api-response#section199581758926" target="_blank">80300010</a> ，建议开发者分批发送。</p>    </div>    <div class="tiledSection">     <h2 id="section5868745193616">推送消息最大为4KB，这是否意味着给1000个Token推送消息将超过此限制？<i class="anchor-icon anchor-icon-link" anchorid="section5868745193616" tips="复制节点链接"></i></h2>          <p>消息体大小限制不包括Token。</p>    </div>   </div>   <div></div></div>