<h1 _ngcontent-jtn-c119="" class="doc-title ng-star-inserted" title="内存分析数据筛选"> 内存分析数据筛选 </h1>

<div _ngcontent-jtn-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000001481306354"><p id="ZH-CN_TOPIC_0000002510294491__p1973735718317">Allocation分析过程中提供多种数据筛选方式，方便开发者缩小分析范围，更精确地定位问题所在。</p> <div class="tiledSection"><h2 id="section999814302514">通过内存状态筛选<i class="anchor-icon anchor-icon-link" anchorid="section999814302514" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002510294491__p141823356617">在Allocation分析过程中，对“Native Allocation”泳道的内存状态信息进行过滤，便于开发者定位内存问题。</p> <p id="ZH-CN_TOPIC_0000002510294491__p41837350612">在“Native Allocation”泳道的“Detail”区域左下方的下拉框中，可以选择过滤内存状态：</p> <ul id="ZH-CN_TOPIC_0000002510294491__ul182101939171017"><li id="li821017394106">All Allocations：详情区域展示当前框选时间段内的所有内存分配信息。</li><li id="li1238425016101">Created &amp; Existing：详情区域展示当前框选时间段内分配未释放的内存。</li><li id="li4840121131116">Created &amp; Released：详情区域展示当前框选时间段内分配已释放的内存。</li></ul> <p id="ZH-CN_TOPIC_0000002510294491__p62611015164112"><span><img height="400.47630000000004" originheight="685" originwidth="1543" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104935.08550296766143189628449601232875:50001231000000:2800:E24A5A5168D2D4AD6D05E9E12C872E73E6565596CE805B28F4D97943319733F5.png" title="点击放大" width="897.75"></span></p> </div> <div class="tiledSection"><h2 id="section15922877162">通过统计方式筛选<i class="anchor-icon anchor-icon-link" anchorid="section15922877162" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002510294491__p49221579164">在“Native Allocation”泳道的“Statistics”页签中，可以打开“Native Size”选择统计方式以过滤统计数据：</p> <ul id="ZH-CN_TOPIC_0000002510294491__ul20922157141614"><li id="li492213791617">Native Size：详情区域按照对象的内存进行展示。</li><li id="li19224781619">Native Library：详情区域按照对象的so库进行展示。</li></ul> <p id="ZH-CN_TOPIC_0000002510294491__p179405693711"><span><img height="397.4572" originheight="682" originwidth="1548" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104935.90703798102519854499907625184036:50001231000000:2800:6ED3EB5593CDECDDB3ABA9DB944CDD79F9A98B6633FB4C957FB39EB937C8B659.png" title="点击放大" width="897.75"></span></p> </div> <div class="tiledSection"><h2 id="section1484744142915">通过so库名筛选<i class="anchor-icon anchor-icon-link" anchorid="section1484744142915" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002510294491__p161175437310">非统计模式下，在“Native Allocation”泳道的“Allocations List”页签中，可以单击“Click to choose”选择要筛选的so库以过滤出与目标so库相关的数据：</p> <p id="ZH-CN_TOPIC_0000002510294491__p98895614453"><span><img height="397.9759" originheight="682" originwidth="1546" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104935.57877255929742788741235337512626:50001231000000:2800:682F2C8CE1B20317B876177A0197E9A1FB5BC2CF74E29226A94FF50C0BED129B.png" title="点击放大" width="897.75"></span></p> </div> <div class="tiledSection"><h2 id="section19701413142916">通过搜索筛选<i class="anchor-icon anchor-icon-link" anchorid="section19701413142916" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002510294491__p3970131332916">在<strong>Native Allocation</strong>泳道的页签中， 根据界面提示信息输入需要搜索的项目，可定位到相关内容位置，使用搜索框的&lt;、&gt;按键可依次显示搜索结果的详细内容。</p> <p id="ZH-CN_TOPIC_0000002510294491__p113121032162311"><span><img height="396.3533" originheight="677" originwidth="1541" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104935.85038861615215258546617139272656:50001231000000:2800:FB1054AD4170B6C55FDF3BADBCB8F0C6858988F15AD53751040824A34CB6BDCA.png" title="点击放大" width="897.75"></span></p> </div> <div class="tiledSection"><h2 id="section21212399219">筛选内存分配堆栈<i class="anchor-icon anchor-icon-link" anchorid="section21212399219" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002510294491__p3583105102111">在Native Allocation泳道的Call Trees页签中，可以通过底部的“Call Trees”和“Constraints”选择框来筛选和过滤内存分配栈。</p> <p id="ZH-CN_TOPIC_0000002510294491__p106061410182713">Call Trees选择框包含两种过滤条件：</p> <ul id="ZH-CN_TOPIC_0000002510294491__ul748182912543"><li id="li1248122911548">Separate by Allocated Size：在内存分配栈完全相同的情况下，会按照每次分配栈申请的内存大小将栈分开；</li><li id="li13488296541">Hide System Libraries：隐藏内存分配栈中的系统堆栈。</li></ul> <p id="ZH-CN_TOPIC_0000002510294491__p1154691655919"><span><img height="398.3616" originheight="684" originwidth="1549" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104935.27250588930056055730142755386747:50001231000000:2800:92093124401B45B595C7E6B850F6CA6699116F887FEB6F58D9915BA55861AD79.png" title="点击放大" width="897.75"></span></p> <p id="ZH-CN_TOPIC_0000002510294491__p475363653013">Constraints选择框也包含了两种过滤条件：</p> <ul id="ZH-CN_TOPIC_0000002510294491__ul185961832155414"><li id="li9597153213546">Count：根据指定的内存申请次数过滤内存分配栈信息；</li><li id="li75971232175419">Bytes：根据指定的内存申请大小过滤内存分配栈信息。</li></ul> <p id="ZH-CN_TOPIC_0000002510294491__p1449132233210"><span><img height="397.7764" originheight="683" originwidth="1549" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104935.29678461998521353800860920917682:50001231000000:2800:5F618528FE5D0AE6005134786434B87FFA6AFE44D9FB5CED4B11AC93C5188B0E.png" title="点击放大" width="897.75"></span></p> <p id="ZH-CN_TOPIC_0000002510294491__p76723611329">在Call Trees页签的More区域，单击“Heaviest Stack”旁的隐藏按钮可以单独控制是否显示More区域最大内存分配栈中的系统堆栈。</p> <p id="ZH-CN_TOPIC_0000002510294491__p19307720363"><span><img height="396.0474" originheight="680" originwidth="1549" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104935.68241983792986482526235999439648:50001231000000:2800:9909EFCA24E33ED2F24D559872F19F1B5C5785F658566A6047854C2A6E320960.png" title="点击放大" width="897.75"></span></p> <p id="ZH-CN_TOPIC_0000002510294491__p144661459087">在Call Trees页签，可以通过底部的“Flame Chart”切换到火焰图视图。</p> <p id="ZH-CN_TOPIC_0000002510294491__p52201329988"><span><img height="400.72900000000004" originheight="689" originwidth="1551" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104935.54694634006912338866673858507947:50001231000000:2800:14C04B31FF530D8FBFA5F3799FC9A2C4D552A73B8EAB0B4D44620B9DBFD2D6F2.png" title="点击放大" width="897.75"></span></p> </div> </div> <div></div></div>