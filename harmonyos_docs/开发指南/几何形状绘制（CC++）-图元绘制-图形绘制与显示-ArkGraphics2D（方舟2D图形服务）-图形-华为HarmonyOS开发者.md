<h1 _ngcontent-cpn-c119="" class="doc-title ng-star-inserted" title="几何形状绘制（C/C++）"> 几何形状绘制（C/C++） </h1>

<div _ngcontent-cpn-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="场景介绍">场景介绍<i class="anchor-icon anchor-icon-link" anchorid="场景介绍" tips="复制节点链接"></i></h2>          <p>当前支持绘制的几何形状，主要包括以下几种：</p>     <ul>      <li>       <p>点</p></li>      <li>       <p>圆弧</p></li>      <li>       <p>圆</p></li>      <li>       <p>路径</p></li>      <li>       <p>区域</p></li>      <li>       <p>矩形</p></li>      <li>       <p>圆角矩形</p></li>     </ul>     <p>大部分的几何形状均可以选择使用画笔或者使用画刷来实现绘制，其中点的绘制只能使用画笔。</p>    </div>    <div class="tiledSection">     <h2 id="接口说明">接口说明<i class="anchor-icon anchor-icon-link" anchorid="接口说明" tips="复制节点链接"></i></h2>          <p>几何形状绘制的常用接口如下表所示，详细的使用和参数说明请见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-canvas-h" target="_blank">drawing_canvas.h</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.2.3.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.2.3.1.3.1.2" valign="top" width="50%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">OH_Drawing_Point* OH_Drawing_PointCreate (float x, float y)</td>         <td class="cellrowborder" valign="top" width="50%">用于创建一个坐标点对象。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">OH_Drawing_ErrorCode OH_Drawing_CanvasDrawPoint (OH_Drawing_Canvas *canvas, const OH_Drawing_Point2D *point)</td>         <td class="cellrowborder" valign="top" width="50%">用于画一个点。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">OH_Drawing_Rect* OH_Drawing_RectCreate (float left, float top, float right, float bottom)</td>         <td class="cellrowborder" valign="top" width="50%">用于创建一个矩形对象。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">void OH_Drawing_CanvasDrawArc (OH_Drawing_Canvas*, const OH_Drawing_Rect*, float startAngle, float sweepAngle)</td>         <td class="cellrowborder" valign="top" width="50%">用于画一个弧。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">void OH_Drawing_CanvasDrawCircle (OH_Drawing_Canvas*, const OH_Drawing_Point*, float radius)</td>         <td class="cellrowborder" valign="top" width="50%">用于画一个圆形。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">OH_Drawing_Path* OH_Drawing_PathCreate (void)</td>         <td class="cellrowborder" valign="top" width="50%">用于创建一个路径对象。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">void OH_Drawing_CanvasDrawPath (OH_Drawing_Canvas*, const OH_Drawing_Path*)</td>         <td class="cellrowborder" valign="top" width="50%">用于画一个自定义路径。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">OH_Drawing_Region* OH_Drawing_RegionCreate (void)</td>         <td class="cellrowborder" valign="top" width="50%">用于创建一个区域对象。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">void OH_Drawing_CanvasDrawRegion (OH_Drawing_Canvas*, const OH_Drawing_Region*)</td>         <td class="cellrowborder" valign="top" width="50%">用于画一块区域。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">void OH_Drawing_CanvasDrawRect (OH_Drawing_Canvas*, const OH_Drawing_Rect*)</td>         <td class="cellrowborder" valign="top" width="50%">用于画一个矩形。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">OH_Drawing_RoundRect* OH_Drawing_RoundRectCreate (const OH_Drawing_Rect*, float xRad, float yRad)</td>         <td class="cellrowborder" valign="top" width="50%">用于创建一个圆角矩形对象。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">void OH_Drawing_CanvasDrawRoundRect (OH_Drawing_Canvas*, const OH_Drawing_RoundRect*)</td>         <td class="cellrowborder" valign="top" width="50%">用于画一个圆角矩形。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="绘制点">绘制点<i class="anchor-icon anchor-icon-link" anchorid="绘制点" tips="复制节点链接"></i></h2>          <p>点只能基于画笔在画布上进行绘制，通过使用OH_Drawing_CanvasDrawPoint()接口绘制点。接口接受两个参数，一个是画布对象Canvas，请确保已创建或获取得到画布Canvas，具体可见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/canvas-get-result-draw-c">画布的获取与绘制结果的显示（C/C++）</a>；另一个是要绘制的点的指针。</p>     <p>简单示例如下：</p>     <div _ngcontent-cpn-c106="" class="highlight-div"><div _ngcontent-cpn-c106="" class="highlight-div-header"><div _ngcontent-cpn-c106="" class="highlight-div-header-left"><div _ngcontent-cpn-c106="" class="handle-button expand-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cpn-c106="" class="highlight-div-header-right"><div _ngcontent-cpn-c106="" class="handle-button ai-button"></div><div _ngcontent-cpn-c106="" class="handle-button line-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cpn-c106="" class="handle-button theme-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cpn-c106="" class="handle-button copy-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cpn-c106="" class="highlight-scroll-div"><pre class="prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 创建画笔对象</span></li><li>OH_Drawing_Pen* pen = OH_Drawing_PenCreate();</li><li><span class="hljs-comment">// 设置画笔颜色</span></li><li>OH_Drawing_PenSetColor(pen, OH_Drawing_ColorSetArgb(<span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>));</li><li><span class="hljs-comment">// 设置画笔线宽</span></li><li>OH_Drawing_PenSetWidth(pen, <span class="hljs-number">40</span>);</li><li><span class="hljs-comment">// 设置画布的画笔</span></li><li>OH_Drawing_CanvasAttachPen(canvas, pen);</li><li><span class="hljs-comment">// 绘制5个点</span></li><li><span class="hljs-type">OH_Drawing_Point2D</span> <span class="hljs-variable">point1</span> <span class="hljs-operator">=</span> {<span class="hljs-number">200.0f</span>, <span class="hljs-number">200.0f</span>};</li><li>OH_Drawing_CanvasDrawPoint(canvas, &amp;point1);</li><li><span class="hljs-type">OH_Drawing_Point2D</span> <span class="hljs-variable">point2</span> <span class="hljs-operator">=</span> {<span class="hljs-number">400.0f</span>, <span class="hljs-number">400.0f</span>};</li><li>OH_Drawing_CanvasDrawPoint(canvas, &amp;point2);</li><li><span class="hljs-type">OH_Drawing_Point2D</span> <span class="hljs-variable">point3</span> <span class="hljs-operator">=</span> {<span class="hljs-number">600.0f</span>, <span class="hljs-number">600.0f</span>};</li><li>OH_Drawing_CanvasDrawPoint(canvas, &amp;point3);</li><li><span class="hljs-type">OH_Drawing_Point2D</span> <span class="hljs-variable">point4</span> <span class="hljs-operator">=</span> {<span class="hljs-number">800.0f</span>, <span class="hljs-number">800.0f</span>};</li><li>OH_Drawing_CanvasDrawPoint(canvas, &amp;point4);</li><li><span class="hljs-type">OH_Drawing_Point2D</span> <span class="hljs-variable">point5</span> <span class="hljs-operator">=</span> {<span class="hljs-number">1000.0f</span>, <span class="hljs-number">1000.0f</span>};</li><li>OH_Drawing_CanvasDrawPoint(canvas, &amp;point5);</li><li><span class="hljs-comment">// 移除画布中的画笔</span></li><li>OH_Drawing_CanvasDetachPen(canvas);</li><li><span class="hljs-comment">// 销毁各类对象</span></li><li>OH_Drawing_PenDestroy(pen);</li></ol></pre></div></div>     <p>效果如下：</p>     <p><span><img originheight="495" originwidth="487" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114410.00494287411803215475475434694837:50001231000000:2800:98A08452B919BCF44223670AEB5586894886ECEDC7C051F57E5F9167070F9D97.png" width="487" height="495"></span></p>    </div>    <div class="tiledSection">     <h2 id="绘制圆弧">绘制圆弧<i class="anchor-icon anchor-icon-link" anchorid="绘制圆弧" tips="复制节点链接"></i></h2>          <p>可以使用画笔或画刷在画布上进行圆弧的绘制，通过使用OH_Drawing_CanvasDrawArc()接口绘制圆弧。使用接口需要传入4个参数，分别如下：</p>     <ul>      <li>       <p>需要画布对象Canvas，请确保已创建或获取得到画布Canvas，具体可见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/canvas-get-result-draw-c">画布的获取与绘制结果的显示（C/C++）</a>。</p></li>      <li>       <p>绘制圆弧还需要一个矩形，会以矩形的边为轮廓进行绘制。</p></li>      <li>       <p>需要一个浮点参数，表示弧形的起始角度。</p></li>      <li>       <p>需要另一个浮点参数，表示弧形的扫描角度。</p></li>     </ul>     <p>此处以使用画笔绘制圆弧为例，简单示例如下：</p>     <div _ngcontent-cpn-c106="" class="highlight-div"><div _ngcontent-cpn-c106="" class="highlight-div-header"><div _ngcontent-cpn-c106="" class="highlight-div-header-left"><div _ngcontent-cpn-c106="" class="handle-button expand-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cpn-c106="" class="highlight-div-header-right"><div _ngcontent-cpn-c106="" class="handle-button ai-button"></div><div _ngcontent-cpn-c106="" class="handle-button line-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cpn-c106="" class="handle-button theme-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cpn-c106="" class="handle-button copy-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cpn-c106="" class="highlight-scroll-div"><pre class="prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 创建画笔对象</span></li><li>OH_Drawing_Pen* pen = <span class="hljs-built_in">OH_Drawing_PenCreate</span>();</li><li><span class="hljs-comment">// 设置画笔描边颜色</span></li><li><span class="hljs-built_in">OH_Drawing_PenSetColor</span>(pen, <span class="hljs-built_in">OH_Drawing_ColorSetArgb</span>(<span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>));</li><li><span class="hljs-comment">// 设置画笔线宽</span></li><li><span class="hljs-built_in">OH_Drawing_PenSetWidth</span>(pen, <span class="hljs-number">20</span>);</li><li><span class="hljs-comment">// 设置画布的画笔</span></li><li><span class="hljs-built_in">OH_Drawing_CanvasAttachPen</span>(canvas, pen);</li><li><span class="hljs-comment">// 创建矩形对象</span></li><li>OH_Drawing_Rect* rect = <span class="hljs-built_in">OH_Drawing_RectCreate</span>(<span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">500</span>, <span class="hljs-number">300</span>);</li><li><span class="hljs-comment">// 基于矩形对象绘制圆弧</span></li><li><span class="hljs-built_in">OH_Drawing_CanvasDrawArc</span>(canvas, rect, <span class="hljs-number">10</span>, <span class="hljs-number">200</span>);</li><li><span class="hljs-comment">// 移除画布中的画笔</span></li><li><span class="hljs-built_in">OH_Drawing_CanvasDetachPen</span>(canvas);</li><li><span class="hljs-comment">// 销毁各类对象</span></li><li><span class="hljs-built_in">OH_Drawing_PenDestroy</span>(pen);</li><li><span class="hljs-built_in">OH_Drawing_RectDestroy</span>(rect);</li></ol></pre></div></div>     <p>效果如下：</p>     <p><span><img originheight="200" originwidth="401" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114410.39806943789553026875686354153542:50001231000000:2800:D370FED663E53072F274C6A33602653881278345C8D5C7EFE5F73E869037221D.png" width="401" height="200"></span></p>    </div>    <div class="tiledSection">     <h2 id="绘制圆">绘制圆<i class="anchor-icon anchor-icon-link" anchorid="绘制圆" tips="复制节点链接"></i></h2>          <p>可以使用画笔或画刷在画布上进行圆的绘制，通过使用OH_Drawing_CanvasDrawCircle()接口绘制圆。使用接口需要传入3个参数，分别如下：</p>     <ul>      <li>       <p>需要画布对象Canvas，请确保已创建或获取得到画布Canvas，具体可见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/canvas-get-result-draw-c">画布的获取与绘制结果的显示（C/C++）</a>。</p></li>      <li>       <p>绘制圆还需要一个指向圆心点对象的指针，会以此点为圆心进行绘制。</p></li>      <li>       <p>最后需要一个浮点参数，表示圆的半径。</p></li>     </ul>     <p>此处以使用画笔绘制圆为例，简单示例如下：</p>     <div _ngcontent-cpn-c106="" class="highlight-div"><div _ngcontent-cpn-c106="" class="highlight-div-header"><div _ngcontent-cpn-c106="" class="highlight-div-header-left"><div _ngcontent-cpn-c106="" class="handle-button expand-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cpn-c106="" class="highlight-div-header-right"><div _ngcontent-cpn-c106="" class="handle-button ai-button"></div><div _ngcontent-cpn-c106="" class="handle-button line-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cpn-c106="" class="handle-button theme-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cpn-c106="" class="handle-button copy-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cpn-c106="" class="highlight-scroll-div"><pre class="prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 创建画笔对象</span></li><li>OH_Drawing_Pen* pen = <span class="hljs-built_in">OH_Drawing_PenCreate</span>();</li><li><span class="hljs-comment">// 设置画笔描边颜色</span></li><li><span class="hljs-built_in">OH_Drawing_PenSetColor</span>(pen, <span class="hljs-built_in">OH_Drawing_ColorSetArgb</span>(<span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>));</li><li><span class="hljs-comment">// 设置画笔线宽</span></li><li><span class="hljs-built_in">OH_Drawing_PenSetWidth</span>(pen, <span class="hljs-number">20</span>);</li><li><span class="hljs-comment">// 设置画布的画笔</span></li><li><span class="hljs-built_in">OH_Drawing_CanvasAttachPen</span>(canvas, pen);</li><li><span class="hljs-comment">// 创建圆心点</span></li><li>OH_Drawing_Point *point = <span class="hljs-built_in">OH_Drawing_PointCreate</span>(<span class="hljs-number">700</span>, <span class="hljs-number">700</span>);</li><li><span class="hljs-comment">// 基于圆心点和半径在画布上绘制圆</span></li><li><span class="hljs-built_in">OH_Drawing_CanvasDrawCircle</span>(canvas, point, <span class="hljs-number">600</span>);</li><li><span class="hljs-comment">// 移除画布中的画笔</span></li><li><span class="hljs-built_in">OH_Drawing_CanvasDetachPen</span>(canvas);</li><li><span class="hljs-comment">// 销毁各类对象</span></li><li><span class="hljs-built_in">OH_Drawing_PenDestroy</span>(pen);</li><li><span class="hljs-built_in">OH_Drawing_PointDestroy</span>(point);</li></ol></pre></div></div>     <p>效果如下：</p>     <p><span><img originheight="493" originwidth="507" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114410.40476149290916958324644113391744:50001231000000:2800:B9556500F9C2708F62A26638D9D1B9C5A5599DFA2390F0497BF3997DEEE3887C.png" width="507" height="493"></span></p>    </div>    <div class="tiledSection">     <h2 id="绘制路径">绘制路径<i class="anchor-icon anchor-icon-link" anchorid="绘制路径" tips="复制节点链接"></i></h2>          <p>可以使用画笔或画刷在画布上进行路径的绘制，路径具体可以用于绘制直线、弧线、贝塞尔曲线等，也可以通过路径组合的方式组成其他复杂的形状。</p>     <p>绘制路径的相关接口和实现如下，详细的使用和参数说明请见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-path-h" target="_blank">drawing_path</a>。常用的接口如下：</p>     <ol>      <li>       <p>使用OH_Drawing_PathCreate()接口可以创建一个路径对象。</p></li>      <li>       <p>使用OH_Drawing_PathMoveTo()接口可以设置自定义路径的起始点位置。</p></li>      <li>       <p>使用OH_Drawing_PathLineTo()接口可以添加一条从起始点或路径的最后点位置（若路径没有内容则默认为(0,0)）到目标点位置的线段。</p></li>     </ol>     <p>此处以使用画笔和画刷绘制五角星为例，示例如下：</p>     <div _ngcontent-cpn-c106="" class="highlight-div"><div _ngcontent-cpn-c106="" class="highlight-div-header"><div _ngcontent-cpn-c106="" class="highlight-div-header-left"><div _ngcontent-cpn-c106="" class="handle-button expand-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cpn-c106="" class="highlight-div-header-right"><div _ngcontent-cpn-c106="" class="handle-button ai-button"></div><div _ngcontent-cpn-c106="" class="handle-button line-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cpn-c106="" class="handle-button theme-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cpn-c106="" class="handle-button copy-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cpn-c106="" class="highlight-scroll-div"><pre class="prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 创建画笔对象</span></li><li><span class="hljs-variable">OH_Drawing_Pen</span>* <span class="hljs-variable">pen</span> = <span class="hljs-title function_">OH_Drawing_PenCreate</span>();</li><li><span class="hljs-comment">// 设置画笔描边颜色</span></li><li><span class="hljs-title function_">OH_Drawing_PenSetColor</span>(<span class="hljs-variable">pen</span>, <span class="hljs-title function_">OH_Drawing_ColorSetArgb</span>(<span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>));</li><li><span class="hljs-comment">// 设置画笔线宽</span></li><li><span class="hljs-title function_">OH_Drawing_PenSetWidth</span>(<span class="hljs-variable">pen</span>, <span class="hljs-number">10</span>);</li><li><span class="hljs-comment">// 设置 画笔转角样式</span></li><li><span class="hljs-title function_">OH_Drawing_PenSetJoin</span>(<span class="hljs-variable">pen</span>, <span class="hljs-variable">LINE_ROUND_JOIN</span>);</li><li><span class="hljs-comment">// 设置画布中的画笔</span></li><li><span class="hljs-title function_">OH_Drawing_CanvasAttachPen</span>(<span class="hljs-variable">canvas</span>, <span class="hljs-variable">pen</span>);</li><li><span class="hljs-comment">// 创建画刷，此例对闭合路径进行了颜色填充，所以需要使用画刷</span></li><li><span class="hljs-variable">OH_Drawing_Brush</span> *<span class="hljs-variable">brush</span> = <span class="hljs-title function_">OH_Drawing_BrushCreate</span>();</li><li><span class="hljs-title function_">OH_Drawing_BrushSetColor</span>(<span class="hljs-variable">brush</span> , <span class="hljs-title function_">OH_Drawing_ColorSetArgb</span>(<span class="hljs-number">0xFF</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0x00</span>));</li><li><span class="hljs-comment">// 设置画布中的画刷</span></li><li><span class="hljs-title function_">OH_Drawing_CanvasAttachBrush</span>(<span class="hljs-variable">canvas</span>, <span class="hljs-variable">brush</span>);</li><li><span class="hljs-variable">int</span> <span class="hljs-variable">len</span> = <span class="hljs-number">551</span>;</li><li><span class="hljs-variable">float</span> <span class="hljs-variable">aX</span> = <span class="hljs-number">630</span>;</li><li><span class="hljs-variable">float</span> <span class="hljs-variable">aY</span> = <span class="hljs-number">551</span>;</li><li><span class="hljs-variable">float</span> <span class="hljs-variable">dX</span> = <span class="hljs-variable">aX</span> - <span class="hljs-variable">len</span> * <span class="hljs-variable">std</span>::<span class="hljs-title class_">sin</span>(<span class="hljs-number">18.0</span><span class="hljs-title class_">f</span>);</li><li><span class="hljs-variable">float</span> <span class="hljs-variable">dY</span> = <span class="hljs-variable">aY</span> + <span class="hljs-variable">len</span> * <span class="hljs-variable">std</span>::<span class="hljs-title class_">cos</span>(<span class="hljs-number">18.0</span><span class="hljs-title class_">f</span>);</li><li><span class="hljs-variable">float</span> <span class="hljs-variable">cX</span> = <span class="hljs-variable">aX</span> + <span class="hljs-variable">len</span> * <span class="hljs-variable">std</span>::<span class="hljs-title class_">sin</span>(<span class="hljs-number">18.0</span><span class="hljs-title class_">f</span>);</li><li><span class="hljs-variable">float</span> <span class="hljs-variable">cY</span> = <span class="hljs-variable">dY</span>;</li><li><span class="hljs-variable">float</span> <span class="hljs-variable">bX</span> = <span class="hljs-variable">aX</span> + (<span class="hljs-variable">len</span> / <span class="hljs-number">2.0</span>);</li><li><span class="hljs-variable">float</span> <span class="hljs-variable">bY</span> = <span class="hljs-variable">aY</span> + <span class="hljs-variable">std</span>::<span class="hljs-title class_">sqrt</span>((<span class="hljs-variable">cX</span> <span class="hljs-variable">- dX</span>) * (<span class="hljs-variable">cX</span> <span class="hljs-variable">- dX</span>) + (<span class="hljs-variable">len</span> / <span class="hljs-number">2.0</span>) * (<span class="hljs-variable">len</span> / <span class="hljs-number">2.0</span>));</li><li><span class="hljs-variable">float</span> <span class="hljs-variable">eX</span> = <span class="hljs-variable">aX</span> - (<span class="hljs-variable">len</span> / <span class="hljs-number">2.0</span>);</li><li><span class="hljs-variable">float</span> <span class="hljs-variable">eY</span> = <span class="hljs-variable">bY</span>;</li><li><span class="hljs-comment">// 创建路径</span></li><li><span class="hljs-variable">OH_Drawing_Path</span>* <span class="hljs-variable">path</span> = <span class="hljs-title function_">OH_Drawing_PathCreate</span>();</li><li><span class="hljs-comment">// 到起始点</span></li><li><span class="hljs-title function_">OH_Drawing_PathMoveTo</span>(<span class="hljs-variable">path</span>, <span class="hljs-variable">aX</span>, <span class="hljs-variable">aY</span>);</li><li><span class="hljs-comment">// 绘制直线</span></li><li><span class="hljs-title function_">OH_Drawing_PathLineTo</span>(<span class="hljs-variable">path</span>, <span class="hljs-variable">bX</span>, <span class="hljs-variable">bY</span>);</li><li><span class="hljs-title function_">OH_Drawing_PathLineTo</span>(<span class="hljs-variable">path</span>, <span class="hljs-variable">cX</span>, <span class="hljs-variable">cY</span>);</li><li><span class="hljs-title function_">OH_Drawing_PathLineTo</span>(<span class="hljs-variable">path</span>, <span class="hljs-variable">dX</span>, <span class="hljs-variable">dY</span>);</li><li><span class="hljs-title function_">OH_Drawing_PathLineTo</span>(<span class="hljs-variable">path</span>, <span class="hljs-variable">eX</span>, <span class="hljs-variable">eY</span>);</li><li><span class="hljs-comment">// 直线闭合，形成五角星</span></li><li><span class="hljs-title function_">OH_Drawing_PathClose</span>(<span class="hljs-variable">path</span>);</li><li><span class="hljs-comment">// 绘制闭合路径</span></li><li><span class="hljs-title function_">OH_Drawing_CanvasDrawPath</span>(<span class="hljs-variable">canvas</span>, <span class="hljs-variable">path</span>);</li><li><span class="hljs-comment">// 移除画布中的画笔和画刷</span></li><li><span class="hljs-title function_">OH_Drawing_CanvasDetachPen</span>(<span class="hljs-variable">canvas</span>);</li><li><span class="hljs-title function_">OH_Drawing_CanvasDetachBrush</span>(<span class="hljs-variable">canvas</span>);</li><li><span class="hljs-comment">// 销毁各类对象</span></li><li><span class="hljs-title function_">OH_Drawing_PenDestroy</span>(<span class="hljs-variable">pen</span>);</li><li><span class="hljs-title function_">OH_Drawing_BrushDestroy</span>(<span class="hljs-variable">brush</span>);</li><li><span class="hljs-title function_">OH_Drawing_PathDestroy</span>(<span class="hljs-variable">path</span>);</li></ol></pre></div></div>     <p>效果如下：</p>     <p><span><img originheight="494" originwidth="499" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114410.32953625532756299742124272563179:50001231000000:2800:7694028FF9D7066C55C7252A8CD40277BF9B51ABB747A3A4BA92EFAB59E401C7.png" width="499" height="494"></span></p>    </div>    <div class="tiledSection">     <h2 id="绘制区域">绘制区域<i class="anchor-icon anchor-icon-link" anchorid="绘制区域" tips="复制节点链接"></i></h2>          <p>区域不是一个特定的形状，可以设置为指定的矩形或路径，也可以对两个区域进行组合操作。可以使用画笔或画刷在画布上进行区域的绘制。详细的API说明请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-region-h" target="_blank">drawing_region.h</a>。</p>     <p>目前支持设置矩形区域和路径区域，分别通过OH_Drawing_RegionSetRect()接口和OH_Drawing_RegionSetPath()接口来设置。</p>     <p>此处以使用画刷绘制矩形的组合区域为例，示例如下：</p>     <div _ngcontent-cpn-c106="" class="highlight-div"><div _ngcontent-cpn-c106="" class="highlight-div-header"><div _ngcontent-cpn-c106="" class="highlight-div-header-left"><div _ngcontent-cpn-c106="" class="handle-button expand-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cpn-c106="" class="highlight-div-header-right"><div _ngcontent-cpn-c106="" class="handle-button ai-button"></div><div _ngcontent-cpn-c106="" class="handle-button line-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cpn-c106="" class="handle-button theme-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cpn-c106="" class="handle-button copy-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cpn-c106="" class="highlight-scroll-div"><pre class="prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 创建画刷对象</span></li><li><span class="hljs-variable">OH_Drawing_Brush</span>* <span class="hljs-variable">brush</span> = <span class="hljs-title function_">OH_Drawing_BrushCreate</span>();</li><li><span class="hljs-comment">// 设置画刷填充颜色</span></li><li><span class="hljs-title function_">OH_Drawing_BrushSetColor</span>(<span class="hljs-variable">brush</span>, <span class="hljs-title function_">OH_Drawing_ColorSetArgb</span>(<span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>));</li><li><span class="hljs-comment">// 设置画布的画刷</span></li><li><span class="hljs-title function_">OH_Drawing_CanvasAttachBrush</span>(<span class="hljs-variable">canvas</span>, <span class="hljs-variable">brush</span>);</li><li><span class="hljs-comment">// 矩形区域1</span></li><li><span class="hljs-variable">OH_Drawing_Region</span> *<span class="hljs-variable">region1</span> = <span class="hljs-title function_">OH_Drawing_RegionCreate</span>();</li><li><span class="hljs-variable">OH_Drawing_Rect</span> *<span class="hljs-variable">rect1</span> = <span class="hljs-title function_">OH_Drawing_RectCreate</span>(<span class="hljs-number">100.0</span><span class="hljs-variable">f</span>, <span class="hljs-number">100.0</span><span class="hljs-variable">f</span>, <span class="hljs-number">600</span>.<span class="hljs-variable">f</span>, <span class="hljs-number">600</span>.<span class="hljs-variable">f</span>);</li><li><span class="hljs-title function_">OH_Drawing_RegionSetRect</span>(<span class="hljs-variable">region1</span>, <span class="hljs-variable">rect1</span>);</li><li><span class="hljs-comment">// 矩形区域2</span></li><li><span class="hljs-variable">OH_Drawing_Region</span> *<span class="hljs-variable">region2</span> = <span class="hljs-title function_">OH_Drawing_RegionCreate</span>();</li><li><span class="hljs-variable">OH_Drawing_Rect</span> *<span class="hljs-variable">rect2</span> = <span class="hljs-title function_">OH_Drawing_RectCreate</span>(<span class="hljs-number">300.0</span><span class="hljs-variable">f</span>, <span class="hljs-number">300.0</span><span class="hljs-variable">f</span>, <span class="hljs-number">900</span>.<span class="hljs-variable">f</span>, <span class="hljs-number">900</span>.<span class="hljs-variable">f</span>);</li><li><span class="hljs-title function_">OH_Drawing_RegionSetRect</span>(<span class="hljs-variable">region2</span>, <span class="hljs-variable">rect2</span>);</li><li><span class="hljs-comment">// 两个矩形区域组合</span></li><li><span class="hljs-title function_">OH_Drawing_RegionOp</span>(<span class="hljs-variable">region1</span>, <span class="hljs-variable">region2</span>, <span class="hljs-variable">OH_Drawing_RegionOpMode</span>::<span class="hljs-title class_">REGION_OP_MODE_XOR</span>);</li><li><span class="hljs-title function_">OH_Drawing_CanvasDrawRegion</span>(<span class="hljs-variable">canvas</span>, <span class="hljs-variable">region1</span>);</li><li><span class="hljs-comment">// 从画布移除画刷</span></li><li><span class="hljs-title function_">OH_Drawing_CanvasDetachBrush</span>(<span class="hljs-variable">canvas</span>);</li><li><span class="hljs-comment">// 销毁各类对象</span></li><li><span class="hljs-title function_">OH_Drawing_BrushDestroy</span>(<span class="hljs-variable">brush</span>);</li><li><span class="hljs-title function_">OH_Drawing_RegionDestroy</span>(<span class="hljs-variable">region1</span>);</li><li><span class="hljs-title function_">OH_Drawing_RegionDestroy</span>(<span class="hljs-variable">region2</span>);</li><li><span class="hljs-title function_">OH_Drawing_RectDestroy</span>(<span class="hljs-variable">rect1</span>);</li><li><span class="hljs-title function_">OH_Drawing_RectDestroy</span>(<span class="hljs-variable">rect2</span>);</li></ol></pre></div></div>     <p>效果如下：</p>     <p><span><img originheight="1046" originwidth="1251" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114410.57945916514566575681159701257257:50001231000000:2800:E26847E7C8E11953AD1B6A39408318DE4793DF95EC7E5BCDCDC74755558E1673.jpg" width="920" height="769.2406075139888"></span></p>    </div>    <div class="tiledSection">     <h2 id="绘制矩形">绘制矩形<i class="anchor-icon anchor-icon-link" anchorid="绘制矩形" tips="复制节点链接"></i></h2>          <p>可以使用画笔或画刷在画布上进行矩形的绘制。使用OH_Drawing_RectCreate()接口创建矩形。接口需要传入四个浮点数，分别表示矩形的左、上、右、下四个位置的坐标，连接这4个坐标形成一个矩形。</p>     <p>简单示例如下：</p>     <div _ngcontent-cpn-c106="" class="highlight-div"><div _ngcontent-cpn-c106="" class="highlight-div-header"><div _ngcontent-cpn-c106="" class="highlight-div-header-left"><div _ngcontent-cpn-c106="" class="handle-button expand-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cpn-c106="" class="highlight-div-header-right"><div _ngcontent-cpn-c106="" class="handle-button ai-button"></div><div _ngcontent-cpn-c106="" class="handle-button line-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cpn-c106="" class="handle-button theme-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cpn-c106="" class="handle-button copy-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cpn-c106="" class="highlight-scroll-div"><pre class="prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 创建画刷对象</span></li><li>OH_Drawing_Brush *brush = <span class="hljs-built_in">OH_Drawing_BrushCreate</span>();</li><li><span class="hljs-comment">// 设置画刷的填充颜色</span></li><li><span class="hljs-built_in">OH_Drawing_BrushSetColor</span>(brush, <span class="hljs-number">0xffff0000</span>);</li><li><span class="hljs-comment">// 设置画布的画刷</span></li><li><span class="hljs-built_in">OH_Drawing_CanvasAttachBrush</span>(canvas, brush);</li><li>OH_Drawing_Rect* rect = <span class="hljs-built_in">OH_Drawing_RectCreate</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">800</span>, <span class="hljs-number">800</span>);</li><li><span class="hljs-comment">// 绘制矩形</span></li><li><span class="hljs-built_in">OH_Drawing_CanvasDrawRect</span>(canvas, rect);</li><li><span class="hljs-comment">// 去除画布中的画刷</span></li><li><span class="hljs-built_in">OH_Drawing_CanvasDetachBrush</span>(canvas);</li><li><span class="hljs-comment">// 销毁各类对象</span></li><li><span class="hljs-built_in">OH_Drawing_BrushDestroy</span>(brush);</li><li><span class="hljs-built_in">OH_Drawing_RectDestroy</span>(rect);</li></ol></pre></div></div>     <p>效果如下：</p>     <p><span><img originheight="302" originwidth="505" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114410.45492221773913678442882349846801:50001231000000:2800:1C834D8F856CF167AAEF236A6DADFE703B09D10F2C8E9763812D38B71A267A1F.png" width="505" height="302"></span></p>    </div>    <div class="tiledSection">     <h2 id="绘制圆角矩形">绘制圆角矩形<i class="anchor-icon anchor-icon-link" anchorid="绘制圆角矩形" tips="复制节点链接"></i></h2>          <p>可以使用画笔或画刷在画布上进行圆角矩形的绘制。使用OH_Drawing_RoundRectCreate()接口创建圆角矩形。接口需要传入3个参数，分别如下：</p>     <ul>      <li>       <p>需要传入指向OH_Drawing_Rect矩形对象的指针，用于在此矩形的基础上切圆角进行绘制。</p></li>      <li>       <p>需要一个浮点参数，表示x轴上的圆角半径。</p></li>      <li>       <p>还需要一个浮点参数，表示y轴上的圆角半径。</p></li>     </ul>     <p>简单示例如下：</p>     <div _ngcontent-cpn-c106="" class="highlight-div"><div _ngcontent-cpn-c106="" class="highlight-div-header"><div _ngcontent-cpn-c106="" class="highlight-div-header-left"><div _ngcontent-cpn-c106="" class="handle-button expand-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cpn-c106="" class="highlight-div-header-right"><div _ngcontent-cpn-c106="" class="handle-button ai-button"></div><div _ngcontent-cpn-c106="" class="handle-button line-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cpn-c106="" class="handle-button theme-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cpn-c106="" class="handle-button copy-button"><div _ngcontent-cpn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cpn-c106="" class="highlight-scroll-div"><pre class="prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 创建画刷对象</span></li><li>OH_Drawing_Brush *brush = <span class="hljs-built_in">OH_Drawing_BrushCreate</span>();</li><li><span class="hljs-comment">// 设置画刷的填充颜色</span></li><li><span class="hljs-built_in">OH_Drawing_BrushSetColor</span>(brush, <span class="hljs-number">0xffff0000</span>);</li><li><span class="hljs-comment">// 设置画布的画刷</span></li><li><span class="hljs-built_in">OH_Drawing_CanvasAttachBrush</span>(canvas, brush);</li><li><span class="hljs-comment">// 创建矩形</span></li><li>OH_Drawing_Rect* rect = <span class="hljs-built_in">OH_Drawing_RectCreate</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">900</span>, <span class="hljs-number">600</span>);</li><li><span class="hljs-comment">// 创建圆角矩形</span></li><li>OH_Drawing_RoundRect* roundRect = <span class="hljs-built_in">OH_Drawing_RoundRectCreate</span>(rect, <span class="hljs-number">30</span>, <span class="hljs-number">30</span>);</li><li><span class="hljs-comment">// 绘制圆角矩形</span></li><li><span class="hljs-built_in">OH_Drawing_CanvasDrawRoundRect</span>(canvas, roundRect);</li><li><span class="hljs-comment">// 从画布移除画刷</span></li><li><span class="hljs-built_in">OH_Drawing_CanvasDetachBrush</span>(canvas);</li><li><span class="hljs-comment">// 销毁各类对象</span></li><li><span class="hljs-built_in">OH_Drawing_BrushDestroy</span>(brush);</li><li><span class="hljs-built_in">OH_Drawing_RectDestroy</span>(rect);</li><li><span class="hljs-built_in">OH_Drawing_RoundRectDestroy</span>(roundRect);</li></ol></pre></div></div>     <p>效果如下：</p>     <p><span><img originheight="296" originwidth="505" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114410.66670203280103493084249193069703:50001231000000:2800:883DDC42199850215D09BDCDC4EB5ECD05BE6CEDAA3D6C1F9ECBAE2240AC1844.png" width="505" height="296"></span></p>    </div>    <div class="tiledSection">     <h2 id="示例代码">示例代码<i class="anchor-icon anchor-icon-link" anchorid="示例代码" tips="复制节点链接"></i></h2>          <ul>      <li><a href="https://gitcode.com/HarmonyOS_Samples/DocsSample_Graphics/tree/master/ArkGraphics2D/Drawing/NDKAPIDrawing" target="_blank">图形绘制（C/C++）</a></li>     </ul>    </div>   </div>   <div></div></div>