<h1 _ngcontent-irm-c119="" class="doc-title ng-star-inserted" title="分享详情页关闭分享面板"> 分享详情页关闭分享面板 </h1>

<div _ngcontent-irm-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>从分享详情页返回分享面板时，可通过设置resultCode值为特定的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/share-system-share#section1711118591913" target="_blank">ShareAbilityResultCode</a>，以告知分享面板做出不同的处理，具体处理方式如下：</p>    <ul>     <li>ERROR：返回分享面板，并提示用户发生错误。</li>     <li>BACK：正常返回分享面板。</li>     <li>CLOSE：关闭分享面板。</li>    </ul>    <div class="tiledSection">     <h2 id="section34021630205713">开发步骤<i class="anchor-icon anchor-icon-link" anchorid="section34021630205713" tips="复制节点链接"></i></h2>          <ol>      <li>导入相关模块。       <div _ngcontent-irm-c106="" class="highlight-div"><div _ngcontent-irm-c106="" class="highlight-div-header"><div _ngcontent-irm-c106="" class="highlight-div-header-left"><div _ngcontent-irm-c106="" class="handle-button expand-button"><div _ngcontent-irm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-irm-c106="" class="highlight-div-header-right"><div _ngcontent-irm-c106="" class="handle-button ai-button"></div><div _ngcontent-irm-c106="" class="handle-button line-button"><div _ngcontent-irm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-irm-c106="" class="handle-button theme-button"><div _ngcontent-irm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-irm-c106="" class="handle-button copy-button"><div _ngcontent-irm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-irm-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ShareExtensionAbility</span>, <span class="hljs-title class_">UIExtensionContentSession</span>, <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { systemShare } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ShareKit'</span>;</li></ol></pre></div></div></li>      <li>目标应用可以通过terminateSelfWithResult接口，设置resultCode值为systemShare.ShareAbilityResultCode.CLOSE，以关闭分享面板。       <div _ngcontent-irm-c106="" class="highlight-div"><div _ngcontent-irm-c106="" class="highlight-div-header"><div _ngcontent-irm-c106="" class="highlight-div-header-left"><div _ngcontent-irm-c106="" class="handle-button expand-button"><div _ngcontent-irm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-irm-c106="" class="highlight-div-header-right"><div _ngcontent-irm-c106="" class="handle-button ai-button"></div><div _ngcontent-irm-c106="" class="handle-button line-button"><div _ngcontent-irm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-irm-c106="" class="handle-button theme-button"><div _ngcontent-irm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-irm-c106="" class="handle-button copy-button"><div _ngcontent-irm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-irm-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestShareAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">ShareExtensionAbility</span> {</li><li>  <span class="hljs-keyword">async</span> <span class="hljs-title function_">onSessionCreate</span>(<span class="hljs-params">want: Want, session: UIExtensionContentSession</span>) {</li><li>    session.<span class="hljs-title function_">terminateSelfWithResult</span>({</li><li>      <span class="hljs-attr">resultCode</span>: systemShare.<span class="hljs-property">ShareAbilityResultCode</span>.<span class="hljs-property">CLOSE</span></li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div></li>     </ol>    </div>   </div>   <div></div></div>