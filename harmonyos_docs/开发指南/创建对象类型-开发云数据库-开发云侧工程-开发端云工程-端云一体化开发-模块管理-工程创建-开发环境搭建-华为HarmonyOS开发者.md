<h1 _ngcontent-vqi-c119="" class="doc-title ng-star-inserted" title="创建对象类型"> 创建对象类型 </h1>

<div _ngcontent-vqi-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000001563286060"><p id="ZH-CN_TOPIC_0000002214704293__p134631344618">对象类型（ObjectType）用于定义存储对象的集合，不同的对象类型对应的不同数据结构。每创建一个对象类型，云数据库会在每个存储区实例化一个与之结构相对应的对象类型，用于存储对应的数据。</p> <p id="ZH-CN_TOPIC_0000002214704293__p1882244912413">创建对象类型的操作如下：</p> <ol id="ZH-CN_TOPIC_0000002214704293__ol34912620151"><li id="li164922651512">右击“clouddb/objecttype”目录，选择“New &gt; Cloud DB Object Type”。<p id="ZH-CN_TOPIC_0000002214704293__p11724104583"><a name="ZH-CN_TOPIC_0000002214704293__li164922651512"></a><a name="li164922651512"></a><span><img originheight="413" originwidth="696" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104746.08891867320270974114805417447003:50001231000000:2800:861C3D4AE0D6EDFB7AD7BD57944EA197DB240514E4C72161AE9B6F78CF04E69A.png" width="696" height="413"></span></p> </li></ol><ol id="ZH-CN_TOPIC_0000002214704293__ol19352021162" start="2"><li id="li7833418611">输入对象类型名称（下文以“objecttype1”为例）后，点击“OK”。<div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002214704293__p66706281283">对象类型名称必须符合如下规范：</p> <ul id="ZH-CN_TOPIC_0000002214704293__ul1394142812816"><li id="li15915717139">只能包含字母（A-Z或a-z）、数字（0-9）和下划线（_），并且至少包含字母类型。</li><li id="li137111227201311">必须以字母开头，以字母或者数字结尾，不允许以“sqlite_”开头，不允许以下划线（_）结尾。</li><li id="li594114281817">不允许使用如下系统保留名称： naturalbase_metadata、objecttypeinfohelper、t_data_upgrade_info、t_index_schema、t_nstore_config、t_schema_negotiate_info、t_metadata_schema、t_nstore_permission、t_system_config。</li></ul> </div></div></div> <p id="ZH-CN_TOPIC_0000002214704293__p829432515420"></p> <p id="ZH-CN_TOPIC_0000002214704293__p133209458146"><span><img originheight="130" originwidth="350" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104746.25314625488477363304524087283559:50001231000000:2800:BDFCD1C148E6957AF8EE5F56E7641474707CE87D4E02D080126DED02EF7E3C1E.png" width="350" height="130"></span></p> <p id="ZH-CN_TOPIC_0000002214704293__p92811250102914">“clouddb/objecttype”目录下生成并打开新建的对象类型JSON文件“objecttype1.json”。</p> <p id="ZH-CN_TOPIC_0000002214704293__p1768144112591"><span><img originheight="682" originwidth="1076" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104746.87493692935727752634680021265344:50001231000000:2800:ABCB8EEF286B9BBF866F3C662A97F8AB5E15E893D99372367CAF2B7A8E390EFE.png" width="920" height="583.1226765799256"></span></p> </li><li id="li17320481859">在“fields”中为该对象类型配置字段信息。 <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_table44011461515" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_row15371914131515"><th align="left" class="cellrowborder" id="mcps1.3.4.2.1.1.4.1.1" valign="top" width="18.48%"><p id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_p1137161419159">参数</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.1.4.1.2" valign="top" width="17.28%"><p id="ZH-CN_TOPIC_0000002214704293__p12764184973412">必选(M)/可选(O)</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.1.4.1.3" valign="top" width="64.24%"><p id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_p18371314181512">说明</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_row43910143158"><td class="cellrowborder" valign="top" width="18.48%"><p id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_p133771431515">fieldName</p> </td> <td class="cellrowborder" valign="top" width="17.28%"><p id="ZH-CN_TOPIC_0000002214704293__p1076411497344">M</p> </td> <td class="cellrowborder" valign="top" width="64.24%"><p id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_p437151401512">字段名称。</p> <p id="ZH-CN_TOPIC_0000002214704293__p201154222154">输入要求具体如下：</p> <ul id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_ul203711413156"><li id="li185864651516">字段的名称长度必须大于或等于1个字符，小于或等于30个字符，只能包含以下3种类型，并且至少包含“字母”类型：<ul id="ZH-CN_TOPIC_0000002214704293__ul1347419961510"><li id="zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_li83717142154">字母（A-Z或a-z）</li><li id="zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_li9378140153">数字（0-9）</li><li id="zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_li1437814181518">特殊字符：_</li></ul> </li><li id="li7482415161512">字段名称必须以字母开头，以字母或者数字结尾。</li><li id="li7482171512155">字段名称中不区分字母的大小写。</li><li id="li74821157157">修改对象类型时，支持删除字段。</li><li id="li148271561517">字段名称不允许使用系统保留字段名称： naturalbase_version、naturalbase_deleted、naturalbase_operationtype、naturalbase_creator、naturalbase_accesstime、naturalbase_operationtime、naturalbase_syncstatus、naturalbase_changedfieldsbitmap、naturalbase_lastmodifier、cmin、cmax、xmin、xmax、ctid、oid、tableoid、xc_node_id、tablebucketid、rowid。</li></ul> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002214704293__p185021539104212">当前Cloud Foundation Kit暂不支持自增类型字段IntAutoIncrement或LongAutoIncrement。</p> </div></div></div> </td> </tr> <tr id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_row2039111411152"><td class="cellrowborder" valign="top" width="18.48%"><p id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_p103981418151">fieldType</p> </td> <td class="cellrowborder" valign="top" width="17.28%"><p id="ZH-CN_TOPIC_0000002214704293__p14764134963417">M</p> </td> <td class="cellrowborder" valign="top" width="64.24%"><p id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_p1739151419159">字段的数据类型。</p> <p id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_p1439201411516">当前支持的数据类型：String、Boolean、Byte、Short、Integer、Long、Float、Double、ByteArray、Text、Date。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_row5401714141511"><td class="cellrowborder" valign="top" width="18.48%"><p id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_p03911491516">belongPrimaryKey</p> </td> <td class="cellrowborder" valign="top" width="17.28%"><p id="ZH-CN_TOPIC_0000002214704293__p1976444911348">O</p> </td> <td class="cellrowborder" valign="top" width="64.24%"><p id="ZH-CN_TOPIC_0000002214704293__p7547204111386">设置该字段是否为对象类型的主键，默认值为false。</p> <ul id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_ul133961431510"><li id="zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_li11392014181517">至少设置一个字段为主键。</li><li id="zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_li113951481520">支持设置复合主键，由多个字段组合成为主键，一个复合主键包含的字段小于等于5个，复合主键字段顺序与字段的顺序一致。</li><li id="zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_li655174010018">数据类型为ByteArray、Text、Date、Double、Float和Boolean的字段不支持设置为主键。</li><li id="li155442333311">主键的值不允许更改。</li></ul> </td> </tr> <tr id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_row1640111461516"><td class="cellrowborder" valign="top" width="18.48%"><p id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_p18401814161518">notNull</p> </td> <td class="cellrowborder" valign="top" width="17.28%"><p id="ZH-CN_TOPIC_0000002214704293__p182271415363">O</p> </td> <td class="cellrowborder" valign="top" width="64.24%"><p id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_p2933132216711">设置字段值是否为非空，默认值为false。</p> <ul id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_ul356221615818"><li id="zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_li1356241620812">数据类型为ByteArray和Date的字段不支持设置为非空。</li><li id="zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_li63971419158">主键默认非空，且不允许更改。</li><li id="zh-cn_topic_0000001080109550_li774814332206">设置为非空的字段不支持加密和敏感。</li></ul> </td> </tr> <tr id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_row162781020174411"><td class="cellrowborder" valign="top" width="18.48%"><p id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_p122791020154415">isNeedEncrypt</p> </td> <td class="cellrowborder" valign="top" width="17.28%"><p id="ZH-CN_TOPIC_0000002214704293__p18234314365">O</p> </td> <td class="cellrowborder" valign="top" width="64.24%"><p id="ZH-CN_TOPIC_0000002214704293__p1266391401">设置字段是否需要加密，开启全程加密数据管理功能，默认值为false。</p> <p id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_p1772792824518">选择加密后，该字段对应的数据会加密存储在存储区中。</p> <ul id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_ul1760224504512"><li id="zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_li16510101754619">主键字段不支持加密。</li><li id="zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_li3737132133819">加密的字段不支持设置为非空。</li><li id="li7726114174315">加密的字段不支持设置为敏感字段。</li><li id="zh-cn_topic_0000001080109550_li167037104435">一个对象类型中包含的加密字段和敏感字段的总数需小于或等于5个。</li><li id="zh-cn_topic_0000001080109550_li1222710364432">字段设置为加密后，不支持导出该字段的数据值。</li><li id="zh-cn_topic_0000001080109550_li4344153216251">数据类型为ByteArray、Text的字段不支持加密。</li><li id="li83991947162312">对象类型创建成功后，不支持修改加密属性。</li></ul> </td> </tr> <tr id="ZH-CN_TOPIC_0000002214704293__row17400153074319"><td class="cellrowborder" valign="top" width="18.48%"><p id="ZH-CN_TOPIC_0000002214704293__p10817183912417">isSensitive</p> </td> <td class="cellrowborder" valign="top" width="17.28%"><p id="ZH-CN_TOPIC_0000002214704293__p27421345155217">O</p> </td> <td class="cellrowborder" valign="top" width="64.24%"><p id="ZH-CN_TOPIC_0000002214704293__p3882119185310">设置字段是否为敏感字段，默认值为false。</p> <p id="ZH-CN_TOPIC_0000002214704293__p19917232070">选择敏感后，该字段对应的数据会加密存储在存储区中。</p> <ul id="ZH-CN_TOPIC_0000002214704293__ul51021445889"><li id="li656519128912">敏感字段不支持设置为主键。</li><li id="li46765388916">敏感字段不支持设置为非空。</li><li id="li1620711594919">敏感字段不支持设置为加密。</li><li id="li1684528131019">敏感字段不支持设置为默认值。</li><li id="li91021245182">对象类型创建成功后，不支持修改敏感属性。</li><li id="li110219456813">仅支持数据类型为Byte、Short、Integer、Long、Float、Double、String和Date的字段设置为敏感字段。</li><li id="li1102184516813">敏感字段不支持设置为索引。</li><li id="li168176561128">一个对象类型中包含的加密字段和敏感字段的总数需小于或等于5个。</li></ul> </td> </tr> <tr id="ZH-CN_TOPIC_0000002214704293__row18879135413611"><td class="cellrowborder" valign="top" width="18.48%"><p id="ZH-CN_TOPIC_0000002214704293__p38806548367">defaultValue</p> </td> <td class="cellrowborder" valign="top" width="17.28%"><p id="ZH-CN_TOPIC_0000002214704293__p1488014546369">O</p> </td> <td class="cellrowborder" valign="top" width="64.24%"><p id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_p164010143150">字段为非空时，必须设置默认值。</p> <ul id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_ul107485191617"><li id="zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_li19042220811">主键不支持设置默认值。</li><li id="zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_li3722134510717">加密字段和敏感字段不支持设置默认值。</li><li id="zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_li57480196113">数据类型为ByteArray、Date不支持为其设置默认值。</li><li id="li4738122413619">数据类型为Text的字段设置默认值时，默认值的长度小于或等于200个字符。</li></ul> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002214704293__p1985412273233">例如，我们可为“objecttype1”对象类型配置如下字段。</p>  <div class="tablenoborder"><div class="tbBox"><table id="table11619172613204" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002214704293__row1661942622015"><th align="left" class="cellrowborder" id="mcps1.3.4.2.3.1.7.1.1" valign="top" width="18.49630073985203%"><p id="ZH-CN_TOPIC_0000002214704293__p20619112616205">fieldName</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.3.1.7.1.2" valign="top" width="13.567286542691463%"><p id="ZH-CN_TOPIC_0000002214704293__p12619426152016">fieldType</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.3.1.7.1.3" valign="top" width="17.406518696260747%"><p id="ZH-CN_TOPIC_0000002214704293__p961992618200">belongPrimaryKey</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.3.1.7.1.4" valign="top" width="15.026994601079782%"><p id="ZH-CN_TOPIC_0000002214704293__p1661952602011">notNull</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.3.1.7.1.5" valign="top" width="17.876424715056988%"><p id="ZH-CN_TOPIC_0000002214704293__p1619132642016">isNeedEncrypt</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.3.1.7.1.6" valign="top" width="17.62647470505899%"><p id="ZH-CN_TOPIC_0000002214704293__p2602200202118">defaultValue</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002214704293__row136207262202"><td class="cellrowborder" valign="top" width="18.49630073985203%"><p id="ZH-CN_TOPIC_0000002214704293__p13620026192012">author</p> </td> <td class="cellrowborder" valign="top" width="13.567286542691463%"><p id="ZH-CN_TOPIC_0000002214704293__p1962052612014">String</p> </td> <td class="cellrowborder" valign="top" width="17.406518696260747%"><p id="ZH-CN_TOPIC_0000002214704293__p1248220219235">true</p> </td> <td class="cellrowborder" valign="top" width="15.026994601079782%"><p id="ZH-CN_TOPIC_0000002214704293__p962042614208">true</p> </td> <td class="cellrowborder" valign="top" width="17.876424715056988%"><p id="ZH-CN_TOPIC_0000002214704293__p662012263206">-</p> </td> <td class="cellrowborder" valign="top" width="17.62647470505899%"><p id="ZH-CN_TOPIC_0000002214704293__p160213082115">-</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002214704293__row15221156162017"><td class="cellrowborder" valign="top" width="18.49630073985203%"><p id="ZH-CN_TOPIC_0000002214704293__p18523756192016">shadowFlag</p> </td> <td class="cellrowborder" valign="top" width="13.567286542691463%"><p id="ZH-CN_TOPIC_0000002214704293__p65231956122014">Boolean</p> </td> <td class="cellrowborder" valign="top" width="17.406518696260747%"><p id="ZH-CN_TOPIC_0000002214704293__p11523756142015">-</p> </td> <td class="cellrowborder" valign="top" width="15.026994601079782%"><p id="ZH-CN_TOPIC_0000002214704293__p15523105615209">true</p> </td> <td class="cellrowborder" valign="top" width="17.876424715056988%"><p id="ZH-CN_TOPIC_0000002214704293__p185237560203">-</p> </td> <td class="cellrowborder" valign="top" width="17.62647470505899%"><p id="ZH-CN_TOPIC_0000002214704293__p14602180162111">true</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002214704293__row20743104762320"><td class="cellrowborder" valign="top" width="18.49630073985203%"><p id="ZH-CN_TOPIC_0000002214704293__p17441347172315">bookName</p> </td> <td class="cellrowborder" valign="top" width="13.567286542691463%"><p id="ZH-CN_TOPIC_0000002214704293__p9744124716235">String</p> </td> <td class="cellrowborder" valign="top" width="17.406518696260747%"><p id="ZH-CN_TOPIC_0000002214704293__p67441747142312">-</p> </td> <td class="cellrowborder" valign="top" width="15.026994601079782%"><p id="ZH-CN_TOPIC_0000002214704293__p7744144752315">-</p> </td> <td class="cellrowborder" valign="top" width="17.876424715056988%"><p id="ZH-CN_TOPIC_0000002214704293__p10744174716236">-</p> </td> <td class="cellrowborder" valign="top" width="17.62647470505899%"><p id="ZH-CN_TOPIC_0000002214704293__p1744047142319">-</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002214704293__row3620626132010"><td class="cellrowborder" valign="top" width="18.49630073985203%"><p id="ZH-CN_TOPIC_0000002214704293__p14620152632014">id</p> </td> <td class="cellrowborder" valign="top" width="13.567286542691463%"><p id="ZH-CN_TOPIC_0000002214704293__p962011262203">Integer</p> </td> <td class="cellrowborder" valign="top" width="17.406518696260747%"><p id="ZH-CN_TOPIC_0000002214704293__p3620162617202">-</p> </td> <td class="cellrowborder" valign="top" width="15.026994601079782%"><p id="ZH-CN_TOPIC_0000002214704293__p12620152642014">-</p> </td> <td class="cellrowborder" valign="top" width="17.876424715056988%"><p id="ZH-CN_TOPIC_0000002214704293__p56201526162014">-</p> </td> <td class="cellrowborder" valign="top" width="17.62647470505899%"><p id="ZH-CN_TOPIC_0000002214704293__p960270192116">-</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002214704293__row176201826152019"><td class="cellrowborder" valign="top" width="18.49630073985203%"><p id="ZH-CN_TOPIC_0000002214704293__p14620426162014">price</p> </td> <td class="cellrowborder" valign="top" width="13.567286542691463%"><p id="ZH-CN_TOPIC_0000002214704293__p18620526162016">Double</p> </td> <td class="cellrowborder" valign="top" width="17.406518696260747%"><p id="ZH-CN_TOPIC_0000002214704293__p17620152614209">-</p> </td> <td class="cellrowborder" valign="top" width="15.026994601079782%"><p id="ZH-CN_TOPIC_0000002214704293__p6620142618206">-</p> </td> <td class="cellrowborder" valign="top" width="17.876424715056988%"><p id="ZH-CN_TOPIC_0000002214704293__p8621182614206">-</p> </td> <td class="cellrowborder" valign="top" width="17.62647470505899%"><p id="ZH-CN_TOPIC_0000002214704293__p460215018216">-</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002214704293__row15621026132010"><td class="cellrowborder" valign="top" width="18.49630073985203%"><p id="ZH-CN_TOPIC_0000002214704293__p1062122682011">publishTime</p> </td> <td class="cellrowborder" valign="top" width="13.567286542691463%"><p id="ZH-CN_TOPIC_0000002214704293__p1621426132015">Date</p> </td> <td class="cellrowborder" valign="top" width="17.406518696260747%"><p id="ZH-CN_TOPIC_0000002214704293__p2621162611209">-</p> </td> <td class="cellrowborder" valign="top" width="15.026994601079782%"><p id="ZH-CN_TOPIC_0000002214704293__p12621626172010">-</p> </td> <td class="cellrowborder" valign="top" width="17.876424715056988%"><p id="ZH-CN_TOPIC_0000002214704293__p6621152615205">-</p> </td> <td class="cellrowborder" valign="top" width="17.62647470505899%"><p id="ZH-CN_TOPIC_0000002214704293__p060217012120">-</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002214704293__p1413915518264"></p> <p id="ZH-CN_TOPIC_0000002214704293__p273065012274"><span><img originheight="518" originwidth="863" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104746.71218413068107587894799150507680:50001231000000:2800:9A60390B1611CD1ECDC03B8C2FB2E12893E3B81696CFF8A33BA2683B2BDEC071.png" width="863" height="518"></span></p> </li><li id="li335817386499">在“indexes”中为该对象类型配置索引、索引包含的字段、以及索引包含的字段的排序方式。 <div class="tablenoborder"><div class="tbBox"><table id="zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_table11671239115720" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_row1565163917576"><th align="left" class="cellrowborder" id="mcps1.3.4.3.1.1.4.1.1" valign="top" width="16.81%"><p id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_p4651439155714">参数</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.1.1.4.1.2" valign="top" width="16.76%"><p id="ZH-CN_TOPIC_0000002214704293__p7402226185418">必选(M)/可选(O)</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.1.1.4.1.3" valign="top" width="66.43%"><p id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_p96573910573">说明</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_row1366143945715"><td class="cellrowborder" valign="top" width="16.81%"><p id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_p1565439195715">indexName</p> </td> <td class="cellrowborder" valign="top" width="16.76%"><p id="ZH-CN_TOPIC_0000002214704293__p64021226175418">M</p> </td> <td class="cellrowborder" valign="top" width="66.43%"><p id="ZH-CN_TOPIC_0000002214704293__p698852643614">索引名称。</p> <p id="ZH-CN_TOPIC_0000002214704293__p204291131121617">输入要求具体如下：</p> <ul id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_ul46619392574"><li id="li20343194371615">索引的名称长度必须大于或等于1个字符，小于或等于30个字符，只能包含以下3种类型，并且至少包含“字母”类型：<ul id="ZH-CN_TOPIC_0000002214704293__ul1994034516165"><li id="zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_li3651539185713">字母（A-Z或a-z）</li><li id="zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_li965639165717">数字（0-9）</li><li id="zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_li76613398572">特殊字符：_</li></ul> </li><li id="li86220530163">索引名称必须以字母开头。</li><li id="li146245316165">索引名称中不区分字母的大小写。</li><li id="li15621753191612">修改对象类型时，仅支持新增或者删除索引。当删除索引后，本次提交前不允许新增同名索引。</li><li id="li146255341619">每个对象类型可以设置小于或等于16个索引。</li><li id="li11621453141612">数据类型为ByteArray和Text的字段不支持设置为索引。</li></ul> </td> </tr> <tr id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_row10672397578"><td class="cellrowborder" valign="top" width="16.81%"><p id="ZH-CN_TOPIC_0000002214704293__zh-cn_topic_0000001080109550_zh-cn_topic_0188421225_p1366163975718">indexList &gt; fieldName</p> </td> <td class="cellrowborder" valign="top" width="16.76%"><p id="ZH-CN_TOPIC_0000002214704293__p240292665413">M</p> </td> <td class="cellrowborder" valign="top" width="66.43%"><p id="ZH-CN_TOPIC_0000002214704293__p127165543510">索引包含的字段。</p> <p id="ZH-CN_TOPIC_0000002214704293__p43671038204116">支持设置组合索引，由多个字段组合成为索引，一个组合索引包含的字段不超过5个。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002214704293__row17879111719401"><td class="cellrowborder" valign="top" width="16.81%"><p id="ZH-CN_TOPIC_0000002214704293__p1162219218405">indexList &gt; sortType</p> </td> <td class="cellrowborder" valign="top" width="16.76%"><p id="ZH-CN_TOPIC_0000002214704293__p340216260549">M</p> </td> <td class="cellrowborder" valign="top" width="66.43%"><p id="ZH-CN_TOPIC_0000002214704293__p562242113401">索引包含的字段的排序方式，支持升序或降序。</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002214704293__p8923154517425">例如，我们可为“objecttype1”对象类型配置如下两个索引。</p>  <div class="tablenoborder"><div class="tbBox"><table id="table165801451132610" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002214704293__row55811551192619"><th align="left" class="cellrowborder" id="mcps1.3.4.3.3.1.4.1.1" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002214704293__p7581105142611">indexName</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.3.1.4.1.2" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002214704293__p0581195122616">fieldName</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.3.1.4.1.3" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002214704293__p20581205112618">sortType</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002214704293__row558115102611"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002214704293__p1581951172614">id_Index</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002214704293__p45811251142620">id</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002214704293__p1058116518261">ASC</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002214704293__row16581165122617"><td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002214704293__p1558135117267">price_Index</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002214704293__p1458116516268">price</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p id="ZH-CN_TOPIC_0000002214704293__p858195192614">DESC</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002214704293__p12741846122912"></p> <p id="ZH-CN_TOPIC_0000002214704293__p14307133202918"><span><img originheight="518" originwidth="862" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104746.95961985221818192547366399497715:50001231000000:2800:E763611696ED05325401115EFEAFC2769A02C3B6818E2BFC71EA42BE2A4F4B59.png" width="862" height="518"></span></p> </li><li id="li01856582915"><a name="ZH-CN_TOPIC_0000002214704293__li01856582915"></a><a name="li01856582915"></a>在“permissions”中设置各角色是否具有该对象类型的Read、Upsert（包含新增和修改）和Delete权限。 <div class="tablenoborder"><div class="tbBox"><table id="table16662952105" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002214704293__row166621152406"><th align="left" class="cellrowborder" id="mcps1.3.4.4.1.1.4.1.1" valign="top" width="14.24%"><p id="ZH-CN_TOPIC_0000002214704293__p16626521016">参数</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.1.4.1.2" valign="top" width="15.61%"><p id="ZH-CN_TOPIC_0000002214704293__p1667993782216">必选(M)/可选(O)</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.1.4.1.3" valign="top" width="70.15%"><p id="ZH-CN_TOPIC_0000002214704293__p156631152103">说明</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002214704293__row1666313521807"><td class="cellrowborder" valign="top" width="14.24%"><p id="ZH-CN_TOPIC_0000002214704293__p12618819049">role</p> </td> <td class="cellrowborder" valign="top" width="15.61%"><p id="ZH-CN_TOPIC_0000002214704293__p1067917373225">M</p> </td> <td class="cellrowborder" valign="top" width="70.15%"><p id="ZH-CN_TOPIC_0000002214704293__p15547153814910">用户角色，包括：</p> <ul id="ZH-CN_TOPIC_0000002214704293__ul18318421893"><li id="li187251012121716">World：代表所有用户，包含认证和非认证用户。该角色默认拥有Read权限，可自定义配置Upsert和Delete权限。但是，不建议将Upsert和Delete权限配置给所有人角色。当对象类型中设置了加密字段之后，表示开启全程加密功能，此时所有人角色将不会拥有Read、Upsert和Delete权限，且不允许修改。</li><li id="li5798111011217">Authenticated：经过AGC登录认证的用户。该角色默认拥有Read权限，可自定义配置Upsert和Delete权限。当对象类型中设置了加密字段之后，表示开启全程加密功能，此时认证用户角色将不会拥有Read、Upsert和Delete权限，且不允许修改。</li><li id="li21111851713">Creator：经过认证的数据创建用户。该角色默认拥有所有权限，且可自定义配置所有权限。每条数据都有其对应的数据创建人（即应用用户），每个数据创建者仅可以Upsert或者Delete自己创建的数据，不能Upsert或者Delete他人创建的数据。数据创建者的信息保存在数据记录的系统表中。</li><li id="li2379131381815">Administrator：应用开发者，主要是指通过AGC控制台或FaaS（Function as a Service，函数即服务）侧访问云数据库的角色。该角色默认拥有所有权限，且可自定义配置所有权限。Administrator可以管理并配置其他角色的权限。</li></ul> </td> </tr> <tr id="ZH-CN_TOPIC_0000002214704293__row126633526011"><td class="cellrowborder" valign="top" width="14.24%"><p id="ZH-CN_TOPIC_0000002214704293__p2663152307">rights</p> </td> <td class="cellrowborder" valign="top" width="15.61%"><p id="ZH-CN_TOPIC_0000002214704293__p5679133752210">M</p> </td> <td class="cellrowborder" valign="top" width="70.15%"><p id="ZH-CN_TOPIC_0000002214704293__p14663852504">授予角色的权限，包括Read、Upsert（包含新增和修改）和Delete权限。</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002214704293__p1574117197112">各角色只能完成对应权限的操作，超出权限范围的操作云侧将返回“permission denied”错误。由于端云一体化工程的初始化代码未<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cloudfoundation-cloudcommon#section9723191765120" target="_blank">配置AccessToken</a>，故“CloudProgram/clouddb/objecttype/Post.json”中给World角色添加了Upsert和Delete权限。</p> </div></div></div> <p id="ZH-CN_TOPIC_0000002214704293__p9284113875210">例如，我们可按下表为各个角色配置“objecttype1”对象类型的权限。</p>  <div class="tablenoborder"><div class="tbBox"><table id="table5854124217353" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002214704293__row585410427357"><th align="left" class="cellrowborder" id="mcps1.3.4.4.4.1.5.1.1" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002214704293__p4144154793520">角色</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.4.4.1.5.1.2" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002214704293__p131451847163518">Read</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.4.4.1.5.1.3" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002214704293__p1714594717353">Upsert</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.4.4.1.5.1.4" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002214704293__p1114544712358">Delete</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002214704293__row16855542183520"><td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002214704293__p1814554783510">World</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002214704293__p151451847133512">√</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002214704293__p1814564712352">–</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002214704293__p2145104710359">–</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002214704293__row1285518423358"><td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002214704293__p7145144712353">Authenticated</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002214704293__p18145154753518">√</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002214704293__p114524733520">√</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002214704293__p1814524773516">–</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002214704293__row10855164211358"><td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002214704293__p7145847163512">Creator</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002214704293__p81450479351">√</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002214704293__p11146174719355">√</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002214704293__p514611472355">√</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002214704293__row58561942193517"><td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002214704293__p12146447113512">Administrator</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002214704293__p014620471356">√</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002214704293__p111460472350">√</p> </td> <td class="cellrowborder" valign="top" width="25%"><p id="ZH-CN_TOPIC_0000002214704293__p7146174715351">√</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002214704293__p19402412183011"><span><img originheight="518" originwidth="862" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104746.35900388335078008957712481016709:50001231000000:2800:77365BE74A20499EDD52B87A017DBDE382CAD71F411986244C3095CE99E4CB63.png" width="862" height="518"></span></p> </li></ol> </div> <div></div></div>