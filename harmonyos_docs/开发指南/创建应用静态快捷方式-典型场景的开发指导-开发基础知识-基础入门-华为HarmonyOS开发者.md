<h1 _ngcontent-sph-c119="" class="doc-title ng-star-inserted" title="创建应用静态快捷方式"> 创建应用静态快捷方式 </h1>

<div _ngcontent-sph-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>随着应用的功能越来越复杂，用户在使用应用时，找到某个功能的操作步骤也变得更加繁琐。为提升用户体验，可以对应用中常用的功能创建对应的桌面快捷方式，以达到快速启动应用、一键直达特定功能等目的。例如相机应用的 “快速拍照”、便签应用的 “新建便签” 和地图应用的常用地点导航等功能的快捷方式，用户通过快捷方式可以快速进入特定功能页面，既能大大提高操作效率，同时也增加了用户对应用的依赖性。使用快捷方式，还可以实现个性化定制的需求，创建多个快捷方式，以满足个性化的工作流程和操作偏好。</p>  <div class="tiledSection"><h2 id="场景介绍">场景介绍<i class="anchor-icon anchor-icon-link" anchorid="场景介绍" tips="复制节点链接"></i></h2><p>以导航场景为例，用户使用地图应用导航时，通常先搜索目的地，然后开始导航。为了提升导航效率和操作便捷性，建议在地图应用中添加常去地点的快捷方式，如公司、家等。添加这些快捷方式后，用户长按应用图标，即可打开快捷方式入口，快速启动导航。详情请参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-desktop-shortcuts" target="_blank">桌面快捷方式</a>。</p> </div>  <div class="tiledSection"><h2 id="配置方法">配置方法<i class="anchor-icon anchor-icon-link" anchorid="配置方法" tips="复制节点链接"></i></h2><p>下面介绍在工程中配置静态快捷方式的方法。</p> <ol><li><p>在entry/src/main/resources/base/element/string.json配置资源文件如下。</p>  <div _ngcontent-sph-c106="" class="highlight-div"><div _ngcontent-sph-c106="" class="highlight-div-header"><div _ngcontent-sph-c106="" class="highlight-div-header-left"><div _ngcontent-sph-c106="" class="handle-button expand-button"><div _ngcontent-sph-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sph-c106="" class="highlight-div-header-right"><div _ngcontent-sph-c106="" class="handle-button ai-button"></div><div _ngcontent-sph-c106="" class="handle-button line-button"><div _ngcontent-sph-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sph-c106="" class="handle-button theme-button"><div _ngcontent-sph-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sph-c106="" class="handle-button copy-button"><div _ngcontent-sph-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sph-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" hw-language="json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span></li><li>  <span class="hljs-attr">"string"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>    <span class="hljs-comment">// ···</span></li><li>    <span class="hljs-punctuation">{</span></li><li>      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"share"</span><span class="hljs-punctuation">,</span></li><li>      <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"分享好友"</span></li><li>    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-punctuation">{</span></li><li>      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"add"</span><span class="hljs-punctuation">,</span></li><li>      <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"添加收藏"</span></li><li>    <span class="hljs-punctuation">}</span></li><li>  <span class="hljs-punctuation">]</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div>  </li><li><p>配置快捷方式文件。</p>  <p> 在模块的/resources/base/profile/目录下配置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#shortcuts标签">快捷方式的配置文件</a>，如shortcuts_config.json，拷贝示例代码需要删除注释。</p>  <div _ngcontent-sph-c106="" class="highlight-div"><div _ngcontent-sph-c106="" class="highlight-div-header"><div _ngcontent-sph-c106="" class="highlight-div-header-left"><div _ngcontent-sph-c106="" class="handle-button expand-button"><div _ngcontent-sph-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sph-c106="" class="highlight-div-header-right"><div _ngcontent-sph-c106="" class="handle-button ai-button"></div><div _ngcontent-sph-c106="" class="handle-button line-button"><div _ngcontent-sph-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sph-c106="" class="handle-button theme-button"><div _ngcontent-sph-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sph-c106="" class="handle-button copy-button"><div _ngcontent-sph-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sph-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" hw-language="json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span></li><li>  <span class="hljs-attr">"shortcuts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>   <span class="hljs-punctuation">{</span></li><li>      <span class="hljs-attr">"shortcutId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"id_test1"</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// 标识快捷方式，在应用有多个快捷方式时，该字段可作为快捷方式的唯一标识符，不支持通过资源索引的方式（$string）配置该字段</span></li><li>      <span class="hljs-attr">"label"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$string:add"</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// 标识该快捷方式对外显示的名称</span></li><li>      <span class="hljs-attr">"icon"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$media:add_icon"</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// 标识该快捷方式对外显示的图片，需要在entry/src/main/resources/base/media中添加名称为add_icon的图片</span></li><li>      <span class="hljs-attr">"wants"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>        <span class="hljs-punctuation">{</span></li><li>          <span class="hljs-attr">"bundleName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"com.ohos.hello"</span><span class="hljs-punctuation">,</span>   <span class="hljs-comment">// 对应该快捷方式对应拉起组件的包名</span></li><li>          <span class="hljs-attr">"moduleName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"entry"</span><span class="hljs-punctuation">,</span>    <span class="hljs-comment">// 对应该快捷方式对应拉起组件的模块名</span></li><li>          <span class="hljs-attr">"abilityName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"EntryAbility1"</span><span class="hljs-punctuation">,</span>   <span class="hljs-comment">// 对应该快捷方式对应拉起组件的组件名</span></li><li>          <span class="hljs-attr">"parameters"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"testKey"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"testValue"</span>   <span class="hljs-comment">// 表示拉起快捷方式时的自定义数据</span></li><li>          <span class="hljs-punctuation">}</span></li><li>        <span class="hljs-punctuation">}</span></li><li>      <span class="hljs-punctuation">]</span></li><li>    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-punctuation">{</span></li><li>      <span class="hljs-attr">"shortcutId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"id_test2"</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// 标识快捷方式，在应用有多个快捷方式时，该字段可作为快捷方式的唯一标识符，不支持通过资源索引的方式（$string）配置该字段</span></li><li>      <span class="hljs-attr">"label"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$string:share"</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// 标识该快捷方式对外显示的名称</span></li><li>      <span class="hljs-attr">"icon"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$media:share_icon"</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// 标识该快捷方式对外显示的图片，需要在entry/src/main/resources/base/media中添加名称为share_icon的图片</span></li><li>      <span class="hljs-attr">"wants"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>        <span class="hljs-punctuation">{</span></li><li>          <span class="hljs-attr">"bundleName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"com.ohos.hello"</span><span class="hljs-punctuation">,</span>   <span class="hljs-comment">// 对应该快捷方式对应拉起组件的包名</span></li><li>          <span class="hljs-attr">"moduleName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"entry"</span><span class="hljs-punctuation">,</span>    <span class="hljs-comment">// 对应该快捷方式对应拉起组件的模块名</span></li><li>          <span class="hljs-attr">"abilityName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"EntryAbility"</span><span class="hljs-punctuation">,</span>   <span class="hljs-comment">// 对应该快捷方式对应拉起组件的组件名</span></li><li>          <span class="hljs-attr">"parameters"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"testKey"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"testValue"</span>   <span class="hljs-comment">// 表示拉起快捷方式时的自定义数据</span></li><li>          <span class="hljs-punctuation">}</span></li><li>        <span class="hljs-punctuation">}</span></li><li>      <span class="hljs-punctuation">]</span></li><li>    <span class="hljs-punctuation">}</span></li><li>  <span class="hljs-punctuation">]</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div>  </li><li><p>在应用的module.json5文件中配置metadata，指向快捷方式的配置文件。</p>  <div _ngcontent-sph-c106="" class="highlight-div"><div _ngcontent-sph-c106="" class="highlight-div-header"><div _ngcontent-sph-c106="" class="highlight-div-header-left"><div _ngcontent-sph-c106="" class="handle-button expand-button"><div _ngcontent-sph-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sph-c106="" class="highlight-div-header-right"><div _ngcontent-sph-c106="" class="handle-button ai-button"></div><div _ngcontent-sph-c106="" class="handle-button line-button"><div _ngcontent-sph-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sph-c106="" class="handle-button theme-button"><div _ngcontent-sph-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sph-c106="" class="handle-button copy-button"><div _ngcontent-sph-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sph-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" hw-language="json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span></li><li>  <span class="hljs-attr">"module"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>  <span class="hljs-comment">// ...</span></li><li>    <span class="hljs-attr">"abilities"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>      <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"EntryAbility"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"srcEntry"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./ets/entryability/EntryAbility.ets"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-comment">// ...</span></li><li>        <span class="hljs-attr">"metadata"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>          <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ohos.ability.shortcuts"</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// 配置快捷方式，该值固定为ohos.ability.shortcuts</span></li><li>            <span class="hljs-attr">"resource"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$profile:shortcuts_config"</span>  <span class="hljs-comment">// 指定shortcuts信息的资源位置</span></li><li>          <span class="hljs-punctuation">}</span></li><li>        <span class="hljs-punctuation">]</span></li><li>      <span class="hljs-punctuation">}</span></li><li>    <span class="hljs-punctuation">]</span></li><li>  <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div>  </li></ol> <p>安装应用后，长按桌面上的应用图标，图标上方会显示开发者配置的快捷方式：“添加收藏”和“分享好友”。点击相应标签，可启动对应的组件。应用配置的静态快捷方式在桌面上的展示效果如下图所示。</p> <span><img originheight="242" originwidth="211" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114346.52237106583000892509441431178682:50001231000000:2800:EE078573051066CB84ACAC4E821D25155CEBEB3E0502D22130A9477906A62289.jpg" class="notEnlarge" width="211" height="242"></span></div> </div> <div></div></div>