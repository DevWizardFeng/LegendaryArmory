<h1 _ngcontent-xqs-c119="" class="doc-title ng-star-inserted" title="创建弧形轮播 (ArcSwiper)（圆形屏幕推荐使用）"> 创建弧形轮播 (ArcSwiper)（圆形屏幕推荐使用） </h1>

<div _ngcontent-xqs-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>ArcSwiper是弧形轮播组件，在圆形屏幕场景下使用，提供弧形轮播显示能力。具体用法请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-arcswiper" target="_blank">ArcSwiper</a>。</p>    <p>在使用ArcSwiper组件之前，需要在代码中先导入ArcSwiper模块。</p>    <div _ngcontent-xqs-c106="" class="highlight-div"><div _ngcontent-xqs-c106="" class="highlight-div-header"><div _ngcontent-xqs-c106="" class="highlight-div-header-left"><div _ngcontent-xqs-c106="" class="handle-button expand-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xqs-c106="" class="highlight-div-header-right"><div _ngcontent-xqs-c106="" class="handle-button ai-button"></div><div _ngcontent-xqs-c106="" class="handle-button line-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xqs-c106="" class="handle-button theme-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xqs-c106="" class="handle-button copy-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xqs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {</li><li>  <span class="hljs-title class_">ArcSwiper</span>,</li><li>  <span class="hljs-title class_">ArcSwiperAttribute</span>,</li><li>  <span class="hljs-title class_">ArcDotIndicator</span>,</li><li>  <span class="hljs-title class_">ArcDirection</span>,</li><li>  <span class="hljs-title class_">ArcSwiperController</span></li><li>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li></ol></pre></div></div>    <div class="tiledSection">     <h2 id="设置导航点样式">设置导航点样式<i class="anchor-icon anchor-icon-link" anchorid="设置导航点样式" tips="复制节点链接"></i></h2>          <p>ArcSwiper提供了默认的弧形导航点样式，导航点默认显示在ArcSwiper下方居中位置，开发者也可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-arcswiper#indicator" target="_blank">indicator</a>属性自定义弧形导航点的样式。</p>     <p>通过indicator属性，开发者可以设置弧形导航点的方向，同时也可以设置导航点和被选中导航点的颜色。</p>     <ul>      <li>       <p>导航点使用默认样式</p>       <div _ngcontent-xqs-c106="" class="highlight-div"><div _ngcontent-xqs-c106="" class="highlight-div-header"><div _ngcontent-xqs-c106="" class="highlight-div-header-left"><div _ngcontent-xqs-c106="" class="handle-button expand-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xqs-c106="" class="highlight-div-header-right"><div _ngcontent-xqs-c106="" class="handle-button ai-button"></div><div _ngcontent-xqs-c106="" class="handle-button line-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xqs-c106="" class="handle-button theme-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xqs-c106="" class="handle-button copy-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xqs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">ArcSwiper</span>() {</li><li>  <span class="hljs-title class_">Text</span>(<span class="hljs-string">'0'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-number">233</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-number">233</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>    .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>    .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>
</li><li>  <span class="hljs-title class_">Text</span>(<span class="hljs-string">'1'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-number">233</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-number">233</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>)</li><li>    .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>    .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>
</li><li>  <span class="hljs-title class_">Text</span>(<span class="hljs-string">'2'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-number">233</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-number">233</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>)</li><li>    .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>    .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>}</li></ol></pre></div></div>       <p><span><img originheight="344" originwidth="336" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114840.55542990222083987385517416463492:50001231000000:2800:F55B1FF73B691A17858B85478F00B2E854086F3350B49031AF58078061D94D4B.png" width="336" height="344"></span></p></li>      <li>       <p>自定义导航点样式</p>       <p>导航点位于ArcSwiper组件6点钟方向，导航点颜色设为红色，被选中导航点颜色为蓝色。</p>       <div _ngcontent-xqs-c106="" class="highlight-div"><div _ngcontent-xqs-c106="" class="highlight-div-header"><div _ngcontent-xqs-c106="" class="highlight-div-header-left"><div _ngcontent-xqs-c106="" class="handle-button expand-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xqs-c106="" class="highlight-div-header-right"><div _ngcontent-xqs-c106="" class="handle-button ai-button"></div><div _ngcontent-xqs-c106="" class="handle-button line-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xqs-c106="" class="handle-button theme-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xqs-c106="" class="handle-button copy-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xqs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">ArcSwiper</span>() {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>.<span class="hljs-title function_">indicator</span>(</li><li>  <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArcDotIndicator</span>()</li><li>    .<span class="hljs-title function_">arcDirection</span>(<span class="hljs-title class_">ArcDirection</span>.<span class="hljs-property">SIX_CLOCK_DIRECTION</span>) <span class="hljs-comment">// 设置导航点位于6点钟方向</span></li><li>    .<span class="hljs-title function_">itemColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>) <span class="hljs-comment">// 设置导航点颜色为红色</span></li><li>    .<span class="hljs-title function_">selectedItemColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span>) <span class="hljs-comment">// 设置选中导航点颜色为蓝色</span></li><li>)</li></ol></pre></div></div>       <p><span><img originheight="334" originwidth="336" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114840.09080164720116554327418593354207:50001231000000:2800:C437B90419DAE1662F63A685767F81C3B07DAE91A9082EA0FF6431A1A1AF2FA7.png" width="336" height="334"></span></p></li>     </ul>    </div>    <div class="tiledSection">     <h2 id="控制页面切换方式">控制页面切换方式<i class="anchor-icon anchor-icon-link" anchorid="控制页面切换方式" tips="复制节点链接"></i></h2>          <p>ArcSwiper支持滑动手指、点击导航点、旋转表冠和控制控制器四种方式切换页面。以下示例展示通过控制控制器和旋转表冠翻页的方法。</p>     <ul>      <li>       <p>控制控制器翻页。</p>       <div _ngcontent-xqs-c106="" class="highlight-div"><div _ngcontent-xqs-c106="" class="highlight-div-header"><div _ngcontent-xqs-c106="" class="highlight-div-header-left"><div _ngcontent-xqs-c106="" class="handle-button expand-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xqs-c106="" class="highlight-div-header-right"><div _ngcontent-xqs-c106="" class="handle-button ai-button"></div><div _ngcontent-xqs-c106="" class="handle-button line-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xqs-c106="" class="handle-button theme-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xqs-c106="" class="handle-button copy-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xqs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 导入ArcButton和ArcSwiper模块</span></li><li><span class="hljs-keyword">import</span> {</li><li>  <span class="hljs-title class_">ArcButton</span>,</li><li>  <span class="hljs-title class_">ArcButtonOptions</span>,</li><li>  <span class="hljs-title class_">ArcButtonStatus</span>,</li><li>  <span class="hljs-title class_">ArcButtonStyleMode</span>,</li><li>  <span class="hljs-title class_">ArcButtonPosition</span>,</li><li>  <span class="hljs-title class_">ArcSwiper</span>,</li><li>  <span class="hljs-title class_">ArcSwiperAttribute</span>, <span class="hljs-comment">// ArcSwiper的属性依赖ArcSwiperAttribute对象导入，不建议删除该对象的引入。</span></li><li>  <span class="hljs-title class_">ArcSwiperController</span></li><li>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">SwiperCustomAnimationExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">wearableSwiperController</span>: <span class="hljs-title class_">ArcSwiperController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArcSwiperController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Stack</span>() {</li><li>        <span class="hljs-title class_">ArcSwiper</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">wearableSwiperController</span>) {</li><li>          <span class="hljs-comment">// ...</span></li><li>        }</li><li>        .<span class="hljs-title function_">vertical</span>(<span class="hljs-literal">true</span>)</li><li>        .<span class="hljs-title function_">indicator</span>(<span class="hljs-literal">false</span>)</li><li>
</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">ArcButton</span>({</li><li>            <span class="hljs-attr">options</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArcButtonOptions</span>({</li><li>              <span class="hljs-attr">label</span>: <span class="hljs-string">'previous'</span>,</li><li>              <span class="hljs-attr">position</span>: <span class="hljs-title class_">ArcButtonPosition</span>.<span class="hljs-property">TOP_EDGE</span>,</li><li>              <span class="hljs-attr">styleMode</span>: <span class="hljs-title class_">ArcButtonStyleMode</span>.<span class="hljs-property">EMPHASIZED_LIGHT</span>,</li><li>              <span class="hljs-attr">onClick</span>: <span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">wearableSwiperController</span>.<span class="hljs-title function_">showPrevious</span>(); <span class="hljs-comment">// 通过controller切换到前一页</span></li><li>              }</li><li>            })</li><li>          })</li><li>
</li><li>          <span class="hljs-title class_">Blank</span>()</li><li>
</li><li>          <span class="hljs-title class_">ArcButton</span>({</li><li>            <span class="hljs-attr">options</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArcButtonOptions</span>({</li><li>              <span class="hljs-attr">label</span>: <span class="hljs-string">'next'</span>,</li><li>              <span class="hljs-attr">position</span>: <span class="hljs-title class_">ArcButtonPosition</span>.<span class="hljs-property">BOTTOM_EDGE</span>,</li><li>              <span class="hljs-attr">styleMode</span>: <span class="hljs-title class_">ArcButtonStyleMode</span>.<span class="hljs-property">EMPHASIZED_LIGHT</span>,</li><li>              <span class="hljs-attr">onClick</span>: <span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">wearableSwiperController</span>.<span class="hljs-title function_">showNext</span>(); <span class="hljs-comment">// 通过controller切换到后一页</span></li><li>              }</li><li>            })</li><li>          })</li><li>        }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>      }</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>       <p><span><img originheight="275" originwidth="273" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114840.87673032026663308374923595826653:50001231000000:2800:84E30924087294F01BCA10534341D86E9D1055E820B3B39184F0FFC6A9D74F47.gif" class="notEnlarge" width="273" height="275"></span></p></li>      <li>       <p>旋转表冠翻页。</p>       <p>ArcSwiper在获得焦点时能够响应旋转表冠的操作，用户可以通过旋转表冠来滑动ArcSwiper，从而浏览数据。</p>       <div _ngcontent-xqs-c106="" class="highlight-div"><div _ngcontent-xqs-c106="" class="highlight-div-header"><div _ngcontent-xqs-c106="" class="highlight-div-header-left"><div _ngcontent-xqs-c106="" class="handle-button expand-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xqs-c106="" class="highlight-div-header-right"><div _ngcontent-xqs-c106="" class="handle-button ai-button"></div><div _ngcontent-xqs-c106="" class="handle-button line-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xqs-c106="" class="handle-button theme-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xqs-c106="" class="handle-button copy-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xqs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">ArcSwiper</span>() {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>.<span class="hljs-title function_">focusable</span>(<span class="hljs-literal">true</span>)</li><li>.<span class="hljs-title function_">focusOnTouch</span>(<span class="hljs-literal">true</span>)</li><li>.<span class="hljs-title function_">defaultFocus</span>(<span class="hljs-literal">true</span>)</li></ol></pre></div></div>       <p>还可以通过设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-arcswiper#digitalcrownsensitivity" target="_blank">digitalCrownSensitivity</a>属性来调整表冠对事件响应的灵敏度，以适应不同规模的数据处理。在处理大量数据时，可以提高响应事件的灵敏度；而在处理少量数据时，则可以降低灵敏度设置。</p>       <div _ngcontent-xqs-c106="" class="highlight-div"><div _ngcontent-xqs-c106="" class="highlight-div-header"><div _ngcontent-xqs-c106="" class="highlight-div-header-left"><div _ngcontent-xqs-c106="" class="handle-button expand-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xqs-c106="" class="highlight-div-header-right"><div _ngcontent-xqs-c106="" class="handle-button ai-button"></div><div _ngcontent-xqs-c106="" class="handle-button line-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xqs-c106="" class="handle-button theme-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xqs-c106="" class="handle-button copy-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xqs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">ArcSwiper</span>() {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>.<span class="hljs-title function_">digitalCrownSensitivity</span>(<span class="hljs-title class_">CrownSensitivity</span>.<span class="hljs-property">MEDIUM</span>)</li></ol></pre></div></div></li>     </ul>    </div>    <div class="tiledSection">     <h2 id="设置轮播方向">设置轮播方向<i class="anchor-icon anchor-icon-link" anchorid="设置轮播方向" tips="复制节点链接"></i></h2>          <p>ArcSwiper支持水平和垂直方向上进行轮播，主要通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-arcswiper#vertical" target="_blank">vertical</a>属性控制。</p>     <p>当vertical为true时，表示在垂直方向上进行轮播；为false时，表示在水平方向上进行轮播。vertical默认值为false。</p>     <ul>      <li>       <p>设置水平方向上轮播。</p>       <div _ngcontent-xqs-c106="" class="highlight-div"><div _ngcontent-xqs-c106="" class="highlight-div-header"><div _ngcontent-xqs-c106="" class="highlight-div-header-left"><div _ngcontent-xqs-c106="" class="handle-button expand-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xqs-c106="" class="highlight-div-header-right"><div _ngcontent-xqs-c106="" class="handle-button ai-button"></div><div _ngcontent-xqs-c106="" class="handle-button line-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xqs-c106="" class="handle-button theme-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xqs-c106="" class="handle-button copy-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xqs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">ArcSwiper</span>() {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>.<span class="hljs-title function_">indicator</span>(<span class="hljs-literal">true</span>)</li><li>.<span class="hljs-title function_">vertical</span>(<span class="hljs-literal">false</span>)</li></ol></pre></div></div>       <p><span><img originheight="344" originwidth="336" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114840.33037946624294636136682647377629:50001231000000:2800:DFF76FC25E84219A20146702B16C242C923A0D32F1BC3EDC4FC566096254608B.png" width="336" height="344"></span></p></li>      <li>       <p>设置垂直方向轮播，导航点设为3点钟方向。</p>       <div _ngcontent-xqs-c106="" class="highlight-div"><div _ngcontent-xqs-c106="" class="highlight-div-header"><div _ngcontent-xqs-c106="" class="highlight-div-header-left"><div _ngcontent-xqs-c106="" class="handle-button expand-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xqs-c106="" class="highlight-div-header-right"><div _ngcontent-xqs-c106="" class="handle-button ai-button"></div><div _ngcontent-xqs-c106="" class="handle-button line-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xqs-c106="" class="handle-button theme-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xqs-c106="" class="handle-button copy-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xqs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">ArcSwiper</span>() {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>.<span class="hljs-title function_">indicator</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ArcDotIndicator</span>()</li><li>    .<span class="hljs-title function_">arcDirection</span>(<span class="hljs-title class_">ArcDirection</span>.<span class="hljs-property">THREE_CLOCK_DIRECTION</span>))</li><li>.<span class="hljs-title function_">vertical</span>(<span class="hljs-literal">true</span>)</li></ol></pre></div></div>       <p><span><img originheight="322" originwidth="334" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114840.72741957657084124279235457430408:50001231000000:2800:C873C4383237229118F2745143EABE5D948C7B0E7612AE688FB619E45562A745.png" width="334" height="322"></span></p></li>     </ul>    </div>    <div class="tiledSection">     <h2 id="自定义切换动画">自定义切换动画<i class="anchor-icon anchor-icon-link" anchorid="自定义切换动画" tips="复制节点链接"></i></h2>          <p>ArcSwiper支持通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-arcswiper#customcontenttransition" target="_blank">customContentTransition</a>设置自定义切换动画，可以在回调中对视窗内所有页面逐帧设置透明度、缩放比例、位移、渲染层级等属性，从而实现自定义切换动画效果。</p>     <div _ngcontent-xqs-c106="" class="highlight-div"><div _ngcontent-xqs-c106="" class="highlight-div-header"><div _ngcontent-xqs-c106="" class="highlight-div-header-left"><div _ngcontent-xqs-c106="" class="handle-button expand-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xqs-c106="" class="highlight-div-header-right"><div _ngcontent-xqs-c106="" class="handle-button ai-button"></div><div _ngcontent-xqs-c106="" class="handle-button line-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xqs-c106="" class="handle-button theme-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xqs-c106="" class="handle-button copy-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xqs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Decimal</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li><span class="hljs-keyword">import</span> {</li><li>  <span class="hljs-title class_">ArcSwiper</span>,</li><li>  <span class="hljs-title class_">ArcSwiperAttribute</span>, <span class="hljs-comment">// ArcSwiper的属性依赖ArcSwiperAttribute对象导入，不建议删除该对象的引入。</span></li><li>  <span class="hljs-title class_">ArcDotIndicator</span>,</li><li>  <span class="hljs-title class_">ArcDirection</span>,</li><li>  <span class="hljs-title class_">ArcSwiperController</span></li><li>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">SwiperCustomAnimationExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">MIN_SCALE</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0.1</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">backgroundColors</span>: <span class="hljs-title class_">Color</span>[] = [<span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>, <span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span>, <span class="hljs-title class_">Color</span>.<span class="hljs-property">Yellow</span>, <span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>, <span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>, <span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>];</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">opacityList</span>: <span class="hljs-built_in">number</span>[] = [];</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">scaleList</span>: <span class="hljs-built_in">number</span>[] = [];</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">backgroundColors</span>.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">opacityList</span>.<span class="hljs-title function_">push</span>(<span class="hljs-number">1.0</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleList</span>.<span class="hljs-title function_">push</span>(<span class="hljs-number">1.0</span>);</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">ArcSwiper</span>() {</li><li>        <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">backgroundColors</span>, <span class="hljs-function">(<span class="hljs-params">backgroundColor: Color, index: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">Text</span>(index.<span class="hljs-title function_">toString</span>())</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-number">233</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">233</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>            .<span class="hljs-title function_">backgroundColor</span>(backgroundColor)</li><li>            .<span class="hljs-title function_">opacity</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">opacityList</span>[index])</li><li>            .<span class="hljs-title function_">scale</span>({ <span class="hljs-attr">x</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleList</span>[index], <span class="hljs-attr">y</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleList</span>[index] })</li><li>        })</li><li>      }</li><li>      .<span class="hljs-title function_">customContentTransition</span>({</li><li>        <span class="hljs-attr">timeout</span>: <span class="hljs-number">1000</span>,</li><li>        <span class="hljs-attr">transition</span>: <span class="hljs-function">(<span class="hljs-params">proxy: SwiperContentTransitionProxy</span>) =&gt;</span> {</li><li>          <span class="hljs-keyword">if</span> (proxy.<span class="hljs-property">position</span> &lt;= -<span class="hljs-number">1</span> || proxy.<span class="hljs-property">position</span> &gt;= <span class="hljs-number">1</span>) {</li><li>            <span class="hljs-comment">// 页面完全滑出视窗外时，重置属性值</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">opacityList</span>[proxy.<span class="hljs-property">index</span>] = <span class="hljs-number">1.0</span>;</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleList</span>[proxy.<span class="hljs-property">index</span>] = <span class="hljs-number">1.0</span>;</li><li>          } <span class="hljs-keyword">else</span> {</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">position</span>: <span class="hljs-built_in">number</span> = <span class="hljs-title class_">Decimal</span>.<span class="hljs-title function_">abs</span>(proxy.<span class="hljs-property">position</span>).<span class="hljs-title function_">toNumber</span>();</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">opacityList</span>[proxy.<span class="hljs-property">index</span>] = <span class="hljs-number">1</span> - position;</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleList</span>[proxy.<span class="hljs-property">index</span>] =</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">MIN_SCALE</span> + (<span class="hljs-number">1</span> - <span class="hljs-variable language_">this</span>.<span class="hljs-property">MIN_SCALE</span>) * (<span class="hljs-number">1</span> - position);</li><li>          }</li><li>        }</li><li>      })</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="270" originwidth="270" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114840.43154892198397524657929701445723:50001231000000:2800:9B03C65F068EA14F880DE1867745151ED83F56F734F8778AE833EEC0114FFF3B.gif" class="notEnlarge" width="270" height="270"></span></p>    </div>    <div class="tiledSection">     <h2 id="实现侧滑返回">实现侧滑返回<i class="anchor-icon anchor-icon-link" anchorid="实现侧滑返回" tips="复制节点链接"></i></h2>          <p>ArcSwiper的滑动事件会与侧滑返回冲突，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-gesture-blocking-enhancement#ongesturerecognizerjudgebegin" target="_blank">手势拦截</a>去判断ArcSwiper是否滑动到开头去拦截ArcSwiper的滑动手势，实现再次左滑返回上一页的功能。</p>     <div _ngcontent-xqs-c106="" class="highlight-div"><div _ngcontent-xqs-c106="" class="highlight-div-header"><div _ngcontent-xqs-c106="" class="highlight-div-header-left"><div _ngcontent-xqs-c106="" class="handle-button expand-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xqs-c106="" class="highlight-div-header-right"><div _ngcontent-xqs-c106="" class="handle-button ai-button"></div><div _ngcontent-xqs-c106="" class="handle-button line-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xqs-c106="" class="handle-button theme-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xqs-c106="" class="handle-button copy-button"><div _ngcontent-xqs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xqs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {</li><li>  <span class="hljs-title class_">ArcSwiper</span>,</li><li>  <span class="hljs-title class_">ArcSwiperAttribute</span>, <span class="hljs-comment">// ArcSwiper的属性依赖ArcSwiperAttribute对象导入，不建议删除该对象的引入。</span></li><li>  <span class="hljs-title class_">ArcDotIndicator</span>,</li><li>  <span class="hljs-title class_">ArcDirection</span>,</li><li>  <span class="hljs-title class_">ArcSwiperController</span></li><li>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">SwiperCustomAnimationExample</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">backgroundColors</span>: <span class="hljs-title class_">Color</span>[] = [<span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>, <span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span>, <span class="hljs-title class_">Color</span>.<span class="hljs-property">Yellow</span>, <span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>, <span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>, <span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>];</li><li>  <span class="hljs-attr">innerSelectedIndex</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">ArcSwiper</span>() {</li><li>        <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">backgroundColors</span>, <span class="hljs-function">(<span class="hljs-params">backgroundColor: Color, index: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">Text</span>(index.<span class="hljs-title function_">toString</span>())</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-number">233</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">233</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>            .<span class="hljs-title function_">backgroundColor</span>(backgroundColor)</li><li>        })</li><li>      }</li><li>      .<span class="hljs-title function_">onAnimationStart</span>(<span class="hljs-function">(<span class="hljs-params">index: <span class="hljs-built_in">number</span>, targetIndex: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">innerSelectedIndex</span> = targetIndex;</li><li>      })</li><li>      .<span class="hljs-title function_">onGestureRecognizerJudgeBegin</span>((<span class="hljs-attr">event</span>: <span class="hljs-title class_">BaseGestureEvent</span>, <span class="hljs-attr">current</span>: <span class="hljs-title class_">GestureRecognizer</span>,</li><li>        <span class="hljs-attr">others</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">GestureRecognizer</span>&gt;): <span class="hljs-function"><span class="hljs-params">GestureJudgeResult</span> =&gt;</span> { <span class="hljs-comment">// 在识别器即将要成功时，根据当前组件状态，设置识别器使能状态</span></li><li>        <span class="hljs-keyword">if</span> (current) {</li><li>          <span class="hljs-keyword">let</span> target = current.<span class="hljs-title function_">getEventTargetInfo</span>();</li><li>          <span class="hljs-keyword">if</span> (target &amp;&amp; current.<span class="hljs-title function_">isBuiltIn</span>() &amp;&amp; current.<span class="hljs-title function_">getType</span>() == <span class="hljs-title class_">GestureControl</span>.<span class="hljs-property">GestureType</span>.<span class="hljs-property">PAN_GESTURE</span>) {</li><li>            <span class="hljs-keyword">let</span> swiperTarget = target <span class="hljs-keyword">as</span> <span class="hljs-title class_">ScrollableTargetInfo</span>;</li><li>            <span class="hljs-keyword">if</span> (swiperTarget <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">ScrollableTargetInfo</span> &amp;&amp;</li><li>              (swiperTarget.<span class="hljs-title function_">isBegin</span>() || <span class="hljs-variable language_">this</span>.<span class="hljs-property">innerSelectedIndex</span> === <span class="hljs-number">0</span>)) { <span class="hljs-comment">// 此处判断swiperTarget.isBegin()或innerSelectedIndex === 0，表明ArcSwiper滑动到开头</span></li><li>              <span class="hljs-keyword">let</span> panEvent = event <span class="hljs-keyword">as</span> <span class="hljs-title class_">PanGestureEvent</span>;</li><li>              <span class="hljs-keyword">if</span> (panEvent &amp;&amp; panEvent.<span class="hljs-property">offsetX</span> &gt; <span class="hljs-number">0</span> &amp;&amp; (swiperTarget.<span class="hljs-title function_">isBegin</span>() || <span class="hljs-variable language_">this</span>.<span class="hljs-property">innerSelectedIndex</span> === <span class="hljs-number">0</span>)) {</li><li>                <span class="hljs-keyword">return</span> <span class="hljs-title class_">GestureJudgeResult</span>.<span class="hljs-property">REJECT</span>;</li><li>              }</li><li>            }</li><li>          }</li><li>        }</li><li>        <span class="hljs-keyword">return</span> <span class="hljs-title class_">GestureJudgeResult</span>.<span class="hljs-property">CONTINUE</span>;</li><li>      })</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>