<h1 _ngcontent-qob-c119="" class="doc-title ng-star-inserted" title="删除数据"> 删除数据 </h1>

<div _ngcontent-qob-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>开发者可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section1630522892714" target="_blank">delete()</a>删除单个对象或者一组对象。删除数据时，云数据库会根据传入对象主键删除相应的数据，不会比对该对象其它属性与存储的数据是否一致。删除一组对象时，删除操作是原子性的，即对象列表中的对象要么全部删除成功，要么全部删除失败。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <ul>       <li>删除一组对象时，该组中的对象必须属于同一个对象类型，否则会导致删除失败。</li>       <li>调用删除数据方法，有两种返回方式，返回一个Promise对象或者在参数中传入一个callback对象返回，本文以Promise为例详细说明。</li>      </ul>     </div></div></div>    <div class="tiledSection">     <h2 id="section133632819295">约束与限制<i class="anchor-icon anchor-icon-link" anchorid="section133632819295" tips="复制节点链接"></i></h2>          <p id="ZH-CN_TOPIC_0000002440774396__zh-cn_topic_0000002440774444_p176909276175">支持Phone、Tablet设备。并且从5.1.0(18)版本开始，新增支持Wearable设备；从5.1.1(19)版本开始，新增支持TV设备。</p>    </div>    <div class="tiledSection">     <h2 id="section160501863017">前提条件<i class="anchor-icon anchor-icon-link" anchorid="section160501863017" tips="复制节点链接"></i></h2>          <p>已<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/cloudfoundation-database-initialize">初始化数据库访问</a>。</p>    </div>    <div class="tiledSection">     <h2 id="section163589139364">删除数据<i class="anchor-icon anchor-icon-link" anchorid="section163589139364" tips="复制节点链接"></i></h2>          <p><strong>代码示例：</strong></p>     <p>将对象删除，如果删除成功，返回删除对象的个数；执行失败，抛出异常。</p>     <div _ngcontent-qob-c106="" class="highlight-div"><div _ngcontent-qob-c106="" class="highlight-div-header"><div _ngcontent-qob-c106="" class="highlight-div-header-left"><div _ngcontent-qob-c106="" class="handle-button expand-button"><div _ngcontent-qob-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qob-c106="" class="highlight-div-header-right"><div _ngcontent-qob-c106="" class="handle-button ai-button"></div><div _ngcontent-qob-c106="" class="handle-button line-button"><div _ngcontent-qob-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qob-c106="" class="handle-button theme-button"><div _ngcontent-qob-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qob-c106="" class="handle-button copy-button"><div _ngcontent-qob-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qob-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 假设图书遗失，图书管理员需要将遗失的书籍从BookInfo表里删除</span></li><li><span class="hljs-keyword">async</span> <span class="hljs-title function_">delete</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> book = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BookInfo</span>(); </li><li>    book.<span class="hljs-property">id</span> = <span class="hljs-number">3</span>;</li><li>    <span class="hljs-keyword">let</span> deleteNum = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">delete</span>(book);</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Succeeded in deleting data, result: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(deleteNum)}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to delete data, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>