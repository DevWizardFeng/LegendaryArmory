<h1 _ngcontent-byl-c119="" class="doc-title ng-star-inserted" title="动画"> 动画 </h1>

<div _ngcontent-byl-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>动画分为<a href="/consumer/cn/doc/harmonyos-guides/ui-js-building-ui-animation#静态动画">静态动画</a>和<a href="/consumer/cn/doc/harmonyos-guides/ui-js-building-ui-animation#连续动画">连续动画</a>。</p>    <div class="tiledSection">     <h2 id="静态动画">静态动画<i class="anchor-icon anchor-icon-link" anchorid="静态动画" tips="复制节点链接"></i></h2>          <p>静态动画的核心是transform样式，主要可以实现以下三种变换类型，一次样式设置只能实现一种类型变换。</p>     <ul>      <li>       <p><strong>translate</strong>：沿水平或垂直方向将指定组件移动所需距离。</p></li>      <li>       <p><strong>scale</strong>：横向或纵向将指定组件缩小或放大到所需比例。</p></li>      <li>       <p><strong>rotate</strong>：将指定组件沿横轴或纵轴或中心点旋转指定的角度。</p></li>     </ul>     <p>具体的使用示例如下，更多信息请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-common-animation" target="_blank">动画样式</a>。</p>     <div _ngcontent-byl-c106="" class="highlight-div"><div _ngcontent-byl-c106="" class="highlight-div-header"><div _ngcontent-byl-c106="" class="highlight-div-header-left"><div _ngcontent-byl-c106="" class="handle-button expand-button"><div _ngcontent-byl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-byl-c106="" class="highlight-div-header-right"><div _ngcontent-byl-c106="" class="handle-button ai-button"></div><div _ngcontent-byl-c106="" class="handle-button line-button"><div _ngcontent-byl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-byl-c106="" class="handle-button theme-button"><div _ngcontent-byl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-byl-c106="" class="handle-button copy-button"><div _ngcontent-byl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-byl-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"translate"</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"rotate"</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"scale"</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>     <div _ngcontent-byl-c106="" class="highlight-div"><div _ngcontent-byl-c106="" class="highlight-div-header"><div _ngcontent-byl-c106="" class="highlight-div-header-left"><div _ngcontent-byl-c106="" class="handle-button expand-button"><div _ngcontent-byl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-byl-c106="" class="highlight-div-header-right"><div _ngcontent-byl-c106="" class="handle-button ai-button"></div><div _ngcontent-byl-c106="" class="handle-button line-button"><div _ngcontent-byl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-byl-c106="" class="handle-button theme-button"><div _ngcontent-byl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-byl-c106="" class="handle-button copy-button"><div _ngcontent-byl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-byl-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.container</span> {</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">flex-direction</span>: column;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>}</li><li><span class="hljs-selector-class">.translate</span> {</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">150px</span>;</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;</li><li>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">50px</span>;</li><li>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">50px</span>;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#008000</span>;</li><li>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(<span class="hljs-number">200px</span>);</li><li>}</li><li><span class="hljs-selector-class">.rotate</span> {</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">150px</span>;</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;</li><li>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">50px</span>;</li><li>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">50px</span>;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#008000</span>;</li><li>  <span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">200px</span> <span class="hljs-number">100px</span>;</li><li>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">45deg</span>);</li><li>}</li><li><span class="hljs-selector-class">.scale</span> {</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">150px</span>;</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;</li><li>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">50px</span>;</li><li>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">50px</span>;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#008000</span>;</li><li>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scaleX</span>(<span class="hljs-number">1.5</span>);</li><li>}</li></ol></pre></div></div>     <p><strong>图1</strong> 静态动画效果图</p>     <p><span><img originheight="215" originwidth="206" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114841.06124808878602606672250803389879:50001231000000:2800:EFBE1700D20B1FFD10DAD2B4197B9EC5DAB99715BE417E22BC7E0DC1EF12CFDA.png" class="notEnlarge" width="206" height="215"></span></p>    </div>    <div class="tiledSection">     <h2 id="连续动画">连续动画<i class="anchor-icon anchor-icon-link" anchorid="连续动画" tips="复制节点链接"></i></h2>          <p>静态动画只有开始状态和结束状态，没有中间状态，如果需要设置中间的过渡状态和转换效果，需要使用连续动画实现。</p>     <p>连续动画的核心是animation样式，它定义了动画的开始状态、结束状态以及时间和速度的变化曲线。通过animation样式可以实现的效果有：</p>     <ul>      <li>       <p><strong>animation-name</strong>：设置动画执行后应用到组件上的背景颜色、透明度、宽高和变换类型。</p></li>      <li>       <p><strong>animation-delay</strong>和<strong>animation-duration</strong>：分别设置动画执行后元素延迟和持续的时间。</p></li>      <li>       <p><strong>animation-timing-function</strong>：描述动画执行的速度曲线，使动画更加平滑。</p></li>      <li>       <p><strong>animation-iteration-count</strong>：定义动画播放的次数。</p></li>      <li>       <p><strong>animation-fill-mode</strong>：指定动画执行结束后是否恢复初始状态。</p></li>     </ul>     <p>animation样式需要在css文件中先定义keyframe，在keyframe中设置动画的过渡效果，并通过一个样式类型在hml文件中调用。animation-name的使用示例如下：</p>     <div _ngcontent-byl-c106="" class="highlight-div"><div _ngcontent-byl-c106="" class="highlight-div-header"><div _ngcontent-byl-c106="" class="highlight-div-header-left"><div _ngcontent-byl-c106="" class="handle-button expand-button"><div _ngcontent-byl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-byl-c106="" class="highlight-div-header-right"><div _ngcontent-byl-c106="" class="handle-button ai-button"></div><div _ngcontent-byl-c106="" class="handle-button line-button"><div _ngcontent-byl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-byl-c106="" class="handle-button theme-button"><div _ngcontent-byl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-byl-c106="" class="handle-button copy-button"><div _ngcontent-byl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-byl-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"item-container"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"item {{colorParam}}"</span>&gt;</span></li><li>        <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"txt"</span>&gt;</span>color<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"item {{opacityParam}}"</span>&gt;</span></li><li>        <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"txt"</span>&gt;</span>opacity<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">""</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"show"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"showAnimation"</span>/&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>     <div _ngcontent-byl-c106="" class="highlight-div"><div _ngcontent-byl-c106="" class="highlight-div-header"><div _ngcontent-byl-c106="" class="highlight-div-header-left"><div _ngcontent-byl-c106="" class="handle-button expand-button"><div _ngcontent-byl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-byl-c106="" class="highlight-div-header-right"><div _ngcontent-byl-c106="" class="handle-button ai-button"></div><div _ngcontent-byl-c106="" class="handle-button line-button"><div _ngcontent-byl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-byl-c106="" class="handle-button theme-button"><div _ngcontent-byl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-byl-c106="" class="handle-button copy-button"><div _ngcontent-byl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-byl-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.item-container</span> {</li><li>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">60px</span>;</li><li>  <span class="hljs-attribute">flex-direction</span>: column;</li><li>}</li><li><span class="hljs-selector-class">.item</span> {</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">80%</span>;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f76160</span>;</li><li>}</li><li><span class="hljs-selector-class">.txt</span> {</li><li>  <span class="hljs-attribute">text-align</span>: center;</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</li><li>}</li><li><span class="hljs-selector-class">.button</span> {</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</li><li>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span>;</li><li>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">30px</span>;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#09ba07</span>;</li><li>}</li><li><span class="hljs-selector-class">.color</span> {</li><li>  <span class="hljs-attribute">animation-name</span>: Color;</li><li>  <span class="hljs-attribute">animation-duration</span>: <span class="hljs-number">8000ms</span>;</li><li>}</li><li><span class="hljs-selector-class">.opacity</span> {</li><li>  <span class="hljs-attribute">animation-name</span>: Opacity;</li><li>  <span class="hljs-attribute">animation-duration</span>: <span class="hljs-number">8000ms</span>;</li><li>}</li><li><span class="hljs-keyword">@keyframes</span> <span class="hljs-attribute">Color</span> {</li><li>  <span class="hljs-selector-tag">from</span> {</li><li>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f76160</span>;</li><li>  }</li><li>  <span class="hljs-selector-tag">to</span> {</li><li>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#09ba07</span>;</li><li>  }</li><li>}</li><li><span class="hljs-keyword">@keyframes</span> Opacity {</li><li>  <span class="hljs-selector-tag">from</span> {</li><li>    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.9</span>;</li><li>  }</li><li>  <span class="hljs-selector-tag">to</span> {</li><li>    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.1</span>;</li><li>  }</li><li>}</li></ol></pre></div></div>     <div _ngcontent-byl-c106="" class="highlight-div"><div _ngcontent-byl-c106="" class="highlight-div-header"><div _ngcontent-byl-c106="" class="highlight-div-header-left"><div _ngcontent-byl-c106="" class="handle-button expand-button"><div _ngcontent-byl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-byl-c106="" class="highlight-div-header-right"><div _ngcontent-byl-c106="" class="handle-button ai-button"></div><div _ngcontent-byl-c106="" class="handle-button line-button"><div _ngcontent-byl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-byl-c106="" class="handle-button theme-button"><div _ngcontent-byl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-byl-c106="" class="handle-button copy-button"><div _ngcontent-byl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-byl-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>: {</li><li>    <span class="hljs-attr">colorParam</span>: <span class="hljs-string">''</span>,</li><li>    <span class="hljs-attr">opacityParam</span>: <span class="hljs-string">''</span>,</li><li>  },</li><li>  <span class="hljs-attr">showAnimation</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">colorParam</span> = <span class="hljs-string">''</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">opacityParam</span> = <span class="hljs-string">''</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">colorParam</span> = <span class="hljs-string">'color'</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">opacityParam</span> = <span class="hljs-string">'opacity'</span>;</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><strong>图2</strong> 连续动画效果图</p>     <p><span><img originheight="194" originwidth="178" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114841.63742395141333537992591091741094:50001231000000:2800:D3B180A2994C82DEFED127A8B856E0E23AB5F0DC8FC10E721135E21B308DDBB6.gif" class="notEnlarge" width="178" height="194"></span></p>    </div>   </div>   <div></div></div>