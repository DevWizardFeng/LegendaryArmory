<h1 _ngcontent-gds-c119="" class="doc-title ng-star-inserted" title="动画动效"> 动画动效 </h1>

<div _ngcontent-gds-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>通过设置插值器来实现动画效果。</p>    <div class="tiledSection">     <h2 id="创建动画对象">创建动画对象<i class="anchor-icon anchor-icon-link" anchorid="创建动画对象" tips="复制节点链接"></i></h2>          <p>通过createAnimator创建一个动画对象，通过设置参数options来设置动画的属性。</p>     <div _ngcontent-gds-c106="" class="highlight-div"><div _ngcontent-gds-c106="" class="highlight-div-header"><div _ngcontent-gds-c106="" class="highlight-div-header-left"><div _ngcontent-gds-c106="" class="handle-button expand-button"><div _ngcontent-gds-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gds-c106="" class="highlight-div-header-right"><div _ngcontent-gds-c106="" class="handle-button ai-button"></div><div _ngcontent-gds-c106="" class="handle-button line-button"><div _ngcontent-gds-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gds-c106="" class="handle-button theme-button"><div _ngcontent-gds-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gds-c106="" class="handle-button copy-button"><div _ngcontent-gds-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gds-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 300px;height: 300px;margin-top: 100px;background: linear-gradient(pink, purple);transform: translate({{translateVal}});"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"row"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"capsule"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"play"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"playAnimation"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>     <div _ngcontent-gds-c106="" class="highlight-div"><div _ngcontent-gds-c106="" class="highlight-div-header"><div _ngcontent-gds-c106="" class="highlight-div-header-left"><div _ngcontent-gds-c106="" class="handle-button expand-button"><div _ngcontent-gds-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gds-c106="" class="highlight-div-header-right"><div _ngcontent-gds-c106="" class="handle-button ai-button"></div><div _ngcontent-gds-c106="" class="handle-button line-button"><div _ngcontent-gds-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gds-c106="" class="handle-button theme-button"><div _ngcontent-gds-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gds-c106="" class="handle-button copy-button"><div _ngcontent-gds-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gds-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.container</span> {</li><li>  <span class="hljs-attribute">width</span>:<span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">height</span>:<span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">flex-direction</span>: column;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>  <span class="hljs-attribute">justify-content</span>: center;</li><li>}</li><li><span class="hljs-selector-tag">button</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</li><li>}</li><li><span class="hljs-selector-class">.row</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">65%</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>  <span class="hljs-attribute">justify-content</span>: space-between;</li><li>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">50px</span>;</li><li>  <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">260px</span>;</li><li>}</li></ol></pre></div></div>     <div _ngcontent-gds-c106="" class="highlight-div"><div _ngcontent-gds-c106="" class="highlight-div-header"><div _ngcontent-gds-c106="" class="highlight-div-header-left"><div _ngcontent-gds-c106="" class="handle-button expand-button"><div _ngcontent-gds-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gds-c106="" class="highlight-div-header-right"><div _ngcontent-gds-c106="" class="handle-button ai-button"></div><div _ngcontent-gds-c106="" class="handle-button line-button"><div _ngcontent-gds-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gds-c106="" class="handle-button theme-button"><div _ngcontent-gds-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gds-c106="" class="handle-button copy-button"><div _ngcontent-gds-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gds-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>: {</li><li>    <span class="hljs-attr">translateVal</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">animation</span>: <span class="hljs-literal">null</span></li><li>  },</li><li>  <span class="hljs-title function_">onInit</span>(<span class="hljs-params"></span>) {},</li><li>  <span class="hljs-title function_">onShow</span>(<span class="hljs-params"></span>){</li><li>    <span class="hljs-keyword">var</span> options = {</li><li>      <span class="hljs-attr">duration</span>: <span class="hljs-number">3000</span>,</li><li>      <span class="hljs-attr">easing</span>:<span class="hljs-string">"friction"</span>,</li><li>      <span class="hljs-attr">delay</span>:<span class="hljs-string">"1000"</span>,</li><li>      <span class="hljs-attr">fill</span>: <span class="hljs-string">'forwards'</span>,</li><li>      <span class="hljs-attr">direction</span>:<span class="hljs-string">'alternate'</span>,</li><li>      <span class="hljs-attr">iterations</span>: <span class="hljs-number">2</span>,</li><li>      <span class="hljs-attr">begin</span>: <span class="hljs-number">0</span>,</li><li>      <span class="hljs-attr">end</span>: <span class="hljs-number">180</span></li><li>    };<span class="hljs-comment">//设置参数</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">animation</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">createAnimator</span>(options);<span class="hljs-comment">//创建动画</span></li><li>  },</li><li>  <span class="hljs-title function_">playAnimation</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">var</span> _this = <span class="hljs-variable language_">this</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">animation</span>.<span class="hljs-property">onframe</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) {</li><li>      _this.<span class="hljs-property">translateVal</span>= value;</li><li>    };</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">animation</span>.<span class="hljs-title function_">play</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="293" originwidth="295" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114952.04513860143989137970760578842175:50001231000000:2800:99E98828A5F9439375BCF1781BBDDB318C63787C66B21310635FB900298B5343.gif" class="notEnlarge" width="295" height="293"></span></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>使用createAnimator创建动画对象时必须传入options参数。</p></li>        <li>         <p>begin插值起点，不设置时默认为0。</p></li>        <li>         <p>end插值终点，不设置时默认为1。</p></li>       </ul>      </div></div></div>    </div>    <div class="tiledSection">     <h2 id="添加动画事件和调用接口">添加动画事件和调用接口<i class="anchor-icon anchor-icon-link" anchorid="添加动画事件和调用接口" tips="复制节点链接"></i></h2>          <p>animator支持事件和接口，可以通过添加frame、cancel、repeat、finish事件和调用update、play、pause、cancel、reverse、finish接口自定义动画效果。animator支持的事件和接口具体见动画中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#createanimator" target="_blank">createAnimator</a>。</p>     <div _ngcontent-gds-c106="" class="highlight-div"><div _ngcontent-gds-c106="" class="highlight-div-header"><div _ngcontent-gds-c106="" class="highlight-div-header-left"><div _ngcontent-gds-c106="" class="handle-button expand-button"><div _ngcontent-gds-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gds-c106="" class="highlight-div-header-right"><div _ngcontent-gds-c106="" class="handle-button ai-button"></div><div _ngcontent-gds-c106="" class="handle-button line-button"><div _ngcontent-gds-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gds-c106="" class="handle-button theme-button"><div _ngcontent-gds-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gds-c106="" class="handle-button copy-button"><div _ngcontent-gds-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gds-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"flex-direction: column;align-items: center;width: 100%;height: 100%;"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width:200px;height: 200px;margin-top: 100px;background: linear-gradient(#b30d29, #dcac1b);</span></span></li><li><span class="hljs-tag">  transform: scale({{scaleVal}});"</span>&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: {{DivWidth}};height: {{DivHeight}};margin-top: 200px;</span></span></li><li><span class="hljs-tag">  background: linear-gradient(pink, purple);margin-top: 200px;transform:translateY({{translateVal}});"</span>&gt;</li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"row"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"capsule"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"play"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"playAnimation"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"capsule"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"update"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"updateAnimation"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"row1"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"capsule"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"pause"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"pauseAnimation"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"capsule"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"finish"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"finishAnimation"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"row2"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"capsule"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"cancel"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"cancelAnimation"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"capsule"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"reverse"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"reverseAnimation"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>     <div _ngcontent-gds-c106="" class="highlight-div"><div _ngcontent-gds-c106="" class="highlight-div-header"><div _ngcontent-gds-c106="" class="highlight-div-header-left"><div _ngcontent-gds-c106="" class="handle-button expand-button"><div _ngcontent-gds-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gds-c106="" class="highlight-div-header-right"><div _ngcontent-gds-c106="" class="handle-button ai-button"></div><div _ngcontent-gds-c106="" class="handle-button line-button"><div _ngcontent-gds-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gds-c106="" class="handle-button theme-button"><div _ngcontent-gds-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gds-c106="" class="handle-button copy-button"><div _ngcontent-gds-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gds-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-tag">button</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</li><li>}</li><li><span class="hljs-selector-class">.row</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">65%</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>  <span class="hljs-attribute">justify-content</span>: space-between;</li><li>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">150px</span>;</li><li>  <span class="hljs-attribute">position</span>: fixed;</li><li>  <span class="hljs-attribute">top</span>: <span class="hljs-number">52%</span>;</li><li>  <span class="hljs-attribute">left</span>: <span class="hljs-number">120px</span>;</li><li>}</li><li><span class="hljs-selector-class">.row1</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">65%</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>  <span class="hljs-attribute">justify-content</span>: space-between;</li><li>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">120px</span>;</li><li>  <span class="hljs-attribute">position</span>: fixed;</li><li>  <span class="hljs-attribute">top</span>: <span class="hljs-number">65%</span>;</li><li>  <span class="hljs-attribute">left</span>: <span class="hljs-number">120px</span>;</li><li>}</li><li><span class="hljs-selector-class">.row2</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">65%</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>  <span class="hljs-attribute">justify-content</span>: space-between;</li><li>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">100px</span>;</li><li>  <span class="hljs-attribute">position</span>: fixed;</li><li>  <span class="hljs-attribute">top</span>: <span class="hljs-number">75%</span>;</li><li>  <span class="hljs-attribute">left</span>: <span class="hljs-number">120px</span>;</li><li>}</li></ol></pre></div></div>     <div _ngcontent-gds-c106="" class="highlight-div"><div _ngcontent-gds-c106="" class="highlight-div-header"><div _ngcontent-gds-c106="" class="highlight-div-header-left"><div _ngcontent-gds-c106="" class="handle-button expand-button"><div _ngcontent-gds-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gds-c106="" class="highlight-div-header-right"><div _ngcontent-gds-c106="" class="handle-button ai-button"></div><div _ngcontent-gds-c106="" class="handle-button line-button"><div _ngcontent-gds-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gds-c106="" class="handle-button theme-button"><div _ngcontent-gds-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gds-c106="" class="handle-button copy-button"><div _ngcontent-gds-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gds-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>: {</li><li>    <span class="hljs-attr">scaleVal</span>:<span class="hljs-number">1</span>,</li><li>    <span class="hljs-title class_">DivWidth</span>:<span class="hljs-number">200</span>,</li><li>    <span class="hljs-title class_">DivHeight</span>:<span class="hljs-number">200</span>,</li><li>    <span class="hljs-attr">translateVal</span>:<span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">animation</span>: <span class="hljs-literal">null</span></li><li>  },</li><li>  <span class="hljs-title function_">onInit</span>(<span class="hljs-params"></span>) {},</li><li>  <span class="hljs-title function_">onShow</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">var</span> options = {</li><li>      <span class="hljs-attr">duration</span>: <span class="hljs-number">3000</span>,</li><li>      <span class="hljs-attr">fill</span>: <span class="hljs-string">'forwards'</span>,</li><li>      <span class="hljs-attr">begin</span>: <span class="hljs-number">200</span>,</li><li>      <span class="hljs-attr">end</span>: <span class="hljs-number">270</span></li><li>    };</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">animation</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">createAnimator</span>(options);</li><li>    <span class="hljs-keyword">var</span> _this= <span class="hljs-variable language_">this</span>;</li><li>    <span class="hljs-comment">//添加动画重放事件</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">animation</span>.<span class="hljs-property">onrepeat</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">showToast</span>({</li><li>        <span class="hljs-attr">message</span>: <span class="hljs-string">'repeat'</span></li><li>      });</li><li>      <span class="hljs-keyword">var</span> repeatOptions = {</li><li>        <span class="hljs-attr">duration</span>: <span class="hljs-number">2000</span>,</li><li>        <span class="hljs-attr">iterations</span>: <span class="hljs-number">1</span>,</li><li>         <span class="hljs-attr">direction</span>: <span class="hljs-string">'alternate'</span>,</li><li>         <span class="hljs-attr">begin</span>: <span class="hljs-number">180</span>,</li><li>         <span class="hljs-attr">end</span>: <span class="hljs-number">240</span></li><li>       };</li><li>        _this.<span class="hljs-property">animation</span>?.<span class="hljs-title function_">update</span>(repeatOptions);</li><li>        _this.<span class="hljs-property">animation</span>?.<span class="hljs-title function_">play</span>();</li><li>      };</li><li>  },</li><li>  <span class="hljs-title function_">playAnimation</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">var</span> _this= <span class="hljs-variable language_">this</span>;</li><li>    <span class="hljs-comment">//添加动画逐帧插值回调事件</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">animation</span>.<span class="hljs-property">onframe</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) {</li><li>      _this.<span class="hljs-property">scaleVal</span>= value/<span class="hljs-number">150</span>,</li><li>      _this.<span class="hljs-property">DivWidth</span> = value,</li><li>      _this.<span class="hljs-property">DivHeight</span> = value,</li><li>      _this.<span class="hljs-property">translateVal</span> = value-<span class="hljs-number">180</span></li><li>    };</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">animation</span>.<span class="hljs-title function_">play</span>();</li><li>  },</li><li>  <span class="hljs-title function_">updateAnimation</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">var</span> newoptions = {</li><li>      <span class="hljs-attr">duration</span>: <span class="hljs-number">5000</span>,</li><li>      <span class="hljs-attr">iterations</span>: <span class="hljs-number">2</span>,</li><li>      <span class="hljs-attr">begin</span>: <span class="hljs-number">120</span>,</li><li>      <span class="hljs-attr">end</span>: <span class="hljs-number">180</span></li><li>    };</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">animation</span>.<span class="hljs-title function_">update</span>(newoptions);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">animation</span>.<span class="hljs-title function_">play</span>();<span class="hljs-comment">//调用动画播放接口</span></li><li>  },</li><li>  <span class="hljs-title function_">pauseAnimation</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">animation</span>.<span class="hljs-title function_">pause</span>();<span class="hljs-comment">//调用动画暂停接口</span></li><li>  },</li><li>  <span class="hljs-title function_">finishAnimation</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">var</span> _this= <span class="hljs-variable language_">this</span>;</li><li>   <span class="hljs-comment">//添加动画完成事件</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">animation</span>.<span class="hljs-property">onfinish</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">showToast</span>({</li><li>        <span class="hljs-attr">message</span>: <span class="hljs-string">'finish'</span></li><li>      });</li><li>    };</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">animation</span>.<span class="hljs-title function_">finish</span>(); <span class="hljs-comment">//调用动画完成接口</span></li><li>  },</li><li>  <span class="hljs-title function_">cancelAnimation</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">animation</span>.<span class="hljs-title function_">cancel</span>(); <span class="hljs-comment">//调用动画取消接口</span></li><li>  },</li><li>  <span class="hljs-title function_">reverseAnimation</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">animation</span>.<span class="hljs-title function_">reverse</span>(); <span class="hljs-comment">//调用动画倒放接口</span></li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="610" originwidth="294" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114952.85237025534705352373655291121064:50001231000000:2800:1FFACB3D3AE5F001F7F7B76A1FF7EDBF535BE7CCB0EA28845665E9CEDAE65C44.gif" class="notEnlarge" width="294" height="610"></span></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-animator#reset9" target="_blank">reset</a>接口的过程中可以使用这个接口更新动画参数，入参与<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#createanimator" target="_blank">createAnimator</a>一致。</p>      </div></div></div>    </div>   </div>   <div></div></div>