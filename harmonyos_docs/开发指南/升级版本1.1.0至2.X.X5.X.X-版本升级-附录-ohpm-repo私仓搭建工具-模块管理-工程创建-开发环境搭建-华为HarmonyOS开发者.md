<h1 _ngcontent-voy-c119="" class="doc-title ng-star-inserted" title="升级版本1.1.0至2.X.X/5.X.X"> 升级版本1.1.0至2.X.X/5.X.X </h1>

<div _ngcontent-voy-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body1430158657193233"><p id="ZH-CN_TOPIC_0000002510173699__p36269262312">升级至2.X.X版本与升级至5.X.X版本步骤一致，本文以升级至2.X.X版本为例。</p> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p id="ZH-CN_TOPIC_0000002510173699__p4361152472115">在升级之前，请务必备份好ohpm-repo私仓工具中的历史数据，避免因升级操作失误，导致数据丢失。备份的内容包括ohpm-repo中<a href="/consumer/cn/doc/harmonyos-guides/ide-upgrade-110_to_2xx#li10435216234">&lt;deploy_root&gt;</a>部署根目录内的数据、db元数据以及store三方包数据，详细可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-data-backup">数据备份</a>。</p> </div></div></div> <ol id="ZH-CN_TOPIC_0000002510173699__ol1632825511713"><li id="li2010241151193233"><p id="ZH-CN_TOPIC_0000002510173699__p759458999193233"><a name="ZH-CN_TOPIC_0000002510173699__li2010241151193233"></a><a name="li2010241151193233"></a>旧版本服务停止：如果旧版本的服务还在运行，升级版本前请停止，进入1.1.0版本ohpm-repo私仓工具包解压目录下的bin目录，执行stop</p> <div _ngcontent-voy-c106="" class="highlight-div"><div _ngcontent-voy-c106="" class="highlight-div-header"><div _ngcontent-voy-c106="" class="highlight-div-header-left"><div _ngcontent-voy-c106="" class="handle-button expand-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-voy-c106="" class="highlight-div-header-right"><div _ngcontent-voy-c106="" class="handle-button ai-button"></div><div _ngcontent-voy-c106="" class="handle-button line-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-voy-c106="" class="handle-button theme-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-voy-c106="" class="handle-button copy-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-voy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-vbnet" id="ZH-CN_TOPIC_0000002510173699__screen208271532193233" data-highlighted="yes"><ol class="linenums"><li>ohpm-repo <span class="hljs-keyword">stop</span></li></ol></pre></div></div> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><ul id="ZH-CN_TOPIC_0000002510173699__ul18294015145717"><li id="li13810191685713">如果部署的是多实例，升级前需要停下所有机器中的ohpm-repo服务，再进行升级操作。</li><li id="li1829419156572">若想在其他目录使用ohpm-repo，请将对应版本ohpm-repo工具包解压目录中bin目录的路径配置到<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-faq#section24117279211">系统环境变量</a>path中。</li></ul> </div></div></div> </li></ol><ol id="ZH-CN_TOPIC_0000002510173699__ol1683499591193233" start="2"><li id="li9581197854">下载并解压工具包：下载版本2.X.X的ohpm-repo私仓工具包，并解压（请解压到一个空文件夹中）。<p id="ZH-CN_TOPIC_0000002510173699__p142422187246"><a name="ZH-CN_TOPIC_0000002510173699__li9581197854"></a><a name="li9581197854"></a><span><img originheight="280" originwidth="258" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104741.61664270585236019224739923664382:50001231000000:2800:47D1ECD401C81256AC49CDFE9FC6B65E97B34D725FC741C00DF92C3C31DD109E.png" class="notEnlarge" width="258" height="280"></span></p> </li><li id="li853577238193233"><p id="ZH-CN_TOPIC_0000002510173699__p1280020856193233"><a name="ZH-CN_TOPIC_0000002510173699__li853577238193233"></a><a name="li853577238193233"></a>安装完成之后，进入ohpm-repo私仓工具包解压目录下的bin目录，执行如下命令：</p> <div _ngcontent-voy-c106="" class="highlight-div"><div _ngcontent-voy-c106="" class="highlight-div-header"><div _ngcontent-voy-c106="" class="highlight-div-header-left"><div _ngcontent-voy-c106="" class="handle-button expand-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-voy-c106="" class="highlight-div-header-right"><div _ngcontent-voy-c106="" class="handle-button ai-button"></div><div _ngcontent-voy-c106="" class="handle-button line-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-voy-c106="" class="handle-button theme-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-voy-c106="" class="handle-button copy-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-voy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-undefined" id="ZH-CN_TOPIC_0000002510173699__screen993818112193233" data-highlighted="yes"><ol class="linenums"><li>ohpm-repo -v</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002510173699__p1080568890193233">终端输出为版本号2.X.X，则表示解压成功。</p> </li><li id="li177574711914"><p id="ZH-CN_TOPIC_0000002510173699__p07551174914"><a name="ZH-CN_TOPIC_0000002510173699__li177574711914"></a><a name="li177574711914"></a>移植配置文件信息：版本2.X.X的配置文件与版本1.1.0相比有较大差异，需要提取旧版本配置文件信息至新版本配置文件中，移植的具体内容如下：</p> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><ul id="ZH-CN_TOPIC_0000002510173699__ul1047411918254"><li id="li16744684410">如果ohpm-repo版本1.1.0使用的配置文件，配置项均为默认项，则无需移植配置文件信息，直接执行下一步启动操作。</li><li id="li18474129162520">旧版本1.1.0配置文件路径为：&lt;deploy_root&gt;/conf/config.yaml；新版本2.X.X配置文件路径为：&lt;2.X.X版本ohpm-repo解压目录&gt;/conf/config.yaml。</li><li id="li194741894251"><a name="ZH-CN_TOPIC_0000002510173699__li194741894251"></a><a name="li194741894251"></a>&lt;deploy_root&gt;：ohpm-repo部署目录，可通过1.1.0版本ohpm-repo私仓工具包解压目录下的.deploy_root文件查看。</li></ul> </div></div></div> <ul id="ZH-CN_TOPIC_0000002510173699__ul16194547357"><li id="li11334163892517"><strong><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-configuration#zh-cn_topic_0000001745376470_listen">listen</a></strong>：旧版本listen值拷贝替换到新版本listen中。如果旧版本是在执行start时指定的listen值，需要把对应的listen值填入新版本配置文件中，新版本中listen值不支持命令行指定。</li><li id="li101945470519"><strong><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-configuration#zh-cn_topic_0000001745376470_https">https</a></strong>：如果listen配置的协议是https，拷贝https的值：拷贝旧版本https.key和https.cert路径信息至新版本对应的https_key和https_cert中。<div _ngcontent-voy-c106="" class="highlight-div"><div _ngcontent-voy-c106="" class="highlight-div-header"><div _ngcontent-voy-c106="" class="highlight-div-header-left"><div _ngcontent-voy-c106="" class="handle-button expand-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-voy-c106="" class="highlight-div-header-right"><div _ngcontent-voy-c106="" class="handle-button ai-button"></div><div _ngcontent-voy-c106="" class="handle-button line-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-voy-c106="" class="handle-button theme-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-voy-c106="" class="handle-button copy-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-voy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-yaml" id="ZH-CN_TOPIC_0000002510173699__screen342514351516" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment"># 旧版本 `1.1.0`</span></li><li><span class="hljs-attr">https:</span></li><li>  <span class="hljs-attr">key:</span> <span class="hljs-string">./ssl/server.key</span>     </li><li>  <span class="hljs-attr">cert:</span> <span class="hljs-string">./ssl/server.crt</span></li><li><span class="hljs-comment"># 新版本 `2.X.X`</span></li><li><span class="hljs-attr">https_key:</span> <span class="hljs-string">./ssl/server.key</span>       </li><li><span class="hljs-attr">https_cert:</span> <span class="hljs-string">./ssl/server.crt</span>      </li></ol></pre></div></div> </li><li id="li1261011712617"><strong><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-configuration#zh-cn_topic_0000001745376470_deploy_root">deploy_root</a></strong>：打开1.1.0版本ohpm-repo私仓工具包解压目录下的.deploy_root文件，拷贝文件中的路径信息至新版本配置文件中配置项deploy_root 处。<div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p id="ZH-CN_TOPIC_0000002510173699__p36259211487">如果1.1.0版本ohpm-repo的部署目录deploy_root使用的是默认路径，即可省略此操作。</p> <ul id="ZH-CN_TOPIC_0000002510173699__ul6238194216233"><li id="li10435216234"><a name="ZH-CN_TOPIC_0000002510173699__li10435216234"></a><a name="li10435216234"></a>&lt;deploy_root&gt;：ohpm-repo部署目录：<ol id="ZH-CN_TOPIC_0000002510173699__ol19066515240"><li id="li660392245">windows系统默认路径: ~/AppData/Roaming/Huawei/ohpm-repo</li><li id="li5906115122414">其他操作系统默认路径：~/ohpm-repo</li></ol> </li></ul> </div></div></div> </li><li id="li1870125932812"><strong><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-configuration#zh-cn_topic_0000001745376470_server">server</a></strong>： 旧版本server有九个参数信息，拷贝移动到新版本server numeric limit section模块下对应九个参数中。<div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul id="ZH-CN_TOPIC_0000002510173699__ul2080711158293"><li id="li1197217572917">版本1.1.0开始，新增参数api_timeout。</li><li id="li48070154296">版本升级时，参数信息会有变化，具体信息可在&lt;解压目录&gt;/conf/config.yaml文件中获取。</li></ul> </div></div></div> <div class="p" id="ZH-CN_TOPIC_0000002510173699__p55961626162911"><div _ngcontent-voy-c106="" class="highlight-div"><div _ngcontent-voy-c106="" class="highlight-div-header"><div _ngcontent-voy-c106="" class="highlight-div-header-left"><div _ngcontent-voy-c106="" class="handle-button expand-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-voy-c106="" class="highlight-div-header-right"><div _ngcontent-voy-c106="" class="handle-button ai-button"></div><div _ngcontent-voy-c106="" class="handle-button line-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-voy-c106="" class="handle-button theme-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-voy-c106="" class="handle-button copy-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-voy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-yaml" id="ZH-CN_TOPIC_0000002510173699__screen17111123991612" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment"># 旧版本 `1.1.0`</span></li><li><span class="hljs-attr">server:</span></li><li>  <span class="hljs-attr">max_package_size:</span> <span class="hljs-number">10</span></li><li>  <span class="hljs-attr">max_extract_size:</span> <span class="hljs-number">50</span></li><li>  <span class="hljs-attr">max_extract_file_num:</span> <span class="hljs-number">10240</span></li><li>  <span class="hljs-attr">user_rate_limit:</span> <span class="hljs-number">100</span></li><li>  <span class="hljs-attr">fetch_timeout:</span> <span class="hljs-number">60</span></li><li>  <span class="hljs-attr">keep_alive_timeout:</span> <span class="hljs-number">60</span></li><li>  <span class="hljs-attr">api_timeout:</span> <span class="hljs-number">60</span></li><li>  <span class="hljs-attr">upload_lock_hour:</span> <span class="hljs-number">24</span></li><li>  <span class="hljs-attr">upload_max_times:</span> <span class="hljs-number">100</span>   </li><li>  </li><li><span class="hljs-comment"># 新版本 `2.X.X`</span></li><li><span class="hljs-attr">max_package_size:</span> <span class="hljs-number">10</span></li><li><span class="hljs-attr">max_extract_size:</span> <span class="hljs-number">50</span></li><li><span class="hljs-attr">max_extract_file_num:</span> <span class="hljs-number">10240</span></li><li><span class="hljs-attr">user_rate_limit:</span> <span class="hljs-number">100</span></li><li><span class="hljs-attr">fetch_timeout:</span> <span class="hljs-number">60</span></li><li><span class="hljs-attr">keep_alive_timeout:</span> <span class="hljs-number">60</span></li><li><span class="hljs-attr">api_timeout:</span> <span class="hljs-number">60</span></li><li><span class="hljs-attr">upload_lock_hour:</span> <span class="hljs-number">24</span></li><li><span class="hljs-attr">upload_max_times:</span> <span class="hljs-number">100</span>     </li></ol></pre></div></div> </div> </li><li id="li1838291363"><strong><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-configuration#zh-cn_topic_0000001745376470_db">db</a></strong>： 如果数据存储到本地磁盘中，拷贝替换旧版本db.plugin_config.path路径信息至新版本db.config.path中；如果数据存储到mysql中，拷贝旧版本db.plugin_config中各项信息至新版本db.config中。<div _ngcontent-voy-c106="" class="highlight-div"><div _ngcontent-voy-c106="" class="highlight-div-header"><div _ngcontent-voy-c106="" class="highlight-div-header-left"><div _ngcontent-voy-c106="" class="handle-button expand-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-voy-c106="" class="highlight-div-header-right"><div _ngcontent-voy-c106="" class="handle-button ai-button"></div><div _ngcontent-voy-c106="" class="handle-button line-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-voy-c106="" class="handle-button theme-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-voy-c106="" class="handle-button copy-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-voy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002510173699__screen260715612179" data-highlighted="yes"><ol class="linenums"><li><em># <span class="hljs-variable">旧版本</span> `<span class="hljs-number">1.1</span><span class="hljs-number">.0</span>`: <span class="hljs-title class_">本地存储</span></em></li><li><em><span class="hljs-variable">db</span>:</em></li><li><em>  <span class="hljs-variable">plugin_name</span>: <span class="hljs-title class_">ohpm</span>-<span class="hljs-title class_">repo</span>-<span class="hljs-title class_">plugin</span>-<span class="hljs-title class_">filedb</span></em></li><li><em>  <span class="hljs-variable">plugin_config</span>:</em></li><li><em>    <span class="hljs-variable">path</span>: ./<span class="hljs-variable">db</span>  </em></li><li><em># <span class="hljs-variable">新版本</span> `<span class="hljs-number">2</span>.<span class="hljs-variable">X</span>.<span class="hljs-variable">X</span>`: <span class="hljs-title class_">本地存储</span></em></li><li><em><span class="hljs-variable">db</span>:</em></li><li><em>  <span class="hljs-keyword">type</span>: <span class="hljs-title class_">filedb</span></em></li><li><em>  <span class="hljs-variable">config</span>:</em></li><li><em>    <span class="hljs-variable">path</span>: ./<span class="hljs-variable">db</span>     </em></li></ol></pre></div></div> <div _ngcontent-voy-c106="" class="highlight-div"><div _ngcontent-voy-c106="" class="highlight-div-header"><div _ngcontent-voy-c106="" class="highlight-div-header-left"><div _ngcontent-voy-c106="" class="handle-button expand-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-voy-c106="" class="highlight-div-header-right"><div _ngcontent-voy-c106="" class="handle-button ai-button"></div><div _ngcontent-voy-c106="" class="handle-button line-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-voy-c106="" class="handle-button theme-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-voy-c106="" class="handle-button copy-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-voy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002510173699__screen9321624131712" data-highlighted="yes"><ol class="linenums"><li><em># <span class="hljs-variable">旧版本</span> `<span class="hljs-number">1.1</span><span class="hljs-number">.0</span>`: <span class="hljs-title class_">mysql存储</span></em></li><li><em><span class="hljs-variable">db</span>:</em></li><li><em>  <span class="hljs-variable">plugin_name</span>: <span class="hljs-title class_">ohpm</span>-<span class="hljs-title class_">repo</span>-<span class="hljs-title class_">plugin</span>-<span class="hljs-title class_">mysqlDB</span></em></li><li><em>  <span class="hljs-variable">plugin_config</span>:</em></li><li><em>    <span class="hljs-variable">host</span>: <span class="hljs-string">"localhost"</span></em></li><li><em>    <span class="hljs-variable">port</span>: <span class="hljs-number">3306</span></em></li><li><em>    <span class="hljs-variable">username</span>: <span class="hljs-string">"root"</span></em></li><li><em>    <span class="hljs-variable">password</span>: <span class="hljs-string">"password"</span></em></li><li><em>    <span class="hljs-variable">database</span>: <span class="hljs-string">"repo"</span></em></li><li><em># <span class="hljs-variable">新版本</span> `<span class="hljs-number">2</span>.<span class="hljs-variable">X</span>.<span class="hljs-variable">X</span>`: <span class="hljs-title class_">mysql存储</span></em></li><li><em><span class="hljs-variable">db</span>:</em></li><li><em>  <span class="hljs-keyword">type</span>: <span class="hljs-title class_">mysql</span></em></li><li><em>  <span class="hljs-variable">config</span>:</em></li><li><em>    <span class="hljs-variable">host</span>: <span class="hljs-string">"localhost"</span></em></li><li><em>    <span class="hljs-variable">port</span>: <span class="hljs-number">3306</span></em></li><li><em>    <span class="hljs-variable">username</span>: <span class="hljs-string">"root"</span></em></li><li><em>    <span class="hljs-variable">password</span>: <span class="hljs-string">"password"</span></em></li><li><em>    <span class="hljs-variable">database</span>: <span class="hljs-string">"repo"</span></em></li></ol></pre></div></div> </li><li id="li118861035714"><strong><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-configuration#zh-cn_topic_0000001745376470_store">store</a></strong>： 如果文件存储在本地磁盘中 ，拷贝替换旧版本store.plugin_config.path路径信息和store.plugin_config.server值至新版本对应的store.config.path和store.config.server中；如果文件存储在sftp中，拷贝旧版本 store.plugin_config中各项信息至新版本store.config中。<div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p id="ZH-CN_TOPIC_0000002510173699__p8542143772412">在ohpm-repo 2.0.0版本中，listen的默认值已更改为<span style="color: rgb(207,142,109);">l</span><span style="color: rgb(207,142,109);">isten</span>: 0.0.0.0:8088，如果listen的host配置为0.0.0.0，则字段store.config.server不可省略<strong>，必须</strong>配置为详细地址，例如<em>http://localhost:8088</em>。</p> </div></div></div> <div _ngcontent-voy-c106="" class="highlight-div"><div _ngcontent-voy-c106="" class="highlight-div-header"><div _ngcontent-voy-c106="" class="highlight-div-header-left"><div _ngcontent-voy-c106="" class="handle-button expand-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-voy-c106="" class="highlight-div-header-right"><div _ngcontent-voy-c106="" class="handle-button ai-button"></div><div _ngcontent-voy-c106="" class="handle-button line-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-voy-c106="" class="handle-button theme-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-voy-c106="" class="handle-button copy-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-voy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002510173699__screen3839133310241" data-highlighted="yes"><ol class="linenums"><li><em># <span class="hljs-variable">旧版本</span> `<span class="hljs-number">1.1</span><span class="hljs-number">.0</span>`: <span class="hljs-title class_">本地存储</span></em></li><li><em><span class="hljs-variable">store</span>:</em></li><li><em>  <span class="hljs-variable">plugin_name</span>: <span class="hljs-title class_">ohpm</span>-<span class="hljs-title class_">repo</span>-<span class="hljs-title class_">plugin</span>-<span class="hljs-title class_">fs</span></em></li><li><em>  <span class="hljs-variable">plugin_config</span>:</em></li><li><em>    <span class="hljs-variable">path</span>: ./<span class="hljs-variable">storage</span></em></li><li><em>    #<span class="hljs-variable">server</span>: <span class="hljs-title class_">http</span>:<span class="hljs-comment">//localhost:8088</span></em></li><li><em># <span class="hljs-variable">新版本</span> `<span class="hljs-number">2</span>.<span class="hljs-variable">X</span>.<span class="hljs-variable">X</span>`: <span class="hljs-title class_">本地存储</span></em></li><li><em><span class="hljs-variable">store</span>:</em></li><li><em>  <span class="hljs-keyword">type</span>: <span class="hljs-title class_">fs</span></em></li><li><em>  <span class="hljs-variable">config</span>:</em></li><li><em>    <span class="hljs-variable">path</span>: ./<span class="hljs-variable">storage</span></em></li><li><em>    #<span class="hljs-variable">server</span>: <span class="hljs-title class_">http</span>:<span class="hljs-comment">//localhost:8088    </span></em></li></ol></pre></div></div> <div _ngcontent-voy-c106="" class="highlight-div"><div _ngcontent-voy-c106="" class="highlight-div-header"><div _ngcontent-voy-c106="" class="highlight-div-header-left"><div _ngcontent-voy-c106="" class="handle-button expand-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-voy-c106="" class="highlight-div-header-right"><div _ngcontent-voy-c106="" class="handle-button ai-button"></div><div _ngcontent-voy-c106="" class="handle-button line-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-voy-c106="" class="handle-button theme-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-voy-c106="" class="handle-button copy-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-voy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002510173699__screen1973910621814" data-highlighted="yes"><ol class="linenums"><li><em># <span class="hljs-variable">旧版本</span> `<span class="hljs-number">1.1</span><span class="hljs-number">.0</span>`: <span class="hljs-title class_">sftp存储</span></em></li><li><em><span class="hljs-variable">store</span>:</em></li><li><em>  <span class="hljs-variable">plugin_name</span>: <span class="hljs-title class_">ohpm</span>-<span class="hljs-title class_">repo</span>-<span class="hljs-title class_">plugin</span>-<span class="hljs-title class_">sftp</span></em></li><li><em>  <span class="hljs-variable">plugin_config</span>:</em></li><li><em>    <span class="hljs-variable">location</span>:</em></li><li><em>      -</em></li><li><em>        <span class="hljs-variable">name</span>: <span class="hljs-title class_">test_one_sftp</span></em></li><li><em>        <span class="hljs-variable">host</span>: <span class="hljs-string">"localhost"</span></em></li><li><em>        <span class="hljs-variable">port</span>: <span class="hljs-number">22</span></em></li><li><em>        <span class="hljs-variable">read_username</span>: <span class="hljs-string">"read"</span></em></li><li><em>        <span class="hljs-variable">read_password</span>: <span class="hljs-string">"encrypted_password"</span></em></li><li><em>        <span class="hljs-variable">write_username</span>: <span class="hljs-string">"write"</span></em></li><li><em>        <span class="hljs-variable">write_password</span>: <span class="hljs-string">"encrypted_password"</span></em></li><li><em>        <span class="hljs-variable">path</span>: /<span class="hljs-variable">source22</span></em></li><li><em>      -</em></li><li><em>        <span class="hljs-variable">name</span>: <span class="hljs-title class_">test_two_sftp</span></em></li><li><em>        <span class="hljs-variable">host</span>: <span class="hljs-string">"localhost"</span></em></li><li><em>        <span class="hljs-variable">port</span>: <span class="hljs-number">24</span></em></li><li><em>        <span class="hljs-variable">read_username</span>: <span class="hljs-string">"read"</span></em></li><li><em>        <span class="hljs-variable">read_password</span>: <span class="hljs-string">"encrypted_password"</span></em></li><li><em>        <span class="hljs-variable">write_username</span>: <span class="hljs-string">"write"</span></em></li><li><em>        <span class="hljs-variable">write_password</span>: <span class="hljs-string">"encrypted_password"</span></em></li><li><em>        <span class="hljs-variable">path</span>: /<span class="hljs-variable">source24</span></em></li><li><em>    #<span class="hljs-variable">server</span>: <span class="hljs-title class_">http</span>:<span class="hljs-comment">//localhost:8088</span></em></li><li>
</li><li><em># <span class="hljs-variable">新版本</span> `<span class="hljs-number">2</span>.<span class="hljs-variable">X</span>.<span class="hljs-variable">X</span>`: </em><em><span class="hljs-title class_">sftp存储</span></em></li><li><em><span class="hljs-variable">store</span>:</em></li><li><em>  <span class="hljs-keyword">type</span>: <span class="hljs-title class_">sftp</span></em></li><li><em>  <span class="hljs-variable">config</span>:</em></li><li><em>    <span class="hljs-variable">location</span>:</em></li><li><em>      -</em></li><li><em>        <span class="hljs-variable">name</span>: <span class="hljs-title class_">test_one_sftp</span></em></li><li><em>        <span class="hljs-variable">host</span>: <span class="hljs-string">"localhost"</span></em></li><li><em>        <span class="hljs-variable">port</span>: <span class="hljs-number">22</span></em></li><li><em>        <span class="hljs-variable">read_username</span>: <span class="hljs-string">"read"</span></em></li><li><em>        <span class="hljs-variable">read_password</span>: <span class="hljs-string">"password"</span></em></li><li><em>        <span class="hljs-variable">write_username</span>: <span class="hljs-string">"write"</span></em></li><li><em>        <span class="hljs-variable">write_password</span>: <span class="hljs-string">"password"</span></em></li><li><em>        <span class="hljs-variable">path</span>: /<span class="hljs-variable">source22</span></em></li><li><em>      -</em></li><li><em>        <span class="hljs-variable">name</span>: <span class="hljs-title class_">test_two_sftp</span></em></li><li><em>        <span class="hljs-variable">host</span>: <span class="hljs-string">"localhost"</span></em></li><li><em>        <span class="hljs-variable">port</span>: <span class="hljs-number">24</span></em></li><li><em>        <span class="hljs-variable">read_username</span>: <span class="hljs-string">"read"</span></em></li><li><em>        <span class="hljs-variable">read_password</span>: <span class="hljs-string">"password"</span></em></li><li><em>        <span class="hljs-variable">write_username</span>: <span class="hljs-string">"write"</span></em></li><li><em>        <span class="hljs-variable">write_password</span>: <span class="hljs-string">"password"</span></em></li><li><em>        <span class="hljs-variable">path</span>: /<span class="hljs-variable">source24</span></em></li><li><em>    #<span class="hljs-variable">server</span>: <span class="hljs-title class_">http</span>:<span class="hljs-comment">//localhost:8088</span></em></li></ol></pre></div></div> </li><li id="li0580102614712"><strong><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-configuration#zh-cn_topic_0000001745376470_uplink">uplink</a></strong>: 拷贝旧版本uplink.store_path路径信息uplink.cache_time缓存时间信息至新版本对应的uplink_store_path和uplink_cache_time中。<div _ngcontent-voy-c106="" class="highlight-div"><div _ngcontent-voy-c106="" class="highlight-div-header"><div _ngcontent-voy-c106="" class="highlight-div-header-left"><div _ngcontent-voy-c106="" class="handle-button expand-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-voy-c106="" class="highlight-div-header-right"><div _ngcontent-voy-c106="" class="handle-button ai-button"></div><div _ngcontent-voy-c106="" class="handle-button line-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-voy-c106="" class="handle-button theme-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-voy-c106="" class="handle-button copy-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-voy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-makefile" id="ZH-CN_TOPIC_0000002510173699__screen78051375188" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment"># 旧版本 `1.1.0`</span></li><li><span class="hljs-section">uplink:</span></li><li><span class="hljs-section">store_path: ./uplink</span></li><li><span class="hljs-section">cache_time: 168</span></li><li>
</li><li><span class="hljs-comment"># 新版本 `2.X.X`</span></li><li><span class="hljs-section">uplink_store_path: ./uplink</span></li><li><span class="hljs-section">uplink_cache_time: 168</span></li></ol></pre></div></div> </li><li id="li194371729472"><strong><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-configuration#zh-cn_topic_0000001745376470_logs">logs</a></strong>：拷贝旧版本logs_path路径信息至新版本logs_path中。</li><li id="li573314551877"><strong><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-configuration#zh-cn_topic_0000001745376470_loglevel">loglevel</a></strong>：拷贝旧版本loglevel.run， loglevel.operate和loglevel.access至新版本对应的loglevel_run，loglevel_operate和loglevel_access中。<div _ngcontent-voy-c106="" class="highlight-div"><div _ngcontent-voy-c106="" class="highlight-div-header"><div _ngcontent-voy-c106="" class="highlight-div-header-left"><div _ngcontent-voy-c106="" class="handle-button expand-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-voy-c106="" class="highlight-div-header-right"><div _ngcontent-voy-c106="" class="handle-button ai-button"></div><div _ngcontent-voy-c106="" class="handle-button line-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-voy-c106="" class="handle-button theme-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-voy-c106="" class="handle-button copy-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-voy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002510173699__screen46791058141814" data-highlighted="yes"><ol class="linenums"><li># <span class="hljs-variable">旧版本</span> `<span class="hljs-number">1.1</span><span class="hljs-number">.0</span>`</li><li><span class="hljs-variable">loglevel</span>:</li><li>  <span class="hljs-variable">run</span>: <span class="hljs-title class_">info</span></li><li>  <span class="hljs-variable">operate</span>: <span class="hljs-title class_">info</span></li><li>  <span class="hljs-variable">access</span>: <span class="hljs-title class_">info</span></li><li>
</li><li># <span class="hljs-variable">新版本</span> `<span class="hljs-number">2</span>.<span class="hljs-variable">X</span>.<span class="hljs-variable">X</span>`</li><li><span class="hljs-variable">loglevel_run</span>: <span class="hljs-title class_">info</span></li><li><span class="hljs-variable">loglevel_operate</span>: <span class="hljs-title class_">info</span></li><li><span class="hljs-variable">loglevel_access</span>: <span class="hljs-title class_">info</span></li></ol></pre></div></div> </li></ul> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002510173699__p104850403916">新版本配置文件还添加了很多信息的配置，例如<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-configuration#zh-cn_topic_0000001745376470_deploy_root">deploy_root</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-configuration#zh-cn_topic_0000001745376470_logs">logs_path</a>等，此类信息在升级过程中可不改变，使用默认项。</p> </div></div></div> </li><li id="li58871114175912">（可选项）新版本如果需要使用新的部署目录&lt;new_deploy_root&gt;，需要手动迁移数据。<ul id="ZH-CN_TOPIC_0000002510173699__ul1361473512010"><li id="li1751625211916">升级ohpm-repo：按照步骤1-4，解压和拷贝替换配置文件信息。</li><li id="li1961418353016">建立新部署目录：判断指定的新部署目录&lt;new_deploy_root&gt;是否存在，不存在则新建，新部署目录需存在且为空。</li><li id="li158651261316">拷贝数据文件：拷贝旧版本部署目录<a href="/consumer/cn/doc/harmonyos-guides/ide-upgrade-110_to_2xx#li194741894251">&lt;deploy_root&gt;</a>下的全部文件至新部署目录中。</li><li id="li57111222191513">修改新版本ohpm-repo配置文件：打开新版本ohpm-repo 2.X.X的解压目录，进入conf目录下，修改新配置文件config.yaml，修改配置项deploy_root为新的部署目录&lt;new_deploy_root&gt;。</li></ul> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p id="ZH-CN_TOPIC_0000002510173699__p196772030185212">在使用新部署目录时，旧版本的部署目录中meta文件一定要迁移到新版本部署目录中，否则使用meta加密组件加密的数据无法被正确解密。</p> </div></div></div> </li><li id="li203601743954"><p id="ZH-CN_TOPIC_0000002510173699__p3357104316516"><a name="ZH-CN_TOPIC_0000002510173699__li203601743954"></a><a name="li203601743954"></a>新版本服务启动：正确拷贝替换配置文件信息后，进入ohpm-repo私仓工具包解压目录下的bin目录，执行以下命令启动新版本ohpm-repo服务：</p> <ul id="ZH-CN_TOPIC_0000002510173699__ul914953816196"><li id="li4149133851919">执行安装命令：<div _ngcontent-voy-c106="" class="highlight-div"><div _ngcontent-voy-c106="" class="highlight-div-header"><div _ngcontent-voy-c106="" class="highlight-div-header-left"><div _ngcontent-voy-c106="" class="handle-button expand-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-voy-c106="" class="highlight-div-header-right"><div _ngcontent-voy-c106="" class="handle-button ai-button"></div><div _ngcontent-voy-c106="" class="handle-button line-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-voy-c106="" class="handle-button theme-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-voy-c106="" class="handle-button copy-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-voy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-undefined" id="ZH-CN_TOPIC_0000002510173699__screen42287177221" data-highlighted="yes"><ol class="linenums"><li><em>ohpm-repo install</em></li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002510173699__p7209133142218">结果示例：</p> <p id="ZH-CN_TOPIC_0000002510173699__p17730124402213"><span><img height="71.82000000000001" originheight="152" originwidth="1096" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104742.10796943079611905376195431254087:50001231000000:2800:247B83CFEBEB22252A76A66D4884EFC4FDF9917EC7588CF02269891FE3B5CAB9.png" title="点击放大" width="523.6875"></span></p> </li><li id="li13327113971918">刷新环境变量：安装成功后，必须根据给出的提示信息刷新环境变量，针对Windows系统和Linux/Mac系统，有不同处理方式：<ul id="ZH-CN_TOPIC_0000002510173699__ul985021164512"><li id="li1419801779193233"><p id="ZH-CN_TOPIC_0000002510173699__p1661655215193233"><a name="ZH-CN_TOPIC_0000002510173699__li1419801779193233"></a><a name="li1419801779193233"></a>Windows系统： 关闭当前窗口，重新开启一个窗口</p> </li><li id="li58502111455"><p id="ZH-CN_TOPIC_0000002510173699__p188501114454"><a name="ZH-CN_TOPIC_0000002510173699__li58502111455"></a><a name="li58502111455"></a>Linux系统或Mac系统： 在命令行中执行刷新命令：source ~/.bashrc或者 . ~/.bashrc。</p> </li></ul> </li><li id="li199954417203">执行start命令：<div _ngcontent-voy-c106="" class="highlight-div"><div _ngcontent-voy-c106="" class="highlight-div-header"><div _ngcontent-voy-c106="" class="highlight-div-header-left"><div _ngcontent-voy-c106="" class="handle-button expand-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-voy-c106="" class="highlight-div-header-right"><div _ngcontent-voy-c106="" class="handle-button ai-button"></div><div _ngcontent-voy-c106="" class="handle-button line-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-voy-c106="" class="handle-button theme-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-voy-c106="" class="handle-button copy-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-voy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-sql" id="ZH-CN_TOPIC_0000002510173699__screen8190102272111" data-highlighted="yes"><ol class="linenums"><li><em>ohpm<span class="hljs-operator">-</span>repo <span class="hljs-keyword">start</span></em></li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002510173699__p973122612219">结果示例：</p> <p id="ZH-CN_TOPIC_0000002510173699__p8325555192112"><span><img height="67.24214" originheight="97" originwidth="1079" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104742.23686978976246372589402295170193:50001231000000:2800:B8AF3845A4AF85667DB1001A8701DF7D3DD8B0D96ED909218CB146BF7C9523F5.png" title="点击放大" width="748.125"></span></p> </li></ul> </li><li id="li1739272115356">多实例部署机器快速升级<p id="ZH-CN_TOPIC_0000002510173699__p395118110274"><a name="ZH-CN_TOPIC_0000002510173699__li1739272115356"></a><a name="li1739272115356"></a>在多实例部署中，可先升级一台机器，然后拷贝其配置文件到其他机器中进行快速升级，具体步骤如下</p> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p id="ZH-CN_TOPIC_0000002510173699__p17833732246">该方法要求部署的多实例机器之间，使用的配置文件除根目录deploy_root外，其他配置项必须完全相同。</p> </div></div></div> <ul id="ZH-CN_TOPIC_0000002510173699__ul1724710440357"><li id="li19110165013516">第一台多实例机器根据步骤一至步骤五完成版本的升级，然后复制新版本解压目录中conf目录下的配置文件config.yaml。</li><li id="li1937313527357">复制 新版本配置文件到其他需要升级的机器中。</li><li id="li656525413355">在需要升级的机器中，首先停止旧版本服务：<div class="p" id="ZH-CN_TOPIC_0000002510173699__p849101413308"><a name="ZH-CN_TOPIC_0000002510173699__li656525413355"></a><a name="li656525413355"></a>停止旧版本服务<div _ngcontent-voy-c106="" class="highlight-div"><div _ngcontent-voy-c106="" class="highlight-div-header"><div _ngcontent-voy-c106="" class="highlight-div-header-left"><div _ngcontent-voy-c106="" class="handle-button expand-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-voy-c106="" class="highlight-div-header-right"><div _ngcontent-voy-c106="" class="handle-button ai-button"></div><div _ngcontent-voy-c106="" class="handle-button line-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-voy-c106="" class="handle-button theme-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-voy-c106="" class="handle-button copy-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-voy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-vbnet" id="ZH-CN_TOPIC_0000002510173699__screen99881749121118" data-highlighted="yes"><ol class="linenums"><li><em>ohpm-repo <span class="hljs-keyword">stop</span></em></li></ol></pre></div></div> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p id="ZH-CN_TOPIC_0000002510173699__p1410954492716">若您想在其他目录使用ohpm-repo，请将对应版本ohpm-repo根目录中bin目录的路径配置到<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-faq#section24117279211">系统环境变量</a>path中。</p> </div></div></div> </div> </li><li id="li547812449364">下载并解压工具包：下载版本<em>`2.X.X`</em>的ohpm-repo私仓工具包，并解压。<p id="ZH-CN_TOPIC_0000002510173699__p123274469361"><span><img originheight="276" originwidth="262" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104742.18499341889782470660987595475016:50001231000000:2800:073E19CA8A6225DAC03BDA8A2A5C44337BC67E09DBFAC24DC12E6BB5F776100B.png" class="notEnlarge" width="262" height="276"></span></p> </li><li id="li19381145510362">版本检查：进入ohpm-repo私仓工具包解压目录下的bin目录，执行版本查看命令：<div _ngcontent-voy-c106="" class="highlight-div"><div _ngcontent-voy-c106="" class="highlight-div-header"><div _ngcontent-voy-c106="" class="highlight-div-header-left"><div _ngcontent-voy-c106="" class="handle-button expand-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-voy-c106="" class="highlight-div-header-right"><div _ngcontent-voy-c106="" class="handle-button ai-button"></div><div _ngcontent-voy-c106="" class="handle-button line-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-voy-c106="" class="handle-button theme-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-voy-c106="" class="handle-button copy-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-voy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-undefined" id="ZH-CN_TOPIC_0000002510173699__screen132216021310" data-highlighted="yes"><ol class="linenums"><li>  ohpm-repo -v</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002510173699__p13891176201316">终端输出为版本号2.X.X，则表示安装成功。</p> </li><li id="li176021015171218">替换配置文件：获取复制获得的新版本配置文件，与2.X.X版本ohpm-repo私仓工具包解压目录中conf目录下的配置文件做替换。</li><li id="li189961424378">保留旧配置文件的部署目录：打开1.1.0版本ohpm-repo私仓工具包解压目录下的.deploy_root文件，拷贝文件中的路径信息至替换后的新版本配置文件中配置项deploy_root处。</li><li id="li1134994173813">新版本ohpm-repo的服务启动：进入ohpm-repo私仓工具包解压目录下的bin目录，执行以下命令启动新版本ohpm-repo服务：<ol id="ZH-CN_TOPIC_0000002510173699__ol105941431203712"><li id="li876810104382">执行安装命令：<div _ngcontent-voy-c106="" class="highlight-div"><div _ngcontent-voy-c106="" class="highlight-div-header"><div _ngcontent-voy-c106="" class="highlight-div-header-left"><div _ngcontent-voy-c106="" class="handle-button expand-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-voy-c106="" class="highlight-div-header-right"><div _ngcontent-voy-c106="" class="handle-button ai-button"></div><div _ngcontent-voy-c106="" class="handle-button line-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-voy-c106="" class="handle-button theme-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-voy-c106="" class="handle-button copy-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-voy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-undefined" id="ZH-CN_TOPIC_0000002510173699__screen7262105216323" data-highlighted="yes"><ol class="linenums"><li><em>ohpm-repo install</em></li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002510173699__p122622523321">结果示例：</p> <p id="ZH-CN_TOPIC_0000002510173699__p15262652103213"><span><img height="71.82000000000001" originheight="152" originwidth="1096" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104742.14693406041507341804840936717024:50001231000000:2800:8B17BF0E3438693CC08988D08857E0BB9878932EFFFFB4969D101CAF7562CB5A.png" title="点击放大" width="523.6875"></span></p> </li><li id="li177931713173815">刷新环境变量：安装成功后，必须根据给出的提示信息刷新环境变量，针对Windows系统和Linux/Mac系统，有不同处理方式<div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul id="ZH-CN_TOPIC_0000002510173699__ul119021416173917"><li id="li179021216183916"><p id="ZH-CN_TOPIC_0000002510173699__p159021163396"><a name="ZH-CN_TOPIC_0000002510173699__li179021216183916"></a><a name="li179021216183916"></a>Windows系统： 关闭当前窗口，重新开启一个窗口</p> </li><li id="li129029164396"><p id="ZH-CN_TOPIC_0000002510173699__p1490216160394"><a name="ZH-CN_TOPIC_0000002510173699__li129029164396"></a><a name="li129029164396"></a>Linux系统或Mac系统： 在命令行中执行刷新命令：source ~/.bashrc或者. ~/.bashrc。</p> </li></ul> </div></div></div> </li><li id="li75948319374">执行 start 命令：<div _ngcontent-voy-c106="" class="highlight-div"><div _ngcontent-voy-c106="" class="highlight-div-header"><div _ngcontent-voy-c106="" class="highlight-div-header-left"><div _ngcontent-voy-c106="" class="handle-button expand-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-voy-c106="" class="highlight-div-header-right"><div _ngcontent-voy-c106="" class="handle-button ai-button"></div><div _ngcontent-voy-c106="" class="handle-button line-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-voy-c106="" class="handle-button theme-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-voy-c106="" class="handle-button copy-button"><div _ngcontent-voy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-voy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-sql" id="ZH-CN_TOPIC_0000002510173699__screen926385217326" data-highlighted="yes"><ol class="linenums"><li><em>ohpm<span class="hljs-operator">-</span>repo <span class="hljs-keyword">start</span></em></li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002510173699__p426316528323">结果示例：</p> <p id="ZH-CN_TOPIC_0000002510173699__p1626365213214"><span><img height="67.24214" originheight="97" originwidth="1079" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104742.31015789896077573908424451406851:50001231000000:2800:40CDBCBF473DA1D3EA0042366921C28DB70C128C32F00A3DB3E02BD103AFFDBA.png" title="点击放大" width="748.125"></span></p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002510173699__p164667496205">版本升级之前，如果浏览器中已访问ohpm-repo页面，版本升级之后请刷新ohpm-repo页面。</p> </div></div></div> </li></ol> </li></ul> </li></ol> </div> <div></div></div>