<h1 _ngcontent-kaa-c119="" class="doc-title ng-star-inserted" title="单一手势"> 单一手势 </h1>

<div _ngcontent-kaa-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="点击事件onclick">点击事件（onClick）<i class="anchor-icon anchor-icon-link" anchorid="点击事件onclick" tips="复制节点链接"></i></h2>          <p>单击作为常用的手势，可以方便地使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-events-click#onclick" target="_blank">onClick</a>接口实现。尽管被称为事件，它实际上是基本手势类型，等同于将count配置为1的TapGesture，即单击手势。</p>     <p>onClick与其他手势类型相同，也会参与命中测试、响应链收集等过程。可以使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/rkts-interaction-development-guide-support-gesture#干预手势处理">干预手势处理</a>机制对onClick的响应进行动态决策。</p>     <div _ngcontent-kaa-c106="" class="highlight-div"><div _ngcontent-kaa-c106="" class="highlight-div-header"><div _ngcontent-kaa-c106="" class="highlight-div-header-left"><div _ngcontent-kaa-c106="" class="handle-button expand-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kaa-c106="" class="highlight-div-header-right"><div _ngcontent-kaa-c106="" class="handle-button ai-button"></div><div _ngcontent-kaa-c106="" class="handle-button line-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kaa-c106="" class="handle-button theme-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kaa-c106="" class="handle-button copy-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kaa-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@ComponentV2</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">judgeCount</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>
</li><li>  <span class="hljs-title function_">increaseJudgeGuard</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">judgeCount</span>++</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Column</span>()</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'60%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">'50%'</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Grey</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> { <span class="hljs-comment">// 1. 子组件上注册了点击事件，正常情况下点击在子组件上时，优先得到响应</span></li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Clicked on child'</span>)</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">increaseJudgeGuard</span>()</li><li>          })</li><li>          .<span class="hljs-title function_">onGestureJudgeBegin</span>(<span class="hljs-function">(<span class="hljs-params">gestureInfo: GestureInfo, event: BaseGestureEvent</span>) =&gt;</span> {</li><li>            <span class="hljs-comment">// 3. 当数字增长为5的倍数时禁用子组件上的点击手势，这样父组件上的点击可以得到响应</span></li><li>            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">judgeCount</span> % <span class="hljs-number">5</span> == <span class="hljs-number">0</span> &amp;&amp; gestureInfo.<span class="hljs-property">type</span> == <span class="hljs-title class_">GestureControl</span>.<span class="hljs-property">GestureType</span>.<span class="hljs-property">CLICK</span>) {</li><li>              <span class="hljs-keyword">return</span> <span class="hljs-title class_">GestureJudgeResult</span>.<span class="hljs-property">REJECT</span></li><li>            } <span class="hljs-keyword">else</span> {</li><li>              <span class="hljs-keyword">return</span> <span class="hljs-title class_">GestureJudgeResult</span>.<span class="hljs-property">CONTINUE</span></li><li>            }</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'80%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'80%'</span>)</li><li>      .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>)</li><li>      .<span class="hljs-title function_">gesture</span>(</li><li>        <span class="hljs-title class_">TapGesture</span>() <span class="hljs-comment">// 2. 父组件上注册了点击手势，正常情况下点击在子组件区域时，父组件上的手势优先级低于子组件</span></li><li>          .<span class="hljs-title function_">onAction</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Clicked on parent'</span>)</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">increaseJudgeGuard</span>()</li><li>          }))</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p>示例中，每点击5次，子组件的点击事件将临时禁用1次，确保父组件点击优先响应。</p>    </div>    <div class="tiledSection">     <h2 id="点击手势tapgesture">点击手势（TapGesture）<i class="anchor-icon anchor-icon-link" anchorid="点击手势tapgesture" tips="复制节点链接"></i></h2>          <div _ngcontent-kaa-c106="" class="highlight-div"><div _ngcontent-kaa-c106="" class="highlight-div-header"><div _ngcontent-kaa-c106="" class="highlight-div-header-left"><div _ngcontent-kaa-c106="" class="handle-button expand-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kaa-c106="" class="highlight-div-header-right"><div _ngcontent-kaa-c106="" class="handle-button ai-button"></div><div _ngcontent-kaa-c106="" class="handle-button line-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kaa-c106="" class="handle-button theme-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kaa-c106="" class="handle-button copy-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kaa-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">TapGesture</span>(value?: <span class="hljs-title class_">TapGestureParameters</span>)</li></ol></pre></div></div>     <p>点击手势支持单次点击和多次点击，参数定义参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-gestures-tapgesture" target="_blank">TapGesture</a>。</p>     <div _ngcontent-kaa-c106="" class="highlight-div"><div _ngcontent-kaa-c106="" class="highlight-div-header"><div _ngcontent-kaa-c106="" class="highlight-div-header-left"><div _ngcontent-kaa-c106="" class="handle-button expand-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kaa-c106="" class="highlight-div-header-right"><div _ngcontent-kaa-c106="" class="handle-button ai-button"></div><div _ngcontent-kaa-c106="" class="handle-button line-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kaa-c106="" class="handle-button theme-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kaa-c106="" class="handle-button copy-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kaa-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Click twice'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">28</span>)</li><li>        .<span class="hljs-title function_">gesture</span>(</li><li>          <span class="hljs-comment">// 绑定count为2的TapGesture</span></li><li>          <span class="hljs-title class_">TapGesture</span>({ <span class="hljs-attr">count</span>: <span class="hljs-number">2</span> })</li><li>            .<span class="hljs-title function_">onAction</span>(<span class="hljs-function">(<span class="hljs-params">event: GestureEvent|<span class="hljs-literal">undefined</span></span>) =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span>(event){</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(event.<span class="hljs-property">fingerList</span>[<span class="hljs-number">0</span>]);</li><li>            }</li><li>            }))</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-number">250</span>)</li><li>    .<span class="hljs-title function_">padding</span>(<span class="hljs-number">20</span>)</li><li>    .<span class="hljs-title function_">border</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">3</span> })</li><li>    .<span class="hljs-title function_">margin</span>(<span class="hljs-number">30</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="182" originwidth="226" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114913.93049202022087190899381242697603:50001231000000:2800:49DE04A256D3A9F3DA58AA5A9E0089371AA748AD1599D0C604F8A79AC83539F4.gif" class="notEnlarge" width="226" height="182"></span></p>    </div>    <div class="tiledSection">     <h2 id="长按手势longpressgesture">长按手势（LongPressGesture）<i class="anchor-icon anchor-icon-link" anchorid="长按手势longpressgesture" tips="复制节点链接"></i></h2>          <div _ngcontent-kaa-c106="" class="highlight-div"><div _ngcontent-kaa-c106="" class="highlight-div-header"><div _ngcontent-kaa-c106="" class="highlight-div-header-left"><div _ngcontent-kaa-c106="" class="handle-button expand-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kaa-c106="" class="highlight-div-header-right"><div _ngcontent-kaa-c106="" class="handle-button ai-button"></div><div _ngcontent-kaa-c106="" class="handle-button line-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kaa-c106="" class="handle-button theme-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kaa-c106="" class="handle-button copy-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kaa-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">LongPressGesture</span>(value?:{fingers?:<span class="hljs-built_in">number</span>, repeat?:<span class="hljs-built_in">boolean</span>, duration?:<span class="hljs-built_in">number</span>})</li></ol></pre></div></div>     <p>长按手势用于触发长按手势事件，参数定义参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-gestures-longpressgesture" target="_blank">LongPressGesture</a>。</p>     <p>以在Text组件上绑定可以重复触发的长按手势为例：</p>     <div _ngcontent-kaa-c106="" class="highlight-div"><div _ngcontent-kaa-c106="" class="highlight-div-header"><div _ngcontent-kaa-c106="" class="highlight-div-header-left"><div _ngcontent-kaa-c106="" class="handle-button expand-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kaa-c106="" class="highlight-div-header-right"><div _ngcontent-kaa-c106="" class="handle-button ai-button"></div><div _ngcontent-kaa-c106="" class="handle-button line-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kaa-c106="" class="handle-button theme-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kaa-c106="" class="handle-button copy-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kaa-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">count</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'LongPress OnAction:'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">28</span>)</li><li>        .<span class="hljs-title function_">gesture</span>(</li><li>          <span class="hljs-comment">// 绑定可以重复触发的LongPressGesture</span></li><li>          <span class="hljs-title class_">LongPressGesture</span>({ <span class="hljs-attr">repeat</span>: <span class="hljs-literal">true</span> })</li><li>           .<span class="hljs-title function_">onAction</span>(<span class="hljs-function">(<span class="hljs-params">event: GestureEvent|<span class="hljs-literal">undefined</span></span>) =&gt;</span> {</li><li>              <span class="hljs-keyword">if</span>(event){</li><li>                <span class="hljs-keyword">if</span> (event.<span class="hljs-property">repeat</span>) {</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++;</li><li>                }</li><li>              }</li><li>            })</li><li>            .<span class="hljs-title function_">onActionEnd</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span> = <span class="hljs-number">0</span>;</li><li>            })</li><li>        )</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-number">250</span>)</li><li>    .<span class="hljs-title function_">padding</span>(<span class="hljs-number">20</span>)</li><li>    .<span class="hljs-title function_">border</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">3</span> })</li><li>    .<span class="hljs-title function_">margin</span>(<span class="hljs-number">30</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="147" originwidth="202" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114913.01907255492290383049366131292867:50001231000000:2800:A1F3A0CDFA0E17CD2C5D7D55E3F43C9D9877CA1F4A30F122B6DCDE6648FF8884.gif" class="notEnlarge" width="202" height="147"></span></p>    </div>    <div class="tiledSection">     <h2 id="滑动手势pangesture">滑动手势（PanGesture）<i class="anchor-icon anchor-icon-link" anchorid="滑动手势pangesture" tips="复制节点链接"></i></h2>          <div _ngcontent-kaa-c106="" class="highlight-div"><div _ngcontent-kaa-c106="" class="highlight-div-header"><div _ngcontent-kaa-c106="" class="highlight-div-header-left"><div _ngcontent-kaa-c106="" class="handle-button expand-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kaa-c106="" class="highlight-div-header-right"><div _ngcontent-kaa-c106="" class="handle-button ai-button"></div><div _ngcontent-kaa-c106="" class="handle-button line-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kaa-c106="" class="handle-button theme-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kaa-c106="" class="handle-button copy-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kaa-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">PanGesture</span>(value?: { fingers?: <span class="hljs-built_in">number</span>; direction?: <span class="hljs-title class_">PanDirection</span>; distance?: <span class="hljs-built_in">number</span> } | <span class="hljs-title class_">PanGestureOptions</span>)</li></ol></pre></div></div>     <p>滑动手势用于触发滑动手势事件，滑动达到最小滑动距离（默认值为5vp）时滑动手势识别成功，参数定义参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-gestures-pangesture" target="_blank">PanGesture</a>。</p>     <p>以下以实现一个简单的音量控制为例，可以通过滑动手势的回调函数处理多种不同的输入情况下的音量值增减的逻辑。</p>     <p>支持以下五种操作方式：</p>     <p>1、单指上下滑动；</p>     <p>2、按住鼠标左键上下滑动；</p>     <p>3、鼠标滚轮滚动；</p>     <p>4、单指按住触控板上下滑动；</p>     <p>5、使用触控板双指滑动。</p>     <div _ngcontent-kaa-c106="" class="highlight-div"><div _ngcontent-kaa-c106="" class="highlight-div-header"><div _ngcontent-kaa-c106="" class="highlight-div-header-left"><div _ngcontent-kaa-c106="" class="handle-button expand-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kaa-c106="" class="highlight-div-header-right"><div _ngcontent-kaa-c106="" class="handle-button ai-button"></div><div _ngcontent-kaa-c106="" class="handle-button line-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kaa-c106="" class="handle-button theme-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kaa-c106="" class="handle-button copy-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kaa-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">VolumeControlDemo</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">currentVolume</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">50</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-attr">MAX_VOLUME</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">100</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-attr">MIN_VOLUME</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>
</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-title function_">handlePanUpdate</span>(<span class="hljs-params">event: GestureEvent</span>) {</li><li>    <span class="hljs-keyword">const</span> volumeChange = -event.<span class="hljs-property">offsetY</span> * <span class="hljs-number">0.1</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleVolumeChange</span>(volumeChange);</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-title function_">handleWheelEvent</span>(<span class="hljs-params">event: GestureEvent</span>) {</li><li>    <span class="hljs-keyword">const</span> volumeChange = event.<span class="hljs-property">offsetY</span> * <span class="hljs-number">0.1</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleVolumeChange</span>(volumeChange);</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-title function_">handleTouchPadScroll</span>(<span class="hljs-params">event: GestureEvent</span>) {</li><li>    <span class="hljs-keyword">const</span> volumeChange = -event.<span class="hljs-property">offsetY</span> * <span class="hljs-number">0.02</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleVolumeChange</span>(volumeChange);</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-title function_">handleVolumeChange</span>(<span class="hljs-params">delta: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentVolume</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">MAX_VOLUME</span>,</li><li>      <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">MIN_VOLUME</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentVolume</span> + delta)</li><li>    )</li><li>
</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-comment">// 状态显示</span></li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">`音量： <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.currentVolume}</span>`</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>      }.<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>
</li><li>      <span class="hljs-comment">// 手势识别区域</span></li><li>      <span class="hljs-title class_">Column</span>()</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">250</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#F5F5F5'</span>)</li><li>        .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">12</span>)</li><li>        .<span class="hljs-title function_">gesture</span>(</li><li>          <span class="hljs-title class_">PanGesture</span>()</li><li>            .<span class="hljs-title function_">onActionStart</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Pan start"</span>);</li><li>            })</li><li>            .<span class="hljs-title function_">onActionUpdate</span>(<span class="hljs-function">(<span class="hljs-params">event: GestureEvent</span>) =&gt;</span> {</li><li>              <span class="hljs-comment">// 单指上下滑动</span></li><li>              <span class="hljs-keyword">if</span> (event.<span class="hljs-property">source</span> === <span class="hljs-title class_">SourceType</span>.<span class="hljs-property">TouchScreen</span>) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"finger move triggered PanGesture"</span>);</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handlePanUpdate</span>(event);</li><li>              }</li><li>              <span class="hljs-keyword">if</span> (event.<span class="hljs-property">source</span> === <span class="hljs-title class_">SourceType</span>.<span class="hljs-property">Mouse</span> &amp;&amp; event.<span class="hljs-property">sourceTool</span> === <span class="hljs-title class_">SourceTool</span>.<span class="hljs-property">MOUSE</span>) {</li><li>                <span class="hljs-comment">// 鼠标左键按住上下滑动或者触控板单指按住上下滑动</span></li><li>                <span class="hljs-keyword">if</span> (event.<span class="hljs-property">axisHorizontal</span> === <span class="hljs-number">0</span> &amp;&amp; event.<span class="hljs-property">axisVertical</span> === <span class="hljs-number">0</span>) {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"mouse move with left button pressed triggered PanGesture"</span>);</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handlePanUpdate</span>(event);</li><li>                } <span class="hljs-keyword">else</span> { <span class="hljs-comment">// 鼠标滚轮滚动</span></li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"mouse wheel triggered PanGesture"</span>);</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleWheelEvent</span>(event);</li><li>                }</li><li>              }</li><li>              <span class="hljs-keyword">if</span> (event.<span class="hljs-property">sourceTool</span> === <span class="hljs-title class_">SourceTool</span>.<span class="hljs-property">TOUCHPAD</span> &amp;&amp; (event.<span class="hljs-property">axisHorizontal</span> !== <span class="hljs-number">0</span> || event.<span class="hljs-property">axisVertical</span> !== <span class="hljs-number">0</span>)) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"touchpad double finger move triggered PanGesture"</span>);</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleTouchPadScroll</span>(event);</li><li>              }</li><li>            })</li><li>        )</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">padding</span>(<span class="hljs-number">20</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="612" originwidth="686" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114914.89101460572305304770097382377518:50001231000000:2800:DC4D7201B81FC5EE5579175874B459786A2178C3FC558DB2068ADB8E77D58105.gif" width="686" height="612"></span></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>大部分可滑动组件，如List、Grid、Scroll、Tab等组件是通过PanGesture实现滑动，在组件内部的子组件绑定<a href="/consumer/cn/doc/harmonyos-guides/arkts-gesture-events-single-gesture#滑动手势pangesture">滑动手势（PanGesture）</a>或者<a href="/consumer/cn/doc/harmonyos-guides/arkts-gesture-events-single-gesture#快滑手势swipegesture">滑动手势（SwipeGesture）</a>会导致手势竞争。</p>       <p>当在子组件绑定PanGesture时，在子组件区域进行滑动仅触发子组件的PanGesture。如果需要父组件响应，需要通过修改手势绑定方法或者子组件向父组件传递消息进行实现，或者通过修改父子组件的PanGesture参数distance使得滑动更灵敏。当子组件绑定SwipeGesture时，由于PanGesture和SwipeGesture触发条件不同，需要修改PanGesture和SwipeGesture的参数以达到所需效果。</p>       <p>不合理的阈值设置会导致滑动不跟手（响应时延慢）的问题。</p>      </div></div></div>    </div>    <div class="tiledSection">     <h2 id="捏合手势pinchgesture">捏合手势（PinchGesture）<i class="anchor-icon anchor-icon-link" anchorid="捏合手势pinchgesture" tips="复制节点链接"></i></h2>          <div _ngcontent-kaa-c106="" class="highlight-div"><div _ngcontent-kaa-c106="" class="highlight-div-header"><div _ngcontent-kaa-c106="" class="highlight-div-header-left"><div _ngcontent-kaa-c106="" class="handle-button expand-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kaa-c106="" class="highlight-div-header-right"><div _ngcontent-kaa-c106="" class="handle-button ai-button"></div><div _ngcontent-kaa-c106="" class="handle-button line-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kaa-c106="" class="handle-button theme-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kaa-c106="" class="handle-button copy-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kaa-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">PinchGesture</span>(value?: { fingers?: <span class="hljs-built_in">number</span>; distance?: <span class="hljs-built_in">number</span> })</li></ol></pre></div></div>     <p>捏合手势用于触发捏合手势事件，参数定义参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-gestures-pinchgesture" target="_blank">PinchGesture</a>。</p>     <p>以在Column组件上绑定三指捏合手势为例，可以通过在捏合手势的函数回调中获取缩放比例，实现对组件的缩小或放大：</p>     <div _ngcontent-kaa-c106="" class="highlight-div"><div _ngcontent-kaa-c106="" class="highlight-div-header"><div _ngcontent-kaa-c106="" class="highlight-div-header-left"><div _ngcontent-kaa-c106="" class="handle-button expand-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kaa-c106="" class="highlight-div-header-right"><div _ngcontent-kaa-c106="" class="handle-button ai-button"></div><div _ngcontent-kaa-c106="" class="handle-button line-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kaa-c106="" class="handle-button theme-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kaa-c106="" class="handle-button copy-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kaa-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">scaleValue</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">pinchValue</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">pinchX</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">pinchY</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'PinchGesture scale:\n'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleValue</span>)</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'PinchGesture center:\n('</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">pinchX</span> + <span class="hljs-string">','</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">pinchY</span> + <span class="hljs-string">')'</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>      .<span class="hljs-title function_">border</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">3</span> })</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">100</span> })</li><li>      <span class="hljs-comment">// 在组件上绑定缩放比例，可以通过修改缩放比例来实现组件的缩小或者放大</span></li><li>      .<span class="hljs-title function_">scale</span>({ <span class="hljs-attr">x</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleValue</span>, <span class="hljs-attr">y</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleValue</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">1</span> })</li><li>      .<span class="hljs-title function_">gesture</span>(</li><li>        <span class="hljs-comment">// 在组件上绑定三指触发的捏合手势</span></li><li>        <span class="hljs-title class_">PinchGesture</span>({ <span class="hljs-attr">fingers</span>: <span class="hljs-number">3</span> })</li><li>          .<span class="hljs-title function_">onActionStart</span>(<span class="hljs-function">(<span class="hljs-params">event: GestureEvent|<span class="hljs-literal">undefined</span></span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Pinch start'</span>);</li><li>          })</li><li>            <span class="hljs-comment">// 当捏合手势触发时，可以通过回调函数获取缩放比例，从而修改组件的缩放比例</span></li><li>          .<span class="hljs-title function_">onActionUpdate</span>(<span class="hljs-function">(<span class="hljs-params">event: GestureEvent|<span class="hljs-literal">undefined</span></span>) =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span>(event){</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleValue</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pinchValue</span> * event.<span class="hljs-property">scale</span>;</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">pinchX</span> = event.<span class="hljs-property">pinchCenterX</span>;</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">pinchY</span> = event.<span class="hljs-property">pinchCenterY</span>;</li><li>            }</li><li>          })</li><li>          .<span class="hljs-title function_">onActionEnd</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">pinchValue</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleValue</span>;</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Pinch end'</span>);</li><li>          })</li><li>      )</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="731" originwidth="1608" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114914.73029205692808021971219524164752:50001231000000:2800:ACD4C5D7ACA0C6834BF0A5283CE6AE40A472733B4343770606039F412DE17C23.png" width="920" height="418.2338308457711"></span></p>    </div>    <div class="tiledSection">     <h2 id="旋转手势rotationgesture">旋转手势（RotationGesture）<i class="anchor-icon anchor-icon-link" anchorid="旋转手势rotationgesture" tips="复制节点链接"></i></h2>          <div _ngcontent-kaa-c106="" class="highlight-div"><div _ngcontent-kaa-c106="" class="highlight-div-header"><div _ngcontent-kaa-c106="" class="highlight-div-header-left"><div _ngcontent-kaa-c106="" class="handle-button expand-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kaa-c106="" class="highlight-div-header-right"><div _ngcontent-kaa-c106="" class="handle-button ai-button"></div><div _ngcontent-kaa-c106="" class="handle-button line-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kaa-c106="" class="handle-button theme-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kaa-c106="" class="handle-button copy-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kaa-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">RotationGesture</span>(value?: { fingers?: <span class="hljs-built_in">number</span>; angle?: <span class="hljs-built_in">number</span> })</li></ol></pre></div></div>     <p>旋转手势用于触发旋转手势事件，参数定义参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-gestures-rotationgesture" target="_blank">RotationGesture</a>。</p>     <p>以在Text组件上绑定旋转手势实现组件的旋转为例，可以通过在旋转手势的回调函数中获取旋转角度，从而实现组件的旋转：</p>     <div _ngcontent-kaa-c106="" class="highlight-div"><div _ngcontent-kaa-c106="" class="highlight-div-header"><div _ngcontent-kaa-c106="" class="highlight-div-header-left"><div _ngcontent-kaa-c106="" class="handle-button expand-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kaa-c106="" class="highlight-div-header-right"><div _ngcontent-kaa-c106="" class="handle-button ai-button"></div><div _ngcontent-kaa-c106="" class="handle-button line-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kaa-c106="" class="handle-button theme-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kaa-c106="" class="handle-button copy-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kaa-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">angle</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">rotateValue</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'RotationGesture angle:'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">angle</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">28</span>)</li><li>        <span class="hljs-comment">// 在组件上绑定旋转布局，可以通过修改旋转角度来实现组件的旋转</span></li><li>        .<span class="hljs-title function_">rotate</span>({ <span class="hljs-attr">angle</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">angle</span> })</li><li>        .<span class="hljs-title function_">gesture</span>(</li><li>          <span class="hljs-title class_">RotationGesture</span>()</li><li>           .<span class="hljs-title function_">onActionStart</span>(<span class="hljs-function">(<span class="hljs-params">event: GestureEvent|<span class="hljs-literal">undefined</span></span>) =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'RotationGesture is onActionStart'</span>);</li><li>            })</li><li>              <span class="hljs-comment">// 当旋转手势生效时，通过旋转手势的回调函数获取旋转角度，从而修改组件的旋转角度</span></li><li>            .<span class="hljs-title function_">onActionUpdate</span>(<span class="hljs-function">(<span class="hljs-params">event: GestureEvent|<span class="hljs-literal">undefined</span></span>) =&gt;</span> {</li><li>              <span class="hljs-keyword">if</span>(event){</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">angle</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rotateValue</span> + event.<span class="hljs-property">angle</span>;</li><li>              }</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'RotationGesture is onActionUpdate'</span>);</li><li>            })</li><li>              <span class="hljs-comment">// 当旋转结束抬手时，固定组件在旋转结束时的角度</span></li><li>            .<span class="hljs-title function_">onActionEnd</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">rotateValue</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">angle</span>;</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'RotationGesture is onActionEnd'</span>);</li><li>            })</li><li>            .<span class="hljs-title function_">onActionCancel</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'RotationGesture is onActionCancel'</span>);</li><li>            })</li><li>        )</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>        .<span class="hljs-title function_">padding</span>(<span class="hljs-number">20</span>)</li><li>        .<span class="hljs-title function_">border</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">3</span> })</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">100</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="565" originwidth="1404" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114914.32311101932014546371749969348805:50001231000000:2800:3EC4C3650C4E16D5931456EF1597A90CE0F4FB104B19BCB2348D52B1B366C5C0.png" width="920" height="370.22792022792027"></span></p>    </div>    <div class="tiledSection">     <h2 id="快滑手势swipegesture">快滑手势（SwipeGesture）<i class="anchor-icon anchor-icon-link" anchorid="快滑手势swipegesture" tips="复制节点链接"></i></h2>          <div _ngcontent-kaa-c106="" class="highlight-div"><div _ngcontent-kaa-c106="" class="highlight-div-header"><div _ngcontent-kaa-c106="" class="highlight-div-header-left"><div _ngcontent-kaa-c106="" class="handle-button expand-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kaa-c106="" class="highlight-div-header-right"><div _ngcontent-kaa-c106="" class="handle-button ai-button"></div><div _ngcontent-kaa-c106="" class="handle-button line-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kaa-c106="" class="handle-button theme-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kaa-c106="" class="handle-button copy-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kaa-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">SwipeGesture</span>(value?: { fingers?: <span class="hljs-built_in">number</span>; direction?: <span class="hljs-title class_">SwipeDirection</span>; speed?: <span class="hljs-built_in">number</span> })</li></ol></pre></div></div>     <p>快滑手势用于触发快滑事件，当滑动速度大于100vp/s时可以识别成功，参数定义参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-gestures-swipegesture" target="_blank">SwipeGesture</a>。</p>     <p>以在Column组件上绑定快滑手势实现组件的旋转为例：</p>     <div _ngcontent-kaa-c106="" class="highlight-div"><div _ngcontent-kaa-c106="" class="highlight-div-header"><div _ngcontent-kaa-c106="" class="highlight-div-header-left"><div _ngcontent-kaa-c106="" class="handle-button expand-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kaa-c106="" class="highlight-div-header-right"><div _ngcontent-kaa-c106="" class="handle-button ai-button"></div><div _ngcontent-kaa-c106="" class="handle-button line-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kaa-c106="" class="handle-button theme-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kaa-c106="" class="handle-button copy-button"><div _ngcontent-kaa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kaa-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">rotateAngle</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">speed</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"SwipeGesture speed\n"</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">speed</span>)</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"SwipeGesture angle\n"</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">rotateAngle</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">border</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">3</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>      .<span class="hljs-title function_">margin</span>(<span class="hljs-number">100</span>)</li><li>      <span class="hljs-comment">// 在Column组件上绑定旋转，通过快滑手势的滑动速度和角度修改旋转的角度</span></li><li>      .<span class="hljs-title function_">rotate</span>({ <span class="hljs-attr">angle</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">rotateAngle</span> })</li><li>      .<span class="hljs-title function_">gesture</span>(</li><li>        <span class="hljs-comment">// 绑定快滑手势且限制仅在竖直方向滑动时触发</span></li><li>        <span class="hljs-title class_">SwipeGesture</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">SwipeDirection</span>.<span class="hljs-property">Vertical</span> })</li><li>          <span class="hljs-comment">// 当快滑手势触发时，获取滑动的速度和角度，实现对组件的布局参数的修改</span></li><li>          .<span class="hljs-title function_">onAction</span>(<span class="hljs-function">(<span class="hljs-params">event: GestureEvent|<span class="hljs-literal">undefined</span></span>) =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span>(event){</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">speed</span> = event.<span class="hljs-property">speed</span>;</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">rotateAngle</span> = event.<span class="hljs-property">angle</span>;</li><li>            }</li><li>          })</li><li>      )</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="237" originwidth="262" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114914.03207863850512842100071407520960:50001231000000:2800:8F57F18E7F5B74634FBFCDD02EE296D389180905AAE05B93B0A5A1878B34876A.gif" class="notEnlarge" width="262" height="237"></span></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当SwipeGesture和PanGesture同时绑定时，若二者是以默认方式或者互斥方式进行绑定时，会发生竞争。SwipeGesture的触发条件为滑动速度达到100vp/s，PanGesture的触发条件为滑动距离达到5vp，先达到触发条件的手势触发。可以通过修改SwipeGesture和PanGesture的参数以达到不同的效果。</p>      </div></div></div>    </div>   </div>   <div></div></div>