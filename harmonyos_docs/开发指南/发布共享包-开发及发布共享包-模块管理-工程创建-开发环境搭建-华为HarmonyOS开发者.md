<h1 _ngcontent-tjx-c119="" class="doc-title ng-star-inserted" title="发布共享包"> 发布共享包 </h1>

<div _ngcontent-tjx-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000001597973129"><p id="ZH-CN_TOPIC_0000002510174301__zh-cn_topic_0000001316924477_p18620758896">发布打包的HAR，可供其他开发者安装和引用。接下来将介绍如何发布HAR共享包。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002510174301__p771017016146">OpenHarmony三方库中心仓仅支持HAR共享包发布，不支持HSP共享包发布。如需在应用内共享HSP，可将HSP共享包发布至私仓使用，请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-overview">ohpm私仓搭建工具</a>。</p> </div></div></div> <ol id="ZH-CN_TOPIC_0000002510174301__zh-cn_topic_0000001316924477_ol85115376211"><li id="zh-cn_topic_0000001316924477_li556874013296"><span>在HAR模块中（与src文件夹同一级目录下），添加如下文件：</span><p></p><ul id="ZH-CN_TOPIC_0000002510174301__zh-cn_topic_0000001316924477_ul2566144052917"><li id="zh-cn_topic_0000001316924477_li4566164017299">新建README.md文件：在README.md文件中必须包含包的介绍和引用方式，还可以根据包的内容添加更详细介绍。</li><li id="zh-cn_topic_0000001316924477_li1143614713310">新建CHANGELOG.md文件：填写HAR的版本更新记录。</li><li id="zh-cn_topic_0000001316924477_li16519650162911">添加LICENSE文件：LICENSE许可文件。</li></ul> <p></p></li><li id="zh-cn_topic_0000001316924477_li9580192417421"><span>重新<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-har#section7892044183814">编译HAR模块</a>，生成*.har文件。</span><p></p><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002510174301__p5846122815416">若修改了HAR包模块级oh-package.json5文件中version字段信息，请先执行Build &gt; Clean Project指令，再重新进行Build全量构建。</p> </div></div></div> <p></p></li><li id="li1680284543616"><span>利用工具ssh-keygen生成公、私钥，可执行以下命令：</span><p></p><div _ngcontent-tjx-c106="" class="highlight-div"><div _ngcontent-tjx-c106="" class="highlight-div-header"><div _ngcontent-tjx-c106="" class="highlight-div-header-left"><div _ngcontent-tjx-c106="" class="handle-button expand-button"><div _ngcontent-tjx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tjx-c106="" class="highlight-div-header-right"><div _ngcontent-tjx-c106="" class="handle-button ai-button"></div><div _ngcontent-tjx-c106="" class="handle-button line-button"><div _ngcontent-tjx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tjx-c106="" class="handle-button theme-button"><div _ngcontent-tjx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tjx-c106="" class="handle-button copy-button"><div _ngcontent-tjx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tjx-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-bash" id="ZH-CN_TOPIC_0000002510174301__screen1821319563011" data-highlighted="yes"><ol class="linenums"><li>ssh-keygen -m PEM -t RSA -b 4096 <span class="">-f ~/.ssh_ohpm/mykey </span></li></ol></pre></div></div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ol id="ZH-CN_TOPIC_0000002510174301__ol0545152094011"><li id="li522535164015">~/.ssh_ohpm/mykey 为私钥文件 mykey 的文件路径，按照实际情况指定。指定的私钥存储目录必须存在。</li><li id="li1854622016400">追加了.pub后缀的相应公钥文件会存放在和私钥相同的目录下。</li><li id="li17546020104012">OHPM包管理器只支持加密密钥认证，请在生成公私钥时输入密码。</li></ol> </div></div></div> <p></p></li><li id="li10674914378"><span>登录<a href="https://ohpm.openharmony.cn/#/cn/home" target="_blank">OpenHarmony三方库中心仓</a>官网，单击主页右上角的<strong>个人中心， </strong>新增OHPM公钥，将公钥文件（mykey.pub）的内容粘贴到公钥输入框中。</span><p></p><p id="ZH-CN_TOPIC_0000002510174301__p666212214101"><span><img originheight="567" originwidth="1378" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104720.48388283570098761510214562895944:50001231000000:2800:05DBCE24A79C2A2919F85C87919FEDDBA6659D0557EBDAB857197DEA4BFEB2E6.png" width="920" height="378.54862119013063"></span></p> <p></p></li><li id="zh-cn_topic_0000001316924477_li18951212165516"><span>打开命令行工具，将对应私钥文件路径配置到 .ohpmrc 文件中 key_path 字段上，可执行以下命令进行配置：</span><p></p><div _ngcontent-tjx-c106="" class="highlight-div"><div _ngcontent-tjx-c106="" class="highlight-div-header"><div _ngcontent-tjx-c106="" class="highlight-div-header-left"><div _ngcontent-tjx-c106="" class="handle-button expand-button"><div _ngcontent-tjx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tjx-c106="" class="highlight-div-header-right"><div _ngcontent-tjx-c106="" class="handle-button ai-button"></div><div _ngcontent-tjx-c106="" class="handle-button line-button"><div _ngcontent-tjx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tjx-c106="" class="handle-button theme-button"><div _ngcontent-tjx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tjx-c106="" class="handle-button copy-button"><div _ngcontent-tjx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tjx-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-bash" id="ZH-CN_TOPIC_0000002510174301__zh-cn_topic_0000001316924477_screen1635210310012" data-highlighted="yes"><ol class="linenums"><li>ohpm config <span class="hljs-built_in">set</span> key_path <span class=""> ~/.ssh_ohpm/mykey</span></li></ol></pre></div></div> <p></p></li><li id="li52849132718"><span>登录<a href="https://ohpm.openharmony.cn" target="_blank">OpenHarmony三方库中心仓</a>官网，单击主页右上角的<strong>个人中心</strong>，复制发布码，获取发布码并配置到 .ohpmrc 文件中，可执行如下命令：</span><p></p><div _ngcontent-tjx-c106="" class="highlight-div"><div _ngcontent-tjx-c106="" class="highlight-div-header"><div _ngcontent-tjx-c106="" class="highlight-div-header-left"><div _ngcontent-tjx-c106="" class="handle-button expand-button"><div _ngcontent-tjx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tjx-c106="" class="highlight-div-header-right"><div _ngcontent-tjx-c106="" class="handle-button ai-button"></div><div _ngcontent-tjx-c106="" class="handle-button line-button"><div _ngcontent-tjx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tjx-c106="" class="handle-button theme-button"><div _ngcontent-tjx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tjx-c106="" class="handle-button copy-button"><div _ngcontent-tjx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tjx-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-bash" id="ZH-CN_TOPIC_0000002510174301__screen23604212106" data-highlighted="yes"><ol class="linenums"><li>ohpm config <span class="hljs-built_in">set</span> publish_id your_publish_id</li></ol></pre></div></div> <p></p></li><li id="zh-cn_topic_0000001316924477_li362913581914"><span>执行如下命令发布HAR，&lt;HAR路径&gt;需指定为.har文件的具体路径。</span><p></p><div _ngcontent-tjx-c106="" class="highlight-div"><div _ngcontent-tjx-c106="" class="highlight-div-header"><div _ngcontent-tjx-c106="" class="highlight-div-header-left"><div _ngcontent-tjx-c106="" class="handle-button expand-button"><div _ngcontent-tjx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tjx-c106="" class="highlight-div-header-right"><div _ngcontent-tjx-c106="" class="handle-button ai-button"></div><div _ngcontent-tjx-c106="" class="handle-button line-button"><div _ngcontent-tjx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tjx-c106="" class="handle-button theme-button"><div _ngcontent-tjx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tjx-c106="" class="handle-button copy-button"><div _ngcontent-tjx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tjx-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-php-template" id="ZH-CN_TOPIC_0000002510174301__zh-cn_topic_0000001316924477_screen137513285318" data-highlighted="yes"><ol class="linenums"><li><span class="language-xml">ohpm publish <span class="hljs-tag">&lt;<span class="hljs-name">HAR路径</span>&gt;</span>  </span></li></ol></pre></div></div> <p></p></li></ol> </div> <div></div></div>