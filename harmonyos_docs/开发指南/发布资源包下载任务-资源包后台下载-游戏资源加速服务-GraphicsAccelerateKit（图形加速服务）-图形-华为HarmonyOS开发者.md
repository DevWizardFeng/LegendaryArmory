<h1 _ngcontent-xcn-c119="" class="doc-title ng-star-inserted" title="发布资源包下载任务"> 发布资源包下载任务 </h1>

<div _ngcontent-xcn-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>在AppGallery Connect支持创建“使用华为CDN”或“使用三方CDN”的游戏资源包下载任务。</p> <div class="tiledSection"><h2 id="section1593554101015">前提条件<i class="anchor-icon anchor-icon-link" anchorid="section1593554101015" tips="复制节点链接"></i></h2><ul><li>已准备好游戏资源包并加密，且自行保证游戏资源包的可用性。资源包支持的格式请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/graphics-accelerate-assetdownload-faq-1">上传至华为CDN的资源包文件支持哪些格式类型</a>。</li><li>游戏资源包支持使用三方CDN或托管至华为CDN。若使用三方CDN，请提前将资源包上传至三方CDN服务器。若托管至华为CDN，将在AppGallery Connect上传资源包，一个下载任务中的每个资源包大小不超过2GB，所有任务的资源包总大小不超过150GB。</li></ul> </div> <div class="tiledSection"><h2 id="section514181912359">进入申请页面<i class="anchor-icon anchor-icon-link" anchorid="section514181912359" tips="复制节点链接"></i></h2><div class="p">登录<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank">AppGallery Connect</a>，点击“APP与元服务 ”，在游戏列表中选择游戏后，选择“分发 &gt; 服务 &gt; 资源包后台下载申请”，在页面右侧点击“申请”。<div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul><li>若列表中有“审核中”、“预上线”、“已发布”、“任务暂停”中的任一状态任务，将无法点击“申请”，需要终止该任务后才能申请。</li><li>资源包下载任务的状态说明请参见<a href="/consumer/cn/doc/harmonyos-guides/graphics-accelerate-assetdownload-release#section136921536143919">下载任务状态说明</a>。</li></ul> </div></div></div> </div> <p><span><img originheight="394" originwidth="1304" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114411.50444752219361019303821389346599:50001231000000:2800:F46C7041D9B8F1FD967C4BF48EA04BF1A16A5F66E09A81F58EEFB3C9FA63243D.png" width="920" height="277.9754601226994"></span></p> </div> <div class="tiledSection"><h2 id="section1494105011355">创建下载任务<i class="anchor-icon anchor-icon-link" anchorid="section1494105011355" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section0915903365" class="firsth2">资源包下载方式一：使用三方CDN<i class="anchor-icon anchor-icon-link" anchorid="section0915903365" tips="复制节点链接"></i></h3><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>已提前将资源包上传至三方CDN服务器。</p> </div></div></div> <p>在“资源包后台下载申请”页面填写资源包信息后，点击“提交申请”，提交资源包下载任务。若暂不提交该任务，点击“保存草稿”，允许继续编辑后再提交申请。</p> <p><span><img originheight="494" originwidth="964" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114411.88032130689103201359771934037566:50001231000000:2800:938BB8DE3215AA604A4542890A5161E324E4CE533EDC5DC276CBFB9C846650D8.png" width="920" height="471.4522821576764"></span></p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.5.1.3.1.1" valign="top" width="20%"><p>配置项</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.3.1.2" valign="top" width="80%"><p>填写说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="20%"><p>下载类型</p> </td> <td class="cellrowborder" valign="top" width="80%"><p>请选择下载器，建议根据应用自身是否有下载器进行选择：</p> <ul><li>应用自身无下载器，建议选择“extension系统托管下载”。选择后，将由华为提供的系统下载器下载游戏资源包。</li><li>应用自身有下载器，建议选择“extension协同下载”。选择后，将由应用自身下载器下载游戏资源包。</li></ul> </td> </tr> <tr><td class="cellrowborder" valign="top" width="20%"><p>CDN</p> </td> <td class="cellrowborder" valign="top" width="80%"><p>选择“使用三方CDN”。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="20%"><p>指定下载时间段</p> </td> <td class="cellrowborder" valign="top" width="80%"><p>用户向三方CDN服务器请求下载游戏资源包的时间段。步骤如下：</p> <ol><li>打开“指定下载时间段”开关。</li><li>点击“添加时间段”，指定开始时间和结束时间，最多可支持添加20个时间段，且多个时间段不能重叠。</li></ol> </td> </tr> <tr><td class="cellrowborder" valign="top" width="20%"><p>包体大小</p> </td> <td class="cellrowborder" valign="top" width="80%"><p>填写已上传至三方CDN服务器的资源包大小。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="20%"><p>CDN域名白名单</p> </td> <td class="cellrowborder" valign="top" width="80%"><p>英文逗号隔开，最多添加20个。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="section1613612713368">资源包下载方式二：使用华为CDN<i class="anchor-icon anchor-icon-link" anchorid="section1613612713368" tips="复制节点链接"></i></h3><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>除了支持在AppGallery Connect“页面”方式创建“华为CDN”的资源包下载任务，还支持开发者使用“API”方式创建“华为CDN”的资源包下载任务，详情请参见<a href="https://developer.huawei.com/consumer/cn/doc/AppGallery-connect-Guides/agcapi-res-pkg-preload-0000002362269981" target="_blank">API接口</a>。</p> </div></div></div> <p>在“资源包后台下载申请”页面填写资源包信息，具体步骤如下：</p> <p><span><img originheight="856" originwidth="861" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114411.43402940019205692801467570648610:50001231000000:2800:3D210E13FBD7CDEE0EDE706288C1B4ABCBAB864EC05EDBD8ED415C68660FD4DF.png" width="861" height="856"></span></p> <ol><li>“下载类型”请选择“<strong>extension系统托管下载</strong>”。</li><li>“CDN”选择“<strong>使用华为CDN</strong>”。</li><li><strong>设置资源包下载的开始时间和结束时间</strong>。要求如下： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.5.3.2.1.3.1.1" valign="top" width="44.35%"><p>要求</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.5.3.2.1.3.1.2" valign="top" width="55.65%"><p>举例</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="44.35%"><p>开始时间和结束时间的生效时间均为用户设备的本地时间。</p> </td> <td class="cellrowborder" valign="top" width="55.65%"><p>-</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="44.35%"><p>开始时间和结束时间只能选择到天。</p> </td> <td class="cellrowborder" valign="top" width="55.65%"><ul><li>开始时间选择2024年4月2日，则默认开始时间为2024年4月2日0点。</li><li>结束时间选择2024年4月10日，则默认结束时间为2024年4月10日23点59分。</li></ul> </td> </tr> <tr><td class="cellrowborder" valign="top" width="44.35%"><p>开始时间和结束时间最长间隔为14天。</p> </td> <td class="cellrowborder" valign="top" width="55.65%"><p>-</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="44.35%"><p>资源包下载申请只有华为运营审批通过后，才能正式对外发布，因此请提前1~3天申请资源包下载任务，给华为运营预留时间进行审批。</p> </td> <td class="cellrowborder" valign="top" width="55.65%"><p>申请资源包下载任务时，开始时间选择2024年4月2日，结束时间选择2024年4月10日。</p> <p>若华为运营审核通过，正式对外发布的时间为2024年4月5日，则当前资源包下载任务只能从2024年4月5日开始执行。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="44.35%"><p>游戏资源包在用户客户端最长保留时间为14天，开始时间需要根据游戏首发或游戏发布更新版本的时间合理安排。</p> </td> <td class="cellrowborder" valign="top" width="55.65%"><p>申请资源包下载任务时，开始时间选择2024年4月2日，结束时间选择2024年4月10日。</p> <p>下载任务在2024年4月2日审核通过并对外正式发布，此后符合条件的用户设备就会将资源包下载到设备本地，直到2024年4月10日任务结束。</p> <p>但您在4月25日才在华为应用市场上架游戏的最新版本，而此时用户设备的游戏资源包已经过了14天的最大保留时间，系统会自动删除设备本地的游戏资源包，从而导致用户下载游戏后无法加载下载的游戏资源包。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="44.35%"><p>开始时间设置后如果更改，则结束时间自动清除，需要重新选择。</p> </td> <td class="cellrowborder" valign="top" width="55.65%"><p>-</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="44.35%"><p>如果审核通过的时间已经晚于下载结束时间，则审核通过后任务会直接变为“任务结束”状态。</p> </td> <td class="cellrowborder" valign="top" width="55.65%"><p>-</p> </td> </tr>  </tbody></table></div> </div> </li><li><strong>填写资源包版本号</strong>。版本号用于跟踪不同资源包的下载任务，版本号要求不超过9位的整数，且必须高于已创建任务的版本号。重新编辑“草稿”、“预上线”、“任务结束”状态的资源包下载任务时，资源包版本号也不能低于已有的版本号。</li><li><strong>上传资源包</strong>。在“上传资源包”栏点击“选择文件”，上传提前准备好的游戏资源包。<div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul><li>同一个开发者支持上传至华为CDN的资源包总大小不超过150GB，且历史任务的资源包文件最多保留半年。</li><li>上传资源包文件的过程中，若提示华为CDN空间已满，开发者应删除历史无用的资源包文件或下载任务。</li></ul> </div></div></div> <div class="p">资源包上传过程及最终状态分为如下几种： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.5.5.3.1.1.3.1.1" valign="top" width="24.779999999999998%"><p>游戏资源包的文件状态</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.5.5.3.1.1.3.1.2" valign="top" width="75.22%"><p>处理说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="24.779999999999998%"><p>上传中...进度x%</p> </td> <td class="cellrowborder" valign="top" width="75.22%"><p>等待资源包上传完成，如需停止上传，可以点击“取消上传”。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="24.779999999999998%"><p>上传失败</p> </td> <td class="cellrowborder" valign="top" width="75.22%"><p>检查网络是否正常、资源包大小是否超过上限，如无异常，可点击“删除”将游戏资源包删除，并重新上传资源包。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="24.779999999999998%"><p>扫描中</p> </td> <td class="cellrowborder" valign="top" width="75.22%"><p>等待游戏资源包扫描完成。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="24.779999999999998%"><p>扫描不通过，可能存在病毒</p> </td> <td class="cellrowborder" valign="top" width="75.22%"><p>点击“删除”将游戏资源包删除，并检查包体中是否存在病毒，修复资源包后重新上传。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="24.779999999999998%"><p>扫描通过</p> </td> <td class="cellrowborder" valign="top" width="75.22%"><p>表示游戏资源包上传成功。</p> </td> </tr>  </tbody></table></div> </div> </div> </li><li>（可选）填写hotversion。开发者可以通过hotversion版本号指定下一级文件的存储路径。<p><span><img originheight="144" originwidth="1084" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114412.93050100269332558433644492169117:50001231000000:2800:205E92B384C0039993E5C220D3C14BDB0606A447F10A40A3C9B0F7437CB30CDC.png" width="920" height="122.2140221402214"></span></p> <p>例如，资源包版本号为2.1，hotversion为2.1.0，资源包文件的存储路径如下：</p> <div _ngcontent-xcn-c106="" class="highlight-div"><div _ngcontent-xcn-c106="" class="highlight-div-header"><div _ngcontent-xcn-c106="" class="highlight-div-header-left"><div _ngcontent-xcn-c106="" class="handle-button expand-button"><div _ngcontent-xcn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xcn-c106="" class="highlight-div-header-right"><div _ngcontent-xcn-c106="" class="handle-button ai-button"></div><div _ngcontent-xcn-c106="" class="handle-button line-button"><div _ngcontent-xcn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xcn-c106="" class="handle-button theme-button"><div _ngcontent-xcn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xcn-c106="" class="handle-button copy-button"><div _ngcontent-xcn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xcn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li>└──appid  <span class="hljs-number">10035</span>                              <span class="hljs-comment">// 游戏APP ID</span></li><li>   ├──v2<span class="hljs-number">.1</span>/                                  <span class="hljs-comment">// 资源包版本号</span></li><li>   │  ├──v2<span class="hljs-number">.1</span><span class="hljs-number">.0</span>/                              <span class="hljs-comment">// hotversion</span></li><li>   │  │  ├──button.<span class="hljs-property">png</span>?v=<span class="hljs-number">20240223</span>            <span class="hljs-comment">// 资源包文件</span></li><li>   │  │  ├──font.<span class="hljs-property">ttf</span>?v=<span class="hljs-number">20240210</span>              <span class="hljs-comment">// 资源包文件</span></li><li>   │  │  └──font.<span class="hljs-property">ttf</span>?v=<span class="hljs-number">20240213</span>              <span class="hljs-comment">// 资源包文件</span></li><li>   │  └──v2<span class="hljs-number">.1</span><span class="hljs-number">.1</span>/                             <span class="hljs-comment">// hotversion</span></li><li>   │     └──font.<span class="hljs-property">ttf</span>?v=<span class="hljs-number">20240214</span>             <span class="hljs-comment">// 资源包文件   </span></li><li>   └──v2<span class="hljs-number">.0</span>/ </li></ol></pre></div></div> </li><li><strong>提交资源包下载任务</strong>。点击“提交申请”提交资源包下载任务。若暂不提交该任务，点击“保存草稿”，允许继续编辑后再提交申请。</li></ol> </div> <div class="tiledSection"><h2 id="section124381849103616">提交下载任务<i class="anchor-icon anchor-icon-link" anchorid="section124381849103616" tips="复制节点链接"></i></h2><p>在<a href="/consumer/cn/doc/harmonyos-guides/graphics-accelerate-assetdownload-release#section1494105011355">创建下载任务</a>时已提交申请，可跳过当前步骤。</p> <p>在<a href="/consumer/cn/doc/harmonyos-guides/graphics-accelerate-assetdownload-release#section1494105011355">创建下载任务</a>时保存为草稿，请继续编辑后再提交申请。具体步骤如下：</p> <ol><li>在任务列表中找到“草稿”状态的任务，点击“操作”列中的“编辑”进入申请详情页。<p><span><img originheight="183" originwidth="1344" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114412.13718439941410981713058856647625:50001231000000:2800:7A24B88A138D80CEBFAAABE91CC7431476E5E3CB57774B6C67D99EA5C79D4263.png" width="920" height="125.26785714285714"></span></p> </li><li>在申请页填写资源包信息，填写要求请参见<a href="/consumer/cn/doc/harmonyos-guides/graphics-accelerate-assetdownload-release#section1494105011355">创建下载任务</a>。完成后，点击“提交申请”提交资源包下载任务，当前任务状态变更为“预上线”。<p><span><img originheight="144" originwidth="544" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114412.93524593138637345482102011521306:50001231000000:2800:49E253733DC96F012F624867CEC3C8FBAB709102B11E6DB9EF16074AA874FBDA.png" width="544" height="144"></span></p> </li></ol> </div> <div class="tiledSection"><h2 id="section6757103624010">测试下载功能<i class="anchor-icon anchor-icon-link" anchorid="section6757103624010" tips="复制节点链接"></i></h2><p>正式发布下载任务前， 请在本地测试“预上线”状态的任务是否可以成功下载资源包。</p> </div> <div class="tiledSection"><h3 id="section39151457161812" class="firsth2">打开资源包自动更新开关<i class="anchor-icon anchor-icon-link" anchorid="section39151457161812" tips="复制节点链接"></i></h3><p>请在HarmonyOS 5.1.0及以上版本测试设备的“游戏中心”客户端打开“我的 &gt; 设置 &gt; 服务管理 &gt; 游戏服务”，打开“允许资源包自动更新”开关。</p> <p><span><img height="625.7783000000001" originheight="1330" originwidth="650" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114412.88559648233214200754050241638403:50001231000000:2800:EE97F096899F101E154D051E0B221D2DC27E808D1BEBEB784D1F7AE364E76C6B.png" title="点击放大" width="305.90000000000003"></span></p> </div> <div class="tiledSection"><h3 id="section2740185771720">配置设备号<i class="anchor-icon anchor-icon-link" anchorid="section2740185771720" tips="复制节点链接"></i></h3><ol><li>输入如下命令行，获取测试设备的设备号。<div _ngcontent-xcn-c106="" class="highlight-div"><div _ngcontent-xcn-c106="" class="highlight-div-header"><div _ngcontent-xcn-c106="" class="highlight-div-header-left"><div _ngcontent-xcn-c106="" class="handle-button expand-button"><div _ngcontent-xcn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xcn-c106="" class="highlight-div-header-right"><div _ngcontent-xcn-c106="" class="handle-button ai-button"></div><div _ngcontent-xcn-c106="" class="handle-button line-button"><div _ngcontent-xcn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xcn-c106="" class="handle-button theme-button"><div _ngcontent-xcn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xcn-c106="" class="handle-button copy-button"><div _ngcontent-xcn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xcn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li>hdc shell bm get --udid</li></ol></pre></div></div> <p><span><img originheight="70" originwidth="555" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114412.71154744793948021915101291139687:50001231000000:2800:380B0D236E314C47345B0A0DBCFE6621E94CD88A1B799CE8A1F673D63F0D296A.png" width="555" height="70"></span></p> </li><li>在AppGallery Connect页面点击“测试设备”后的“编辑”。<p><span><img originheight="178" originwidth="1324" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114412.92894063212625034306329144066610:50001231000000:2800:B95904F35685BDA9F0ADD945641359D720B08046CAE2B85BAC25ACA44AE1E99D.png" width="920" height="123.6858006042296"></span></p> </li><li>在输入框中最多添加10台测试设备的设备号，且使用英文逗号（,）间隔开，完成后点击“保存”。<p><span><img originheight="179" originwidth="1304" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114412.99621658794465359218663442718745:50001231000000:2800:253751A1F019DD2650F8E59B17FFB85C520F87A9571A4D11C1DD1DBCBEC2CEFC.png" width="920" height="126.28834355828222"></span></p> </li></ol> </div> <div class="tiledSection"><h3 id="section15491059184">验证方式<i class="anchor-icon anchor-icon-link" anchorid="section15491059184" tips="复制节点链接"></i></h3><ol><li>如果游戏未安装，则安装游戏。<div _ngcontent-xcn-c106="" class="highlight-div"><div _ngcontent-xcn-c106="" class="highlight-div-header"><div _ngcontent-xcn-c106="" class="highlight-div-header-left"><div _ngcontent-xcn-c106="" class="handle-button expand-button"><div _ngcontent-xcn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xcn-c106="" class="highlight-div-header-right"><div _ngcontent-xcn-c106="" class="handle-button ai-button"></div><div _ngcontent-xcn-c106="" class="handle-button line-button"><div _ngcontent-xcn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xcn-c106="" class="handle-button theme-button"><div _ngcontent-xcn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xcn-c106="" class="handle-button copy-button"><div _ngcontent-xcn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xcn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 输入命令行，安装游戏。</span></li><li><span class="hljs-comment">// "entry-default-signed.hap"为示例包名，请根据您项目的实际包名替换使用。</span></li><li>hdc install .\entry-<span class="hljs-keyword">default</span>-signed.<span class="hljs-property">hap</span></li></ol></pre></div></div> </li><li>如果游戏已安装，则执行模拟设备闲时命令。<div _ngcontent-xcn-c106="" class="highlight-div"><div _ngcontent-xcn-c106="" class="highlight-div-header"><div _ngcontent-xcn-c106="" class="highlight-div-header-left"><div _ngcontent-xcn-c106="" class="handle-button expand-button"><div _ngcontent-xcn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xcn-c106="" class="highlight-div-header-right"><div _ngcontent-xcn-c106="" class="handle-button ai-button"></div><div _ngcontent-xcn-c106="" class="handle-button line-button"><div _ngcontent-xcn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xcn-c106="" class="handle-button theme-button"><div _ngcontent-xcn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xcn-c106="" class="handle-button copy-button"><div _ngcontent-xcn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xcn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 输入命令行，模拟设备满足闲时条件。</span></li><li>hdc shell hidumper -s <span class="hljs-number">1904</span> -a <span class="hljs-string">"-s 66272 7800"</span></li></ol></pre></div></div> </li><li>验证以上两个场景是否触发系统后台下载资源包：查看测试设备的通知栏出现下载任务，则系统后台下载资源包功能验证通过。<p><span><img height="625.7783000000001" originheight="1330" originwidth="650" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114412.07230662393172789760124783225494:50001231000000:2800:83871E63672242A2EB4E3C5500B0CAA56A1A48CC226F26172D6640C24767E733.png" title="点击放大" width="305.90000000000003"></span></p> </li></ol> </div> <div class="tiledSection"><h2 id="section9206134163716">发布下载任务<i class="anchor-icon anchor-icon-link" anchorid="section9206134163716" tips="复制节点链接"></i></h2><ol><li>在任务列表找到“预上线”状态的任务，点击“操作”列中的“发布”。<p><span><img originheight="177" originwidth="1344" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114412.75298431287637238611374049465020:50001231000000:2800:ADA800D0FF36F707D28C77F9E81ADBCDA6A7006D091A557FBAF7455B862E687E.png" width="920" height="121.16071428571429"></span></p> <p>在弹出的提示窗中点击“确认”。</p> <p><span><img originheight="154" originwidth="404" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114412.25418746142877753608141107102690:50001231000000:2800:B7D0C11379BD4991FF77895AFBA40FAA46EC1F33B4E13022AFC22212F5D6E46C.png" width="404" height="154"></span></p> <p>发布该任务后，华为运营人员将在1~3个工作日内完成审批，请耐心等待。</p> <p>任务通过审批后，游戏资源包将在指定时间内向满足条件的用户设备进行推送。</p> </li><li>若需要终止已发布的任务，可以在任务列表中主动点击“终止”。<p><span><img originheight="182" originwidth="1374" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114412.53195633940446809288163015139196:50001231000000:2800:44F17D81E73E7C06B66D471AB0A87CCB10794169D8A623859EC6001D774E7C88.png" width="920" height="121.86317321688502"></span></p> <p>此时，系统将不再对该资源包进行自动下载。对于用户设备上已开始下载的游戏资源包不会立刻删除，而是在下一次启动自动更新时，删除下载时间大于7*24小时的游戏资源包。</p> </li></ol> </div> <div class="tiledSection"><h2 id="section136921536143919">下载任务状态说明<i class="anchor-icon anchor-icon-link" anchorid="section136921536143919" tips="复制节点链接"></i></h2> <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.13.2.1.4.1.1" valign="top" width="7.5200000000000005%"><p>序号</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.2.1.4.1.2" valign="top" width="17.080000000000002%"><p>状态</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.2.1.4.1.3" valign="top" width="75.4%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="7.5200000000000005%"><p>1</p> </td> <td class="cellrowborder" valign="top" width="17.080000000000002%"><p>草稿</p> </td> <td class="cellrowborder" valign="top" width="75.4%"><p>填写信息后保存为草稿后的状态，草稿状态的任务支持“编辑”和“删除”。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="7.5200000000000005%"><p>2</p> </td> <td class="cellrowborder" valign="top" width="17.080000000000002%"><p>预上线</p> </td> <td class="cellrowborder" valign="top" width="75.4%"><p>提交申请后的状态，任务可以在这个状态下进行资源包下载测试。预上线状态的任务支持“发布”和“终止”。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="7.5200000000000005%"><p>3</p> </td> <td class="cellrowborder" valign="top" width="17.080000000000002%"><p>审核中</p> </td> <td class="cellrowborder" valign="top" width="75.4%"><p>“预上线”状态的任务点击“发布”后的状态。审核中的任务不支持执行任何操作。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="7.5200000000000005%"><p>4</p> </td> <td class="cellrowborder" valign="top" width="17.080000000000002%"><p>审核不通过</p> </td> <td class="cellrowborder" valign="top" width="75.4%"><p>任务点击“发布”后提交到华为运营人员审核，审核不通过的状态。审核不通过的任务支持重新“编辑”。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="7.5200000000000005%"><p>5</p> </td> <td class="cellrowborder" valign="top" width="17.080000000000002%"><p>已发布</p> </td> <td class="cellrowborder" valign="top" width="75.4%"><p>任务审核通过后任务正式发布的状态，发布中的任务仅支持“终止”。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="7.5200000000000005%"><p>6</p> </td> <td class="cellrowborder" valign="top" width="17.080000000000002%"><p>任务结束</p> </td> <td class="cellrowborder" valign="top" width="75.4%"><p>本次下载任务执行结束或者被华为运营人员终止了任务。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="7.5200000000000005%"><p>7</p> </td> <td class="cellrowborder" valign="top" width="17.080000000000002%"><p>任务暂停</p> </td> <td class="cellrowborder" valign="top" width="75.4%"><p>被华为运营人员暂停了任务。</p> </td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>