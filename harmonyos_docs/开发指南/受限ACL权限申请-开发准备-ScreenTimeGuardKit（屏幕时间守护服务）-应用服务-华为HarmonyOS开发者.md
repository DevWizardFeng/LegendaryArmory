<h1 _ngcontent-dhb-c119="" class="doc-title ng-star-inserted" title="受限ACL权限申请"> 受限ACL权限申请 </h1>

<div _ngcontent-dhb-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>1. 在 <a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-debug-profile-0000002248181278" target="_blank">申请调试Profile</a>和<a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-release-profile-0000002248341090" target="_blank">发布Profile文件</a>之前，需要<a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-apply-acl-0000002394212138" target="_blank">申请相应的ACL权限</a>。</p> <p>2. 登录<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html#/" target="_blank">AppGallery Connect</a>，点击开发与服务，在项目列表中找到您的项目，并点击选择您需要申请ACL权限的应用。在“项目设置”页面，选择“ACL权限”页签，开始为应用申请ACL权限。</p> <p><span><img height="220.33167698846387" originheight="457" originwidth="1908" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114552.19404862294438705463460761330320:50001231000000:2800:68B5D3F4F7C3C7FD48F39EF227C6C399D7A10D5BC095F97C99144CAFD56D432B.png" title="点击放大" width="920"></span></p> <p></p> <p>3. 在“未获取权限”区域，仔细阅读注意事项后勾选“我已知晓”，在权限搜索框中输入"ohos.permission.MANAGE_SCREEN_TIME_GUARD"找到屏幕时间守护的权限并勾选，再提交申请。</p> <p>4. 根据实际业务需求填写申请原因并提交，提交后将在1个工作日回复。</p> <p><span><img originheight="543" originwidth="950" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114552.50838029762836229961269068267730:50001231000000:2800:4D110FC26AA7A9FBB411D2D3B264367ABAFADFC0FEAAF71603433104DA2999E5.png" width="920" height="525.8526315789474"></span></p> <p></p> <p>5. 权限申请通过后，在申请profile文件时，在“申请权限”栏选中“受限ACL权限（HarmonyOS API9及以上）”选项，点击“选择”。</p> <p><span><img originheight="97" originwidth="445" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114552.51647050879546266272451143635671:50001231000000:2800:3B0E081E0684000F0F90B01F92EB3952B2E549136BF0010794288AAC5CC3564C.png" width="445" height="97"></span></p> <p></p> <p>6. 在弹出的“选择受限ACL权限”窗口可以看到已申请的权限，勾选后点击确定。</p> <p><span><img height="351.518069" originheight="413" originwidth="995" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114552.19912152724584862239301762326543:50001231000000:2800:47B312F879C2F98FEE880ABCBA8D74BD130BC903B9F4804C85C7B85C5F4B8494.png" title="点击放大" width="846.8775"></span></p> <p></p> <p>7. 选择权限后点击“添加”生成新的Profile文件，下载后按<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-signing#section297715173233" target="_blank">手动配置签名信息</a>替换profile文件。</p> <p>8. 在工程中entry模块的module.json5文件中，在"requestPermissions"节点添加"ohos.permission.MANAGE_SCREEN_TIME_GUARD"权限，如下所示：</p> <div _ngcontent-dhb-c106="" class="highlight-div"><div _ngcontent-dhb-c106="" class="highlight-div-header"><div _ngcontent-dhb-c106="" class="highlight-div-header-left"><div _ngcontent-dhb-c106="" class="handle-button expand-button"><div _ngcontent-dhb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dhb-c106="" class="highlight-div-header-right"><div _ngcontent-dhb-c106="" class="handle-button ai-button"></div><div _ngcontent-dhb-c106="" class="handle-button line-button"><div _ngcontent-dhb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dhb-c106="" class="handle-button theme-button"><div _ngcontent-dhb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dhb-c106="" class="handle-button copy-button"><div _ngcontent-dhb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dhb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-string">"requestPermissions"</span>: [{</li><li>  <span class="hljs-string">"name"</span>: <span class="hljs-string">"ohos.permission.MANAGE_SCREEN_TIME_GUARD"</span></li><li>}]</li></ol></pre></div></div> </div> <div></div></div>