<h1 _ngcontent-uyb-c119="" class="doc-title ng-star-inserted" title="启动指定页面"> 启动指定页面 </h1>

<div _ngcontent-uyb-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>当PageAbility的启动模式设置为单例时（具体设置方法和典型场景示例见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/pageability-launch-type">PageAbility的启动模式</a>，缺省情况下是单实例模式），若PageAbility已被拉起，再次启动PageAbility会触发onNewWant回调（即非首次拉起）。应用开发者可以通过want传递启动参数，例如开发者希望指定页面启动PageAbility，可以通过want中的parameters参数传递pages信息，具体示例代码如下：</p> <p>调用方PageAbility的app.ets中或者page中，使用startAbility再次拉起PageAbility，通过want中的uri参数传递页面信息：</p> <div _ngcontent-uyb-c106="" class="highlight-div"><div _ngcontent-uyb-c106="" class="highlight-div-header"><div _ngcontent-uyb-c106="" class="highlight-div-header-left"><div _ngcontent-uyb-c106="" class="handle-button expand-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyb-c106="" class="highlight-div-header-right"><div _ngcontent-uyb-c106="" class="handle-button ai-button"></div><div _ngcontent-uyb-c106="" class="handle-button line-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyb-c106="" class="handle-button theme-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyb-c106="" class="handle-button copy-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyb-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li><span class="hljs-keyword">import</span> <span class="hljs-title class_">Want</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.app.ability.Want'</span>;</li><li><span class="hljs-keyword">import</span> hilog <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.hilog'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">TAG</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'PagePageAbilityFirst'</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">domain</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0xFF00</span>;</li></ol></pre></div></div> <div _ngcontent-uyb-c106="" class="highlight-div"><div _ngcontent-uyb-c106="" class="highlight-div-header"><div _ngcontent-uyb-c106="" class="highlight-div-header-left"><div _ngcontent-uyb-c106="" class="handle-button expand-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyb-c106="" class="highlight-div-header-right"><div _ngcontent-uyb-c106="" class="handle-button ai-button"></div><div _ngcontent-uyb-c106="" class="handle-button line-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyb-c106="" class="handle-button theme-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyb-c106="" class="handle-button copy-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyb-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li>(<span class="hljs-keyword">async</span> (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; =&gt; {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">wantInfo</span>: <span class="hljs-title class_">Want</span> = {</li><li>    <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.samples.famodelabilitydevelop'</span>,</li><li>    <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'com.samples.famodelabilitydevelop.PageAbilitySingleton'</span>,</li><li>    <span class="hljs-attr">parameters</span>: { <span class="hljs-attr">page</span>: <span class="hljs-string">'pages/second'</span> }</li><li>  };</li><li>  featureAbility.<span class="hljs-title function_">startAbility</span>({ <span class="hljs-attr">want</span>: wantInfo }).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">debug</span>(domain, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`restartAbility success : <span class="hljs-subst">${data}</span>`</span>);</li><li>  });</li><li>})()</li></ol></pre></div></div> <p>在目标端PageAbility的onNewWant回调中获取包含页面信息的want参数：</p> <div _ngcontent-uyb-c106="" class="highlight-div"><div _ngcontent-uyb-c106="" class="highlight-div-header"><div _ngcontent-uyb-c106="" class="highlight-div-header-left"><div _ngcontent-uyb-c106="" class="handle-button expand-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyb-c106="" class="highlight-div-header-right"><div _ngcontent-uyb-c106="" class="handle-button ai-button"></div><div _ngcontent-uyb-c106="" class="handle-button line-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyb-c106="" class="handle-button theme-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyb-c106="" class="handle-button copy-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyb-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// GlobalContext.ts 构造单例对象</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GlobalContext</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-attr">instance</span>: <span class="hljs-title class_">GlobalContext</span>;</li><li>  <span class="hljs-keyword">private</span> _objects = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">Object</span>&gt;();</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-title function_">getContext</span>(): <span class="hljs-title class_">GlobalContext</span> {</li><li>    <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">GlobalContext</span>.<span class="hljs-property">instance</span>) {</li><li>      <span class="hljs-title class_">GlobalContext</span>.<span class="hljs-property">instance</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GlobalContext</span>();</li><li>    }</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">GlobalContext</span>.<span class="hljs-property">instance</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getObject</span>(<span class="hljs-attr">value</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Object</span> | <span class="hljs-literal">undefined</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">_objects</span>.<span class="hljs-title function_">get</span>(value);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">setObject</span>(<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">objectClass</span>: <span class="hljs-title class_">Object</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_objects</span>.<span class="hljs-title function_">set</span>(key, objectClass);</li><li>  }</li><li>}</li></ol></pre></div></div> <div _ngcontent-uyb-c106="" class="highlight-div"><div _ngcontent-uyb-c106="" class="highlight-div-header"><div _ngcontent-uyb-c106="" class="highlight-div-header-left"><div _ngcontent-uyb-c106="" class="handle-button expand-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyb-c106="" class="highlight-div-header-right"><div _ngcontent-uyb-c106="" class="handle-button ai-button"></div><div _ngcontent-uyb-c106="" class="handle-button line-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyb-c106="" class="handle-button theme-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyb-c106="" class="handle-button copy-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyb-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> <span class="hljs-title class_">Want</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.app.ability.Want'</span>;</li><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">GlobalContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils/GlobalContext'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">PageAbilitySingleton</span> {</li><li>  <span class="hljs-title function_">onNewWant</span>(<span class="hljs-params">want: Want</span>) {</li><li>    featureAbility.<span class="hljs-title function_">getWant</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">want</span>) =&gt;</span> {</li><li>      <span class="hljs-title class_">GlobalContext</span>.<span class="hljs-title function_">getContext</span>().<span class="hljs-title function_">setObject</span>(<span class="hljs-string">'newWant'</span>, want);</li><li>    })</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PageAbilitySingleton</span>();</li></ol></pre></div></div> <p>在目标端页面的自定义组件中获取包含页面信息的want参数并根据uri做路由处理：</p> <div _ngcontent-uyb-c106="" class="highlight-div"><div _ngcontent-uyb-c106="" class="highlight-div-header"><div _ngcontent-uyb-c106="" class="highlight-div-header-left"><div _ngcontent-uyb-c106="" class="handle-button expand-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyb-c106="" class="highlight-div-header-right"><div _ngcontent-uyb-c106="" class="handle-button ai-button"></div><div _ngcontent-uyb-c106="" class="handle-button line-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyb-c106="" class="handle-button theme-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyb-c106="" class="handle-button copy-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyb-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> <span class="hljs-title class_">Want</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.app.ability.Want'</span>;</li><li><span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.router'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">GlobalContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../utils/GlobalContext'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">First</span> {</li><li>  <span class="hljs-title function_">onPageShow</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> newWant = <span class="hljs-title class_">GlobalContext</span>.<span class="hljs-title function_">getContext</span>().<span class="hljs-title function_">getObject</span>(<span class="hljs-string">'newWant'</span>) <span class="hljs-keyword">as</span> <span class="hljs-title class_">Want</span>;</li><li>    <span class="hljs-keyword">if</span> (newWant) {</li><li>      <span class="hljs-keyword">if</span> (newWant.<span class="hljs-property">parameters</span>) {</li><li>        <span class="hljs-keyword">if</span> (newWant.<span class="hljs-property">parameters</span>.<span class="hljs-property">page</span>) {</li><li>          router.<span class="hljs-title function_">pushUrl</span>({ <span class="hljs-attr">url</span>: newWant.<span class="hljs-property">parameters</span>.<span class="hljs-property">page</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>});</li><li>          <span class="hljs-title class_">GlobalContext</span>.<span class="hljs-title function_">getContext</span>().<span class="hljs-title function_">setObject</span>(<span class="hljs-string">"newWant"</span>, <span class="hljs-literal">undefined</span>)</li><li>        }</li><li>      }</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'singleton_first_title'</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">24</span>)</li><li>          .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>          .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Start</span>)</li><li>          .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">12</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">11</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">24</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">24</span> })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">56</span>)</li><li>      .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Start</span>)</li><li>
</li><li>      <span class="hljs-title class_">Image</span>(<span class="hljs-string">'pic_empty'</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">120</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">120</span>)</li><li>        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">224</span> })</li><li>
</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'no_content'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">14</span>)</li><li>        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">8</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">317</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">152</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">152</span> })</li><li>        .<span class="hljs-title function_">fontColor</span>(<span class="hljs-string">'text_color'</span>)</li><li>        .<span class="hljs-title function_">opacity</span>(<span class="hljs-number">0.4</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'backGrounding'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> <p>当PageAbility的启动模式设置为多实例模式或为首次启动单例模式的PageAbility时（具体设置方法和典型场景示例见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/pageability-launch-type">PageAbility的启动模式</a>），在调用方PageAbility中，通过want中的parameters参数传递要启动的指定页面的pages信息，调用startAbility()方法启动PageAbility。被调用方可以在onCreate中使用featureAbility的getWant方法获取want，再通过调用router.pushUrl实现启动指定页面。</p> <p>调用方的页面中实现按钮点击触发startAbility方法启动目标端PageAbility，startAbility方法的入参want中携带指定页面信息，示例代码如下：</p> <div _ngcontent-uyb-c106="" class="highlight-div"><div _ngcontent-uyb-c106="" class="highlight-div-header"><div _ngcontent-uyb-c106="" class="highlight-div-header-left"><div _ngcontent-uyb-c106="" class="handle-button expand-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyb-c106="" class="highlight-div-header-right"><div _ngcontent-uyb-c106="" class="handle-button ai-button"></div><div _ngcontent-uyb-c106="" class="handle-button line-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyb-c106="" class="handle-button theme-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyb-c106="" class="handle-button copy-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyb-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li><span class="hljs-keyword">import</span> <span class="hljs-title class_">Want</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.app.ability.Want'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.base'</span>;</li><li><span class="hljs-keyword">import</span> fs <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.file.fs'</span>;</li><li><span class="hljs-keyword">import</span> promptAction <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.promptAction'</span>;</li><li><span class="hljs-keyword">import</span> worker <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.worker'</span>;</li><li><span class="hljs-keyword">import</span> hilog <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.hilog'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">TAG</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'PagePageAbilityFirst'</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">domain</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0xFF00</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">PagePageAbilityFirst</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-comment">//...</span></li><li>      <span class="hljs-title class_">List</span>({ <span class="hljs-attr">initialIndex</span>: <span class="hljs-number">0</span> }) {</li><li>        <span class="hljs-comment">//...</span></li><li>        <span class="hljs-title class_">ListItem</span>() {</li><li>          <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">SpaceBetween</span>, <span class="hljs-attr">alignContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>          <span class="hljs-comment">//...</span></li><li>          }</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span> = {</li><li>              <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.samples.famodelabilitydevelop'</span>,</li><li>              <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'com.samples.famodelabilitydevelop.PageAbilityStandard'</span>,</li><li>              <span class="hljs-attr">parameters</span>: { <span class="hljs-attr">page</span>: <span class="hljs-string">'pages/first'</span> }</li><li>            };</li><li>            featureAbility.<span class="hljs-title function_">startAbility</span>({ <span class="hljs-attr">want</span>: want }).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>              hilog.<span class="hljs-title function_">info</span>(domain, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`startAbility finish:<span class="hljs-subst">${data}</span>`</span>);</li><li>            }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>              hilog.<span class="hljs-title function_">info</span>(domain, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`startAbility failed errcode:<span class="hljs-subst">${err.code}</span>`</span>);</li><li>            })</li><li>          })</li><li>        }</li><li>        <span class="hljs-comment">//...</span></li><li>        <span class="hljs-title class_">ListItem</span>() {</li><li>          <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">SpaceBetween</span>, <span class="hljs-attr">alignContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>          <span class="hljs-comment">//...</span></li><li>          }</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span> = {</li><li>              <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.samples.famodelabilitydevelop'</span>,</li><li>              <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'com.samples.famodelabilitydevelop.PageAbilityStandard'</span>,</li><li>              <span class="hljs-attr">parameters</span>: { <span class="hljs-attr">page</span>: <span class="hljs-string">'pages/second'</span> }</li><li>            };</li><li>            featureAbility.<span class="hljs-title function_">startAbility</span>({ <span class="hljs-attr">want</span>: want }).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>              hilog.<span class="hljs-title function_">info</span>(domain, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`startAbility finish:<span class="hljs-subst">${data}</span>`</span>);</li><li>            }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>              hilog.<span class="hljs-title function_">info</span>(domain, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`startAbility failed errcode:<span class="hljs-subst">${err.code}</span>`</span>);</li><li>            })</li><li>          })</li><li>        }</li><li>        <span class="hljs-comment">//...</span></li><li>      }</li><li>      <span class="hljs-comment">//...</span></li><li>    }</li><li>    <span class="hljs-comment">//...</span></li><li>  }</li><li>}</li></ol></pre></div></div> <p>目标端PageAbility的onCreate生命周期回调中通过featureAbility的getWant方法获取want，并对参数进行解析，实现指定页面拉起：</p> <div _ngcontent-uyb-c106="" class="highlight-div"><div _ngcontent-uyb-c106="" class="highlight-div-header"><div _ngcontent-uyb-c106="" class="highlight-div-header-left"><div _ngcontent-uyb-c106="" class="handle-button expand-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyb-c106="" class="highlight-div-header-right"><div _ngcontent-uyb-c106="" class="handle-button ai-button"></div><div _ngcontent-uyb-c106="" class="handle-button line-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyb-c106="" class="handle-button theme-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyb-c106="" class="handle-button copy-button"><div _ngcontent-uyb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyb-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> featureAbility <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.ability.featureAbility'</span>;</li><li><span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.router'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">PageAbilityStandard</span> {</li><li>  <span class="hljs-title function_">onCreate</span>(<span class="hljs-params"></span>) {</li><li>    featureAbility.<span class="hljs-title function_">getWant</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">want</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (want.<span class="hljs-property">parameters</span>) {</li><li>        <span class="hljs-keyword">if</span> (want.<span class="hljs-property">parameters</span>.<span class="hljs-property">page</span>) {</li><li>          router.<span class="hljs-title function_">pushUrl</span>({ <span class="hljs-attr">url</span>: want.<span class="hljs-property">parameters</span>.<span class="hljs-property">page</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span> });</li><li>        }</li><li>      }</li><li>    })</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PageAbilityStandard</span>();</li></ol></pre></div></div> </div> <div></div></div>