<h1 _ngcontent-xeg-c119="" class="doc-title ng-star-inserted" title="在端侧调用云对象"> 在端侧调用云对象 </h1>

<div _ngcontent-xeg-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000001981567525"><p id="ZH-CN_TOPIC_0000002179338356__p8060118">云对象开发完成后，您可以为其生成端侧调用接口类，供后续端侧工程调用云对象使用。</p> <div class="tiledSection"><h2 id="section19214122182520">前提条件<i class="anchor-icon anchor-icon-link" anchorid="section19214122182520" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002179338356__p716481305420">请确保<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/agc-harmonyos-clouddev-deploycloudobj">云对象已正确开发并部署</a>。</p> </div> <div class="tiledSection"><h2 id="section1143116149286">操作步骤<i class="anchor-icon anchor-icon-link" anchorid="section1143116149286" tips="复制节点链接"></i></h2><ol id="ZH-CN_TOPIC_0000002179338356__ol397151013716"><li id="li17971102078">右击云对象（以“my-cloud-object”为例），选择“Generate Invoke Interface”。<p id="ZH-CN_TOPIC_0000002179338356__p153821554111618"><span><img originheight="436" originwidth="734" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104747.71157610472271532431987465514205:50001231000000:2800:B24115F24EF7F190DE0F124806FEEEF3D31D9FC03507D14702AF5D007EF9314E.png" width="734" height="436"></span></p> </li><li id="li118971252398">在弹出的“Generate Invoke Interface”窗口，可以看到生成的端侧调用接口类将默认存储在“Application/cloud_objects”模块目录下，点击“OK”确认。您也可以点击“...”按钮自定义存储目录。<p id="ZH-CN_TOPIC_0000002179338356__p8381620571"><span><img originheight="135" originwidth="621" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104747.02787156672669848427675696058698:50001231000000:2800:E7192102E2215A33313885E4E6B9158E8E12AEEAA6DFC4A97E40A48C13D4D440.png" width="621" height="135"></span></p> </li><li id="li15757162641418">DevEco Studio自动打开指定的端侧调用接口类存储目录，该目录包含“ImportObject.ts”文件和“my-cloud-object”文件夹。<ul id="ZH-CN_TOPIC_0000002179338356__ul12273824145617"><li id="li4273624105614">“ImportObject.ts”文件定义了importObject方法，可以通过该方法来实例化一个云对象的代理。</li><li id="li1168112835616">“my-cloud-object”文件夹包含了该云对象在端侧可能用到的所有模型。示例中只有一个“MyCloudObject.ts”文件，如果有其它的模型也将生成在该文件夹下。</li><li id="li1037630175813">“MyCloudObject.ts”文件中定义了MyCloudObject class，并且定义了add和subtract两个方法。</li></ul> <p id="ZH-CN_TOPIC_0000002179338356__p1759004692314"><span><img originheight="569" originwidth="978" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104747.80551386248406766345722496551231:50001231000000:2800:057044106DD33B3E75D651C0A3C13AFC93C76CF31D5DE3B32C1CE19C9BC688B0.png" width="920" height="535.2556237218814"></span></p> </li><li id="li17225854154914">在代码文件中引入云对象。<div _ngcontent-xeg-c106="" class="highlight-div"><div _ngcontent-xeg-c106="" class="highlight-div-header"><div _ngcontent-xeg-c106="" class="highlight-div-header-left"><div _ngcontent-xeg-c106="" class="handle-button expand-button"><div _ngcontent-xeg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xeg-c106="" class="highlight-div-header-right"><div _ngcontent-xeg-c106="" class="handle-button ai-button"></div><div _ngcontent-xeg-c106="" class="handle-button line-button"><div _ngcontent-xeg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xeg-c106="" class="handle-button theme-button"><div _ngcontent-xeg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xeg-c106="" class="handle-button copy-button"><div _ngcontent-xeg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xeg-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" id="ZH-CN_TOPIC_0000002179338356__screen718724410270" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">MyCloudObject</span>, importObject } <span class="hljs-keyword">from</span> <span class="hljs-string">'cloud_objects'</span>;</li></ol></pre></div></div> </li><li id="li1018794492715">调用云对象中的方法。<div _ngcontent-xeg-c106="" class="highlight-div"><div _ngcontent-xeg-c106="" class="highlight-div-header"><div _ngcontent-xeg-c106="" class="highlight-div-header-left"><div _ngcontent-xeg-c106="" class="handle-button expand-button"><div _ngcontent-xeg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xeg-c106="" class="highlight-div-header-right"><div _ngcontent-xeg-c106="" class="handle-button ai-button"></div><div _ngcontent-xeg-c106="" class="handle-button line-button"><div _ngcontent-xeg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xeg-c106="" class="handle-button theme-button"><div _ngcontent-xeg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xeg-c106="" class="handle-button copy-button"><div _ngcontent-xeg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xeg-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" id="ZH-CN_TOPIC_0000002179338356__screen83310501404" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> myCloudObject = importObject(<span class="hljs-title class_">MyCloudObject</span>); <span class="hljs-comment">// 使用importObject实例化MyCloudObject的代理</span></li><li>myCloudObject.<span class="hljs-title function_">add</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">addResult</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`1 + 2 = <span class="hljs-subst">${addResult.result}</span>`</span>);</li><li>}); <span class="hljs-comment">// 忽略异常处理</span></li><li>myCloudObject.<span class="hljs-title function_">subtract</span>(<span class="hljs-number">6</span>, <span class="hljs-number">3</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">subtractResult</span> =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`6 - 3 = <span class="hljs-subst">${subtractResult.result}</span>`</span>);</li><li>});</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002179338356__p1868512215113">由于“Generate Invoke Interface”时已经生成所需要的模型以及importObject方法，因此在编码时可以很方便地使用联想、自动引入等DevEco Studio提供的高阶能力，如下图所示。</p> <p id="ZH-CN_TOPIC_0000002179338356__p199011028510"><span><img originheight="141" originwidth="654" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104747.03646411081837924235416360199750:50001231000000:2800:8AFEF4A0275140E213C1A4B2E54BED7E17353272CE6079D56E9672ADF2A45863.png" width="654" height="141"></span></p> </li></ol> </div> </div> <div></div></div>