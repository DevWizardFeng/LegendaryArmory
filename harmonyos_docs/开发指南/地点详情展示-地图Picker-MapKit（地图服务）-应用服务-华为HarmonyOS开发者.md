<h1 _ngcontent-sjg-c119="" class="doc-title ng-star-inserted" title="地点详情展示"> 地点详情展示 </h1>

<div _ngcontent-sjg-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="section11661811099">场景介绍<i class="anchor-icon anchor-icon-link" anchorid="section11661811099" tips="复制节点链接"></i></h2>          <p>本章节将向您介绍如何集成地点详情展示控件，该控件为您提供了便捷的地点详情展示功能实现方案，无需自行开发地图页面。此外，该控件还具备导航功能，您可通过点击"路线"按钮直接启动导航功能，或通过点击相邻的打车按钮快速发起打车服务。需要注意的是，该控件暂不支持在智能表设备上调用。</p>     <div class="fignone">      <span class="figcap"><b>图1 </b>地点详情</span>      <br><span><img height="708.430485" originheight="2720" originwidth="1260" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114534.05563597847038265562105375964256:50001231000000:2800:CEA913E36626883DC972C6B0C435AFA3A52E36974A259FC1FEB44188D0815DF3.jpg" title="点击放大" width="328.1775"></span>     </div>    </div>    <div class="tiledSection">     <h2 id="section123691321746">约束与限制<i class="anchor-icon anchor-icon-link" anchorid="section123691321746" tips="复制节点链接"></i></h2>          <p>使用该功能需满足以下条件：</p>     <ul>      <li>仅支持手机、平板和2in1设备。</li>     </ul>    </div>    <div class="tiledSection">     <h2 id="section196543913133">接口说明<i class="anchor-icon anchor-icon-link" anchorid="section196543913133" tips="复制节点链接"></i></h2>          <p>地点详情控件功能主要由<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-scenemap" target="_blank">sceneMap</a>命名空间下的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-scenemap#section177377424221" target="_blank">queryLocation</a>方法提供，更多接口及使用方法请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-scenemap" target="_blank">接口文档</a>。</p>    </div>    <div class="tablenoborder">     <div class="tbBox"><table class="layoutFixed idpTab">      <thead>       <tr>        <th align="left" class="cellrowborder" id="mcps1.3.4.1.3.1.1" valign="top" width="67.96%">         <p>接口名</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.4.1.3.1.2" valign="top" width="32.04%">         <p>描述</p></th>       </tr>      </thead>             <tbody><tr>        <td class="cellrowborder" valign="top" width="67.96%">         <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-scenemap#section971194972117" target="_blank">LocationQueryOptions</a></p></td>        <td class="cellrowborder" valign="top" width="32.04%">         <p>查询地点详情的参数。</p></td>       </tr>       <tr>        <td class="cellrowborder" valign="top" width="67.96%">         <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-scenemap#section177377424221" target="_blank">queryLocation</a>(context: common.<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext" target="_blank">UIAbilityContext</a>, options: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-scenemap#section971194972117" target="_blank">LocationQueryOptions</a>): Promise&lt;void&gt;</p></td>        <td class="cellrowborder" valign="top" width="32.04%">         <p>查询地点详情。</p></td>       </tr>           </tbody></table></div>    </div>    <div class="tiledSection">     <h2 id="section72961091618">开发步骤<i class="anchor-icon anchor-icon-link" anchorid="section72961091618" tips="复制节点链接"></i></h2>          <ol>      <li>导入相关模块。       <div _ngcontent-sjg-c106="" class="highlight-div"><div _ngcontent-sjg-c106="" class="highlight-div-header"><div _ngcontent-sjg-c106="" class="highlight-div-header-left"><div _ngcontent-sjg-c106="" class="handle-button expand-button"><div _ngcontent-sjg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sjg-c106="" class="highlight-div-header-right"><div _ngcontent-sjg-c106="" class="handle-button ai-button"></div><div _ngcontent-sjg-c106="" class="handle-button line-button"><div _ngcontent-sjg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sjg-c106="" class="handle-button theme-button"><div _ngcontent-sjg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sjg-c106="" class="handle-button copy-button"><div _ngcontent-sjg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sjg-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sceneMap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MapKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li></ol></pre></div></div></li>      <li>创建查询地点详情参数，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-scenemap#section177377424221" target="_blank">queryLocation</a>方法拉起地点详情页。       <div _ngcontent-sjg-c106="" class="highlight-div"><div _ngcontent-sjg-c106="" class="highlight-div-header"><div _ngcontent-sjg-c106="" class="highlight-div-header-left"><div _ngcontent-sjg-c106="" class="handle-button expand-button"><div _ngcontent-sjg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sjg-c106="" class="highlight-div-header-right"><div _ngcontent-sjg-c106="" class="handle-button ai-button"></div><div _ngcontent-sjg-c106="" class="handle-button line-button"><div _ngcontent-sjg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sjg-c106="" class="handle-button theme-button"><div _ngcontent-sjg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sjg-c106="" class="handle-button copy-button"><div _ngcontent-sjg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sjg-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 方式一：传入siteId</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">queryLocationOptions</span>: sceneMap.<span class="hljs-property">LocationQueryOptions</span> = { </li><li>  <span class="hljs-attr">siteId</span>: <span class="hljs-string">"922207154068557824"</span> </li><li>};</li><li><span class="hljs-comment">// 拉起地点详情页</span></li><li>sceneMap.<span class="hljs-title function_">queryLocation</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>, queryLocationOptions)</li><li>  .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"QueryLocation"</span>, <span class="hljs-string">"Succeeded in querying location."</span>);</li><li>  })</li><li>  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"QueryLocation"</span>, <span class="hljs-string">`Failed to query Location, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>
</li><li><span class="hljs-comment">// 方式二：传入location和name</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">queryLocationOptions</span>: sceneMap.<span class="hljs-property">LocationQueryOptions</span> = {</li><li>  <span class="hljs-attr">location</span>: {</li><li>    <span class="hljs-attr">latitude</span>: <span class="hljs-number">39.9175</span>,</li><li>    <span class="hljs-attr">longitude</span>: <span class="hljs-number">116.3972</span></li><li>  },</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-string">'故宫博物院'</span></li><li>};</li><li><span class="hljs-comment">// 拉起地点详情页</span></li><li>sceneMap.<span class="hljs-title function_">queryLocation</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>, queryLocationOptions)</li><li>  .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"QueryLocation"</span>, <span class="hljs-string">"Succeeded in querying location."</span>);</li><li>  })</li><li>  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"QueryLocation"</span>, <span class="hljs-string">`Failed to query Location, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li></ol></pre></div></div></li>     </ol>    </div>   </div>   <div></div></div>