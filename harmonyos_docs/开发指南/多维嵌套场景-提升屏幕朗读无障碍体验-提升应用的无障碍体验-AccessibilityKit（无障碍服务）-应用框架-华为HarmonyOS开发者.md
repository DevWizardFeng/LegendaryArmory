<h1 _ngcontent-snm-c119="" class="doc-title ng-star-inserted" title="多维嵌套场景"> 多维嵌套场景 </h1>

<div _ngcontent-snm-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="section1335592117714">设计场景<i class="anchor-icon anchor-icon-link" anchorid="section1335592117714" tips="复制节点链接"></i></h2><p>如果应用展示的是多维信息，还可能出现“嵌套组”的情况。在嵌套组中，应避免两个可获焦对象的功能或朗读内容产生重复。比如下图的天气卡片，时间和地点信息获取到焦点时，都是朗读的时间信息；不同焦点的重复朗读会额外增加用户的操作步骤，焦点控制杂乱，这些对同一个信息结构的完整描述应该统一标注在这几个子控件的父控件上。</p> <p><span><img originheight="117" originwidth="295" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114824.72701114670583724195723449864534:50001231000000:2800:5A57485ECA089974DC30E25D9689E8165E72FB3EA62773CF30FC428219536742.png" class="notEnlarge" width="295" height="117"></span></p> </div> <div class="tiledSection"><h2 id="section13570736978">开发实例<i class="anchor-icon anchor-icon-link" anchorid="section13570736978" tips="复制节点链接"></i></h2><div _ngcontent-snm-c106="" class="highlight-div"><div _ngcontent-snm-c106="" class="highlight-div-header"><div _ngcontent-snm-c106="" class="highlight-div-header-left"><div _ngcontent-snm-c106="" class="handle-button expand-button"><div _ngcontent-snm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-snm-c106="" class="highlight-div-header-right"><div _ngcontent-snm-c106="" class="handle-button ai-button"></div><div _ngcontent-snm-c106="" class="handle-button line-button"><div _ngcontent-snm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-snm-c106="" class="handle-button theme-button"><div _ngcontent-snm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-snm-c106="" class="handle-button copy-button"><div _ngcontent-snm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-snm-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class=""><span class="hljs-meta">@Entry</span></span></li><li><span class=""><span class="hljs-meta">@Component</span></span></li><li><span class="hljs-keyword">export</span> struct <span class=""><span class="hljs-title class_">Rule</span>_2_1_3 </span><span class="">{</span></li><li>  <span class=""><span class="hljs-attr">title</span></span><span class="">: </span><span class=""><span class="hljs-built_in">string</span> </span><span class="">= </span><span class=""><span class="hljs-string">'Rule 2.1.3'</span></span></li><li>
</li><li>  <span class=""><span class="hljs-title function_">build</span></span><span class="">(<span class="hljs-params"></span>) </span><span class="">{</span></li><li>    <span class=""><span class="hljs-title class_">NavDestination</span></span><span class="">() </span><span class="">{</span></li><li>      <span class=""><span class="hljs-title class_">Column</span></span><span class="">() </span><span class="">{</span></li><li>        <span class=""><span class="hljs-title class_">Text</span></span><span class="">(</span><span class=""><span class="hljs-string">'Incorrect behavior:'</span></span><span class="">) </span><span class=""><span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment">播报</span></span><span class=""><span class="hljs-comment"> "Time Group 12:05 Beijing" + "12:05" + "Beijing".</span></span></li><li><span class="">          <span class="hljs-comment">//</span></span><span class=""><span class="hljs-comment">继续下滑焦点可聚焦至子控件文本重复了两次。这是不正确的。</span></span></li><li>          <span class="">.</span><span class=""><span class="hljs-title function_">width</span></span><span class="">(</span><span class=""><span class="hljs-string">'100%'</span></span><span class="">)</span></li><li>          <span class="">.</span><span class=""><span class="hljs-title function_">fontSize</span></span><span class="">(</span><span class=""><span class="hljs-number">12</span></span><span class="">)</span></li><li>          <span class="">.</span><span class=""><span class="hljs-title function_">fontColor</span></span><span class="">(</span><span class=""><span class="hljs-title class_">Color</span></span><span class="">.</span><span class=""><span class="hljs-property">Black</span></span><span class="">)</span></li><li>          <span class="">.</span><span class=""><span class="hljs-title function_">margin</span></span><span class="">(</span><span class="">{</span><span class=""><span class="hljs-attr">bottom</span></span><span class="">: </span><span class=""><span class="hljs-number">12</span></span><span class="">}</span><span class="">)</span></li><li>        <span class=""><span class="hljs-title class_">Row</span></span><span class="">()</span><span class="">{</span></li><li>          <span class=""><span class="hljs-title class_">Text</span></span><span class="">(</span><span class=""><span class="hljs-string">"12:05"</span></span><span class="">) </span><span class=""><span class="hljs-comment">// time information</span></span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">fontSize</span></span><span class="">(</span><span class=""><span class="hljs-number">32</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">fontColor</span></span><span class="">(</span><span class=""><span class="hljs-title class_">Color</span></span><span class="">.</span><span class=""><span class="hljs-property">Red</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">fontWeight</span></span><span class="">(</span><span class=""><span class="hljs-title class_">FontWeight</span></span><span class="">.</span><span class=""><span class="hljs-property">Bold</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">textAlign</span></span><span class="">(</span><span class=""><span class="hljs-title class_">TextAlign</span></span><span class="">.</span><span class=""><span class="hljs-property">Center</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">margin</span></span><span class="">(</span><span class="">{</span><span class=""><span class="hljs-attr">right</span></span><span class="">: </span><span class=""><span class="hljs-number">20</span></span><span class="">}</span><span class="">)</span></li><li>
</li><li>          <span class=""><span class="hljs-title class_">Text</span></span><span class="">(</span><span class=""><span class="hljs-string">"Beijing"</span></span><span class="">) </span><span class=""><span class="hljs-comment">// location information</span></span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">fontSize</span></span><span class="">(</span><span class=""><span class="hljs-number">20</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">fontColor</span></span><span class="">(</span><span class=""><span class="hljs-title class_">Color</span></span><span class="">.</span><span class=""><span class="hljs-property">Green</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">fontWeight</span></span><span class="">(</span><span class=""><span class="hljs-title class_">FontWeight</span></span><span class="">.</span><span class=""><span class="hljs-property">Bold</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">textAlign</span></span><span class="">(</span><span class=""><span class="hljs-title class_">TextAlign</span></span><span class="">.</span><span class=""><span class="hljs-property">Center</span></span><span class="">)</span></li><li>        <span class="">}</span></li><li>        <span class="">.</span><span class=""><span class="hljs-title function_">accessibilityText</span></span><span class="">(</span><span class=""><span class="hljs-string">"Time Group"</span></span><span class="">) </span><span class=""><span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment">时间信息、位置信息和此可访问性文本在获得焦点时被朗读。</span></span></li><li>        <span class=""><span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment">带有时间信息的文本组件可聚焦并朗读</span></span></li><li>        <span class=""><span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment">具有位置信息的文本组件可聚焦并朗读</span></span></li><li>        <span class="">.</span><span class=""><span class="hljs-title function_">height</span></span><span class="">(</span><span class=""><span class="hljs-number">50</span></span><span class="">)</span></li><li>        <span class="">.</span><span class=""><span class="hljs-title function_">margin</span></span><span class="">(</span><span class="">{</span><span class=""><span class="hljs-attr">bottom</span></span><span class="">: </span><span class=""><span class="hljs-number">150</span></span><span class="">}</span><span class="">)</span></li><li>
</li><li>        <span class=""><span class="hljs-title class_">Text</span></span><span class="">(</span><span class=""><span class="hljs-string">'Correct behavior:'</span></span><span class="">) </span><span class=""><span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment">只朗读</span></span><span class=""><span class="hljs-comment"> "07:05 Moscow" </span></span><span class=""><span class="hljs-comment">，不重复文本。是正确的。</span></span></li><li>          <span class="">.</span><span class=""><span class="hljs-title function_">width</span></span><span class="">(</span><span class=""><span class="hljs-string">'100%'</span></span><span class="">)</span></li><li>          <span class="">.</span><span class=""><span class="hljs-title function_">fontSize</span></span><span class="">(</span><span class=""><span class="hljs-number">12</span></span><span class="">)</span></li><li>          <span class="">.</span><span class=""><span class="hljs-title function_">fontColor</span></span><span class="">(</span><span class=""><span class="hljs-title class_">Color</span></span><span class="">.</span><span class=""><span class="hljs-property">Black</span></span><span class="">)</span></li><li>          <span class="">.</span><span class=""><span class="hljs-title function_">margin</span></span><span class="">(</span><span class="">{</span><span class=""><span class="hljs-attr">bottom</span></span><span class="">: </span><span class=""><span class="hljs-number">12</span></span><span class="">}</span><span class="">)</span></li><li>        <span class=""><span class="hljs-title class_">Row</span></span><span class="">()</span><span class="">{</span></li><li>          <span class=""><span class="hljs-title class_">Text</span></span><span class="">(</span><span class=""><span class="hljs-string">"07:05"</span></span><span class="">) </span><span class=""><span class="hljs-comment">// time information</span></span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">fontSize</span></span><span class="">(</span><span class=""><span class="hljs-number">32</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">fontColor</span></span><span class="">(</span><span class=""><span class="hljs-title class_">Color</span></span><span class="">.</span><span class=""><span class="hljs-property">Red</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">fontWeight</span></span><span class="">(</span><span class=""><span class="hljs-title class_">FontWeight</span></span><span class="">.</span><span class=""><span class="hljs-property">Bold</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">textAlign</span></span><span class="">(</span><span class=""><span class="hljs-title class_">TextAlign</span></span><span class="">.</span><span class=""><span class="hljs-property">Center</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">margin</span></span><span class="">(</span><span class="">{</span><span class=""><span class="hljs-attr">right</span></span><span class="">: </span><span class=""><span class="hljs-number">20</span></span><span class="">}</span><span class="">)</span></li><li>
</li><li>          <span class=""><span class="hljs-title class_">Text</span></span><span class="">(</span><span class=""><span class="hljs-string">"Moscow"</span></span><span class="">) </span><span class=""><span class="hljs-comment">// location information</span></span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">fontSize</span></span><span class="">(</span><span class=""><span class="hljs-number">20</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">fontColor</span></span><span class="">(</span><span class=""><span class="hljs-title class_">Color</span></span><span class="">.</span><span class=""><span class="hljs-property">Green</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">fontWeight</span></span><span class="">(</span><span class=""><span class="hljs-title class_">FontWeight</span></span><span class="">.</span><span class=""><span class="hljs-property">Bold</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">textAlign</span></span><span class="">(</span><span class=""><span class="hljs-title class_">TextAlign</span></span><span class="">.</span><span class=""><span class="hljs-property">Center</span></span><span class="">)</span></li><li>        <span class="">}</span></li><li>        <span class="">.</span><span class=""><span class="hljs-title function_">height</span></span><span class="">(</span><span class=""><span class="hljs-number">50</span></span><span class="">)</span></li><li>        <span class="">.</span><span class=""><span class="hljs-title function_">accessibilityGroup</span></span><span class="">(</span><span class="hljs-literal">true</span><span class="">) </span><span class=""><span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment">获取焦点时朗读时间和位置信息。</span></span></li><li>        <span class=""><span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment">带有时间信息的文本组件无法聚焦和朗读</span></span></li><li>        <span class=""><span class="hljs-comment">//</span></span><span class=""><span class="hljs-comment">具有位置信息的文本组件无法获得焦点并朗读</span></span></li><li>      <span class="">}</span></li><li>      <span class="">.</span><span class=""><span class="hljs-title function_">alignItems</span></span><span class="">(</span><span class=""><span class="hljs-title class_">HorizontalAlign</span></span><span class="">.</span><span class=""><span class="hljs-property">Start</span></span><span class="">)</span></li><li>      <span class="">.</span><span class=""><span class="hljs-title function_">padding</span></span><span class="">(</span><span class=""><span class="hljs-number">10</span></span><span class="">)</span></li><li>    <span class="">}</span></li><li>    <span class="">.</span><span class=""><span class="hljs-title function_">title</span></span><span class="">(</span><span class="hljs-variable language_">this</span><span class="">.</span><span class=""><span class="hljs-property">title</span></span><span class="">)</span></li><li>  <span class="">}</span></li><li><span class="">}</span></li></ol></pre></div></div> </div> </div> <div></div></div>