<h1 _ngcontent-nap-c119="" class="doc-title ng-star-inserted" title="如何处理OMG离线模型输出算子类型错误？"> 如何处理OMG离线模型输出算子类型错误？ </h1>

<div _ngcontent-nap-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>Caffe网络中具有相同类型名但计算功能不同的层。比如DetectionOutput层，需要使用算子映射指明为FSRDetectionOutput、SSDDetectionOutput等检测算子类型，否则OMG生成离线模型会执行失败。为了避免出现错误，以下两种方案二选一即可。</p> <ul><li>方案1：可以在OMG命令中加入--op_name_map参数，参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/cannkit-overall-parameter" target="_blank">OMG参数</a>中op_name_map参数设置。</li><li>方案2：可以在原始网络proto模型文件中将输出算子类型指定为SSDDetectionOutput等算子类型，如下图所示。</li></ul> <div class="fignone"><span class="figcap"><b>图1 </b>输出算子类型修改前（左）和修改后（右）</span><br><span><img height="368.120858" originheight="600" originwidth="1409" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114239.85318070237051812298637423434929:50001231000000:2800:35F8EF818F698206C52E9841004E7CFC6696D767334CF400BB0240FE1EE65B26.png" title="点击放大" width="864.5"></span></div> </div> <div></div></div>