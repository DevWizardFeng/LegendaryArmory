<h1 _ngcontent-mhi-c119="" class="doc-title ng-star-inserted" title="如何获取图片的旋转角度信息"> 如何获取图片的旋转角度信息 </h1>

<div _ngcontent-mhi-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="图片旋转角度介绍">图片旋转角度介绍<i class="anchor-icon anchor-icon-link" anchorid="图片旋转角度介绍" tips="复制节点链接"></i></h2>          <p>在数码摄影中，拍摄设备（如手机、相机）会将图片的旋转角度（方向）信息保存在图片的EXIF（Exchangeable Image File Format）数据的Orientation字段。该信息不会直接改变图片的像素内容，但会告诉图像查看器如何正确地显示图像方向。</p>     <p>EXIF标准定义了Orientation值，它们对应的字符串表示与操作说明如下表：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.1.4.1.4.1.1" valign="top" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.1.4.1.4.1.2" valign="top" width="33.33333333333333%">字符串表示</th>         <th align="left" class="cellrowborder" id="mcps1.3.1.4.1.4.1.3" valign="top" width="33.33333333333333%">操作说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">1</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">"Top-left"</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">正常方向（无需旋转）。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">2</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">"Top-right"</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">水平镜像翻转。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">3</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">"Bottom-right"</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">旋转180°。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">4</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">"Bottom-left"</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">垂直镜像翻转。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">5</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">"Left-top"</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">先水平镜像翻转，再顺时针旋转270°。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">6</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">"Right-top"</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">顺时针旋转90°。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">7</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">"Right-bottom"</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">先水平镜像翻转，再顺时针旋转90°。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">8</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">"Left-bottom"</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">顺时针旋转270°。</td>        </tr>             </tbody></table></div>     </div>     <p>ArkTS场景下读取和编辑图片的旋转角度信息，可参考：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/image-tool">编辑图片EXIF信息(ArkTs)</a>，对应的propertyKey需要设置为：ORIENTATION。</p>     <p>C/C++场景下读取和编辑图片的旋转角度信息，可参考：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/image-tool-c">使用Image_NativeModule编辑图片EXIF信息</a>，对应的key需要设置为：OHOS_IMAGE_PROPERTY_ORIENTATION。</p>    </div>    <div class="tiledSection">     <h2 id="常见问题">常见问题<i class="anchor-icon anchor-icon-link" anchorid="常见问题" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="读取图片旋转角度为空怎么办" class="firsth2">读取图片旋转角度为空怎么办<i class="anchor-icon anchor-icon-link" anchorid="读取图片旋转角度为空怎么办" tips="复制节点链接"></i></h3>          <p>部分图片可能没有EXIF数据，或者EXIF数据中没有写入Orientation字段，这些图片无需旋转（与Orientation值为1的情况保持一致）。</p>    </div>    <div class="tiledSection">     <h3 id="为什么会出现exif数据丢失">为什么会出现EXIF数据丢失<i class="anchor-icon anchor-icon-link" anchorid="为什么会出现exif数据丢失" tips="复制节点链接"></i></h3>          <p>与图片来源有关，网络传输的图片可能进行了二次编码，在编码时未保存EXIF数据，导致无法获取旋转角度。</p>    </div>    <div class="tiledSection">     <h3 id="图片编码时如何保存exif数据">图片编码时，如何保存EXIF数据<i class="anchor-icon anchor-icon-link" anchorid="图片编码时如何保存exif数据" tips="复制节点链接"></i></h3>          <p>在调用图片编码接口时，需要设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-i#packingoption" target="_blank">packingOption</a>的needsPackProperties属性为true（该属性的默认值为false）。</p>    </div>   </div>   <div></div></div>