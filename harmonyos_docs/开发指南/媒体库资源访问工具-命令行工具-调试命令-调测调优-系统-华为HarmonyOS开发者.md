<h1 _ngcontent-esu-c119="" class="doc-title ng-star-inserted" title="媒体库资源访问工具"> 媒体库资源访问工具 </h1>

<div _ngcontent-esu-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>开发者可通过<a href="/consumer/cn/doc/harmonyos-guides/mediatool#mediatool工具">mediatool工具</a>或<a href="/consumer/cn/doc/harmonyos-guides/mediatool#hdc命令">hdc命令</a>操作媒体库资源。媒体库为图库提供和管理数据，媒体库中的图片视频会在图库界面呈现。</p>  <div class="tiledSection"><h2 id="mediatool工具">mediatool工具<i class="anchor-icon anchor-icon-link" anchorid="mediatool工具" tips="复制节点链接"></i></h2><p>mediatool是一个轻量级的命令行工具集合，为系统自带工具，不需要安装，内置在/bin文件夹中，可以通过hdc shell直接调用。</p> </div>  <div class="tiledSection"><h3 id="前置条件" class="firsth2">前置条件<i class="anchor-icon anchor-icon-link" anchorid="前置条件" tips="复制节点链接"></i></h3><ul><li>正常连接设备。</li><li>系统设置中开启开发者模式。</li><li>使用hdc shell进入命令行执行模式。</li></ul> </div>  <div class="tiledSection"><h3 id="导入命令mediatool-send">导入命令（mediatool send）<i class="anchor-icon anchor-icon-link" anchorid="导入命令mediatool-send" tips="复制节点链接"></i></h3><div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>mediatool send &lt;path-to-local-media-file&gt; [-ts] [-tas] [-rf] [-urf]</li></ol></pre></div></div> <p>该命令能够将设备&lt;path-to-local-media-file&gt;路径下的图片视频文件推入媒体库中保存。支持保存图片、视频和音频文件。文件在媒体库中会保留原有的名字。&lt;path-to-local-media-file&gt;可以为文件夹，mediatool会将文件夹里的所有文件置入媒体库中。保存成功后会打印成功置入的资源的uri。</p> <p>默认情况下，将媒体文件保存进媒体库是以同步方式创建缩略图，并且置入后&lt;path-to-local-media-file&gt;下的文件会被删除。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.5.1.3.1.1" valign="top" width="50%">选项</th> <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.3.1.2" valign="top" width="50%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="50%">-ts</td> <td class="cellrowborder" valign="top" width="50%">保存图片视频时以同步方式创建缩略图。能够保证缩略图正常生成之后图片视频才会显示，但是会导致保存耗时较长。（默认）</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">-tas</td> <td class="cellrowborder" valign="top" width="50%">保存图片视频时以异步方式创建缩略图。不能与-ts选项同时使用。图片视频保存后会立即显示，不会等待缩略图先生成。保存耗时较短。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">-rf</td> <td class="cellrowborder" valign="top" width="50%">媒体文件置入后删除源文件。（默认）</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">-urf</td> <td class="cellrowborder" valign="top" width="50%">媒体文件置入后不删除源文件。不能与-rf选项同时使用。</td> </tr>  </tbody></table></div> </div> <p><strong>使用示例：</strong></p> <div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">mediatool send /data/tmp/MyImage.jpg</span></li><li>file://media/Photo/3/IMG_1721381297_001/MyImage.jpg # 推图成功，打印推入资源的uri</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="打印命令mediatool-list">打印命令（mediatool list）<i class="anchor-icon anchor-icon-link" anchorid="打印命令mediatool-list" tips="复制节点链接"></i></h3><div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>mediatool list &lt;resource-uri&gt;</li></ol></pre></div></div> <p>该命令能够将&lt;resource-uri&gt;指定uri对应的媒体库内资源信息以csv格式打印出来。</p> <p>例如媒体库内图片资源A的uri为file://media/Photo/3/IMG_1721381297_001/MyImage.jpg, mediatool list file://media/Photo/3或者mediatool list file://media/Photo/3/IMG_1721381297_001/MyImage.jpg都能成功打印出该资源信息。</p> <p>所打印信息包含：</p> <ul><li>uri: 媒体资源的uri。</li><li>display_name: 媒体资源的名字。</li><li>data: 媒体资源的源文件在设备中的物理路径。</li></ul> <p>还可以将&lt;resource-uri&gt;指定为all。mediatool list all会将媒体库内所有资源的信息打印出来。</p> <p><strong>使用示例：</strong></p> <div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta prompt_"># </span><span class="language-bash">使用存在的uri查询</span></li><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">mediatool list file://media/Photo/3</span></li><li>Table Name: Photos</li><li>uri, display_name, data</li><li>"file://media/Photo/3/IMG_1721381297_001/MyImage.jpg", "MyImage.jpg", "/storage/cloud/100/files/Photo/2/IMG_1721381297_001.jpg"</li><li><span class="hljs-meta prompt_"></span></li><li><span class="hljs-meta prompt_"># </span><span class="language-bash">使用格式错误的uri查询</span></li><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">mediatool list file://media/Photo/</span></li><li>[FAIL] uri invalid. uri:file://media/Photo/</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="导出命令mediatool-recv">导出命令（mediatool recv）<i class="anchor-icon anchor-icon-link" anchorid="导出命令mediatool-recv" tips="复制节点链接"></i></h3><div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>mediatool recv &lt;media-target&gt; &lt;dest-path&gt;</li></ol></pre></div></div> <p>该命令能够将&lt;media-target&gt;指定的媒体库资源的源文件内容导出到&lt;dest-path&gt;指定的设备路径下。</p> <p>&lt;media-target&gt;可以为以下两种形式：</p> <ul><li>系统媒体目录下的文件路径。可通过<a href="/consumer/cn/doc/harmonyos-guides/mediatool#列举命令mediatool-ls--l">列举命令（mediatool ls -l）</a>获取，不支持指定文件夹路径。</li><li>媒体库uri。（参考<a href="/consumer/cn/doc/harmonyos-guides/mediatool#媒体库uri介绍获取方式">媒体库uri介绍/获取方式</a>）</li></ul> <p>如果&lt;media-target&gt;指定文件路径，只支持以下几种路径，以下几种路径存在映射关系，访问的目录相同，均访问当前用户的系统媒体目录。</p> <ul><li>/storage/media/local/files/Photo 及以下的文件路径。</li><li>/storage/media/&lt;uid&gt;/local/files/Photo 及以下的文件路径。&lt;uid&gt;必须为当前用户的id，否则报错路径不合法。</li></ul> <p>&lt;dest-path&gt;为待创建文件路径或者文件夹路径。若为文件夹路径则会导出到该文件夹下，文件保留媒体库中的名字。当&lt;dest-path&gt;指定待创建文件路径时，不能是已经存在文件的路径。</p> <p>&lt;dest-path&gt;只支持/data/local/tmp下的路径。</p> <p>文件导出成功后会打印导出文件的路径。</p> <p>将&lt;media-target&gt;指定为all则能够将所有媒体库资源的源文件导出。当&lt;media-target&gt;为all时，&lt;dest-path&gt;必须为文件夹路径。</p> <p>该命令无法导出隐藏相册内的媒体资产。</p> <p><strong>使用示例：</strong></p> <div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta prompt_"># </span><span class="language-bash">使用uri将对应媒体资源导出</span></li><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">mediatool recv file://media/Photo/3 /data/local/tmp/out.jpg</span></li><li>Table Name: Photos</li><li>/data/local/tmp/out.jpg</li><li><span class="hljs-meta prompt_"></span></li><li><span class="hljs-meta prompt_"># </span><span class="language-bash">使用路径将对应媒体资源导出</span></li><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">mediatool recv /storage/media/local/files/Photo/16/IMG_1748435796_000.jpg /data/local/tmp/out.jpg</span></li><li>Table Name: Photos</li><li>/data/local/tmp/out.jpg</li><li><span class="hljs-meta prompt_"></span></li><li><span class="hljs-meta prompt_"># </span><span class="language-bash">导出所有媒体资源文件</span></li><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash"><span class="hljs-built_in">mkdir</span> /data/local/tmp/outmedia</span></li><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">mediatool recv all /data/local/tmp/outmedia</span></li><li>Table Name: Photos</li><li>/data/local/tmp/outmedia/IMG_20250528_203454.jpg</li><li>/data/local/tmp/outmedia/IMG_20250528_221028.jpg</li><li>/data/local/tmp/outmedia/IMG_20250528_221851.jpg</li><li>/data/local/tmp/outmedia/IMG_20250528_221930.jpg</li><li>/data/local/tmp/outmedia/IMG_20250528_221944.jpg</li><li>...</li><li>
</li><li>Table Name: Audios</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="删除命令mediatool-delete">删除命令（mediatool delete）<i class="anchor-icon anchor-icon-link" anchorid="删除命令mediatool-delete" tips="复制节点链接"></i></h3><div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>mediatool delete &lt;resource-uri&gt;</li></ol></pre></div></div> <p>该命令能够删除&lt;resource-uri&gt;指定uri的媒体库资源。被删除的资源无法恢复，请谨慎执行。</p> <p>媒体库资源uri的获取可参考<a href="/consumer/cn/doc/harmonyos-guides/mediatool#媒体库uri介绍获取方式">媒体库uri介绍/获取方式</a>。</p> <p>将&lt;resource-uri&gt;指定为all则指定删除所有媒体库资源，并重置媒体库的所有数据。</p> <p><strong>使用示例：</strong></p> <div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">mediatool delete file://media/Photo/3</span></li><li>[SUCCESS] delete success.</li><li><span class="hljs-meta prompt_"></span></li><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">mediatool delete all <span class="hljs-comment"># delete all 执行成功不会有任何打印</span></span></li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="查询命令mediatool-query">查询命令（mediatool query）<i class="anchor-icon anchor-icon-link" anchorid="查询命令mediatool-query" tips="复制节点链接"></i></h3><div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>mediatool query &lt;display-name&gt; [-p] [-u]</li></ol></pre></div></div> <p>该命令能够查询出所有图库中显示名字为&lt;display-name&gt;的媒体库资源，返回资源源文件真实路径或媒体资源uri。默认返回源文件真实路径。</p> <p>该命令无法查询出隐藏相册内的媒体资产。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.5.1.3.1.1" valign="top" width="50%">选项</th> <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.3.1.2" valign="top" width="50%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="50%">-p</td> <td class="cellrowborder" valign="top" width="50%">返回媒体资源源文件在设备中的真实路径。（默认）</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">-u</td> <td class="cellrowborder" valign="top" width="50%">返回媒体资源uri。不能与-p选项同时使用。</td> </tr>  </tbody></table></div> </div> <p><strong>使用示例：</strong></p> <div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta prompt_"># </span><span class="language-bash">所查询媒体资源存在</span></li><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">mediatool query MyImage.jpg</span></li><li>find 1 result:</li><li>path</li><li>/storage/cloud/100/files/Photo/2/IMG_1721381297_001.jpg</li><li><span class="hljs-meta prompt_"></span></li><li><span class="hljs-meta prompt_"># </span><span class="language-bash">所查询媒体资源不存在</span></li><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">mediatool query non_exist.jpg</span></li><li>find 0 result</li><li><span class="hljs-meta prompt_"></span></li><li><span class="hljs-meta prompt_"># </span><span class="language-bash">查询的名字格式不正确</span></li><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">mediatool query IMG_001</span></li><li>find 0 result</li><li>The displayName format is not correct!</li><li><span class="hljs-meta prompt_"></span></li><li><span class="hljs-meta prompt_"># </span><span class="language-bash">查询媒体资源源文件路径</span></li><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">mediatool query MyImage.jpg -p</span></li><li>find 1 result:</li><li>path</li><li>/storage/cloud/100/files/Photo/2/IMG_1721381297_001.jpg</li><li><span class="hljs-meta prompt_"></span></li><li><span class="hljs-meta prompt_"># </span><span class="language-bash">查询媒体资源uri</span></li><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">mediatool query MyImage.jpg -u</span></li><li>find 1 result:</li><li>uri</li><li>"file://media/Photo/2/IMG_1721381297_001/MyImage.jpg"</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="列举命令mediatool-ls--l">列举命令（mediatool ls -l）<i class="anchor-icon anchor-icon-link" anchorid="列举命令mediatool-ls--l" tips="复制节点链接"></i></h3><div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>mediatool ls -l &lt;media-path&gt;</li></ol></pre></div></div> <p>列举出&lt;media-path&gt;所指定的系统媒体路径下的所有文件。效果类似文件系统ls -l。</p> <p>&lt;media-path&gt;只支持以下几种路径，以下几种路径存在映射关系，访问的目录相同，均访问当前用户的系统媒体目录：</p> <ul><li>/storage/media/local/files/Photo 及以下的路径。</li><li>/storage/media/&lt;uid&gt;/local/files/Photo 及以下的路径。&lt;uid&gt;必须为当前用户的id，否则报错路径不合法。</li></ul> <p>-l为强制选项。不指定-l选项命令会报错。</p> <p>该命令不可见用户隐藏相册内的媒体资产。</p> <p><strong>使用示例：</strong></p> <div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">mediatool <span class="hljs-built_in">ls</span> -l /storage/media/local/files/Photo</span></li><li>drwxrwx--x 2 user_data_rw user_data_rw 3440 2025-05-29 05:45 16</li><li>drwxrwx--x 2 user_data_rw user_data_rw 0 2025-05-29 05:45 1</li><li>drwxrwx--x 2 user_data_rw user_data_rw 0 2025-05-29 11:15 2</li><li>drwxrwx--x 2 user_data_rw user_data_rw 0 2025-05-29 05:56 3</li><li>drwxrwx--x 2 user_data_rw user_data_rw 0 2025-05-29 05:56 4</li><li>drwxrwx--x 2 user_data_rw user_data_rw 0 2025-05-29 11:21 5</li><li>drwxrwx--x 2 user_data_rw user_data_rw 0 2025-05-29 11:59 6</li><li>drwxrwx--x 2 user_data_rw user_data_rw 0 2025-05-29 05:57 7</li><li>drwxrwx--x 2 user_data_rw user_data_rw 0 2025-05-29 05:59 8</li><li>drwxrwx--x 2 user_data_rw user_data_rw 0 2025-05-29 06:00 9</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="导出特定媒体库资产">导出特定媒体库资产<i class="anchor-icon anchor-icon-link" anchorid="导出特定媒体库资产" tips="复制节点链接"></i></h3><p>示例导出图库中名字叫MyImage的jpg图片：</p> <div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">hdc shell mediatool query -u MyImage.jpg</span></li><li>find 1 result</li><li>uri</li><li>"file://media/Photo/1/IMG_1743078145_000/MyImage.jpg"</li><li><span class="hljs-meta prompt_"></span></li><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">hdc shell mediatool recv file://media/Photo/1 /data/local/tmp/out.jpg</span></li><li>Table Name: Photos</li><li>/data/local/tmp/out.jpg</li><li><span class="hljs-meta prompt_"></span></li><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">hdc file recv /data/local/tmp/out.jpg .</span></li><li>FileTransfer finish, Size:10015455, File count = 1, time:679ms rate:14750.30kB/s</li></ol></pre></div></div> <p>示例根据媒体文件路径导出媒体库资产：</p> <div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">hdc shell mediatool <span class="hljs-built_in">ls</span> -l /storage/media/local/files/Photo</span></li><li>drwxrwx--x 2 user_data_rw user_data_rw 3440 2025-05-29 05:45 16</li><li>drwxrwx--x 2 user_data_rw user_data_rw 0 2025-05-29 05:45 1</li><li>drwxrwx--x 2 user_data_rw user_data_rw 0 2025-05-29 11:15 2</li><li>drwxrwx--x 2 user_data_rw user_data_rw 0 2025-05-29 05:56 3</li><li>drwxrwx--x 2 user_data_rw user_data_rw 0 2025-05-29 05:56 4</li><li>drwxrwx--x 2 user_data_rw user_data_rw 0 2025-05-29 11:21 5</li><li><span class="hljs-meta prompt_"></span></li><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">hdc shell mediatool <span class="hljs-built_in">ls</span> -l /storage/media/local/files/Photo/16</span></li><li>-rw-rw---- 1 user_data_rw user_data_rw 6107481 2025-05-28 20:34 IMG_1748435794_000.jpg</li><li>-rw-rw---- 1 user_data_rw user_data_rw 839323 2025-05-28 23:06 IMG_1748444892_016.jpg</li><li>-rw-rw---- 1 user_data_rw user_data_rw 9614937 2025-05-28 23:41 IMG_1748446677_032.jpg</li><li>-rw-rw---- 1 user_data_rw user_data_rw 3004885 2025-05-29 00:43 IMG_1748450699_048.jpg</li><li>-rw-rw---- 1 user_data_rw user_data_rw 1915961 2025-05-29 01:18 IMG_1748452814_064.jpg</li><li>-rw-rw---- 1 user_data_rw user_data_rw 13078 2025-05-29 02:41 IMG_1748457806_080.jpeg</li><li><span class="hljs-meta prompt_"></span></li><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">hdc shell mediatool recv /storage/media/local/files/Photo/16/IMG_1748435794_000.jpg /data/local/tmp/out.jpg</span></li><li>Table Name: Photos</li><li>/data/local/tmp/out.jpg</li><li><span class="hljs-meta prompt_"></span></li><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">hdc file recv /data/local/tmp/out.jpg .</span></li><li>FileTransfer finish, Size:10015455, File count = 1, time:679ms rate:14750.30kB/s</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="导出所有媒体库资产">导出所有媒体库资产<i class="anchor-icon anchor-icon-link" anchorid="导出所有媒体库资产" tips="复制节点链接"></i></h3><div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">hdc shell <span class="hljs-built_in">mkdir</span> /data/local/tmp/media</span></li><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">hdc shell mediatool recv all /data/local/tmp/media</span></li><li>Table Name: Photos</li><li>/data/local/tmp/media/MyImage.jpg</li><li>
</li><li>Table Name: Audios</li><li><span class="hljs-meta prompt_"></span></li><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">hdc shell tar -cvf /data/local/tmp/media.tar /data/local/tmp/media/*</span></li><li>removing leading '/' from member names</li><li>data/local/tmp/media/MyImage.jpg</li><li><span class="hljs-meta prompt_"></span></li><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">hdc file recv /data/local/tmp/media.tar .</span></li><li>FileTransfer finish, Size:10017280, File count = 1, time:664ms rate:15086.27kB/s</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="删除特定媒体库资产">删除特定媒体库资产<i class="anchor-icon anchor-icon-link" anchorid="删除特定媒体库资产" tips="复制节点链接"></i></h3><p>示例删除图库中名字叫MyImage的jpg图片：</p> <div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">hdc shell mediatool query -u MyImage.jpg</span></li><li>find 1 result</li><li>uri</li><li>"file://media/Photo/1/IMG_1743078145_000/MyImage.jpg"</li><li><span class="hljs-meta prompt_"></span></li><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">hdc shell mediatool delete file://media/Photo/1/IMG_1743078145_000/MyImage.jpg</span></li><li>[SUCCESS] delete success.</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="彻底重置媒体库数据库">彻底重置媒体库数据库<i class="anchor-icon anchor-icon-link" anchorid="彻底重置媒体库数据库" tips="复制节点链接"></i></h3><div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">hdc shell mediatool delete all</span></li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="媒体库uri介绍获取方式">媒体库uri介绍/获取方式<i class="anchor-icon anchor-icon-link" anchorid="媒体库uri介绍获取方式" tips="复制节点链接"></i></h3><p>uri是媒体库资产的唯一标识符。mediatool使用uri来判断需要操作的媒体资产对象。</p> <p>可使用以下方式获取uri：</p> <ul><li>mediatool query 加上 -u 的选项可以返回对应媒体资产的uri。需要输入对应资产的显示名（在图库中展示的名字带后缀名）。</li></ul> <p>媒体库uri可以用于mediatool recv命令导出特定媒体库资产，也可以用于mediatool delete删除特定媒体库资产。</p> <p>uri样例：file://media/Photo/1/IMG_1743078145_000/MyImage.jpg。</p> <p>在mediatool操作中，需要使用以上uri时，无论使用file://media/Photo/1/IMG_1743078145_000/MyImage.jpg还是file://media/Photo/1都能够正确的定位到目标资产。</p> </div>  <div class="tiledSection"><h2 id="hdc命令">hdc命令<i class="anchor-icon anchor-icon-link" anchorid="hdc命令" tips="复制节点链接"></i></h2><p>从API version 21开始，支持通过hdc命令可以访问媒体库文件路径。包含：/mnt/data/&lt;uid&gt;/media_fuse/Photo/目录及其子目录。&lt;uid&gt;为当前用户的id。</p> </div>  <div class="tiledSection"><h3 id="媒体库文件查询" class="firsth2">媒体库文件查询<i class="anchor-icon anchor-icon-link" anchorid="媒体库文件查询" tips="复制节点链接"></i></h3><p>支持查询指定路径下未被隐藏的图片和视频。</p> <p>命令格式如下所示。</p> <div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>hdc shell ls -l DEST</li></ol></pre></div></div> <p><strong>使用示例</strong>：</p> <div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta prompt_">$ </span><span class="language-bash">hdc shell <span class="hljs-built_in">ls</span> -l /mnt/data/100/media_fuse/Photo <span class="hljs-comment"># 返回相册列表</span></span></li><li>drwxrwxrwx 2 user_data_rw user_data_rw 3440 1970-01-01 00:00 其它</li><li>drwxrwxrwx 2 user_data_rw user_data_rw 3440 1970-01-01 00:00 相机</li><li><span class="hljs-meta prompt_"></span></li><li><span class="hljs-meta prompt_">$ </span><span class="language-bash">hdc shell <span class="hljs-built_in">ls</span> -l /mnt/data/100/media_fuse/Photo/相机 <span class="hljs-comment"># 列出相机文件夹下所有未被隐藏的本地图片和视频</span></span></li><li>total 32813056</li><li>-rw-rw-rw- 1 user_data_rw user_data_rw 7085591 1970-01-01 00:00 1.jpg</li><li>-rw-rw-rw- 1 user_data_rw user_data_rw 6217442 1970-01-01 00:00 2.jpg</li><li><span class="hljs-meta prompt_"></span></li><li><span class="hljs-meta prompt_">$ </span><span class="language-bash">hdc shell <span class="hljs-built_in">ls</span> -l /mnt/data/100/media_fuse/Photo/相机/1.jpg <span class="hljs-comment"># 命令返回1.jpg的详细信息</span></span></li><li>-rw-rw-rw- 1 user_data_rw user_data_rw 7085591 1970-01-01 00:00 /mnt/data/100/media_fuse/Photo/相机/1.jpg</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="媒体库文件导出">媒体库文件导出<i class="anchor-icon anchor-icon-link" anchorid="媒体库文件导出" tips="复制节点链接"></i></h3><p>支持导出指定路径下所有未被隐藏的本地文件和目录。</p> <p>命令格式如下所示。</p> <div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>hdc file recv DEST SOURCE</li></ol></pre></div></div> <p><strong>使用示例</strong>：</p> <div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta prompt_">$ </span><span class="language-bash">hdc file recv /mnt/data/100/media_fuse/Photo/相机/文件A <span class="hljs-comment"># 导出文件A</span></span></li><li>FileTransfer finish, Size:xxx, File...</li><li><span class="hljs-meta prompt_"></span></li><li><span class="hljs-meta prompt_">$ </span><span class="language-bash">hdc file recv /mnt/data/100/media_fuse/Photo/相机 <span class="hljs-comment"># 导出相机目录及里面的文件</span></span></li><li>FileTransfer finish, Size:xxx, File...</li><li><span class="hljs-meta prompt_"></span></li><li><span class="hljs-meta prompt_">$ </span><span class="language-bash">hdc file recv /mnt/data/100/media_fuse/Photo/ <span class="hljs-comment"># 导出Photo目录及其子文件</span></span></li><li>FileTransfer finish, Size:xxx, File...</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="媒体库文件导入">媒体库文件导入<i class="anchor-icon anchor-icon-link" anchorid="媒体库文件导入" tips="复制节点链接"></i></h3><p>支持导入媒体文件（图片、视频等）及目录，但不支持创建目录。当目录名称相同时会将内容合并（保留所有不重名的文件）；当文件名称相同时会覆盖目标文件。</p> <div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>hdc file send SOURCE DEST</li></ol></pre></div></div> <p><strong>使用示例</strong>：</p> <div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta prompt_">$ </span><span class="language-bash">hdc file send D:\dest\相机 /mnt/data/100/media_fuse/Photo/ <span class="hljs-comment"># 导入“D:\dest\相机”的所有文件到/mnt/data/100/media_fuse/Photo/相机/</span></span></li><li>FileTransfer finish, Size:xxx, File...</li><li><span class="hljs-meta prompt_"></span></li><li><span class="hljs-meta prompt_">$ </span><span class="language-bash">hdc file send D:\dest\新建目录 /mnt/data/100/media_fuse/Photo/相机/ <span class="hljs-comment"># 不支持创建目录</span></span></li><li>[Fail][E005005] Error create directory: operation not permitted, path:/mnt/data/100/media_fuse/Photo/相机//新建目录</li><li><span class="hljs-meta prompt_"></span></li><li><span class="hljs-meta prompt_">$ </span><span class="language-bash">hdc file send D:\dest\相机\文件A /mnt/data/100/media_fuse/Photo/相机 <span class="hljs-comment"># 导入文件A到/mnt/data/100/media_fuse/Photo/相机/</span></span></li><li>FileTransfer finish, Size:xxx, File...</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="媒体库文件删除">媒体库文件删除<i class="anchor-icon anchor-icon-link" anchorid="媒体库文件删除" tips="复制节点链接"></i></h3><p>支持删除相册中的指定文件，但不支持删除目录。</p> <div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>hdc shell rm DEST</li></ol></pre></div></div> <p><strong>使用示例</strong>：</p> <div _ngcontent-esu-c106="" class="highlight-div"><div _ngcontent-esu-c106="" class="highlight-div-header"><div _ngcontent-esu-c106="" class="highlight-div-header-left"><div _ngcontent-esu-c106="" class="handle-button expand-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-esu-c106="" class="highlight-div-header-right"><div _ngcontent-esu-c106="" class="handle-button ai-button"></div><div _ngcontent-esu-c106="" class="handle-button line-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-esu-c106="" class="handle-button theme-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-esu-c106="" class="handle-button copy-button"><div _ngcontent-esu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-esu-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta prompt_">$ </span><span class="language-bash">hdc shell <span class="hljs-built_in">rm</span> /mnt/data/100/media_fuse/Photo/相机 <span class="hljs-comment"># 返回失败</span></span></li><li>rm: /mnt/data/100/media_fuse/Photo/相机: Is a directory</li><li><span class="hljs-meta prompt_"></span></li><li><span class="hljs-meta prompt_">$ </span><span class="language-bash">hdc shell <span class="hljs-built_in">rm</span> /mnt/data/100/media_fuse/Photo/相机/文件A <span class="hljs-comment"># 无返回信息，删除成功</span></span></li></ol></pre></div></div> </div> </div> <div></div></div>