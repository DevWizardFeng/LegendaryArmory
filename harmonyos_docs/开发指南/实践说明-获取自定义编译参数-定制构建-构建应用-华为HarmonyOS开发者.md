<h1 _ngcontent-qxk-c119="" class="doc-title ng-star-inserted" title="实践说明"> 实践说明 </h1>

<div _ngcontent-qxk-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000001778834309"><p id="ZH-CN_TOPIC_0000002510174513__p98941049125118">示例：配置工程级和模块级的自定义参数并通过切换product来展示不同的message。</p> <div class="tiledSection"><h2 id="section187701744194317">新建工程并创建一个har模块<i class="anchor-icon anchor-icon-link" anchorid="section187701744194317" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002510174513__p16479152468">在工程级别的build-profile.json5使用以下配置，目的是为了实现在所有模块中都可以使用到productMessage自定义参数。</p> <p id="ZH-CN_TOPIC_0000002510174513__p715912363482">通过切换不同的product从而使用到对应的productMessage值。</p> <div _ngcontent-qxk-c106="" class="highlight-div"><div _ngcontent-qxk-c106="" class="highlight-div-header"><div _ngcontent-qxk-c106="" class="highlight-div-header-left"><div _ngcontent-qxk-c106="" class="handle-button expand-button"><div _ngcontent-qxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qxk-c106="" class="highlight-div-header-right"><div _ngcontent-qxk-c106="" class="handle-button ai-button"></div><div _ngcontent-qxk-c106="" class="handle-button line-button"><div _ngcontent-qxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qxk-c106="" class="handle-button theme-button"><div _ngcontent-qxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qxk-c106="" class="handle-button copy-button"><div _ngcontent-qxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qxk-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002510174513__screen391844684618" data-highlighted="yes"><ol class="linenums"><li>{</li><li>  <span class=""><span class="hljs-string">"app"</span></span>: {</li><li>    <span class=""><span class="hljs-string">"products"</span></span>: [</li><li>      {</li><li>        <span class=""><span class="hljs-string">"name"</span></span>: <span class=""><span class="hljs-string">"default"</span></span>,</li><li>        <span class=""><span class="hljs-string">"signingConfig"</span></span>: <span class=""><span class="hljs-string">"default"</span></span>,</li><li>        <span class=""><span class="hljs-string">"compatibleSdkVersion"</span></span>: <span class=""><span class="hljs-string">"6.0.1(21)"</span></span>,</li><li>        <span class=""><span class="hljs-string">"runtimeOS"</span></span>: <span class=""><span class="hljs-string">"HarmonyOS"</span></span>,</li><li>        <span class=""><span class="hljs-string">"buildOption"</span></span>: {</li><li>          <span class=""><span class="hljs-string">"arkOptions"</span></span>: {</li><li>            <span class="hljs-comment">// 工程级自定义参数</span></li><li>            <span class=""><span class="hljs-string">"buildProfileFields"</span></span>: {</li><li>              <span class=""><span class="hljs-string">"productMessage"</span></span>: <span class=""><span class="hljs-string">'defaultMessage'</span></span></li><li>            }</li><li>          }</li><li>        }</li><li>      },</li><li>      {</li><li>        <span class=""><span class="hljs-string">"name"</span></span>: <span class=""><span class="hljs-string">"mirror"</span></span>,</li><li>        <span class=""><span class="hljs-string">"signingConfig"</span></span>: <span class=""><span class="hljs-string">"default"</span></span>,</li><li>        <span class=""><span class="hljs-string">"compatibleSdkVersion"</span></span>: <span class=""><span class="hljs-string">"6.0.1(21)"</span></span>,</li><li>        <span class=""><span class="hljs-string">"runtimeOS"</span></span>: <span class=""><span class="hljs-string">"HarmonyOS"</span></span>,</li><li>        <span class=""><span class="hljs-string">"buildOption"</span></span>: {</li><li>          <span class=""><span class="hljs-string">"arkOptions"</span></span>: {</li><li>            <span class="hljs-comment">// 工程级自定义参数</span></li><li>            <span class=""><span class="hljs-string">"buildProfileFields"</span></span>: {</li><li>              <span class=""><span class="hljs-string">"productMessage"</span></span>: <span class=""><span class="hljs-string">'mirrorMessage'</span></span></li><li>            }</li><li>          }</li><li>        }</li><li>      },</li><li>      {</li><li>        <span class=""><span class="hljs-string">"name"</span></span>: <span class=""><span class="hljs-string">"product"</span></span>,</li><li>        <span class=""><span class="hljs-string">"signingConfig"</span></span>: <span class=""><span class="hljs-string">"default"</span></span>,</li><li>        <span class=""><span class="hljs-string">"compatibleSdkVersion"</span></span>: <span class=""><span class="hljs-string">"6.0.1(21)"</span></span>,</li><li>        <span class=""><span class="hljs-string">"runtimeOS"</span></span>: <span class=""><span class="hljs-string">"HarmonyOS"</span></span>,</li><li>        <span class=""><span class="hljs-string">"buildOption"</span></span>: {</li><li>          <span class=""><span class="hljs-string">"arkOptions"</span></span>: {</li><li>            <span class="hljs-comment">// 工程级自定义参数</span></li><li>            <span class=""><span class="hljs-string">"buildProfileFields"</span></span>: {</li><li>              <span class=""><span class="hljs-string">"productMessage"</span></span>: <span class=""><span class="hljs-string">'productMessage'</span></span></li><li>            }</li><li>          }</li><li>        }</li><li>      }</li><li>    ],</li><li>    <span class=""><span class="hljs-string">"buildModeSet"</span></span>: [</li><li>      {</li><li>        <span class=""><span class="hljs-string">"name"</span></span>: <span class=""><span class="hljs-string">"debug"</span></span>,</li><li>      },</li><li>      {</li><li>        <span class=""><span class="hljs-string">"name"</span></span>: <span class=""><span class="hljs-string">"release"</span></span></li><li>      }</li><li>    ]</li><li>  },</li><li>  <span class=""><span class="hljs-string">"modules"</span></span>: [</li><li>    {</li><li>      <span class=""><span class="hljs-string">"name"</span></span>: <span class=""><span class="hljs-string">"entry"</span></span>,</li><li>      <span class=""><span class="hljs-string">"srcPath"</span></span>: <span class=""><span class="hljs-string">"./entry"</span></span>,</li><li>      <span class=""><span class="hljs-string">"targets"</span></span>: [</li><li>        {</li><li>          <span class=""><span class="hljs-string">"name"</span></span>: <span class=""><span class="hljs-string">"default"</span></span>,</li><li>          <span class=""><span class="hljs-string">"applyToProducts"</span></span>: [</li><li>            <span class="hljs-comment">// 关联到多个product</span></li><li>            <span class=""><span class="hljs-string">"default"</span></span>,</li><li>            <span class=""><span class="hljs-string">"product"</span></span>,</li><li>            <span class=""><span class="hljs-string">"mirror"</span></span></li><li>          ]</li><li>        }</li><li>      ]</li><li>    },</li><li>    {</li><li>      <span class=""><span class="hljs-string">"name"</span></span>: <span class=""><span class="hljs-string">"har"</span></span>,</li><li>      <span class=""><span class="hljs-string">"srcPath"</span></span>: <span class=""><span class="hljs-string">"./har"</span></span></li><li>    }</li><li>  ]</li><li>}</li></ol></pre></div></div> <div class="p" id="ZH-CN_TOPIC_0000002510174513__p443281419496">在har模块的build-profile.json5使用以下配置。<div _ngcontent-qxk-c106="" class="highlight-div"><div _ngcontent-qxk-c106="" class="highlight-div-header"><div _ngcontent-qxk-c106="" class="highlight-div-header-left"><div _ngcontent-qxk-c106="" class="handle-button expand-button"><div _ngcontent-qxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qxk-c106="" class="highlight-div-header-right"><div _ngcontent-qxk-c106="" class="handle-button ai-button"></div><div _ngcontent-qxk-c106="" class="handle-button line-button"><div _ngcontent-qxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qxk-c106="" class="handle-button theme-button"><div _ngcontent-qxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qxk-c106="" class="handle-button copy-button"><div _ngcontent-qxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qxk-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002510174513__screen1291523704911" data-highlighted="yes"><ol class="linenums"><li>{</li><li>  <span class=""><span class="hljs-string">"apiType"</span></span>: <span class=""><span class="hljs-string">"stageMode"</span></span>,</li><li>  <span class=""><span class="hljs-string">"buildOption"</span></span>: {</li><li>    <span class=""><span class="hljs-string">"arkOptions"</span></span>: {</li><li>      <span class="hljs-comment">// har模块的自定义参数</span></li><li>      <span class=""><span class="hljs-string">"buildProfileFields"</span></span>: {</li><li>        <span class=""><span class="hljs-string">"targetMessage1"</span></span>: <span class=""><span class="hljs-string">'this is target buildProfileValue1'</span></span>,</li><li>        <span class=""><span class="hljs-string">"targetMessage2"</span></span>: <span class=""><span class="hljs-string">'this is target buildProfileValue2'</span></span></li><li>      }</li><li>    }</li><li>  },</li><li>  <span class=""><span class="hljs-string">"buildOptionSet"</span></span>: [</li><li>    {</li><li>      <span class=""><span class="hljs-string">"name"</span></span>: <span class=""><span class="hljs-string">"release"</span></span>,</li><li>      <span class=""><span class="hljs-string">"arkOptions"</span></span>: {</li><li>        <span class=""><span class="hljs-string">"obfuscation"</span></span>: {</li><li>          <span class=""><span class="hljs-string">"ruleOptions"</span></span>: {</li><li>            <span class=""><span class="hljs-string">"enable"</span></span>: <span class=""><span class="hljs-keyword">true</span></span>,</li><li>            <span class=""><span class="hljs-string">"files"</span></span>: [</li><li>              <span class=""><span class="hljs-string">"./obfuscation-rules.txt"</span></span></li><li>            ]</li><li>          },</li><li>          <span class=""><span class="hljs-string">"consumerFiles"</span></span>: [</li><li>            <span class=""><span class="hljs-string">"./consumer-rules.txt"</span></span></li><li>          ]</li><li>        }</li><li>      },</li><li>    },</li><li>  ],</li><li>  <span class=""><span class="hljs-string">"targets"</span></span>: [</li><li>    {</li><li>      <span class=""><span class="hljs-string">"name"</span></span>: <span class=""><span class="hljs-string">"default"</span></span></li><li>    }</li><li>  ]</li><li>}</li></ol></pre></div></div> </div> <p id="ZH-CN_TOPIC_0000002510174513__p19133125616441">在har模块的MainPage.ets中添加以下代码。</p> <div _ngcontent-qxk-c106="" class="highlight-div"><div _ngcontent-qxk-c106="" class="highlight-div-header"><div _ngcontent-qxk-c106="" class="highlight-div-header-left"><div _ngcontent-qxk-c106="" class="handle-button expand-button"><div _ngcontent-qxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qxk-c106="" class="highlight-div-header-right"><div _ngcontent-qxk-c106="" class="handle-button ai-button"></div><div _ngcontent-qxk-c106="" class="handle-button line-button"><div _ngcontent-qxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qxk-c106="" class="handle-button theme-button"><div _ngcontent-qxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qxk-c106="" class="handle-button copy-button"><div _ngcontent-qxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qxk-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002510174513__screen1080744714518" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> <span class=""><span class="hljs-package">BuildProfile</span> </span><span class="hljs-keyword">from</span> <span class=""><span class="hljs-string">"../../../../BuildProfile"</span></span></li><li>
</li><li><span class="">@<span class="hljs-title function_">Preview</span></span></li><li><span class="">@<span class="hljs-title function_">Component</span></span></li><li><span class="hljs-variable">export</span> <span class="hljs-keyword">struct</span> <span class=""><span class="hljs-title class_">MainPage</span> </span><span class="">{</span></li><li>  <span class=""><span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment">默认赋值为工程级别</span></span><span class=""><span class="hljs-comment">BuildProfile</span></span><span class=""><span class="hljs-comment">自定义参数配置的</span></span><span class=""><span class="hljs-comment">productMessage</span></span></li><li>  <span class="">@<span class="hljs-title function_">State</span> </span><span class=""><span class="hljs-variable">message</span></span><span class="">: </span><span class=""><span class="hljs-title class_">string</span> </span><span class="">= </span><span class=""><span class="hljs-variable">BuildProfile</span></span><span class="">.</span><span class=""><span class="hljs-variable">productMessage</span></span></li><li>  <span class=""><span class="hljs-title function_">build</span></span><span class="">() </span><span class="">{</span></li><li>    <span class=""><span class="hljs-title function_">Row</span></span><span class="">() </span><span class="">{</span></li><li>      <span class=""><span class="hljs-title function_">Column</span></span><span class="">() </span><span class="">{</span></li><li>        <span class=""><span class="hljs-title function_">Flex</span></span><span class="">(</span><span class="">{ </span><span class=""><span class="hljs-variable">direction</span></span><span class="">: </span><span class=""><span class="hljs-title class_">FlexDirection</span></span><span class="">.</span><span class=""><span class="hljs-title class_">Row</span></span><span class="">, </span><span class=""><span class="hljs-variable">alignItems</span></span><span class="">: </span><span class=""><span class="hljs-title class_">ItemAlign</span></span><span class="">.</span><span class=""><span class="hljs-title class_">Start</span></span><span class="">, </span><span class=""><span class="hljs-variable">justifyContent</span></span><span class="">: </span><span class=""><span class="hljs-title class_">FlexAlign</span></span><span class="">.</span><span class=""><span class="hljs-title class_">SpaceAround</span> </span><span class="">}</span><span class="">) </span><span class="">{</span></li><li>          <span class=""><span class="hljs-title function_">Button</span></span><span class="">(</span><span class=""><span class="hljs-string">"Button 1"</span></span><span class="">)</span><span class="">.</span><span class=""><span class="hljs-title function_">width</span></span><span class="">(</span><span class=""><span class="hljs-string">"40%"</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">onClick</span></span><span class="">(() </span><span class="">=</span><span class="">&gt;</span> <span class="">{</span></li><li>              <span class=""><span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment">点击展示自定义字段</span></span><span class="hljs-comment">targetMessage1</span></li><li>              <span class="hljs-keyword">this</span><span class="">.</span><span class=""><span class="hljs-variable">message</span> </span><span class="">= </span><span class=""><span class="hljs-variable">BuildProfile</span></span><span class="">.</span><span class=""><span class="hljs-variable">targetMessage1</span></span><span class="">;</span></li><li>            <span class="">}</span><span class="">)</span></li><li>          <span class=""><span class="hljs-title function_">Button</span></span><span class="">(</span><span class=""><span class="hljs-string">"Button 2"</span></span><span class="">)</span><span class="">.</span><span class=""><span class="hljs-title function_">width</span></span><span class="">(</span><span class=""><span class="hljs-string">"40%"</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">onClick</span></span><span class="">(() </span><span class="">=</span><span class="">&gt;</span> <span class="">{</span></li><li>              <span class=""><span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment">点击展示自定义字段</span></span><span class="hljs-comment">targetMessage2</span></li><li>              <span class="hljs-keyword">this</span><span class="">.</span><span class=""><span class="hljs-variable">message</span> </span><span class="">= </span><span class=""><span class="hljs-variable">BuildProfile</span></span><span class="">.</span><span class=""><span class="hljs-variable">targetMessage2</span></span><span class="">;</span></li><li>            <span class="">}</span><span class="">)</span></li><li>        <span class="">}</span><span class="">.</span><span class=""><span class="hljs-title function_">margin</span></span><span class="">(</span><span class=""><span class="hljs-number">20</span></span><span class="">)</span></li><li>        <span class="">.</span><span class=""><span class="hljs-title function_">width</span></span><span class="">(</span><span class=""><span class="hljs-number">315</span></span><span class="">)</span></li><li>        <span class=""><span class="hljs-title function_">Flex</span></span><span class="">(</span><span class="">{ </span><span class=""><span class="hljs-variable">direction</span></span><span class="">: </span><span class=""><span class="hljs-title class_">FlexDirection</span></span><span class="">.</span><span class=""><span class="hljs-title class_">Column</span></span><span class="">, </span><span class=""><span class="hljs-variable">alignItems</span></span><span class="">: </span><span class=""><span class="hljs-title class_">ItemAlign</span></span><span class="">.</span><span class=""><span class="hljs-title class_">Start</span></span><span class="">, </span><span class=""><span class="hljs-variable">justifyContent</span></span><span class="">: </span><span class=""><span class="hljs-title class_">FlexAlign</span></span><span class="">.</span><span class=""><span class="hljs-title class_">SpaceBetween</span> </span><span class="">}</span><span class="">) </span><span class="">{</span></li><li>          <span class=""><span class="hljs-title function_">Text</span></span><span class="">(</span><span class="hljs-keyword">this</span><span class="">.</span><span class=""><span class="hljs-variable">message</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">textAlign</span></span><span class="">(</span><span class=""><span class="hljs-variable">TextAlign</span></span><span class="">.</span><span class=""><span class="hljs-variable">Start</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">fontSize</span></span><span class="">(</span><span class=""><span class="hljs-number">12</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">border</span></span><span class="">(</span><span class="">{ </span><span class=""><span class="hljs-variable">width</span></span><span class="">: </span><span class=""><span class="hljs-number">1</span> </span><span class="">}</span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">padding</span></span><span class="">(</span><span class=""><span class="hljs-number">10</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">width</span></span><span class="">(</span><span class=""><span class="hljs-string">'100%'</span></span><span class="">)</span></li><li>        <span class="">}</span><span class="">.</span><span class=""><span class="hljs-title function_">height</span></span><span class="">(</span><span class=""><span class="hljs-number">600</span></span><span class="">)</span><span class="">.</span><span class=""><span class="hljs-title function_">width</span></span><span class="">(</span><span class=""><span class="hljs-number">350</span></span><span class="">)</span><span class="">.</span><span class=""><span class="hljs-title function_">padding</span></span><span class="">(</span><span class="">{ </span><span class=""><span class="hljs-variable">left</span></span><span class="">: </span><span class=""><span class="hljs-number">35</span></span><span class="">, </span><span class=""><span class="hljs-variable">right</span></span><span class="">: </span><span class=""><span class="hljs-number">35</span></span><span class="">}</span><span class="">)</span></li><li>      <span class="">}</span></li><li><span class="">    }</span></li><li><span class="">  }</span></li><li><span class="">}</span></li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002510174513__p86234151703">在hap的oh-package.json5中引用本地的har模块。</p> <div _ngcontent-qxk-c106="" class="highlight-div"><div _ngcontent-qxk-c106="" class="highlight-div-header"><div _ngcontent-qxk-c106="" class="highlight-div-header-left"><div _ngcontent-qxk-c106="" class="handle-button expand-button"><div _ngcontent-qxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qxk-c106="" class="highlight-div-header-right"><div _ngcontent-qxk-c106="" class="handle-button ai-button"></div><div _ngcontent-qxk-c106="" class="handle-button line-button"><div _ngcontent-qxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qxk-c106="" class="handle-button theme-button"><div _ngcontent-qxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qxk-c106="" class="handle-button copy-button"><div _ngcontent-qxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qxk-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002510174513__screen193513381705" data-highlighted="yes"><ol class="linenums"><li>{</li><li>  <span class=""><span class="hljs-string">"name"</span></span>: <span class=""><span class="hljs-string">"entry"</span></span>,</li><li>  <span class=""><span class="hljs-string">"version"</span></span>: <span class=""><span class="hljs-string">"1.0.0"</span></span>,</li><li>  <span class=""><span class="hljs-string">"description"</span></span>: <span class=""><span class="hljs-string">"Please describe the basic information."</span></span>,</li><li>  <span class=""><span class="hljs-string">"main"</span></span>: <span class=""><span class="hljs-string">""</span></span>,</li><li>  <span class=""><span class="hljs-string">"author"</span></span>: <span class=""><span class="hljs-string">""</span></span>,</li><li>  <span class=""><span class="hljs-string">"license"</span></span>: <span class=""><span class="hljs-string">""</span></span>,</li><li>  <span class=""><span class="hljs-string">"dependencies"</span></span>: {</li><li>    <span class=""><span class="hljs-string">"har"</span></span>: <span class=""><span class="hljs-string">"file:../har"</span></span></li><li>  }</li><li>}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002510174513__p07781346144514">在hap的Index.ets文件中引用该har包并且使用MainPage方法。</p> <div _ngcontent-qxk-c106="" class="highlight-div"><div _ngcontent-qxk-c106="" class="highlight-div-header"><div _ngcontent-qxk-c106="" class="highlight-div-header-left"><div _ngcontent-qxk-c106="" class="handle-button expand-button"><div _ngcontent-qxk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qxk-c106="" class="highlight-div-header-right"><div _ngcontent-qxk-c106="" class="handle-button ai-button"></div><div _ngcontent-qxk-c106="" class="handle-button line-button"><div _ngcontent-qxk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qxk-c106="" class="handle-button theme-button"><div _ngcontent-qxk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qxk-c106="" class="handle-button copy-button"><div _ngcontent-qxk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qxk-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" id="ZH-CN_TOPIC_0000002510174513__screen20171144414532" data-highlighted="yes"><ol class="linenums"><li>import <span class="">{ </span><span class="">MainPage </span><span class="">} </span>from <span class="">"har"</span></li><li>
</li><li><span class=""><span class="hljs-keyword">@Entry</span></span></li><li><span class=""><span class="hljs-keyword">@Component</span></span></li><li>struct <span class="">Index </span><span class="">{</span></li><li>  <span class=""><span class="hljs-built_in">build</span></span><span class="">() </span><span class="">{</span></li><li>    <span class=""><span class="hljs-built_in">Row</span></span><span class="">() </span><span class="">{</span></li><li>      <span class=""><span class="hljs-built_in">MainPage</span></span><span class="">()</span></li><li>    <span class="">}</span></li><li><span class="">  }</span></li><li><span class="">}</span></li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section1419815194449">执行预览或签名后推包到设备调试<i class="anchor-icon anchor-icon-link" anchorid="section1419815194449" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002510174513__p9758171219426">点击har模块执行以下按钮。</p> <p id="ZH-CN_TOPIC_0000002510174513__p125271426184516"><span><img originheight="464" originwidth="495" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104919.41582343272045765404108287211227:50001231000000:2800:4F6B69378412FEF0DE0C16D798E2549E34EA883150923612EB7C00BC5D2DE304.png" width="495" height="464"></span></p> </div> <p id="ZH-CN_TOPIC_0000002510174513__p105659222017">default模式下初始化的message为defaultMessage。</p> <p id="ZH-CN_TOPIC_0000002510174513__p930814541708"><span><img originheight="281" originwidth="460" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104919.50063884160466948183601038371245:50001231000000:2800:B34DD6663A2045A60406F0785037E8BA8C83F576CA758E64E12D7E58801FD317.png" width="460" height="281"></span></p> <p id="ZH-CN_TOPIC_0000002510174513__p12684133955114"></p> <p id="ZH-CN_TOPIC_0000002510174513__p114641343117"><span><img originheight="812" originwidth="408" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104919.67252512654491616733384818426304:50001231000000:2800:4377E0498E75C09377DFC8E1C42DF864A319992B7615331FC0265F2B1C07A716.png" width="408" height="812"></span></p> <p id="ZH-CN_TOPIC_0000002510174513__p72541012928">通过切换不同的product可以使用不同的自定义参数用来初始化message。</p> <p id="ZH-CN_TOPIC_0000002510174513__p188546161938">切换product为mirror。</p> <p id="ZH-CN_TOPIC_0000002510174513__p4963153719214"><span><img originheight="277" originwidth="460" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104919.93026100503791497192176196947876:50001231000000:2800:E2085014FA3051909792E831FC3EB2DA337BF3D31B09C9B0DB1215CAB212F3EC.png" width="460" height="277"></span></p> <p id="ZH-CN_TOPIC_0000002510174513__p59368425530">可以观察到初始化参数为mirrorMessage：</p> <p id="ZH-CN_TOPIC_0000002510174513__p684023212417"><span><img originheight="810" originwidth="409" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104919.27053851981396426102152720273677:50001231000000:2800:3C2F4D0EA05BA929E7D38F69970E1E098DDA82208FD8D144882E1CA41B38B548.png" width="409" height="810"></span></p> <p id="ZH-CN_TOPIC_0000002510174513__p33561456445">点击不同的Button可以改变message为对应的自定义参数：</p> <div class="fignone" id="fig787415375445"><span class="figcap"><b>图1 </b>点击Button1</span><br><span><img originheight="803" originwidth="405" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104919.67551871300835976196030213050664:50001231000000:2800:614AD0026030C0C1DD75C4680BC31EC13408CBA1C240BEECF6443075F0B2A629.png" width="405" height="803"></span></div> <p id="ZH-CN_TOPIC_0000002510174513__p356915468516"></p> <div class="fignone" id="fig1139813423447"><span class="figcap"><b>图2 </b>点击Button2</span><br><span><img originheight="806" originwidth="418" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104919.53832488667916083904193665403199:50001231000000:2800:22D77B279FD120DC57825193D75DC8FD4575455A92F6A07EFA82AA0CFA435079.png" width="418" height="806"></span></div> </div> <div></div></div>