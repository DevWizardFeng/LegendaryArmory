<h1 _ngcontent-ybm-c119="" class="doc-title ng-star-inserted" title="密钥生成介绍及算法规格"> 密钥生成介绍及算法规格 </h1>

<div _ngcontent-ybm-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>当业务需要使用HUKS生成随机密钥，并由HUKS进行安全保存时，可以调用HUKS的接口生成密钥。</p>    <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content">      <ul>       <li>密钥别名长度最大为128字节。</li>       <li>密钥别名中禁止包含个人数据等敏感信息。不建议包含加密算法、密钥长度、加密模式等信息。</li>       <li>使用当前业务已有的密钥别名作为生成的密钥别名默认会把现有密钥覆盖，可以使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-huks#hukstag" target="_blank">HUKS_TAG_KEY_OVERRIDE</a>指定当密钥别名冲突时返回错误。</li>       <li>对于不同业务生成的密钥将基于业务身份信息进行存储路径隔离，避免不同业务因密钥别名相同导致冲突。</li>      </ul>     </div></div></div>    <ul>     <li>      <p>随机生成：指HUKS在生成密钥时，利用密码学安全的伪随机数，提高密钥的随机性、不可预测性以及不可重现性，确保生成的密钥难以被推测。</p></li>     <li>      <p>安全保存：指通过HUKS生成的密钥，除了非对称密钥中的公钥外，密钥的全生命周期（从生成到销毁）均只能由HUKS在安全存储区使用，且生成的密钥文件不能被除HUKS以外的任何业务直接访问。即使是生成密钥的业务，后续也只能通过HUKS提供的接口执行密钥操作，从而获取操作结果。</p></li>     <li>      <p>密钥用途：一个密钥只能有一类用途，例如：无法通过同一个密钥进行加解密和签名验签。另外，生成密钥时指定的用途要与使用时的方式一致，否则会导致异常。</p></li>    </ul>    <div class="tiledSection">     <h2 id="密钥存储安全等级">密钥存储安全等级<i class="anchor-icon anchor-icon-link" anchorid="密钥存储安全等级" tips="复制节点链接"></i></h2>          <p>在API 11之前，生成或导入密钥时，默认存储等级为DE；从API 11开始，支持开发者指定存储安全等级，默认为CE，可取值如表所示。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.3.1.4.1.1" valign="top" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.3.1.4.1.2" valign="top" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.3.1.4.1.3" valign="top" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">HUKS_AUTH_STORAGE_LEVEL_DE</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">0</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">表示密钥仅在开机后可访问。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">HUKS_AUTH_STORAGE_LEVEL_CE</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">1</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">表示密钥仅在首次解锁后可访问。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">HUKS_AUTH_STORAGE_LEVEL_ECE</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">2</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">表示密钥仅在解锁状态时可访问。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="支持的算法">支持的算法<i class="anchor-icon anchor-icon-link" anchorid="支持的算法" tips="复制节点链接"></i></h2>          <p>以下为密钥生成支持的规格说明。</p>     <p><strong>手机、平板、PC/2in1设备、TV、智能穿戴规格</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.4.1.1" valign="top" width="33.33333333333333%">算法</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.4.1.2" valign="top" width="33.33333333333333%">支持的密钥长度</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.4.1.3" valign="top" width="33.33333333333333%">API级别</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">AES</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">128、192、256</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">8+</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">RSA</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">2048、3072、4096</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">8+</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">RSA</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">1024-2048（含），必须是8的倍数</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">18+</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">HMAC</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">8-1024（含），必须是8的倍数</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">8+</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">ECC</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">256、384、521</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">8+</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">ED25519</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">256</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">8+</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">X25519</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">256</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">8+</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">DH</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">2048</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">8+</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">SM2</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">256</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">9+</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">SM4</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">128</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">9+</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">DES</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">64</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">18+</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">3DES</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">128、192</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">18+</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>DH算法采用FFDHE知名安全素数群。</p>       <p>DES和3DES算法仅提供给特定场景使用，其他场景下不推荐使用。</p>      </div></div></div>     <p><strong>轻量级智能穿戴规格</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.4.1.1" valign="top" width="33.33333333333333%">算法</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.4.1.2" valign="top" width="33.33333333333333%">支持的密钥长度</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.4.1.3" valign="top" width="33.33333333333333%">API级别</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">AES</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">128、192、256</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">8+</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">DES</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">64</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">12+</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">3DES</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">128、192</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">12+</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">RSA</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">1024-2048（含），必须是8的倍数</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">12+</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">HMAC</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">8-1024（含），必须是8的倍数</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">12+</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">CMAC</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">128 算法仅支持3DES</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">12+</td>        </tr>             </tbody></table></div>     </div>    </div>   </div>   <div></div></div>