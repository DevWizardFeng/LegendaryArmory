<h1 _ngcontent-hhh-c119="" class="doc-title ng-star-inserted" title="常见问题"> 常见问题 </h1>

<div _ngcontent-hhh-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div> <div class="tiledSection"><h2 id="手机usb连接个人电脑时使用usbmanagergetdevices获取的设备列表为空">手机USB连接个人电脑时使用usbManager.getDevices获取的设备列表为空<i class="anchor-icon anchor-icon-link" anchorid="手机usb连接个人电脑时使用usbmanagergetdevices获取的设备列表为空" tips="复制节点链接"></i></h2></div>  <div class="tiledSection"><h3 id="问题现象" class="firsth2">问题现象<i class="anchor-icon anchor-icon-link" anchorid="问题现象" tips="复制节点链接"></i></h3><p>手机通过USB方式与个人电脑连接后，在手机侧使用usbManager.getDevices获取设备列表为空，未将个人电脑识别为USB设备。</p> </div>  <div class="tiledSection"><h3 id="可能原因">可能原因<i class="anchor-icon anchor-icon-link" anchorid="可能原因" tips="复制节点链接"></i></h3><p>USB设备包括主设备（Host）和从设备（Device）。主设备负责数据传输以及端口管理，从设备为被管理的对象。</p> <p>usbManager.getDevices接口的作用，是在当前设备作为主设备时去获取所连接的从设备列表。</p> <p>基于上述情况：</p> <ul><li>设备（如手机）USB连接个人电脑时，个人电脑默认是主设备，手机是从设备。此时在手机侧调用usbManager.getDevices接口查询到设备列表为空，属于正常现象。</li><li>设备（如手机）USB连接鼠标键盘时，手机默认是主设备，鼠标键盘是从设备。此时在手机侧调用usbManager.getDevices接口可以查询到设备列表。</li></ul> </div>  <div class="tiledSection"><h3 id="解决措施">解决措施<i class="anchor-icon anchor-icon-link" anchorid="解决措施" tips="复制节点链接"></i></h3><p>确保当前设备作为主设备，所连接的设备为从设备。（部分设备支持主、从两种USB设备模式。此时需要将设备设置为从设备模式，方可被主设备获取。）</p> </div>  <div class="tiledSection"><h2 id="使用usb串口传输数据时出现乱码">使用USB串口传输数据时出现乱码<i class="anchor-icon anchor-icon-link" anchorid="使用usb串口传输数据时出现乱码" tips="复制节点链接"></i></h2></div>  <div class="tiledSection"><h3 id="问题现象-1" class="firsth2">问题现象<i class="anchor-icon anchor-icon-link" anchorid="问题现象-1" tips="复制节点链接"></i></h3><p>传输数据出现乱码。</p> </div>  <div class="tiledSection"><h3 id="可能原因-1">可能原因<i class="anchor-icon anchor-icon-link" anchorid="可能原因-1" tips="复制节点链接"></i></h3><p>波特率不匹配。</p> </div>  <div class="tiledSection"><h3 id="解决措施-1">解决措施<i class="anchor-icon anchor-icon-link" anchorid="解决措施-1" tips="复制节点链接"></i></h3><p>检查两端的波特率是否一致，如不一致请重新配置。</p> </div>  <div class="tiledSection"><h2 id="使用usb串口传输数据时通信失败">使用USB串口传输数据时通信失败<i class="anchor-icon anchor-icon-link" anchorid="使用usb串口传输数据时通信失败" tips="复制节点链接"></i></h2></div>  <div class="tiledSection"><h3 id="问题现象-2" class="firsth2">问题现象<i class="anchor-icon anchor-icon-link" anchorid="问题现象-2" tips="复制节点链接"></i></h3><p>双方无法建立连接无任何数据收发或者传输的数据帧不完整（如仅接收部分字节）。</p> </div>  <div class="tiledSection"><h3 id="可能原因-2">可能原因<i class="anchor-icon anchor-icon-link" anchorid="可能原因-2" tips="复制节点链接"></i></h3><p>校验位或停止位配置错误。</p> </div>  <div class="tiledSection"><h3 id="解决措施-2">解决措施<i class="anchor-icon anchor-icon-link" anchorid="解决措施-2" tips="复制节点链接"></i></h3><p>检查两端校验位或停止位参数配置是否与设备要求完全一致。</p> </div>  <div class="tiledSection"><h2 id="使用usb串口传输数据时出现丢包">使用USB串口传输数据时出现丢包<i class="anchor-icon anchor-icon-link" anchorid="使用usb串口传输数据时出现丢包" tips="复制节点链接"></i></h2></div>  <div class="tiledSection"><h3 id="问题现象-3" class="firsth2">问题现象<i class="anchor-icon anchor-icon-link" anchorid="问题现象-3" tips="复制节点链接"></i></h3><p>传输数据偶发丢包。</p> </div>  <div class="tiledSection"><h3 id="可能原因-3">可能原因<i class="anchor-icon anchor-icon-link" anchorid="可能原因-3" tips="复制节点链接"></i></h3><p>噪声干扰或停止位不足。</p> </div>  <div class="tiledSection"><h3 id="解决措施-3">解决措施<i class="anchor-icon anchor-icon-link" anchorid="解决措施-3" tips="复制节点链接"></i></h3><p>排查是否受到干扰，修改停止位增加抗干扰性（如从1位改为2位）。</p> </div> </div> <div></div></div>