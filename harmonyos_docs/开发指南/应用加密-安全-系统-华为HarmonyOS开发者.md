<h1 _ngcontent-cbt-c119="" class="doc-title ng-star-inserted" title="应用加密"> 应用加密 </h1>

<div _ngcontent-cbt-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p>应用加密特性可以有效提高应用代码文件逆向分析的难度，但应用代码防逆向是一个持续攻防对抗的过程，如对代码文件保护有更高的要求，需要结合其他安全加固措施，进一步提高逆向分析应用的难度。</p> </div></div></div> <div class="tiledSection"><h2 id="section17158737174212">能力简介<i class="anchor-icon anchor-icon-link" anchorid="section17158737174212" tips="复制节点链接"></i></h2><p><span style="color: rgb(73,74,77);">为了保护应用代码安全，保护开发者的核心资产，HarmonyOS提供了端到端的应用代码保护机制，该机制以系统安全为基础，构建内核级应用生命周期内的代码安全保护能力。</span></p> <p> <span><img originheight="127" originwidth="655" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115005.48016363259670492765788160346499:50001231000000:2800:06F3B56D5E1FEA33ADEE77BC4ED19C743ABE7F032C6CFE2C2C59630D7F6335D7.png" width="655" height="127"></span></p> <p><span style="color: rgb(73,74,77);">开发者向应用市场提交上架申请，上传应用包后可</span><a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-release-app-choose-pkg-0000002278981434" target="_blank">选择是否加密</a><span style="color: rgb(73,74,77);">。</span></p> <p><span style="color: rgb(73,74,77);">选择加密的应用，在经过应用市场审核后，应用市场会对上架应用做代码加密。应用在设备上安装时，安装文件落盘后仍是处于受保护状态，有效的保护应用程序；当应用程序启动时按需解密</span><span style="color: rgb(73,74,77);">。</span></p> <p>系统级应用加密具有如下优点：</p> <ul><li>内核级的安全保护，应用端到端加密，应用启动后再按需解密执行。</li><li>系统级的解密优化，相对于传统加壳等加固方式对性能的影响更小。</li></ul> </div> <div class="tiledSection"><h2 id="section56738401452">加密影响<i class="anchor-icon anchor-icon-link" anchorid="section56738401452" tips="复制节点链接"></i></h2><ol><li>加密后的应用在程序启动和运行过程中可能会小幅度增加性能开销。</li><li>加密后的应用相比于不加密的应用体积更大，可能会小幅度增加下载和安装时间。</li></ol> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p>应用加密后的影响已经进行过系统级的优化，在部分优化后的版本上应用加密前后的性能与包体大小几乎无变化。</p> </div></div></div> </div> <div class="tiledSection"><h2 id="section8313115013443">保护效果<i class="anchor-icon anchor-icon-link" anchorid="section8313115013443" tips="复制节点链接"></i></h2><p>应用加密保护的对象为应用包体中的关键资产（例如.abc文件），原始的代码文件可能被反编译，受保护后的代码文件安全性会有很大地提升，提高逆向分析的难度。</p> </div> <div class="tiledSection"><h2 id="section35111228441">使用步骤<i class="anchor-icon anchor-icon-link" anchorid="section35111228441" tips="复制节点链接"></i></h2><p>应用加密特性在应用上架时加密，应用运行时按需解密。安全增强的同时，确保开发者、消费者无感的安全体验，避免应用开发者适配工作，保障用户无感的纯净安全体验。</p> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p>当前ArkTS卡片服务对应的widgets.abc文件暂不支持加密服务。</p> </div></div></div> <p>应用加密在不同阶段中的步骤如下：</p> <ul><li>开发阶段：开发者无感知。</li><li>上架阶段：开发者选取待发布的软件包并上传后，可选择设置分发的软件包是否加密，选择加密后即被加密。<p>操作步骤可参考：发布HarmonyOS应用-<a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-release-app-choose-pkg-0000002278981434" target="_blank">选取待发布的软件包</a>。</p> </li><li>分发阶段：应用将被应用市场加密分发，防止安装包被获取后逆向分析。</li><li>安装阶段：安装阶段仍有保护。</li><li>运行阶段：应用运行时按需解密应用代码。</li></ul> </div> <div class="tiledSection"><h2 id="section1233261812111">常见问题<i class="anchor-icon anchor-icon-link" anchorid="section1233261812111" tips="复制节点链接"></i></h2><ul><li><strong>Q1：使用官方提供的代码加密能力后，应用代码是否需要其它的代码保护措施吗？</strong><p>A1：应用加密特性可以有效提高应用代码文件逆向分析的难度，但应用代码防逆向是一个持续攻防对抗的过程，如对代码文件保护有更高的要求，需要结合其他安全加固措施，进一步提高逆向分析应用的难度。比如使能混淆能力、使能三方安全加固能力等。</p> </li></ul> <ul><li><strong>Q2：如果不使用代码加密能力，还能采取什么手段来保护应用代码资产？</strong><p>A2：使能混淆能力、使能三方安全加固能力等，请参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices-V5/bpta-app-asset-protection-design-V5#section24320461547" target="_blank">应用资产保护设计-保护应用代码场景</a>。</p> </li><li><strong>Q3：代码加密会对应用包产生什么影响？</strong><p>A3：加密后的应用在程序启动和运行过程中可能会小幅度增加性能开销；加密后的应用相比于不加密的应用体积更大，可能会小幅度增加下载和安装时间。</p> </li></ul> </div> </div> <div></div></div>