<h1 _ngcontent-hiv-c119="" class="doc-title ng-star-inserted" title="应用模型"> 应用模型 </h1>

<div _ngcontent-hiv-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="应用模型的构成要素">应用模型的构成要素<i class="anchor-icon anchor-icon-link" anchorid="应用模型的构成要素" tips="复制节点链接"></i></h2>          <p>应用模型是系统为开发者提供的应用程序所需能力的抽象提炼，它提供了应用程序必备的组件和运行机制。有了应用模型，开发者可以基于一套统一的模型进行应用开发，使应用开发更简单、高效。</p>     <p>应用模型的构成要素包括：</p>     <ol>      <li>       <p>应用组件</p>       <p>应用组件是应用的基本组成单位，是应用的运行入口。用户启动、使用和退出应用过程中，应用组件会在不同的状态间切换，这些状态称为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/uiability-lifecycle">应用组件的生命周期</a>。应用组件提供生命周期的回调函数，开发者通过应用组件的生命周期回调感知应用的状态变化。应用开发者在编写应用时，首先需要编写的就是应用组件，同时还需编写应用组件的生命周期回调函数，并在应用配置文件中配置相关信息。这样，操作系统在运行期间通过配置文件创建应用组件的实例，并调度它的生命周期回调函数，从而执行开发者的代码。</p></li>      <li>       <p>应用进程模型</p>       <p>应用进程模型定义应用进程的创建和销毁方式，以及进程间的通信方式。</p></li>      <li>       <p>应用线程模型</p>       <p>应用线程模型定义应用进程内线程的创建和销毁方式、主线程和UI线程的创建方式、线程间的通信方式。</p></li>      <li>       <p>应用任务管理模型（仅对系统应用开放）</p>       <p>应用任务管理模型定义任务（Mission）的创建和销毁方式，以及任务与组件间的关系。所谓任务，即用户使用一个应用组件实例的记录。每次用户启动一个新的应用组件实例，都会生成一个新的任务。例如，用户启动一个视频应用，此时在“最近任务”界面，将会看到视频应用这个任务，当用户点击这个任务时，系统会把该任务切换到前台，如果这个视频应用中的视频编辑功能也是通过应用组件编写的，那么在用户启动视频编辑功能时，会创建视频编辑的应用组件实例，在“最近任务”界面中，将会展示视频应用、视频编辑两个任务。</p></li>      <li>       <p>应用配置文件</p>       <p>应用配置文件中包含应用配置信息、应用组件信息、权限信息、开发者自定义信息等，这些信息在编译构建、分发和运行阶段分别提供给编译工具、应用市场和操作系统使用。</p></li>     </ol>    </div>    <div class="tiledSection">     <h2 id="应用模型概况">应用模型概况<i class="anchor-icon anchor-icon-link" anchorid="应用模型概况" tips="复制节点链接"></i></h2>          <p>随着系统的演进发展，先后提供了两种应用模型：</p>     <ul>      <li>       <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ability-terminology#fa模型">FA（Feature Ability）模型</a>：从API 7开始支持的模型，已经不再主推。</p></li>      <li>       <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ability-terminology#stage模型">Stage模型</a>：从API 9开始新增的模型，是目前主推且会长期演进的模型。在该模型中，由于提供了AbilityStage、WindowStage等类作为应用组件和Window窗口的“舞台”，因此称这种应用模型为Stage模型。</p></li>     </ul>    </div>    <div class="tiledSection">     <h2 id="通过对比认识fa模型与stage模型">通过对比认识FA模型与Stage模型<i class="anchor-icon anchor-icon-link" anchorid="通过对比认识fa模型与stage模型" tips="复制节点链接"></i></h2>          <p><strong>Stage模型与FA模型最大的区别在于</strong>：Stage模型中，多个应用组件共享同一个ArkTS引擎实例；而FA模型中，每个应用组件独享一个ArkTS引擎实例。因此在Stage模型中，应用组件之间可以方便的共享对象和状态，同时减少复杂应用运行对内存的占用。Stage模型作为主推的应用模型，开发者通过它能够更加便利地开发出分布式场景下的复杂应用。</p>     <p>可通过如下对比表格了解两种模型的整体概况。</p>     <p><strong>表1</strong> FA模型与Stage模型差异概览</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.3.5.1.4.1.1" valign="top" width="33.33333333333333%">项目</th>         <th align="left" class="cellrowborder" id="mcps1.3.3.5.1.4.1.2" valign="top" width="33.33333333333333%">FA模型</th>         <th align="left" class="cellrowborder" id="mcps1.3.3.5.1.4.1.3" valign="top" width="33.33333333333333%">Stage模型</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%"><strong>应用组件</strong></td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">          <p>1. 组件分类</p>          <p><span><img originheight="326" originwidth="1016" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114713.84482976680236948941788589985539:50001231000000:2800:71205C97235873186FF50268704F8271E35A45BFB753D0A6A97D65099ADD3800.png" width="282.66666666666663" height="90.69816272965878"></span> - PageAbility组件：包含UI，提供展示UI的能力。详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/pageability-overview">PageAbility组件概述</a>。</p>          <p>- ServiceAbility组件：提供后台服务的能力，无UI。详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/serviceability-overview">ServiceAbility组件概述</a>。</p>          <p>- DataAbility组件：提供数据分享的能力，无UI。详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/dataability-overview">DataAbility组件概述</a>。</p>          <p>2. 开发方式</p>          <p>通过导出匿名对象、固定入口文件的方式指定应用组件。开发者无法进行派生，不利于扩展能力。</p></td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">          <p>1. 组件分类</p>          <p><span><img originheight="326" originwidth="1016" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114713.26554678152566618557815433242559:50001231000000:2800:B339DB350DA9032F6D1B20C319426F4E5590B3A4A7D048F20F5AB8B783B46025.png" width="282.66666666666663" height="90.69816272965878"></span> - UIAbility组件：包含UI，提供展示UI的能力，主要用于和用户交互。详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/uiability-overview">UIAbility组件概述</a>。</p>          <p>- ExtensionAbility组件：提供特定场景（如卡片、输入法）的扩展能力，满足更多的使用场景。详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/extensionability-overview">ExtensionAbility组件概述</a>。</p>          <p>2. 开发方式</p>          <p>采用面向对象的方式，将应用组件以类接口的形式开放给开发者，可以进行派生，利于扩展能力。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%"><strong>进程模型</strong></td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">          <p>有两类进程：</p>          <p>1. 主进程</p>          <p>2. 渲染进程</p>          <p>详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/process-model-fa">进程模型</a>。</p></td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">          <p>有三类进程：</p>          <p>1. 主进程</p>          <p>2. ExtensionAbility进程</p>          <p>3. 渲染进程</p>          <p>详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/process-model-stage">进程模型</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%"><strong>线程模型</strong></td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">          <p>1. ArkTS引擎实例的创建</p>          <p>一个进程可以运行多个应用组件实例，每个应用组件实例分别运行在单独的ArkTS引擎实例中。</p>          <p>2. 线程模型</p>          <p>每个ArkTS引擎实例都在一个单独线程（非主线程）上创建，主线程没有ArkTS引擎实例。</p>          <p>3. 进程内对象共享：不支持。</p>          <p>详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/thread-model-fa">线程模型</a>。</p></td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">          <p>1. ArkTS引擎实例的创建</p>          <p>一个进程可以运行多个应用组件实例，所有应用组件实例共享一个ArkTS引擎实例。</p>          <p>2. 线程模型</p>          <p>ArkTS引擎实例在主线程上创建。</p>          <p>3. 进程内对象共享：支持。</p>          <p>详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/thread-model-stage">线程模型</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%"><strong>应用配置文件</strong></td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">          <p>使用config.json描述应用信息、HAP信息和应用组件信息。</p>          <p>详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/application-configuration-file-overview-fa">应用配置文件概述（FA模型）</a>。</p></td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">          <p>使用app.json5描述应用信息，module.json5描述HAP信息、应用组件信息。</p>          <p>详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/application-configuration-file-overview-stage">应用配置文件概述（Stage模型）</a>。</p></td>        </tr>             </tbody></table></div>     </div>    </div>   </div>   <div></div></div>