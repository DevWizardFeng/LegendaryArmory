<h1 _ngcontent-sds-c119="" class="doc-title ng-star-inserted" title="应用程序包常见问题"> 应用程序包常见问题 </h1>

<div _ngcontent-sds-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="如何获取签名信息中的指纹信息">如何获取签名信息中的指纹信息<i class="anchor-icon anchor-icon-link" anchorid="如何获取签名信息中的指纹信息" tips="复制节点链接"></i></h2>          <ul>      <li>通过调用接口获取。</li>     </ul>     <p>可以调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager#bundlemanagergetbundleinfoforself" target="_blank">bundleManager.getBundleInfoForSelf</a>获取自身的BundleInfo应用包信息，应用包信息中包含signatureInfo签名信息，签名信息中包含指纹信息。</p>     <div _ngcontent-sds-c106="" class="highlight-div"><div _ngcontent-sds-c106="" class="highlight-div-header"><div _ngcontent-sds-c106="" class="highlight-div-header-left"><div _ngcontent-sds-c106="" class="handle-button expand-button"><div _ngcontent-sds-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sds-c106="" class="highlight-div-header-right"><div _ngcontent-sds-c106="" class="handle-button ai-button"></div><div _ngcontent-sds-c106="" class="handle-button line-button"><div _ngcontent-sds-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sds-c106="" class="handle-button theme-button"><div _ngcontent-sds-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sds-c106="" class="handle-button copy-button"><div _ngcontent-sds-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sds-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { bundleManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> bundleFlags = bundleManager.<span class="hljs-property">BundleFlag</span>.<span class="hljs-property">GET_BUNDLE_INFO_WITH_APPLICATION</span> | bundleManager.<span class="hljs-property">BundleFlag</span>.<span class="hljs-property">GET_BUNDLE_INFO_WITH_SIGNATURE_INFO</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  bundleManager.<span class="hljs-title function_">getBundleInfoForSelf</span>(bundleFlags).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">bundleInfo:bundleManager.BundleInfo</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'testTag'</span>, <span class="hljs-string">'getBundleInfoForSelf successfully. fingerprint: %{public}s'</span>, bundleInfo.<span class="hljs-property">signatureInfo</span>.<span class="hljs-property">fingerprint</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'testTag'</span>, <span class="hljs-string">'getBundleInfoForSelf failed. Cause: %{public}s'</span>, err.<span class="hljs-property">message</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'testTag'</span>, <span class="hljs-string">'getBundleInfoForSelf failed: %{public}s'</span>, message);</li><li>}</li></ol></pre></div></div>     <ul>      <li>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/bm-tool">bm工具</a>获取指纹信息。</li>     </ul>     <div _ngcontent-sds-c106="" class="highlight-div"><div _ngcontent-sds-c106="" class="highlight-div-header"><div _ngcontent-sds-c106="" class="highlight-div-header-left"><div _ngcontent-sds-c106="" class="handle-button expand-button"><div _ngcontent-sds-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sds-c106="" class="highlight-div-header-right"><div _ngcontent-sds-c106="" class="handle-button ai-button"></div><div _ngcontent-sds-c106="" class="handle-button line-button"><div _ngcontent-sds-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sds-c106="" class="handle-button theme-button"><div _ngcontent-sds-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sds-c106="" class="handle-button copy-button"><div _ngcontent-sds-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sds-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>hdc shell</li><li><span class="hljs-meta prompt_"># </span><span class="language-bash">需将com.example.myapplication替换为实际应用的包名</span></li><li>bm dump -n com.example.myapplication | grep fingerprint</li></ol></pre></div></div>     <p><span><img originheight="93" originwidth="910" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114344.97268799692584491741488771822424:50001231000000:2800:7FF1DC8A24FF804565670BE2E649012F941B24F18370267FCB04430E40C7F11D.png" width="910" height="93"></span></p>     <ul>      <li>       <p>通过.cer证书文件获取，可以参考<a href="https://developer.huawei.com/consumer/cn/doc/app/50130" target="_blank">APP备案FAQ</a>中HarmonyOS应用/元服务如何获取公钥和签名信息。</p></li>      <li>       <p>通过keytool工具获取，详情参考<a href="https://developer.huawei.com/consumer/cn/doc/AppGallery-connect-Guides/appgallerykit-preparation-game-0000001055356911#section147011294331" target="_blank">生成签名证书指纹</a>。</p></li>     </ul>    </div>    <div class="tiledSection">     <h2 id="什么是appidentifier">什么是appIdentifier<i class="anchor-icon anchor-icon-link" anchorid="什么是appidentifier" tips="复制节点链接"></i></h2>          <p>appIdentifier是<a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-release-profile-0000002248341090" target="_blank">Profile文件</a>中的一个字段，为应用的唯一标识，在应用签名时生成，其中：</p>     <ol>      <li>通过DevEco Studio工具<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-signing#section18815157237" target="_blank">自动签名</a>生成，此时的appIdentifier字段是随机生成的，在不同的设备上签名、或者重新签名均会导致appIdentifier字段不一致。</li>      <li>采用手动签名，并通过AppGallery Connect平台申请证书，此时申请<a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-debug-profile-0000002248181278" target="_blank">调试Profile</a>或者<a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-release-profile-0000002248341090" target="_blank">发布Profile</a>中的appIdentifier字段是固定的，该字段来源于AppGallery Connect创建应用时生成的<a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-create-app-0000002247955506#section16423184171915" target="_blank">APP ID</a>，由云端统一分配。此时的appIdentifier字段在应用全生命周期中不会发生变化，包括版本升级、证书变更、开发者公私钥变更、应用转移等。</li>     </ol>     <p>因此，在跨设备调试、跨应用交互调试、或者多用户共同开发且需要共享密钥等要求appIdentifier不变的场景下，推荐使用手动签名，具体场景请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-signing#section54361623194519" target="_blank">使用场景说明</a>。</p>    </div>    <div class="tiledSection">     <h2 id="如何获取应用信息中的appidentifier">如何获取应用信息中的appIdentifier<i class="anchor-icon anchor-icon-link" anchorid="如何获取应用信息中的appidentifier" tips="复制节点链接"></i></h2>          <ul>      <li>可以调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager#bundlemanagergetbundleinfoforself" target="_blank">bundleManager.getBundleInfoForSelf</a>获取自身的BundleInfo应用包信息，应用包信息中包含signatureInfo签名信息，签名信息中包含appIdentifier信息。</li>     </ul>     <div _ngcontent-sds-c106="" class="highlight-div"><div _ngcontent-sds-c106="" class="highlight-div-header"><div _ngcontent-sds-c106="" class="highlight-div-header-left"><div _ngcontent-sds-c106="" class="handle-button expand-button"><div _ngcontent-sds-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sds-c106="" class="highlight-div-header-right"><div _ngcontent-sds-c106="" class="handle-button ai-button"></div><div _ngcontent-sds-c106="" class="handle-button line-button"><div _ngcontent-sds-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sds-c106="" class="handle-button theme-button"><div _ngcontent-sds-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sds-c106="" class="handle-button copy-button"><div _ngcontent-sds-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sds-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { bundleManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> bundleFlags = bundleManager.<span class="hljs-property">BundleFlag</span>.<span class="hljs-property">GET_BUNDLE_INFO_WITH_APPLICATION</span> | bundleManager.<span class="hljs-property">BundleFlag</span>.<span class="hljs-property">GET_BUNDLE_INFO_WITH_SIGNATURE_INFO</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  bundleManager.<span class="hljs-title function_">getBundleInfoForSelf</span>(bundleFlags).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">bundleInfo:bundleManager.BundleInfo</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'testTag'</span>, <span class="hljs-string">'getBundleInfoForSelf successfully. appIdentifier: %{public}s'</span>, bundleInfo.<span class="hljs-property">signatureInfo</span>.<span class="hljs-property">appIdentifier</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'testTag'</span>, <span class="hljs-string">'getBundleInfoForSelf failed. Cause: %{public}s'</span>, err.<span class="hljs-property">message</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'testTag'</span>, <span class="hljs-string">'getBundleInfoForSelf failed: %{public}s'</span>, message);</li><li>}</li></ol></pre></div></div>     <ul>      <li>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/bm-tool">bm工具</a>获取。</li>     </ul>     <div _ngcontent-sds-c106="" class="highlight-div"><div _ngcontent-sds-c106="" class="highlight-div-header"><div _ngcontent-sds-c106="" class="highlight-div-header-left"><div _ngcontent-sds-c106="" class="handle-button expand-button"><div _ngcontent-sds-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sds-c106="" class="highlight-div-header-right"><div _ngcontent-sds-c106="" class="handle-button ai-button"></div><div _ngcontent-sds-c106="" class="handle-button line-button"><div _ngcontent-sds-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sds-c106="" class="handle-button theme-button"><div _ngcontent-sds-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sds-c106="" class="handle-button copy-button"><div _ngcontent-sds-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sds-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>hdc shell</li><li><span class="hljs-meta prompt_"># </span><span class="language-bash">需将com.example.myapplication替换为实际应用的包名</span></li><li>bm dump -n com.example.myapplication | grep appIdentifier</li></ol></pre></div></div>     <p><span><img originheight="92" originwidth="594" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114344.25400724908882122190431347726931:50001231000000:2800:AA65E274E89FA641CA28D83F703E77EE54769FA4BA3D468376C1E8D1CA1B24E7.png" width="594" height="92"></span></p>    </div>    <div class="tiledSection">     <h2 id="什么是appid">什么是appId<i class="anchor-icon anchor-icon-link" anchorid="什么是appid" tips="复制节点链接"></i></h2>          <p>appId是应用的唯一标识，由包名、下划线和证书公钥的Base64编码组成。由于appId和签名信息相关，如果签名证书的公钥更换，appId也会跟随变化，所以应用的唯一标识推荐使用<a href="/consumer/cn/doc/harmonyos-guides/common_problem_of_application#什么是appidentifier">appIdentifier</a>。</p>    </div>    <div class="tiledSection">     <h2 id="如何获取应用信息中的appid">如何获取应用信息中的appId<i class="anchor-icon anchor-icon-link" anchorid="如何获取应用信息中的appid" tips="复制节点链接"></i></h2>          <ul>      <li>可以调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager#bundlemanagergetbundleinfoforself" target="_blank">bundleManager.getBundleInfoForSelf</a>获取自身的BundleInfo应用包信息，应用包信息中包含signatureInfo签名信息，签名信息中包含appId信息。</li>     </ul>     <div _ngcontent-sds-c106="" class="highlight-div"><div _ngcontent-sds-c106="" class="highlight-div-header"><div _ngcontent-sds-c106="" class="highlight-div-header-left"><div _ngcontent-sds-c106="" class="handle-button expand-button"><div _ngcontent-sds-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sds-c106="" class="highlight-div-header-right"><div _ngcontent-sds-c106="" class="handle-button ai-button"></div><div _ngcontent-sds-c106="" class="handle-button line-button"><div _ngcontent-sds-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sds-c106="" class="handle-button theme-button"><div _ngcontent-sds-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sds-c106="" class="handle-button copy-button"><div _ngcontent-sds-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sds-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { bundleManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> bundleFlags = bundleManager.<span class="hljs-property">BundleFlag</span>.<span class="hljs-property">GET_BUNDLE_INFO_WITH_APPLICATION</span> | bundleManager.<span class="hljs-property">BundleFlag</span>.<span class="hljs-property">GET_BUNDLE_INFO_WITH_SIGNATURE_INFO</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  bundleManager.<span class="hljs-title function_">getBundleInfoForSelf</span>(bundleFlags).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">bundleInfo:bundleManager.BundleInfo</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'testTag'</span>, <span class="hljs-string">'getBundleInfoForSelf successfully. appId: %{public}s'</span>, bundleInfo.<span class="hljs-property">signatureInfo</span>.<span class="hljs-property">appId</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'testTag'</span>, <span class="hljs-string">'getBundleInfoForSelf failed. Cause: %{public}s'</span>, err.<span class="hljs-property">message</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-keyword">let</span> message = (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>;</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'testTag'</span>, <span class="hljs-string">'getBundleInfoForSelf failed: %{public}s'</span>, message);</li><li>}</li></ol></pre></div></div>     <ul>      <li>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/bm-tool">bm工具</a>获取。</li>     </ul>     <div _ngcontent-sds-c106="" class="highlight-div"><div _ngcontent-sds-c106="" class="highlight-div-header"><div _ngcontent-sds-c106="" class="highlight-div-header-left"><div _ngcontent-sds-c106="" class="handle-button expand-button"><div _ngcontent-sds-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sds-c106="" class="highlight-div-header-right"><div _ngcontent-sds-c106="" class="handle-button ai-button"></div><div _ngcontent-sds-c106="" class="handle-button line-button"><div _ngcontent-sds-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sds-c106="" class="handle-button theme-button"><div _ngcontent-sds-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sds-c106="" class="handle-button copy-button"><div _ngcontent-sds-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sds-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>hdc shell</li><li><span class="hljs-meta prompt_"># </span><span class="language-bash">需将com.example.myapplication替换为实际应用的包名</span></li><li>bm dump -n ohos.app.hap.myapplication |grep '"appId":'</li></ol></pre></div></div>     <p><span><img originheight="120" originwidth="1114" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114344.71586119094151071789962647349114:50001231000000:2800:9C7662CB0E15E779FD13474596D3B4FE3EBBC7728358D579C3FC1DD318AA31D6.png" width="920" height="99.10233393177737"></span></p>    </div>   </div>   <div></div></div>