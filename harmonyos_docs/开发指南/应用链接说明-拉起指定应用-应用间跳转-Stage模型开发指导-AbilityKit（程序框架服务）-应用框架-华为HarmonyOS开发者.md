<h1 _ngcontent-iug-c119="" class="doc-title ng-star-inserted" title="应用链接说明"> 应用链接说明 </h1>

<div _ngcontent-iug-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="uris标签说明">uris标签说明<i class="anchor-icon anchor-icon-link" anchorid="uris标签说明" tips="复制节点链接"></i></h2>          <p>当在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file">module.json5</a>文件的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#skills标签">skills字段</a>中声明uris时，主要包含如下字段。</p>     <ul>      <li>       <p>scheme：协议名称。常见的取值有http、https、file、ftp等，也可以自定义。</p></li>      <li>       <p>host：域名或IP地址。例如域名developer.huawei.com或IP地址127.0.0.1。</p></li>      <li>       <p>port：端口号。例如developer.huawei.com:80后面的80即为端口号。</p></li>      <li>       <p>path：路径，表示域名服务器上的目录或文件路径，该字段在scheme存在时才有意义。path字段不支持通配符，如果需要使用通配符，可以采用pathRegex字段。</p></li>      <li>       <p>pathStartWith：路径前缀，该字段在scheme存在时才有意义，表示域名服务器上的目录或文件路径的前缀，用于前缀匹配。</p></li>      <li>       <p>pathRegex：路径正则，该字段在scheme存在时才有意义，表示域名服务器上的目录或文件路径的正则表达式，用于正则匹配。</p></li>      <li>       <p><a href="/consumer/cn/doc/harmonyos-guides/app-uri-config#linkfeature标签说明">linkFeature</a>：应用的功能类型（如文件打开、分享、导航等）。取值为长度不超过127字节的字符串，不支持中文。</p></li>     </ul>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>通过浏览器拉起应用页面时，浏览器会将uri中scheme和host中的大写字母自动转化为小写字母，导致无法正确匹配应用。因此建议scheme和host中不要包含大写字母。</li>        <li>path、pathStartWith、pathRegex的取值前后均不需要加斜杠/。例如对于应用链接https://developer.huawei.com/consumer/cn/support，path字段应配置为consumer/cn/support，pathStartWith字段可配置为consumer/cn，pathRegex字段可配置为^consumer/cn/support$。</li>       </ul>      </div></div></div>    </div>    <div class="tiledSection">     <h3 id="url的基本格式" class="firsth2">URL的基本格式<i class="anchor-icon anchor-icon-link" anchorid="url的基本格式" tips="复制节点链接"></i></h3>          <p>按照配置的字段不同，uris可以拼接为不同的URL表达式。其中，scheme为必选字段，其他字段仅当scheme存在时才有意义。</p>     <ul>      <li>只配置scheme：scheme://</li>      <li>只配置scheme和host：scheme://host</li>      <li>只配置scheme、host和port：scheme://host:port</li>      <li>       <p>当配置了path、pathStartWith或pathRegex字段时，组成的表达式如下。</p>       <p>三方应用组件配置的scheme不能与系统应用重复，否则会导致无法通过该uri拉起三方应用组件。</p>       <ul>        <li><strong>全路径表达式</strong>：scheme://host:port/path</li>        <li><strong>路径前缀表达式</strong>：scheme://host:port/pathStartWith</li>        <li><strong>路径正则表达式</strong>：scheme://host:port/pathRegex</li>       </ul>       <p></p></li>     </ul>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>三方应用组件配置的scheme不能与系统应用重复，否则会导致无法通过该uri拉起三方应用组件。</li>        <li>如果多个应用的URL配置相同，应用跳转时匹配到同多个应用，则会拉起应用选择框。为了更好的用户体验，开发者可以通过链接的path字段去区分同一域名下的不同应用，如链接https://www.example.com/path1拉起目标应用1，链接https://www.example.com/path2拉起目标应用2。</li>       </ul>      </div></div></div>    </div>    <div class="tiledSection">     <h3 id="linkfeature标签说明">linkFeature标签说明<i class="anchor-icon anchor-icon-link" anchorid="linkfeature标签说明" tips="复制节点链接"></i></h3>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>同一Bundle中声明的linkFeature数量不能超过150个。</p>      </div></div></div>     <p>目标应用在linkFeature字段中声明功能类型，并通过应用市场上架审核后，可以提升应用跳转体验。主要用于以下两种场景：</p>     <ol>      <li>       <p>支持系统识别同类应用：当调用方拉起垂类应用（例如导航类应用）时，系统会根据linkFeature字段识别到匹配的应用，并在应用面板中展现。</p>       <div class="tablenoborder">        <div class="tbBox"><table class="layoutFixed idpTab">         <thead>          <tr>           <th align="left" class="cellrowborder" id="mcps1.3.3.4.1.2.1.3.1.1" valign="top" width="50%">值</th>           <th align="left" class="cellrowborder" id="mcps1.3.3.4.1.2.1.3.1.2" valign="top" width="50%">说明</th>          </tr>         </thead>                   <tbody><tr>           <td class="cellrowborder" valign="top" width="50%">AppStorageMgmt</td>           <td class="cellrowborder" valign="top" width="50%">指示清理应用沙箱目录中缓存数据的功能。使用场景详见<a href="/consumer/cn/doc/harmonyos-guides/app-uri-config#清理应用沙箱缓存数据场景">清理应用沙箱缓存数据场景</a>。</td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="50%">FileOpen</td>           <td class="cellrowborder" valign="top" width="50%">指示打开处理文件的功能。使用场景详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/file-processing-apps-startup">拉起文件处理类应用</a>。</td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="50%">Navigation</td>           <td class="cellrowborder" valign="top" width="50%">指示导航功能。使用场景详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/start-navigation-apps">拉起导航类应用</a>。</td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="50%">RoutePlan</td>           <td class="cellrowborder" valign="top" width="50%">指示路线规划功能。使用场景详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/start-navigation-apps">拉起导航类应用</a>。</td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="50%">PlaceSearch</td>           <td class="cellrowborder" valign="top" width="50%">指示地点搜索功能。使用场景详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/start-navigation-apps">拉起导航类应用</a>。</td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="50%">AppNotificationMgmt</td>           <td class="cellrowborder" valign="top" width="50%">指示应用内通知设置的功能。</td>          </tr>                 </tbody></table></div>       </div></li>      <li>       <p>跳转一键返回能力：用户从A应用跳转至B应用的某个功能界面后，B应用调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext#backtocallerabilitywithresult12" target="_blank">一键返回能力</a>，可以支持用户直接返回A应用，无问询弹窗。例如：A应用跳转至B应用的支付界面，若B应用已申请了支付的linkFeature，则用户在B应用内完成操作后，可一键返回A应用。</p>       <div class="tablenoborder">        <div class="tbBox"><table class="layoutFixed idpTab">         <thead>          <tr>           <th align="left" class="cellrowborder" id="mcps1.3.3.4.2.2.1.3.1.1" valign="top" width="50%">值</th>           <th align="left" class="cellrowborder" id="mcps1.3.3.4.2.2.1.3.1.2" valign="top" width="50%">说明</th>          </tr>         </thead>                   <tbody><tr>           <td class="cellrowborder" valign="top" width="50%">Login</td>           <td class="cellrowborder" valign="top" width="50%">指示登录、授权登录等功能。</td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="50%">Pay</td>           <td class="cellrowborder" valign="top" width="50%">指示支付页面、收银台等功能。</td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="50%">Share</td>           <td class="cellrowborder" valign="top" width="50%">指示分享功能。</td>          </tr>                 </tbody></table></div>       </div></li>     </ol>    </div>    <div class="tiledSection">     <h2 id="配置示例">配置示例<i class="anchor-icon anchor-icon-link" anchorid="配置示例" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="授权登录场景" class="firsth2">授权登录场景<i class="anchor-icon anchor-icon-link" anchorid="授权登录场景" tips="复制节点链接"></i></h3>          <div _ngcontent-iug-c106="" class="highlight-div"><div _ngcontent-iug-c106="" class="highlight-div-header"><div _ngcontent-iug-c106="" class="highlight-div-header-left"><div _ngcontent-iug-c106="" class="handle-button expand-button"><div _ngcontent-iug-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iug-c106="" class="highlight-div-header-right"><div _ngcontent-iug-c106="" class="handle-button ai-button"></div><div _ngcontent-iug-c106="" class="handle-button line-button"><div _ngcontent-iug-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iug-c106="" class="handle-button theme-button"><div _ngcontent-iug-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iug-c106="" class="handle-button copy-button"><div _ngcontent-iug-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iug-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" hw-language="json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-attr">"uris"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>    <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-attr">"scheme"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"host"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"developer.huawei.com"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"consumer"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"linkFeature"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Login"</span></li><li>    <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">]</span></li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="清理应用沙箱缓存数据场景">清理应用沙箱缓存数据场景<i class="anchor-icon anchor-icon-link" anchorid="清理应用沙箱缓存数据场景" tips="复制节点链接"></i></h3>          <p>通过“设置 &gt; 存储”可以选择进入某个应用的应用详情页，该页面默认会包含“清空缓存”选项，用于清除当前应用的所有缓存数据。</p>     <p>如果开发者实现了自定义数据清理页面，并希望能够在应用详情页提供跳转入口，可以通过配置linkFeature字段进行接入。</p>     <ol>      <li>       <p>在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file">module.json5配置文件</a>中，对实现了数据清理功能的Ability添加如下skills配置。</p>       <p>其中，linkFeature字段必须配置为AppStorageMgmt，其他字段取值请根据实际情况修改为实际值。</p>       <div _ngcontent-iug-c106="" class="highlight-div"><div _ngcontent-iug-c106="" class="highlight-div-header"><div _ngcontent-iug-c106="" class="highlight-div-header-left"><div _ngcontent-iug-c106="" class="handle-button expand-button"><div _ngcontent-iug-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iug-c106="" class="highlight-div-header-right"><div _ngcontent-iug-c106="" class="handle-button ai-button"></div><div _ngcontent-iug-c106="" class="handle-button line-button"><div _ngcontent-iug-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iug-c106="" class="handle-button theme-button"><div _ngcontent-iug-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iug-c106="" class="handle-button copy-button"><div _ngcontent-iug-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iug-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" hw-language="json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span></li><li>  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ClearAbility"</span><span class="hljs-punctuation">,</span></li><li>  <span class="hljs-attr">"srcEntry"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./ets/clearability/ClearAbility.ets"</span><span class="hljs-punctuation">,</span></li><li>  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$string:ClearAbility_desc"</span><span class="hljs-punctuation">,</span></li><li>  <span class="hljs-attr">"icon"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$media:layered_image"</span><span class="hljs-punctuation">,</span></li><li>  <span class="hljs-attr">"label"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$string:ClearAbility_label"</span><span class="hljs-punctuation">,</span></li><li>  <span class="hljs-attr">"skills"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>    <span class="hljs-punctuation">{</span></li><li>      <span class="hljs-attr">"uris"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>        <span class="hljs-punctuation">{</span></li><li>          <span class="hljs-attr">"scheme"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"storage"</span><span class="hljs-punctuation">,</span></li><li>          <span class="hljs-attr">"host"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"developer.huawei.com"</span><span class="hljs-punctuation">,</span></li><li>          <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"clearcache"</span><span class="hljs-punctuation">,</span></li><li>          <span class="hljs-attr">"linkFeature"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppStorageMgmt"</span></li><li>        <span class="hljs-punctuation">}</span></li><li>      <span class="hljs-punctuation">]</span></li><li>    <span class="hljs-punctuation">}</span></li><li>  <span class="hljs-punctuation">]</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div></li>      <li>       <p>功能验证。</p>       <ol>        <li>在手机的“设置 &gt; 存储”页面，选择当前应用，进入应用详情页。</li>        <li>点击“前往xx清理数据”的选项，即可跳转至对应的缓存数据清理页面。</li>       </ol></li>     </ol>     <p>效果图如下：</p>     <p><span><img originheight="1071" originwidth="504" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114942.17497860513014608521931175188439:50001231000000:2800:968C0F1AE25EF6F9F33CF34A951A623CCF0920089F2F879FA30B86A751C2BF5C.png" width="504" height="1071"></span></p>    </div>   </div>   <div></div></div>