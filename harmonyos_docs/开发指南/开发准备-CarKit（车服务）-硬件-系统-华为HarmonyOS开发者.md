<h1 _ngcontent-lyg-c119="" class="doc-title ng-star-inserted" title="开发准备"> 开发准备 </h1>

<div _ngcontent-lyg-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>应用在使用Car Kit能力前，开发者需要完成的配置：配置编译模式、配置权限、配置能力。</p>    <div class="tiledSection">     <h2 id="section24378125111">配置编译模式<i class="anchor-icon anchor-icon-link" anchorid="section24378125111" tips="复制节点链接"></i></h2>          <p>在打包应用时，请在DevEco Studio中，点击右上角<span><img originheight="20" originwidth="22" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115011.69867641185352084136341308081947:50001231000000:2800:CA46709309589386C0E23327D2FA33EFCB5A70B9614426F54A6AA8CC64817A56.png" class="IconPic notEnlarge" width="22" height="20"></span>图标，将编译模式修改为“release”，然后点击右下角的“Apply”即可。</p>     <p><span><img originheight="310" originwidth="465" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115011.16041766628726777060734025211060:50001231000000:2800:D87B69FD4C2474CC4530C68E8A86C9582C4262806CEB20199E69B4B6FFDB09DD.png" width="465" height="310"></span></p>    </div>    <div class="tiledSection">     <h2 id="section201221239134810">配置权限<i class="anchor-icon anchor-icon-link" anchorid="section201221239134810" tips="复制节点链接"></i></h2>          <p>Car Kit为开发者提供了两类接口：导航类接口和出行互联类接口，使用对应接口需要分别配置相应的权限。</p>     <ul>      <li>使用导航类接口需要配置ohos.permission.ACCESS_SERVICE_NAVIGATION_INFO权限。</li>      <li>使用出行互联类接口需要配置ohos.permission.ACCESS_CAR_DISTRIBUTED_ENGINE权限。</li>     </ul>    </div>    <p>开发者需要在entry/src/main路径下的应用配置文件module.json5中配置所需权限。示例代码如下所示：</p>    <div _ngcontent-lyg-c106="" class="highlight-div"><div _ngcontent-lyg-c106="" class="highlight-div-header"><div _ngcontent-lyg-c106="" class="highlight-div-header-left"><div _ngcontent-lyg-c106="" class="handle-button expand-button"><div _ngcontent-lyg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-lyg-c106="" class="highlight-div-header-right"><div _ngcontent-lyg-c106="" class="handle-button ai-button"></div><div _ngcontent-lyg-c106="" class="handle-button line-button"><div _ngcontent-lyg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-lyg-c106="" class="handle-button theme-button"><div _ngcontent-lyg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-lyg-c106="" class="handle-button copy-button"><div _ngcontent-lyg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-lyg-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li>{</li><li>  <span class="hljs-string">"module"</span>: {</li><li>    <span class="hljs-string">"requestPermissions"</span>: [</li><li>      {</li><li>        <span class="hljs-string">"name"</span>: <span class="hljs-string">"ohos.permission.ACCESS_CAR_DISTRIBUTED_ENGINE"</span></li><li>      },</li><li>      {</li><li>        <span class="hljs-string">"name"</span>: <span class="hljs-string">"ohos.permission.ACCESS_SERVICE_NAVIGATION_INFO"</span></li><li>      }</li><li>    ]</li><li>  }</li><li>}</li></ol></pre></div></div>    <div class="tiledSection">     <h2 id="section239110365269">配置能力<i class="anchor-icon anchor-icon-link" anchorid="section239110365269" tips="复制节点链接"></i></h2>          <p>开发者需要在entry/src/main路径下的应用配置文件module.json5的abilities数组中配置导航流转能力或HiCar能力，具体步骤如下：</p>     <ol>      <li>在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V13/module-configuration-file-V13#skills标签" target="_blank">skills</a>中配置导航信息服务的actions。       <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">         <p>生态应用如有其它skills配置，请避免直接修改现有的配置，需在skills数组内追加。</p>        </div></div></div>       <div _ngcontent-lyg-c106="" class="highlight-div"><div _ngcontent-lyg-c106="" class="highlight-div-header"><div _ngcontent-lyg-c106="" class="highlight-div-header-left"><div _ngcontent-lyg-c106="" class="handle-button expand-button"><div _ngcontent-lyg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-lyg-c106="" class="highlight-div-header-right"><div _ngcontent-lyg-c106="" class="handle-button ai-button"></div><div _ngcontent-lyg-c106="" class="handle-button line-button"><div _ngcontent-lyg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-lyg-c106="" class="handle-button theme-button"><div _ngcontent-lyg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-lyg-c106="" class="handle-button copy-button"><div _ngcontent-lyg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-lyg-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-attr">"skills"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>  <span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"entities"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>      <span class="hljs-string">"entity.system.default"</span></li><li>    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"actions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>      <span class="hljs-string">"action.navigation.infoservice"</span></li><li>    <span class="hljs-punctuation">]</span></li><li>  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>  <span class="hljs-comment">// 其它 skills 配置</span></li><li>  <span class="hljs-punctuation">{</span></li><li>    <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">]</span></li></ol></pre></div></div></li>      <li>在元数据信息metadata中配置导航流转能力或HiCar能力。具体示例代码如下所示：       <div _ngcontent-lyg-c106="" class="highlight-div"><div _ngcontent-lyg-c106="" class="highlight-div-header"><div _ngcontent-lyg-c106="" class="highlight-div-header-left"><div _ngcontent-lyg-c106="" class="handle-button expand-button"><div _ngcontent-lyg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-lyg-c106="" class="highlight-div-header-right"><div _ngcontent-lyg-c106="" class="handle-button ai-button"></div><div _ngcontent-lyg-c106="" class="handle-button line-button"><div _ngcontent-lyg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-lyg-c106="" class="handle-button theme-button"><div _ngcontent-lyg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-lyg-c106="" class="handle-button copy-button"><div _ngcontent-lyg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-lyg-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li>{</li><li>  <span class="hljs-string">"module"</span>: {</li><li>    <span class="hljs-string">"abilities"</span>: [</li><li>     {</li><li>        <span class="hljs-string">"name"</span>: <span class="hljs-string">"xxxx"</span>,</li><li>        <span class="hljs-string">"srcEntry"</span>: <span class="hljs-string">"xxxx"</span>,</li><li>        <span class="hljs-string">"description"</span>: <span class="hljs-string">"xxxx"</span>,</li><li>        <span class="hljs-string">"skills"</span>: [</li><li>          {</li><li>            <span class="hljs-string">"entities"</span>: [</li><li>              <span class="hljs-string">"entity.system.home"</span></li><li>            ],</li><li>            <span class="hljs-string">"actions"</span>: [</li><li>              <span class="hljs-string">"action.system.home"</span></li><li>            ]</li><li>          },</li><li>          {</li><li>            <span class="hljs-string">"entities"</span>: [</li><li>              <span class="hljs-string">"entity.system.default"</span></li><li>            ],</li><li>            <span class="hljs-string">"actions"</span>: [</li><li>              <span class="hljs-string">"action.navigation.infoservice"</span></li><li>            ]</li><li>          }</li><li>        ],</li><li>        <span class="hljs-string">"metadata"</span>: [</li><li>          {</li><li>            <span class="hljs-string">"name"</span> : <span class="hljs-string">"carHopCapability"</span>,</li><li>            <span class="hljs-string">"value"</span> : <span class="hljs-string">"carHopNavi,getOnCarNavi,insideCarNavi,getOffCarNavi"</span></li><li>          },</li><li>          {</li><li>            <span class="hljs-string">"name"</span> : <span class="hljs-string">"hiCarCapability"</span>,</li><li>            <span class="hljs-string">"value"</span> :<span class="hljs-string">"basicNavi,shortcutOper,multiScreenUI,mapUIOper,updateNaviStatus,searchPOI"</span></li><li>          }</li><li>        ]</li><li>      }</li><li>    ]</li><li>  }</li><li>}</li></ol></pre></div></div></li>     </ol>     <p>metadata的name可选值：carHopCapability、hiCarCapability。</p>     <ul>      <li>name取值为carHopCapability时，代表适配了导航流转的能力。对应的value值根据不同的业务场景取值如下：        <div class="tablenoborder">        <div class="tbBox"><table class="layoutFixed idpTab">         <thead>          <tr>           <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.1.1.3.1.1" valign="top" width="49.62%">            <p>value</p></th>           <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.1.1.3.1.2" valign="top" width="50.38%">            <p>场景</p></th>          </tr>         </thead>                   <tbody><tr>           <td class="cellrowborder" valign="top" width="49.62%">            <p>carHopNavi</p></td>           <td class="cellrowborder" valign="top" width="50.38%">            <p>碰一碰导航流转，不可与碰一碰地址流转并存。</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="49.62%">            <p>carHopAddress</p></td>           <td class="cellrowborder" valign="top" width="50.38%">            <p>碰一碰地址流转，不可与碰一碰导航流转并存。</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="49.62%">            <p>getOnCarNavi</p></td>           <td class="cellrowborder" valign="top" width="50.38%">            <p>上车导航自动流转。</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="49.62%">            <p>insideCarNavi</p></td>           <td class="cellrowborder" valign="top" width="50.38%">            <p>车内导航自动流转。</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="49.62%">            <p>getOffCarNavi</p></td>           <td class="cellrowborder" valign="top" width="50.38%">            <p>下车步行导航流转。</p></td>          </tr>                 </tbody></table></div>       </div></li>      <li>name取值为hiCarCapability时，代表适配了HiCar的能力。对应的value值根据不同的业务场景取值如下：        <div class="tablenoborder">        <div class="tbBox"><table class="layoutFixed idpTab">         <thead>          <tr>           <th align="left" class="cellrowborder" id="mcps1.3.6.5.2.1.1.3.1.1" valign="top" width="35.96%">            <p>value</p></th>           <th align="left" class="cellrowborder" id="mcps1.3.6.5.2.1.1.3.1.2" valign="top" width="64.03999999999999%">            <p>场景</p></th>          </tr>         </thead>                   <tbody><tr>           <td class="cellrowborder" valign="top" width="35.96%">            <p>basicNavi</p></td>           <td class="cellrowborder" valign="top" width="64.03999999999999%">            <p>适配基础导航功能，对应指令：</p>            <ol>             <li>START_NAVIGATION</li>             <li>STOP_NAVIGATION</li>            </ol></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="35.96%">            <p>shortcutOper</p></td>           <td class="cellrowborder" valign="top" width="64.03999999999999%">            <p>适配快捷操作功能，对应指令：</p>            <ol>             <li>GO_HOME</li>             <li>GO_TO_COMPANY</li>            </ol></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="35.96%">            <p>multiScreenUI</p></td>           <td class="cellrowborder" valign="top" width="64.03999999999999%">            <p>多屏显示适配功能，对应指令：</p>            <ol>             <li>START_MAP_LAYER</li>             <li>STOP_MAP_LAYER</li>            </ol></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="35.96%">            <p>mapUIOper</p></td>           <td class="cellrowborder" valign="top" width="64.03999999999999%">            <p>地图UI控制功能，对应指令：</p>            <ol>             <li>ZOOM_IN_MAP</li>             <li>ZOOM_OUT_MAP</li>             <li>CHANGE_THEME</li>            </ol></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="35.96%">            <p>updateNaviStatus</p></td>           <td class="cellrowborder" valign="top" width="64.03999999999999%">            <p>适配地图状态和地图元数据，对应指令：</p>            <ol>             <li>START_UPDATE_NAVIGATION_STATUS</li>             <li>STOP_UPDATE_NAVIGATION_STATUS</li>            </ol></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="35.96%">            <p>searchPOI</p></td>           <td class="cellrowborder" valign="top" width="64.03999999999999%">            <p>适配地址搜索功能，对应指令：</p>            <ol>             <li>SEARCH_POI</li>            </ol></td>          </tr>                 </tbody></table></div>       </div>       <p>关于指令的更多详情请查阅<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/car-navigationinfomgr#section1255014591510" target="_blank">API参考</a>。</p></li>     </ul>    </div>   </div>   <div></div></div>