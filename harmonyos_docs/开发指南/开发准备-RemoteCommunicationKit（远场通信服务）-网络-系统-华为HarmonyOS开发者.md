<h1 _ngcontent-tsm-c119="" class="doc-title ng-star-inserted" title="开发准备"> 开发准备 </h1>

<div _ngcontent-tsm-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="section10469851512">申请权限<i class="anchor-icon anchor-icon-link" anchorid="section10469851512" tips="复制节点链接"></i></h2>          <p>应用在使用Remote Communication Kit能力前，需要检查是否已经获取对应权限。如未获得授权，需要声明对应权限。</p>    </div>    <p>除取消网络请求、关闭会话外，其余请求都需要权限。Remote Communication Kit所需权限有：</p>    <ul>     <li>ohos.permission.INTERNET：用于应用访问互联网。</li>     <li>ohos.permission.GET_NETWORK_INFO：用于获取设备网络信息。</li>    </ul>    <p>必须手动配置上述权限后才能使用，详细配置参见<a href="/consumer/cn/doc/harmonyos-guides/remote-communication-preparations#section178884218124">申请权限步骤</a>。</p>    <div class="tiledSection">     <h3 id="section178884218124" class="firsth2">申请权限步骤<i class="anchor-icon anchor-icon-link" anchorid="section178884218124" tips="复制节点链接"></i></h3>          <p>需要在entry/src/main路径下的module.json5中配置所需申请的权限。示例代码如下所示：</p>     <div _ngcontent-tsm-c106="" class="highlight-div"><div _ngcontent-tsm-c106="" class="highlight-div-header"><div _ngcontent-tsm-c106="" class="highlight-div-header-left"><div _ngcontent-tsm-c106="" class="handle-button expand-button"><div _ngcontent-tsm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tsm-c106="" class="highlight-div-header-right"><div _ngcontent-tsm-c106="" class="handle-button ai-button"></div><div _ngcontent-tsm-c106="" class="handle-button line-button"><div _ngcontent-tsm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tsm-c106="" class="handle-button theme-button"><div _ngcontent-tsm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tsm-c106="" class="handle-button copy-button"><div _ngcontent-tsm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tsm-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li>{</li><li>  <span class="hljs-string">"module"</span>: {</li><li>    <span class="hljs-string">"requestPermissions"</span>: [</li><li>      {</li><li>        <span class="hljs-string">"name"</span>: <span class="hljs-string">"ohos.permission.INTERNET"</span></li><li>      },</li><li>      {</li><li>        <span class="hljs-string">"name"</span>: <span class="hljs-string">"ohos.permission.GET_NETWORK_INFO"</span> <span class="hljs-comment">// 如果使用</span><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section828055885811" target="_blank"><span class="hljs-comment">PathPreference</span></a><span class="hljs-comment">的'cellular'模式，则需要额外申请此权限</span></li><li>      }</li><li>    ]</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="section2095732915253">C API开发准备<i class="anchor-icon anchor-icon-link" anchorid="section2095732915253" tips="复制节点链接"></i></h2>          <p>除上述权限配置外，C API使用时还需要在CMakeLists.txt中设置动态库路径及头文件路径，并进行链接。</p>     <p>如编译target为entry，则添加如下命令：</p>     <div _ngcontent-tsm-c106="" class="highlight-div"><div _ngcontent-tsm-c106="" class="highlight-div-header"><div _ngcontent-tsm-c106="" class="highlight-div-header-left"><div _ngcontent-tsm-c106="" class="handle-button expand-button"><div _ngcontent-tsm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tsm-c106="" class="highlight-div-header-right"><div _ngcontent-tsm-c106="" class="handle-button ai-button"></div><div _ngcontent-tsm-c106="" class="handle-button line-button"><div _ngcontent-tsm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tsm-c106="" class="handle-button theme-button"><div _ngcontent-tsm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tsm-c106="" class="handle-button copy-button"><div _ngcontent-tsm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tsm-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class=""><span class="hljs-built_in">target_include_directories</span></span>(entry <span class="">PUBLIC </span>${HMOS_SDK_NATIVE}/sysroot/usr/include)</li><li><span class=""><span class="hljs-built_in">target_link_directories</span></span>(entry <span class="">PUBLIC </span>${HMOS_SDK_NATIVE}/sysroot/usr/lib/aarch64-linux-ohos)</li><li><span class=""><span class="hljs-built_in">target_link_libraries</span></span>(entry <span class="">PUBLIC </span>librcp_c.so) <span class="">#</span><span class=""> 链接librcp_c<span class="hljs-selector-class">.so</span>及其他依赖的</span><span class="">so</span></li></ol></pre></div></div>    </div>   </div>   <div></div></div>