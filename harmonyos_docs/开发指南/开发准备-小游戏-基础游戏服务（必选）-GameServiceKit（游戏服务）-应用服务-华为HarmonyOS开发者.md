<h1 _ngcontent-oca-c119="" class="doc-title ng-star-inserted" title="开发准备"> 开发准备 </h1>

<div _ngcontent-oca-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="section99202433269">创建小游戏<i class="anchor-icon anchor-icon-link" anchorid="section99202433269" tips="复制节点链接"></i></h2><p>在华为应用市场发布小游戏，要求前往AppGallery Connect创建小游戏类元服务，具体操作请参见<a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-create-minigame-0000002434138360" target="_blank">创建小游戏</a>。其中：</p> <ul><li>“应用类型”：选择“元服务”。</li><li>“应用分类”：选择“小游戏”。</li></ul> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>用于正式上架的游戏包名建议不要包含test、dev等信息。</p> </div></div></div> </div> <div class="tiledSection"><h2 id="section87088732711">申请版署实名认证<i class="anchor-icon anchor-icon-link" anchorid="section87088732711" tips="复制节点链接"></i></h2><p>按照版署《关于开展网络游戏防沉迷实名认证系统接口对接工作的通知》，各游戏出版运营企业均要求在2021年6月1日前完成接入<a href="https://wlc.nppa.gov.cn/fcm_company/index.html#/login?redirect=/" target="_blank">网络游戏防沉迷实名认证系统</a>，并获取“bizID（游戏备案识别码）”，再将bizID配置到AppGallery Connect，华为将为游戏自动对接国家新闻出版署的实名认证系统并开启强制实名认证，开发者无需进行额外的开发。具体操作请参见<a href="https://developer.huawei.com/consumer/cn/doc/games-guides/game-center-identification-applyfor-0000002392353221" target="_blank">版署实名认证申请</a>。</p> </div> <div class="tiledSection"><h2 id="section958182292720">申请备案<i class="anchor-icon anchor-icon-link" anchorid="section958182292720" tips="复制节点链接"></i></h2><p>请参考<a href="https://developer.huawei.com/consumer/cn/doc/App/50130#h2-1710150107897-0" target="_blank">APP备案FAQ</a>、<a href="https://developer.huawei.com/consumer/cn/doc/quickApp-Guides/quickgame-filing-guide-0000001806139508" target="_blank">快游戏备案指南</a>和<a href="https://developer.huawei.com/consumer/cn/doc/games-guides/quickgame-filing-chinese-preparation-0000001979934858" target="_blank">国产游戏小程序备案准备</a>，完成小游戏备案，并保存好备案信息。</p> </div> <div class="tiledSection"><h2 id="section1718443611273">申请JSVM权限和存储空间管理开放能力<i class="anchor-icon anchor-icon-link" anchorid="section1718443611273" tips="复制节点链接"></i></h2><p>小游戏上架必须申请JSVM权限和存储空间管理开放能力，具体操作请参见<a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-release-minigame-acl-and-ability-0000002425276004" target="_blank">申请ACL权限和开放能力</a>。</p> </div> <div class="tiledSection"><h2 id="section18725157192718">生成签名证书<i class="anchor-icon anchor-icon-link" anchorid="section18725157192718" tips="复制节点链接"></i></h2><p>数字证书和Profile文件等签名信息可以确保小游戏的完整性：</p> <ul><li>调试阶段：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-signing#section297715173233" target="_blank">手动签名</a>、<a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-debug-cert-0000002283256797" target="_blank">申请调试证书</a>、<a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-debug-profile-0000002248181278" target="_blank">申请调试Profile</a>。</li><li>发布阶段：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-signing#section297715173233" target="_blank">手动签名</a>、<a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-release-cert-0000002283336729" target="_blank">申请发布证书</a>、<a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-release-profile-0000002248341090" target="_blank">申请发布Profile</a>。</li></ul> </div> <div class="tiledSection"><h2 id="section22010127282">配置签名证书指纹<i class="anchor-icon anchor-icon-link" anchorid="section22010127282" tips="复制节点链接"></i></h2><p>AppGallery Connect会自动生成证书对应的公钥信息，并计算出对应的SHA256指纹。开发者前往AppGallery Connect获取并配置SHA256指纹，且每个游戏至多添加4个签名证书指纹，配置签名证书指纹的具体操作请参见<a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-cert-fingerprint-0000002278002933" target="_blank">配置公钥指纹</a>。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>请在调试阶段添加调试证书对应的指纹，在发布阶段添加发布证书对应的指纹。</p> </div></div></div> </div> <div class="tiledSection"><h2 id="section1699173212289">配置APP ID、Client ID和权限信息<i class="anchor-icon anchor-icon-link" anchorid="section1699173212289" tips="复制节点链接"></i></h2><ol><li>登录<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank">AppGallery Connect</a>，在“开发与服务”下选择项目及项目下的小游戏，获取“应用”下的APP ID和Client ID。<p><span><img originheight="634" originwidth="1248" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114655.29173337815729313324298322967247:50001231000000:2800:C892C0C5B7A9B0B520DFB26C129594EBC1E9C395D6DD5552561FAF4DF580FA8E.png" width="920" height="467.3717948717949"></span></p> </li><li>在工程的entry模块module.json5文件中，新增metadata并配置client_id和app_id，同时新增requestPermissions以配置ACL权限和开放能力。如下所示：<div _ngcontent-oca-c106="" class="highlight-div"><div _ngcontent-oca-c106="" class="highlight-div-header"><div _ngcontent-oca-c106="" class="highlight-div-header-left"><div _ngcontent-oca-c106="" class="handle-button expand-button"><div _ngcontent-oca-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-oca-c106="" class="highlight-div-header-right"><div _ngcontent-oca-c106="" class="handle-button ai-button"></div><div _ngcontent-oca-c106="" class="handle-button line-button"><div _ngcontent-oca-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-oca-c106="" class="handle-button theme-button"><div _ngcontent-oca-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-oca-c106="" class="handle-button copy-button"><div _ngcontent-oca-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-oca-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class=""><span class="hljs-string">"module"</span></span><span class="">: </span>{</li><li>  <span class=""><span class="hljs-string">"name"</span></span><span class="">: </span><span class=""><span class="hljs-string">"entry"</span></span><span class="">,</span></li><li>  <span class=""><span class="hljs-string">"type"</span></span><span class="">: </span><span class=""><span class="hljs-string">"xxx"</span></span><span class="">,</span></li><li>  <span class=""><span class="hljs-string">"description"</span></span><span class="">: </span><span class=""><span class="hljs-string">"xxxx"</span></span><span class="">,</span></li><li><span class="">  <span class="hljs-string">"mainElement"</span></span><span class="">: </span><span class=""><span class="hljs-string">"xxxx"</span></span><span class="">,</span></li><li>  <span class=""><span class="hljs-string">"deviceTypes"</span></span><span class="">: </span>[]<span class="">,</span></li><li>  <span class=""><span class="hljs-string">"pages"</span></span><span class="">: </span><span class=""><span class="hljs-string">"xxxx"</span></span><span class="">,</span></li><li>  <span class=""><span class="hljs-string">"abilities"</span></span><span class="">: </span>[]<span class="">,</span></li><li><span class="">  <span class="hljs-string">"metadata"</span></span><span class="">: </span>[ <span class=""><span class="hljs-comment">/</span></span><span class=""><span class="hljs-comment">/ </span></span><span class=""><span class="hljs-comment">配置如下信息</span></span></li><li>    {</li><li>      <span class=""><span class="hljs-string">"name"</span></span><span class="">: </span><span class=""><span class="hljs-string">"client_id"</span></span><span class="">,</span></li><li>      <span class=""><span class="hljs-string">"value"</span></span><span class="">: </span><span class=""><span class="hljs-string">"xxxxxx"</span></span> <span class="hljs-comment">// 配置为前面步骤中获取的Client ID</span></li><li>    },</li><li>    {</li><li>      <span class=""><span class="hljs-string">"name"</span></span><span class="">: </span><span class=""><span class="hljs-string">"app_id"</span></span><span class="">,</span></li><li>      <span class=""><span class="hljs-string">"value"</span></span><span class="">: </span><span class=""><span class="hljs-string">"xxxxxx"</span></span> <span class="hljs-comment">// 配置为前面步骤中获取的APP ID</span></li><li>    }</li><li>  ],</li><li>  <span class="hljs-string">"requestPermissions"</span>: [ <span class="hljs-comment">// 配置JSVM权限和存储空间管理开放能力</span></li><li>    {</li><li>      <span class="hljs-string">"name"</span>: <span class="hljs-string">"ohos.permission.kernel.ALLOW_EXECUTABLE_FORT_MEMORY"</span></li><li>    },</li><li>    {</li><li>      <span class="hljs-string">"name"</span>: <span class="hljs-string">"ohos.permission.atomicService.MANAGE_STORAGE"</span></li><li>    }</li><li>  ]</li><li>}</li></ol></pre></div></div> </li></ol> </div> <div class="tiledSection"><h2 id="section12291317122910">配置APP ID映射关系<i class="anchor-icon anchor-icon-link" anchorid="section12291317122910" tips="复制节点链接"></i></h2><ol><li>登录<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank">AppGallery Connect</a>，在“开发与服务”下选择项目及项目下的小游戏，左侧菜单选择“构建 &gt; 游戏服务”，在右侧点击“新增配置”。<p><span><img originheight="652" originwidth="1244" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114655.41160408954483802843095273177960:50001231000000:2800:6EEE25E58073C18955A7654C524863DDDBF9B7700385CF497E60C6DE6F397070.png" width="920" height="482.1864951768489"></span></p> </li><li>在弹出的“新增配置信息”窗口中填写信息，完成后点击“下一步”。<p><span><img originheight="374" originwidth="602" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114655.93770583069654589226099172378426:50001231000000:2800:92CA7E01ADE27E1C4DF87A2034B544E4A9F8DC18E95D8A80E963ECDBBD91AB04.png" width="602" height="374"></span></p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.2.2.2.1.3.1.1" valign="top" width="30%"><p>信息项</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.2.2.2.1.3.1.2" valign="top" width="70%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="30%"><p>HarmonyOS 5.0及以上游戏</p> </td> <td class="cellrowborder" valign="top" width="70%"><p>请选择待上架的HAP小游戏。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="30%"><p>HarmonyOS 4及以下游戏</p> </td> <td class="cellrowborder" valign="top" width="70%"><p>请选择已上架或草稿态的RPK快游戏。</p> </td> </tr>  </tbody></table></div> </div> </li><li>（可选）填写开发者服务器的回调地址，完成后点击“确定”提交APP ID映射关系的审批申请。<p><span><img originheight="350" originwidth="602" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114655.33499571265682051502554205770631:50001231000000:2800:D3C70CAD2891982143B38A6309A9C859715FA13C93595CD8D25E53A7A395C001.png" width="602" height="350"></span></p> </li><li>若出现异常情况（例如在架状态不符合要求），将在提示框以红字提醒，建议点击“取消”并重新配置映射关系。若忽略异常情况点击“确定”继续提交申请，可能会造成映射关系审批不通过。<p><span><img originheight="562" originwidth="802" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114655.38205187388845468816057594895815:50001231000000:2800:7B5D8117246D684DE731FA7D5C693538F734058CADDDAC34490B40C99CA480DF.png" width="802" height="562"></span></p> </li><li>提交申请后，华为工作人员完成审核需要1~3个工作日，请耐心等待。APP ID映射关系生效后想要重新配置，请先提交映射关系的删除申请。<p><span><img originheight="266" originwidth="1165" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114656.85989904029507335559388023380372:50001231000000:2800:993EBAD8541112A90543E82271B555DE43F515F2D029E071F9E26A687843654D.png" width="920" height="210.06008583690988"></span></p> <p>配置/删除APP ID映射关系的审核结果将通过互动中心或邮件进行通知。</p> <p><span><img originheight="805" originwidth="1114" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114656.00805484038412236420964044459563:50001231000000:2800:8AB90A6B0DF007A4030C77B06DB3BF6FCB7CEF35B2A445B200B5B79D50DE6658.png" width="920" height="664.8114901256732"></span></p> </li></ol> </div> </div> <div></div></div>