<h1 _ngcontent-vui-c119="" class="doc-title ng-star-inserted" title="开发带UI界面基础驱动"> 开发带UI界面基础驱动 </h1>

<div _ngcontent-vui-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="场景介绍">场景介绍<i class="anchor-icon anchor-icon-link" anchorid="场景介绍" tips="复制节点链接"></i></h2>          <p>开发者开发带UI界面的基础驱动，适用于各种复合设备，需要通过UI界面设置对应的独特驱动能力或者通过UI界面展示从设备侧获取的信息，例如带有侧键的鼠标，手写板，身份证读卡器等设备。</p>    </div>    <div class="tiledSection">     <h2 id="环境搭建">环境搭建<i class="anchor-icon anchor-icon-link" anchorid="环境搭建" tips="复制节点链接"></i></h2>          <p>请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/environmental-preparation">环境准备</a>完成开发前的准备工作。</p>    </div>    <div class="tiledSection">     <h2 id="接口说明">接口说明<i class="anchor-icon anchor-icon-link" anchorid="接口说明" tips="复制节点链接"></i></h2>          <p>扩展外设管理基本能力如下，更多详情请查阅<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-driver-devicemanager" target="_blank">API参考文档</a>。</p>     <p><strong>表1</strong> 扩展外设管理基本能力接口</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.3.4.1.3.1.1" valign="top" width="50%">接口名</th>         <th align="left" class="cellrowborder" id="mcps1.3.3.4.1.3.1.2" valign="top" width="50%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">queryDevices(busType?: number): Array&lt;Readonly&lt;Device&gt;&gt;</td>         <td class="cellrowborder" valign="top" width="50%">查询扩展外设列表。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">bindDriverWithDeviceId(deviceId: number, onDisconnect: AsyncCallback&lt;number&gt;): Promise&lt;RemoteDeviceDriver&gt;;</td>         <td class="cellrowborder" valign="top" width="50%">绑定设备的Promise形式，API18开始支持。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">unbindDriverWithDeviceId(deviceId: number): Promise&lt;number&gt;</td>         <td class="cellrowborder" valign="top" width="50%">解绑设备的Promise形式，API18开始支持。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="开发步骤">开发步骤<i class="anchor-icon anchor-icon-link" anchorid="开发步骤" tips="复制节点链接"></i></h2>          <p>应用可通过查询绑定扩展外设，从而使用扩展外设的定制驱动能力。</p>     <p>开发示例如下（仅供参考）：为开发者提供的示例代码为同时开发客户端和服务端的Demo，并实现IPC通信。</p>     <ol>      <li>       <p>创建新工程，请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-create-new-project" target="_blank">创建一个新的工程</a>，创建一个HarmonyOS工程。</p>       <p><strong>注意：</strong></p>       <p>开发驱动客户端，请选择Empty Ability模板。</p>       <p>开发驱动服务端，请选择Native C++模板。</p>       <p>同时开发驱动客户端和服务端，请选择Native C++模板。</p></li>      <li>       <p>在文件中导入相关Kit，并声明想要绑定的USB设备的productId、vendorId以及与驱动通信的Code。</p>       <p><strong>说明：</strong></p>       <p>以下示例代码均写在entry/src/main/ets/pages/Index.ets文件中。</p>       <div _ngcontent-vui-c106="" class="highlight-div"><div _ngcontent-vui-c106="" class="highlight-div-header"><div _ngcontent-vui-c106="" class="highlight-div-header-left"><div _ngcontent-vui-c106="" class="handle-button expand-button"><div _ngcontent-vui-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vui-c106="" class="highlight-div-header-right"><div _ngcontent-vui-c106="" class="handle-button ai-button"></div><div _ngcontent-vui-c106="" class="handle-button line-button"><div _ngcontent-vui-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vui-c106="" class="handle-button theme-button"><div _ngcontent-vui-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vui-c106="" class="handle-button copy-button"><div _ngcontent-vui-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vui-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { deviceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DriverDevelopmentKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">REQUEST_CODE</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">99</span>; <span class="hljs-comment">// 自定义通信Code，此处仅供参考</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">productId</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">4258</span>;  <span class="hljs-comment">// 请声明连接的USB设备的productId</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">vendorId</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">4817</span>;   <span class="hljs-comment">// 请声明连接的USB设备的vendorId</span></li></ol></pre></div></div></li>      <li>       <p>定义message变量和远程对象变量，后续与驱动通信使用。</p>       <p><strong>说明：</strong></p>       <p>第3步开始，以下接口均在struct Index{}中定义。</p>       <div _ngcontent-vui-c106="" class="highlight-div"><div _ngcontent-vui-c106="" class="highlight-div-header"><div _ngcontent-vui-c106="" class="highlight-div-header-left"><div _ngcontent-vui-c106="" class="handle-button expand-button"><div _ngcontent-vui-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vui-c106="" class="highlight-div-header-right"><div _ngcontent-vui-c106="" class="handle-button ai-button"></div><div _ngcontent-vui-c106="" class="handle-button line-button"><div _ngcontent-vui-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vui-c106="" class="handle-button theme-button"><div _ngcontent-vui-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vui-c106="" class="handle-button copy-button"><div _ngcontent-vui-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vui-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li><span class="hljs-keyword">private</span> <span class="hljs-attr">remote</span>: rpc.<span class="hljs-property">IRemoteObject</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li></ol></pre></div></div></li>      <li>       <p>定义查询设备接口，通过queryDevices获取目标设备ID。</p>       <div _ngcontent-vui-c106="" class="highlight-div"><div _ngcontent-vui-c106="" class="highlight-div-header"><div _ngcontent-vui-c106="" class="highlight-div-header-left"><div _ngcontent-vui-c106="" class="handle-button expand-button"><div _ngcontent-vui-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vui-c106="" class="highlight-div-header-right"><div _ngcontent-vui-c106="" class="handle-button ai-button"></div><div _ngcontent-vui-c106="" class="handle-button line-button"><div _ngcontent-vui-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vui-c106="" class="handle-button theme-button"><div _ngcontent-vui-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vui-c106="" class="handle-button copy-button"><div _ngcontent-vui-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vui-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">queryTargetDeviceId</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">number</span>&gt; {</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">devices</span>: <span class="hljs-title class_">Array</span>&lt;deviceManager.<span class="hljs-property">Device</span>&gt; = deviceManager.<span class="hljs-title function_">queryDevices</span>(deviceManager.<span class="hljs-property">BusType</span>.<span class="hljs-property">USB</span>);</li><li>  <span class="hljs-keyword">const</span> index = devices.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function">(<span class="hljs-params">item: deviceManager.Device</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">let</span> usbDevice = item <span class="hljs-keyword">as</span> deviceManager.<span class="hljs-property">USBDevice</span>;</li><li>    <span class="hljs-comment">// 如果不知道设备productId和vendorId，可以通过该日志查看连接的usb设备的相关信息</span></li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`usbDevice.productId = <span class="hljs-subst">${usbDevice.productId}</span>, usbDevice.vendorId = <span class="hljs-subst">${usbDevice.vendorId}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span> usbDevice.<span class="hljs-property">productId</span> === productId &amp;&amp; usbDevice.<span class="hljs-property">vendorId</span> === vendorId;</li><li>  });</li><li>  <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0</span>) {</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'can not find device'</span>);</li><li>    <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> devices[index].<span class="hljs-property">deviceId</span>;</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`queryDevice failed, err: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>}</li><li><span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;</li><li>}</li></ol></pre></div></div></li>      <li>       <p>定义获取对应驱动远程对象的接口，通过bindDriverWithDeviceId获取远程对象。</p>       <div _ngcontent-vui-c106="" class="highlight-div"><div _ngcontent-vui-c106="" class="highlight-div-header"><div _ngcontent-vui-c106="" class="highlight-div-header-left"><div _ngcontent-vui-c106="" class="handle-button expand-button"><div _ngcontent-vui-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vui-c106="" class="highlight-div-header-right"><div _ngcontent-vui-c106="" class="handle-button ai-button"></div><div _ngcontent-vui-c106="" class="handle-button line-button"><div _ngcontent-vui-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vui-c106="" class="handle-button theme-button"><div _ngcontent-vui-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vui-c106="" class="handle-button copy-button"><div _ngcontent-vui-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vui-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">getDriverRemote</span>(<span class="hljs-attr">deviceId</span>: <span class="hljs-built_in">number</span>): <span class="hljs-title class_">Promise</span>&lt;rpc.<span class="hljs-property">IRemoteObject</span> | <span class="hljs-literal">null</span>&gt; {</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">remoteDeviceDriver</span>: deviceManager.<span class="hljs-property">RemoteDeviceDriver</span> = <span class="hljs-keyword">await</span> deviceManager.<span class="hljs-title function_">bindDriverWithDeviceId</span>(deviceId,</li><li>    <span class="hljs-function">(<span class="hljs-params">err: BusinessError, id: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`device[<span class="hljs-subst">${id}</span>] id disconnect, err: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>`</span>);</li><li>  });</li><li>  <span class="hljs-keyword">return</span> remoteDeviceDriver.<span class="hljs-property">remote</span>;</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`bindDriverWithDeviceId failed, err: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>}</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;</li><li>}</li></ol></pre></div></div></li>      <li>       <p>定义与远程对象通信接口，通过sendMessageRequest与远程对象进行IPC通信。</p>       <div _ngcontent-vui-c106="" class="highlight-div"><div _ngcontent-vui-c106="" class="highlight-div-header"><div _ngcontent-vui-c106="" class="highlight-div-header-left"><div _ngcontent-vui-c106="" class="handle-button expand-button"><div _ngcontent-vui-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vui-c106="" class="highlight-div-header-right"><div _ngcontent-vui-c106="" class="handle-button ai-button"></div><div _ngcontent-vui-c106="" class="handle-button line-button"><div _ngcontent-vui-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vui-c106="" class="handle-button theme-button"><div _ngcontent-vui-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vui-c106="" class="handle-button copy-button"><div _ngcontent-vui-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vui-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">communicateWithRemote</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">deviceId</span>: <span class="hljs-built_in">number</span> = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">queryTargetDeviceId</span>();</li><li>  <span class="hljs-keyword">if</span> (deviceId &lt; <span class="hljs-number">0</span>) {</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'can not find target device'</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">remote</span> = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getDriverRemote</span>(deviceId);</li><li>  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">remote</span> === <span class="hljs-literal">null</span>) {</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`getDriverRemote failed`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">let</span> option = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageOption</span>();</li><li>  <span class="hljs-keyword">let</span> data = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageSequence</span>();</li><li>  <span class="hljs-keyword">let</span> reply = <span class="hljs-keyword">new</span> rpc.<span class="hljs-title class_">MessageSequence</span>();</li><li>
</li><li>  <span class="hljs-comment">// 向驱动发送信息"Hello"</span></li><li>  data.<span class="hljs-title function_">writeString</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>);</li><li>
</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">remote</span>.<span class="hljs-title function_">sendMessageRequest</span>(<span class="hljs-variable constant_">REQUEST_CODE</span>, data, reply, option);</li><li>    <span class="hljs-comment">// 获取驱动返回信息"Hello world"</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> = reply.<span class="hljs-title function_">readString</span>();</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`sendMessageRequest, message: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`sendMessageRequest failed, err: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div></li>      <li>       <p>渲染UI界面，更多UI界面开发请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-ui-development" target="_blank">UI开发</a>。</p>       <div _ngcontent-vui-c106="" class="highlight-div"><div _ngcontent-vui-c106="" class="highlight-div-header"><div _ngcontent-vui-c106="" class="highlight-div-header-left"><div _ngcontent-vui-c106="" class="handle-button expand-button"><div _ngcontent-vui-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vui-c106="" class="highlight-div-header-right"><div _ngcontent-vui-c106="" class="handle-button ai-button"></div><div _ngcontent-vui-c106="" class="handle-button line-button"><div _ngcontent-vui-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vui-c106="" class="handle-button theme-button"><div _ngcontent-vui-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vui-c106="" class="handle-button copy-button"><div _ngcontent-vui-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vui-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title class_">Row</span>() {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>) <span class="hljs-comment">// 显示"Hello"</span></li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">60</span>)</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> { <span class="hljs-comment">// 点击"Hello"，与远程对象通信，显示"Hello World"</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">communicateWithRemote</span>();</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>  .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>}</li></ol></pre></div></div></li>      <li>       <p>接下来请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/driverextensionability">开发无UI界面基础驱动</a>，进行对应驱动的示例代码开发。</p></li>     </ol>    </div>    <div class="tiledSection">     <h2 id="应用签名">应用签名<i class="anchor-icon anchor-icon-link" anchorid="应用签名" tips="复制节点链接"></i></h2>          <p><strong>注意：</strong> 先配置权限，再自动签名。</p>     <p>应用需要配置签名文件才能在设备上运行，并且扩展外设管理客户端开发，需要配置扩展外设的权限：ohos.permission.ACCESS_EXTENSIONAL_DEVICE_DRIVER及ohos.permission.ACCESS_DDK_DRIVERS。</p>     <ul>      <li>       <p>ohos.permission.ACCESS_EXTENSIONAL_DEVICE_DRIVER</p>       <p>在module.json5配置文件的requestPermissions标签中<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/declare-permissions">声明权限</a>后，即可获得授权。</p></li>      <li>       <p>ohos.permission.ACCESS_DDK_DRIVERS</p>       <ol>        <li>在module.json5配置文件的requestPermissions标签中<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/declare-permissions" target="_blank">声明权限</a>。</li>        <li>HarmonyAppProvision配置文件中，修改acls字段，跨级别申请权限，可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/declare-permissions-in-acl" target="_blank">申请使用受限权限</a>。</li>        <li>在<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank">AGC网站</a>菜单“证书、APP ID和Profile”-&gt;“Profile”中申请profile文件时，申请权限选择受限权限“ohos.permission.ACCESS_DDK_DRIVERS”，在该权限的输入框内填写你客户端需要连接的服务端的bundleName，多个服务端的bundleName以逗号分隔。</li>       </ol></li>     </ul>     <p>完成权限配置后，可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-signing" target="_blank">自动签名</a>对应用进行签名。</p>    </div>   </div>   <div></div></div>