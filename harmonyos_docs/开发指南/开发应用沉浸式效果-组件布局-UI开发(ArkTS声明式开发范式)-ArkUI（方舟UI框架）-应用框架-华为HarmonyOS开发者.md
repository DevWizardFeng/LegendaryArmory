<h1 _ngcontent-dru-c119="" class="doc-title ng-star-inserted" title="开发应用沉浸式效果"> 开发应用沉浸式效果 </h1>

<div _ngcontent-dru-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="section231547103814">概述<i class="anchor-icon anchor-icon-link" anchorid="section231547103814" tips="复制节点链接"></i></h2><p>典型应用全屏窗口UI元素包括顶部<a href="https://developer.huawei.com/consumer/cn/doc/design-guides/status-bar-0000001776775568" target="_blank">状态栏</a>、应用界面和底部导航区域（根据用户设置可表现为<a href="https://developer.huawei.com/consumer/cn/doc/design-guides/navigation-0000001957075737" target="_blank">导航条</a>或三键导航），其中状态栏和导航区域，通常在沉浸式布局下称为避让区；避让区之外的区域称为安全区。开发应用沉浸式效果主要指通过调整状态栏、应用界面和底部导航区域的显示效果来减少状态栏、导航条或三键导航等系统界面的突兀感，从而使用户获得最佳的UI体验。</p> <div class="fignone"><span class="figcap"><b>图1 </b>界面元素示意图（此处以导航区域表现为导航条为例给出示意）</span><br><span><img height="492.706081" originheight="1179" originwidth="802" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114828.12263688094240486465938725746619:50001231000000:2800:D114F0133381CA7994CC87A889D51514A8E1D9D4B4AB35C747526E47B916462F.png" title="点击放大" width="335.16"></span></div> <p>开发应用沉浸式效果主要要考虑如下几个设计要素：</p> <ul><li>UI元素避让处理：底部导航区域可以响应点击事件，除此之外的可交互UI元素和应用关键信息不建议放到导航区域。状态栏显示系统信息，如果与界面元素有冲突，需要考虑避让状态栏。</li><li>沉浸式效果处理：设置状态栏的颜色和导航区域的显隐与界面元素颜色相匹配，不出现明显的突兀感。</li></ul> <p>针对上面的设计要求，可以通过如下两种方式实现应用沉浸式效果：</p> <ul><li><a href="/consumer/cn/doc/harmonyos-guides/arkts-develop-apply-immersive-effects#section15671730447">窗口全屏布局方案</a>：调整布局系统为全屏布局，界面元素延伸到状态栏和导航区域实现沉浸式效果。当不隐藏避让区时，可通过接口查询状态栏和导航区域进行可交互元素避让处理，并设置状态栏或导航区域的颜色或显隐等属性与界面元素匹配。当隐藏避让区时，通过对应接口设置全屏布局即可。</li><li><a href="/consumer/cn/doc/harmonyos-guides/arkts-develop-apply-immersive-effects#section202081847174413">组件安全区方案</a>：布局系统保持安全区内布局，然后通过接口延伸绘制内容（如背景色，背景图）到状态栏和导航区域实现沉浸式效果。<p>该方案下，界面元素仅做绘制延伸，无法单独布局到状态栏和导航区域，针对需要单独布局UI元素到状态栏和导航区域的场景建议使用窗口全屏布局方案处理。</p> </li></ul> </div> <div class="tiledSection"><h2 id="section15671730447">窗口全屏布局方案<i class="anchor-icon anchor-icon-link" anchorid="section15671730447" tips="复制节点链接"></i></h2><p>窗口全屏布局方案主要涉及以下<a href="/consumer/cn/doc/harmonyos-guides/arkts-develop-apply-immersive-effects#section171801550301">应用扩展布局，全屏显示，不隐藏避让区</a>和<a href="/consumer/cn/doc/harmonyos-guides/arkts-develop-apply-immersive-effects#section202484117114">应用扩展布局，隐藏避让区</a>两个应用场景。</p> </div> <div class="tiledSection"><h3 id="section171801550301" class="firsth2">应用扩展布局，全屏显示，不隐藏避让区<i class="anchor-icon anchor-icon-link" anchorid="section171801550301" tips="复制节点链接"></i></h3><p>可以通过调用窗口强制全屏布局接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowlayoutfullscreen9" target="_blank">setWindowLayoutFullScreen()</a>实现界面元素延伸到状态栏和导航区域；然后通过接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowavoidarea9" target="_blank">getWindowAvoidArea()</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowlayoutfullscreen9" target="_blank">on('avoidAreaChange')</a>获取并动态监听避让区域的变更信息，页面布局根据避让区域信息进行动态调整；设置状态栏或导航区域的颜色或显隐等属性与界面元素进行匹配。</p> <ol><li>调用setWindowLayoutFullScreen()接口设置窗口全屏。<div _ngcontent-dru-c106="" class="highlight-div"><div _ngcontent-dru-c106="" class="highlight-div-header"><div _ngcontent-dru-c106="" class="highlight-div-header-left"><div _ngcontent-dru-c106="" class="handle-button expand-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dru-c106="" class="highlight-div-header-right"><div _ngcontent-dru-c106="" class="handle-button ai-button"></div><div _ngcontent-dru-c106="" class="handle-button line-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dru-c106="" class="handle-button theme-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dru-c106="" class="handle-button copy-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dru-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityConstant</span>, <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>
</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-keyword">void</span> {</li><li>    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>
</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> = windowStage.<span class="hljs-title function_">getMainWindowSync</span>(); <span class="hljs-comment">// 获取应用主窗口</span></li><li>      <span class="hljs-comment">// 1. 设置窗口全屏</span></li><li>      <span class="hljs-keyword">let</span> isLayoutFullScreen = <span class="hljs-literal">true</span>;</li><li>      windowClass.<span class="hljs-title function_">setWindowLayoutFullScreen</span>(isLayoutFullScreen).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the window layout to full-screen mode.'</span>);</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window layout to full-screen mode. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      });</li><li>      <span class="hljs-comment">// 进行后续步骤2-3中的操作</span></li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div> </li><li>使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowavoidarea9" target="_blank">getWindowAvoidArea()</a>接口获取当前布局遮挡区域（此处以状态栏、导航区域为例）。<div _ngcontent-dru-c106="" class="highlight-div"><div _ngcontent-dru-c106="" class="highlight-div-header"><div _ngcontent-dru-c106="" class="highlight-div-header-left"><div _ngcontent-dru-c106="" class="handle-button expand-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dru-c106="" class="highlight-div-header-right"><div _ngcontent-dru-c106="" class="handle-button ai-button"></div><div _ngcontent-dru-c106="" class="handle-button line-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dru-c106="" class="handle-button theme-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dru-c106="" class="handle-button copy-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dru-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-comment">// 2. 获取布局避让遮挡的区域</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-keyword">type</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">AvoidAreaType</span>.<span class="hljs-property">TYPE_NAVIGATION_INDICATOR</span>; <span class="hljs-comment">// 此处以导航条避让为例</span></li><li><span class="hljs-keyword">let</span> avoidArea = windowClass.<span class="hljs-title function_">getWindowAvoidArea</span>(<span class="hljs-keyword">type</span>);</li><li><span class="hljs-keyword">let</span> bottomRectHeight = avoidArea.<span class="hljs-property">bottomRect</span>.<span class="hljs-property">height</span>; <span class="hljs-comment">// 获取到导航区域的高度</span></li><li><span class="hljs-title class_">AppStorage</span>.<span class="hljs-title function_">setOrCreate</span>(<span class="hljs-string">'bottomRectHeight'</span>, bottomRectHeight);</li><li>
</li><li><span class="hljs-keyword">type</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">AvoidAreaType</span>.<span class="hljs-property">TYPE_SYSTEM</span>; <span class="hljs-comment">// 以状态栏避让为例</span></li><li>avoidArea = windowClass.<span class="hljs-title function_">getWindowAvoidArea</span>(<span class="hljs-keyword">type</span>);</li><li><span class="hljs-keyword">let</span> topRectHeight = avoidArea.<span class="hljs-property">topRect</span>.<span class="hljs-property">height</span>; <span class="hljs-comment">// 获取状态栏区域高度     </span></li><li><span class="hljs-title class_">AppStorage</span>.<span class="hljs-title function_">setOrCreate</span>(<span class="hljs-string">'topRectHeight'</span>, topRectHeight);</li></ol></pre></div></div> </li><li>注册监听函数，动态获取避让区域的实时数据。常见的触发避让区回调的场景如下：应用窗口在全屏模式、悬浮模式、分屏模式之间的切换；应用窗口旋转；多折叠设备在屏幕折叠态和展开态之间的切换；应用窗口在多设备之间的流转。<div _ngcontent-dru-c106="" class="highlight-div"><div _ngcontent-dru-c106="" class="highlight-div-header"><div _ngcontent-dru-c106="" class="highlight-div-header-left"><div _ngcontent-dru-c106="" class="handle-button expand-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dru-c106="" class="highlight-div-header-right"><div _ngcontent-dru-c106="" class="handle-button ai-button"></div><div _ngcontent-dru-c106="" class="handle-button line-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dru-c106="" class="handle-button theme-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dru-c106="" class="handle-button copy-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dru-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-comment">// 3. 注册监听函数，动态获取避让区域数据</span></li><li>windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'avoidAreaChange'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (data.<span class="hljs-property">type</span> === <span class="hljs-variable language_">window</span>.<span class="hljs-property">AvoidAreaType</span>.<span class="hljs-property">TYPE_SYSTEM</span>) {</li><li>    <span class="hljs-keyword">let</span> topRectHeight = data.<span class="hljs-property">area</span>.<span class="hljs-property">topRect</span>.<span class="hljs-property">height</span>;</li><li>    <span class="hljs-title class_">AppStorage</span>.<span class="hljs-title function_">setOrCreate</span>(<span class="hljs-string">'topRectHeight'</span>, topRectHeight);</li><li>  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (data.<span class="hljs-property">type</span> == <span class="hljs-variable language_">window</span>.<span class="hljs-property">AvoidAreaType</span>.<span class="hljs-property">TYPE_NAVIGATION_INDICATOR</span>) {</li><li>    <span class="hljs-keyword">let</span> bottomRectHeight = data.<span class="hljs-property">area</span>.<span class="hljs-property">bottomRect</span>.<span class="hljs-property">height</span>;</li><li>    <span class="hljs-title class_">AppStorage</span>.<span class="hljs-title function_">setOrCreate</span>(<span class="hljs-string">'bottomRectHeight'</span>, bottomRectHeight);</li><li>  }</li><li>});</li></ol></pre></div></div> </li><li>布局中的UI元素需要避让状态栏和导航区域，否则可能产生UI元素重叠等情况。<div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>避让区域存在大小为0的情况，当获取到的避让区域为0时，开发者需注意针对性处理适配此时的页面区域和布局，避免贴边、内容裁剪等问题，影响应用界面正常显示或美观性。</p> </div></div></div> <p>如下例子中，对控件顶部设置padding（具体数值与状态栏高度一致），实现对状态栏的避让；对底部设置padding（具体数值与底部导航区域高度一致），实现对导航条的避让。如果去掉顶部和底部的padding设置，即不避让状态栏和导航条，UI元素就会发生重叠。具体可见下文步骤中图2和图3的效果对比。</p> <div _ngcontent-dru-c106="" class="highlight-div"><div _ngcontent-dru-c106="" class="highlight-div-header"><div _ngcontent-dru-c106="" class="highlight-div-header-left"><div _ngcontent-dru-c106="" class="handle-button expand-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dru-c106="" class="highlight-div-header-right"><div _ngcontent-dru-c106="" class="handle-button ai-button"></div><div _ngcontent-dru-c106="" class="handle-button line-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dru-c106="" class="handle-button theme-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dru-c106="" class="handle-button copy-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dru-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Index.ets</span></li><li><span class="hljs-keyword">@Entry</span></li><li><span class="hljs-keyword">@Component</span></li><li>struct Index {</li><li>  <span class="hljs-keyword">@StorageProp</span>(<span class="hljs-string">'bottomRectHeight'</span>)</li><li>  <span class="hljs-attribute">bottomRectHeight</span>: number = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-keyword">@StorageProp</span>(<span class="hljs-string">'topRectHeight'</span>)</li><li>  <span class="hljs-attribute">topRectHeight</span>: number = <span class="hljs-number">0</span>;</li><li>
</li><li>  <span class="hljs-built_in">build</span>() {</li><li>    <span class="hljs-built_in">Column</span>() {</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        Text('Top Content')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">40</span>)<span class="hljs-selector-class">.textAlign</span>(TextAlign.Center)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">100%</span>')</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>('#<span class="hljs-number">2786</span>d9')</li><li>
</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        Text('Display Content <span class="hljs-number">2</span>')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">30</span>)</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>(Color.White)<span class="hljs-selector-class">.padding</span>(<span class="hljs-number">20</span>)<span class="hljs-selector-class">.borderRadius</span>(<span class="hljs-number">15</span>)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">80%</span>')</li><li>
</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        Text('Display Content <span class="hljs-number">3</span>')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">30</span>)</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>(Color.White)<span class="hljs-selector-class">.padding</span>(<span class="hljs-number">20</span>)<span class="hljs-selector-class">.borderRadius</span>(<span class="hljs-number">15</span>)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">80%</span>')</li><li>
</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        Text('Display Content <span class="hljs-number">4</span>')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">30</span>)</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>(Color.White)<span class="hljs-selector-class">.padding</span>(<span class="hljs-number">20</span>)<span class="hljs-selector-class">.borderRadius</span>(<span class="hljs-number">15</span>)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">80%</span>')</li><li>
</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        Text('Display Content <span class="hljs-number">5</span>')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">30</span>)</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>(Color.White)<span class="hljs-selector-class">.padding</span>(<span class="hljs-number">20</span>)<span class="hljs-selector-class">.borderRadius</span>(<span class="hljs-number">15</span>)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">80%</span>')</li><li>
</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        Text('Bottom Content')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">40</span>)<span class="hljs-selector-class">.textAlign</span>(TextAlign.Center)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">100%</span>')</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>('#<span class="hljs-number">96</span>dffa')</li><li>    }</li><li>    <span class="hljs-selector-class">.width</span>('<span class="hljs-number">100%</span>')</li><li>    <span class="hljs-selector-class">.height</span>('<span class="hljs-number">100%</span>')</li><li>    <span class="hljs-selector-class">.alignItems</span>(HorizontalAlign.Center)</li><li>    <span class="hljs-selector-class">.backgroundColor</span>('#d5d5d5')</li><li>    <span class="hljs-selector-class">.justifyContent</span>(FlexAlign.SpaceBetween)</li><li>    <span class="hljs-comment">// top数值与状态栏区域高度保持一致；bottom数值与导航区域高度保持一致</span></li><li>    <span class="hljs-selector-class">.padding</span>({</li><li>      top: this.getUIContext()<span class="hljs-selector-class">.px2vp</span>(this.topRectHeight),</li><li>      <span class="hljs-attribute">bottom</span>: this.<span class="hljs-built_in">getUIContext</span>().<span class="hljs-built_in">px2vp</span>(this.bottomRectHeight)</li><li>    })</li><li>  }</li><li>}</li></ol></pre></div></div> </li><li>根据实际的UI界面显示或相关UI元素背景颜色等，还可以按需设置状态栏的文字颜色、背景色或设置导航区域的显示或隐藏，以使UI界面效果呈现和谐。状态栏和导航区域默认是透明的，透传的是应用界面的背景色。<p>此例中UI颜色主要有两种，比较简单，故未对状态栏文字颜色、背景色进行设置，未对导航区域进行隐藏。</p> <div class="fignone"><span class="figcap"><b>图2 </b>布局避让状态栏和导航区域（此处以导航区域表现为导航条为例给出示意）</span><br><span><img height="693.361319" originheight="2720" originwidth="1260" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114828.74638429489594814587776070736911:50001231000000:2800:E1BF7D8E888653C8BFB60CC1A07F12542A69B72331DDAD087F56BB8EA67B70A1.jpg" title="点击放大" width="321.195"></span></div> <div class="fignone"><span class="figcap"><b>图3 </b>布局未避让状态栏和导航区域，UI元素重叠（此处以导航区域表现为导航条为例给出示意）</span><br><span><img height="690.802665" originheight="2720" originwidth="1260" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114828.91197020634155846213028148122148:50001231000000:2800:D85AB9A9D6BCC44612A48C67F97FF0E01F51D2B5558674CA34B63E2108121B1A.jpg" title="点击放大" width="319.996936"></span></div> </li></ol> </div> <div class="tiledSection"><h3 id="section202484117114">应用扩展布局，隐藏避让区<i class="anchor-icon anchor-icon-link" anchorid="section202484117114" tips="复制节点链接"></i></h3><p>此场景下状态栏和导航区域需要隐藏，适用于游戏、电影等应用场景。用户可以通过从底部上滑唤出导航条或三键导航。</p> <p><span><img height="382.96020000000004" originheight="686" originwidth="704" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114828.01419403423164532703674312894830:50001231000000:2800:B7D0BD1C68003E092DA549319C47D9DA1595C0508824B55BA5AEF35C2E0420C9.png" title="点击放大" width="393.01500000000004"></span></p> <ol><li>调用setWindowLayoutFullScreen()接口设置窗口全屏。<div _ngcontent-dru-c106="" class="highlight-div"><div _ngcontent-dru-c106="" class="highlight-div-header"><div _ngcontent-dru-c106="" class="highlight-div-header-left"><div _ngcontent-dru-c106="" class="handle-button expand-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dru-c106="" class="highlight-div-header-right"><div _ngcontent-dru-c106="" class="handle-button ai-button"></div><div _ngcontent-dru-c106="" class="handle-button line-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dru-c106="" class="handle-button theme-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dru-c106="" class="handle-button copy-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dru-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityConstant</span>, <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>
</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-keyword">void</span> {</li><li>    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>
</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> = windowStage.<span class="hljs-title function_">getMainWindowSync</span>(); <span class="hljs-comment">// 获取应用主窗口</span></li><li>      <span class="hljs-comment">// 1. 设置窗口全屏</span></li><li>      <span class="hljs-keyword">let</span> isLayoutFullScreen = <span class="hljs-literal">true</span>;</li><li>      windowClass.<span class="hljs-title function_">setWindowLayoutFullScreen</span>(isLayoutFullScreen).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the window layout to full-screen mode.'</span>);</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window layout to full-screen mode. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      });</li><li>      <span class="hljs-comment">// 进行后续步骤2中的状态栏和导航区域的隐藏操作</span></li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div> </li><li>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setspecificsystembarenabled11" target="_blank">setSpecificSystemBarEnabled()</a>接口设置状态栏和导航区域的具体显隐状态，此场景下将其设置为隐藏。<div _ngcontent-dru-c106="" class="highlight-div"><div _ngcontent-dru-c106="" class="highlight-div-header"><div _ngcontent-dru-c106="" class="highlight-div-header-left"><div _ngcontent-dru-c106="" class="handle-button expand-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dru-c106="" class="highlight-div-header-right"><div _ngcontent-dru-c106="" class="handle-button ai-button"></div><div _ngcontent-dru-c106="" class="handle-button line-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dru-c106="" class="handle-button theme-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dru-c106="" class="handle-button copy-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dru-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-comment">// 2. 设置状态栏隐藏</span></li><li>windowClass.<span class="hljs-title function_">setSpecificSystemBarEnabled</span>(<span class="hljs-string">'status'</span>, <span class="hljs-literal">false</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the status bar to be invisible.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the status bar to be invisible. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li><li><span class="hljs-comment">// 2. 设置导航区域隐藏</span></li><li>windowClass.<span class="hljs-title function_">setSpecificSystemBarEnabled</span>(<span class="hljs-string">'navigationIndicator'</span>, <span class="hljs-literal">false</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the navigation indicator to be invisible.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the navigation indicator to be invisible. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div> </li><li>在界面中无需进行导航区域避让操作。<div _ngcontent-dru-c106="" class="highlight-div"><div _ngcontent-dru-c106="" class="highlight-div-header"><div _ngcontent-dru-c106="" class="highlight-div-header-left"><div _ngcontent-dru-c106="" class="handle-button expand-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dru-c106="" class="highlight-div-header-right"><div _ngcontent-dru-c106="" class="handle-button ai-button"></div><div _ngcontent-dru-c106="" class="handle-button line-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dru-c106="" class="handle-button theme-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dru-c106="" class="handle-button copy-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dru-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Index.ets</span></li><li><span class="hljs-keyword">@Entry</span>()</li><li><span class="hljs-keyword">@Component</span></li><li>struct Index {</li><li>  <span class="hljs-built_in">build</span>() {</li><li>    <span class="hljs-built_in">Row</span>() {</li><li>      <span class="hljs-built_in">Column</span>() {</li><li>        <span class="hljs-built_in">Row</span>() {</li><li>          Text('Top Content')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">40</span>)<span class="hljs-selector-class">.textAlign</span>(TextAlign.Center)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">100%</span>')</li><li>        }<span class="hljs-selector-class">.backgroundColor</span>('#<span class="hljs-number">2786</span>d9')</li><li>
</li><li>        <span class="hljs-built_in">Row</span>() {</li><li>          Text('Display Content <span class="hljs-number">2</span>')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">30</span>)</li><li>        }<span class="hljs-selector-class">.backgroundColor</span>(Color.White)<span class="hljs-selector-class">.padding</span>(<span class="hljs-number">20</span>)<span class="hljs-selector-class">.borderRadius</span>(<span class="hljs-number">15</span>)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">80%</span>')</li><li>
</li><li>        <span class="hljs-built_in">Row</span>() {</li><li>          Text('Display Content <span class="hljs-number">3</span>')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">30</span>)</li><li>        }<span class="hljs-selector-class">.backgroundColor</span>(Color.White)<span class="hljs-selector-class">.padding</span>(<span class="hljs-number">20</span>)<span class="hljs-selector-class">.borderRadius</span>(<span class="hljs-number">15</span>)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">80%</span>')</li><li>
</li><li>        <span class="hljs-built_in">Row</span>() {</li><li>          Text('Display Content <span class="hljs-number">4</span>')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">30</span>)</li><li>        }<span class="hljs-selector-class">.backgroundColor</span>(Color.White)<span class="hljs-selector-class">.padding</span>(<span class="hljs-number">20</span>)<span class="hljs-selector-class">.borderRadius</span>(<span class="hljs-number">15</span>)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">80%</span>')</li><li>
</li><li>        <span class="hljs-built_in">Row</span>() {</li><li>          Text('Display Content <span class="hljs-number">5</span>')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">30</span>)</li><li>        }<span class="hljs-selector-class">.backgroundColor</span>(Color.White)<span class="hljs-selector-class">.padding</span>(<span class="hljs-number">20</span>)<span class="hljs-selector-class">.borderRadius</span>(<span class="hljs-number">15</span>)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">80%</span>')</li><li>
</li><li>        <span class="hljs-built_in">Row</span>() {</li><li>          Text('Bottom Content')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">40</span>)<span class="hljs-selector-class">.textAlign</span>(TextAlign.Center)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">100%</span>')</li><li>        }<span class="hljs-selector-class">.backgroundColor</span>('#<span class="hljs-number">96</span>dffa')</li><li>      }</li><li>      <span class="hljs-selector-class">.width</span>('<span class="hljs-number">100%</span>')</li><li>      <span class="hljs-selector-class">.height</span>('<span class="hljs-number">100%</span>')</li><li>      <span class="hljs-selector-class">.alignItems</span>(HorizontalAlign.Center)</li><li>      <span class="hljs-selector-class">.justifyContent</span>(FlexAlign.SpaceBetween)</li><li>      <span class="hljs-selector-class">.backgroundColor</span>('#d5d5d5')</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </li></ol> </div> <div class="tiledSection"><h2 id="section202081847174413">组件安全区方案<i class="anchor-icon anchor-icon-link" anchorid="section202081847174413" tips="复制节点链接"></i></h2><p>应用未使用setWindowLayoutFullScreen()接口设置窗口全屏布局时，默认采取组件安全区布局方案。</p> </div> <p>应用在默认情况下窗口背景绘制范围是全屏，但UI元素被限制在安全区内（自动排除状态栏和导航区域）进行布局，来避免界面元素被状态栏和导航区域遮盖。</p> <div class="fignone"><span class="figcap"><b>图4 </b>界面元素自动避让状态栏和导航区域示意图</span><br><span><img height="425.946465" originheight="1003" originwidth="1111" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114828.25535154633906037482085907385533:50001231000000:2800:1FEA5E393763907C820B0A0442DE80B1C4FA08D4E956D927968A50B617626A78.png" title="点击放大" width="471.81750000000005"></span></div> <p>针对状态栏和导航区域颜色与界面元素颜色不匹配问题，可以通过如下两种方式实现沉浸式效果：</p> <ul><li>状态栏和导航区域颜色相同场景，可以通过设置窗口的背景色来实现沉浸式效果。窗口背景色可通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowbackgroundcolor9" target="_blank">setWindowBackgroundColor()</a>进行设置。<div _ngcontent-dru-c106="" class="highlight-div"><div _ngcontent-dru-c106="" class="highlight-div-header"><div _ngcontent-dru-c106="" class="highlight-div-header-left"><div _ngcontent-dru-c106="" class="handle-button expand-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dru-c106="" class="highlight-div-header-right"><div _ngcontent-dru-c106="" class="handle-button ai-button"></div><div _ngcontent-dru-c106="" class="handle-button line-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dru-c106="" class="handle-button theme-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dru-c106="" class="handle-button copy-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dru-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityConstant</span>, <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">//...</span></li><li>
</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-keyword">void</span> {</li><li>    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>
</li><li>      <span class="hljs-comment">// 设置全窗颜色和应用元素颜色一致</span></li><li>      windowStage.<span class="hljs-title function_">getMainWindowSync</span>().<span class="hljs-title function_">setWindowBackgroundColor</span>(<span class="hljs-string">'#d5d5d5'</span>);</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div> <p>界面状态栏和导航区域颜色相同场景。</p> <div _ngcontent-dru-c106="" class="highlight-div"><div _ngcontent-dru-c106="" class="highlight-div-header"><div _ngcontent-dru-c106="" class="highlight-div-header-left"><div _ngcontent-dru-c106="" class="handle-button expand-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dru-c106="" class="highlight-div-header-right"><div _ngcontent-dru-c106="" class="handle-button ai-button"></div><div _ngcontent-dru-c106="" class="handle-button line-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dru-c106="" class="handle-button theme-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dru-c106="" class="handle-button copy-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dru-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">@Entry</span></li><li><span class="hljs-keyword">@Component</span></li><li>struct Example {</li><li>  <span class="hljs-built_in">build</span>() {</li><li>    <span class="hljs-built_in">Column</span>() {</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        Text('Top Content')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">40</span>)<span class="hljs-selector-class">.textAlign</span>(TextAlign.Center)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">100%</span>')</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>('#<span class="hljs-number">2786</span>d9')</li><li>
</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        Text('Display Content <span class="hljs-number">2</span>')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">30</span>)</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>(Color.White)<span class="hljs-selector-class">.padding</span>(<span class="hljs-number">20</span>)<span class="hljs-selector-class">.borderRadius</span>(<span class="hljs-number">15</span>)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">80%</span>')</li><li>
</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        Text('Display Content <span class="hljs-number">3</span>')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">30</span>)</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>(Color.White)<span class="hljs-selector-class">.padding</span>(<span class="hljs-number">20</span>)<span class="hljs-selector-class">.borderRadius</span>(<span class="hljs-number">15</span>)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">80%</span>')</li><li>
</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        Text('Display Content <span class="hljs-number">4</span>')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">30</span>)</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>(Color.White)<span class="hljs-selector-class">.padding</span>(<span class="hljs-number">20</span>)<span class="hljs-selector-class">.borderRadius</span>(<span class="hljs-number">15</span>)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">80%</span>')</li><li>
</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        Text('Display Content <span class="hljs-number">5</span>')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">30</span>)</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>(Color.White)<span class="hljs-selector-class">.padding</span>(<span class="hljs-number">20</span>)<span class="hljs-selector-class">.borderRadius</span>(<span class="hljs-number">15</span>)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">80%</span>')</li><li>
</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        Text('Bottom Content')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">40</span>)<span class="hljs-selector-class">.textAlign</span>(TextAlign.Center)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">100%</span>')</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>('#<span class="hljs-number">96</span>dffa')</li><li>    }</li><li>    <span class="hljs-selector-class">.width</span>('<span class="hljs-number">100%</span>')<span class="hljs-selector-class">.height</span>('<span class="hljs-number">100%</span>')</li><li>    <span class="hljs-selector-class">.alignItems</span>(HorizontalAlign.Center)</li><li>    <span class="hljs-selector-class">.backgroundColor</span>('#d5d5d5')</li><li>    <span class="hljs-selector-class">.justifyContent</span>(FlexAlign.SpaceBetween)</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="643" originwidth="294" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114828.97180667438935216147115487014207:50001231000000:2800:4239DE8849C302B670C8445C2068719AB7DA8D798F5E6B628284A5EE493120D3.png" class="notEnlarge" width="294" height="643"></span></p> </li><li>状态栏和导航区域颜色不同时，可以使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-expand-safe-area#expandsafearea" target="_blank">expandSafeArea</a>属性扩展安全区域属性进行调整。<div _ngcontent-dru-c106="" class="highlight-div"><div _ngcontent-dru-c106="" class="highlight-div-header"><div _ngcontent-dru-c106="" class="highlight-div-header-left"><div _ngcontent-dru-c106="" class="handle-button expand-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dru-c106="" class="highlight-div-header-right"><div _ngcontent-dru-c106="" class="handle-button ai-button"></div><div _ngcontent-dru-c106="" class="handle-button line-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dru-c106="" class="handle-button theme-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dru-c106="" class="handle-button copy-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dru-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">@Entry</span></li><li><span class="hljs-keyword">@Component</span></li><li>struct Example {</li><li>  <span class="hljs-built_in">build</span>() {</li><li>    <span class="hljs-built_in">Column</span>() {</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        Text('Top Content')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">40</span>)<span class="hljs-selector-class">.textAlign</span>(TextAlign.Center)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">100%</span>')</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>('#<span class="hljs-number">2786</span>d9')</li><li>      <span class="hljs-comment">// 设置顶部绘制延伸到状态栏</span></li><li>      <span class="hljs-selector-class">.expandSafeArea</span>([SafeAreaType.SYSTEM], [SafeAreaEdge.TOP])</li><li>
</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        Text('Display Content <span class="hljs-number">2</span>')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">30</span>)</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>(Color.White)<span class="hljs-selector-class">.padding</span>(<span class="hljs-number">20</span>)<span class="hljs-selector-class">.borderRadius</span>(<span class="hljs-number">15</span>)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">80%</span>')</li><li>
</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        Text('Display Content <span class="hljs-number">3</span>')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">30</span>)</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>(Color.White)<span class="hljs-selector-class">.padding</span>(<span class="hljs-number">20</span>)<span class="hljs-selector-class">.borderRadius</span>(<span class="hljs-number">15</span>)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">80%</span>')</li><li>
</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        Text('Display Content <span class="hljs-number">4</span>')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">30</span>)</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>(Color.White)<span class="hljs-selector-class">.padding</span>(<span class="hljs-number">20</span>)<span class="hljs-selector-class">.borderRadius</span>(<span class="hljs-number">15</span>)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">80%</span>')</li><li>
</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        Text('Display Content <span class="hljs-number">5</span>')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">30</span>)</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>(Color.White)<span class="hljs-selector-class">.padding</span>(<span class="hljs-number">20</span>)<span class="hljs-selector-class">.borderRadius</span>(<span class="hljs-number">15</span>)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">80%</span>')</li><li>
</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        Text('Bottom Content')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">40</span>)<span class="hljs-selector-class">.textAlign</span>(TextAlign.Center)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">100%</span>')</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>('#<span class="hljs-number">96</span>dffa')</li><li>      <span class="hljs-comment">// 设置底部绘制延伸到导航区域</span></li><li>      <span class="hljs-selector-class">.expandSafeArea</span>([SafeAreaType.SYSTEM], [SafeAreaEdge.BOTTOM])</li><li>    }</li><li>    <span class="hljs-selector-class">.width</span>('<span class="hljs-number">100%</span>')<span class="hljs-selector-class">.height</span>('<span class="hljs-number">100%</span>')</li><li>    <span class="hljs-selector-class">.alignItems</span>(HorizontalAlign.Center)</li><li>    <span class="hljs-selector-class">.backgroundColor</span>('#d5d5d5')</li><li>    <span class="hljs-selector-class">.justifyContent</span>(FlexAlign.SpaceBetween)</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="644" originwidth="297" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114829.12136455252598491344479183741644:50001231000000:2800:05F84BDEDC434BD752407733F1A025537DBB935261A403FCA45F446707B94900.png" class="notEnlarge" width="297" height="644"></span></p> </li></ul> <div class="tiledSection"><h3 id="section89942014473" class="firsth2">扩展安全区域属性原理<i class="anchor-icon anchor-icon-link" anchorid="section89942014473" tips="复制节点链接"></i></h3><ul><li>布局阶段按照安全区范围大小进行UI元素布局。</li><li>布局完成后查看设置了expandSafeArea的组件边界（不包括margin）是否和安全区边界相交。</li><li>如果设置了expandSafeArea的组件和安全区边界相交，根据expandSafeArea传递的属性则进一步扩大组件绘制区域大小覆盖状态栏、导航区域这些非安全区域。</li><li>上述过程仅改变组件自身绘制大小，不进行二次布局，不影响子节点和兄弟节点的大小和位置。</li><li>子节点可以单独设置该属性，只需要自身边界和安全区域重合就可以延伸自身大小至非安全区域内，需要确保父组件未设置clip等裁切属性。</li><li>配置expandSafeArea属性组件进行绘制扩展时，需要关注组件不能配置固定宽高尺寸，百分比除外。</li><li>组件可以设置通用属性safeAreaPadding，给自身添加组件级安全区域。该属性作为一种特殊边距，在提供布局约束的同时作为安全区可以被一些系统组件利用。<ul><li>safeAreaPadding位于原有的padding内侧。容器自外向内各层分别为border、padding、safeAreaPadding、内容区。当border和padding确定后，若容器可用空间不足以满足safeAreaPadding的设置，则优先分配给左侧和上侧safeAreaPadding、其次分配给右侧和下侧safeAreaPadding。safeAreaPadding实际尺寸确定后，余下空间为内容区。<p><span><img height="287.265104" originheight="577" originwidth="762" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114829.59245853481469292974072433242208:50001231000000:2800:5447CAFCF77CE9AB1A1C68E451E8EB38775A12BDCF85870979885202F134BDC6.png" title="点击放大" width="377.055"></span></p> </li><li>系统组件如Navigation、List、Scroll、Tabs等可以利用外层或容器自身safeAreaPadding实现扩大裁剪范围等能力。</li></ul> </li></ul> </div> <div class="tiledSection"><h3 id="section162965215413">背景图和视频场景<i class="anchor-icon anchor-icon-link" anchorid="section162965215413" tips="复制节点链接"></i></h3><p>设置背景图、视频组件大小为安全区域大小并配置expandSafeArea属性。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>Video组件在使用expandSafeArea扩展到安全区域时，组件视频显示内容区域不支持扩展。</p> </div></div></div> <div _ngcontent-dru-c106="" class="highlight-div"><div _ngcontent-dru-c106="" class="highlight-div-header"><div _ngcontent-dru-c106="" class="highlight-div-header-left"><div _ngcontent-dru-c106="" class="handle-button expand-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dru-c106="" class="highlight-div-header-right"><div _ngcontent-dru-c106="" class="handle-button ai-button"></div><div _ngcontent-dru-c106="" class="handle-button line-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dru-c106="" class="handle-button theme-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dru-c106="" class="handle-button copy-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dru-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-less" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-variable">@Entry</span></li><li><span class="hljs-variable">@Component</span></li><li>struct SafeAreaExample1 {</li><li>  <span class="hljs-selector-tag">build</span>() {</li><li>    <span class="hljs-selector-tag">Stack</span>() {</li><li>      <span class="hljs-selector-tag">Image</span>($<span class="hljs-built_in">r</span>(<span class="hljs-string">'app.media.bg'</span>))</li><li>        <span class="hljs-selector-class">.height</span>(<span class="hljs-string">'100%'</span>)<span class="hljs-selector-class">.width</span>(<span class="hljs-string">'100%'</span>)</li><li>        <span class="hljs-selector-class">.expandSafeArea</span>([SafeAreaType.SYSTEM], [SafeAreaEdge.TOP, SafeAreaEdge.BOTTOM]) <span class="hljs-comment">// 图片组件的绘制区域扩展至状态栏和导航区域。</span></li><li>    }<span class="hljs-selector-class">.height</span>(<span class="hljs-string">'100%'</span>)<span class="hljs-selector-class">.width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img height="363.5289" originheight="512" originwidth="288" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114829.77348765451050569549554862119881:50001231000000:2800:ABB35E661AA2D972EC6ACA0682BED1FD40491BB06207E4D0B5505EA1E9D5CADB.png" width="204.4875" class="notEnlarge"></span></p> </div> <div class="tiledSection"><h3 id="section1066814348552">滚动类场景<i class="anchor-icon anchor-icon-link" anchorid="section1066814348552" tips="复制节点链接"></i></h3><p>滚动容器设置expandSafeArea属性生效，但当父组件是滚动容器时，子组件设置expandSafeArea属性不生效。对于滚动容器的子组件，有两种方法实现沉浸式效果：</p> <ol><li>设置父组件滚动容器和子组件相同的背景色，给父组件设置expandSafeArea属性扩展安全区。<div _ngcontent-dru-c106="" class="highlight-div"><div _ngcontent-dru-c106="" class="highlight-div-header"><div _ngcontent-dru-c106="" class="highlight-div-header-left"><div _ngcontent-dru-c106="" class="handle-button expand-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dru-c106="" class="highlight-div-header-right"><div _ngcontent-dru-c106="" class="handle-button ai-button"></div><div _ngcontent-dru-c106="" class="handle-button line-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dru-c106="" class="handle-button theme-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dru-c106="" class="handle-button copy-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dru-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-less" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-variable">@Entry</span></li><li><span class="hljs-variable">@Component</span></li><li>struct ScrollExample {</li><li>  scroller: Scroller = new Scroller()</li><li>  private arr: number[] = [1, 2, 3, 4, 5, 6, 7, 8, 9]</li><li>
</li><li>  build() {</li><li>    Stack({ alignContent: Alignment.TopStart }) {</li><li>      <span class="hljs-selector-tag">Scroll</span>(this.scroller) {</li><li>        <span class="hljs-selector-tag">Column</span>() {</li><li>          <span class="hljs-selector-tag">ForEach</span>(this.arr, (<span class="hljs-attribute">item</span>: number) =&gt; {</li><li>            <span class="hljs-selector-tag">Stack</span>() {</li><li>              <span class="hljs-selector-tag">Text</span>(<span class="hljs-string">'Display Content '</span> + item.<span class="hljs-built_in">toString</span>())<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">30</span>)</li><li>            }</li><li>            <span class="hljs-selector-class">.width</span>(<span class="hljs-string">'80%'</span>)<span class="hljs-selector-class">.padding</span>(<span class="hljs-number">20</span>)<span class="hljs-selector-class">.borderRadius</span>(<span class="hljs-number">15</span>)<span class="hljs-selector-class">.backgroundColor</span>(Color.White)<span class="hljs-selector-class">.margin</span>({ <span class="hljs-attribute">top</span>:<span class="hljs-number">30</span>, <span class="hljs-attribute">bottom</span>:<span class="hljs-number">30</span> })</li><li>          }, (<span class="hljs-attribute">item</span>: string) =&gt; item)</li><li>        }<span class="hljs-selector-class">.width</span>(<span class="hljs-string">'100%'</span>)<span class="hljs-selector-class">.backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>      <span class="hljs-selector-class">.expandSafeArea</span>([SafeAreaType.SYSTEM], [SafeAreaEdge.TOP, SafeAreaEdge.BOTTOM])</li><li>    }<span class="hljs-selector-class">.width</span>(<span class="hljs-string">'100%'</span>)<span class="hljs-selector-class">.height</span>(<span class="hljs-string">'100%'</span>)</li><li>    <span class="hljs-selector-class">.expandSafeArea</span>([SafeAreaType.SYSTEM], [SafeAreaEdge.TOP, SafeAreaEdge.BOTTOM])</li><li>  }</li><li>}</li></ol></pre></div></div> <div class="fignone"><span class="figcap"><b>图5 </b>滚动类容器设置expandSafeArea属性实现沉浸式效果</span><br><span><img originheight="716" originwidth="325" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114829.84765744535396941915456218460085:50001231000000:2800:B8AB72CA94E7D577C01CE92EF7E4B5D9BACB5EB13FC5869192324023A1D5E937.png" width="325" height="716"></span></div> </li><li>设置父组件滚动容器和子组件相同的背景色，设置滚动容器的内容裁剪属性clipContent(ContentClipMode.SAFE_AREA)，将内容层裁剪区域扩展至避让区。<div _ngcontent-dru-c106="" class="highlight-div"><div _ngcontent-dru-c106="" class="highlight-div-header"><div _ngcontent-dru-c106="" class="highlight-div-header-left"><div _ngcontent-dru-c106="" class="handle-button expand-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dru-c106="" class="highlight-div-header-right"><div _ngcontent-dru-c106="" class="handle-button ai-button"></div><div _ngcontent-dru-c106="" class="handle-button line-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dru-c106="" class="handle-button theme-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dru-c106="" class="handle-button copy-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dru-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-less" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-variable">@Entry</span></li><li><span class="hljs-variable">@Component</span></li><li>struct ScrollExample {</li><li>  scroller: Scroller = new Scroller()</li><li>  private arr: number[] = [1, 2, 3, 4, 5, 6, 7, 8, 9]</li><li>
</li><li>  build() {</li><li>    Stack({ alignContent: Alignment.TopStart }) {</li><li>      <span class="hljs-selector-tag">Scroll</span>(this.scroller) {</li><li>        <span class="hljs-selector-tag">Column</span>() {</li><li>          <span class="hljs-selector-tag">ForEach</span>(this.arr, (<span class="hljs-attribute">item</span>: number) =&gt; {</li><li>            <span class="hljs-selector-tag">Stack</span>() {</li><li>              <span class="hljs-selector-tag">Text</span>(<span class="hljs-string">'Display Content '</span> + item.<span class="hljs-built_in">toString</span>())<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">30</span>)</li><li>            }</li><li>            <span class="hljs-selector-class">.width</span>(<span class="hljs-string">'80%'</span>)<span class="hljs-selector-class">.padding</span>(<span class="hljs-number">20</span>)<span class="hljs-selector-class">.borderRadius</span>(<span class="hljs-number">15</span>)<span class="hljs-selector-class">.backgroundColor</span>(Color.White)<span class="hljs-selector-class">.margin</span>({ <span class="hljs-attribute">top</span>:<span class="hljs-number">30</span>, <span class="hljs-attribute">bottom</span>:<span class="hljs-number">30</span> })</li><li>          }, (<span class="hljs-attribute">item</span>: string) =&gt; item)</li><li>        }<span class="hljs-selector-class">.width</span>(<span class="hljs-string">'100%'</span>)<span class="hljs-selector-class">.backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>      <span class="hljs-selector-class">.clipContent</span>(ContentClipMode.SAFE_AREA)</li><li>    }<span class="hljs-selector-class">.width</span>(<span class="hljs-string">'100%'</span>)<span class="hljs-selector-class">.height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> </li></ol> </div> <div class="fignone"><span class="figcap"><b>图6 </b>滚动类容器设置clipContent属性实现沉浸式效果</span><br><span><img height="609.752731" originheight="720" originwidth="1020" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114829.48953446229995144253295002074057:50001231000000:2800:4449AF8C302A777D34039BE457A357D2E9E333E9BCE41D7CD6DA54D0C8C26646.png" title="点击放大" width="863.835"></span></div> <div class="tiledSection"><h3 id="section15107174585619">底部页签场景<i class="anchor-icon anchor-icon-link" anchorid="section15107174585619" tips="复制节点链接"></i></h3><p>要求页签背景色能够延伸到导航区域（此处以导航区域表现为导航条为例给出示意），但页签内部可操作元素需要在导航区域之上。</p> <p><span><img height="381.872925" originheight="631" originwidth="895" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114829.91513552213875351490636095880956:50001231000000:2800:2D8210AB211E49F6D351AE7B8012B6B9374AE3A77113484506913AD49550BAD7.png" title="点击放大" width="541.6425"></span></p> <p>针对底部的页签部分，Navigation组件和Tabs组件默认实现了页签的延伸处理，开发者只需要保证Navigation和Tabs组件的底部边界和底部导航区域重合即可。若开发者显式调用expandSafeArea接口，则安全区效果由expandSafeArea参数指定。</p> <p>如果未使用上述组件而是采用自定义方式实现页签的场景，可以针对底部元素设置expandSafeArea属性实现底部元素的背景扩展。</p> <div class="fignone"><span class="figcap"><b>图7 </b>顶部和底部UI元素未设置和设置expandSafeArea属性效果对比</span></div> <p><span><img originheight="644" originwidth="617" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114829.85505430403223796379427991489054:50001231000000:2800:58367D4576AB6CAC10FDDCFA8FE1F5CC0F8EAF1D70DB810B4CCFCBBCB09FFDE1.png" width="617" height="644"></span></p> <div _ngcontent-dru-c106="" class="highlight-div"><div _ngcontent-dru-c106="" class="highlight-div-header"><div _ngcontent-dru-c106="" class="highlight-div-header-left"><div _ngcontent-dru-c106="" class="handle-button expand-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dru-c106="" class="highlight-div-header-right"><div _ngcontent-dru-c106="" class="handle-button ai-button"></div><div _ngcontent-dru-c106="" class="handle-button line-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dru-c106="" class="handle-button theme-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dru-c106="" class="handle-button copy-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dru-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">@Entry</span></li><li><span class="hljs-keyword">@Component</span></li><li>struct Example {</li><li>  <span class="hljs-built_in">build</span>() {</li><li>    <span class="hljs-built_in">Column</span>() {</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        Text('Top Content')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">40</span>)<span class="hljs-selector-class">.textAlign</span>(TextAlign.Center)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">100%</span>')</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>('#<span class="hljs-number">2786</span>d9')</li><li>      <span class="hljs-comment">// 设置顶部绘制延伸到状态栏</span></li><li>      <span class="hljs-selector-class">.expandSafeArea</span>([SafeAreaType.SYSTEM], [SafeAreaEdge.TOP])</li><li>
</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        Text('Display Content <span class="hljs-number">2</span>')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">30</span>)</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>(Color.White)<span class="hljs-selector-class">.padding</span>(<span class="hljs-number">20</span>)<span class="hljs-selector-class">.borderRadius</span>(<span class="hljs-number">15</span>)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">80%</span>')</li><li>
</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        Text('Display Content <span class="hljs-number">3</span>')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">30</span>)</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>(Color.White)<span class="hljs-selector-class">.padding</span>(<span class="hljs-number">20</span>)<span class="hljs-selector-class">.borderRadius</span>(<span class="hljs-number">15</span>)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">80%</span>')</li><li>
</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        Text('Display Content <span class="hljs-number">4</span>')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">30</span>)</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>(Color.White)<span class="hljs-selector-class">.padding</span>(<span class="hljs-number">20</span>)<span class="hljs-selector-class">.borderRadius</span>(<span class="hljs-number">15</span>)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">80%</span>')</li><li>
</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        Text('Display Content <span class="hljs-number">5</span>')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">30</span>)</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>(Color.White)<span class="hljs-selector-class">.padding</span>(<span class="hljs-number">20</span>)<span class="hljs-selector-class">.borderRadius</span>(<span class="hljs-number">15</span>)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">80%</span>')</li><li>
</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        Text('Bottom Content')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">40</span>)<span class="hljs-selector-class">.textAlign</span>(TextAlign.Center)<span class="hljs-selector-class">.width</span>('<span class="hljs-number">100%</span>')</li><li>      }<span class="hljs-selector-class">.backgroundColor</span>('#<span class="hljs-number">96</span>dffa')</li><li>      <span class="hljs-comment">// 设置底部绘制延伸到导航区域</span></li><li>      <span class="hljs-selector-class">.expandSafeArea</span>([SafeAreaType.SYSTEM], [SafeAreaEdge.BOTTOM])</li><li>    }</li><li>    <span class="hljs-selector-class">.width</span>('<span class="hljs-number">100%</span>')<span class="hljs-selector-class">.height</span>('<span class="hljs-number">100%</span>')</li><li>    <span class="hljs-selector-class">.alignItems</span>(HorizontalAlign.Center)</li><li>    <span class="hljs-selector-class">.backgroundColor</span>('#d5d5d5')</li><li>    <span class="hljs-selector-class">.justifyContent</span>(FlexAlign.SpaceBetween)</li><li>  }</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section1480524185716">图文场景<i class="anchor-icon anchor-icon-link" anchorid="section1480524185716" tips="复制节点链接"></i></h3><p>当状态栏元素和底部导航区域元素不同时，无法单纯通过窗口背景色或者背景图组件延伸实现，此时需要对顶部元素和底部元素分别配置expandSafeArea属性，顶部元素配置expandSafeArea([SafeAreaType.SYSTEM],[SafeAreaEdge.TOP])，底部元素配置expandSafeArea([SafeAreaType.SYSTEM],[SafeAreaEdge.BOTTOM])。</p> <p><span><img height="575.387925" originheight="1019" originwidth="507" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114829.00133728712828681000894482427365:50001231000000:2800:4897211093AB6A15541B0988C85340CBFB83BB82641B924CA62BB840CE664783.png" title="点击放大" width="286.2825"></span></p> <div _ngcontent-dru-c106="" class="highlight-div"><div _ngcontent-dru-c106="" class="highlight-div-header"><div _ngcontent-dru-c106="" class="highlight-div-header-left"><div _ngcontent-dru-c106="" class="handle-button expand-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dru-c106="" class="highlight-div-header-right"><div _ngcontent-dru-c106="" class="handle-button ai-button"></div><div _ngcontent-dru-c106="" class="handle-button line-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dru-c106="" class="handle-button theme-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dru-c106="" class="handle-button copy-button"><div _ngcontent-dru-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dru-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">@Entry</span></li><li><span class="hljs-keyword">@Component</span></li><li>struct Index {</li><li>  <span class="hljs-built_in">build</span>() {</li><li>    <span class="hljs-built_in">Swiper</span>() {</li><li>      <span class="hljs-built_in">Column</span>() {</li><li>        <span class="hljs-built_in">Image</span>($r('app.media.start'))</li><li>          <span class="hljs-selector-class">.height</span>('<span class="hljs-number">50%</span>')<span class="hljs-selector-class">.width</span>('<span class="hljs-number">100%</span>')</li><li>          <span class="hljs-comment">// 设置图片延伸到状态栏</span></li><li>          <span class="hljs-selector-class">.expandSafeArea</span>([SafeAreaType.SYSTEM], [SafeAreaEdge.TOP])</li><li>        <span class="hljs-built_in">Column</span>() {</li><li>          Text('HarmonyOS 第一课')</li><li>            <span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">32</span>)</li><li>            <span class="hljs-selector-class">.margin</span>(<span class="hljs-number">30</span>)</li><li>          Text('通过循序渐进的学习路径，无经验和有经验的开发者都可以掌握ArkTS语言声明式开发范式，体验更简洁、更友好的HarmonyOS应用开发旅程。')</li><li>            <span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">20</span>)<span class="hljs-selector-class">.margin</span>(<span class="hljs-number">20</span>)</li><li>        }<span class="hljs-selector-class">.height</span>('<span class="hljs-number">50%</span>')<span class="hljs-selector-class">.width</span>('<span class="hljs-number">100%</span>')</li><li>        <span class="hljs-selector-class">.backgroundColor</span>(Color.White)</li><li>        <span class="hljs-comment">// 设置文本内容区背景延伸到导航栏</span></li><li>        <span class="hljs-selector-class">.expandSafeArea</span>([SafeAreaType.SYSTEM], [SafeAreaEdge.BOTTOM])</li><li>      }</li><li>    }</li><li>    <span class="hljs-selector-class">.width</span>('<span class="hljs-number">100%</span>')</li><li>    <span class="hljs-selector-class">.height</span>('<span class="hljs-number">100%</span>')</li><li>    <span class="hljs-comment">// 关闭Swiper组件默认的裁切效果以便子节点可以绘制在Swiper外。</span></li><li>    <span class="hljs-selector-class">.clip</span>(false)</li><li>  }</li><li>}</li></ol></pre></div></div> </div> </div> <div></div></div>