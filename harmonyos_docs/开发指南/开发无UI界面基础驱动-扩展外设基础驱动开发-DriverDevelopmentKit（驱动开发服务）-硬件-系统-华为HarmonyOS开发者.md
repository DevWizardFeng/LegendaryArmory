<h1 _ngcontent-uqm-c119="" class="doc-title ng-star-inserted" title="开发无UI界面基础驱动"> 开发无UI界面基础驱动 </h1>

<div _ngcontent-uqm-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="场景介绍">场景介绍<i class="anchor-icon anchor-icon-link" anchorid="场景介绍" tips="复制节点链接"></i></h2>          <p>无UI界面的基础驱动，适用于不需要通过UI界面设置驱动能力的简单设备，例如鼠标，键盘等，保证设备的即插即用功能即可。开发者可以通过DriverExtensionAbility实现此类应用的开发。</p>    </div>    <div class="tiledSection">     <h2 id="基本概念">基本概念<i class="anchor-icon anchor-icon-link" anchorid="基本概念" tips="复制节点链接"></i></h2>          <ul>      <li>       <p>DriverExtensionAbility</p>       <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-driverextensionability" target="_blank">DriverExtensionAbility</a>是Driver类型的ExtensionAbility组件，提供驱动相关扩展框架能力。对于部分设备，支持插入外接的硬件模块来扩展设备能力， 此时可以以应用方式安装该硬件模块的驱动程序。<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-driverextensionability" target="_blank">DriverExtensionAbility</a>可以通过DriverExtensionManager被应用绑定，并根据应用的请求信息在后台处理相关事务。</p>       <p>每个类型的ExtensionAbility都有自己的Context，DriverExtensionAbility通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-driverextensioncontext" target="_blank">DriverExtensionContext</a>提供相关能力。</p></li>     </ul>    </div>    <div class="tiledSection">     <h2 id="环境搭建">环境搭建<i class="anchor-icon anchor-icon-link" anchorid="环境搭建" tips="复制节点链接"></i></h2>          <p>请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/environmental-preparation">环境准备</a>完成开发前的准备工作。</p>    </div>    <div class="tiledSection">     <h2 id="开发步骤">开发步骤<i class="anchor-icon anchor-icon-link" anchorid="开发步骤" tips="复制节点链接"></i></h2>          <p>开发者在实现一个驱动时，需要在DevEco Studio工程中手动新建一个DriverExtensionAbility，具体步骤如下：</p>     <ol>      <li>       <p>创建新工程，请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-create-new-project" target="_blank">创建一个新的工程</a>，创建一个HarmonyOS工程。（如果在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/externaldevice-guidelines">开发带UI界面基础驱动</a>已经创建，则此处不需要创建。）</p></li>      <li>       <p>在新创建的工程对应的ets目录下，右键选择“New &gt; Directory”，新建一个目录并命名为driverextability。</p></li>      <li>       <p>在driverextability目录，右键选择“New &gt; ArkTS File”，新建一个文件并命名为DriverExtAbility.ets。</p></li>      <li>       <p>在文件中导入相关Kit，并定义请求Code。</p>       <div _ngcontent-uqm-c106="" class="highlight-div"><div _ngcontent-uqm-c106="" class="highlight-div-header"><div _ngcontent-uqm-c106="" class="highlight-div-header-left"><div _ngcontent-uqm-c106="" class="handle-button expand-button"><div _ngcontent-uqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uqm-c106="" class="highlight-div-header-right"><div _ngcontent-uqm-c106="" class="handle-button ai-button"></div><div _ngcontent-uqm-c106="" class="handle-button line-button"><div _ngcontent-uqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uqm-c106="" class="handle-button theme-button"><div _ngcontent-uqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uqm-c106="" class="handle-button copy-button"><div _ngcontent-uqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">DriverExtensionAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.DriverDevelopmentKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { rpc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IPCKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">REQUEST_CODE</span> = <span class="hljs-number">99</span>; <span class="hljs-comment">// 与扩展外设客户端约定请求码。</span></li></ol></pre></div></div></li>      <li>       <p>打开DriverExtAbility.ets文件，导入<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-rpc" target="_blank">RPC通信模块</a>，重载onRemoteMessageRequest()方法，接收应用传递过来的消息，并将处理的结果返回给应用。REQUEST_CODE用于校验应用发送的服务请求码。</p>       <div _ngcontent-uqm-c106="" class="highlight-div"><div _ngcontent-uqm-c106="" class="highlight-div-header"><div _ngcontent-uqm-c106="" class="highlight-div-header-left"><div _ngcontent-uqm-c106="" class="handle-button expand-button"><div _ngcontent-uqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uqm-c106="" class="highlight-div-header-right"><div _ngcontent-uqm-c106="" class="handle-button ai-button"></div><div _ngcontent-uqm-c106="" class="handle-button line-button"><div _ngcontent-uqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uqm-c106="" class="handle-button theme-button"><div _ngcontent-uqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uqm-c106="" class="handle-button copy-button"><div _ngcontent-uqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">StubTest</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">rpc.RemoteObject</span> {</li><li>  <span class="hljs-comment">// 接收应用传递过来的消息处理，以及将处理的结果返回给客户端。</span></li><li>  <span class="hljs-title function_">onRemoteMessageRequest</span>(<span class="hljs-params">code: <span class="hljs-built_in">number</span>, data: rpc.MessageSequence, reply: rpc.MessageSequence,</span></li><li><span class="hljs-params">    option: rpc.MessageOption</span>) {</li><li>    <span class="hljs-keyword">if</span> (code === <span class="hljs-variable constant_">REQUEST_CODE</span>) {</li><li>      <span class="hljs-comment">// 接收应用传递过来的数据。</span></li><li>      <span class="hljs-comment">// 应用使用多次调用data.writeString()写入多个数据时，驱动可以通过多次调用data.readString()方法接收对应的数据。</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">optFir</span>: <span class="hljs-built_in">string</span> = data.<span class="hljs-title function_">readString</span>();</li><li>      <span class="hljs-comment">// 驱动将数据的处理结果返回给应用。</span></li><li>      <span class="hljs-comment">// 示例中为接收了"Hello"，并将"Hello World"返回给应用。</span></li><li>      reply.<span class="hljs-title function_">writeString</span>(optFir + <span class="hljs-string">` World`</span>);</li><li>    }</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li></ol></pre></div></div></li>      <li>       <p>在DriverExtAbility.ets文件中，增加导入<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-driverextensionability" target="_blank">DriverExtensionAbility</a>的依赖包，该包提供了onInit()、onRelease()、onConnect()和onDisconnect()生命周期回调，自定义类继承<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-driverextensionability" target="_blank">DriverExtensionAbility</a>并根据需要重写需要的生命周期回调。</p>       <div _ngcontent-uqm-c106="" class="highlight-div"><div _ngcontent-uqm-c106="" class="highlight-div-header"><div _ngcontent-uqm-c106="" class="highlight-div-header-left"><div _ngcontent-uqm-c106="" class="handle-button expand-button"><div _ngcontent-uqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uqm-c106="" class="highlight-div-header-right"><div _ngcontent-uqm-c106="" class="handle-button ai-button"></div><div _ngcontent-uqm-c106="" class="handle-button line-button"><div _ngcontent-uqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uqm-c106="" class="handle-button theme-button"><div _ngcontent-uqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uqm-c106="" class="handle-button copy-button"><div _ngcontent-uqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DriverExtAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">DriverExtensionAbility</span> {</li><li>  <span class="hljs-title function_">onInit</span>(<span class="hljs-params">want: Want</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'testTag'</span>, <span class="hljs-string">`onInit, want: <span class="hljs-subst">${want.abilityName}</span>`</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onRelease</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'testTag'</span>, <span class="hljs-string">`onRelease`</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onConnect</span>(<span class="hljs-params">want: Want</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'testTag'</span>, <span class="hljs-string">`onConnect, want: <span class="hljs-subst">${want.abilityName}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StubTest</span>(<span class="hljs-string">"test"</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onDisconnect</span>(<span class="hljs-params">want: Want</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'testTag'</span>, <span class="hljs-string">`onDisconnect, want: <span class="hljs-subst">${want.abilityName}</span>`</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onDump</span>(<span class="hljs-params">params: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'testTag'</span>, <span class="hljs-string">`onDump, params:`</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(params));</li><li>    <span class="hljs-keyword">return</span> [<span class="hljs-string">'params'</span>];</li><li>  }</li><li>}</li></ol></pre></div></div></li>      <li>       <p>在工程Module对应的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file">module.json5配置文件</a>中注册DriverExtensionAbility，type标签需要设置为“driver”，srcEntry标签表示当前ExtensionAbility组件所对应的代码路径。</p>       <div _ngcontent-uqm-c106="" class="highlight-div"><div _ngcontent-uqm-c106="" class="highlight-div-header"><div _ngcontent-uqm-c106="" class="highlight-div-header-left"><div _ngcontent-uqm-c106="" class="handle-button expand-button"><div _ngcontent-uqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uqm-c106="" class="highlight-div-header-right"><div _ngcontent-uqm-c106="" class="handle-button ai-button"></div><div _ngcontent-uqm-c106="" class="handle-button line-button"><div _ngcontent-uqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uqm-c106="" class="handle-button theme-button"><div _ngcontent-uqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uqm-c106="" class="handle-button copy-button"><div _ngcontent-uqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uqm-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" hw-language="json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span></li><li>  <span class="hljs-attr">"module"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"entry"</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"entry"</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$string:module_desc"</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"mainElement"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"EntryAbility"</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"deviceTypes"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>      <span class="hljs-string">"default"</span><span class="hljs-punctuation">,</span></li><li>      <span class="hljs-string">"tablet"</span></li><li>    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"requestPermissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>      <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ohos.permission.ACCESS_EXTENSIONAL_DEVICE_DRIVER"</span> <span class="hljs-comment">// 此处为扩展外设相关权限，必须配置。</span></li><li>      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>      <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ohos.permission.ACCESS_DDK_DRIVERS"</span> <span class="hljs-comment">// 此处为允许该扩展外设应用访问扩展外设驱动的权限，API version 18及以上版本，必须配置。</span></li><li>      <span class="hljs-punctuation">}</span></li><li>    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"deliveryWithInstall"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"installationFree"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"pages"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$profile:main_pages"</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"abilities"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>      <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"EntryAbility"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"srcEntry"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./ets/entryability/EntryAbility.ets"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$string:EntryAbility_desc"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"icon"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$media:startIcon"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"label"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$string:EntryAbility_label"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"startWindowIcon"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$media:startIcon"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"startWindowBackground"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$color:start_window_background"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"exported"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"skills"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>          <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"entities"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>              <span class="hljs-string">"entity.system.home"</span></li><li>            <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span></li><li>            <span class="hljs-attr">"actions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>              <span class="hljs-string">"ohos.want.action.home"</span></li><li>            <span class="hljs-punctuation">]</span></li><li>          <span class="hljs-punctuation">}</span></li><li>        <span class="hljs-punctuation">]</span></li><li>      <span class="hljs-punctuation">}</span></li><li>    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"extensionAbilities"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>      <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"DriverExtAbility"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"icon"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$media:startIcon"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"driver"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"driver"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"exported"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"srcEntry"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./ets/driverextability/DriverExtAbility.ets"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"metadata"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>          <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"bus"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 必填项，所属总线。</span></li><li>            <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"USB"</span></li><li>          <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>          <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"desc"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 选填项，必要的驱动描述。</span></li><li>            <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"the sample of driverExtensionAbility"</span></li><li>          <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>          <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vendor"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 选填项，驱动厂商名称。</span></li><li>            <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span></li><li>          <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>          <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vid"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 支持 USB vendor id 列表，填写16进制，此处为4817的16进制。</span></li><li>            <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0x12D1"</span></li><li>          <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>          <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pid"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 支持的 USB product id 列表，填写16进制，此处为4258的16进制。</span></li><li>            <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0x10A2"</span></li><li>          <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>          <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"launchOnBind"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 选填项，延迟拉起驱动。此处“true”表示延迟拉起，“false”表示即时拉起，配置错误或不配置，默认为“false”。</span></li><li>            <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"true"</span></li><li>          <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>          <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ohos.permission.ACCESS_DDK_ALLOWED"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 选填项，允许应用访问。此处“true”表示允许访问，“false”表示不允许访问，配置错误或不配置，默认为“false”。</span></li><li>            <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"true"</span></li><li>          <span class="hljs-punctuation">}</span></li><li>        <span class="hljs-punctuation">]</span></li><li>      <span class="hljs-punctuation">}</span></li><li>    <span class="hljs-punctuation">]</span></li><li>  <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div></li>      <li>       <p>完成客户端和驱动示例代码开发后，请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-run-device" target="_blank">使用本地真机运行应用/元服务</a>，将Hap导入设备中，并点击hap中的Hello，查看是否会转变为Hello world，即实现ipc通信功能。</p></li>     </ol>    </div>    <div class="tiledSection">     <h2 id="扩展设备能力">扩展设备能力<i class="anchor-icon anchor-icon-link" anchorid="扩展设备能力" tips="复制节点链接"></i></h2>          <p>扩展外设管理目前提供了HID DDK、USB DDK、USB Serical DDK和SCSI Peripheral DDK四种能力，用于扩展外设专项驱动的开发。具体使用方法，请参考：</p>     <ul>      <li><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/hid-ddk-guidelines">开发适用HID协议的设备驱动</a></li>      <li><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/usb-ddk-guidelines">开发适用USB协议的设备驱动</a></li>      <li><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/usb-serial-ddk-guidelines">开发适用串口协议的设备驱动</a></li>      <li><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scsi-peripheral-ddk-guidelines">开发使用SCSI协议的设备驱动</a></li>     </ul>    </div>    <div class="tiledSection">     <h2 id="应用签名">应用签名<i class="anchor-icon anchor-icon-link" anchorid="应用签名" tips="复制节点链接"></i></h2>          <p><strong>注意：</strong> 先配置权限，再自动签名。</p>     <p>应用需要配置签名文件才能在设备上运行，并且扩展外设管理客户端开发，需要配置扩展外设的权限：ohos.permission.ACCESS_EXTENSIONAL_DEVICE_DRIVER及ohos.permission.ACCESS_DDK_DRIVERS。</p>     <ul>      <li>       <p>ohos.permission.ACCESS_EXTENSIONAL_DEVICE_DRIVER</p>       <p>在module.json5配置文件的requestPermissions标签中<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/declare-permissions">声明权限</a>后，即可获得授权。</p></li>      <li>       <p>ohos.permission.ACCESS_DDK_DRIVERS</p>       <ol>        <li>在module.json5配置文件的requestPermissions标签中<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/declare-permissions" target="_blank">声明权限</a>。</li>        <li>HarmonyAppProvision配置文件中，修改acls字段，跨级别申请权限，可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/declare-permissions-in-acl" target="_blank">申请使用受限权限</a>。</li>        <li>在<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank">AGC网站</a>菜单“证书、APP ID和Profile”-&gt;“Profile”中申请profile文件时，申请权限选择受限权限“ohos.permission.ACCESS_DDK_DRIVERS”，在该权限的输入框内填写你客户端需要连接的服务端的bundleName，多个服务端的bundleName以逗号分隔。</li>       </ol></li>     </ul>     <p>完成权限配置后，可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-signing" target="_blank">自动签名</a>对应用进行签名。</p>    </div>   </div>   <div></div></div>