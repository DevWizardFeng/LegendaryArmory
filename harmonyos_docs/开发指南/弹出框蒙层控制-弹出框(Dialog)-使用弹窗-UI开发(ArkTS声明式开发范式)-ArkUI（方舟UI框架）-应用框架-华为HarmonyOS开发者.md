<h1 _ngcontent-drd-c119="" class="doc-title ng-star-inserted" title="弹出框蒙层控制"> 弹出框蒙层控制 </h1>

<div _ngcontent-drd-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>开发者对弹出框的定制不仅限于弹出框里的内容，对弹出框蒙层的定制需求也逐渐增加。本文介绍ArkUI弹出框的蒙层控制，包括点击蒙层时是否消失、蒙层区域、蒙层颜色和蒙层动画等特性。</p>    <div class="tiledSection">     <h2 id="使用约束">使用约束<i class="anchor-icon anchor-icon-link" anchorid="使用约束" tips="复制节点链接"></i></h2>          <p>ArkUI提供多种弹出框，不同类型的弹出框具备不同的蒙层定制能力。详情请参阅下表：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.2.3.1.6.1.1" valign="top" width="20%">接口&amp;组件</th>         <th align="left" class="cellrowborder" id="mcps1.3.2.3.1.6.1.2" valign="top" width="20%">autoCancel</th>         <th align="left" class="cellrowborder" id="mcps1.3.2.3.1.6.1.3" valign="top" width="20%">maskRect</th>         <th align="left" class="cellrowborder" id="mcps1.3.2.3.1.6.1.4" valign="top" width="20%">isModal</th>         <th align="left" class="cellrowborder" id="mcps1.3.2.3.1.6.1.5" valign="top" width="20%">immersiveMode</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-uicontext-custom-dialog">openCustomDialog</a></td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-promptaction#opencustomdialogwithcontroller18" target="_blank">openCustomDialogWithController</a></td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-promptaction#presentcustomdialog18" target="_blank">presentCustomDialog</a></td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-promptaction#updatecustomdialog12" target="_blank">updateCustomDialog</a></td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">不支持</td>         <td class="cellrowborder" valign="top" width="20%">不支持</td>         <td class="cellrowborder" valign="top" width="20%">不支持</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-common-components-custom-dialog">CustomDialog</a></td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-promptaction#showdialog" target="_blank">showDialog</a></td>         <td class="cellrowborder" valign="top" width="20%">不支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#showalertdialog" target="_blank">showAlertDialog</a></td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#showactionsheet" target="_blank">showActionSheet</a></td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-promptaction#showactionmenu11" target="_blank">showActionMenu</a></td>         <td class="cellrowborder" valign="top" width="20%">不支持</td>         <td class="cellrowborder" valign="top" width="20%">不支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#showdatepickerdialog" target="_blank">showDatePickerDialog</a></td>         <td class="cellrowborder" valign="top" width="20%">不支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">不支持</td>         <td class="cellrowborder" valign="top" width="20%">不支持</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-methods-calendarpicker-dialog" target="_blank">CalendarPickerDialog</a></td>         <td class="cellrowborder" valign="top" width="20%">不支持</td>         <td class="cellrowborder" valign="top" width="20%">不支持</td>         <td class="cellrowborder" valign="top" width="20%">不支持</td>         <td class="cellrowborder" valign="top" width="20%">不支持</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#showtimepickerdialog" target="_blank">showTimePickerDialog</a></td>         <td class="cellrowborder" valign="top" width="20%">不支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">不支持</td>         <td class="cellrowborder" valign="top" width="20%">不支持</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#showtextpickerdialog" target="_blank">showTextPickerDialog</a></td>         <td class="cellrowborder" valign="top" width="20%">不支持</td>         <td class="cellrowborder" valign="top" width="20%">支持</td>         <td class="cellrowborder" valign="top" width="20%">不支持</td>         <td class="cellrowborder" valign="top" width="20%">不支持</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>设置autoCancel参数，可控制弹出框蒙层被点击时是否消失。</p></li>        <li>         <p>设置maskRect参数，可定制弹出框的蒙层的大小和位置。此外，蒙层范围内的事件无法透传，而蒙层范围外的事件可以透传。</p></li>        <li>         <p>设置isModal参数，可定制弹出框的模态状态：非模态弹出框无蒙层，支持与周围组件交互；模态弹出框有蒙层，禁止与周围组件交互。</p></li>        <li>         <p>从API version 15开始，当levelMode属性设置为LevelMode.EMBEDDED时，设置immersiveMode参数，可定制弹出框蒙层是否延伸至状态栏及导航栏。</p></li>       </ul>      </div></div></div>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.2.5.1.5.1.1" valign="top" width="25%">接口&amp;组件</th>         <th align="left" class="cellrowborder" id="mcps1.3.2.5.1.5.1.2" valign="top" width="25%">maskColor</th>         <th align="left" class="cellrowborder" id="mcps1.3.2.5.1.5.1.3" valign="top" width="25%">transition</th>         <th align="left" class="cellrowborder" id="mcps1.3.2.5.1.5.1.4" valign="top" width="25%">maskTransition</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-uicontext-custom-dialog">openCustomDialog</a></td>         <td class="cellrowborder" valign="top" width="25%">支持</td>         <td class="cellrowborder" valign="top" width="25%">支持</td>         <td class="cellrowborder" valign="top" width="25%">支持</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-promptaction#opencustomdialogwithcontroller18" target="_blank">openCustomDialogWithController</a></td>         <td class="cellrowborder" valign="top" width="25%">支持</td>         <td class="cellrowborder" valign="top" width="25%">支持</td>         <td class="cellrowborder" valign="top" width="25%">支持</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-promptaction#presentcustomdialog18" target="_blank">presentCustomDialog</a></td>         <td class="cellrowborder" valign="top" width="25%">支持</td>         <td class="cellrowborder" valign="top" width="25%">支持</td>         <td class="cellrowborder" valign="top" width="25%">支持</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-promptaction#updatecustomdialog12" target="_blank">updateCustomDialog</a></td>         <td class="cellrowborder" valign="top" width="25%">支持</td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-common-components-custom-dialog">CustomDialog</a></td>         <td class="cellrowborder" valign="top" width="25%">支持</td>         <td class="cellrowborder" valign="top" width="25%">不支持（可由openAnimation和closeAnimation替代）</td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-promptaction#showdialog" target="_blank">showDialog</a></td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#showalertdialog" target="_blank">showAlertDialog</a></td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>         <td class="cellrowborder" valign="top" width="25%">支持</td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#showactionsheet" target="_blank">showActionSheet</a></td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>         <td class="cellrowborder" valign="top" width="25%">支持</td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-promptaction#showactionmenu11" target="_blank">showActionMenu</a></td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#showdatepickerdialog" target="_blank">showDatePickerDialog</a></td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-methods-calendarpicker-dialog" target="_blank">CalendarPickerDialog</a></td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#showtimepickerdialog" target="_blank">showTimePickerDialog</a></td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#showtextpickerdialog" target="_blank">showTextPickerDialog</a></td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>         <td class="cellrowborder" valign="top" width="25%">不支持</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>设置maskColor参数，可定制弹出框蒙层的颜色。</p></li>        <li>         <p>设置openAnimation参数，可定制弹出框的进入动画，同时影响蒙层动画。该接口仅支持简单的动画设置，不支持复杂动画定制。</p></li>        <li>         <p>设置closeAnimation参数，可定制弹出框的退出动画，同时影响蒙层动画。该接口仅支持简单的动画设置，不支持复杂动画定制。</p></li>        <li>         <p>设置transition参数，可定制弹出框的进入和退出动画，同时影响蒙层动画。</p></li>        <li>         <p>从API version 19开始，设置maskTransition参数，可定制弹出框的蒙层动画。</p></li>       </ul>      </div></div></div>    </div>    <div class="tiledSection">     <h2 id="弹出框蒙层显隐控制">弹出框蒙层显隐控制<i class="anchor-icon anchor-icon-link" anchorid="弹出框蒙层显隐控制" tips="复制节点链接"></i></h2>          <p>通过autoCancel和isModal属性控制弹出框的蒙层显隐。</p>     <p>设置autoCancel为false，取消默认点击蒙层时弹窗消失。</p>     <div _ngcontent-drd-c106="" class="highlight-div"><div _ngcontent-drd-c106="" class="highlight-div-header"><div _ngcontent-drd-c106="" class="highlight-div-header-left"><div _ngcontent-drd-c106="" class="handle-button expand-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-drd-c106="" class="highlight-div-header-right"><div _ngcontent-drd-c106="" class="handle-button ai-button"></div><div _ngcontent-drd-c106="" class="handle-button line-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-drd-c106="" class="handle-button theme-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-drd-c106="" class="handle-button copy-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-drd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li>  <span class="hljs-attr">autoCancelOpt</span>: promptAction.<span class="hljs-property">CustomDialogOptions</span> = {</li><li>    <span class="hljs-attr">builder</span>: <span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">myBuilder</span>();</li><li>    },</li><li>    <span class="hljs-attr">autoCancel</span>: <span class="hljs-literal">false</span>,</li><li>  } <span class="hljs-keyword">as</span> promptAction.<span class="hljs-property">CustomDialogOptions</span>;</li><li>
</li><li>  <span class="hljs-title class_">Button</span>(<span class="hljs-string">"openCustomDialog autoCancel:false"</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">10</span> })</li><li>    .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">openCustomDialog</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">autoCancelOpt</span>)</li><li>    })</li></ol></pre></div></div>     <p><span><img originheight="890" originwidth="512" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114948.32132476591065988274077758297790:50001231000000:2800:8AE754D52CF4CC38D7C72177554970017750DF03A53A189B33225E98D7F13A89.gif" width="512" height="890"></span></p>     <p>设置isModal为false，将默认的模态弹出框变为非模态弹出框。</p>     <div _ngcontent-drd-c106="" class="highlight-div"><div _ngcontent-drd-c106="" class="highlight-div-header"><div _ngcontent-drd-c106="" class="highlight-div-header-left"><div _ngcontent-drd-c106="" class="handle-button expand-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-drd-c106="" class="highlight-div-header-right"><div _ngcontent-drd-c106="" class="handle-button ai-button"></div><div _ngcontent-drd-c106="" class="handle-button line-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-drd-c106="" class="handle-button theme-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-drd-c106="" class="handle-button copy-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-drd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-attr">modalOpt</span>: promptAction.<span class="hljs-property">CustomDialogOptions</span> = {</li><li>  <span class="hljs-attr">builder</span>: <span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">myBuilder</span>();</li><li>  },</li><li>  <span class="hljs-attr">isModal</span>: <span class="hljs-literal">false</span>,</li><li>} <span class="hljs-keyword">as</span> promptAction.<span class="hljs-property">CustomDialogOptions</span>;</li><li>
</li><li><span class="hljs-title class_">Button</span>(<span class="hljs-string">"openCustomDialog isModal:false"</span>)</li><li>  .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">10</span> })</li><li>  .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">openCustomDialog</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">modalOpt</span>)</li><li>  })</li></ol></pre></div></div>     <p><span><img originheight="895" originwidth="519" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114948.43157097540010762119039023466315:50001231000000:2800:48CCEC6D54514066C1485ABCC9FD375255F2574714DF852AFB99F289E841BAC1.png" width="519" height="895"></span></p>    </div>    <div class="tiledSection">     <h2 id="弹出框蒙层样式控制">弹出框蒙层样式控制<i class="anchor-icon anchor-icon-link" anchorid="弹出框蒙层样式控制" tips="复制节点链接"></i></h2>          <p>该示例通过maskRect、immersiveMode和maskColor展示弹出框在蒙层样式控制方面的能力。</p>     <p>设置maskRect和maskColor，实现蒙层区域和蒙层颜色的设置。</p>     <div _ngcontent-drd-c106="" class="highlight-div"><div _ngcontent-drd-c106="" class="highlight-div-header"><div _ngcontent-drd-c106="" class="highlight-div-header-left"><div _ngcontent-drd-c106="" class="handle-button expand-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-drd-c106="" class="highlight-div-header-right"><div _ngcontent-drd-c106="" class="handle-button ai-button"></div><div _ngcontent-drd-c106="" class="handle-button line-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-drd-c106="" class="handle-button theme-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-drd-c106="" class="handle-button copy-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-drd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li>  <span class="hljs-attr">maskOpt</span>: promptAction.<span class="hljs-property">CustomDialogOptions</span> = {</li><li>    <span class="hljs-attr">builder</span>: <span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">myBuilder</span>();</li><li>    },</li><li>    <span class="hljs-attr">maskRect</span>: {</li><li>      <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>,</li><li>      <span class="hljs-attr">y</span>: <span class="hljs-number">10</span>,</li><li>      <span class="hljs-attr">width</span>: <span class="hljs-string">'100%'</span>,</li><li>      <span class="hljs-attr">height</span>: <span class="hljs-string">'90%'</span></li><li>    },</li><li>    <span class="hljs-attr">maskColor</span>: <span class="hljs-string">"#33AA0000"</span></li><li>  } <span class="hljs-keyword">as</span> promptAction.<span class="hljs-property">CustomDialogOptions</span>;</li><li>
</li><li>  <span class="hljs-title class_">Button</span>(<span class="hljs-string">"openCustomDialog maskOpt"</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">10</span> })</li><li>    .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">openCustomDialog</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">maskOpt</span>)</li><li>    })</li></ol></pre></div></div>     <p><span><img originheight="895" originwidth="519" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114948.17395450066827897150700026390540:50001231000000:2800:CA8B34E4A8CA280F6F40B3D3385990AB3B7F0A2C2FA111324708ACFACCBB3E5D.png" width="519" height="895"></span></p>     <p>在levelMode为LevelMode.EMBEDDED下，展示不同immersiveMode对蒙层在导航栏和状态栏的延伸效果。</p>     <div _ngcontent-drd-c106="" class="highlight-div"><div _ngcontent-drd-c106="" class="highlight-div-header"><div _ngcontent-drd-c106="" class="highlight-div-header-left"><div _ngcontent-drd-c106="" class="handle-button expand-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-drd-c106="" class="highlight-div-header-right"><div _ngcontent-drd-c106="" class="handle-button ai-button"></div><div _ngcontent-drd-c106="" class="handle-button line-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-drd-c106="" class="handle-button theme-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-drd-c106="" class="handle-button copy-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-drd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">immersiveMode</span>: <span class="hljs-title class_">ImmersiveMode</span> = <span class="hljs-title class_">ImmersiveMode</span>.<span class="hljs-property">DEFAULT</span>;</li><li>
</li><li>  <span class="hljs-title class_">Button</span>(<span class="hljs-string">"openCustomDialog immersiveMode"</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">10</span> })</li><li>    .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">immersiveMode</span> =</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">immersiveMode</span> == <span class="hljs-title class_">ImmersiveMode</span>.<span class="hljs-property">DEFAULT</span> ? <span class="hljs-title class_">ImmersiveMode</span>.<span class="hljs-property">EXTEND</span> : <span class="hljs-title class_">ImmersiveMode</span>.<span class="hljs-property">DEFAULT</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">openCustomDialog</span>({</li><li>        <span class="hljs-attr">builder</span>: <span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">myBuilder</span>();</li><li>        },</li><li>        <span class="hljs-attr">levelMode</span>: <span class="hljs-title class_">LevelMode</span>.<span class="hljs-property">EMBEDDED</span>,</li><li>        <span class="hljs-attr">immersiveMode</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">immersiveMode</span>,</li><li>      })</li><li>    })</li></ol></pre></div></div>     <p><span><img originheight="890" originwidth="516" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114949.27569788589863943074613789057408:50001231000000:2800:FEB48C90FC4BA1D25795B9930AE6982A5E35D4E14FAD6A668417F4F1A3F0C26C.gif" width="516" height="890"></span></p>    </div>    <div class="tiledSection">     <h2 id="弹出框蒙层动画控制">弹出框蒙层动画控制<i class="anchor-icon anchor-icon-link" anchorid="弹出框蒙层动画控制" tips="复制节点链接"></i></h2>          <p>该示例通过transition和maskTransition分别展示弹出框在蒙层动画方面的能力。</p>     <p>设置transition，实现弹出框与蒙层整体的动画。</p>     <div _ngcontent-drd-c106="" class="highlight-div"><div _ngcontent-drd-c106="" class="highlight-div-header"><div _ngcontent-drd-c106="" class="highlight-div-header-left"><div _ngcontent-drd-c106="" class="handle-button expand-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-drd-c106="" class="highlight-div-header-right"><div _ngcontent-drd-c106="" class="handle-button ai-button"></div><div _ngcontent-drd-c106="" class="handle-button line-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-drd-c106="" class="handle-button theme-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-drd-c106="" class="handle-button copy-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-drd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li>  <span class="hljs-attr">transitionOpt</span>: promptAction.<span class="hljs-property">CustomDialogOptions</span> = {</li><li>    <span class="hljs-attr">builder</span>: <span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">myBuilder</span>();</li><li>    },</li><li>    <span class="hljs-attr">transition</span>: <span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-property">OPACITY</span>.<span class="hljs-title function_">animation</span>({ <span class="hljs-attr">duration</span>: <span class="hljs-number">3000</span> })</li><li>  } <span class="hljs-keyword">as</span> promptAction.<span class="hljs-property">CustomDialogOptions</span>;</li><li>
</li><li>  <span class="hljs-title class_">Button</span>(<span class="hljs-string">"openCustomDialog transition"</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">10</span> })</li><li>    .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">openCustomDialog</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">transitionOpt</span>);</li><li>    })</li></ol></pre></div></div>     <p><span><img originheight="890" originwidth="516" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114949.15616423605581565549873982373548:50001231000000:2800:9ECB3B43778F8A5CA8B05176D7021DE7046EB71BA52A880377A45B99579268D1.gif" width="516" height="890"></span></p>     <p>设置maskTransition，实现弹出框中蒙层单独的动画定制能力。</p>     <div _ngcontent-drd-c106="" class="highlight-div"><div _ngcontent-drd-c106="" class="highlight-div-header"><div _ngcontent-drd-c106="" class="highlight-div-header-left"><div _ngcontent-drd-c106="" class="handle-button expand-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-drd-c106="" class="highlight-div-header-right"><div _ngcontent-drd-c106="" class="handle-button ai-button"></div><div _ngcontent-drd-c106="" class="handle-button line-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-drd-c106="" class="handle-button theme-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-drd-c106="" class="handle-button copy-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-drd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li>  <span class="hljs-title class_">Button</span>(<span class="hljs-string">"openCustomDialog maskTransition"</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">10</span> })</li><li>    .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">openCustomDialog</span>({</li><li>        <span class="hljs-attr">builder</span>: <span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">myBuilder</span>();</li><li>        },</li><li>        <span class="hljs-attr">maskTransition</span>: <span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-property">OPACITY</span>.<span class="hljs-title function_">animation</span>({ <span class="hljs-attr">duration</span>: <span class="hljs-number">2000</span> })</li><li>          .<span class="hljs-title function_">combine</span>(<span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-title function_">rotate</span>({ <span class="hljs-attr">z</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">angle</span>: <span class="hljs-number">180</span> })),</li><li>      });</li><li>    })</li></ol></pre></div></div>     <p><span><img originheight="890" originwidth="516" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114949.69900337137241350638478809500885:50001231000000:2800:D4B23C28D6775C555094C85B56E27A452A2D29F678ACF3D2A9334977F5D0AE76.gif" width="516" height="890"></span></p>     <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-common-components-custom-dialog">CustomDialog</a>虽然不支持transition接口，但与之对应的openAnimation和closeAnimation接口在动画的打开和关闭时可进行定制，示例代码如下：</p>     <div _ngcontent-drd-c106="" class="highlight-div"><div _ngcontent-drd-c106="" class="highlight-div-header"><div _ngcontent-drd-c106="" class="highlight-div-header-left"><div _ngcontent-drd-c106="" class="handle-button expand-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-drd-c106="" class="highlight-div-header-right"><div _ngcontent-drd-c106="" class="handle-button ai-button"></div><div _ngcontent-drd-c106="" class="handle-button line-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-drd-c106="" class="handle-button theme-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-drd-c106="" class="handle-button copy-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-drd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li>
</li><li><span class="hljs-meta">@CustomDialog</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CustomDialogExample</span> {</li><li>  controller?: <span class="hljs-title class_">CustomDialogController</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">"title"</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"button1"</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>?.<span class="hljs-title function_">close</span>();</li><li>        })</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"button2"</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>?.<span class="hljs-title function_">close</span>();</li><li>        })</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'50%'</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">animationController</span>: <span class="hljs-title class_">CustomDialogController</span> | <span class="hljs-literal">null</span></li><li>    = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomDialogController</span>({</li><li>    <span class="hljs-attr">builder</span>: <span class="hljs-title class_">CustomDialogExample</span>(),</li><li>    <span class="hljs-attr">closeAnimation</span>: { <span class="hljs-attr">duration</span>: <span class="hljs-number">2000</span> },</li><li>    <span class="hljs-attr">openAnimation</span>: { <span class="hljs-attr">duration</span>: <span class="hljs-number">2000</span> }</li><li>  });</li><li>
</li><li>  <span class="hljs-title function_">aboutToDisappear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">animationController</span> = <span class="hljs-literal">null</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"CustomDialogController animate"</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">10</span> })</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">animationController</span>?.<span class="hljs-title function_">open</span>();</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="890" originwidth="516" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114949.00509790755395178039876942440129:50001231000000:2800:597A5C6A7A2DEC6153CE364A416F3973B8AB80A3D0E35FE75EA8D3D00A6F82C2.gif" width="516" height="890"></span></p>    </div>    <div class="tiledSection">     <h2 id="完整示例">完整示例<i class="anchor-icon anchor-icon-link" anchorid="完整示例" tips="复制节点链接"></i></h2>          <div _ngcontent-drd-c106="" class="highlight-div"><div _ngcontent-drd-c106="" class="highlight-div-header"><div _ngcontent-drd-c106="" class="highlight-div-header-left"><div _ngcontent-drd-c106="" class="handle-button expand-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-drd-c106="" class="highlight-div-header-right"><div _ngcontent-drd-c106="" class="handle-button ai-button"></div><div _ngcontent-drd-c106="" class="handle-button line-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-drd-c106="" class="handle-button theme-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-drd-c106="" class="handle-button copy-button"><div _ngcontent-drd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-drd-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ImmersiveMode</span>, <span class="hljs-title class_">LevelMode</span>, promptAction } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">immersiveMode</span>: <span class="hljs-title class_">ImmersiveMode</span> = <span class="hljs-title class_">ImmersiveMode</span>.<span class="hljs-property">DEFAULT</span>;</li><li>  <span class="hljs-attr">autoCancelOpt</span>: promptAction.<span class="hljs-property">CustomDialogOptions</span> = {</li><li>    <span class="hljs-attr">builder</span>: <span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">myBuilder</span>();</li><li>    },</li><li>    <span class="hljs-attr">autoCancel</span>: <span class="hljs-literal">false</span>,</li><li>  } <span class="hljs-keyword">as</span> promptAction.<span class="hljs-property">CustomDialogOptions</span>;</li><li>  <span class="hljs-attr">modalOpt</span>: promptAction.<span class="hljs-property">CustomDialogOptions</span> = {</li><li>    <span class="hljs-attr">builder</span>: <span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">myBuilder</span>();</li><li>    },</li><li>    <span class="hljs-attr">isModal</span>: <span class="hljs-literal">false</span>,</li><li>  } <span class="hljs-keyword">as</span> promptAction.<span class="hljs-property">CustomDialogOptions</span>;</li><li>  <span class="hljs-attr">maskOpt</span>: promptAction.<span class="hljs-property">CustomDialogOptions</span> = {</li><li>    <span class="hljs-attr">builder</span>: <span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">myBuilder</span>();</li><li>    },</li><li>    <span class="hljs-attr">maskRect</span>: {</li><li>      <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>,</li><li>      <span class="hljs-attr">y</span>: <span class="hljs-number">10</span>,</li><li>      <span class="hljs-attr">width</span>: <span class="hljs-string">'100%'</span>,</li><li>      <span class="hljs-attr">height</span>: <span class="hljs-string">'90%'</span></li><li>    },</li><li>    <span class="hljs-attr">maskColor</span>: <span class="hljs-string">"#33AA0000"</span></li><li>  } <span class="hljs-keyword">as</span> promptAction.<span class="hljs-property">CustomDialogOptions</span>;</li><li>  <span class="hljs-attr">transitionOpt</span>: promptAction.<span class="hljs-property">CustomDialogOptions</span> = {</li><li>    <span class="hljs-attr">builder</span>: <span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">myBuilder</span>();</li><li>    },</li><li>    <span class="hljs-attr">transition</span>: <span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-property">OPACITY</span>.<span class="hljs-title function_">animation</span>({ <span class="hljs-attr">duration</span>: <span class="hljs-number">3000</span> })</li><li>  } <span class="hljs-keyword">as</span> promptAction.<span class="hljs-property">CustomDialogOptions</span>;</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">myBuilder</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">"title"</span>).<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"button1"</span>).<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"button2"</span>).<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'50%'</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"openCustomDialog autoCancel:false"</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">10</span> })</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">openCustomDialog</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">autoCancelOpt</span>)</li><li>        })</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"openCustomDialog isModal:false"</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">10</span> })</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">openCustomDialog</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">modalOpt</span>)</li><li>        })</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"openCustomDialog maskOpt"</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">10</span> })</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">openCustomDialog</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">maskOpt</span>)</li><li>        })</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"openCustomDialog transition"</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">10</span> })</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">openCustomDialog</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">transitionOpt</span>);</li><li>        })</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"openCustomDialog immersiveMode"</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">10</span> })</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">immersiveMode</span> =</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">immersiveMode</span> == <span class="hljs-title class_">ImmersiveMode</span>.<span class="hljs-property">DEFAULT</span> ? <span class="hljs-title class_">ImmersiveMode</span>.<span class="hljs-property">EXTEND</span> : <span class="hljs-title class_">ImmersiveMode</span>.<span class="hljs-property">DEFAULT</span>;</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">openCustomDialog</span>({</li><li>            <span class="hljs-attr">builder</span>: <span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">myBuilder</span>();</li><li>            },</li><li>            <span class="hljs-attr">levelMode</span>: <span class="hljs-title class_">LevelMode</span>.<span class="hljs-property">EMBEDDED</span>,</li><li>            <span class="hljs-attr">immersiveMode</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">immersiveMode</span>,</li><li>          })</li><li>        })</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"openCustomDialog maskTransition"</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">10</span> })</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">openCustomDialog</span>({</li><li>            <span class="hljs-attr">builder</span>: <span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">myBuilder</span>();</li><li>            },</li><li>            <span class="hljs-attr">maskTransition</span>: <span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-property">OPACITY</span>.<span class="hljs-title function_">animation</span>({ <span class="hljs-attr">duration</span>: <span class="hljs-number">2000</span> })</li><li>              .<span class="hljs-title function_">combine</span>(<span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-title function_">rotate</span>({ <span class="hljs-attr">z</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">angle</span>: <span class="hljs-number">180</span> })),</li><li>          });</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="894" originwidth="516" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114949.84311498517338041200656174460257:50001231000000:2800:AE23168972AA5C72187D37FA549937E7A2CEBADB07503C6CF4A5B8F9EBDEF37B.gif" width="516" height="894"></span></p>    </div>   </div>   <div></div></div>