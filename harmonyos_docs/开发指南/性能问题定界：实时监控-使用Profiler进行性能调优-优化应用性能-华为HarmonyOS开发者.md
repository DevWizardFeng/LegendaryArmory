<h1 _ngcontent-ahk-c119="" class="doc-title ng-star-inserted" title="性能问题定界：实时监控"> 性能问题定界：实时监控 </h1>

<div _ngcontent-ahk-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000001771432624"><p id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_p832813172017">解决性能问题，首先对当前应用的运行情况以及设备的资源消耗进行监测，以初步确定可能存在的性能问题以及问题出现的位置。</p> <p id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_p19515494">DevEco Profiler提供实时监控（Realtime Monitor）能力，该能力为您提供全方位的设备资源监测，覆盖系统事件、异常报告、CPU占用、内存占用、实时帧率、GPU使用率、温度、电流、能耗以及网络流量消耗等多个维度的数据，帮助您初步识别性能瓶颈，定界问题所在。</p> <div class="tiledSection"><h2 id="section7310145519612">配置并确认设备环境<i class="anchor-icon anchor-icon-link" anchorid="section7310145519612" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_p1231401172">为了能够正确地监测您的设备资源，首先您需要通过USB完成设备连接，打开“开发者模式”并选择允许“USB调试”，然后通过DevEco Studio将您开发的应用安装到设备上。随后您可以通过如下步骤来查看应用的实时资源使用情况。</p> <ol id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_ol4322115755613"><li id="zh-cn_topic_0000001662235440_li139246594573"><span>您可以通过如下三种方式打开DevEco Profiler：</span><p></p><ul id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_ul1450474111715"><li id="zh-cn_topic_0000001662235440_li450515413172">在DevEco Studio顶部菜单栏中选择<span class="uicontrol" id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_uicontrol5292333763">“View -&gt; Tool Windows -&gt; <span id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_text1169094019352">Profiler</span>”</span>。</li><li id="zh-cn_topic_0000001662235440_li1191154210203">在DevEco Studio底部工具栏中单击<span class="uicontrol" id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_uicontrol1012926102114">“<span id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_text1315395163619">Profiler</span>”</span>。</li><li id="zh-cn_topic_0000001662235440_li8766158132114">使用“Ctrl+Shift+A”（macOS中为双击“Shift”）打开搜索功能，搜索<span class="uicontrol" id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_uicontrol25315494245">“<span id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_text3929112123717">Profiler</span>”</span>。</li></ul> <p></p></li><li id="zh-cn_topic_0000001662235440_li8897183218324"><span>在设备上启动您想要监测的应用。</span></li><li id="zh-cn_topic_0000001662235440_li158054242013"><span>在DevEco Profiler界面左上角的设备、应用及进程列表中，选择调优设备及待调优的应用/元服务进程。如果您的应用不止有一个主进程（还存在Extension或者Render进程），那么您需要再手动选择一个您想要监控的进程。</span><p></p><p id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_p12054101016"><span><img originheight="107" originwidth="315" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104934.78369142135517229949671057948245:50001231000000:2800:0FE2513838FE6B0ABC06A3721500105DA036FB78F189678E5D467AD4990E3B19.png" width="315" height="107"></span></p> <p></p></li></ol> <p id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_p137842054162410"></p> <p id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_p1156032317242"></p> </div> <div class="tiledSection"><h2 id="section1244191311711">实时监控应用，多维度对比识别性能热区<i class="anchor-icon anchor-icon-link" anchorid="section1244191311711" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_p297813411875">在实时监控界面，设备各项资源的使用情况均以泳道图的形式在时间维度展示，提供系统事件、CPU占用等多维度信息，帮助您识别性能热区。</p> </div> <div class="tiledSection"><h3 id="section178973414302" class="firsth2">面板整体介绍<i class="anchor-icon anchor-icon-link" anchorid="section178973414302" tips="复制节点链接"></i></h3><ul id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_ul496486115116"><li id="zh-cn_topic_0000001662235440_li0964961516">界面左侧为实时数据展示区域，该区域的数据显示了每一项监测内容的瞬时值，并通过饼图或者仪表盘的形式让您更加直观地观察到各项数据的使用占比以及具体数值。</li><li id="zh-cn_topic_0000001662235440_li2964156115113">界面右侧则是各项数据随着时间推移的变化趋势，通过不同的图像形式（直方图、柱状图、折线图等）来更加清晰的展示某一项资源在一段时间范围内的变化趋势，以帮助您快速判断性能热点区域。</li></ul> <p id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_p29441754373">整个实时监控页面从上到下，依次展示了系统事件、异常事件、前台应用、CPU占用、内存占用、帧率、GPU使用率、温度、电流、能耗以及网络流量消耗等各个维度的数据，帮助您从多个维度来对比识别当前应用的性能热区。下面为您依次介绍每一条泳道的数据内容。</p> <p id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_p16682554123020"></p> <p id="ZH-CN_TOPIC_0000002478334546__p951611817165"><span><img height="471.8268421052631" originheight="971" originwidth="1899" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104934.91672339058576439849438961552820:50001231000000:2800:350C2EBF6C7632E6A4C186B84D801667ADC2F20E779C89D0D30DE7219A3B4AD1.png" title="点击放大" width="920"></span></p> </div> <div class="tiledSection"><h3 id="section1961114465296">泳道简介<i class="anchor-icon anchor-icon-link" anchorid="section1961114465296" tips="复制节点链接"></i></h3><ol id="ZH-CN_TOPIC_0000002478334546__ol4253928175818"><li id="li5253152811584">System Events泳道：该泳道展示了时间窗内系统事件的起始、终止等状态的统计情况。泳道内存在三种形状的标识：<ul id="ZH-CN_TOPIC_0000002478334546__ul122531128175812"><li id="li142531528115820">菱形：表示事件开始。</li><li id="li725382813586">正方形：表示事件结束。</li><li id="li1253182835815">圆形：表示当前为时间点事件，无持续时间。</li></ul> </li><li id="li125310282582">Anomaly泳道：用于展示设备侧上报的各种异常事件。</li></ol><ol id="ZH-CN_TOPIC_0000002478334546__ol13253162811583" start="3"><li id="li182532028155819">Foreground Ability泳道：用于展示应用/元服务的Ability状态。当Ability在前台运行时，会在此时间段内显示该Ability的名称；若当前无前台运行的Ability，则此时间段内显示“Background”。</li><li id="li996513125819">CPU泳道：左侧饼图展示了当前时刻应用/元服务的CPU使用率、其他进程的CPU使用率以及空闲情况。右侧的泳道图则展示了时间窗内的整体CPU使用情况，其中灰色的部分代表系统中其他进程的CPU占用，蓝色部分则展示了当前应用/元服务的CPU占用情况。</li></ol><ol id="ZH-CN_TOPIC_0000002478334546__ol170903620589" start="5"><li id="li870913363582">Memory泳道：左侧饼图展示了当前时刻应用/元服务的内存占用、其他进程的内存占用以及未使用的内存。右侧的泳道图则展示了时间窗内的整体内存使用情况，其中灰色的部分代表系统中其他进程的内存占用，蓝色部分则展示了当前应用/元服务的内存占用情况。<ul id="ZH-CN_TOPIC_0000002478334546__ul715564614598"><li id="li1215524655910">Current Process：当前时刻应用/元服务的内存占用。</li><li id="li6522826507">Other Processes：其他进程的内存占用。在5.1 Release版本之前，cached缓存空间（内存会被系统自动回收）占用的内存被计入Other Processes内存中。</li><li id="li168922043801">Free：未使用的内存。在5.1 Release版本及以后，cached缓存空间占用的内存被计入Free内存中。<div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002478334546__p168925431306">当前应用内存展示的是应用的PSS值，如需内存详细信息请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-insight-session-allocations">Native内存泄漏分析：Allocation分析</a>。此处的PSS值比hidumper略大，原因是hidumper计算过程中会执行取整操作，计算值偏小。</p> </div></div></div> </li></ul> </li><li id="li29086386588">FPS泳道：左侧仪表盘展示了当前设备屏幕的帧率瞬时值，红色、黄色、绿色区域则代表当前屏幕帧率是否达标理想状态。右侧柱状图则展示了每一次采集设备帧率时的数值。该泳道仅支持在配备硬件屏幕的设备上进行数据采集。</li></ol><ol id="ZH-CN_TOPIC_0000002478334546__ol18371944195813" start="7"><li id="li16371104411587">GPU泳道：左侧仪表盘展示了当前设备GPU使用率的瞬时值，右侧泳道则展示了时间窗内的整体GPU使用率。</li><li id="li128834611589">Temperature泳道：左侧温度计显示了当前设备温度信息，右侧泳道的数据采集周期为3秒，展示了时间窗内的设备温度信息以及温度等级。该泳道暂不支持在TV/2in1/Car设备上进行应用性能分析。</li></ol><ol id="ZH-CN_TOPIC_0000002478334546__ol125418525586" start="9"><li id="li25405285817">*Device Current泳道：左侧展示了当前设备最大电流、平均电流以及最新的电流值，右侧泳道则展示了时间窗内的设备电流信息。该泳道统计电池的电流会由于充放电导致电流为非准确的消耗值，使用*Device Current进行区分，若需要准确的消耗电流，可以在设备侧打开"关闭充电"，操作方式为<strong>设置 &gt; 系统 &gt; 开发者选项</strong>。该泳道暂不支持在TV设备上进行应用性能分析。</li><li id="li1046135455813">Energy泳道：该泳道包含了各项部件（包括CPU、*Display、GPU、Location、Camera、Bluetooth、Flashlight、Audio、Wifi、Modem）的周期内平均功耗占比。通过图例上方的下拉多选框则可以勾选您想要监控的功耗使用情况的应用，选择多个应用后，该泳道会展示所有您所选择应用的功耗总和。右侧区域柱状图则展示了时间窗内各部件资源的实时使用情况，柱状图的颜色代表每种部件的功耗占比。Display指标只能测量不同亮度的屏幕电流，无法精确测量不同明暗色的显示电流，为提示开发者，使用*Display来突出该差异。该泳道暂不支持在TV设备上进行应用性能分析。暂不支持展示Wearable设备GPU、Location、Camera、Flashlight的功耗占比情况。2in1设备暂不支持展示Location的功耗占比情况。</li></ol><ol id="ZH-CN_TOPIC_0000002478334546__ol124221059125819" start="11"><li id="li14422175919581">Network Traffic泳道：左侧区域内仪表盘展示了当前设备网络上行瞬时速率和下行瞬时速率，仪表盘右边展示了时间窗内上行总流量和下行总流量。右侧泳道柱状图则展示了时间窗内网络流量消耗的实时情况。</li></ol> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_p151381956134815">FPS、GPU、Temperature、*Device Current泳道显示的是所使用设备的实时信息，而非当前调优应用/元服务的信息。</p> </div></div></div> </div> <div class="tiledSection"><h2 id="section52781646279">实时监控页面的常用操作交互方式<i class="anchor-icon anchor-icon-link" anchorid="section52781646279" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_p6170121781913">实时监控页面除了展示各个维度数据的瞬时值以及时间窗内的变化趋势之外，还提供了多种交互方式以供您更加便捷、快速、细致地分析您的数据。</p> <ul id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_ul172351722924"><li id="zh-cn_topic_0000001662235440_li961412211718">启停控制<p id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_p9489133122011">点击会话区“Realtime Monitor”页签上的<span><img originheight="15" originwidth="15" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104934.98794762144683703157394328925660:50001231000000:2800:F51AF67EE4826EB710801F417E01E9F359DE9C81BD8DD38EBCA4B282DAB51BD2.png" class="IconPic notEnlarge" width="15" height="15"></span>、<span><img originheight="15" originwidth="15" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104934.53884834529304116890746146360422:50001231000000:2800:2BE07E5535E68F850A6C22320ABC2782EE96DAA1C0AF2FF978DB517F06F4F83D.png" class="IconPic notEnlarge" width="15" height="15"></span>按钮或工具控制栏上的 <span><img originheight="17" originwidth="17" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104934.60708277869140356208679126776602:50001231000000:2800:25D099BA4F8DA2B7A3F6A5949044B1EB44056711983F1C94EB814A68B0C1F18F.png" class="IconPic notEnlarge" width="17" height="17"></span>、<span><img originheight="16" originwidth="16" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104934.83243020918142244171077997056960:50001231000000:2800:CFD8B67453688F80B132CCD6B5D29EB77BD6CBC845DE06016EFD186AB02D1268.png" class="IconPic notEnlarge" width="16" height="16"></span>来即时控制实时监控界面的录制状态。</p> </li><li id="li9163258815">泳道筛选<p id="ZH-CN_TOPIC_0000002478334546__p107501273810">点击工具控制栏上的<span><img height="16.9575" originheight="22" originwidth="22" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104934.67089537185806647736652851552379:50001231000000:2800:C8004CBBB23CB4848761B1ADD943FDC40114D6E0B43CC7139DA57AD919C91BC9.png" width="16.9575" class="IconPic notEnlarge"></span>按钮，可以选择泳道进行筛选。筛选无需录制的泳道，可以降低数据采集本身的开销，但同时会造成数据分析维度的减少。</p> </li><li id="zh-cn_topic_0000001662235440_li12356222027">详细数据展示<p id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_p196932312186">将鼠标悬浮于所关心的泳道数据上时，界面上会出现当前时间点的时间标线以及含有当前时间点上泳道详细数据的Tooltips。更进一步，当您将鼠标悬浮于时间轴上时，实时监控页面内的所有泳道均会以Tooltips展示出该时刻的数据。</p> <p id="ZH-CN_TOPIC_0000002478334546__p1869453292717"></p> <p id="ZH-CN_TOPIC_0000002478334546__p18328138191717"><span><img height="475.7005263157895" originheight="979" originwidth="1899" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104935.36883426501711801115041777410207:50001231000000:2800:658B45FA59C54ADDF2445435D0FE86B9EFAA88B8E173BE1B5056A3BA7AE76B02.png" title="点击放大" width="920"></span></p> </li></ul> <ul id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_ul123501110253"><li id="zh-cn_topic_0000001662235440_li51281519101816">图例选择<p id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_p69745198188">实时监控界面部分泳道内的图例均支持选择/反选来增加/去除泳道内这一数据的展示，能够更加专注地分析所关心的数据。</p> </li></ul> <p id="ZH-CN_TOPIC_0000002478334546__zh-cn_topic_0000001662235440_p229171845712">至此，通过分析实时监控的多维度数据，可以了解到当前应用的具体运行情况以及可能出现性能问题的热点区域。接下来，可以通过深度录制详细的应用运行数据来更加详细地分析应用可能存在的性能问题。</p> </div> </div> <div></div></div>