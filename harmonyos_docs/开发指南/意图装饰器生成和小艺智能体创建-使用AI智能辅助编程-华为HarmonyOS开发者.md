<h1 _ngcontent-jja-c119="" class="doc-title ng-star-inserted" title="意图装饰器生成和小艺智能体创建"> 意图装饰器生成和小艺智能体创建 </h1>

<div _ngcontent-jja-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000002414513434"><p id="ZH-CN_TOPIC_0000002510294369__p1620104182318">通过装饰类或方法可以将应用的功能定义为"意图"，然后将应用功能以"意图"形式集成至系统入口。用户通过系统入口（如语音助手、智能推荐卡片）触发意图执行，即可便捷使用应用提供的功能。</p> <p id="ZH-CN_TOPIC_0000002510294369__p87121289315">从DevEco Studio 6.0.0 Beta2开始，CodeGenie支持生成意图装饰器，帮助开发者更快更高效的将功能转换为意图和生成智能体。</p> <div class="tiledSection"><h2 id="section16481202718">使用约束<i class="anchor-icon anchor-icon-link" anchorid="section16481202718" tips="复制节点链接"></i></h2><ul id="ZH-CN_TOPIC_0000002510294369__ul11278780719"><li id="li132781885710">使用API 20及以上版本。</li><li id="li927818172">仅支持使用团队账号登录时，添加意图插件。个人加入目标团队方式具体可参考<a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-manageaccount-0000002306610129#section151241455193313" target="_blank">添加成员</a>。</li><li id="li52791812711">应用在AGC已注册，具体可参考<a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-create-app-0000002247955506#section1772711713288" target="_blank">创建HarmonyOS应用</a>。</li></ul> </div> <div class="tiledSection"><h2 id="section149627914589">意图装饰器分类<i class="anchor-icon anchor-icon-link" anchorid="section149627914589" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002510294369__p1419152620241">CodeGenie提供了几类意图装饰器，开发者可根据业务场景进行选择，具体请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-insightintentdecorator" target="_blank">意图装饰器定义</a>：</p> <ul id="ZH-CN_TOPIC_0000002510294369__ul111220691513"><li id="li209498503458">@InsightIntentLink装饰器：在class头部或内部位置唤起意图装饰器，在class上方插入生成的代码。</li><li id="li181687102469">@InsightIntentPage装饰器：在@Component头部/struct结构体内部/选中整个结构体区域唤起意图装饰器，在@Entry上方插入生成的代码。</li><li id="li567813510463">@InsightIntentFunction装饰器：在类中静态方法区域唤起意图装饰器，在class上方插入@InsightIntentFunction，在class内部插入@InsightIntentFunctionMethod生成内容。</li><li id="li669183754614">@InsightIntentForm装饰器：在继承FormExtensionAbility的class头部或内部唤起意图装饰器，在class上方插入生成的代码。</li><li id="li1413201117471">@InsightIntentEntry装饰器：在直接继承InsightIntentEntryExecutor的class头部或内部唤起意图装饰器，在class上方插入生成的代码。</li></ul> </div> <div class="tiledSection"><h3 id="section8519171515917" class="firsth2">@InsightIntentLink装饰器<i class="anchor-icon anchor-icon-link" anchorid="section8519171515917" tips="复制节点链接"></i></h3><ol id="ZH-CN_TOPIC_0000002510294369__ol5149114612505"><li id="li121491846135012">打开module.json5文件，配置<strong>abilities &gt; skills &gt; uris</strong>字段。uri格式要求请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-uri-config" target="_blank">应用链接说明</a>。<p id="ZH-CN_TOPIC_0000002510294369__p11175173195115"><span><img height="494.5004906771345" originheight="1032" originwidth="1920" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104757.43181837364897953178400082795291:50001231000000:2800:73F4841BE38CCC4FE036A85C9F56639F845E340ACD4322D025295424CD92C035.png" title="点击放大" width="920"></span></p> </li><li id="li19149134612508">在class头部或内部位置，右键选择<strong> CodeGenie &gt; Insight Intent &gt; Link Insight Intent</strong>。<p id="ZH-CN_TOPIC_0000002510294369__p65565018162"><span><img originheight="1032" originwidth="1920" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104757.23625964983868074699195371055593:50001231000000:2800:7CF3DF0705792783A13753FEC9095954614C37A49C92A5E123F45901C8A5C453.png" width="920" height="494.5"></span></p> </li><li id="li514917469506">意图装饰器自动添加至CodeGenie对话框中，可选择输入或不输入提示词，CodeGenie根据代码上下文分析输出结果。<p id="ZH-CN_TOPIC_0000002510294369__p387216191718"><span><img originheight="836" originwidth="1204" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104757.10078952862146584928544083778621:50001231000000:2800:D3882E9DC9323361A116DE32D79EB1F3DB267AD137168F57F18AA2E4019C7E2F.png" width="920" height="638.8039867109635"></span></p> </li><li id="li1514914617509">生成结果后，点击对话框中生成代码块右上方的<strong>插入</strong>按钮，在class上方插入生成的代码。开发者可基于结果微调，实现意图调用。<p id="ZH-CN_TOPIC_0000002510294369__p1723111205177"><span><img originheight="835" originwidth="1204" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104757.55015381521966079282461154023666:50001231000000:2800:B77F43F53373E577A3481CBA25204D9C65E290A04534F0D81A27C2158D58ED74.png" width="920" height="638.0398671096345"></span></p> </li></ol> </div> <div class="tiledSection"><h3 id="section157091301314">@InsightIntentPage装饰器<i class="anchor-icon anchor-icon-link" anchorid="section157091301314" tips="复制节点链接"></i></h3><p id="ZH-CN_TOPIC_0000002510294369__p13970212102119">基于组件导航（Navigation）的子页面使用，@Component和struct需成对出现。</p> <ol id="ZH-CN_TOPIC_0000002510294369__ol158671417122513"><li id="li78671317142516">在@Component头部\struct结构体内部\选中整个结构体区域，点击<strong>右键 &gt; CodeGenie &gt; Insight Intent &gt; Page Insight Intent</strong>。<p id="ZH-CN_TOPIC_0000002510294369__p171641821132516"><span><img originheight="1032" originwidth="1920" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104757.07586368041435875941306336150641:50001231000000:2800:1DAD8D4014CB2AD127ECB67CA4C6324883260483096EF358C2718C220B9FF7BC.png" width="920" height="494.5"></span></p> </li><li id="li108676176252">意图装饰器自动添加至CodeGenie对话框中，可选择输入或不输入提示词，CodeGenie根据代码上下文分析输出结果。<p id="ZH-CN_TOPIC_0000002510294369__p2235444132513"><span><img originheight="836" originwidth="1202" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104757.16453300036066093668271907410534:50001231000000:2800:A4D583779AE6C7E6EF6283F54A19E7E08EE93B142E4EEF79DC7DA409DDC8A90E.png" width="920" height="639.8668885191348"></span></p> </li><li id="li1030134215257">生成结果后，点击对话框中生成代码块右上方的<strong>插入</strong>按钮，在@Entry上方插入生成的代码。开发者可基于结果微调，实现意图调用。<p id="ZH-CN_TOPIC_0000002510294369__p6380454132516"><span><img originheight="840" originwidth="1182" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104757.87643746475074311543736659721727:50001231000000:2800:333F0A0DFA62CB1C6CFAE6A6263A41C0BE3FCE33E291606DE197359CE8C215FB.png" width="920" height="653.8071065989848"></span></p> </li></ol> </div> <div class="tiledSection"><h3 id="section14601125111125">@InsightIntentFunction装饰器<i class="anchor-icon anchor-icon-link" anchorid="section14601125111125" tips="复制节点链接"></i></h3><ol id="ZH-CN_TOPIC_0000002510294369__ol7615193515346"><li id="li16151035133414">在类中静态方法区域，右键选择<strong>  CodeGenie &gt; Insight Intent &gt; Function Insight Intent</strong>。<p id="ZH-CN_TOPIC_0000002510294369__p9706183913415"><span><img originheight="1032" originwidth="1920" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104757.30356458371337025818456203526414:50001231000000:2800:43FBBF0C313D68E56FAF836201B8C18EDAF1B263C9E05802539294C709764FA9.png" width="920" height="494.5"></span></p> </li><li id="li861633593412">意图装饰器自动添加至CodeGenie对话框中，可选择输入或不输入提示词，CodeGenie根据代码上下文分析输出结果。<p id="ZH-CN_TOPIC_0000002510294369__p194891745193418"><span><img originheight="835" originwidth="1203" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104757.93312458897893981939070595718079:50001231000000:2800:EDFFB06582BEDF0E2990073D3628B6312D28604743A718C94962776F74DF206B.png" width="920" height="638.5702410640067"></span></p> </li><li id="li19616103510348">生成结果后，点击对话框中生成代码块右上方的<strong>插入</strong>按钮，在class上方插入@InsightIntentFunction，在class内部插入@InsightIntentFunctionMethod生成内容。开发者可基于结果微调，实现意图调用。<p id="ZH-CN_TOPIC_0000002510294369__p17986455183418"><span><img originheight="834" originwidth="1203" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104758.29951107033430072190737093825064:50001231000000:2800:B83AC057687B3A0FAC387BE63FBD0A2EB665CC71B889829F7FF1490A2FE723FC.png" width="920" height="637.8054862842893"></span></p> </li></ol> </div> <div class="tiledSection"><h3 id="section633419279137">@InsightIntentForm装饰器<i class="anchor-icon anchor-icon-link" anchorid="section633419279137" tips="复制节点链接"></i></h3><ol id="ZH-CN_TOPIC_0000002510294369__ol777013489401"><li id="li147704482406">基于FormExtensionAbility使用，在继承FormExtensionAbility的class头部或内部，右键选择<strong>CodeGenie &gt;  Insight Intent  &gt; Form Insight Intent</strong>。<p id="ZH-CN_TOPIC_0000002510294369__p1311514517406"><span><img originheight="1032" originwidth="1920" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104758.51530496595300291807082253143880:50001231000000:2800:B632652C227AB574515AD9BCD6E39331AB612162EC84C86C062D142672ABF2DC.png" width="920" height="494.5"></span></p> </li><li id="li477110481409">意图装饰器自动添加至CodeGenie对话框中，可选择输入或不输入提示词，CodeGenie根据代码上下文分析输出结果。<p id="ZH-CN_TOPIC_0000002510294369__p177959224112"><span><img originheight="833" originwidth="1204" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104758.22530167615459825437278022965080:50001231000000:2800:22002B29CFE8237B6F6B5CF6AAD8D18636FD702B58214B7D58EF3A59F103FBD9.png" width="920" height="636.5116279069767"></span></p> </li><li id="li1877124817407">生成结果后，点击对话框中生成代码块右上方的<strong>插入</strong>按钮，在class上方插入生成的代码，开发者可基于结果微调，实现意图调用。<p id="ZH-CN_TOPIC_0000002510294369__p1979611254215"><span><img originheight="837" originwidth="1204" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104758.69391666895316225906738284394047:50001231000000:2800:EEE63E5486331324A69096EC3F68191F49AA4458AC682BBB4D487CD8D2EDEBD6.png" width="920" height="639.5681063122923"></span></p> </li></ol> </div> <div class="tiledSection"><h3 id="section13881736121316">@InsightIntentEntry装饰器<i class="anchor-icon anchor-icon-link" anchorid="section13881736121316" tips="复制节点链接"></i></h3><ol id="ZH-CN_TOPIC_0000002510294369__ol51301297431"><li id="li21308298434">基于InsightIntentEntryExecutor使用，在直接继承InsightIntentEntryExecutor的class头部或内部，右键选择<strong>CodeGenie &gt; Insight Intent  &gt; Entry Insight Intent</strong>。<p id="ZH-CN_TOPIC_0000002510294369__p77397310434"><span><img originheight="1032" originwidth="1920" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104758.08688640529371194183280476505859:50001231000000:2800:2FF574306D52976D07099C3C9C5A06D4E013EBF8308217270313F377B40591F9.png" width="920" height="494.5"></span></p> </li><li id="li14130162912437">意图装饰器自动添加至CodeGenie对话框中，可选择输入或不输入提示词，CodeGenie根据代码上下文分析输出结果。<p id="ZH-CN_TOPIC_0000002510294369__p7615113914315"><span><img originheight="837" originwidth="1203" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104758.76317292454832529744625752306753:50001231000000:2800:CE63A12D4DE7347FED5A6A9962D4D95EE3244295A874DCBA41E99B895F165699.png" width="920" height="640.0997506234414"></span></p> </li><li id="li4130112954315">生成结果后，点击对话框中生成代码块右上方的<strong>插入</strong>按钮，在class上方插入生成的代码，开发者可基于结果微调，实现意图调用。<p id="ZH-CN_TOPIC_0000002510294369__p14965154710436"><span><img originheight="835" originwidth="1204" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104758.84149811741822711222855635229528:50001231000000:2800:CAC7D93EA51CC9926C3070CD5E8E4560E6858F6F814F37BA6AF02C2A67DEFF5F.png" width="920" height="638.0398671096345"></span></p> </li></ol> </div> <div class="tiledSection"><h2 id="section1348810282588">添加意图插件和创建小艺智能体<i class="anchor-icon anchor-icon-link" anchorid="section1348810282588" tips="复制节点链接"></i></h2></div> <ol id="ZH-CN_TOPIC_0000002510294369__ol112896281017"><li id="li2870941134215">点击DevEco Studio右上角<span><img originheight="19" originwidth="18" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104758.30540128733867482674471466673025:50001231000000:2800:348C93F98CCB720C038C2283298931980FA34FC83E61CCDFF9BBD9BD5B368851.png" class="IconPic notEnlarge" width="18" height="19"></span>图标登录个人账号，再切换至个人所在的团队账号。<div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul id="ZH-CN_TOPIC_0000002510294369__ul530492016489"><li id="li13304132074810">个人账号需要完成实名认证，具体请参考<a href="https://developer.huawei.com/consumer/cn/doc/start/rna-0000001062530373" target="_blank">实名认证</a>。</li><li id="li13304112054815">如下企业开发者账号为某团队账号名称。</li></ul> </div></div></div> <p id="ZH-CN_TOPIC_0000002510294369__p1758175016429"><span><img originheight="108" originwidth="362" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104758.05289442457352058275930998061305:50001231000000:2800:98FE93498B126104B0FB68A0C7AF8763202936D8A25DA1EA61B3BA242A981806.png" width="362" height="108"></span></p> </li><li id="li62891128316">在意图注解代码块内部任意位置，右键选择<strong>CodeGenie &gt; Add Intent Plugin</strong>。<p id="ZH-CN_TOPIC_0000002510294369__p204851158145614"><span><img originheight="1032" originwidth="1920" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104758.54623232295122171252078707435056:50001231000000:2800:82E000C081CDE67C3D8176C355EBC46C2799288D7AE1D5E32CE6541F6BE91991.png" width="920" height="494.5"></span></p> </li><li id="li1942320475503">在DevEco Studio菜单栏点击<strong>View &gt; Tool Windows &gt;  Application Agent </strong>，打开内嵌的小艺智能平台。</li><li id="li106201244125216">在小艺智能体平台<a href="https://developer.huawei.com/consumer/cn/doc/service/quick-start-0000002469548009" target="_blank">创建智能体</a>，<a href="https://developer.huawei.com/consumer/cn/doc/service/develop-plug-ins-0000002435989648" target="_blank">内嵌插件</a>，连接<a href="https://developer.huawei.com/consumer/cn/doc/service/list-of-user-groups-for-real-machine-testing-0000002471264273" target="_blank">真机测试和调试</a>。更多具体操作可参考<a href="https://developer.huawei.com/consumer/cn/doc/service/developer-guide-0000002469667881" target="_blank">鸿蒙智能体</a>。</li></ol> </div> <div></div></div>