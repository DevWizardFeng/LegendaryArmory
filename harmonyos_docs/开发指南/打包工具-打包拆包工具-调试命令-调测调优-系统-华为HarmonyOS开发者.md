<h1 _ngcontent-jtn-c119="" class="doc-title ng-star-inserted" title="打包工具"> 打包工具 </h1>

<div _ngcontent-jtn-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <p>打包工具用于在程序编译完成后，对编译出的文件等进行打包，以供安装发布。开发者可以使用DevEco Studio进行打包，也可使用打包工具的JAR包进行打包，JAR包通常存放在SDK路径下的toolchains目录中。</p>    <p>打包工具支持生成：Ability类型的模块包（HAP）、动态共享包（HSP）、应用程序包（App）、快速修复模块包（HQF）、快速修复包（APPQF）。</p>    <p>打包指令中的文件来源于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-compile-build" target="_blank">DevEco Studio编译构建产物</a>，文件路径查看操作如下。</p>    <ol>     <li>      <p>在DevEco Studio工程根目录下的/hvigor/hvigor-config.json5文件中，修改"logging"下的"level"字段为"debug"。</p></li>     <li>      <p>在DevEco Studio菜单栏，依次选择"构建 -&gt; 清理项目"。</p></li>     <li>      <p>在DevEco Studio菜单栏，依次选择"构建 -&gt; 构建APP(s)"。</p></li>     <li>      <p>在DevEco Studio底部"构建"窗口，搜索"app_packing_tool.jar"，确认打包参数中文件的路径。</p></li>    </ol>    <p>打包工具会对module.json文件属性进行合法性校验。module.json文件是编译构建产物，其属性值在编译构建时自动生成，与配置文件中配置项对应关系如下。</p>    <p><strong>表1</strong> module.json与配置文件属性的对照表</p>    <div class="tablenoborder">     <div class="tbBox"><table class="layoutFixed idpTab">      <thead>       <tr>        <th align="left" class="cellrowborder" id="mcps1.3.7.1.6.1.1" valign="top" width="20%">module.json属性</th>        <th align="left" class="cellrowborder" id="mcps1.3.7.1.6.1.2" valign="top" width="20%">含义</th>        <th align="left" class="cellrowborder" id="mcps1.3.7.1.6.1.3" valign="top" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#配置文件标签">module.json5</a>配置项</th>        <th align="left" class="cellrowborder" id="mcps1.3.7.1.6.1.4" valign="top" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file#配置文件标签">app.json5</a>配置项</th>        <th align="left" class="cellrowborder" id="mcps1.3.7.1.6.1.5" valign="top" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-hvigor-build-profile-app" target="_blank">工程级build-profile.json5</a>配置项</th>       </tr>      </thead>             <tbody><tr>        <td class="cellrowborder" valign="top" width="20%">bundleName</td>        <td class="cellrowborder" valign="top" width="20%">应用的Bundle名称。</td>        <td class="cellrowborder" valign="top" width="20%">-</td>        <td class="cellrowborder" valign="top" width="20%">bundleName</td>        <td class="cellrowborder" valign="top" width="20%">-</td>       </tr>       <tr>        <td class="cellrowborder" valign="top" width="20%">bundleType</td>        <td class="cellrowborder" valign="top" width="20%">应用的Bundle类型。</td>        <td class="cellrowborder" valign="top" width="20%">-</td>        <td class="cellrowborder" valign="top" width="20%">bundleType</td>        <td class="cellrowborder" valign="top" width="20%">-</td>       </tr>       <tr>        <td class="cellrowborder" valign="top" width="20%">versionCode</td>        <td class="cellrowborder" valign="top" width="20%">应用的版本号。</td>        <td class="cellrowborder" valign="top" width="20%">-</td>        <td class="cellrowborder" valign="top" width="20%">versionCode</td>        <td class="cellrowborder" valign="top" width="20%">-</td>       </tr>       <tr>        <td class="cellrowborder" valign="top" width="20%">debug</td>        <td class="cellrowborder" valign="top" width="20%">应用是否可调试。</td>        <td class="cellrowborder" valign="top" width="20%">-</td>        <td class="cellrowborder" valign="top" width="20%">debug</td>        <td class="cellrowborder" valign="top" width="20%">-</td>       </tr>       <tr>        <td class="cellrowborder" valign="top" width="20%">module/name</td>        <td class="cellrowborder" valign="top" width="20%">当前Module的名称。</td>        <td class="cellrowborder" valign="top" width="20%">module/name</td>        <td class="cellrowborder" valign="top" width="20%">-</td>        <td class="cellrowborder" valign="top" width="20%">-</td>       </tr>       <tr>        <td class="cellrowborder" valign="top" width="20%">minCompatibleVersionCode</td>        <td class="cellrowborder" valign="top" width="20%">应用能够兼容的最低历史版本号。</td>        <td class="cellrowborder" valign="top" width="20%">-</td>        <td class="cellrowborder" valign="top" width="20%">minCompatibleVersionCode</td>        <td class="cellrowborder" valign="top" width="20%">-</td>       </tr>       <tr>        <td class="cellrowborder" valign="top" width="20%">minAPIVersion</td>        <td class="cellrowborder" valign="top" width="20%">应用运行所需的最小API版本。</td>        <td class="cellrowborder" valign="top" width="20%">-</td>        <td class="cellrowborder" valign="top" width="20%">minAPIVersion</td>        <td class="cellrowborder" valign="top" width="20%">compatibleSdkVersion</td>       </tr>       <tr>        <td class="cellrowborder" valign="top" width="20%">targetAPIVersion</td>        <td class="cellrowborder" valign="top" width="20%">应用运行需要的API目标版本。</td>        <td class="cellrowborder" valign="top" width="20%">-</td>        <td class="cellrowborder" valign="top" width="20%">targetAPIVersion</td>        <td class="cellrowborder" valign="top" width="20%">         <p>targetSdkVersion/compileSdkVersion</p>         <p>说明：targetSdkVersion存在时，targetAPIVersion由targetSdkVersion决定；</p>         <p>否则，targetAPIVersion由compileSdkVersion决定。</p></td>       </tr>       <tr>        <td class="cellrowborder" valign="top" width="20%">querySchemes</td>        <td class="cellrowborder" valign="top" width="20%">允许应用进行跳转查询的URL schemes。</td>        <td class="cellrowborder" valign="top" width="20%">querySchemes</td>        <td class="cellrowborder" valign="top" width="20%">-</td>        <td class="cellrowborder" valign="top" width="20%">-</td>       </tr>           </tbody></table></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 184px;">     <h2 id="约束与限制">约束与限制<i class="anchor-icon anchor-icon-link" anchorid="约束与限制" tips="复制节点链接"></i></h2>          <ul>      <li>打包工具需要运行在Java8及其以上环境。</li>      <li>打包指令中参数和参数值需成对出现。例如，HAP打包指令中--resources-path &lt;path&gt;，其中--resources-path为指令参数，path为参数值，两者需要同时出现。</li>     </ul>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 3007px;">     <h2 id="hap打包指令">HAP打包指令<i class="anchor-icon anchor-icon-link" anchorid="hap打包指令" tips="复制节点链接"></i></h2>          <p>开发者可以使用打包工具的JAR包对模块进行打包，通过传入打包选项、文件路径，生成所需的HAP包。</p>     <p><strong>HAP打包时合法性校验</strong></p>     <ul>      <li>从API version 21开始，在打包entry类型的HAP时，如果module.json文件中querySchemes配置了超过50个URL scheme，则要求minAPIVersion大于等于21。</li>     </ul>     <p><strong>打包HAP时的压缩规则：</strong></p>     <ul>      <li>应用配置compressNativeLibs为true时，会按照--compress-level设置的压缩等级对--lib-path指定目录下的文件进行压缩。</li>      <li>出于运行时性能等考量，--lib-path指定目录外的文件不会进行压缩。</li>     </ul>     <p>示例：</p>     <ul>      <li>       <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/application-models#应用模型概况">Stage模型</a>示例：</p>       <div _ngcontent-jtn-c106="" class="highlight-div"><div _ngcontent-jtn-c106="" class="highlight-div-header"><div _ngcontent-jtn-c106="" class="highlight-div-header-left"><div _ngcontent-jtn-c106="" class="handle-button expand-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jtn-c106="" class="highlight-div-header-right"><div _ngcontent-jtn-c106="" class="handle-button ai-button"></div><div _ngcontent-jtn-c106="" class="handle-button line-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jtn-c106="" class="handle-button theme-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jtn-c106="" class="handle-button copy-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jtn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">java</span> -<span class="hljs-variable">jar</span> <span class="hljs-variable">app_packing_tool</span>.<span class="hljs-variable">jar</span> --<span class="hljs-variable">mode</span> <span class="hljs-variable">hap</span> --<span class="hljs-variable">json</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt; [--<span class="hljs-variable">resources</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">ets</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">index</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">pack</span>-<span class="hljs-variable">info</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">lib</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] --<span class="hljs-variable">out</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt; [--<span class="hljs-variable">force</span> <span class="hljs-keyword">true</span>] [--<span class="hljs-variable">compress</span>-<span class="hljs-variable">level</span> <span class="hljs-number">5</span>] [--<span class="hljs-variable">pkg</span>-<span class="hljs-variable">context</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">hnp</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;]</li></ol></pre></div></div></li>      <li>       <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/application-models#应用模型概况">FA模型</a>示例：</p>       <div _ngcontent-jtn-c106="" class="highlight-div"><div _ngcontent-jtn-c106="" class="highlight-div-header"><div _ngcontent-jtn-c106="" class="highlight-div-header-left"><div _ngcontent-jtn-c106="" class="handle-button expand-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jtn-c106="" class="highlight-div-header-right"><div _ngcontent-jtn-c106="" class="handle-button ai-button"></div><div _ngcontent-jtn-c106="" class="handle-button line-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jtn-c106="" class="handle-button theme-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jtn-c106="" class="handle-button copy-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jtn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">java</span> -<span class="hljs-variable">jar</span> <span class="hljs-variable">app_packing_tool</span>.<span class="hljs-variable">jar</span> --<span class="hljs-variable">mode</span> <span class="hljs-variable">hap</span> --<span class="hljs-variable">json</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt; [--<span class="hljs-variable">maple</span>-<span class="hljs-variable">so</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">profile</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">maple</span>-<span class="hljs-variable">so</span>-<span class="hljs-title class_">dir</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">dex</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">lib</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">resources</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">index</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] --<span class="hljs-variable">out</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt; [--<span class="hljs-variable">force</span> <span class="hljs-keyword">true</span>] [--<span class="hljs-variable">compress</span>-<span class="hljs-variable">level</span> <span class="hljs-number">5</span>]</li></ol></pre></div></div></li>     </ul>     <p><strong>表2</strong> HAP打包指令参数说明</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.6.1.1" valign="top" width="20%">指令</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.6.1.2" valign="top" width="20%">是否必选项</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.6.1.3" valign="top" width="20%">选项</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.6.1.4" valign="top" width="20%">描述</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.6.1.5" valign="top" width="20%">备注</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="20%">--mode</td>         <td class="cellrowborder" valign="top" width="20%">是</td>         <td class="cellrowborder" valign="top" width="20%">hap</td>         <td class="cellrowborder" valign="top" width="20%">打包类型。</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%">--json-path</td>         <td class="cellrowborder" valign="top" width="20%">是</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>         <td class="cellrowborder" valign="top" width="20%">.json文件路径。FA模型文件名必须为config.json；Stage模型文件名必须为module.json。</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%">--profile-path</td>         <td class="cellrowborder" valign="top" width="20%">否</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>         <td class="cellrowborder" valign="top" width="20%">CAPABILITY.profile文件路径。</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%">--maple-so-path</td>         <td class="cellrowborder" valign="top" width="20%">否</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>         <td class="cellrowborder" valign="top" width="20%">maple so文件输入路径，so文件路径，文件名必须以.so为后缀。如果是多个so需要用“，”分隔。</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%">--maple-so-dir</td>         <td class="cellrowborder" valign="top" width="20%">否</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>         <td class="cellrowborder" valign="top" width="20%">maple so目录输入路径。</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%">--dex-path</td>         <td class="cellrowborder" valign="top" width="20%">否</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>         <td class="cellrowborder" valign="top" width="20%">          <p>dex文件路径，文件名必须以.dex为后缀。如果是多个dex需要用“，”分隔。</p>          <p>dex文件路径也可以为目录。</p></td>         <td class="cellrowborder" valign="top" width="20%">NA</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%">--lib-path</td>         <td class="cellrowborder" valign="top" width="20%">否</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>         <td class="cellrowborder" valign="top" width="20%">lib库文件路径。</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%">--resources-path</td>         <td class="cellrowborder" valign="top" width="20%">否</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>         <td class="cellrowborder" valign="top" width="20%">resources资源包路径。</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%">--index-path</td>         <td class="cellrowborder" valign="top" width="20%">否</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>         <td class="cellrowborder" valign="top" width="20%">.index文件路径，文件名必须为resources.index。</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%">--pack-info-path</td>         <td class="cellrowborder" valign="top" width="20%">否</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>         <td class="cellrowborder" valign="top" width="20%">pack.info文件路径，文件名必须为pack.info。</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%">--rpcid-path</td>         <td class="cellrowborder" valign="top" width="20%">否</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>         <td class="cellrowborder" valign="top" width="20%">rpcid.sc文件路径，文件名必须为rpcid.sc。</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%">--js-path</td>         <td class="cellrowborder" valign="top" width="20%">否</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>         <td class="cellrowborder" valign="top" width="20%">存放js文件目录路径。</td>         <td class="cellrowborder" valign="top" width="20%">仅Stage模型生效。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%">--ets-path</td>         <td class="cellrowborder" valign="top" width="20%">否</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>         <td class="cellrowborder" valign="top" width="20%">存放ets文件目录路径。</td>         <td class="cellrowborder" valign="top" width="20%">仅Stage模型生效。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%">--out-path</td>         <td class="cellrowborder" valign="top" width="20%">是</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>         <td class="cellrowborder" valign="top" width="20%">目标文件路径，文件名必须以.hap为后缀。</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%">--force</td>         <td class="cellrowborder" valign="top" width="20%">否</td>         <td class="cellrowborder" valign="top" width="20%">true或者false</td>         <td class="cellrowborder" valign="top" width="20%">默认值为false。如果为true，表示当目标文件存在时，强制删除。</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%">--an-path</td>         <td class="cellrowborder" valign="top" width="20%">否</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>         <td class="cellrowborder" valign="top" width="20%">存放<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-faqs-V5/faqs-arkts-52-V5" target="_blank">an文件</a>的路径。</td>         <td class="cellrowborder" valign="top" width="20%">仅stage模型生效。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%">--ap-path</td>         <td class="cellrowborder" valign="top" width="20%">否</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>         <td class="cellrowborder" valign="top" width="20%">存放<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-faqs-V5/faqs-arkts-52-V5" target="_blank">ap文件</a>的路径。</td>         <td class="cellrowborder" valign="top" width="20%">仅stage模型生效。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%">--dir-list</td>         <td class="cellrowborder" valign="top" width="20%">否</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>         <td class="cellrowborder" valign="top" width="20%">可指定目标文件夹列表，将其打入HAP包内。</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%">--compress-level</td>         <td class="cellrowborder" valign="top" width="20%">否</td>         <td class="cellrowborder" valign="top" width="20%">number</td>         <td class="cellrowborder" valign="top" width="20%">lib库下文件压缩等级，默认值1。可选等级1-9。在应用配置compressNativeLibs参数为true的情况下生效，数值越大压缩率越高、压缩速度越慢。</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%">--pkg-context-path</td>         <td class="cellrowborder" valign="top" width="20%">否</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>         <td class="cellrowborder" valign="top" width="20%">可指定语境信息表文件路径，文件名必须为pkgContextInfo.json。当app.json5配置文件中bundleType取值不是appPlugin，且module.json5配置文件中requestPermissions取值包含"ohos.permission.kernel.SUPPORT_PLUGIN"时，该参数必填。</td>         <td class="cellrowborder" valign="top" width="20%">仅Stage模型生效。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="20%">--hnp-path</td>         <td class="cellrowborder" valign="top" width="20%">否</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>         <td class="cellrowborder" valign="top" width="20%">指定native软件包文件路径，将native软件包打入HAP包内。</td>         <td class="cellrowborder" valign="top" width="20%">NA</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1784px;">     <h2 id="hsp打包指令">HSP打包指令<i class="anchor-icon anchor-icon-link" anchorid="hsp打包指令" tips="复制节点链接"></i></h2>          <p>HSP包实现了多个HAP对文件的共享，开发者可以使用打包工具的jar包对应用进行打包，通过传入打包选项、文件路径，生成所需的HSP包。</p>     <p><strong>打包HSP时的压缩规则：</strong></p>     <ul>      <li>应用配置compressNativeLibs为true时，会按照--compress-level设置的压缩等级对--lib-path指定目录下的文件进行压缩。</li>      <li>出于运行时性能等考量，--lib-path指定目录外的文件不会进行压缩。</li>     </ul>     <p>示例：</p>     <div _ngcontent-jtn-c106="" class="highlight-div"><div _ngcontent-jtn-c106="" class="highlight-div-header"><div _ngcontent-jtn-c106="" class="highlight-div-header-left"><div _ngcontent-jtn-c106="" class="handle-button expand-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jtn-c106="" class="highlight-div-header-right"><div _ngcontent-jtn-c106="" class="handle-button ai-button"></div><div _ngcontent-jtn-c106="" class="handle-button line-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jtn-c106="" class="handle-button theme-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jtn-c106="" class="handle-button copy-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jtn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">java</span> -<span class="hljs-variable">jar</span> <span class="hljs-variable">app_packing_tool</span>.<span class="hljs-variable">jar</span> --<span class="hljs-variable">mode</span> <span class="hljs-variable">hsp</span> --<span class="hljs-variable">json</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt; [--<span class="hljs-variable">resources</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">ets</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">index</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">pack</span>-<span class="hljs-variable">info</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">lib</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] --<span class="hljs-variable">out</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt; [--<span class="hljs-variable">force</span> <span class="hljs-keyword">true</span>] [--<span class="hljs-variable">compress</span>-<span class="hljs-variable">level</span> <span class="hljs-number">5</span>] [--<span class="hljs-variable">pkg</span>-<span class="hljs-variable">context</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;]</li></ol></pre></div></div>     <p><strong>表3</strong> HSP打包指令参数说明</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.1" valign="top" width="25%">指令</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.2" valign="top" width="25%">是否必选项</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.3" valign="top" width="25%">选项</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.4" valign="top" width="25%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="25%">--mode</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">hsp</td>         <td class="cellrowborder" valign="top" width="25%">打包类型。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--json-path</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">.json文件路径，文件名必须为module.json。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--profile-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">CAPABILITY.profile文件路径。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--dex-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">          <p>1. dex文件路径，文件名必须以.dex为后缀。如果是多个dex需要用“，”分隔。</p>          <p>2. dex文件路径也可以为目录。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--lib-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">lib库文件路径。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--resources-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">resources资源包路径。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--index-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">.index文件路径，文件名必须为resources.index。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--pack-info-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">pack.info文件路径，文件名必须为pack.info。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--js-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">存放js文件目录路径。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--ets-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">存放ets文件目录路径。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--out-path</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">目标文件路径，文件名必须以.hsp为后缀。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--force</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">true或者false</td>         <td class="cellrowborder" valign="top" width="25%">默认值为false。如果为true，表示当目标文件存在时，强制删除。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--compress-level</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">number</td>         <td class="cellrowborder" valign="top" width="25%">lib库下文件压缩等级，默认值1，可选等级1-9。在应用配置compressNativeLibs参数为true的情况下生效，数值越大压缩率越高、压缩速度越慢。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--pkg-context-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">可指定语境信息表文件路径，文件名必须为pkgContextInfo.json。当app.json5配置文件中bundleType取值不是appPlugin，且module.json5配置文件中requestPermissions取值包含"ohos.permission.kernel.SUPPORT_PLUGIN"时，该参数必填。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3226px;">     <h2 id="app打包指令">App打包指令<i class="anchor-icon anchor-icon-link" anchorid="app打包指令" tips="复制节点链接"></i></h2>          <p>开发者可以使用打包工具的jar包对应用进行打包，通过传入打包选项、文件路径，生成所需的App包。App包用于上架应用市场。</p>     <p><strong>表4</strong> App打包合法性校验规则</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.4.1.3.1.1" valign="top" width="50%">HAP/HSP的module.json中的被校验字段</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.4.1.3.1.2" valign="top" width="50%">校验规则</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">module下的name字段</td>         <td class="cellrowborder" valign="top" width="50%">要求所有HAP/HSP的name字段值均不相同。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">bundleName</td>         <td class="cellrowborder" valign="top" width="50%">要求所有HAP/HSP的bundleName字段值均保持一致。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">bundleType</td>         <td class="cellrowborder" valign="top" width="50%">要求所有HAP/HSP的bundleType字段值均保持一致。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">versionCode</td>         <td class="cellrowborder" valign="top" width="50%">要求所有HAP/HSP的versionCode字段值均保持一致。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">debug</td>         <td class="cellrowborder" valign="top" width="50%">          <p>从API version 20开始，要求所有HAP的debug字段值均保持一致，如果HAP的debug字段值为false，HSP的debug字段值也必须为false。如果HAP的debug字段值为true，对HSP的debug字段值无要求。</p>          <p>对于API version 19及之前版本，要求所有HAP/HSP的debug字段值均保持一致。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">minAPIVersion</td>         <td class="cellrowborder" valign="top" width="50%">          <p>从API version 20开始，要求所有HAP的minAPIVersion字段值均保持一致，且均不低于所有HSP对应字段的最大值。</p>          <p>对于API version 19及之前版本，要求所有HAP/HSP的minAPIVersion字段值均保持一致。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">minCompatibleVersionCode</td>         <td class="cellrowborder" valign="top" width="50%">          <p>从API version 16开始，要求所有HAP的minCompatibleVersionCode字段值均保持一致，且均不低于所有HSP对应字段的最大值。</p>          <p>对于API version 15及之前版本，要求所有HAP/HSP的minCompatibleVersionCode字段值均保持一致。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">targetAPIVersion</td>         <td class="cellrowborder" valign="top" width="50%">          <p>从API version 16开始，要求所有HAP的targetAPIVersion字段值均保持一致，且均不低于所有HSP对应字段的最大值。</p>          <p>对于API version 15及之前版本，要求所有HAP/HSP的targetAPIVersion字段值均保持一致。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">versionName</td>         <td class="cellrowborder" valign="top" width="50%">从API version 12开始，不再对versionName校验。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>module.json文件为DevEco Studio编译构建产物，其中的字段与配置文件的对应关系，请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/packing-tool">表1 module.json与配置文件属性的对照表</a>。</li>       </ul>      </div></div></div>     <p><strong>打包App时的压缩规则：</strong> 打包App时，对release模式的HAP、HSP包会进行压缩，对debug模式的HAP、HSP包不会压缩。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>若HAP/HSP中已压缩的so文件，在打包APP时再次压缩，将不会有明显体积缩减。</p>      </div></div></div>     <p>示例：</p>     <div _ngcontent-jtn-c106="" class="highlight-div"><div _ngcontent-jtn-c106="" class="highlight-div-header"><div _ngcontent-jtn-c106="" class="highlight-div-header-left"><div _ngcontent-jtn-c106="" class="handle-button expand-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jtn-c106="" class="highlight-div-header-right"><div _ngcontent-jtn-c106="" class="handle-button ai-button"></div><div _ngcontent-jtn-c106="" class="handle-button line-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jtn-c106="" class="handle-button theme-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jtn-c106="" class="handle-button copy-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jtn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">java</span> -<span class="hljs-variable">jar</span> <span class="hljs-variable">app_packing_tool</span>.<span class="hljs-variable">jar</span> --<span class="hljs-variable">mode</span> <span class="hljs-variable">app</span> [--<span class="hljs-variable">hap</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">hsp</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] --<span class="hljs-variable">out</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt; [--<span class="hljs-variable">signature</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">certificate</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] --<span class="hljs-variable">pack</span>-<span class="hljs-variable">info</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt; [--<span class="hljs-variable">pack</span>-<span class="hljs-variable">res</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">force</span> <span class="hljs-keyword">true</span>] [--<span class="hljs-variable">encrypt</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">pac</span>-<span class="hljs-variable">json</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">atomic</span>-<span class="hljs-variable">service</span>-<span class="hljs-variable">entry</span>-<span class="hljs-variable">size</span>-<span class="hljs-title class_">limit</span> &lt;<span class="hljs-title class_">size</span>&gt;] [--<span class="hljs-variable">atomic</span>-<span class="hljs-variable">service</span>-<span class="hljs-variable">non</span>-<span class="hljs-variable">entry</span>-<span class="hljs-variable">size</span>-<span class="hljs-title class_">limit</span> &lt;<span class="hljs-title class_">size</span>&gt;]</li></ol></pre></div></div>     <p><strong>表5</strong> App打包指令参数说明</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.11.1.5.1.1" valign="top" width="25%">指令</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.11.1.5.1.2" valign="top" width="25%">是否必选项</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.11.1.5.1.3" valign="top" width="25%">选项</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.11.1.5.1.4" valign="top" width="25%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="25%">--mode</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">app</td>         <td class="cellrowborder" valign="top" width="25%">多个HAP需满足HAP的合法性校验。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--hap-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">          <p>HAP包文件路径，文件名必须以.hap为后缀。如果是多个HAP包需要用“,”分隔。</p>          <p>HAP包文件路径也可以是目录。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--hsp-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">          <p>HSP包文件路径，文件名必须以.hsp为后缀。如果是多个HSP包需要用“,”分隔。</p>          <p>HSP包文件路径也可以是目录。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--pack-info-path</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">文件名必须为pack.info。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--out-path</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">目标文件路径，文件名必须以.app为后缀。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--signature-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">签名路径。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--certificate-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">证书路径。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--pack-res-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">pack.res快照文件路径。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--force</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">true或者false</td>         <td class="cellrowborder" valign="top" width="25%">默认值为false。如果为true，表示当目标文件存在时，强制删除。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--encrypt-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">文件名必须为encrypt.json 。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--pac-json-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/agc-pac" target="_blank">pac.json</a>文件路径，文件名必须为pac.json。</p>          <p>从API Version 20开始支持该参数。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--atomic-service-entry-size-limit</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">设置元服务entry包大小（包含其依赖包的大小）限制，仅Stage模型应用且bundleType为atomicService时生效。取值范围为[0,4194304]的整数，取值为0表示不限制大小，单位KB。不设置该参数时默认值为2048KB。如果entry包是release模式（module.json5文件中type字段值为entry，且app.json5中debug字段的值为false），该限制作用于打包app时压缩后的entry包大小（包含其依赖包的大小）。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--atomic-service-non-entry-size-limit</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">设置元服务非entry包大小（包含其依赖包的大小）限制，仅Stage模型应用且bundleType为atomicService时生效。取值范围为[0,4194304]的整数，取值为0表示不限制大小，单位KB。不设置该参数时默认值为2048KB。如果非entry包是release模式（module.json5文件中type字段值不是entry，且app.json5中debug字段的值为false），该限制作用于打包app时压缩后的非entry包大小（包含其依赖包的大小）。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3311px;">     <h2 id="多工程打包指令">多工程打包指令<i class="anchor-icon anchor-icon-link" anchorid="多工程打包指令" tips="复制节点链接"></i></h2>          <p>多工程打包适用于多个团队开发同一个应用，但不方便共享代码的情况。开发者通过传入已经打好的HAP、HSP和App包，将多个包打成一个最终的App包，并上架应用市场。</p>     <p><strong>表6</strong> 多工程打包合法性校验规则</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.4.1.3.1.1" valign="top" width="50%">HAP/HSP的module.json中的被校验字段</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.4.1.3.1.2" valign="top" width="50%">校验规则</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">module下的name字段</td>         <td class="cellrowborder" valign="top" width="50%">要求所有HAP/HSP的name字段值均不相同。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">bundleName</td>         <td class="cellrowborder" valign="top" width="50%">要求所有HAP/HSP的bundleName字段值均保持一致。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">bundleType</td>         <td class="cellrowborder" valign="top" width="50%">要求所有HAP/HSP的bundleType字段值均保持一致。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">versionCode</td>         <td class="cellrowborder" valign="top" width="50%">要求所有HAP/HSP的versionCode字段值均保持一致。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">debug</td>         <td class="cellrowborder" valign="top" width="50%">          <p>从API version 20开始，要求所有HAP的debug字段值均保持一致，如果HAP的debug字段值为false，HSP的debug字段值也必须为false。如果HAP的debug字段值为true，对HSP的debug字段值无要求。</p>          <p>对于API version 19及之前版本，要求所有HAP/HSP的debug字段值均保持一致。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">minAPIVersion</td>         <td class="cellrowborder" valign="top" width="50%">          <p>从API version 20开始，要求所有HAP的minAPIVersion字段值均保持一致，且均不低于所有HSP对应字段的最大值。</p>          <p>对于API version 19及之前版本，要求所有HAP/HSP的minAPIVersion字段值均保持一致。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">minCompatibleVersionCode</td>         <td class="cellrowborder" valign="top" width="50%">          <p>从API version 16开始，要求所有HAP的minCompatibleVersionCode字段值均保持一致，且均不低于所有HSP对应字段的最大值。</p>          <p>对于API version 15及之前版本，要求所有HAP/HSP的minCompatibleVersionCode字段值均保持一致。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">targetAPIVersion</td>         <td class="cellrowborder" valign="top" width="50%">          <p>从API version 16开始，要求所有HAP的targetAPIVersion字段值均保持一致，且均不低于所有HSP对应字段的最大值。</p>          <p>对于API version 15及之前版本，要求所有HAP/HSP的targetAPIVersion字段值均保持一致。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">versionName</td>         <td class="cellrowborder" valign="top" width="50%">从API version 12开始，不再对versionName校验。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>module.json文件为DevEco Studio编译构建产物，其中的字段与配置文件的对应关系，请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/packing-tool">表1 module.json与配置文件属性的对照表</a>。</li>       </ul>      </div></div></div>     <p>示例：</p>     <div _ngcontent-jtn-c106="" class="highlight-div"><div _ngcontent-jtn-c106="" class="highlight-div-header"><div _ngcontent-jtn-c106="" class="highlight-div-header-left"><div _ngcontent-jtn-c106="" class="handle-button expand-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jtn-c106="" class="highlight-div-header-right"><div _ngcontent-jtn-c106="" class="handle-button ai-button"></div><div _ngcontent-jtn-c106="" class="handle-button line-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jtn-c106="" class="handle-button theme-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jtn-c106="" class="handle-button copy-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jtn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">java</span> -<span class="hljs-variable">jar</span> <span class="hljs-variable">app_packing_tool</span>.<span class="hljs-variable">jar</span> --<span class="hljs-variable">mode</span> <span class="hljs-variable">multiApp</span> [--<span class="hljs-variable">hap</span>-<span class="hljs-title class_">list</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">hsp</span>-<span class="hljs-title class_">list</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">app</span>-<span class="hljs-title class_">list</span> &lt;<span class="hljs-title class_">path</span>&gt;] --<span class="hljs-variable">out</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">option</span>&gt; [--<span class="hljs-variable">force</span> <span class="hljs-keyword">true</span>] [--<span class="hljs-variable">encrypt</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">pac</span>-<span class="hljs-variable">json</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">atomic</span>-<span class="hljs-variable">service</span>-<span class="hljs-variable">entry</span>-<span class="hljs-variable">size</span>-<span class="hljs-title class_">limit</span> &lt;<span class="hljs-title class_">size</span>&gt;] [--<span class="hljs-variable">atomic</span>-<span class="hljs-variable">service</span>-<span class="hljs-variable">non</span>-<span class="hljs-variable">entry</span>-<span class="hljs-variable">size</span>-<span class="hljs-title class_">limit</span> &lt;<span class="hljs-title class_">size</span>&gt;]</li></ol></pre></div></div>     <p><strong>表7</strong> 多工程打包指令参数说明</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.5.1.1" valign="top" width="25%">指令</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.5.1.2" valign="top" width="25%">是否必选项</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.5.1.3" valign="top" width="25%">选项</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.5.1.4" valign="top" width="25%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="25%">--mode</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">multiApp</td>         <td class="cellrowborder" valign="top" width="25%">打包类型，在将多个HAP打入同一个App时，需保证每个HAP满足合法性校验规则。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--hap-list</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">HAP的路径</td>         <td class="cellrowborder" valign="top" width="25%">          <p>HAP包文件路径，文件名必须以.hap为后缀。如果是多个HAP包需要“,”分隔。</p>          <p>HAP文件路径也可以是目录。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--hsp-list</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">HSP的路径</td>         <td class="cellrowborder" valign="top" width="25%">          <p>HSP包文件路径，文件名必须以.hsp为后缀。如果是多个HSP包需要“,”分隔。</p>          <p>HSP文件路径也可以是目录。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--app-list</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">App的路径</td>         <td class="cellrowborder" valign="top" width="25%">          <p>App文件路径，文件名必须以.app为后缀。如果是多个App包需要用“,”分隔。</p>          <p>App文件路径也可以是目录。</p>          <p>--hap-list，--hsp-list，--app-list不可以都不传。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--out-path</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">目标文件路径，文件名必须以.app为后缀。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--force</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">true或者false</td>         <td class="cellrowborder" valign="top" width="25%">默认值为false。如果为true，表示当目标文件存在时，强制删除。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--encrypt-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">encrypt.json的路径</td>         <td class="cellrowborder" valign="top" width="25%">文件名必须为encrypt.json。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--pac-json-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/agc-pac" target="_blank">pac.json</a>文件路径，文件名必须为pac.json。</p>          <p>最终app产物中pac.json文件只来源于该参数，不配置的话，最终app产物不包含该文件。</p>          <p>--app-list参数指定的app包中的pac.json不会打包进最终app。</p>          <p>从API Version 20开始支持该参数。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--atomic-service-entry-size-limit</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">设置元服务entry包大小（包含其依赖包的大小）限制，仅Stage模型应用且bundleType为atomicService时生效。取值范围为[0,4194304]的整数，取值为0表示不限制大小，单位KB。不设置该参数时默认值为2048KB。如果entry包是release模式（module.json5文件中type字段值为entry，且app.json5中debug字段的值为false），该限制作用于打包app时压缩后的entry包大小（包含其依赖包的大小）。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--atomic-service-non-entry-size-limit</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">设置元服务非entry包大小（包含其依赖包的大小）限制，仅Stage模型应用且bundleType为atomicService时生效。取值范围为[0,4194304]的整数，取值为0表示不限制大小，单位KB。不设置该参数时默认值为2048KB。如果非entry包是release模式（module.json5文件中type字段值不是entry，且app.json5中debug字段的值为false），该限制作用于打包app时压缩后的非entry包大小（包含其依赖包的大小）。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 913px;">     <h2 id="hqf打包指令">HQF打包指令<i class="anchor-icon anchor-icon-link" anchorid="hqf打包指令" tips="复制节点链接"></i></h2>          <p>HQF包适用于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-incremental-debugging" target="_blank">增量调试</a>场景。开发者可以使用打包工具的jar包对应用进行打包，通过传入打包选项、文件路径，生成所需的HQF包。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>HQF包不支持上架应用市场，仅用于增量调试。</li>       </ul>      </div></div></div>     <p>示例:</p>     <div _ngcontent-jtn-c106="" class="highlight-div"><div _ngcontent-jtn-c106="" class="highlight-div-header"><div _ngcontent-jtn-c106="" class="highlight-div-header-left"><div _ngcontent-jtn-c106="" class="handle-button expand-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jtn-c106="" class="highlight-div-header-right"><div _ngcontent-jtn-c106="" class="handle-button ai-button"></div><div _ngcontent-jtn-c106="" class="handle-button line-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jtn-c106="" class="handle-button theme-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jtn-c106="" class="handle-button copy-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jtn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">java</span> -<span class="hljs-variable">jar</span> <span class="hljs-variable">app_packing_tool</span>.<span class="hljs-variable">jar</span> --<span class="hljs-variable">mode</span> <span class="hljs-variable">hqf</span> --<span class="hljs-variable">json</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt; [--<span class="hljs-variable">lib</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">ets</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">resources</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] --<span class="hljs-variable">out</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt; [--<span class="hljs-variable">force</span> <span class="hljs-keyword">true</span>]</li></ol></pre></div></div>     <p><strong>表8</strong> HQF打包指令参数说明</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.1" valign="top" width="25%">指令</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.2" valign="top" width="25%">是否必选项</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.3" valign="top" width="25%">选项</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.4" valign="top" width="25%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="25%">--mode</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">hqf</td>         <td class="cellrowborder" valign="top" width="25%">打包类型。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--json-path</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">.json文件路径，文件名必须为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-incremental-debugging#section28031446182019" target="_blank">patch.json</a>。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--lib-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">lib库文件的路径。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--ets-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">存放ets文件目录路径。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--resources-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">resources资源包路径。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--out-path</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">目标文件路径，文件名必须以.hqf为后缀。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--force</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">true或者false</td>         <td class="cellrowborder" valign="top" width="25%">默认值为false。如果为true，表示当目标文件存在时，强制删除。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 894px;">     <h2 id="appqf打包指令">APPQF打包指令<i class="anchor-icon anchor-icon-link" anchorid="appqf打包指令" tips="复制节点链接"></i></h2>          <p>APPQF包由一个或多个HQF文件组成。这些HQF包在应用市场会从APPQF包中拆分出来，再被分发到具体的设备上。开发者可以使用打包工具的jar包对应用进行打包，通过传入打包选项、文件路径，生成所需的APPQF包。</p>     <p><strong>APPQF打包合法性校验</strong></p>     <ul>      <li>在打包生成APPQF包时，确保每个HQF的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-incremental-debugging#section28031446182019" target="_blank">patch.json文件</a>中的versionName、versionCode、patchVersionName、patchVersionCode保持一致。</li>      <li>所有HQF不得重复。HQF重复是指同时满足以下两个条件：       <ol>        <li>两个HQF的patch.json文件中module下的name字段相同。</li>        <li>两个HQF的patch.json文件中module下的deviceTypes属性相交（至少存在一个相同的设备类型）。</li>       </ol></li>     </ul>     <p>示例:</p>     <div _ngcontent-jtn-c106="" class="highlight-div"><div _ngcontent-jtn-c106="" class="highlight-div-header"><div _ngcontent-jtn-c106="" class="highlight-div-header-left"><div _ngcontent-jtn-c106="" class="handle-button expand-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jtn-c106="" class="highlight-div-header-right"><div _ngcontent-jtn-c106="" class="handle-button ai-button"></div><div _ngcontent-jtn-c106="" class="handle-button line-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jtn-c106="" class="handle-button theme-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jtn-c106="" class="handle-button copy-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jtn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-css" data-highlighted="yes"><ol class="linenums"><li>java -jar app_packing_tool<span class="hljs-selector-class">.jar</span> <span class="hljs-attr">--mode</span> appqf <span class="hljs-attr">--hqf-list</span> &lt;path&gt; <span class="hljs-attr">--out-path</span> &lt;path&gt; <span class="hljs-selector-attr">[--force true]</span></li></ol></pre></div></div>     <p><strong>表9</strong> APPQF打包指令参数说明</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.1" valign="top" width="25%">指令</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.2" valign="top" width="25%">是否必选项</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.3" valign="top" width="25%">选项</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.4" valign="top" width="25%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="25%">--mode</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">appqf</td>         <td class="cellrowborder" valign="top" width="25%">打包类型。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--hqf-list</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/packing-tool#hqf打包指令">HQF文件</a>路径，多个HQF以英文逗号隔开。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--out-path</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">目标文件路径，文件名必须以.appqf为后缀。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--force</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">true或者false</td>         <td class="cellrowborder" valign="top" width="25%">默认值为false。如果为true，表示当目标文件存在时，强制删除。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 939px;">     <h2 id="版本归一指令versionnormalize">版本归一指令（versionNormalize）<i class="anchor-icon anchor-icon-link" anchorid="版本归一指令versionnormalize" tips="复制节点链接"></i></h2>          <p>同一个App中，所有HAP、HSP包的versionName和versionCode需要保持一致。当只有一个HAP或HSP需要修改升级时，可以调用此命令，将多个HAP、HSP的版本统一。本命令会修改所传入的HAP、HSP的版本号和版本名称，并在指定目录生成修改后的同名HAP、HSP，以及一个version_record.json文件，用于记录所有HAP、HSP原有的版本号、版本名称。</p>     <p>示例：</p>     <div _ngcontent-jtn-c106="" class="highlight-div"><div _ngcontent-jtn-c106="" class="highlight-div-header"><div _ngcontent-jtn-c106="" class="highlight-div-header-left"><div _ngcontent-jtn-c106="" class="handle-button expand-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jtn-c106="" class="highlight-div-header-right"><div _ngcontent-jtn-c106="" class="handle-button ai-button"></div><div _ngcontent-jtn-c106="" class="handle-button line-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jtn-c106="" class="handle-button theme-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jtn-c106="" class="handle-button copy-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jtn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-css" data-highlighted="yes"><ol class="linenums"><li>java -jar app_packing_tool<span class="hljs-selector-class">.jar</span> <span class="hljs-attr">--mode</span> versionNormalize <span class="hljs-attr">--input-list</span> <span class="hljs-number">1</span><span class="hljs-selector-class">.hap</span>,<span class="hljs-number">2</span><span class="hljs-selector-class">.hsp</span> <span class="hljs-attr">--version-code</span> <span class="hljs-number">1000001</span> <span class="hljs-attr">--version-name</span> <span class="hljs-number">1.0</span>.<span class="hljs-number">1</span> <span class="hljs-attr">--out-path</span> out</li></ol></pre></div></div>     <p><strong>表10</strong> versionNormalize指令参数说明</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.1" valign="top" width="25%">指令</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.2" valign="top" width="25%">是否必选项</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.3" valign="top" width="25%">选项</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.5.1.4" valign="top" width="25%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="25%">--mode</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">versionNormalize</td>         <td class="cellrowborder" valign="top" width="25%">命令类型。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--input-list</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">HAP或HSP的路径</td>         <td class="cellrowborder" valign="top" width="25%">          <p>1. HAP或HSP包文件路径，文件名必须以.HAP或.HSP为后缀。如果是多个HAP或HSP包需要“,”分隔。</p>          <p>2. 传入目录时，会读取目录下所有的HAP和HSP文件。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--version-code</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">版本号</td>         <td class="cellrowborder" valign="top" width="25%">指定的版本号，HAP、HSP的版本号会被修改为该版本。需要为整数，且不小于所有传入的HAP、HSP的版本号。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--version-name</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">版本名称</td>         <td class="cellrowborder" valign="top" width="25%">指定的版本名称，HAP、HSP的版本名称会被修改为该版本名称。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--out-path</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">目标文件路径，需要为一个目录。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 795px;">     <h2 id="包名归一指令packagenormalize">包名归一指令（packageNormalize）<i class="anchor-icon anchor-icon-link" anchorid="包名归一指令packagenormalize" tips="复制节点链接"></i></h2>          <p>此命令可以修改传入的HSP的包名和版本号，并在指定目录生成修改后的同名HSP。</p>     <p>示例：</p>     <div _ngcontent-jtn-c106="" class="highlight-div"><div _ngcontent-jtn-c106="" class="highlight-div-header"><div _ngcontent-jtn-c106="" class="highlight-div-header-left"><div _ngcontent-jtn-c106="" class="handle-button expand-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jtn-c106="" class="highlight-div-header-right"><div _ngcontent-jtn-c106="" class="handle-button ai-button"></div><div _ngcontent-jtn-c106="" class="handle-button line-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jtn-c106="" class="handle-button theme-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jtn-c106="" class="handle-button copy-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jtn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-css" data-highlighted="yes"><ol class="linenums"><li>java -jar app_packing_tool<span class="hljs-selector-class">.jar</span> <span class="hljs-attr">--mode</span> packageNormalize <span class="hljs-attr">--hsp-list</span> <span class="hljs-number">1</span><span class="hljs-selector-class">.hsp</span>,<span class="hljs-number">2</span><span class="hljs-selector-class">.hsp</span> <span class="hljs-attr">--bundle-name</span> com<span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.myapplication</span> <span class="hljs-attr">--version-code</span> <span class="hljs-number">1000001</span> <span class="hljs-attr">--out-path</span> out</li></ol></pre></div></div>     <p><strong>表11</strong> 参数含义及规范</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.1" valign="top" width="25%">指令</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.2" valign="top" width="25%">是否必选项</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.3" valign="top" width="25%">选项</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.5.1.4" valign="top" width="25%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="25%">--mode</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">packageNormalize</td>         <td class="cellrowborder" valign="top" width="25%">命令类型。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--hsp-list</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">HSP的路径</td>         <td class="cellrowborder" valign="top" width="25%">          <p>1. HSP包文件路径，文件名必须以.hsp为后缀。如果是多个HSP包需要“,”分隔。</p>          <p>2. HSP包目录。仅处理目录内以.hsp为后缀的文件。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--bundle-name</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">包名</td>         <td class="cellrowborder" valign="top" width="25%">指定的包名，HSP的包名会被修改为指定的包名。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--version-code</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">版本号</td>         <td class="cellrowborder" valign="top" width="25%">指定的版本号，HSP的版本号会被修改为该版本号。需要为整数，且大于0。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--out-path</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">目标文件路径，需要为一个目录。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3172px;">     <h2 id="通用归一指令generalnormalize">通用归一指令（generalNormalize）<i class="anchor-icon anchor-icon-link" anchorid="通用归一指令generalnormalize" tips="复制节点链接"></i></h2>          <p>此命令可以修改传入的HAP/HSP的 deviceType/bundleName/versionName/versionCode/minCompatibleVersionCode/minAPIVersion/targetAPIVersion/</p>     <p>apiReleaseType/bundleTypes/installationFree/deliveryWithInstall参数，并在指定目录生成修改后的同名HAP/HSP，以及一个general_record.json文件，用于记录所有HAP、HSP原有的参数名称和moduleName。上述设置的参数应符合正确打包规范，否则会在指定目录生成HAP/HSP失败，指定目录不会有文件生成。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>从API version 20开始支持通用归一化指令。</li>       </ul>      </div></div></div>     <p>示例：</p>     <div _ngcontent-jtn-c106="" class="highlight-div"><div _ngcontent-jtn-c106="" class="highlight-div-header"><div _ngcontent-jtn-c106="" class="highlight-div-header-left"><div _ngcontent-jtn-c106="" class="handle-button expand-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jtn-c106="" class="highlight-div-header-right"><div _ngcontent-jtn-c106="" class="handle-button ai-button"></div><div _ngcontent-jtn-c106="" class="handle-button line-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jtn-c106="" class="handle-button theme-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jtn-c106="" class="handle-button copy-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jtn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>java -jar app_packing_tool<span class="hljs-selector-class">.jar</span> <span class="hljs-attr">--mode</span> generalNormalize <span class="hljs-attr">--input-list</span> <span class="hljs-number">1</span><span class="hljs-selector-class">.hsp</span>,<span class="hljs-number">2</span><span class="hljs-selector-class">.hsp</span> <span class="hljs-attr">--bundle-name</span> com<span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.myapplication</span> <span class="hljs-attr">--version-code</span> <span class="hljs-number">1000001</span> <span class="hljs-attr">--version-name</span> <span class="hljs-number">1.0</span><span class="hljs-selector-class">.1</span> <span class="hljs-attr">--min-compatible-version-code</span> <span class="hljs-number">14</span> <span class="hljs-attr">--min-api-version</span> <span class="hljs-number">14</span> <span class="hljs-attr">--target-api-version</span> <span class="hljs-number">14</span> <span class="hljs-attr">--api-release-type</span> Release1 <span class="hljs-attr">--bundle-type</span> app <span class="hljs-attr">--installation-free</span> false <span class="hljs-attr">--delivery-with-install</span> true <span class="hljs-attr">--device-types</span> default,tablet <span class="hljs-attr">--out-path</span> out</li></ol></pre></div></div>     <p><strong>表12</strong> 参数含义及规范</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.1" valign="top" width="25%">指令</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.2" valign="top" width="25%">是否必选项</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.3" valign="top" width="25%">选项</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.4" valign="top" width="25%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="25%">--mode</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">generalNormalize</td>         <td class="cellrowborder" valign="top" width="25%">指令类型，表示通用归一化指令。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--input-list</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">HAP或HSP的路径</td>         <td class="cellrowborder" valign="top" width="25%">          <p>1. HAP或HSP包文件路径，文件名必须以.hap或.hsp为后缀。多个HAP或HSP包文件路径之间使用“,”分隔。</p>          <p>2. 传入目录时，会读取目录下所有的HAP和HSP文件。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--bundle-name</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">包名</td>         <td class="cellrowborder" valign="top" width="25%">指定的Bundle名称，传入的包的Bundle名称会被修改为该Bundle名称。指定的值不能为空，该字段的详细定义和规格请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file#配置文件标签">app.json5</a>中的bundleName字段。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--version-code</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">版本号</td>         <td class="cellrowborder" valign="top" width="25%">指定的版本号，传入的包的版本号会被修改为该版本号。取值范围为0~2147483647的整数，指定的值不能为空值，该字段的详细定义和规格请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file#配置文件标签">app.json5</a>中的versionCode字段。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--version-name</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">版本名称</td>         <td class="cellrowborder" valign="top" width="25%">指定的版本名称，传入的包的版本名称会被修改为该版本名称。指定的值不能为空，该字段的详细定义和规格请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file#配置文件标签">app.json5</a>中的versionName字段。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--min-compatible-version-code</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">能够兼容的最低历史版本号</td>         <td class="cellrowborder" valign="top" width="25%">指定的最低历史版本号，传入的包的最低历史版本号会被修改为该版本号。取值范围为0~2147483647的整数，指定的值不能为空值，该字段的详细定义和规格请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file#配置文件标签">app.json5</a>中的minCompatibleVersionCode字段。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--min-api-version</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">SDK的API最小版本</td>         <td class="cellrowborder" valign="top" width="25%">指定的SDK的API最小版本，传入的包的SDK的API最小版本会被修改为该版本。取值范围为0~2147483647的整数，指定的值不能为空值，该字段的详细定义和规格请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file#配置文件标签">app.json5</a>中的minAPIVersion字段。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--target-api-version</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">API目标版本</td>         <td class="cellrowborder" valign="top" width="25%">指定的API目标版本，传入的包的API目标版本会被修改为该版本。取值范围为0~2147483647的整数，指定的值不能为空值，该字段的详细定义和规格请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file#配置文件标签">app.json5</a>中的targetAPIVersion字段。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--api-release-type</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">API目标版本的类型</td>         <td class="cellrowborder" valign="top" width="25%">指定的API目标版本的类型，传入的包的API目标版本的类型会被修改为该类型。指定的值不能为空，该字段的详细定义和规格请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file#配置文件标签">app.json5</a>中的apiReleaseType字段。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--bundle-type</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">Bundle类型</td>         <td class="cellrowborder" valign="top" width="25%">指定的Bundle类型，传入的包的Bundle类型会被修改为该类型。指定的值不能为空，该字段的详细定义和规格请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file#配置文件标签">app.json5</a>中的bundleType字段。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--installation-free</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">是否支持免安装特性</td>         <td class="cellrowborder" valign="top" width="25%">指定的免安装特性，传入的包的免安装特性会被修改为该类型。指定的值不能为空，该字段的详细定义和规格请参考Stage模型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#配置文件标签">module.json5</a>/FA模型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/application-configuration-file-overview-fa">config.json</a>中的installationFree字段。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--delivery-with-install</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">当前HAP是否在用户主动安装HAP所在应用的时候一起安装</td>         <td class="cellrowborder" valign="top" width="25%">指定的HAP是否需要一起安装，传入的包的deliveryWithInstall会被修改为该类型。指定的值不能为空，该字段的详细定义和规格参考Stage模型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#配置文件标签">module.json5</a>/FA模型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/application-configuration-file-overview-fa">config.json</a>中的deliveryWithInstall字段。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--device-types</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">允许Ability运行的设备类型</td>         <td class="cellrowborder" valign="top" width="25%">指定的设备类型，传入的包的设备类型会被修改为该类型。指定的值不能为空，该字段的详细定义和规格请参考Stage模型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#配置文件标签">module.json5</a>/FA模型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/application-configuration-file-overview-fa">config.json</a>中的deviceTypes字段，传入值的形式为字符串格式，多个设备类型之间使用“,”分隔。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--out-path</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">目标文件路径，需要为一个有读写权限的目录。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 675px;">     <h2 id="res模式打包指令">res模式打包指令<i class="anchor-icon anchor-icon-link" anchorid="res模式打包指令" tips="复制节点链接"></i></h2>          <p>此命令用于打包元服务快照资源。</p>     <p>示例：</p>     <div _ngcontent-jtn-c106="" class="highlight-div"><div _ngcontent-jtn-c106="" class="highlight-div-header"><div _ngcontent-jtn-c106="" class="highlight-div-header-left"><div _ngcontent-jtn-c106="" class="handle-button expand-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jtn-c106="" class="highlight-div-header-right"><div _ngcontent-jtn-c106="" class="handle-button ai-button"></div><div _ngcontent-jtn-c106="" class="handle-button line-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jtn-c106="" class="handle-button theme-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jtn-c106="" class="handle-button copy-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jtn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">java</span> -<span class="hljs-variable">jar</span> <span class="hljs-variable">app_packing_tool</span>.<span class="hljs-variable">jar</span> --<span class="hljs-variable">mode</span> <span class="hljs-variable">res</span> --<span class="hljs-variable">entrycard</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt; --<span class="hljs-variable">pack</span>-<span class="hljs-variable">info</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt; --<span class="hljs-variable">out</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt; [--<span class="hljs-variable">force</span> <span class="hljs-keyword">true</span>]</li></ol></pre></div></div>     <p><strong>表13</strong> 参数含义及规范</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.1" valign="top" width="25%">指令</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.2" valign="top" width="25%">是否必选项</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.3" valign="top" width="25%">选项</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.4" valign="top" width="25%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="25%">--mode</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">res</td>         <td class="cellrowborder" valign="top" width="25%">命令类型。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--entrycard-path</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">快照目录的路径。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--pack-info-path</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">pack.info文件路径。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--out-path</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">目标文件路径，文件名必须以.res为后缀。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--force</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">true或者false</td>         <td class="cellrowborder" valign="top" width="25%">默认值为false。如果为true，表示当目标文件存在时，强制删除。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3277px;">     <h2 id="fastapp模式打包指令">fastApp模式打包指令<i class="anchor-icon anchor-icon-link" anchorid="fastapp模式打包指令" tips="复制节点链接"></i></h2>          <p>开发者可以使用打包工具的jar包对应用进行打包，通过传入打包选项、HAP、HSP包文件目录路径，生成所需的App包。App包用于上架应用市场。</p>     <p><strong>表14</strong> fastApp打包合法性校验规则</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.3.1.1" valign="top" width="50%">HAP/HSP的module.json中的被校验字段</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.4.1.3.1.2" valign="top" width="50%">校验规则</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">module下的name字段</td>         <td class="cellrowborder" valign="top" width="50%">要求所有HAP/HSP的name字段值均不相同。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">bundleName</td>         <td class="cellrowborder" valign="top" width="50%">要求所有HAP/HSP的bundleName字段值均保持一致。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">bundleType</td>         <td class="cellrowborder" valign="top" width="50%">要求所有HAP/HSP的bundleType字段值均保持一致。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">versionCode</td>         <td class="cellrowborder" valign="top" width="50%">要求所有HAP/HSP的versionCode字段值均保持一致。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">debug</td>         <td class="cellrowborder" valign="top" width="50%">          <p>从API version 20开始，要求所有HAP的debug字段值均保持一致，如果HAP的debug字段值为false，HSP的debug字段值也必须为false。如果HAP的debug字段值为true，对HSP的debug字段值无要求。</p>          <p>对于API version 19及之前版本，要求所有HAP/HSP的debug字段值均保持一致。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">minAPIVersion</td>         <td class="cellrowborder" valign="top" width="50%">          <p>从API version 20开始，要求所有HAP的minAPIVersion字段值均保持一致，且均不低于所有HSP对应字段的最大值。</p>          <p>对于API version 19及之前版本，要求所有HAP/HSP的minAPIVersion字段值均保持一致。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">minCompatibleVersionCode</td>         <td class="cellrowborder" valign="top" width="50%">          <p>从API version 16开始，要求所有HAP的minCompatibleVersionCode字段值均保持一致，且均不低于所有HSP对应字段的最大值。</p>          <p>对于API version 15及之前版本，要求所有HAP/HSP的minCompatibleVersionCode字段值均保持一致。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">targetAPIVersion</td>         <td class="cellrowborder" valign="top" width="50%">          <p>从API version 16开始，要求所有HAP的targetAPIVersion字段值均保持一致，且均不低于所有HSP对应字段的最大值。</p>          <p>对于API version 15及之前版本，要求所有HAP/HSP的targetAPIVersion字段值均保持一致。</p></td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>module.json文件为DevEco Studio编译构建产物，其中的字段与配置文件的对应关系，请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/packing-tool">表1 module.json与配置文件属性的对照表</a>。</li>       </ul>      </div></div></div>     <p><strong>打包App时的压缩规则：</strong> 打包App时，对release模式的HAP、HSP包会进行压缩，对debug模式的HAP、HSP包不会压缩。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>若HAP/HSP中已压缩的so文件，在打包APP时再次压缩，将不会有明显体积缩减。</p>      </div></div></div>     <p>示例：</p>     <div _ngcontent-jtn-c106="" class="highlight-div"><div _ngcontent-jtn-c106="" class="highlight-div-header"><div _ngcontent-jtn-c106="" class="highlight-div-header-left"><div _ngcontent-jtn-c106="" class="handle-button expand-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jtn-c106="" class="highlight-div-header-right"><div _ngcontent-jtn-c106="" class="handle-button ai-button"></div><div _ngcontent-jtn-c106="" class="handle-button line-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jtn-c106="" class="handle-button theme-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jtn-c106="" class="handle-button copy-button"><div _ngcontent-jtn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jtn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">java</span> -<span class="hljs-variable">jar</span> <span class="hljs-variable">app_packing_tool</span>.<span class="hljs-variable">jar</span> --<span class="hljs-variable">mode</span> <span class="hljs-variable">fastApp</span> [--<span class="hljs-variable">hap</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">hsp</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] --<span class="hljs-variable">out</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt; [--<span class="hljs-variable">signature</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">certificate</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] --<span class="hljs-variable">pack</span>-<span class="hljs-variable">info</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt; [--<span class="hljs-variable">pack</span>-<span class="hljs-variable">res</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">force</span> <span class="hljs-keyword">true</span>] [--<span class="hljs-variable">encrypt</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">pac</span>-<span class="hljs-variable">json</span>-<span class="hljs-title class_">path</span> &lt;<span class="hljs-title class_">path</span>&gt;] [--<span class="hljs-variable">atomic</span>-<span class="hljs-variable">service</span>-<span class="hljs-variable">entry</span>-<span class="hljs-variable">size</span>-<span class="hljs-title class_">limit</span> &lt;<span class="hljs-title class_">size</span>&gt;] [--<span class="hljs-variable">atomic</span>-<span class="hljs-variable">service</span>-<span class="hljs-variable">non</span>-<span class="hljs-variable">entry</span>-<span class="hljs-variable">size</span>-<span class="hljs-title class_">limit</span> &lt;<span class="hljs-title class_">size</span>&gt;]</li></ol></pre></div></div>     <p><strong>表15</strong> 参数含义及规范</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.11.1.5.1.1" valign="top" width="25%">指令</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.11.1.5.1.2" valign="top" width="25%">是否必选项</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.11.1.5.1.3" valign="top" width="25%">选项</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.11.1.5.1.4" valign="top" width="25%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="25%">--mode</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">fastApp</td>         <td class="cellrowborder" valign="top" width="25%">多个HAP需满足HAP的合法性校验。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--hap-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">HAP包文件目录路径，目录内要包含一个完整的HAP包的所有文件。允许传入多个路径，多个路径需要用英文“,”分隔。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--hsp-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">          <p>1. HSP包文件路径，文件名必须以.hsp为后缀。如果是多个HSP包需要用英文“,”分隔。</p>          <p>2. HSP包文件目录路径，目录内要包含一个完整的HSP包的所有文件。允许传入多个路径，多个路径需要用英文“,”分隔。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--pack-info-path</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">文件名必须为pack.info。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--out-path</td>         <td class="cellrowborder" valign="top" width="25%">是</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">目标文件路径，文件名必须以.app为后缀。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--signature-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">签名路径。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--certificate-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">证书路径。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--pack-res-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">pack.res快照文件路径。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--force</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">true或者false</td>         <td class="cellrowborder" valign="top" width="25%">默认值为false。如果为true，表示当目标文件存在时，强制删除。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--encrypt-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">文件名必须为encrypt.json。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--pac-json-path</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/agc-pac" target="_blank">pac.json</a>文件路径，文件名必须为pac.json。</p>          <p>从API Version 20开始支持该参数。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--atomic-service-entry-size-limit</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">设置元服务entry包大小（包含其依赖包的大小）限制，仅Stage模型应用且bundleType为atomicService时生效。取值范围为[0,4194304]的整数，取值为0表示不限制大小，单位KB。不设置该参数时默认值为2048KB。如果entry包是release模式（module.json5文件中type字段值为entry，且app.json5中debug字段的值为false），该限制作用于打包app时压缩后的entry包大小（包含其依赖包的大小）。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">--atomic-service-non-entry-size-limit</td>         <td class="cellrowborder" valign="top" width="25%">否</td>         <td class="cellrowborder" valign="top" width="25%">NA</td>         <td class="cellrowborder" valign="top" width="25%">设置元服务非entry包大小（包含其依赖包的大小）限制，仅Stage模型应用且bundleType为atomicService时生效。取值范围为[0,4194304]的整数，取值为0表示不限制大小，单位KB。不设置该参数时默认值为2048KB。如果非entry包是release模式（module.json5文件中type字段值不是entry，且app.json5中debug字段的值为false），该限制作用于打包app时压缩后的非entry包大小（包含其依赖包的大小）。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 80px;">     <h2 id="打包工具错误码">打包工具错误码<i class="anchor-icon anchor-icon-link" anchorid="打包工具错误码" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 492px;">     <h3 id="section10010001-执行打包工具失败" class="firsth2">10010001 执行打包工具失败<i class="anchor-icon anchor-icon-link" anchorid="section10010001-执行打包工具失败" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Execute packing tool failed.</p>     <p><strong>错误描述</strong></p>     <p>执行打包工具失败。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>打包文件合法性校验失败。</li>      <li>需要打包的文件正在被其他程序使用，例如压缩软件或文件管理器。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>根据报错信息检查<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file">app.json5</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file">module.json5</a>中的配置项是否准确。当有多条报错信息时，优先根据第一条报错信息进行排查。</li>      <li>检查是否有程序（如压缩软件、文件管理器）占用打包文件，关闭相关进程后重试。</li>     </ol>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 492px;">     <h3 id="section10012001-执行压缩操作失败">10012001 执行压缩操作失败<i class="anchor-icon anchor-icon-link" anchorid="section10012001-执行压缩操作失败" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Execute compress process failed.</p>     <p><strong>错误描述</strong></p>     <p>执行打包操作时，例如打包HAP或App，执行压缩操作失败，导致打包中断。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>打包文件合法性校验失败。</li>      <li>需要打包的文件正在被其他程序使用，例如压缩软件或文件管理器。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>根据报错信息检查<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file">app.json5</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file">module.json5</a>中的配置项是否准确。当有多条报错信息时，优先根据第一条报错信息进行排查。</li>      <li>检查是否有程序（如压缩软件、文件管理器）占用打包文件，关闭相关进程后重试。</li>     </ol>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 492px;">     <h3 id="section10012002-hap包压缩失败">10012002 HAP包压缩失败<i class="anchor-icon anchor-icon-link" anchorid="section10012002-hap包压缩失败" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Compress Stage Hap failed.</p>     <p><strong>错误描述</strong></p>     <p>打包HAP时，执行压缩Stage模型的HAP包操作失败。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>Stage模型HAP包打包文件合法性校验失败。</li>      <li>需要打包的文件正在被其他程序使用，例如压缩软件或文件管理器。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>根据报错信息检查<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file">app.json5</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file">module.json5</a>中的配置项是否准确。当有多条报错信息时，优先根据第一条报错信息进行排查。</li>      <li>检查是否有程序（如压缩软件、文件管理器）占用打包文件，关闭相关进程后重试。</li>     </ol>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 476px;">     <h3 id="section10012003-校验hap信息失败">10012003 校验HAP信息失败<i class="anchor-icon anchor-icon-link" anchorid="section10012003-校验hap信息失败" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Verify stage hap info failed.</p>     <p><strong>错误描述</strong></p>     <p>打包Stage模型HAP包时，配置信息校验失败。</p>     <p><strong>可能原因</strong></p>     <p>module.json5中atomicService或continueBundleName存在配置错误，或app.json5中asanEnabled或hwasanEnabled存在配置错误。</p>     <p><strong>处理步骤</strong></p>     <p>参考<a href="/consumer/cn/doc/harmonyos-guides/packing-tool#section10012004-检查参数asanenabled失败">asanEnabled配置错误码</a>、<a href="/consumer/cn/doc/harmonyos-guides/packing-tool#section10012005-检查参数hwasanenabled失败">hwasanEnabled配置错误码</a>、<a href="/consumer/cn/doc/harmonyos-guides/packing-tool#section10012006-检查atomicservice失败">atomicService配置错误码</a>、<a href="/consumer/cn/doc/harmonyos-guides/packing-tool#section10012007-检查continuebundlename无效">continueBundleName配置错误码</a>，更改配置项。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 428px;">     <h3 id="section10012004-检查参数asanenabled失败">10012004 检查参数asanEnabled失败<i class="anchor-icon anchor-icon-link" anchorid="section10012004-检查参数asanenabled失败" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Check asanEnabled failed.</p>     <p><strong>错误描述</strong></p>     <p>打包HAP/HSP时，app.json5中asanEnabled配置错误。</p>     <p><strong>可能原因</strong></p>     <p>asanEnabled和tsanEnabled被同时设置为true。</p>     <p><strong>处理步骤</strong></p>     <p>检查<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file">app.json5</a>，修改asanEnabled和tsanEnabled，确保二者不会同时为true。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 492px;">     <h3 id="section10012005-检查参数hwasanenabled失败">10012005 检查参数hwasanEnabled失败<i class="anchor-icon anchor-icon-link" anchorid="section10012005-检查参数hwasanenabled失败" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Check hwasanEnabled failed.</p>     <p><strong>错误描述</strong></p>     <p>打包HAP/HSP时，app.json5中hwasanEnabled配置错误。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>hwasanEnabled和asanEnabled被同时配置为true。</li>      <li>hwasanEnabled和tsanEnabled被同时配置为true。</li>      <li>hwasanEnabled和GWPAsanEnabled被同时配置为true。</li>     </ol>     <p><strong>处理步骤</strong></p>     <p>检查<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file">app.json5</a>，确保asanEnabled、tsanEnabled、GWPAsanEnabled三项的中任一项与hwasanEnabled，不会同时配置为true。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 516px;">     <h3 id="section10012006-检查atomicservice失败">10012006 检查atomicService失败<i class="anchor-icon anchor-icon-link" anchorid="section10012006-检查atomicservice失败" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Check atomicService failed.</p>     <p><strong>错误描述</strong></p>     <p>打包HAP/HSP时，atomicService配置检查失败。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>module.json5中entry模块未配置ability，导致atomicService配置检查失败。</li>      <li>当app.json5中bundleType配置为atomicService时，但module.json5中installationFree为false。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>检查<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file">module.json5</a>，确保module.json5文件中正确配置了abilities标签，并且至少包含一个ability，详细请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#abilities标签">abilities标签</a>。</li>      <li>检查module.json5和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file">app.json5</a>，当bundleType为atomicService时，确保installationFree配置为true，反之，需要配置为false。</li>     </ol>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 428px;">     <h3 id="section10012007-检查continuebundlename无效">10012007 检查continueBundleName无效<i class="anchor-icon anchor-icon-link" anchorid="section10012007-检查continuebundlename无效" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Check continueBundleName invalid.</p>     <p><strong>错误描述</strong></p>     <p>打包HAP/HSP时，continueBundleName配置检查失败。</p>     <p><strong>可能原因</strong></p>     <p>module.json5中的continueBundleName与app.json5中bundleName相同。</p>     <p><strong>处理步骤</strong></p>     <p>修改continueBundleName，确保其与<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file">app.json5</a>中的bundleName不同。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 684px;">     <h3 id="section10012008-检查overlay失败">10012008 检查overlay失败<i class="anchor-icon anchor-icon-link" anchorid="section10012008-检查overlay失败" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Check whether is an overlay hsp failed.</p>     <p><strong>错误描述</strong></p>     <p>检查是否是overlay特性HSP包失败。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>       <p>在module.json5中同时配置了targetModuleName与requestPermissions。</p></li>      <li>       <p>module.json5中的targetModuleName和module.json5中的name相同。</p></li>      <li>       <p>在module.json5中配置了targetPriority时，未配置targetModuleName。</p></li>      <li>       <p>在app.json5中配置了targetBundleName时，module.json5中未配置targetModuleName。</p></li>      <li>       <p>在app.json5中的targetBundleName与bundleName配置相同。</p></li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>检查<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file">module.json5</a>，确保targetModuleName和requestPermissions不会同时出现。</li>      <li>检查module.json5，确保targetModuleName和name不同。</li>      <li>检查module.json5，确保配置targetPriority时，同时配置了targetModuleName。</li>      <li>检查<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file">app.json5</a>和module.json5，确保配置targetBundleName时，同时配置了targetModuleName。</li>      <li>检查app.json5，确保targetBundleName与bundleName不同。</li>     </ol>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 492px;">     <h3 id="section10012009-执行压缩操作时异常">10012009 执行压缩操作时异常<i class="anchor-icon anchor-icon-link" anchorid="section10012009-执行压缩操作时异常" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Process compress exception.</p>     <p><strong>错误描述</strong></p>     <p>执行压缩HAP/HSP/App操作时存在异常。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>打包文件合法性校验失败。</li>      <li>需要打包的文件正在被其他程序使用，例如压缩软件或文件管理器。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>根据报错信息检查<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file">app.json5</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file">module.json5</a>中的配置项是否准确。当有多条报错信息时，优先根据第一条报错信息进行排查。</li>      <li>检查是否有程序（如压缩软件、文件管理器）占用打包文件，关闭相关进程后重试。</li>     </ol>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 492px;">     <h3 id="section10012015-构建app包失败">10012015 构建App包失败<i class="anchor-icon anchor-icon-link" anchorid="section10012015-构建app包失败" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Compress app file failed.</p>     <p><strong>错误描述</strong></p>     <p>构建App包失败。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>App打包文件合法性校验失败。</li>      <li>需要打包的文件正在被其他程序使用，例如压缩软件或文件管理器。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>根据报错信息检查<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file">app.json5</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file">module.json5</a>中的配置项是否准确。当有多条报错信息时，优先根据第一条报错信息进行排查。</li>      <li>检查是否有程序（如压缩软件、文件管理器）占用打包文件，关闭相关进程后重试。</li>     </ol>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 898px;">     <h3 id="section10012017-检查sharedapp无效">10012017 检查SharedAPP无效<i class="anchor-icon anchor-icon-link" anchorid="section10012017-检查sharedapp无效" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Check shared App mode invalid.</p>     <p><strong>错误描述</strong></p>     <p>构建<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file#配置文件标签">bundleType</a>为shared的App包时，检查HSP包无效。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>       <p>存在两个以上的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/in-app-hsp">HSP包</a>。例如下图使用DevEco Studio构建App时，工程中包含了两个HSP包library和library1，此时打包APP包失败。</p>       <p><span><img originheight="616" originwidth="1694" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115036.43147089842438000986307826256325:50001231000000:2800:EB3E1CE6251C51C006317846E0BE87696213E4107FD143FC06189128734A0DA9.png" width="920" height="334.54545454545456"></span></p></li>      <li>       <p>HSP包在module.json5中配置了dependencies。</p></li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>检查打包文件，确保bundleType为shared的App包中，HSP包不超过一个。</li>      <li>检查打包文件，删除HSP包中<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file">module.json5</a>配置的dependencies。</li>     </ol>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 540px;">     <h3 id="section10012022-校验stage-hsp失败">10012022 校验Stage HSP失败<i class="anchor-icon anchor-icon-link" anchorid="section10012022-校验stage-hsp失败" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Verify stage hsp info failed.</p>     <p><strong>错误描述</strong></p>     <p>打包HSP时，校验Stage模型HSP包失败。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>module.json5中的atomicService、continueBundleName存在配置错误，或app.json5中的asanEnabled、hwasanEnabled存在配置错误。</li>      <li>overlay配置出错。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>参考<a href="/consumer/cn/doc/harmonyos-guides/packing-tool#section10012004-检查参数asanenabled失败">asanEnabled配置错误码</a>、<a href="/consumer/cn/doc/harmonyos-guides/packing-tool#section10012005-检查参数hwasanenabled失败">hwasanEnabled配置错误码</a>、<a href="/consumer/cn/doc/harmonyos-guides/packing-tool#section10012006-检查atomicservice失败">atomicService配置错误码</a>、<a href="/consumer/cn/doc/harmonyos-guides/packing-tool#section10012007-检查continuebundlename无效">continueBundleName配置错误码</a>，更改配置项。</li>      <li>参考<a href="/consumer/cn/doc/harmonyos-guides/packing-tool#section10012008-检查overlay失败">检查overlay失败</a>，更改配置项。</li>     </ol>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 452px;">     <h3 id="section10012024-校验元服务大小失败">10012024 校验元服务大小失败<i class="anchor-icon anchor-icon-link" anchorid="section10012024-校验元服务大小失败" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Check atomicService size failed.</p>     <p><strong>错误描述</strong></p>     <p>打包App时，元服务包的大小超出了限制。</p>     <p><strong>可能原因</strong></p>     <p>元服务包及依赖的共享库或资源文件大小超出了限制。具体限制请参考<a href="/consumer/cn/doc/harmonyos-guides/packing-tool#app打包指令">表5 App打包指令参数说明</a>中--atomic-service-entry-size-limit和--atomic-service-non-entry-size-limit参数描述。</p>     <p><strong>处理步骤</strong></p>     <p>优化并减少包的大小，例如删除不必要的资源、精简代码或减少依赖。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 428px;">     <h3 id="section10012054-校验har去重属性失败">10012054 校验HAR去重属性失败<i class="anchor-icon anchor-icon-link" anchorid="section10012054-校验har去重属性失败" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Check deduplicateHar field failed.</p>     <p><strong>错误描述</strong></p>     <p>打包HSP/HAP时，校验<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-hvigor-build-profile-app#section03812484215" target="_blank">deduplicateHar</a>属性失败。</p>     <p><strong>可能原因</strong></p>     <p>HSP/HAP模块module.json文件中minAPIVersion小于21，且deduplicateHar的值为true。</p>     <p><strong>处理步骤</strong></p>     <p>打包HSP/HAP时，如果deduplicateHar的属性值为true时，则要求minAPIVersion大于等于21。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 636px;">     <h3 id="section10013005-检查模块bundletype失败">10013005 检查模块bundleType失败<i class="anchor-icon anchor-icon-link" anchorid="section10013005-检查模块bundletype失败" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Failed to parse module.json and bundleType.</p>     <p><strong>错误描述</strong></p>     <p>检查模块bundleType失败。</p>     <p><strong>可能原因</strong></p>     <p>不符合配置要求，例如：</p>     <ol>      <li>模块的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file">app.json5</a>配置文件中bundleType为app，但<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file">module.json5</a>中的installationFree属性值为true。</li>      <li>模块的app.json5配置文件中bundleType为atomicService，但module.json5中的installationFree属性值为false。</li>      <li>模块的app.json5配置文件中bundleType为shared，但module.json5中的type属性值不是shared。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>确保app.json5配置文件中bundleType为app时，module.json5中的installationFree属性值为false。</li>      <li>确保app.json5配置文件中bundleType为atomicService时，module.json5中的installationFree属性值为true。</li>      <li>确保app.json5配置文件中bundleType为shared时，module.json5中的type属性值也是shared。</li>      <li>当有多条报错信息时，优先根据第一条报错信息进行排查。</li>     </ol>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 428px;">     <h3 id="section10013006-检查entry模块中的ability失败">10013006 检查entry模块中的ability失败<i class="anchor-icon anchor-icon-link" anchorid="section10013006-检查entry模块中的ability失败" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>check entry module at least one ability failed.</p>     <p><strong>错误描述</strong></p>     <p>Entry类型包中没有ability。</p>     <p><strong>可能原因</strong></p>     <p>Entry类型包中不存在ability，该错误可能是由于module.json5未配置abilities或者abilities配置为空引起。</p>     <p><strong>处理步骤</strong></p>     <p>检查<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file">module.json5</a>，确保Entry类型包abilities正确配置了ability。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 556px;">     <h3 id="section10013007-检查installationfree错误">10013007 检查installationFree错误<i class="anchor-icon anchor-icon-link" anchorid="section10013007-检查installationfree错误" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Check module atomicService installationFree invalid.</p>     <p><strong>错误描述</strong></p>     <p>打包HAP/HSP时，检查atomicService和installationFree配置出错。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>app.json5中的bundleType配置了无效值。</li>      <li>当bundleType为shared时，module.json5中installationFree未设置为false。</li>      <li>当installationFree为true时，bundleType未设置为atomicService。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>检查<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file">app.json5</a>，确保bundleType设置为app，atomicService，shared之一。</li>      <li>如果bundleType为shared，确保<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file">module.json5</a>中的installationFree设置为false。</li>      <li>如果installationFree为true，确保bundleType设置为atomicService。</li>     </ol>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 556px;">     <h3 id="section10014001-未找到可用文件">10014001 未找到可用文件<i class="anchor-icon anchor-icon-link" anchorid="section10014001-未找到可用文件" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>File available not found exception.</p>     <p><strong>错误描述</strong></p>     <p>使用打包工具打包时，需要打包的文件不可使用。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>指定的文件路径错误或文件不存在。</li>      <li>文件正在被其他程序使用，例如压缩软件或文件管理器。</li>      <li>当前用户没有访问该文件的权限。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>确认提供的文件路径正确，并检查该文件是否存在。</li>      <li>检查是否有程序（如压缩软件、文件管理器）占用文件，关闭相关进程后重试。</li>      <li>检查并调整文件的访问权限，例如当前用户可以读取、修改、删除文件。</li>     </ol>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 428px;">     <h3 id="section10016003-分发策略相交校验失败">10016003 分发策略相交校验失败<i class="anchor-icon anchor-icon-link" anchorid="section10016003-分发策略相交校验失败" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Check two distroFilter policy disjoint invalid.</p>     <p><strong>错误描述</strong></p>     <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-hvigor-verification-rule" target="_blank">HAP唯一性校验</a>需要判断分发策略是否相交，由于分发策略配置错误，导致无法判断分发策略是否相交。</p>     <p><strong>可能原因</strong></p>     <p>分发策略policy、value标签为空或为无效值。</p>     <p><strong>处理步骤</strong></p>     <p>检查分发策略相关配置，确保policy的值为include或exclude，value取值参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#distributionfilter标签">distributionFilter标签</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 428px;">     <h3 id="section10016006-检查hap包无效">10016006 检查HAP包无效<i class="anchor-icon anchor-icon-link" anchorid="section10016006-检查hap包无效" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Verify hap info is invalid.</p>     <p><strong>错误描述</strong></p>     <p>构建App包时，校验用于打包的HAP/HSP失败。</p>     <p><strong>可能原因</strong></p>     <p>多个HAP/HSP包配置之间存在冲突。</p>     <p><strong>处理步骤</strong></p>     <p>根据报错信息检查<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file">app.json5</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file">module.json5</a>中的配置项是否准确。当有多条报错信息时，优先根据第一条报错信息进行排查。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 428px;">     <h3 id="section10016007-检查entry模块无效">10016007 检查entry模块无效<i class="anchor-icon anchor-icon-link" anchorid="section10016007-检查entry模块无效" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Check entry module invalid.</p>     <p><strong>错误描述</strong></p>     <p>构建App包时，当工程中存在多个Entry类型HAP包时，检查配置信息失败。</p>     <p><strong>可能原因</strong></p>     <p>不符合HAP唯一性校验规则。</p>     <p><strong>处理步骤</strong></p>     <p>参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-hvigor-verification-rule" target="_blank">HAP唯一性校验</a>，调整工程中的Entry类型HAP配置。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 516px;">     <h3 id="section10016009-检查依赖错误">10016009 检查依赖错误<i class="anchor-icon anchor-icon-link" anchorid="section10016009-检查依赖错误" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Check dependency list is invalid.</p>     <p><strong>错误描述</strong></p>     <p>构建App包时，模块依赖关系检查失败。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>模块间存在循环依赖，例如：模块library1的module.json5中dependencies配置了library2，同时模块library2中的dependencies配置了library1，则这两个模块之间构成循环依赖。</li>      <li>module.json5配置中依赖的模块对应的module.json5中的type为entry或feature。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>检查<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file">module.json5</a>中的dependencies，删除循环依赖，确保App中不存在循环依赖。</li>      <li>检查module.json5中的dependencies的配置，删除对entry或feature类型模块的依赖。</li>     </ol>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 452px;">     <h3 id="section10016010-检查元服务无效">10016010 检查元服务无效<i class="anchor-icon anchor-icon-link" anchorid="section10016010-检查元服务无效" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Check atomicservice is invalid.</p>     <p><strong>错误描述</strong></p>     <p>构建App包时，检查元服务无效。</p>     <p><strong>可能原因</strong></p>     <p>module.json5中preloads配置的moduleName错误。</p>     <p><strong>处理步骤</strong></p>     <p>检查<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file">module.json5</a>中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#atomicservice标签">preloads属性</a>下的moduleName，不能配置为自身模块module.json5中的name，且moduleName对应的模块必须存在。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 492px;">     <h3 id="section10016011-检查元服务预加载无效">10016011 检查元服务预加载无效<i class="anchor-icon anchor-icon-link" anchorid="section10016011-检查元服务预加载无效" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Atomicservice preloads is invalid.</p>     <p><strong>错误描述</strong></p>     <p>构建bundleType为atomicService类型的App包时，检查元服务包预加载的模块无效。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>元服务包module.json5中的preloads配置了重复的moduleName。</li>      <li>元服务包preloads配置的moduleName，和其他元服务包中module.json5中的name不匹配。</li>      <li>元服务包preloads配置的moduleName，和自身module.json5中的name相同。</li>     </ol>     <p><strong>处理步骤</strong></p>     <p>检查<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file">module.json5</a>中元服务<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#atomicservice标签">preloads属性</a>，确保没有配置重复的模块，配置所有的模块都存在且不能配置自身的模块名。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 452px;">     <h3 id="section10016012-目标模块不存在">10016012 目标模块不存在<i class="anchor-icon anchor-icon-link" anchorid="section10016012-目标模块不存在" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>TargetModuleName is not exist.</p>     <p><strong>错误描述</strong></p>     <p>构建App时，模块中配置了目标模块，但未找到该模块。</p>     <p><strong>可能原因</strong></p>     <p>module.json5中配置了targetModuleName，但和其他模块对应module.json5中的name均不同。</p>     <p><strong>处理步骤</strong></p>     <p>检查targetModuleName配置项，确保其正确配置（详细请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#配置文件标签">module.json5配置文件标签</a>及targetModuleName属性），必要时创建目标模块。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 428px;">     <h3 id="section10016014-代理数据不唯一">10016014 代理数据不唯一<i class="anchor-icon anchor-icon-link" anchorid="section10016014-代理数据不唯一" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Proxy data uri is not unique.</p>     <p><strong>错误描述</strong></p>     <p>数据代理uri不唯一，存在重复项。</p>     <p><strong>可能原因</strong></p>     <p>module.json5中的proxyData配置的uri存在重复。</p>     <p><strong>处理步骤</strong></p>     <p>检查<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file">module.json5</a>，删除proxyData中重复的uri，确保每个uri都是唯一的（详细请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#proxydata标签">proxyData标签</a>）。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 460px;">     <h3 id="section10016015-continuetype配置无效">10016015 ContinueType配置无效<i class="anchor-icon anchor-icon-link" anchorid="section10016015-continuetype配置无效" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Check continueType is invalid.</p>     <p><strong>错误描述</strong></p>     <p>构建App时，检查continueType配置错误。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>module.json5不同的ability存在重复的continueType配置项。</li>      <li>不同的module.json5中同时存在重复的deviceType配置项和continueType配置项。</li>     </ol>     <p><strong>处理步骤</strong></p>     <p>检查<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file">module.json5</a>，删除continueType或deviceType重复的配置项。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 452px;">     <h3 id="section10016016-文件大小检查错误">10016016 文件大小检查错误<i class="anchor-icon anchor-icon-link" anchorid="section10016016-文件大小检查错误" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Check file size failed.</p>     <p><strong>错误描述</strong></p>     <p>构建元服务类型App时，单个包大小超过限制。</p>     <p><strong>可能原因</strong></p>     <p>单个包大小超过限制。具体限制请参考<a href="/consumer/cn/doc/harmonyos-guides/packing-tool#app打包指令">表5 App打包指令参数说明</a>中--atomic-service-entry-size-limit和--atomic-service-non-entry-size-limit参数描述。</p>     <p><strong>处理步骤</strong></p>     <p>优化并减少对应单个包文件的大小，例如删除不必要的资源、精简代码或压缩文件。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 452px;">     <h3 id="section10016018-元服务模块大小检查错误">10016018 元服务模块大小检查错误<i class="anchor-icon anchor-icon-link" anchorid="section10016018-元服务模块大小检查错误" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Check the atomicService module size failed.</p>     <p><strong>错误描述</strong></p>     <p>构建元服务类型App时，单个包和其依赖的共享库大小超过限制。</p>     <p><strong>可能原因</strong></p>     <p>单个包和其依赖的共享库总大小超过限制。具体限制请参考<a href="/consumer/cn/doc/harmonyos-guides/packing-tool#app打包指令">表5 App打包指令参数说明</a>中--atomic-service-entry-size-limit和--atomic-service-non-entry-size-limit参数描述。</p>     <p><strong>处理步骤</strong></p>     <p>优化并减少相应包的大小，例如删除不必要的资源、精简代码或减少依赖项。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 428px;">     <h3 id="section10016019-检查分发策略无效">10016019 检查分发策略无效<i class="anchor-icon anchor-icon-link" anchorid="section10016019-检查分发策略无效" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Check the entry module distributionFilter is invalid.</p>     <p><strong>错误描述</strong></p>     <p>检查Entry类型模块分发策略错误。</p>     <p><strong>可能原因</strong></p>     <p>Entry类型模块分发策略配置存在错误。</p>     <p><strong>处理步骤</strong></p>     <p>检查Entry模块分发策略是否正确配置，例如policy的值应为exclude或include，详细请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#distributionfilter标签">distributionFilter标签</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 492px;">     <h3 id="section10011021-通用归一化命令失败">10011021 通用归一化命令失败<i class="anchor-icon anchor-icon-link" anchorid="section10011021-通用归一化命令失败" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Parse and check args invalid in generalNormalize mode.</p>     <p><strong>错误描述</strong></p>     <p>通用归一化命令失败。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>传入的参数类型错误。</li>      <li>传入参数范围错误。</li>      <li>传入HAP/HSP包不完整，缺少json文件（json文件配置请参考Stage模型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#配置文件标签">module.json5</a>/FA模型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/application-configuration-file-overview-fa">config.json</a>）。</li>     </ol>     <p><strong>处理步骤</strong></p>     <p>检查并传入正确的命令参数和有效的包文件。</p>    </div>   </div>   <div></div></div>