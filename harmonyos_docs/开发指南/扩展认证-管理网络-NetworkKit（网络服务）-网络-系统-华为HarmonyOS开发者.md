<h1 _ngcontent-qri-c119="" class="doc-title ng-star-inserted" title="扩展认证"> 扩展认证 </h1>

<div _ngcontent-qri-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="简介">简介<i class="anchor-icon anchor-icon-link" anchorid="简介" tips="复制节点链接"></i></h2>          <p>部分企业用户的PC网络接入认证使用802.1X认证方式，认证客户端由第三方厂商提供。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>扩展认证能力从API version 20开始支持。</p>      </div></div></div>     <p>认证客户端有以下定制行为：</p>     <ol>      <li>在EAP协议报文内封装私有数据，该私有数据遵循客户端与认证服务器约定的数据结构。</li>      <li>       <p>在认证过程中，客户端在本地进行安检扫描等定制动作，定制动作结束后，客户端向接入设备回复认证消息。</p>       <p>在这种机制下，需要操作系统提供三方客户端介入802.1X认证流程的机制，支撑客户端的定制认证。</p></li>     </ol>     <p>为满足以上需求场景，定制化802.1X认证提供如下功能：</p>     <ol>      <li>定制化监听与修改802.1X报文交互流程的能力。</li>      <li>对eth网口发起802.1X认证和去认证的能力。</li>     </ol>    </div>    <div class="tiledSection">     <h2 id="场景介绍">场景介绍<i class="anchor-icon anchor-icon-link" anchorid="场景介绍" tips="复制节点链接"></i></h2>          <p>定制化802.1X认证流程的典型场景如下：</p>     <ol>      <li>       <p>企业网管应用，需要在企业Wi-Fi的802.1X认证流程中加入自定义的安全校验，来接入企业内网。</p>       <ul>        <li>支持指定要进行定制化处理的报文类型和EAP类型。</li>        <li>支持根据自定义的安全校验结果来指定标准认证流程的结果。</li>       </ul></li>      <li>       <p>企业网管应用，需要支持使用eth网口进行802.1X安全认证流程来接入企业内网。</p>       <ul>        <li>支持标准802.1X认证流程。</li>        <li>支持定制化802.1X认证流程。</li>       </ul></li>     </ol>     <p>具体开发方式介绍如下。</p>    </div>    <div class="tiledSection">     <h2 id="section8021x认证流程中加入自定义的安全校验">802.1X认证流程中加入自定义的安全校验<i class="anchor-icon anchor-icon-link" anchorid="section8021x认证流程中加入自定义的安全校验" tips="复制节点链接"></i></h2>          <ol>      <li>       <p>从@kit.NetworkKit中导入eap命名空间。</p>       <div _ngcontent-qri-c106="" class="highlight-div"><div _ngcontent-qri-c106="" class="highlight-div-header"><div _ngcontent-qri-c106="" class="highlight-div-header-left"><div _ngcontent-qri-c106="" class="handle-button expand-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qri-c106="" class="highlight-div-header-right"><div _ngcontent-qri-c106="" class="handle-button ai-button"></div><div _ngcontent-qri-c106="" class="handle-button line-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qri-c106="" class="handle-button theme-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qri-c106="" class="handle-button copy-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qri-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {eap} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li></ol></pre></div></div></li>      <li>       <p>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-net-eap#eapregcustomeaphandler" target="_blank">regCustomEapHandler</a>方法，注册所需监听的EAP报文类型。在802.1X认证过程中，系统会将符合条件的EAP报文传递至callback函数中，供企业应用获取。</p>       <div _ngcontent-qri-c106="" class="highlight-div"><div _ngcontent-qri-c106="" class="highlight-div-header"><div _ngcontent-qri-c106="" class="highlight-div-header-left"><div _ngcontent-qri-c106="" class="handle-button expand-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qri-c106="" class="highlight-div-header-right"><div _ngcontent-qri-c106="" class="handle-button ai-button"></div><div _ngcontent-qri-c106="" class="handle-button line-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qri-c106="" class="handle-button theme-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qri-c106="" class="handle-button copy-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qri-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {eap} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">let</span> netType = <span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">let</span> eapCode = <span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">let</span> eapType = <span class="hljs-number">25</span>;</li><li><span class="hljs-keyword">let</span> eapData = (<span class="hljs-attr">eapData</span>:eap.<span class="hljs-property">EapData</span>):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"rsp result"</span>,<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(eapData));</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    eap.<span class="hljs-title function_">regCustomEapHandler</span>(netType, eapCode, eapType, eapData);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'regCustomEapHandler success'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div></li>      <li>       <p>报文传递至callback函数后，802.1X认证流程会阻塞等待, 用户能够获取到完整的报文内容。</p></li>      <li>       <p>若注册的是由服务器发送给客户端的报文类型，则此时可以从报文中看到由服务器加入的自定义内容。应用根据自定义内容，判断认证是否应该继续往后续步骤进行，并调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-net-eap#eapreplycustomeapdata" target="_blank">replyCustomEapData</a>方法通知系统。</p>       <div _ngcontent-qri-c106="" class="highlight-div"><div _ngcontent-qri-c106="" class="highlight-div-header"><div _ngcontent-qri-c106="" class="highlight-div-header-left"><div _ngcontent-qri-c106="" class="handle-button expand-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qri-c106="" class="highlight-div-header-right"><div _ngcontent-qri-c106="" class="handle-button ai-button"></div><div _ngcontent-qri-c106="" class="handle-button line-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qri-c106="" class="handle-button theme-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qri-c106="" class="handle-button copy-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qri-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li> <span class="hljs-keyword">import</span> {eap} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li> <span class="hljs-keyword">let</span> netType = <span class="hljs-number">1</span>;</li><li> <span class="hljs-keyword">let</span> eapCode= <span class="hljs-number">1</span>; <span class="hljs-comment">// eap request</span></li><li> <span class="hljs-keyword">let</span> eapType= <span class="hljs-number">25</span>; <span class="hljs-comment">// EAP_PEAP</span></li><li> <span class="hljs-keyword">let</span> result = <span class="hljs-number">1</span>;</li><li> <span class="hljs-keyword">let</span> eapData = (<span class="hljs-attr">eapData</span>:eap.<span class="hljs-property">EapData</span>):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>     <span class="hljs-keyword">try</span>{</li><li>     eap.<span class="hljs-title function_">replyCustomEapData</span>(result, eapData);</li><li>     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'replyCustomEapData success'</span>);</li><li>     } <span class="hljs-keyword">catch</span> (err) {</li><li>     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">' , errMessage: '</span> + err.<span class="hljs-property">message</span>);</li><li>     }</li><li> }</li><li>
</li><li><span class="hljs-keyword">try</span>{</li><li>    eap.<span class="hljs-title function_">regCustomEapHandler</span>(netType, eapCode, eapType, eapData);</li><li>       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'regCustomEapHandler success'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">'errMessage: '</span> + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div></li>      <li>       <p>若注册的报文类型是由客户端发给服务器的，则此时获取到的是原始的802.1X认证报文，应用需要在原始报文内容中加入自己的自定义内容，并将加入自定义内容后的报文内容调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-net-eap#eapreplycustomeapdata" target="_blank">replyCustomEapData</a>方法通知系统。</p>       <div _ngcontent-qri-c106="" class="highlight-div"><div _ngcontent-qri-c106="" class="highlight-div-header"><div _ngcontent-qri-c106="" class="highlight-div-header-left"><div _ngcontent-qri-c106="" class="handle-button expand-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qri-c106="" class="highlight-div-header-right"><div _ngcontent-qri-c106="" class="handle-button ai-button"></div><div _ngcontent-qri-c106="" class="handle-button line-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qri-c106="" class="handle-button theme-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qri-c106="" class="handle-button copy-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qri-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {eap} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">let</span> netType = <span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">let</span> eapCode= <span class="hljs-number">2</span>; <span class="hljs-comment">// eap response</span></li><li><span class="hljs-keyword">let</span> eapType= <span class="hljs-number">25</span>; <span class="hljs-comment">// EAP_PEAP</span></li><li><span class="hljs-keyword">let</span> result = <span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">let</span> eapData = (<span class="hljs-attr">eapData</span>:eap.<span class="hljs-property">EapData</span>):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>     <span class="hljs-keyword">try</span>{</li><li>         eap.<span class="hljs-title function_">replyCustomEapData</span>(result, eapData);</li><li>         <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'replyCustomEapData success'</span>);</li><li>     } <span class="hljs-keyword">catch</span> (err) {</li><li>         <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">' , errMessage: '</span> + err.<span class="hljs-property">message</span>);</li><li>     }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span>{</li><li>    eap.<span class="hljs-title function_">regCustomEapHandler</span>(netType, eapCode, eapType, eapData);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'regCustomEapHandler success'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">'errMessage: '</span> + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div></li>      <li>       <p>如此便从发送/接收两个方向上实现了对标准802.1X流程的定制化。需要取消定制化时，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-net-eap#eapunregcustomeaphandler" target="_blank">unregCustomEapHandler</a>方法。</p>       <div _ngcontent-qri-c106="" class="highlight-div"><div _ngcontent-qri-c106="" class="highlight-div-header"><div _ngcontent-qri-c106="" class="highlight-div-header-left"><div _ngcontent-qri-c106="" class="handle-button expand-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qri-c106="" class="highlight-div-header-right"><div _ngcontent-qri-c106="" class="handle-button ai-button"></div><div _ngcontent-qri-c106="" class="handle-button line-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qri-c106="" class="handle-button theme-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qri-c106="" class="handle-button copy-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qri-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {eap} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">let</span> netType = <span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">let</span> eapCode = <span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">let</span> eapType = <span class="hljs-number">25</span>;</li><li><span class="hljs-keyword">let</span> eapData = (<span class="hljs-attr">eapData</span>:eap.<span class="hljs-property">EapData</span>):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"rsp result"</span>,<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(eapData));</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>    eap.<span class="hljs-title function_">unregCustomEapHandler</span>(netType, eapCode, eapType, eapData);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'unregCustomEapHandler success'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div></li>     </ol>    </div>    <div class="tiledSection">     <h2 id="使用eth接口发起8021x认证流程">使用eth接口发起802.1X认证流程<i class="anchor-icon anchor-icon-link" anchorid="使用eth接口发起8021x认证流程" tips="复制节点链接"></i></h2>          <ol>      <li>       <p>设备通过硬件接口，插入网线。</p></li>      <li>       <p>从@kit.NetworkKit中导入eap命名空间。</p>       <div _ngcontent-qri-c106="" class="highlight-div"><div _ngcontent-qri-c106="" class="highlight-div-header"><div _ngcontent-qri-c106="" class="highlight-div-header-left"><div _ngcontent-qri-c106="" class="handle-button expand-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qri-c106="" class="highlight-div-header-right"><div _ngcontent-qri-c106="" class="handle-button ai-button"></div><div _ngcontent-qri-c106="" class="handle-button line-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qri-c106="" class="handle-button theme-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qri-c106="" class="handle-button copy-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qri-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {eap} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li></ol></pre></div></div></li>      <li>       <p>当企业管理软件需要进行认证，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-net-eap#eapstartetheap" target="_blank">startEthEap</a>方法时，会发起802.1X认证流程。</p>       <div _ngcontent-qri-c106="" class="highlight-div"><div _ngcontent-qri-c106="" class="highlight-div-header"><div _ngcontent-qri-c106="" class="highlight-div-header-left"><div _ngcontent-qri-c106="" class="handle-button expand-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qri-c106="" class="highlight-div-header-right"><div _ngcontent-qri-c106="" class="handle-button ai-button"></div><div _ngcontent-qri-c106="" class="handle-button line-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qri-c106="" class="handle-button theme-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qri-c106="" class="handle-button copy-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qri-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {eap} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">let</span> netId = <span class="hljs-number">100</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">profile</span>: eap.<span class="hljs-property">EthEapProfile</span> = {</li><li>    <span class="hljs-attr">eapMethod</span>: eap.<span class="hljs-property">EapMethod</span>.<span class="hljs-property">EAP_TTLS</span>,</li><li>    <span class="hljs-attr">phase2Method</span>: eap.<span class="hljs-property">Phase2Method</span>.<span class="hljs-property">PHASE2_AKA_PRIME</span>,</li><li>    <span class="hljs-attr">identity</span>: <span class="hljs-string">"identity"</span>,</li><li>        <span class="hljs-attr">anonymousIdentity</span>: <span class="hljs-string">"anonymousIdentity"</span>,</li><li>        <span class="hljs-attr">password</span>: <span class="hljs-string">"password"</span>,</li><li>        <span class="hljs-attr">caCertAliases</span>: <span class="hljs-string">"caCertAliases"</span>,</li><li>        <span class="hljs-attr">caPath</span>: <span class="hljs-string">"caPath"</span>,</li><li>        <span class="hljs-attr">clientCertAliases</span>: <span class="hljs-string">"clientCertAliases"</span>,</li><li>        <span class="hljs-attr">certEntry</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>]),</li><li>        <span class="hljs-attr">certPassword</span>: <span class="hljs-string">"certPassword"</span>,</li><li>        <span class="hljs-attr">altSubjectMatch</span>: <span class="hljs-string">"altSubjectMatch"</span>,</li><li>        <span class="hljs-attr">domainSuffixMatch</span>: <span class="hljs-string">"domainSuffixMatch"</span>,</li><li>        <span class="hljs-attr">realm</span>: <span class="hljs-string">"realm"</span>,</li><li>        <span class="hljs-attr">plmn</span>: <span class="hljs-string">"plmn"</span>,</li><li>        <span class="hljs-attr">eapSubId</span>: <span class="hljs-number">1</span></li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>        eap.<span class="hljs-title function_">startEthEap</span>(netId, profile);</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'startEthEap success'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div></li>      <li>       <p>当企业管理软件需要退出认证状态，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-net-eap#eaplogoffetheap" target="_blank">logOffEthEap</a>方法，即会发起802.1X去认证流程。</p>       <div _ngcontent-qri-c106="" class="highlight-div"><div _ngcontent-qri-c106="" class="highlight-div-header"><div _ngcontent-qri-c106="" class="highlight-div-header-left"><div _ngcontent-qri-c106="" class="handle-button expand-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qri-c106="" class="highlight-div-header-right"><div _ngcontent-qri-c106="" class="handle-button ai-button"></div><div _ngcontent-qri-c106="" class="handle-button line-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qri-c106="" class="handle-button theme-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qri-c106="" class="handle-button copy-button"><div _ngcontent-qri-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qri-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {eap} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NetworkKit'</span>;</li><li><span class="hljs-keyword">let</span> netId = <span class="hljs-number">100</span>;</li><li><span class="hljs-keyword">try</span>{</li><li>         eap.<span class="hljs-title function_">logOffEthEap</span>(netId);</li><li>         <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"logOffEthEap success"</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + err.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div></li>     </ol>    </div>   </div>   <div></div></div>