<h1 _ngcontent-ime-c119="" class="doc-title ng-star-inserted" title="拉起导航类应用（startAbilityByType）"> 拉起导航类应用（startAbilityByType） </h1>

<div _ngcontent-ime-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>本章节介绍如何拉起导航类应用扩展面板。</p>    <div class="tiledSection">     <h2 id="导航类应用扩展面板参数说明">导航类应用扩展面板参数说明<i class="anchor-icon anchor-icon-link" anchorid="导航类应用扩展面板参数说明" tips="复制节点链接"></i></h2>          <p>startAbilityByType接口中type字段为navigation，支持路线规划、导航、位置搜索三种意图场景，对应的wantParam参数如下：</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>本文中的经纬度均采用GCJ-02坐标系统。</p>      </div></div></div>     <ul>      <li>       <p>路线规划场景</p>       <div class="tablenoborder">        <div class="tbBox"><table class="layoutFixed idpTab">         <thead>          <tr>           <th align="left" class="cellrowborder" id="mcps1.3.2.4.1.2.1.5.1.1" valign="top" width="25%">参数名</th>           <th align="left" class="cellrowborder" id="mcps1.3.2.4.1.2.1.5.1.2" valign="top" width="25%">类型</th>           <th align="left" class="cellrowborder" id="mcps1.3.2.4.1.2.1.5.1.3" valign="top" width="25%">必填</th>           <th align="left" class="cellrowborder" id="mcps1.3.2.4.1.2.1.5.1.4" valign="top" width="25%">说明</th>          </tr>         </thead>                   <tbody><tr>           <td class="cellrowborder" valign="top" width="25%">sceneType</td>           <td class="cellrowborder" valign="top" width="25%">number</td>           <td class="cellrowborder" valign="top" width="25%">否</td>           <td class="cellrowborder" valign="top" width="25%">意图场景，表明本次请求对应的操作意图。默认为1，路线规划场景填1或不填。</td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="25%">originName</td>           <td class="cellrowborder" valign="top" width="25%">string</td>           <td class="cellrowborder" valign="top" width="25%">否</td>           <td class="cellrowborder" valign="top" width="25%">起点名称。</td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="25%">originLatitude</td>           <td class="cellrowborder" valign="top" width="25%">number</td>           <td class="cellrowborder" valign="top" width="25%">否</td>           <td class="cellrowborder" valign="top" width="25%">起点纬度。</td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="25%">originLongitude</td>           <td class="cellrowborder" valign="top" width="25%">number</td>           <td class="cellrowborder" valign="top" width="25%">否</td>           <td class="cellrowborder" valign="top" width="25%">起点经度。</td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="25%">originPoiIds</td>           <td class="cellrowborder" valign="top" width="25%">Record&lt;number, string&gt;</td>           <td class="cellrowborder" valign="top" width="25%">否</td>           <td class="cellrowborder" valign="top" width="25%">起点POI ID列表，当前仅支持传入花瓣地图、高德地图、百度地图的POI ID。</td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="25%">destinationName</td>           <td class="cellrowborder" valign="top" width="25%">string</td>           <td class="cellrowborder" valign="top" width="25%">否</td>           <td class="cellrowborder" valign="top" width="25%">终点名称。</td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="25%">destinationLatitude</td>           <td class="cellrowborder" valign="top" width="25%">number</td>           <td class="cellrowborder" valign="top" width="25%">是</td>           <td class="cellrowborder" valign="top" width="25%">终点纬度。</td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="25%">destinationLongitude</td>           <td class="cellrowborder" valign="top" width="25%">number</td>           <td class="cellrowborder" valign="top" width="25%">是</td>           <td class="cellrowborder" valign="top" width="25%">终点经度。</td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="25%">destinationPoiIds</td>           <td class="cellrowborder" valign="top" width="25%">Record&lt;number, string&gt;</td>           <td class="cellrowborder" valign="top" width="25%">否</td>           <td class="cellrowborder" valign="top" width="25%">终点POI ID列表，当前仅支持传入花瓣地图、高德地图、百度地图的POI ID。</td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="25%">vehicleType</td>           <td class="cellrowborder" valign="top" width="25%">number</td>           <td class="cellrowborder" valign="top" width="25%">否</td>           <td class="cellrowborder" valign="top" width="25%">交通出行工具，取值：0-驾车，1-步行，2-骑行，3-公交。</td>          </tr>                 </tbody></table></div>       </div></li>      <li>       <p>导航场景</p>       <div class="tablenoborder">        <div class="tbBox"><table class="layoutFixed idpTab">         <thead>          <tr>           <th align="left" class="cellrowborder" id="mcps1.3.2.4.2.2.1.5.1.1" valign="top" width="25%">参数名</th>           <th align="left" class="cellrowborder" id="mcps1.3.2.4.2.2.1.5.1.2" valign="top" width="25%">类型</th>           <th align="left" class="cellrowborder" id="mcps1.3.2.4.2.2.1.5.1.3" valign="top" width="25%">必填</th>           <th align="left" class="cellrowborder" id="mcps1.3.2.4.2.2.1.5.1.4" valign="top" width="25%">说明</th>          </tr>         </thead>                   <tbody><tr>           <td class="cellrowborder" valign="top" width="25%">sceneType</td>           <td class="cellrowborder" valign="top" width="25%">number</td>           <td class="cellrowborder" valign="top" width="25%">是</td>           <td class="cellrowborder" valign="top" width="25%">意图场景，表明本次请求对应的操作意图。导航场景填2。</td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="25%">destinationName</td>           <td class="cellrowborder" valign="top" width="25%">string</td>           <td class="cellrowborder" valign="top" width="25%">否</td>           <td class="cellrowborder" valign="top" width="25%">终点名称。</td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="25%">destinationLatitude</td>           <td class="cellrowborder" valign="top" width="25%">number</td>           <td class="cellrowborder" valign="top" width="25%">是</td>           <td class="cellrowborder" valign="top" width="25%">终点纬度。</td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="25%">destinationLongitude</td>           <td class="cellrowborder" valign="top" width="25%">number</td>           <td class="cellrowborder" valign="top" width="25%">是</td>           <td class="cellrowborder" valign="top" width="25%">终点经度。</td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="25%">destinationPoiIds</td>           <td class="cellrowborder" valign="top" width="25%">Record&lt;number, string&gt;</td>           <td class="cellrowborder" valign="top" width="25%">否</td>           <td class="cellrowborder" valign="top" width="25%">终点POI ID列表，当前仅支持传入花瓣地图、高德地图、百度地图的POI ID。</td>          </tr>                 </tbody></table></div>       </div></li>      <li>       <p>位置搜索场景</p>       <div class="tablenoborder">        <div class="tbBox"><table class="layoutFixed idpTab">         <thead>          <tr>           <th align="left" class="cellrowborder" id="mcps1.3.2.4.3.2.1.5.1.1" valign="top" width="25%">参数名</th>           <th align="left" class="cellrowborder" id="mcps1.3.2.4.3.2.1.5.1.2" valign="top" width="25%">类型</th>           <th align="left" class="cellrowborder" id="mcps1.3.2.4.3.2.1.5.1.3" valign="top" width="25%">必填</th>           <th align="left" class="cellrowborder" id="mcps1.3.2.4.3.2.1.5.1.4" valign="top" width="25%">说明</th>          </tr>         </thead>                   <tbody><tr>           <td class="cellrowborder" valign="top" width="25%">sceneType</td>           <td class="cellrowborder" valign="top" width="25%">number</td>           <td class="cellrowborder" valign="top" width="25%">是</td>           <td class="cellrowborder" valign="top" width="25%">意图场景，表明本次请求对应的操作意图。位置搜索场景填3。</td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="25%">destinationName</td>           <td class="cellrowborder" valign="top" width="25%">string</td>           <td class="cellrowborder" valign="top" width="25%">是</td>           <td class="cellrowborder" valign="top" width="25%">地点名称。</td>          </tr>                 </tbody></table></div>       </div></li>     </ul>    </div>    <div class="tiledSection">     <h2 id="拉起方开发步骤">拉起方开发步骤<i class="anchor-icon anchor-icon-link" anchorid="拉起方开发步骤" tips="复制节点链接"></i></h2>          <ol>      <li>       <p>导入相关模块。</p>       <div _ngcontent-ime-c106="" class="highlight-div"><div _ngcontent-ime-c106="" class="highlight-div-header"><div _ngcontent-ime-c106="" class="highlight-div-header-left"><div _ngcontent-ime-c106="" class="handle-button expand-button"><div _ngcontent-ime-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ime-c106="" class="highlight-div-header-right"><div _ngcontent-ime-c106="" class="handle-button ai-button"></div><div _ngcontent-ime-c106="" class="handle-button line-button"><div _ngcontent-ime-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ime-c106="" class="handle-button theme-button"><div _ngcontent-ime-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ime-c106="" class="handle-button copy-button"><div _ngcontent-ime-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ime-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li></ol></pre></div></div></li>      <li>       <p>构造接口参数并调用startAbilityByType接口。</p>       <p>终点POI ID列表（destinationPoiIds）和起点POI ID列表（originPoiIds）需开发者自行从各地图系统中获取，并按照对应关系传参。</p>       <div _ngcontent-ime-c106="" class="highlight-div"><div _ngcontent-ime-c106="" class="highlight-div-header"><div _ngcontent-ime-c106="" class="highlight-div-header-left"><div _ngcontent-ime-c106="" class="handle-button expand-button"><div _ngcontent-ime-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ime-c106="" class="highlight-div-header-right"><div _ngcontent-ime-c106="" class="handle-button ai-button"></div><div _ngcontent-ime-c106="" class="handle-button line-button"><div _ngcontent-ime-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ime-c106="" class="handle-button theme-button"><div _ngcontent-ime-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ime-c106="" class="handle-button copy-button"><div _ngcontent-ime-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ime-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">hideAbility</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'hideAbility'</span></li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">hideAbility</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>          .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">wantParam</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">Object</span>&gt; = {</li><li>              <span class="hljs-string">'sceneType'</span>: <span class="hljs-number">1</span>,</li><li>              <span class="hljs-string">'destinationLatitude'</span>: <span class="hljs-number">32.060844</span>,</li><li>              <span class="hljs-string">'destinationLongitude'</span>: <span class="hljs-number">118.78315</span>,</li><li>              <span class="hljs-string">'destinationName'</span>: <span class="hljs-string">'xx市xx路xx号'</span>,</li><li>              <span class="hljs-string">'destinationPoiIds'</span>: {</li><li>                <span class="hljs-number">1</span>: <span class="hljs-string">'1001'</span>, <span class="hljs-comment">// key为1代表花瓣地图，value需为花瓣地图POI</span></li><li>                <span class="hljs-number">2</span>: <span class="hljs-string">'2002'</span>, <span class="hljs-comment">// key为2代表高德地图，value需为高德地图POI</span></li><li>                <span class="hljs-number">3</span>: <span class="hljs-string">'3003'</span>  <span class="hljs-comment">// key为3代表百度地图，value需为百度地图POI</span></li><li>              } <span class="hljs-keyword">as</span> <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">number</span>, <span class="hljs-built_in">string</span>&gt;,</li><li>              <span class="hljs-string">'originName'</span>: <span class="hljs-string">'xx市xx公园'</span>,</li><li>              <span class="hljs-string">'originLatitude'</span>: <span class="hljs-number">31.060844</span>,</li><li>              <span class="hljs-string">'originLongitude'</span>: <span class="hljs-number">120.78315</span>,</li><li>              <span class="hljs-string">'originPoiIds'</span>: {</li><li>                <span class="hljs-number">1</span>: <span class="hljs-string">'1101'</span>, <span class="hljs-comment">// key为1代表花瓣地图，value需为花瓣地图POI</span></li><li>                <span class="hljs-number">2</span>: <span class="hljs-string">'2202'</span>, <span class="hljs-comment">// key为2代表高德地图，value需为高德地图POI</span></li><li>                <span class="hljs-number">3</span>: <span class="hljs-string">'3303'</span>  <span class="hljs-comment">// key为3代表百度地图，value需为百度地图POI</span></li><li>              } <span class="hljs-keyword">as</span> <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">number</span>, <span class="hljs-built_in">string</span>&gt;,</li><li>              <span class="hljs-string">'vehicleType'</span>: <span class="hljs-number">0</span></li><li>            };</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">abilityStartCallback</span>: common.<span class="hljs-property">AbilityStartCallback</span> = {</li><li>              <span class="hljs-attr">onError</span>: <span class="hljs-function">(<span class="hljs-params">code: <span class="hljs-built_in">number</span>, name: <span class="hljs-built_in">string</span>, message: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`onError code <span class="hljs-subst">${code}</span> name: <span class="hljs-subst">${name}</span> message: <span class="hljs-subst">${message}</span>`</span>);</li><li>              },</li><li>              <span class="hljs-attr">onResult</span>: <span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onResult result: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(result)}</span>`</span>);</li><li>              }</li><li>            }</li><li>
</li><li>            context.<span class="hljs-title function_">startAbilityByType</span>(<span class="hljs-string">"navigation"</span>, wantParam, abilityStartCallback,</li><li>              <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>                <span class="hljs-keyword">if</span> (err) {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`startAbilityByType fail, err: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>`</span>);</li><li>                } <span class="hljs-keyword">else</span> {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`success`</span>);</li><li>                }</li><li>              });</li><li>          });</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>       <p>效果示例图：</p>       <p><span><img originheight="734" originwidth="328" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114909.77257998285203418836535303920226:50001231000000:2800:9974DDC05926BADE8F9D847114DC7865EC989970D5A16CEF6E14E06FE768808D.png" width="328" height="734"></span></p></li>     </ol>    </div>    <div class="tiledSection">     <h2 id="目标方开发步骤">目标方开发步骤<i class="anchor-icon anchor-icon-link" anchorid="目标方开发步骤" tips="复制节点链接"></i></h2>          <ol>      <li>       <p>在module.json5中配置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#skills标签">uris</a>，步骤如下：</p>       <ol>        <li>设置linkFeature属性以声明当前应用支持的特性功能，从而系统可以从设备已安装应用中找到当前支持该特性的应用，取值范围如下：          <div class="tablenoborder">          <div class="tbBox"><table class="layoutFixed idpTab">           <thead>            <tr>             <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.2.1.1.1.3.1.1" valign="top" width="50%">取值</th>             <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.2.1.1.1.3.1.2" valign="top" width="50%">含义</th>            </tr>           </thead>                       <tbody><tr>             <td class="cellrowborder" valign="top" width="50%">Navigation</td>             <td class="cellrowborder" valign="top" width="50%">声明应用支持导航功能</td>            </tr>            <tr>             <td class="cellrowborder" valign="top" width="50%">RoutePlan</td>             <td class="cellrowborder" valign="top" width="50%">声明应用支持路线规划功能</td>            </tr>            <tr>             <td class="cellrowborder" valign="top" width="50%">PlaceSearch</td>             <td class="cellrowborder" valign="top" width="50%">声明应用支持位置搜索功能</td>            </tr>                     </tbody></table></div>         </div></li>        <li>设置scheme、host、port、path/pathStartWith属性，与Want中URI相匹配，以便区分不同功能。</li>       </ol>       <div _ngcontent-ime-c106="" class="highlight-div"><div _ngcontent-ime-c106="" class="highlight-div-header"><div _ngcontent-ime-c106="" class="highlight-div-header-left"><div _ngcontent-ime-c106="" class="handle-button expand-button"><div _ngcontent-ime-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ime-c106="" class="highlight-div-header-right"><div _ngcontent-ime-c106="" class="handle-button ai-button"></div><div _ngcontent-ime-c106="" class="handle-button line-button"><div _ngcontent-ime-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ime-c106="" class="handle-button theme-button"><div _ngcontent-ime-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ime-c106="" class="handle-button copy-button"><div _ngcontent-ime-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ime-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" hw-language="json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span></li><li>  <span class="hljs-attr">"abilities"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>      <span class="hljs-punctuation">{</span></li><li>      <span class="hljs-attr">"skills"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>          <span class="hljs-punctuation">{</span></li><li>          <span class="hljs-attr">"uris"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>              <span class="hljs-punctuation">{</span></li><li>              <span class="hljs-attr">"scheme"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"maps"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 这里仅示意，应用需确保这里声明的uri能被外部正常拉起</span></li><li>              <span class="hljs-attr">"host"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"navigation"</span><span class="hljs-punctuation">,</span></li><li>              <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span></li><li>              <span class="hljs-attr">"linkFeature"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Navigation"</span> <span class="hljs-comment">// 声明应用支持导航功能</span></li><li>              <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>              <span class="hljs-punctuation">{</span></li><li>              <span class="hljs-attr">"scheme"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"maps"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 这里仅示意，应用需确保这里声明的uri能被外部正常拉起</span></li><li>              <span class="hljs-attr">"host"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"routePlan"</span><span class="hljs-punctuation">,</span></li><li>              <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span></li><li>              <span class="hljs-attr">"linkFeature"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"RoutePlan"</span> <span class="hljs-comment">// 声明应用支持路线规划功能</span></li><li>              <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>              <span class="hljs-punctuation">{</span></li><li>              <span class="hljs-attr">"scheme"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"maps"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 这里仅示意，应用需确保这里声明的uri能被外部正常拉起</span></li><li>              <span class="hljs-attr">"host"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"search"</span><span class="hljs-punctuation">,</span></li><li>              <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span></li><li>              <span class="hljs-attr">"linkFeature"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"PlaceSearch"</span> <span class="hljs-comment">// 声明应用支持位置搜索功能</span></li><li>              <span class="hljs-punctuation">}</span></li><li>          <span class="hljs-punctuation">]</span></li><li>          <span class="hljs-punctuation">}</span></li><li>      <span class="hljs-punctuation">]</span></li><li>      <span class="hljs-punctuation">}</span></li><li>  <span class="hljs-punctuation">]</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div></li>      <li>       <p>解析参数并做对应处理。</p>       <div _ngcontent-ime-c106="" class="highlight-div"><div _ngcontent-ime-c106="" class="highlight-div-header"><div _ngcontent-ime-c106="" class="highlight-div-header-left"><div _ngcontent-ime-c106="" class="handle-button expand-button"><div _ngcontent-ime-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ime-c106="" class="highlight-div-header-right"><div _ngcontent-ime-c106="" class="handle-button ai-button"></div><div _ngcontent-ime-c106="" class="handle-button line-button"><div _ngcontent-ime-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ime-c106="" class="handle-button theme-button"><div _ngcontent-ime-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ime-c106="" class="handle-button copy-button"><div _ngcontent-ime-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ime-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">UIAbility</span>.<span class="hljs-title function_">onCreate</span>(<span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span>, <span class="hljs-attr">launchParam</span>: <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">LaunchParam</span>): <span class="hljs-built_in">void</span></li></ol></pre></div></div>       <p>在参数<strong>want.uri</strong>中会携带目标方配置的linkFeature对应的uri。</p>       <p>在参数<strong>want.parameters</strong>中会携带Caller方传入的参数，不同场景参数如下所示。</p>       <ul>        <li>         <p>路线规划场景</p>         <div class="tablenoborder">          <div class="tbBox"><table class="layoutFixed idpTab">           <thead>            <tr>             <th align="left" class="cellrowborder" id="mcps1.3.4.2.2.5.1.2.1.5.1.1" valign="top" width="25%">参数名</th>             <th align="left" class="cellrowborder" id="mcps1.3.4.2.2.5.1.2.1.5.1.2" valign="top" width="25%">类型</th>             <th align="left" class="cellrowborder" id="mcps1.3.4.2.2.5.1.2.1.5.1.3" valign="top" width="25%">必填</th>             <th align="left" class="cellrowborder" id="mcps1.3.4.2.2.5.1.2.1.5.1.4" valign="top" width="25%">说明</th>            </tr>           </thead>                       <tbody><tr>             <td class="cellrowborder" valign="top" width="25%">originName</td>             <td class="cellrowborder" valign="top" width="25%">string</td>             <td class="cellrowborder" valign="top" width="25%">否</td>             <td class="cellrowborder" valign="top" width="25%">起点名称。</td>            </tr>            <tr>             <td class="cellrowborder" valign="top" width="25%">originLatitude</td>             <td class="cellrowborder" valign="top" width="25%">number</td>             <td class="cellrowborder" valign="top" width="25%">否</td>             <td class="cellrowborder" valign="top" width="25%">起点纬度。</td>            </tr>            <tr>             <td class="cellrowborder" valign="top" width="25%">originLongitude</td>             <td class="cellrowborder" valign="top" width="25%">number</td>             <td class="cellrowborder" valign="top" width="25%">否</td>             <td class="cellrowborder" valign="top" width="25%">起点经度。</td>            </tr>            <tr>             <td class="cellrowborder" valign="top" width="25%">originPoiId</td>             <td class="cellrowborder" valign="top" width="25%">string</td>             <td class="cellrowborder" valign="top" width="25%">否</td>             <td class="cellrowborder" valign="top" width="25%">起点POI ID，当前仅支持花瓣地图、高德地图、百度地图获取此参数。</td>            </tr>            <tr>             <td class="cellrowborder" valign="top" width="25%">destinationName</td>             <td class="cellrowborder" valign="top" width="25%">string</td>             <td class="cellrowborder" valign="top" width="25%">否</td>             <td class="cellrowborder" valign="top" width="25%">终点名称。</td>            </tr>            <tr>             <td class="cellrowborder" valign="top" width="25%">destinationLatitude</td>             <td class="cellrowborder" valign="top" width="25%">number</td>             <td class="cellrowborder" valign="top" width="25%">是</td>             <td class="cellrowborder" valign="top" width="25%">终点纬度。</td>            </tr>            <tr>             <td class="cellrowborder" valign="top" width="25%">destinationLongitude</td>             <td class="cellrowborder" valign="top" width="25%">number</td>             <td class="cellrowborder" valign="top" width="25%">是</td>             <td class="cellrowborder" valign="top" width="25%">终点经度。</td>            </tr>            <tr>             <td class="cellrowborder" valign="top" width="25%">destinationPoiId</td>             <td class="cellrowborder" valign="top" width="25%">string</td>             <td class="cellrowborder" valign="top" width="25%">否</td>             <td class="cellrowborder" valign="top" width="25%">终点POI ID，当前仅支持花瓣地图、高德地图、百度地图获取此参数。</td>            </tr>            <tr>             <td class="cellrowborder" valign="top" width="25%">vehicleType</td>             <td class="cellrowborder" valign="top" width="25%">number</td>             <td class="cellrowborder" valign="top" width="25%">否</td>             <td class="cellrowborder" valign="top" width="25%">交通出行工具，取值：0-驾车，1-步行，2-骑行，3-公交。</td>            </tr>                     </tbody></table></div>         </div></li>        <li>         <p>导航场景</p>         <div class="tablenoborder">          <div class="tbBox"><table class="layoutFixed idpTab">           <thead>            <tr>             <th align="left" class="cellrowborder" id="mcps1.3.4.2.2.5.2.2.1.5.1.1" valign="top" width="25%">参数名</th>             <th align="left" class="cellrowborder" id="mcps1.3.4.2.2.5.2.2.1.5.1.2" valign="top" width="25%">类型</th>             <th align="left" class="cellrowborder" id="mcps1.3.4.2.2.5.2.2.1.5.1.3" valign="top" width="25%">必填</th>             <th align="left" class="cellrowborder" id="mcps1.3.4.2.2.5.2.2.1.5.1.4" valign="top" width="25%">说明</th>            </tr>           </thead>                       <tbody><tr>             <td class="cellrowborder" valign="top" width="25%">destinationName</td>             <td class="cellrowborder" valign="top" width="25%">string</td>             <td class="cellrowborder" valign="top" width="25%">否</td>             <td class="cellrowborder" valign="top" width="25%">终点名称。</td>            </tr>            <tr>             <td class="cellrowborder" valign="top" width="25%">destinationLatitude</td>             <td class="cellrowborder" valign="top" width="25%">number</td>             <td class="cellrowborder" valign="top" width="25%">是</td>             <td class="cellrowborder" valign="top" width="25%">终点纬度。</td>            </tr>            <tr>             <td class="cellrowborder" valign="top" width="25%">destinationLongitude</td>             <td class="cellrowborder" valign="top" width="25%">number</td>             <td class="cellrowborder" valign="top" width="25%">是</td>             <td class="cellrowborder" valign="top" width="25%">终点经度。</td>            </tr>            <tr>             <td class="cellrowborder" valign="top" width="25%">destinationPoiId</td>             <td class="cellrowborder" valign="top" width="25%">string</td>             <td class="cellrowborder" valign="top" width="25%">否</td>             <td class="cellrowborder" valign="top" width="25%">终点POI ID，当前仅支持花瓣地图、高德地图、百度地图获取此参数。</td>            </tr>                     </tbody></table></div>         </div></li>        <li>         <p>位置搜索场景</p>         <div class="tablenoborder">          <div class="tbBox"><table class="layoutFixed idpTab">           <thead>            <tr>             <th align="left" class="cellrowborder" id="mcps1.3.4.2.2.5.3.2.1.5.1.1" valign="top" width="25%">参数名</th>             <th align="left" class="cellrowborder" id="mcps1.3.4.2.2.5.3.2.1.5.1.2" valign="top" width="25%">类型</th>             <th align="left" class="cellrowborder" id="mcps1.3.4.2.2.5.3.2.1.5.1.3" valign="top" width="25%">必填</th>             <th align="left" class="cellrowborder" id="mcps1.3.4.2.2.5.3.2.1.5.1.4" valign="top" width="25%">说明</th>            </tr>           </thead>                       <tbody><tr>             <td class="cellrowborder" valign="top" width="25%">destinationName</td>             <td class="cellrowborder" valign="top" width="25%">string</td>             <td class="cellrowborder" valign="top" width="25%">是</td>             <td class="cellrowborder" valign="top" width="25%">地点名称。</td>            </tr>                     </tbody></table></div>         </div></li>       </ul>       <p>应用可根据<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#skills标签">linkFeature</a>中定义的特性功能，比如路线规划、导航和位置搜索，结合接收到的uri和参数开发不同的样式页面。</p></li>     </ol>     <p><strong>完整示例：</strong></p>     <div _ngcontent-ime-c106="" class="highlight-div"><div _ngcontent-ime-c106="" class="highlight-div-header"><div _ngcontent-ime-c106="" class="highlight-div-header-left"><div _ngcontent-ime-c106="" class="handle-button expand-button"><div _ngcontent-ime-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ime-c106="" class="highlight-div-header-right"><div _ngcontent-ime-c106="" class="handle-button ai-button"></div><div _ngcontent-ime-c106="" class="handle-button line-button"><div _ngcontent-ime-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ime-c106="" class="handle-button theme-button"><div _ngcontent-ime-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ime-c106="" class="handle-button copy-button"><div _ngcontent-ime-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ime-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityConstant</span>, <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">TAG</span> = <span class="hljs-string">'EntryAbility'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>    <span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>    uri?: <span class="hljs-built_in">string</span>;</li><li>    destinationLatitude?: <span class="hljs-built_in">number</span>;</li><li>    destinationLongitude?: <span class="hljs-built_in">number</span>;</li><li>    destinationName?: <span class="hljs-built_in">string</span>;</li><li>    originName?: <span class="hljs-built_in">string</span>;</li><li>    originLatitude?: <span class="hljs-built_in">number</span>;</li><li>    originLongitude?: <span class="hljs-built_in">number</span>;</li><li>    vehicleType?: <span class="hljs-built_in">number</span>;</li><li>    destinationPoiId?: <span class="hljs-built_in">string</span>;</li><li>    originPoiId?: <span class="hljs-built_in">string</span>;</li><li>
</li><li>    <span class="hljs-title function_">onCreate</span>(<span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span>, <span class="hljs-attr">launchParam</span>: <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">LaunchParam</span>): <span class="hljs-built_in">void</span> {</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`onCreate, want=<span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(want)}</span>`</span>);</li><li>        <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">onCreate</span>(want, launchParam);</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parseWant</span>(want);</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onNewWant</span>(<span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span>, <span class="hljs-attr">launchParam</span>: <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">LaunchParam</span>): <span class="hljs-built_in">void</span> {</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`onNewWant, want=<span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(want)}</span>`</span>);</li><li>        <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">onNewWant</span>(want, launchParam);</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">parseWant</span>(want);</li><li>        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">windowStage</span>) {</li><li>            hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'windowStage is null'</span>);</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">terminateSelf</span>();</li><li>            <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">loadPage</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">windowStage</span>);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-title function_">parseWant</span>(<span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span>): <span class="hljs-built_in">void</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">uri</span> = want.<span class="hljs-property">uri</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">destinationLatitude</span> = want.<span class="hljs-property">parameters</span>?.<span class="hljs-property">destinationLatitude</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span>;</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">destinationLongitude</span> = want.<span class="hljs-property">parameters</span>?.<span class="hljs-property">destinationLongitude</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span>;</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">destinationName</span> = want.<span class="hljs-property">parameters</span>?.<span class="hljs-property">destinationName</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">originName</span> = want.<span class="hljs-property">parameters</span>?.<span class="hljs-property">originName</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">originLatitude</span> = want.<span class="hljs-property">parameters</span>?.<span class="hljs-property">originLatitude</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span>;</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">originLongitude</span> = want.<span class="hljs-property">parameters</span>?.<span class="hljs-property">originLongitude</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span>;</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">vehicleType</span> = want.<span class="hljs-property">parameters</span>?.<span class="hljs-property">vehicleType</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span>;</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">destinationPoiId</span> = want.<span class="hljs-property">parameters</span>?.<span class="hljs-property">destinationPoiId</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">originPoiId</span> = want.<span class="hljs-property">parameters</span>?.<span class="hljs-property">originPoiId</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-title function_">loadPage</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`loadPage, uri=<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.uri}</span>`</span>);</li><li>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">uri</span> === <span class="hljs-string">'maps://navigation'</span>) {</li><li>            <span class="hljs-comment">// 构建导航场景参数</span></li><li>            <span class="hljs-keyword">const</span> <span class="hljs-attr">storage</span>: <span class="hljs-title class_">LocalStorage</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LocalStorage</span>({</li><li>                <span class="hljs-string">"destinationLatitude"</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">destinationLatitude</span>,</li><li>                <span class="hljs-string">"destinationLongitude"</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">destinationLongitude</span>,</li><li>                <span class="hljs-string">"destinationPoiId"</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">destinationPoiId</span></li><li>            } <span class="hljs-keyword">as</span> <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">Object</span>&gt;);</li><li>            <span class="hljs-comment">// 拉起导航页面</span></li><li>            windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/NavigationPage'</span>, storage)</li><li>        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">uri</span> === <span class="hljs-string">'maps://routePlan'</span>) {</li><li>            <span class="hljs-comment">// 构建路径规划场景参数</span></li><li>            <span class="hljs-keyword">const</span> <span class="hljs-attr">storage</span>: <span class="hljs-title class_">LocalStorage</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LocalStorage</span>({</li><li>                <span class="hljs-string">"destinationLatitude"</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">destinationLatitude</span>,</li><li>                <span class="hljs-string">"destinationLongitude"</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">destinationLongitude</span>,</li><li>                <span class="hljs-string">"destinationName"</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">destinationName</span>,</li><li>                <span class="hljs-string">"originName"</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">originName</span>,</li><li>                <span class="hljs-string">"originLatitude"</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">originLatitude</span>,</li><li>                <span class="hljs-string">"originLongitude"</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">originLongitude</span>,</li><li>                <span class="hljs-string">"vehicleType"</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">vehicleType</span>,</li><li>                <span class="hljs-string">"destinationPoiId"</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">destinationPoiId</span>,</li><li>                <span class="hljs-string">"originPoiId"</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">originPoiId</span></li><li>            } <span class="hljs-keyword">as</span> <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">Object</span>&gt;);</li><li>            <span class="hljs-comment">// 拉起路径规划页面</span></li><li>            windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/RoutePlanPage'</span>, storage)</li><li>        }  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">uri</span> === <span class="hljs-string">'maps://search'</span>) {</li><li>            <span class="hljs-comment">// 构建位置搜索场景参数</span></li><li>            <span class="hljs-keyword">const</span> <span class="hljs-attr">storage</span>: <span class="hljs-title class_">LocalStorage</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LocalStorage</span>({</li><li>                <span class="hljs-string">"destinationName"</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">destinationName</span></li><li>            } <span class="hljs-keyword">as</span> <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">Object</span>&gt;);</li><li>            <span class="hljs-comment">// 拉起位置搜索页面</span></li><li>            windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/PlaceSearchPage'</span>, storage)</li><li>        } <span class="hljs-keyword">else</span> {</li><li>            <span class="hljs-comment">// 默认拉起首页</span></li><li>            windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>                <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>                    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'Failed to load the content. Cause: %{public}s'</span>,</li><li>                        <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err) ?? <span class="hljs-string">''</span>);</li><li>                    <span class="hljs-keyword">return</span>;</li><li>                }</li><li>                hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'Succeeded in loading the content.'</span>);</li><li>            });</li><li>        }</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onDestroy</span>(): <span class="hljs-built_in">void</span> {</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`onDestroy`</span>);</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`onWindowStageCreate`</span>);</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">windowStage</span> = windowStage;</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">loadPage</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">windowStage</span>);</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onWindowStageDestroy</span>(): <span class="hljs-built_in">void</span> {</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onWindowStageDestroy'</span>);</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onForeground</span>(): <span class="hljs-built_in">void</span> {</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onForeground'</span>);</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onBackground</span>(): <span class="hljs-built_in">void</span> {</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onBackground'</span>);</li><li>    }</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>