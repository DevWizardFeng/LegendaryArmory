<h1 _ngcontent-rmq-c119="" class="doc-title ng-star-inserted" title="按钮标注场景"> 按钮标注场景 </h1>

<div _ngcontent-rmq-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="section677814217816">设计场景<i class="anchor-icon anchor-icon-link" anchorid="section677814217816" tips="复制节点链接"></i></h2><p>对于用户可点击等操作的任何按钮，如果不是文本类控件，则须通过给出标注信息，包括用户自定义的控件中的虚拟按钮区域，否则可能会导致屏幕朗读用户无法完成对应的功能。此类控件在进行标注时，标注文本不要包含控件类型、“单指双击即可打开”之类的字符串，此部分指引由屏幕朗读根据控件类型、控件状态，并结合用户是否开启了“新手指引”自动追加朗读。</p> <p><span><img originheight="85" originwidth="331" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114842.34285840111723967716832913574147:50001231000000:2800:7E1A08BE0AA7F6D692CDC3732D2F33CED243C057D6D6956AA2516E3B4DECFF34.png" width="331" height="85"></span></p> </div> <div class="tiledSection"><h2 id="section1184118531382">开发实例<i class="anchor-icon anchor-icon-link" anchorid="section1184118531382" tips="复制节点链接"></i></h2><p>在下面的代码片段中，您可以看到Image组件（它实际上是一个播放/暂停按钮），通过设置accessibilityText属性提供标注信息：</p> <div _ngcontent-rmq-c106="" class="highlight-div"><div _ngcontent-rmq-c106="" class="highlight-div-header"><div _ngcontent-rmq-c106="" class="highlight-div-header-left"><div _ngcontent-rmq-c106="" class="handle-button expand-button"><div _ngcontent-rmq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rmq-c106="" class="highlight-div-header-right"><div _ngcontent-rmq-c106="" class="handle-button ai-button"></div><div _ngcontent-rmq-c106="" class="handle-button line-button"><div _ngcontent-rmq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rmq-c106="" class="handle-button theme-button"><div _ngcontent-rmq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rmq-c106="" class="handle-button copy-button"><div _ngcontent-rmq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rmq-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class=""><span class="hljs-variable constant_">RESOURCE_STR_PLAY</span> </span><span class="">= </span><span class="">$r</span><span class="">(</span><span class=""><span class="hljs-string">'app.media.play'</span></span><span class="">)</span></li><li><span class="hljs-keyword">const</span> <span class=""><span class="hljs-variable constant_">RESOURCE_STR_PAUSE</span> </span><span class="">= </span><span class="">$r</span><span class="">(</span><span class=""><span class="hljs-string">'app.media.pause'</span></span><span class="">)</span></li><li>
</li><li><span class=""><span class="hljs-meta">@Entry</span></span></li><li><span class=""><span class="hljs-meta">@Component</span></span></li><li><span class="hljs-keyword">export</span> struct <span class=""><span class="hljs-title class_">Rule</span>_2_1_5 </span><span class="">{</span></li><li>  <span class=""><span class="hljs-attr">title</span></span><span class="">: </span><span class=""><span class="hljs-built_in">string</span> </span><span class="">= </span><span class=""><span class="hljs-string">'Rule 2.1.5'</span></span></li><li>  <span class=""><span class="hljs-meta">@State</span> </span><span class=""><span class="hljs-attr">isPlaying</span></span><span class="">: </span><span class=""><span class="hljs-built_in">boolean</span> </span><span class="">= </span><span class="hljs-literal">false</span></li><li>  <span class=""><span class="hljs-title function_">play</span></span><span class="">(<span class="hljs-params"></span>) </span><span class="">{</span></li><li>    <span class=""><span class="hljs-comment">// play audio file</span></span></li><li>  <span class="">}</span></li><li>
</li><li>  <span class=""><span class="hljs-title function_">pause</span></span><span class="">(<span class="hljs-params"></span>) </span><span class="">{</span></li><li>    <span class=""><span class="hljs-comment">// pause playing of audio file</span></span></li><li>  <span class="">}</span></li><li>
</li><li>  <span class=""><span class="hljs-title function_">build</span></span><span class="">(<span class="hljs-params"></span>) </span><span class="">{</span></li><li>    <span class=""><span class="hljs-title class_">NavDestination</span></span><span class="">() </span><span class="">{</span></li><li>      <span class=""><span class="hljs-title class_">Column</span></span><span class="">() </span><span class="">{</span></li><li>        <span class=""><span class="hljs-title class_">Flex</span></span><span class="">(</span><span class="">{</span></li><li>          <span class=""><span class="hljs-attr">direction</span></span><span class="">: </span><span class=""><span class="hljs-title class_">FlexDirection</span></span><span class="">.</span><span class=""><span class="hljs-property">Column</span></span><span class="">,</span></li><li>          <span class=""><span class="hljs-attr">alignItems</span></span><span class="">: </span><span class=""><span class="hljs-title class_">ItemAlign</span></span><span class="">.</span><span class=""><span class="hljs-property">Center</span></span><span class="">,</span></li><li>          <span class=""><span class="hljs-attr">justifyContent</span></span><span class="">: </span><span class=""><span class="hljs-title class_">FlexAlign</span></span><span class="">.</span><span class=""><span class="hljs-property">Center</span></span><span class="">,</span></li><li>        <span class="">}</span><span class="">) </span><span class="">{</span></li><li>          <span class=""><span class="hljs-title class_">Row</span></span><span class="">() </span><span class="">{</span></li><li>            <span class=""><span class="hljs-title class_">Image</span></span><span class="">(</span><span class="hljs-variable language_">this</span><span class="">.</span><span class=""><span class="hljs-property">isPlaying</span> </span><span class="">? </span><span class=""><span class="hljs-variable constant_">RESOURCE_STR_PAUSE</span> </span><span class="">: </span><span class=""><span class="hljs-variable constant_">RESOURCE_STR_PLAY</span></span><span class="">)</span></li><li>              <span class="">.</span><span class=""><span class="hljs-title function_">width</span></span><span class="">(</span><span class=""><span class="hljs-number">50</span></span><span class="">)</span></li><li>              <span class="">.</span><span class=""><span class="hljs-title function_">height</span></span><span class="">(</span><span class=""><span class="hljs-number">50</span></span><span class="">)</span></li><li>              <span class="">.</span><span class=""><span class="hljs-title function_">onClick</span></span><span class="">(<span class="hljs-function">() </span></span><span class=""><span class="hljs-function">=</span></span><span class=""><span class="hljs-function">&gt;</span></span> <span class="">{</span></li><li>                <span class="hljs-variable language_">this</span><span class="">.</span><span class=""><span class="hljs-property">isPlaying</span> </span><span class="">= !</span><span class="hljs-variable language_">this</span><span class="">.</span><span class=""><span class="hljs-property">isPlaying</span></span></li><li>                <span class="hljs-keyword">if</span> <span class="">(</span><span class="hljs-variable language_">this</span><span class="">.</span><span class=""><span class="hljs-property">isPlaying</span></span><span class="">) </span><span class="">{</span></li><li>                  <span class="hljs-variable language_">this</span><span class="">.</span><span class=""><span class="hljs-title function_">play</span></span><span class="">()</span></li><li>                <span class="">} </span><span class="hljs-keyword">else</span> <span class="">{</span></li><li>                  <span class="hljs-variable language_">this</span><span class="">.</span><span class=""><span class="hljs-title function_">pause</span></span><span class="">()</span></li><li>                <span class="">}</span></li><li><span class="">              }</span><span class="">)</span></li><li>              <span class="">.</span><span class=""><span class="hljs-title function_">accessibilityRole</span></span><span class="">(</span><span class=""><span class="hljs-variable constant_">BUTTON_TYPE</span></span><span class="">)</span></li><li>              <span class="">.</span><span class=""><span class="hljs-title function_">accessibilityText</span></span><span class="">(</span><span class="hljs-variable language_">this</span><span class="">.</span><span class=""><span class="hljs-property">isPlaying</span> </span><span class="">? </span><span class=""><span class="hljs-string">'Pause'</span> </span><span class="">: </span><span class=""><span class="hljs-string">'Play'</span></span><span class="">) </span><span class=""><span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment">设置注释信息</span></span></li><li>            <span class=""><span class="hljs-title class_">Text</span></span><span class="">(</span><span class=""><span class="hljs-string">'Good_morning.mp3'</span></span><span class="">)</span></li><li>              <span class="">.</span><span class=""><span class="hljs-title function_">margin</span></span><span class="">(</span><span class="">{</span></li><li>                <span class=""><span class="hljs-attr">left</span></span><span class="">: </span><span class=""><span class="hljs-number">10</span></span></li><li>              <span class="">}</span><span class="">)</span></li><li>          <span class="">}</span></li><li><span class="">        }</span></li><li>        <span class="">.</span><span class=""><span class="hljs-title function_">width</span></span><span class="">(</span><span class=""><span class="hljs-string">'100%'</span></span><span class="">)</span></li><li>        <span class="">.</span><span class=""><span class="hljs-title function_">height</span></span><span class="">(</span><span class=""><span class="hljs-string">'100%'</span></span><span class="">)</span></li><li>        <span class="">.</span><span class=""><span class="hljs-title function_">backgroundColor</span></span><span class="">(</span><span class=""><span class="hljs-title class_">Color</span></span><span class="">.</span><span class=""><span class="hljs-property">White</span></span><span class="">)</span></li><li>      <span class="">}</span></li><li><span class="">    }</span></li><li>    <span class="">.</span><span class=""><span class="hljs-title function_">title</span></span><span class="">(</span><span class="hljs-variable language_">this</span><span class="">.</span><span class=""><span class="hljs-property">title</span></span><span class="">)</span></li><li>  <span class="">}</span></li><li><span class="">}</span></li></ol></pre></div></div> </div> </div> <div></div></div>