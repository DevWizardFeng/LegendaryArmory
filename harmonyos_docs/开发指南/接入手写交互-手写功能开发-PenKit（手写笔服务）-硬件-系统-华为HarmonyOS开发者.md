<h1 _ngcontent-bef-c119="" class="doc-title ng-star-inserted" title="接入手写交互"> 接入手写交互 </h1>

<div _ngcontent-bef-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>接入手写交互功能，对于需要接入支持双击/轻捏功能的手写笔的第三方应用，可以通过调用下面相应接口来监听手写笔双击/轻捏事件，从而触发自身应用内部回调，来执行指定操作。</p>    <div class="tiledSection">     <h2 id="section197301111915">接口说明<i class="anchor-icon anchor-icon-link" anchorid="section197301111915" tips="复制节点链接"></i></h2>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.2.2.1.4.1.1" valign="top" width="25.27%">          <p>类名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.2.2.1.4.1.2" valign="top" width="40.760000000000005%">          <p>接口名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.2.2.1.4.1.3" valign="top" width="33.97%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="25.27%">          <p>stylusInteraction</p></td>         <td class="cellrowborder" valign="top" width="40.760000000000005%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/pen-stylusinteraction#section98913119599" target="_blank">on</a>(type: 'squeeze', receiver: Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/pen-stylusinteraction#section10272152161111" target="_blank">SqueezeEvent</a>&gt;): void</p></td>         <td class="cellrowborder" valign="top" width="33.97%">          <p>监听手写笔轻捏事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25.27%">          <p>stylusInteraction</p></td>         <td class="cellrowborder" valign="top" width="40.760000000000005%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/pen-stylusinteraction#section137391712323" target="_blank">off</a>(type: 'squeeze', receiver?: Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/pen-stylusinteraction#section10272152161111" target="_blank">SqueezeEvent</a>&gt;): void</p></td>         <td class="cellrowborder" valign="top" width="33.97%">          <p>取消监听手写笔轻捏事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25.27%">          <p>stylusInteraction</p></td>         <td class="cellrowborder" valign="top" width="40.760000000000005%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/pen-stylusinteraction#section450110191857" target="_blank">on</a>(type: 'doubleTap', receiver: Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/pen-stylusinteraction#section4950173171415" target="_blank">DoubleTapEvent</a>&gt;): void</p></td>         <td class="cellrowborder" valign="top" width="33.97%">          <p>监听手写笔双击事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25.27%">          <p>stylusInteraction</p></td>         <td class="cellrowborder" valign="top" width="40.760000000000005%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/pen-stylusinteraction#section9865271579" target="_blank">off</a>(type: 'doubleTap', receiver?: Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/pen-stylusinteraction#section4950173171415" target="_blank">DoubleTapEvent</a>&gt;): void</p></td>         <td class="cellrowborder" valign="top" width="33.97%">          <p>取消监听手写笔双击事件。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section103604196220">手写笔轻捏事件<i class="anchor-icon anchor-icon-link" anchorid="section103604196220" tips="复制节点链接"></i></h2>         </div>    <p>1.导入相关模块。</p>    <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> <span class="">{ </span>stylusInteraction<span class=""> } </span><span class="hljs-keyword">from</span> <span class=""><span class="hljs-string">'@kit.Penkit'</span></span><span class="">;</span></li><li><span class="hljs-keyword">import</span> <span class="">{ </span><span class=""><span class="hljs-title class_">BusinessError</span> </span><span class="">} </span><span class="hljs-keyword">from</span> <span class=""><span class="hljs-string">'@kit.BasicServicesKit'</span></span><span class="">;</span></li></ol></pre></div></div>    <p>2.监听手写笔轻捏事件。</p>    <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> <span class="">{</span></li><li>  <span class="">stylusInteraction</span><span class="">.</span><span class=""><span class="hljs-title function_">on</span></span><span class="">(</span><span class=""><span class="hljs-string">'squeeze'</span></span><span class="">, </span><span class=""><span class="hljs-function">(</span></span><span class=""><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class=""><span class="hljs-function"><span class="hljs-params">: </span></span></span><span class=""><span class="hljs-function"><span class="hljs-params">stylusInteraction</span></span></span><span class=""><span class="hljs-function"><span class="hljs-params">.</span></span></span><span class=""><span class="hljs-function"><span class="hljs-params">SqueezeEvent</span></span></span><span class=""><span class="hljs-function">) </span></span><span class=""><span class="hljs-function">=</span></span><span class=""><span class="hljs-function">&gt;</span></span> <span class="">{</span></li><li>    <span class=""><span class="hljs-variable language_">console</span></span><span class="">.</span><span class=""><span class="hljs-title function_">info</span></span><span class="">(</span><span class=""><span class="hljs-string">`got squeeze event, time: </span></span><span class=""><span class="hljs-string"><span class="hljs-subst">${</span></span></span><span class=""><span class="hljs-string"><span class="hljs-subst">event</span></span></span><span class=""><span class="hljs-string"><span class="hljs-subst">.</span></span></span><span class=""><span class="hljs-string"><span class="hljs-subst">timestamp</span></span></span><span class=""><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class=""><span class="hljs-string">`</span></span><span class="">)</span><span class="">;</span></li><li>  <span class="">}</span><span class="">)</span><span class="">;</span></li><li><span class="">} </span><span class="hljs-keyword">catch</span> <span class="">(</span><span class="">err</span><span class="">) </span><span class="">{</span></li><li>  <span class=""><span class="hljs-variable language_">console</span></span><span class="">.</span><span class=""><span class="hljs-title function_">error</span></span><span class="">(</span><span class=""><span class="hljs-string">'errCode: '</span> </span><span class="">+ </span><span class="">(</span><span class="">err </span><span class="hljs-keyword">as</span> <span class=""><span class="hljs-title class_">BusinessError</span></span><span class="">)</span><span class="">.</span><span class=""><span class="hljs-property">code</span> </span><span class="">+ </span><span class=""><span class="hljs-string">', errMessage: '</span> </span><span class="">+ </span><span class="">(</span><span class="">err </span><span class="hljs-keyword">as</span> <span class=""><span class="hljs-title class_">BusinessError</span></span><span class="">)</span><span class="">.</span><span class=""><span class="hljs-property">message</span></span><span class="">)</span><span class="">;</span></li><li><span class="">}</span></li></ol></pre></div></div>    <p>3.取消监听手写笔轻捏事件。</p>    <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> <span class="">{</span></li><li>  <span class="">stylusInteraction</span><span class="">.</span><span class=""><span class="hljs-title function_">off</span></span><span class="">(</span><span class=""><span class="hljs-string">'squeeze'</span></span><span class="">, </span><span class=""><span class="hljs-function">(</span></span><span class=""><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class=""><span class="hljs-function"><span class="hljs-params">: </span></span></span><span class=""><span class="hljs-function"><span class="hljs-params">stylusInteraction</span></span></span><span class=""><span class="hljs-function"><span class="hljs-params">.</span></span></span><span class=""><span class="hljs-function"><span class="hljs-params">SqueezeEvent</span></span></span><span class=""><span class="hljs-function">) </span></span><span class=""><span class="hljs-function">=</span></span><span class=""><span class="hljs-function">&gt;</span></span> <span class="">{</span></li><li>    <span class=""><span class="hljs-variable language_">console</span></span><span class="">.</span><span class=""><span class="hljs-title function_">info</span></span><span class="">(</span><span class=""><span class="hljs-string">`off squeeze event, time: </span></span><span class=""><span class="hljs-string"><span class="hljs-subst">${</span></span></span><span class=""><span class="hljs-string"><span class="hljs-subst">event</span></span></span><span class=""><span class="hljs-string"><span class="hljs-subst">.</span></span></span><span class=""><span class="hljs-string"><span class="hljs-subst">timestamp</span></span></span><span class=""><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class=""><span class="hljs-string">`</span></span><span class="">)</span><span class="">;</span></li><li>  <span class="">}</span><span class="">)</span><span class="">;</span></li><li><span class="">} </span><span class="hljs-keyword">catch</span> <span class="">(</span><span class="">err</span><span class="">) </span><span class="">{</span></li><li>  <span class=""><span class="hljs-variable language_">console</span></span><span class="">.</span><span class=""><span class="hljs-title function_">error</span></span><span class="">(</span><span class=""><span class="hljs-string">'errCode: '</span> </span><span class="">+ </span><span class="">(</span><span class="">err </span><span class="hljs-keyword">as</span> <span class=""><span class="hljs-title class_">BusinessError</span></span><span class="">)</span><span class="">.</span><span class=""><span class="hljs-property">code</span> </span><span class="">+ </span><span class=""><span class="hljs-string">', errMessage: '</span> </span><span class="">+ </span><span class="">(</span><span class="">err </span><span class="hljs-keyword">as</span> <span class=""><span class="hljs-title class_">BusinessError</span></span><span class="">)</span><span class="">.</span><span class=""><span class="hljs-property">message</span></span><span class="">)</span><span class="">;</span></li><li><span class="">}</span></li></ol></pre></div></div>    <p></p>    <div class="tiledSection">     <h2 id="section13104171517168">手写笔双击事件<i class="anchor-icon anchor-icon-link" anchorid="section13104171517168" tips="复制节点链接"></i></h2>          <p>1.导入相关模块。</p>    </div>    <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> <span class="">{ </span>stylusInteraction<span class=""> } </span><span class="hljs-keyword">from</span> <span class=""><span class="hljs-string">'@kit.Penkit'</span></span><span class="">;</span></li><li><span class="hljs-keyword">import</span> <span class="">{ </span><span class=""><span class="hljs-title class_">BusinessError</span> </span><span class="">} </span><span class="hljs-keyword">from</span> <span class=""><span class="hljs-string">'@kit.BasicServicesKit'</span></span><span class="">;</span></li></ol></pre></div></div>    <p>2.监听手写笔双击事件。</p>    <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> <span class="">{</span></li><li>  <span class="">stylusInteraction</span><span class="">.</span><span class=""><span class="hljs-title function_">on</span></span><span class="">(</span><span class=""><span class="hljs-string">'doubleTap'</span></span><span class="">, </span><span class=""><span class="hljs-function">(</span></span><span class=""><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class=""><span class="hljs-function"><span class="hljs-params">: </span></span></span><span class=""><span class="hljs-function"><span class="hljs-params">stylusInteraction</span></span></span><span class=""><span class="hljs-function"><span class="hljs-params">.</span></span></span><span class=""><span class="hljs-function"><span class="hljs-params">DoubleTapEvent</span></span></span><span class=""><span class="hljs-function">) </span></span><span class=""><span class="hljs-function">=</span></span><span class=""><span class="hljs-function">&gt;</span></span> <span class="">{</span></li><li>    <span class=""><span class="hljs-variable language_">console</span></span><span class="">.</span><span class=""><span class="hljs-title function_">info</span></span><span class="">(</span><span class=""><span class="hljs-string">`got doubleTap event, time: </span></span><span class=""><span class="hljs-string"><span class="hljs-subst">${</span></span></span><span class=""><span class="hljs-string"><span class="hljs-subst">event</span></span></span><span class=""><span class="hljs-string"><span class="hljs-subst">.</span></span></span><span class=""><span class="hljs-string"><span class="hljs-subst">timestamp</span></span></span><span class=""><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class=""><span class="hljs-string">`</span></span><span class="">)</span><span class="">;</span></li><li>  <span class="">}</span><span class="">)</span><span class="">;</span></li><li><span class="">} </span><span class="hljs-keyword">catch</span> <span class="">(</span><span class="">err</span><span class="">) </span><span class="">{</span></li><li>  <span class=""><span class="hljs-variable language_">console</span></span><span class="">.</span><span class=""><span class="hljs-title function_">error</span></span><span class="">(</span><span class=""><span class="hljs-string">'errCode: '</span> </span><span class="">+ </span><span class="">(</span><span class="">err </span><span class="hljs-keyword">as</span> <span class=""><span class="hljs-title class_">BusinessError</span></span><span class="">)</span><span class="">.</span><span class=""><span class="hljs-property">code</span> </span><span class="">+ </span><span class=""><span class="hljs-string">', errMessage: '</span> </span><span class="">+ </span><span class="">(</span><span class="">err </span><span class="hljs-keyword">as</span> <span class=""><span class="hljs-title class_">BusinessError</span></span><span class="">)</span><span class="">.</span><span class=""><span class="hljs-property">message</span></span><span class="">)</span><span class="">;</span></li><li><span class="">}</span></li></ol></pre></div></div>    <p>3.取消监听手写笔双击事件。</p>    <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> <span class="">{</span></li><li>  <span class="">stylusInteraction</span><span class="">.</span><span class=""><span class="hljs-title function_">off</span></span><span class="">(</span><span class=""><span class="hljs-string">'doubleTap'</span></span><span class="">, </span><span class=""><span class="hljs-function">(</span></span><span class=""><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class=""><span class="hljs-function"><span class="hljs-params">: </span></span></span><span class=""><span class="hljs-function"><span class="hljs-params">stylusInteraction</span></span></span><span class=""><span class="hljs-function"><span class="hljs-params">.</span></span></span><span class=""><span class="hljs-function"><span class="hljs-params">DoubleTapEvent</span></span></span><span class=""><span class="hljs-function">) </span></span><span class=""><span class="hljs-function">=</span></span><span class=""><span class="hljs-function">&gt;</span></span> <span class="">{</span></li><li>    <span class=""><span class="hljs-variable language_">console</span></span><span class="">.</span><span class=""><span class="hljs-title function_">info</span></span><span class="">(</span><span class=""><span class="hljs-string">`off doubleTap event, time: </span></span><span class=""><span class="hljs-string"><span class="hljs-subst">${</span></span></span><span class=""><span class="hljs-string"><span class="hljs-subst">event</span></span></span><span class=""><span class="hljs-string"><span class="hljs-subst">.</span></span></span><span class=""><span class="hljs-string"><span class="hljs-subst">timestamp</span></span></span><span class=""><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class=""><span class="hljs-string">`</span></span><span class="">)</span><span class="">;</span></li><li>  <span class="">}</span><span class="">)</span><span class="">;</span></li><li><span class="">} </span><span class="hljs-keyword">catch</span> <span class="">(</span><span class="">err</span><span class="">) </span><span class="">{</span></li><li>  <span class=""><span class="hljs-variable language_">console</span></span><span class="">.</span><span class=""><span class="hljs-title function_">error</span></span><span class="">(</span><span class=""><span class="hljs-string">'errCode: '</span> </span><span class="">+ </span><span class="">(</span><span class="">err </span><span class="hljs-keyword">as</span> <span class=""><span class="hljs-title class_">BusinessError</span></span><span class="">)</span><span class="">.</span><span class=""><span class="hljs-property">code</span> </span><span class="">+ </span><span class=""><span class="hljs-string">', errMessage: '</span> </span><span class="">+ </span><span class="">(</span><span class="">err </span><span class="hljs-keyword">as</span> <span class=""><span class="hljs-title class_">BusinessError</span></span><span class="">)</span><span class="">.</span><span class=""><span class="hljs-property">message</span></span><span class="">)</span><span class="">;</span></li><li><span class="">}</span></li></ol></pre></div></div>    <p></p>   </div>   <div></div></div>