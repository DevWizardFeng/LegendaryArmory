<h1 _ngcontent-nbn-c119="" class="doc-title ng-star-inserted" title="接入手写套件"> 接入手写套件 </h1>

<div _ngcontent-nbn-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>从5.1.0(18)开始，手写套件新增支持设置工具栏默认笔刷、笔刷类型及笔宽、各笔刷默认宽度。</p>    <p>从6.0.0(20)开始，手写套件新增支持自定义画布大小、缩略图能力。</p>    <p>接入手写套件后，可以在应用中创建手写功能界面。界面包括画布和工具栏两部分，画布部分支持手写笔和手指的书写效果绘制，工具栏部分提供多种笔刷和编辑工具，并支持对手写功能进行设置。接入手写套件后将自动开启一笔成形和报点预测功能，无需再单独接入。</p>    <div class="tiledSection">     <h2 id="section97081510145319">场景介绍<i class="anchor-icon anchor-icon-link" anchorid="section97081510145319" tips="复制节点链接"></i></h2>         </div>    <p>在应用中创建手写功能界面，效果如下：</p>    <p><span><img height="469.82250000000005" originheight="550" originwidth="612" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115034.12232862747386769206927255020207:50001231000000:2800:787F055B786E91BAAC30C87C09E3048DC686A79B7D87E207EAC5B8759DB5F0F4.png" title="点击放大" width="523.6875"></span></p>    <ol>     <li>可以加载和显示手写文件。</li>     <li>可以编辑和保存手写文件。</li>     <li>Pen Kit手写套件仅支持上下滑动，不支持左右滑动。</li>    </ol>    <div class="tiledSection">     <h2 id="section2198231175317">开发流程<i class="anchor-icon anchor-icon-link" anchorid="section2198231175317" tips="复制节点链接"></i></h2>          <p><span><img originheight="541" originwidth="430" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115034.81891932591100073313616811275648:50001231000000:2800:913AD20AA435A7E3B64EBC3EE8B8B4EF40FF472D3E401A687C05D27B156F0FF0.png" width="430" height="541"></span></p>     <p></p>    </div>    <div class="tiledSection">     <h2 id="section82419311546">接口说明<i class="anchor-icon anchor-icon-link" anchorid="section82419311546" tips="复制节点链接"></i></h2>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.2.1.3.1.1" valign="top" width="29.13%">          <p>接口</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.9.2.1.3.1.2" valign="top" width="70.87%">          <p>接口描述</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="29.13%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/pen-handwritecomponent" target="_blank">HandwriteComponent</a></p></td>         <td class="cellrowborder" valign="top" width="70.87%">          <p>构建画布控件</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="29.13%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/pen-handwritecontroller" target="_blank">HandwriteController</a></p></td>         <td class="cellrowborder" valign="top" width="70.87%">          <p>画布的主要功能入口类</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section151484318552">开发步骤<i class="anchor-icon anchor-icon-link" anchorid="section151484318552" tips="复制节点链接"></i></h2>          <p>1.EntryAbility入口设置Context。</p>     <div _ngcontent-nbn-c106="" class="highlight-div"><div _ngcontent-nbn-c106="" class="highlight-div-header"><div _ngcontent-nbn-c106="" class="highlight-div-header-left"><div _ngcontent-nbn-c106="" class="handle-button expand-button"><div _ngcontent-nbn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nbn-c106="" class="highlight-div-header-right"><div _ngcontent-nbn-c106="" class="handle-button ai-button"></div><div _ngcontent-nbn-c106="" class="handle-button line-button"><div _ngcontent-nbn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nbn-c106="" class="handle-button theme-button"><div _ngcontent-nbn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nbn-c106="" class="handle-button copy-button"><div _ngcontent-nbn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nbn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> <span class="">{ </span><span class=""><span class="hljs-title class_">UIAbility</span> </span><span class="">} </span><span class="hljs-keyword">from</span> <span class=""><span class="hljs-string">'@kit.AbilityKit'</span></span><span class="">;</span></li><li><span class="hljs-keyword">import</span> <span class="">{ </span><span class=""><span class="hljs-variable language_">window</span> </span><span class="">} </span><span class="hljs-keyword">from</span> <span class=""><span class="hljs-string">'@kit.ArkUI'</span></span><span class="">;</span></li><li><span class="hljs-keyword">import</span> <span class=""><span class="hljs-title class_">GlobalContext</span> </span><span class="hljs-keyword">from</span> <span class=""><span class="hljs-string">'../utils/ContextConfig'</span></span><span class="">;</span></li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class=""><span class="hljs-title class_">EntryAbility</span> </span><span class="hljs-keyword">extends</span> <span class=""><span class="hljs-title class_ inherited__">UIAbility</span> </span><span class="">{</span></li><li>
</li><li>  <span class=""><span class="hljs-title function_">onWindowStageCreate</span></span><span class="">(</span><span class=""><span class="hljs-attr">windowStage</span></span><span class="">: </span><span class=""><span class="hljs-variable language_">window</span></span><span class="">.</span><span class=""><span class="hljs-property">WindowStage</span></span><span class="">)</span><span class="">: </span><span class=""><span class="hljs-keyword">void</span> </span><span class="">{</span></li><li>    <span class=""><span class="hljs-comment">//</span></span><span class="hljs-comment"> </span><span class=""><span class="hljs-comment">主窗口已创建，为此功能设置主页面</span></span></li><li>    <span class="">windowStage</span><span class="">.</span><span class=""><span class="hljs-title function_">loadContent</span></span><span class="">(</span><span class=""><span class="hljs-string">'pages/HandWritingDemo'</span></span><span class="">, </span><span class=""><span class="hljs-function">(</span></span><span class=""><span class="hljs-function"><span class="hljs-params">err</span></span></span><span class=""><span class="hljs-function">) </span></span><span class=""><span class="hljs-function">=</span></span><span class=""><span class="hljs-function">&gt;</span></span> <span class="">{</span></li><li>      <span class="hljs-keyword">if</span> <span class="">(</span><span class="">err</span><span class="">.</span><span class=""><span class="hljs-property">code</span></span><span class="">) </span><span class="">{</span></li><li>        <span class="hljs-keyword">return</span><span class="">;</span></li><li>      <span class="">}</span></li><li><span class="">    }</span><span class="">)</span><span class="">;</span></li><li>    <span class=""><span class="hljs-title class_">GlobalContext</span></span><span class="">.</span><span class=""><span class="hljs-title function_">setContext</span></span><span class="">(</span><span class="hljs-variable language_">this</span><span class="">.</span><span class=""><span class="hljs-property">context</span></span><span class="">)</span><span class="">;</span></li><li>  <span class="">}</span></li><li><span class="">}</span></li></ol></pre></div></div>     <p>2.新建GlobalContext类。</p>     <div _ngcontent-nbn-c106="" class="highlight-div"><div _ngcontent-nbn-c106="" class="highlight-div-header"><div _ngcontent-nbn-c106="" class="highlight-div-header-left"><div _ngcontent-nbn-c106="" class="handle-button expand-button"><div _ngcontent-nbn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nbn-c106="" class="highlight-div-header-right"><div _ngcontent-nbn-c106="" class="handle-button ai-button"></div><div _ngcontent-nbn-c106="" class="handle-button line-button"><div _ngcontent-nbn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nbn-c106="" class="handle-button theme-button"><div _ngcontent-nbn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nbn-c106="" class="handle-button copy-button"><div _ngcontent-nbn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nbn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> <span class="">{ </span><span class=""><span class="hljs-variable">common</span> </span><span class="">} </span><span class="hljs-keyword">from</span> <span class=""><span class="hljs-string">"@kit.AbilityKit"</span></span><span class="">;</span></li><li>
</li><li><span class="hljs-variable">declare</span> <span class="hljs-variable">namespace</span> <span class=""><span class="hljs-variable">globalThis</span> </span><span class="">{</span></li><li>  <span class="hljs-keyword">let</span> <span class=""><span class="hljs-variable">_brushEngineContext</span></span><span class="">: </span><span class=""><span class="hljs-title class_">common</span></span><span class="">.</span><span class=""><span class="hljs-title class_">UIAbilityContext</span></span><span class="">;</span></li><li><span class="">}</span><span class="">;</span></li><li>
</li><li><span class="hljs-variable">export</span> <span class="hljs-variable">default</span> <span class="hljs-keyword">class</span> <span class=""><span class="hljs-title class_">GlobalContext</span> </span><span class="">{</span></li><li>  <span class="hljs-keyword">static</span> <span class=""><span class="hljs-title function_">getContext</span></span><span class="">()</span><span class="">: </span><span class=""><span class="hljs-title class_">common</span></span><span class="">.</span><span class=""><span class="hljs-title class_">UIAbilityContext</span> </span><span class="">{</span></li><li>    <span class="hljs-keyword">return</span> <span class=""><span class="hljs-variable">globalThis</span></span><span class="">.</span><span class=""><span class="hljs-variable">_brushEngineContext</span></span><span class="">;</span></li><li>  <span class="">}</span></li><li>
</li><li>  <span class="hljs-keyword">static</span> <span class=""><span class="hljs-title function_">setContext</span></span><span class="">(</span><span class=""><span class="hljs-variable">context</span></span><span class="">: </span><span class=""><span class="hljs-title class_">common</span></span><span class="">.</span><span class=""><span class="hljs-title class_">UIAbilityContext</span></span><span class="">)</span><span class="">: </span><span class=""><span class="hljs-title class_">void</span> </span><span class="">{</span></li><li>    <span class=""><span class="hljs-variable">globalThis</span></span><span class="">.</span><span class=""><span class="hljs-variable">_brushEngineContext</span> </span><span class="">= </span><span class=""><span class="hljs-variable">context</span></span><span class="">;</span></li><li>  <span class="">}</span></li><li><span class="">}</span></li></ol></pre></div></div>     <div class="p">      3.构造包含手写组件的控件/页面，下面以控件为例。      <div _ngcontent-nbn-c106="" class="highlight-div"><div _ngcontent-nbn-c106="" class="highlight-div-header"><div _ngcontent-nbn-c106="" class="highlight-div-header-left"><div _ngcontent-nbn-c106="" class="handle-button expand-button"><div _ngcontent-nbn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nbn-c106="" class="highlight-div-header-right"><div _ngcontent-nbn-c106="" class="handle-button ai-button"></div><div _ngcontent-nbn-c106="" class="handle-button line-button"><div _ngcontent-nbn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nbn-c106="" class="handle-button theme-button"><div _ngcontent-nbn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nbn-c106="" class="handle-button copy-button"><div _ngcontent-nbn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nbn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> <span class="">{ </span><span class=""><span class="hljs-variable">HandwriteController</span></span><span class="">, </span><span class=""><span class="hljs-variable">HandwriteComponent</span></span><span class="">, </span><span class=""><span class="hljs-variable">PenType</span></span><span class="">, </span><span class=""><span class="hljs-variable">PenHspInfo</span> </span><span class="">} </span><span class="hljs-keyword">from</span> <span class=""><span class="hljs-string">'@kit.Penkit'</span></span><span class="">;</span></li><li>
</li><li><span class="">@<span class="hljs-title function_">Entry</span></span></li><li><span class="">@<span class="hljs-title function_">Component</span></span></li><li><span class="hljs-keyword">struct</span> <span class=""><span class="hljs-title class_">HandWriteDemoComp</span> </span><span class="">{</span></li><li>  <span class=""><span class="hljs-variable">controller</span></span><span class="">: </span><span class=""><span class="hljs-title class_">HandwriteController</span> </span><span class="">= </span><span class="hljs-variable">new</span> <span class=""><span class="hljs-title function_">HandwriteController</span></span><span class="">()</span><span class="">;</span></li><li><span class="">  <span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment">根据应用存储规则，获取到手写文件保存的路径，此处仅为实例参考</span></span></li><li>  <span class=""><span class="hljs-variable">initPath</span></span><span class="">: </span><span class=""><span class="hljs-title class_">string</span> </span><span class="">= </span><span class="hljs-keyword">this</span><span class="">.</span><span class=""><span class="hljs-title function_">getUIContext</span></span><span class="">()</span><span class="">.</span><span class=""><span class="hljs-title function_">getHostContext</span></span><span class="">()</span><span class="">?.</span><span class=""><span class="hljs-variable">filesDir</span> </span><span class="">+ </span><span class=""><span class="hljs-string">'/aa'</span></span><span class="">;</span></li><li>  <span class=""><span class="hljs-variable">penWidth</span></span><span class="">: </span><span class=""><span class="hljs-title class_">number</span> </span><span class="">= </span><span class=""><span class="hljs-number">5</span></span><span class="">;</span></li><li>  <span class=""><span class="hljs-variable">ballpointPenWidth</span></span><span class="">: </span><span class=""><span class="hljs-title class_">number</span> </span><span class="">= </span><span class=""><span class="hljs-number">6</span></span><span class="">;</span></li><li>
</li><li>  <span class=""><span class="hljs-title function_">aboutToAppear</span></span><span class="">() </span><span class="">{</span></li><li>    <span class=""><span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment">加载时设置保存动作完成后的回调。</span></span></li><li>    <span class="hljs-keyword">this</span><span class="">.</span><span class=""><span class="hljs-variable">controller</span></span><span class="">.</span><span class=""><span class="hljs-title function_">onLoad</span></span><span class="">(</span><span class="hljs-keyword">this</span><span class="">.</span><span class=""><span class="hljs-variable">callback</span></span><span class="">)</span><span class="">;</span></li><li>  <span class="">}</span></li><li>
</li><li>  <span class=""><span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment">手写文件内容加载完毕渲染上屏后的回调</span></span><span class=""><span class="hljs-comment">,</span></span><span class=""><span class="hljs-comment">通知接入用户</span></span><span class=""><span class="hljs-comment">,</span></span><span class=""><span class="hljs-comment">可在此处进行自定义行为</span></span></li><li>  <span class=""><span class="hljs-variable">callback</span> </span><span class="">= </span><span class="">() </span><span class="">=</span><span class="">&gt;</span> <span class="">{</span></li><li>    <span class=""><span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment">自定义行为</span></span><span class=""><span class="hljs-comment">,</span></span><span class=""><span class="hljs-comment">例如文件加载完毕后展示用户操作指导</span></span></li><li>  <span class="">}</span></li><li>
</li><li>  <span class=""><span class="hljs-title function_">build</span></span><span class="">() </span><span class="">{</span></li><li>    <span class=""><span class="hljs-title function_">Row</span></span><span class="">() </span><span class="">{</span></li><li>      <span class=""><span class="hljs-title function_">Stack</span></span><span class="">(</span><span class="">{ </span><span class=""><span class="hljs-variable">alignContent</span></span><span class="">: </span><span class=""><span class="hljs-title class_">Alignment</span></span><span class="">.</span><span class=""><span class="hljs-title class_">TopStart</span> </span><span class="">}</span><span class="">) </span><span class="">{</span></li><li>        <span class=""><span class="hljs-title function_">HandwriteComponent</span></span><span class="">(</span><span class="">{</span></li><li>          <span class=""><span class="hljs-variable">handwriteController</span></span><span class="">: </span><span class="hljs-keyword">this</span><span class="">.</span><span class=""><span class="hljs-title class_">controller</span></span><span class="">,</span></li><li>          <span class=""><span class="hljs-variable">defaultPenType</span></span><span class="">: </span><span class=""><span class="hljs-title class_">PenType</span></span><span class="">.</span><span class=""><span class="hljs-title class_">PEN</span></span><span class="">, </span><span class=""><span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment">可选属性，默认笔刷</span></span></li><li>          <span class=""><span class="hljs-variable">defaultPenInfo</span></span><span class="">: </span><span class="">[</span><span class="">{ </span><span class=""><span class="hljs-variable">penType</span></span><span class="">: </span><span class=""><span class="hljs-title class_">PenType</span></span><span class="">.</span><span class=""><span class="hljs-title class_">PEN</span></span><span class="">, </span><span class=""><span class="hljs-variable">penWidth</span></span><span class="">: </span><span class="hljs-keyword">this</span><span class="">.</span><span class=""><span class="hljs-title class_">penWidth</span> </span><span class="">}</span><span class="">,</span></li><li>            <span class="">{ </span><span class=""><span class="hljs-variable">penType</span></span><span class="">: </span><span class=""><span class="hljs-title class_">PenType</span></span><span class="">.</span><span class=""><span class="hljs-title class_">BALLPOINT_PEN</span></span><span class="">, </span><span class=""><span class="hljs-variable">penWidth</span></span><span class="">: </span><span class="hljs-keyword">this</span><span class="">.</span><span class=""><span class="hljs-title class_">ballpointPenWidth</span> </span><span class="">}</span><span class="">] </span><span class="hljs-keyword">as</span> <span class=""><span class="hljs-variable">PenHspInfo</span></span><span class="">[]</span><span class="">, </span><span class=""><span class="hljs-comment">//</span></span><span class=""><span class="hljs-comment">可选属性，各笔刷的默认宽度</span></span></li><li>          <span class=""><span class="hljs-variable">widthRatio</span></span><span class="">: </span><span class=""><span class="hljs-number">1</span></span><span class="">,</span> <span class="hljs-comment">// </span><span class=""><span class="hljs-comment">可选属性，</span></span><span class="hljs-comment">自定义画布大小，宽度占比（0-1）。</span></li><li>          <span class=""><span class="hljs-variable">heightRatio</span></span><span class="">: </span><span class=""><span class="hljs-number">1</span></span><span class="">,</span> <span class="hljs-comment">// </span><span class=""><span class="hljs-comment">可选属性，</span></span><span class="hljs-comment">自定义画布大小，高度占比（0-1）。</span></li><li>          <span class=""><span class="hljs-variable">onInit</span></span><span class="">: </span><span class="">() </span><span class="">=</span><span class="">&gt;</span> <span class="">{</span></li><li>            <span class=""><span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment">画布初始化完成时的回调。此时可以调用接口加载和显示笔记内容</span></span></li><li>            <span class="hljs-keyword">this</span><span class="">.</span><span class=""><span class="hljs-variable">controller</span></span><span class="">?.</span><span class=""><span class="hljs-title function_">load</span></span><span class="">(</span><span class="hljs-keyword">this</span><span class="">.</span><span class=""><span class="hljs-variable">initPath</span></span><span class="">)</span><span class="">;</span></li><li>          <span class="">}</span><span class="">,</span></li><li>          <span class=""><span class="hljs-variable">onScale</span></span><span class="">: </span><span class="">(</span><span class=""><span class="hljs-variable">scale</span></span><span class="">: </span><span class=""><span class="hljs-title class_">number</span></span><span class="">) </span><span class="">=</span><span class="">&gt;</span> <span class="">{</span></li><li>            <span class=""><span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment">画布缩放时的回调方法，将返回当前手写控件的缩放比例，可在此处进行自定义行为。</span></span></li><li>          <span class="">}</span></li><li><span class="">        }</span><span class="">)</span></li><li>        <span class=""><span class="hljs-title function_">Button</span></span><span class="">(</span><span class=""><span class="hljs-string">"save"</span></span><span class="">)</span></li><li>          <span class="">.</span><span class=""><span class="hljs-title function_">onClick</span></span><span class="">(</span><span class="hljs-variable">async</span> <span class="">() </span><span class="">=</span><span class="">&gt;</span> <span class="">{</span></li><li><span class="">            <span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment">需根据应用存储规则，获取到手写文件保存的路径，此处仅为实例参考</span></span></li><li>            <span class="hljs-keyword">const</span> <span class=""><span class="hljs-variable">path</span> </span><span class="">= </span><span class="hljs-keyword">this</span><span class="">.</span><span class=""><span class="hljs-title function_">getUIContext</span></span><span class="">()</span><span class="">.</span><span class=""><span class="hljs-title function_">getHostContext</span></span><span class="">()</span><span class="">?.</span><span class=""><span class="hljs-variable">filesDir</span> </span><span class="">+ </span><span class=""><span class="hljs-string">'/aa'</span></span><span class="">;</span></li><li>            <span class="hljs-variable">await</span> <span class="hljs-keyword">this</span><span class="">.</span><span class=""><span class="hljs-variable">controller</span></span><span class="">?.</span><span class=""><span class="hljs-title function_">save</span></span><span class="">(</span><span class=""><span class="hljs-variable">path</span></span><span class="">)</span><span class="">.</span><span class=""><span class="hljs-title function_">then</span></span><span class="">()</span><span class="">.</span><span class=""><span class="hljs-keyword">catch</span></span><span class="">((</span><span class=""><span class="hljs-variable">error</span></span><span class="">: </span><span class=""><span class="hljs-title class_">Error</span></span><span class="">) </span><span class="">=</span><span class="">&gt;</span> <span class="">{</span></li><li>              <span class=""><span class="hljs-variable">console</span></span><span class="">.</span><span class=""><span class="hljs-title function_">info</span></span><span class="">(</span><span class=""><span class="hljs-string">"err</span></span><span class=""><span class="hljs-string">：</span></span><span class=""><span class="hljs-string">"</span> </span><span class="">+ </span><span class=""><span class="hljs-variable">error</span></span><span class="">)</span><span class="">;</span></li><li>            <span class="">}</span><span class="">)</span></li><li>            <span class="hljs-comment">// 获取缩略图</span></li><li>            <span class="hljs-keyword">this</span><span class="">.</span><span class=""><span class="hljs-variable">controller</span></span><span class="">.</span><span class=""><span class="hljs-title function_">getThumbnail</span></span><span class="">(</span><span class="hljs-keyword">this</span><span class="">.</span><span class=""><span class="hljs-variable">controller</span></span><span class="">?.</span><span class=""><span class="hljs-title function_">getContentRange</span></span><span class="">())</span><span class="">?.</span><span class=""><span class="hljs-title function_">then</span></span><span class="">((</span><span class=""><span class="hljs-variable">pixelMap</span></span><span class="">: </span><span class=""><span class="hljs-title class_">PixelMap</span></span><span class="">) </span><span class="">=</span><span class="">&gt;</span> <span class="">{</span></li><li>              <span class="hljs-keyword">if</span> <span class="">(</span><span class=""><span class="hljs-variable">pixelMap</span></span><span class="">) </span><span class="">{</span></li><li>                <span class=""><span class="hljs-variable">pixelMap</span></span><span class="">.</span><span class=""><span class="hljs-title function_">release</span></span><span class="">()</span></li><li>                <span class=""><span class="hljs-variable">console</span></span><span class="">.</span><span class=""><span class="hljs-title function_">info</span></span><span class="">(</span><span class=""><span class="hljs-string">'getThumbnail success'</span></span><span class="">)</span></li><li>              <span class="">}</span></li><li><span class="">            }</span><span class="">)</span></li><li>          <span class="">}</span><span class="">)</span></li><li>      <span class="">}</span></li><li>      <span class="">.</span><span class=""><span class="hljs-title function_">width</span></span><span class="">(</span><span class=""><span class="hljs-string">'100%'</span></span><span class="">)</span></li><li>    <span class="">}</span></li><li>    <span class="">.</span><span class=""><span class="hljs-title function_">height</span></span><span class="">(</span><span class=""><span class="hljs-string">'100%'</span></span><span class="">)</span></li><li>  <span class="">}</span></li><li><span class="">}</span></li></ol></pre></div></div>     </div>     <p>完整示例代码可参考<a href="https://developer.huawei.com/consumer/cn/codelabsPortal/carddetails/tutorials_PenKit-Next-Easy" target="_blank">手写笔服务（ArkTS）</a>。</p>    </div>   </div>   <div></div></div>