<h1 _ngcontent-dim-c119="" class="doc-title ng-star-inserted" title="控件位置调整场景"> 控件位置调整场景 </h1>

<div _ngcontent-dim-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="section1080367123114">设计场景<i class="anchor-icon anchor-icon-link" anchorid="section1080367123114" tips="复制节点链接"></i></h2><p>移动过程中需要实时播报即将移动到的位置，新位置的播报会打断老位置的播报，放置到确定位置后，需要再播报已经放置的位置信息，尽量保证视障用户耳朵听到的信息和我们通过眼睛看到的信息是一致的。</p> </div> <div class="tiledSection"><h2 id="section1323772017315">开发实例<i class="anchor-icon anchor-icon-link" anchorid="section1323772017315" tips="复制节点链接"></i></h2><p>例如，当前展示的网页书签被托起时，会播报”华为专区已托起”，移动的过程中，根据即将放置的位置播报“移动到华为手机服务|华为官网上面”。应用可调用主动播报的接口来进行主动播报。</p> <p><span><img originheight="310" originwidth="507" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114857.91173526344168781785421954242805:50001231000000:2800:7123730CF8E6B9F9CF567727AEE1888EBEB74667B70532A55B1A8C4ED3017ABD.png" width="507" height="310"></span></p> <div _ngcontent-dim-c106="" class="highlight-div"><div _ngcontent-dim-c106="" class="highlight-div-header"><div _ngcontent-dim-c106="" class="highlight-div-header-left"><div _ngcontent-dim-c106="" class="handle-button expand-button"><div _ngcontent-dim-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dim-c106="" class="highlight-div-header-right"><div _ngcontent-dim-c106="" class="handle-button ai-button"></div><div _ngcontent-dim-c106="" class="handle-button line-button"><div _ngcontent-dim-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dim-c106="" class="handle-button theme-button"><div _ngcontent-dim-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dim-c106="" class="handle-button copy-button"><div _ngcontent-dim-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dim-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> <span class="">accessibility </span><span class="hljs-keyword">from</span> <span class=""><span class="hljs-string">'@ohos.accessibility'</span></span><span class="">;</span></li><li>
</li><li><span class=""><span class="hljs-meta">@Entry</span></span></li><li><span class=""><span class="hljs-meta">@Component</span></span></li><li><span class="hljs-keyword">export</span> struct <span class=""><span class="hljs-title class_">Rule</span>_2_1_11 </span><span class="">{</span></li><li>  <span class=""><span class="hljs-attr">title</span></span><span class="">: </span><span class=""><span class="hljs-built_in">string</span> </span><span class="">= </span><span class=""><span class="hljs-string">'Rule 2.1.11'</span></span><span class="">;</span></li><li>  <span class=""><span class="hljs-attr">eventInfo</span></span><span class="">: </span><span class="">accessibility</span><span class="">.</span><span class=""><span class="hljs-property">EventInfo</span> </span><span class="">= </span><span class="">(</span><span class="">{</span></li><li>    <span class=""><span class="hljs-attr">type</span></span><span class="">: </span><span class=""><span class="hljs-string">'announceForAccessibility'</span></span><span class="">,</span></li><li>    <span class=""><span class="hljs-attr">bundleName</span></span><span class="">: </span><span class=""><span class="hljs-string">'com.example.pagesrouter'</span></span><span class="">,</span></li><li>    <span class=""><span class="hljs-attr">triggerAction</span></span><span class="">: </span><span class=""><span class="hljs-string">'common'</span></span><span class="">,</span></li><li>    <span class=""><span class="hljs-attr">textAnnouncedForAccessibility</span></span><span class="">: </span><span class=""><span class="hljs-string">'</span></span><span class=""><span class="hljs-string">移动到华为手机服务|华为官网上面</span></span><span class=""><span class="hljs-string">'</span></span></li><li>  <span class="">}</span><span class="">)</span><span class="">;</span></li><li>
</li><li>  <span class=""><span class="hljs-title function_">build</span></span><span class="">(<span class="hljs-params"></span>) </span><span class="">{</span></li><li>    <span class=""><span class="hljs-title class_">NavDestination</span></span><span class="">() </span><span class="">{</span></li><li>      <span class=""><span class="hljs-title class_">Column</span></span><span class="">() </span><span class="">{</span></li><li>        <span class=""><span class="hljs-title class_">Blank</span></span><span class="">()</span></li><li>        <span class=""><span class="hljs-title class_">Button</span></span><span class="">(</span><span class=""><span class="hljs-string">'button'</span></span><span class="">)</span></li><li>          <span class="">.</span><span class=""><span class="hljs-title function_">accessibilityText</span></span><span class="">(</span><span class=""><span class="hljs-string">'</span></span><span class=""><span class="hljs-string">主动播报</span></span><span class=""><span class="hljs-string">'</span></span><span class="">)</span></li><li>          <span class="">.</span><span class=""><span class="hljs-title function_">align</span></span><span class="">(</span><span class=""><span class="hljs-title class_">Alignment</span></span><span class="">.</span><span class=""><span class="hljs-property">Center</span></span><span class="">)</span></li><li>          <span class="">.</span><span class=""><span class="hljs-title function_">fontSize</span></span><span class="">(</span><span class=""><span class="hljs-number">20</span></span><span class="">)</span></li><li>          <span class="">.</span><span class=""><span class="hljs-title function_">id</span></span><span class="">(</span><span class=""><span class="hljs-string">'button1'</span></span><span class="">)</span></li><li>          <span class="">.</span><span class=""><span class="hljs-title function_">onClick</span></span><span class="">(<span class="hljs-function">() </span></span><span class=""><span class="hljs-function">=</span></span><span class=""><span class="hljs-function">&gt;</span></span> <span class="">{</span></li><li>            <span class="">accessibility</span><span class="">.</span><span class=""><span class="hljs-title function_">sendAccessibilityEvent</span></span><span class="">(</span><span class="hljs-variable language_">this</span><span class="">.</span><span class=""><span class="hljs-property">eventInfo</span></span><span class="">)</span><span class="">.</span><span class=""><span class="hljs-title function_">then</span></span><span class="">(<span class="hljs-function">() </span></span><span class=""><span class="hljs-function">=</span></span><span class=""><span class="hljs-function">&gt;</span></span> <span class="">{</span></li><li>              <span class=""><span class="hljs-variable language_">console</span></span><span class="">.</span><span class=""><span class="hljs-title function_">info</span></span><span class="">(</span><span class=""><span class="hljs-string">`Succeeded in send event, eventInfo is </span></span><span class=""><span class="hljs-string"><span class="hljs-subst">${</span></span></span><span class=""><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">JSON</span></span></span></span><span class=""><span class="hljs-string"><span class="hljs-subst">.</span></span></span><span class=""><span class="hljs-string"><span class="hljs-subst">stringify</span></span></span><span class=""><span class="hljs-string"><span class="hljs-subst">(</span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-variable language_">this</span></span></span><span class=""><span class="hljs-string"><span class="hljs-subst">.</span></span></span><span class=""><span class="hljs-string"><span class="hljs-subst">eventInfo</span></span></span><span class=""><span class="hljs-string"><span class="hljs-subst">)</span></span></span><span class=""><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class=""><span class="hljs-string">`</span></span><span class="">)</span><span class="">;</span></li><li>            <span class="">}</span><span class="">)</span><span class="">;</span></li><li>          <span class="">}</span><span class="">)</span></li><li>        <span class=""><span class="hljs-title class_">Blank</span></span><span class="">()</span></li><li>      <span class="">}</span></li><li>      <span class="">.</span><span class=""><span class="hljs-title function_">width</span></span><span class="">(</span><span class=""><span class="hljs-string">'100%'</span></span><span class="">)</span></li><li>      <span class="">.</span><span class=""><span class="hljs-title function_">height</span></span><span class="">(</span><span class=""><span class="hljs-string">'100%'</span></span><span class="">)</span></li><li>    <span class="">}</span></li><li>    <span class="">.</span><span class=""><span class="hljs-title function_">title</span></span><span class="">(</span><span class="hljs-variable language_">this</span><span class="">.</span><span class=""><span class="hljs-property">title</span></span><span class="">)</span></li><li>  <span class="">}</span></li><li><span class="">}</span></li></ol></pre></div></div> </div> </div> <div></div></div>