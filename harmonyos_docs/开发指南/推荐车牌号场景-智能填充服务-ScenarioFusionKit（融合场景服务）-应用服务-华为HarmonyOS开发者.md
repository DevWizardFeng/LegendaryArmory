<h1 _ngcontent-xkj-c119="" class="doc-title ng-star-inserted" title="推荐车牌号场景"> 推荐车牌号场景 </h1>

<div _ngcontent-xkj-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>从5.1.0(18)开始，支持智能填充的推荐车牌号场景。</p> <p>在填写车牌号表单场景时，智能填充可从用户的历史表单输入中提供输入建议，开发者可以参考如下代码进行开发。</p> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p>只推荐机主本人历史表单信息的车牌号信息（与登录设备的账号信息，实名姓名+手机号或邮箱信息相同）。</p> </div></div></div> <div class="tiledSection"><h2 id="section1379119875118">效果图<i class="anchor-icon anchor-icon-link" anchorid="section1379119875118" tips="复制节点链接"></i></h2><p><span><img height="339.15000000000003" originheight="792" originwidth="1220" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114630.20299485825660695416176628105860:50001231000000:2800:7CCA3356C86A838F5ED17AB9B700841D1ABB9F287F8DF31ACA9E00C37F9A8A9C.png" title="点击放大" width="523.6875"></span></p> </div> <div class="tiledSection"><h2 id="section18420341715">示例代码<i class="anchor-icon anchor-icon-link" anchorid="section18420341715" tips="复制节点链接"></i></h2><div _ngcontent-xkj-c106="" class="highlight-div"><div _ngcontent-xkj-c106="" class="highlight-div-header"><div _ngcontent-xkj-c106="" class="highlight-div-header-left"><div _ngcontent-xkj-c106="" class="handle-button expand-button"><div _ngcontent-xkj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xkj-c106="" class="highlight-div-header-right"><div _ngcontent-xkj-c106="" class="handle-button ai-button"></div><div _ngcontent-xkj-c106="" class="handle-button line-button"><div _ngcontent-xkj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xkj-c106="" class="handle-button theme-button"><div _ngcontent-xkj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xkj-c106="" class="handle-button copy-button"><div _ngcontent-xkj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xkj-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { display } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">NEW_ENERGY_TEXT</span> = <span class="hljs-string">'新能源'</span>;</li><li>
</li><li><span class="hljs-meta">@Extend</span>(<span class="hljs-title class_">Text</span>)</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">extendStyles</span>(<span class="hljs-params">value: <span class="hljs-built_in">string</span>, width: <span class="hljs-built_in">number</span>, height: <span class="hljs-built_in">number</span>, active: <span class="hljs-built_in">boolean</span></span>) {</li><li>  .<span class="hljs-title function_">fontSize</span>(value === <span class="hljs-variable constant_">NEW_ENERGY_TEXT</span> ? <span class="hljs-number">10</span> : <span class="hljs-number">18</span>)</li><li>  .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Medium</span>)</li><li>  .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>  .<span class="hljs-title function_">width</span>(width)</li><li>  .<span class="hljs-title function_">height</span>(height)</li><li>  .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-string">'3px'</span>)</li><li>  .<span class="hljs-title function_">borderColor</span>(active ? <span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span> : <span class="hljs-string">'#ccc'</span>)</li><li>  .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">5</span>)</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">LicensePlate</span> {</li><li>  <span class="hljs-comment">// 车牌号输入框的数量。</span></li><li>  <span class="hljs-keyword">private</span> length = <span class="hljs-number">8</span>;</li><li>  <span class="hljs-keyword">private</span> licenseItemId = <span class="hljs-string">'_license_item'</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">licensePlateVal</span>: <span class="hljs-built_in">string</span>[] = [];</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">activeIndex</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">1</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">itemWidth</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">30</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">itemHeight</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">30</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">inputText</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>  <span class="hljs-comment">// 用户是否已经触发输入。</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">isUserInput</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-comment">// 匹配历史输入的上一个输入框的值</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">beforeValue</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">licensePlateVal</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-string">''</span>);</li><li>    <span class="hljs-keyword">let</span> displayClass = display.<span class="hljs-title function_">getDefaultDisplaySync</span>();</li><li>    <span class="hljs-keyword">let</span> width = displayClass.<span class="hljs-property">width</span>;</li><li>    <span class="hljs-comment">// 每个框的宽度根据屏幕宽度计算。</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemWidth</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">px2vp</span>(width) / (<span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span> + <span class="hljs-number">1</span>) - <span class="hljs-number">4</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeight</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemWidth</span> * <span class="hljs-number">1.2</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">setValue</span>(<span class="hljs-attr">val</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">isUserInput</span>) {</li><li>      <span class="hljs-comment">// 根据智能填充填写车牌号输入框。</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleAutoFill</span>(val);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">beforeValue</span> = val;</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-keyword">if</span> (!val || val.<span class="hljs-property">length</span> === <span class="hljs-number">0</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">beforeValue</span>.<span class="hljs-property">length</span> &gt; val.<span class="hljs-property">length</span>) {</li><li>      <span class="hljs-keyword">let</span> licensePlate = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getLicensePlate</span>();</li><li>      <span class="hljs-keyword">if</span> (licensePlate.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">inputText</span> = licensePlate;</li><li>      }</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">beforeValue</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">inputText</span>;</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-keyword">let</span> inputData = val.<span class="hljs-title function_">substring</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">beforeValue</span>.<span class="hljs-property">length</span>);</li><li>    <span class="hljs-keyword">if</span> (inputData.<span class="hljs-property">length</span> &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span>) {</li><li>      inputData = inputData.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span>);</li><li>    }</li><li>    <span class="hljs-comment">// 用户输入仅替换选定的输入框，而智能填充则替换所有输入框中的所有值。</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleUserInput</span>(inputData);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">beforeValue</span> = val;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getLicensePlate</span>(): <span class="hljs-built_in">string</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">licensePlateVal</span>.<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">handleUserInput</span>(<span class="hljs-attr">val</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">if</span> (val.<span class="hljs-property">length</span> &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span> - <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeIndex</span>) {</li><li>      val = val.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span> - <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeIndex</span>);</li><li>    }</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; val.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">licensePlateVal</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">activeIndex</span>] = val[i];</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeIndex</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">activeIndex</span> + <span class="hljs-number">1</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>);</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">handleAutoFill</span>(<span class="hljs-attr">val</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">let</span> value = val.<span class="hljs-title function_">split</span>(<span class="hljs-string">''</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">licensePlateVal</span>.<span class="hljs-title function_">fill</span>(<span class="hljs-string">''</span>);</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">licensePlateVal</span>[i] = i &lt; value.<span class="hljs-property">length</span> ? value[i] : <span class="hljs-variable language_">this</span>.<span class="hljs-property">licensePlateVal</span>[i];</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeIndex</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(value.<span class="hljs-property">length</span> + <span class="hljs-number">1</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">handleDelete</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">licensePlateVal</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">activeIndex</span>]) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">licensePlateVal</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">activeIndex</span> - <span class="hljs-number">1</span>] = <span class="hljs-string">''</span>;</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">licensePlateVal</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">activeIndex</span>] = <span class="hljs-string">''</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeIndex</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeIndex</span> - <span class="hljs-number">1</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getValue</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">string</span> {</li><li>    <span class="hljs-keyword">return</span> (index === <span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span> &amp;&amp; !<span class="hljs-variable language_">this</span>.<span class="hljs-property">licensePlateVal</span>[index]) ? <span class="hljs-variable constant_">NEW_ENERGY_TEXT</span> : <span class="hljs-variable language_">this</span>.<span class="hljs-property">licensePlateVal</span>[index];</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">handleLicenseClick</span>(<span class="hljs-params">screenX: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> index = <span class="hljs-number">0</span>; index &lt;= <span class="hljs-number">7</span>; index++) {</li><li>      <span class="hljs-keyword">let</span> id = index + <span class="hljs-variable language_">this</span>.<span class="hljs-property">licenseItemId</span>;</li><li>      <span class="hljs-keyword">let</span> position = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getComponentUtils</span>().<span class="hljs-title function_">getRectangleById</span>(id);</li><li>      <span class="hljs-comment">// 相对于屏幕的位置信息,单位px</span></li><li>      <span class="hljs-keyword">let</span> left = position?.<span class="hljs-property">screenOffset</span>?.<span class="hljs-property">x</span> ?? <span class="hljs-number">0</span>;</li><li>      <span class="hljs-keyword">let</span> right = left + (position?.<span class="hljs-property">size</span>?.<span class="hljs-property">width</span> ?? <span class="hljs-number">0</span>);</li><li>      <span class="hljs-keyword">if</span> (screenX &gt;= left &amp;&amp; screenX &lt;= right) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeIndex</span> = index;</li><li>      }</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">displayItem</span>(<span class="hljs-params">index: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getValue</span>(index))</li><li>        .<span class="hljs-title function_">extendStyles</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getValue</span>(index), <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemWidth</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeight</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeIndex</span> === index)</li><li>    }</li><li>    .<span class="hljs-title function_">id</span>(index + <span class="hljs-variable language_">this</span>.<span class="hljs-property">licenseItemId</span>)</li><li>    .<span class="hljs-title function_">padding</span>({</li><li>      <span class="hljs-attr">left</span>: <span class="hljs-number">2</span>,</li><li>      <span class="hljs-attr">right</span>: <span class="hljs-number">2</span></li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">buildLicensePlateNumber</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({</li><li>      <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Row</span>,</li><li>      <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>,</li><li>      <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">SpaceBetween</span></li><li>    }) {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Row</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">"车牌号码"</span>)</li><li>        }.<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>)</li><li>
</li><li>        <span class="hljs-title class_">Stack</span>({ <span class="hljs-attr">alignContent</span>: <span class="hljs-title class_">Alignment</span>.<span class="hljs-property">BottomStart</span> }) {</li><li>          <span class="hljs-title class_">Row</span>() {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">displayItem</span>(<span class="hljs-number">0</span>)</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">displayItem</span>(<span class="hljs-number">1</span>)</li><li>            <span class="hljs-title class_">Text</span>(<span class="hljs-string">'·'</span>)</li><li>              .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">22</span>)</li><li>              .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-number">600</span>)</li><li>              .<span class="hljs-title function_">height</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeight</span>)</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">displayItem</span>(<span class="hljs-number">2</span>)</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">displayItem</span>(<span class="hljs-number">3</span>)</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">displayItem</span>(<span class="hljs-number">4</span>)</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">displayItem</span>(<span class="hljs-number">5</span>)</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">displayItem</span>(<span class="hljs-number">6</span>)</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">displayItem</span>(<span class="hljs-number">7</span>)</li><li>          }</li><li>
</li><li>          <span class="hljs-title class_">TextInput</span>({ <span class="hljs-attr">text</span>: $$this.<span class="hljs-property">inputText</span> })</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">opacity</span>(<span class="hljs-number">0</span>)</li><li>            .<span class="hljs-title function_">contentType</span>(<span class="hljs-title class_">ContentType</span>.<span class="hljs-property">LICENSE_PLATE</span>)</li><li>            .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {</li><li>              <span class="hljs-comment">// 相对于屏幕的X轴坐标,单位px</span></li><li>              <span class="hljs-keyword">let</span> displayX = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">vp2px</span>(event.<span class="hljs-property">displayX</span>);</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleLicenseClick</span>(displayX);</li><li>              <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">activeIndex</span> &lt; <span class="hljs-number">0</span>) {</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeIndex</span> = <span class="hljs-number">0</span>;</li><li>              }</li><li>            })</li><li>            .<span class="hljs-title function_">onChange</span>(<span class="hljs-function">(<span class="hljs-params">val: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>              <span class="hljs-keyword">if</span> (val === <span class="hljs-variable language_">this</span>.<span class="hljs-property">beforeValue</span>) {</li><li>                <span class="hljs-keyword">return</span>;</li><li>              }</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setValue</span>(val);</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">isUserInput</span> = <span class="hljs-literal">false</span>;</li><li>            })</li><li>            .<span class="hljs-title function_">onDidInsert</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-comment">// 当使用输入法输入数据时触发。如果输入法是自定义的，则在用户输入数据时将isUserInput设置为true。</span></li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">isUserInput</span> = <span class="hljs-literal">true</span>;</li><li>            })</li><li>            .<span class="hljs-title function_">onDidDelete</span>(<span class="hljs-function">(<span class="hljs-params">val: DeleteValue</span>) =&gt;</span> {</li><li>              <span class="hljs-comment">// 当使用输入方法删除数据时触发。如果输入方法是自定义的，当用户删除数据时，将`isUserInput`设置为`true`，并调用相应的处理函数。</span></li><li>              <span class="hljs-keyword">if</span> (val?.<span class="hljs-property">deleteValue</span>?.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">isUserInput</span> = <span class="hljs-literal">true</span>;</li><li>              }</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleDelete</span>();</li><li>            })</li><li>        }</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeight</span>)</li><li>        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">20</span> })</li><li>      }</li><li>    }</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>    .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">left</span>: <span class="hljs-number">15</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">15</span> })</li><li>    .<span class="hljs-title function_">id</span>(<span class="hljs-string">"customInput"</span>)</li><li>    .<span class="hljs-title function_">defaultFocus</span>(<span class="hljs-literal">false</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">buildLicensePlateNumber</span>()</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div> </div> <div></div></div>