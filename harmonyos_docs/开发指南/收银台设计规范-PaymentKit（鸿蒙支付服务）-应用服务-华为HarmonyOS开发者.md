<h1 _ngcontent-pij-c119="" class="doc-title ng-star-inserted" title="收银台设计规范"> 收银台设计规范 </h1>

<div _ngcontent-pij-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="section1143212188454">功能需求<i class="anchor-icon anchor-icon-link" anchorid="section1143212188454" tips="复制节点链接"></i></h2><p>开发者可在应用项目中实现支付收银台。应用项目由配置文件(module.json5)、页面代码(ets文件)以及资源文件（图片、字符串等）组成，实现的收银台包含以下功能：展示商户信息、金额、支付方式列表（用户选择的支付方式会变成选中状态）和支付按钮。</p> <p>实现效果如下（具体实现可参见<a href="https://gitcode.com/HarmonyOS_Samples/paymentkit-sample-code-serverdemo-java" target="_blank">示例代码</a>）：</p> <p><span><img height="425.6" originheight="1026" originwidth="494" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114511.91759955456292444011143151483284:50001231000000:2800:94060C337BD93A42FC4821FCF4D55BA58A1317294AA1EDBA569A702217339772.png" title="点击放大" width="206.2032"></span></p> </div> <div class="tiledSection"><h2 id="section169761821144919">定义收银台页面容器<i class="anchor-icon anchor-icon-link" anchorid="section169761821144919" tips="复制节点链接"></i></h2><p>定义收银台页面容器用于展示支付收银台。UX规范要求以半模态弹窗展示收银台，使用说明可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-sheet-transition#示例1不同高度的半模态弹窗" target="_blank">半模态转场</a>。</p> <p>半模态容器CashierBindSheetContainer.ets示例代码如下：</p> <div _ngcontent-pij-c106="" class="highlight-div"><div _ngcontent-pij-c106="" class="highlight-div-header"><div _ngcontent-pij-c106="" class="highlight-div-header-left"><div _ngcontent-pij-c106="" class="handle-button expand-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pij-c106="" class="highlight-div-header-right"><div _ngcontent-pij-c106="" class="handle-button ai-button"></div><div _ngcontent-pij-c106="" class="handle-button line-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pij-c106="" class="handle-button theme-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pij-c106="" class="handle-button copy-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pij-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">CashierComponent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./CashierComponent'</span>;</li><li>
</li><li>@<span class="hljs-title function_">Component</span></li><li><span class="hljs-variable">export</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">CashierBindSheetContainer</span> {</li><li>  @<span class="hljs-title function_">Builder</span></li><li>  <span class="hljs-title function_">cashierBuilder</span>() {</li><li>    <span class="hljs-title function_">Column</span>() {</li><li>      <span class="hljs-title function_">CashierComponent</span>();</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>() {</li><li>    <span class="hljs-title function_">Column</span>() {</li><li>      <span class="hljs-title function_">Column</span>() {</li><li>      }.<span class="hljs-title function_">bindSheet</span>(<span class="hljs-keyword">true</span>, <span class="hljs-keyword">this</span>.<span class="hljs-title function_">cashierBuilder</span>(), {</li><li>        <span class="hljs-variable">title</span>: () =&gt; {},</li><li>        <span class="hljs-variable">height</span>: <span class="hljs-title class_">SheetSize</span>.<span class="hljs-title class_">FIT_CONTENT</span>,</li><li>        <span class="hljs-variable">showClose</span>: <span class="hljs-keyword">true</span>,</li><li>        <span class="hljs-variable">enableOutsideInteractive</span>: <span class="hljs-keyword">false</span>,</li><li>        <span class="hljs-variable">backgroundColor</span>: <span class="hljs-string">'#E5FFFFFF'</span>,</li><li>        <span class="hljs-variable">blurStyle</span>: <span class="hljs-title class_">BlurStyle</span>.<span class="hljs-title class_">COMPONENT_THICK</span>,</li><li>        <span class="hljs-variable">onWillDismiss</span>: ((<span class="hljs-variable">action</span>: <span class="hljs-title class_">DismissSheetAction</span>) =&gt; {</li><li>          <span class="hljs-comment">// 退出事件监听</span></li><li>        }),</li><li>      });</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section146367682419">搭建收银台页面<i class="anchor-icon anchor-icon-link" anchorid="section146367682419" tips="复制节点链接"></i></h2><p>收银台首页CashierComponent.ets从整体上可分为三个部分：头部-商户信息展示、中部-支付方式列表、底部-支付按钮。</p> <p><strong>示例代码如下：</strong></p> <div _ngcontent-pij-c106="" class="highlight-div"><div _ngcontent-pij-c106="" class="highlight-div-header"><div _ngcontent-pij-c106="" class="highlight-div-header-left"><div _ngcontent-pij-c106="" class="handle-button expand-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pij-c106="" class="highlight-div-header-right"><div _ngcontent-pij-c106="" class="handle-button ai-button"></div><div _ngcontent-pij-c106="" class="handle-button line-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pij-c106="" class="handle-button theme-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pij-c106="" class="handle-button copy-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pij-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">LengthMetrics</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { getBorderRadius, isNewCardPaymentType } <span class="hljs-keyword">from</span> <span class="hljs-string">'../util/PaymentUtil'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">PaymentOrderComp</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./PaymentOrderComp'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">PaymentItemComp</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./PaymentItemComp'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ConfirmButton</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./ConfirmButton'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">PaymentType</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'../data/PaymentType'</span>;</li><li><span class="hljs-keyword">import</span> { paymentTypeList, paymentTypes3PayShow } <span class="hljs-keyword">from</span> <span class="hljs-string">'../data/TestData'</span>;</li><li>
</li><li><span class="hljs-meta">@Preview</span></li><li><span class="hljs-meta">@Component</span></li><li><span class="hljs-keyword">export</span> struct <span class="hljs-title class_">CashierComponent</span> {</li><li>  <span class="hljs-comment">// 商户名称</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">mercShortName</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"华为支付测试商户"</span>;</li><li>  <span class="hljs-comment">// 支付金额(单位为分)</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">paymentAmount</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'0.01'</span>;</li><li>  <span class="hljs-comment">// 当前选中的支付方式信息</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">selectedPaymentType</span>: <span class="hljs-title class_">PaymentType</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PaymentType</span>();</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">selectedPayTypeSerialNo</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>
</li><li>  <span class="hljs-comment">// 头部：商户订单信息</span></li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">orderDetail</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// 后续展示实现</span></li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 中部：支付方式列表的标题</span></li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">displayHeader</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// 后续展示实现</span></li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 中部：其他支付方式选项</span></li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">moreBankFooter</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// 后续展示实现    </span></li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 中部：选择支付方式事件</span></li><li>  <span class="hljs-title function_">select</span>(<span class="hljs-params">PaymentType: PaymentType</span>) {</li><li>    <span class="hljs-comment">// 后续展示实现</span></li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 中部：支付方式列表</span></li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">paymentListBuilder</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// 后续展示实现</span></li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 中部：支付方式列表 容器</span></li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">paymentListContent</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">paymentListBuilder</span>();</li><li>    }</li><li>    .<span class="hljs-title function_">margin</span>({</li><li>      <span class="hljs-attr">bottom</span>: <span class="hljs-number">12</span>,</li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 底部：按钮区域</span></li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">buttonArea</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// 后续展示实现</span></li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 收银台首页</span></li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">cashierUI</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// 订单信息+支付方式区域</span></li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">orderDetail</span>();</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">paymentListContent</span>();</li><li>    }</li><li>    .<span class="hljs-title function_">align</span>(<span class="hljs-title class_">Alignment</span>.<span class="hljs-property">Top</span>)</li><li>    .<span class="hljs-title function_">padding</span>({</li><li>      <span class="hljs-attr">left</span>: $r(<span class="hljs-string">'sys.float.ohos_id_elements_margin_horizontal_l'</span>),</li><li>      <span class="hljs-attr">right</span>: $r(<span class="hljs-string">'sys.float.ohos_id_elements_margin_horizontal_l'</span>),</li><li>    })</li><li>
</li><li>    <span class="hljs-comment">// 按钮区域</span></li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">buttonArea</span>();</li><li>      <span class="hljs-comment">// 底部aiBar的高度</span></li><li>      <span class="hljs-title class_">Row</span>()</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">28</span>)</li><li>        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: $r(<span class="hljs-string">'sys.float.ohos_id_elements_margin_vertical_l'</span>) })</li><li>    }</li><li>    .<span class="hljs-title function_">flexShrink</span>(<span class="hljs-number">0</span>)</li><li>    .<span class="hljs-title function_">padding</span>({</li><li>      <span class="hljs-attr">left</span>: $r(<span class="hljs-string">'sys.float.ohos_id_elements_margin_horizontal_l'</span>),</li><li>      <span class="hljs-attr">right</span>: $r(<span class="hljs-string">'sys.float.ohos_id_elements_margin_horizontal_l'</span>),</li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 页面容器</span></li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">cashierUI</span>();</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> <p><strong>运行结果：</strong></p> <p><span><img height="425.6" originheight="1026" originwidth="494" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114511.96344842448668542820368272457239:50001231000000:2800:EE7291ED2E01BA57A2BEA91EEB8E59D2EB652306745F7857B554A2528CDC983C.png" title="点击放大" width="206.2032"></span></p> </div> <div class="tiledSection"><h3 id="section0159159257" class="firsth2">展示商户信息<i class="anchor-icon anchor-icon-link" anchorid="section0159159257" tips="复制节点链接"></i></h3><p>收银台首页CashierComponent.ets的orderDetail组件为商户信息展示。商户信息竖向居中排列，包含商户名称以及订单金额。</p> <div class="p"><strong>示例代码如下</strong>：<div _ngcontent-pij-c106="" class="highlight-div"><div _ngcontent-pij-c106="" class="highlight-div-header"><div _ngcontent-pij-c106="" class="highlight-div-header-left"><div _ngcontent-pij-c106="" class="handle-button expand-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pij-c106="" class="highlight-div-header-right"><div _ngcontent-pij-c106="" class="handle-button ai-button"></div><div _ngcontent-pij-c106="" class="handle-button line-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pij-c106="" class="handle-button theme-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pij-c106="" class="handle-button copy-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pij-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li>@<span class="hljs-title function_">Builder</span></li><li><span class="hljs-title function_">orderDetail</span>() {</li><li>  <span class="hljs-title function_">Column</span>() {</li><li>    <span class="hljs-title function_">PaymentOrderComp</span>({</li><li>      <span class="hljs-variable">mercShortName</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">mercShortName</span>,</li><li>      <span class="hljs-variable">paymentAmount</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">paymentAmount</span>,</li><li>    })</li><li>    .<span class="hljs-title function_">margin</span>({ <span class="hljs-variable">bottom</span>: <span class="hljs-number">24</span> });</li><li>  }</li><li>  .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  .<span class="hljs-title function_">padding</span>({</li><li>    <span class="hljs-variable">top</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">float</span>.<span class="hljs-title class_">ohos_id_elements_margin_vertical_m</span>'),</li><li>  })</li><li>}</li></ol></pre></div></div> </div> </div> <p>其中商户订单信息类PaymentOrderComp.ets实现如下：</p> <div _ngcontent-pij-c106="" class="highlight-div"><div _ngcontent-pij-c106="" class="highlight-div-header"><div _ngcontent-pij-c106="" class="highlight-div-header-left"><div _ngcontent-pij-c106="" class="handle-button expand-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pij-c106="" class="highlight-div-header-right"><div _ngcontent-pij-c106="" class="handle-button ai-button"></div><div _ngcontent-pij-c106="" class="handle-button line-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pij-c106="" class="handle-button theme-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pij-c106="" class="handle-button copy-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pij-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">Amount</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./Amount"</span>;</li><li>
</li><li>@<span class="hljs-title function_">Component</span></li><li><span class="hljs-variable">export</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">PaymentOrderComp</span> {</li><li>  @<span class="hljs-title function_">Prop</span> <span class="hljs-variable">mercShortName</span>: <span class="hljs-title class_">ResourceStr</span> = <span class="hljs-string">''</span>;</li><li>  @<span class="hljs-title function_">Prop</span> <span class="hljs-variable">paymentAmount</span>: <span class="hljs-title class_">string</span> = <span class="hljs-string">''</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>() {</li><li>    <span class="hljs-title function_">Column</span>() {</li><li>      <span class="hljs-title function_">Text</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">mercShortName</span>)</li><li>        .<span class="hljs-title function_">fontFamily</span>(<span class="hljs-string">'HarmonyHeiTi'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>($<span class="hljs-title function_">r</span>(<span class="hljs-string">'sys.float.ohos_id_text_size_body2'</span>))</li><li>        .<span class="hljs-title function_">fontColor</span>($<span class="hljs-title function_">r</span>(<span class="hljs-string">'sys.color.ohos_id_color_text_secondary'</span>))</li><li>        .<span class="hljs-title function_">textAlign</span>(<span class="hljs-variable">TextAlign</span>.<span class="hljs-variable">Center</span>)</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-variable">FontWeight</span>.<span class="hljs-variable">Normal</span>)</li><li>
</li><li>      <span class="hljs-title function_">Amount</span>({</li><li>        <span class="hljs-variable">amount</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">paymentAmount</span>,</li><li>      }).<span class="hljs-title function_">margin</span>({ <span class="hljs-variable">top</span>: <span class="hljs-number">2</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> <p>其中金额类Amount.ets实现如下：</p> <div _ngcontent-pij-c106="" class="highlight-div"><div _ngcontent-pij-c106="" class="highlight-div-header"><div _ngcontent-pij-c106="" class="highlight-div-header-left"><div _ngcontent-pij-c106="" class="handle-button expand-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pij-c106="" class="highlight-div-header-right"><div _ngcontent-pij-c106="" class="handle-button ai-button"></div><div _ngcontent-pij-c106="" class="handle-button line-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pij-c106="" class="handle-button theme-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pij-c106="" class="handle-button copy-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pij-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">FONT_FAMILY_HEITI</span> = <span class="hljs-string">'HarmonyHeiTi'</span>;</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li><span class="hljs-meta">@Preview</span></li><li><span class="hljs-keyword">export</span> struct <span class="hljs-title class_">Amount</span> {</li><li>  <span class="hljs-meta">@Prop</span> <span class="hljs-attr">amount</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">currency</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'¥'</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">color</span>: <span class="hljs-title class_">ResourceStr</span> = $r(<span class="hljs-string">'sys.color.ohos_id_color_text_primary'</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Text</span>() {</li><li>        <span class="hljs-title class_">Span</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">currency</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">24</span>)</li><li>          .<span class="hljs-title function_">fontFamily</span>(<span class="hljs-variable constant_">FONT_FAMILY_HEITI</span>)</li><li>          .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>          .<span class="hljs-title function_">fontColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span>)</li><li>          .<span class="hljs-title function_">alignSelf</span>(<span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Baseline</span>)</li><li>        <span class="hljs-title class_">Span</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">amount</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">36</span>)</li><li>          .<span class="hljs-title function_">fontFamily</span>(<span class="hljs-variable constant_">FONT_FAMILY_HEITI</span>)</li><li>          .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>          .<span class="hljs-title function_">fontColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span>)</li><li>      }</li><li>    }.<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>    .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">VerticalAlign</span>.<span class="hljs-property">Bottom</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> <p><strong>运行结果：</strong></p> <p><span><img height="52.269" originheight="89" originwidth="351" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114512.50809701626427086557197175188805:50001231000000:2800:B2B02379238F741682BE81C575841BDD8EDB41C9414E1F54692ECAA66CBFC6AE.png" title="点击放大" width="206.15"></span></p> <div class="tiledSection"><h3 id="section32501645277">构造支付方式列表<i class="anchor-icon anchor-icon-link" anchorid="section32501645277" tips="复制节点链接"></i></h3><p>收银台首页CashierComponent.ets的paymentListBuilder组件为收银台中部信息，包含支付方式列表。用户点击选择的支付方式会变成选中状态。</p> <p><strong>示例代码如下</strong>：</p> <div _ngcontent-pij-c106="" class="highlight-div"><div _ngcontent-pij-c106="" class="highlight-div-header"><div _ngcontent-pij-c106="" class="highlight-div-header-left"><div _ngcontent-pij-c106="" class="handle-button expand-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pij-c106="" class="highlight-div-header-right"><div _ngcontent-pij-c106="" class="handle-button ai-button"></div><div _ngcontent-pij-c106="" class="handle-button line-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pij-c106="" class="handle-button theme-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pij-c106="" class="handle-button copy-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pij-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li>@<span class="hljs-title function_">Builder</span></li><li><span class="hljs-title function_">paymentListBuilder</span>() {</li><li>  <span class="hljs-title function_">Column</span>() {</li><li>    <span class="hljs-title function_">List</span>() {</li><li>      <span class="hljs-title function_">ListItemGroup</span>({</li><li>        <span class="hljs-variable">header</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">displayHeader</span>(),</li><li>        <span class="hljs-variable">style</span>: <span class="hljs-title class_">ListItemGroupStyle</span>.<span class="hljs-title class_">CARD</span>,</li><li>      }) {</li><li>        <span class="hljs-title function_">ForEach</span>(<span class="hljs-variable">paymentTypeList</span>, (<span class="hljs-variable">paymentType</span>: <span class="hljs-title class_">PaymentType</span>) =&gt; {</li><li>          <span class="hljs-title function_">ListItem</span>({ <span class="hljs-variable">style</span>: <span class="hljs-title class_">ListItemStyle</span>.<span class="hljs-title class_">CARD</span> }) {</li><li>            <span class="hljs-title function_">PaymentItemComp</span>({</li><li>              <span class="hljs-variable">paymentType</span>: <span class="hljs-title class_">paymentType</span>,</li><li>              <span class="hljs-variable">canChecked</span>: !<span class="hljs-title class_">isNewCardPaymentType</span>(<span class="hljs-title class_">paymentType</span>),</li><li>              <span class="hljs-variable">isChecked</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">selectedPayTypeSerialNo</span> === <span class="hljs-variable">paymentType</span>.<span class="hljs-variable">payTypeSerialNo</span>,</li><li>              <span class="hljs-variable">onSelect</span>: () =&gt; {</li><li>                <span class="hljs-keyword">if</span> (<span class="hljs-variable">paymentType</span>.<span class="hljs-variable">isAvailable</span>) {</li><li>                  <span class="hljs-keyword">this</span>.<span class="hljs-title function_">select</span>(<span class="hljs-variable">paymentType</span>);</li><li>                }</li><li>              },</li><li>            })</li><li>          }</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-variable">undefined</span>)</li><li>          .<span class="hljs-title function_">constraintSize</span>({ <span class="hljs-variable">minHeight</span>: <span class="hljs-number">48</span> })</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-variable">Color</span>.<span class="hljs-variable">Transparent</span>)</li><li>        })</li><li>
</li><li>        <span class="hljs-comment">// 其他支付方式</span></li><li>        <span class="hljs-title function_">ListItem</span>({ <span class="hljs-variable">style</span>: <span class="hljs-title class_">ListItemStyle</span>.<span class="hljs-title class_">CARD</span> }) {</li><li>          <span class="hljs-keyword">this</span>.<span class="hljs-title function_">moreBankFooter</span>();</li><li>        }</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-variable">undefined</span>)</li><li>        .<span class="hljs-title function_">constraintSize</span>({ <span class="hljs-variable">minHeight</span>: <span class="hljs-number">48</span> })</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-variable">Color</span>.<span class="hljs-variable">Transparent</span>)</li><li>      }.<span class="hljs-title function_">divider</span>({</li><li>        <span class="hljs-variable">strokeWidth</span>: <span class="hljs-number">0.5</span>,</li><li>        <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_list_separator</span>'),</li><li>        <span class="hljs-variable">startMargin</span>: <span class="hljs-number">48</span>,</li><li>        <span class="hljs-variable">endMargin</span>: <span class="hljs-number">12</span>,</li><li>      }).<span class="hljs-title function_">margin</span>({</li><li>        <span class="hljs-variable">left</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-variable">right</span>: <span class="hljs-number">0</span>,</li><li>      }).<span class="hljs-title function_">backgroundColor</span>($<span class="hljs-title function_">r</span>(<span class="hljs-string">'sys.color.comp_background_list_card'</span>))</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>
</li><li>    <span class="hljs-comment">// 三方支付方式</span></li><li>    <span class="hljs-title function_">List</span>() {</li><li>      <span class="hljs-title function_">ListItemGroup</span>({ <span class="hljs-variable">style</span>: <span class="hljs-title class_">ListItemGroupStyle</span>.<span class="hljs-title class_">CARD</span> }) {</li><li>        <span class="hljs-title function_">ForEach</span>(<span class="hljs-variable">paymentTypes3PayShow</span>, (<span class="hljs-variable">paymentType</span>: <span class="hljs-title class_">PaymentType</span>) =&gt; {</li><li>          <span class="hljs-title function_">ListItem</span>({ <span class="hljs-variable">style</span>: <span class="hljs-title class_">ListItemStyle</span>.<span class="hljs-title class_">CARD</span> }) {</li><li>            <span class="hljs-title function_">PaymentItemComp</span>({</li><li>              <span class="hljs-variable">paymentType</span>: <span class="hljs-title class_">paymentType</span>,</li><li>              <span class="hljs-variable">canChecked</span>: <span class="hljs-keyword">true</span>,</li><li>              <span class="hljs-variable">isChecked</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">selectedPayTypeSerialNo</span> === <span class="hljs-variable">paymentType</span>.<span class="hljs-variable">payTypeSerialNo</span>,</li><li>              <span class="hljs-variable">onSelect</span>: () =&gt; {</li><li>                <span class="hljs-keyword">if</span> (<span class="hljs-variable">paymentType</span>.<span class="hljs-variable">isAvailable</span>) {</li><li>                  <span class="hljs-keyword">this</span>.<span class="hljs-title function_">select</span>(<span class="hljs-variable">paymentType</span>);</li><li>                }</li><li>              },</li><li>            })</li><li>          }</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-variable">undefined</span>)</li><li>          .<span class="hljs-title function_">constraintSize</span>({ <span class="hljs-variable">minHeight</span>: <span class="hljs-number">48</span> })</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-variable">Color</span>.<span class="hljs-variable">Transparent</span>)</li><li>        })</li><li>      }.<span class="hljs-title function_">divider</span>({</li><li>        <span class="hljs-variable">strokeWidth</span>: <span class="hljs-number">0.5</span>,</li><li>        <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_list_separator</span>'),</li><li>        <span class="hljs-variable">startMargin</span>: <span class="hljs-number">48</span>,</li><li>        <span class="hljs-variable">endMargin</span>: <span class="hljs-number">12</span>,</li><li>      })</li><li>      .<span class="hljs-title function_">margin</span>({</li><li>        <span class="hljs-variable">left</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-variable">right</span>: <span class="hljs-number">0</span>,</li><li>      }).<span class="hljs-title function_">backgroundColor</span>($<span class="hljs-title function_">r</span>(<span class="hljs-string">'sys.color.comp_background_list_card'</span>))</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">margin</span>({</li><li>      <span class="hljs-variable">top</span>: <span class="hljs-number">12</span>,</li><li>    })</li><li>  }</li><li>}</li></ol></pre></div></div> <p>其中列表标题组件displayHeader示例代码如下：</p> <div _ngcontent-pij-c106="" class="highlight-div"><div _ngcontent-pij-c106="" class="highlight-div-header"><div _ngcontent-pij-c106="" class="highlight-div-header-left"><div _ngcontent-pij-c106="" class="handle-button expand-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pij-c106="" class="highlight-div-header-right"><div _ngcontent-pij-c106="" class="handle-button ai-button"></div><div _ngcontent-pij-c106="" class="handle-button line-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pij-c106="" class="handle-button theme-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pij-c106="" class="handle-button copy-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pij-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li>@<span class="hljs-title function_">Builder</span></li><li><span class="hljs-title function_">displayHeader</span>() {</li><li>  <span class="hljs-title function_">Column</span>() {</li><li>    <span class="hljs-title function_">Flex</span>({ <span class="hljs-variable">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-title class_">Start</span>, <span class="hljs-variable">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-title class_">Center</span> }) {</li><li>      <span class="hljs-title function_">Image</span>($<span class="hljs-title function_">r</span>(<span class="hljs-string">'app.media.kit_hwpay_wallet'</span>))</li><li>        .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-title function_">getBorderRadius</span>(<span class="hljs-number">24</span>))</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">24</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">24</span>)</li><li>        .<span class="hljs-title function_">margin</span>({ <span class="hljs-variable">end</span>: <span class="hljs-title class_">LengthMetrics</span>.<span class="hljs-title class_">vp</span>(<span class="hljs-number">16</span>) })</li><li>
</li><li>      <span class="hljs-title function_">Text</span>($<span class="hljs-title function_">r</span>(<span class="hljs-string">'app.string.kit_hwpay_desc'</span>))</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-variable">FontWeight</span>.<span class="hljs-variable">Medium</span>)</li><li>        .<span class="hljs-title function_">fontFamily</span>(<span class="hljs-string">'HarmonyHeiTi-Medium'</span>)</li><li>        .<span class="hljs-title function_">fontColor</span>($<span class="hljs-title function_">r</span>(<span class="hljs-string">'sys.color.ohos_id_color_text_primary'</span>))</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">constraintSize</span>({ <span class="hljs-variable">minHeight</span>: <span class="hljs-number">48</span> })</li><li>    .<span class="hljs-title function_">padding</span>({</li><li>      <span class="hljs-variable">left</span>: <span class="hljs-number">8</span>,</li><li>      <span class="hljs-variable">right</span>: <span class="hljs-number">8</span>,</li><li>      <span class="hljs-variable">top</span>: <span class="hljs-number">12</span>,</li><li>      <span class="hljs-variable">bottom</span>: <span class="hljs-number">12</span>,</li><li>    })</li><li>
</li><li>    <span class="hljs-title function_">Divider</span>()</li><li>      .<span class="hljs-title function_">color</span>($<span class="hljs-title function_">r</span>(<span class="hljs-string">'sys.color.ohos_id_color_list_separator'</span>))</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">margin</span>({</li><li>        <span class="hljs-variable">start</span>: <span class="hljs-title class_">LengthMetrics</span>.<span class="hljs-title class_">vp</span>(<span class="hljs-number">48</span>),</li><li>        <span class="hljs-variable">end</span>: <span class="hljs-title class_">LengthMetrics</span>.<span class="hljs-title class_">vp</span>(<span class="hljs-number">12</span>),</li><li>      })</li><li>  }</li><li>}</li></ol></pre></div></div> <p>其中其它支付方式组件moreBankFooter示例代码如下：</p> <div _ngcontent-pij-c106="" class="highlight-div"><div _ngcontent-pij-c106="" class="highlight-div-header"><div _ngcontent-pij-c106="" class="highlight-div-header-left"><div _ngcontent-pij-c106="" class="handle-button expand-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pij-c106="" class="highlight-div-header-right"><div _ngcontent-pij-c106="" class="handle-button ai-button"></div><div _ngcontent-pij-c106="" class="handle-button line-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pij-c106="" class="handle-button theme-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pij-c106="" class="handle-button copy-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pij-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-title function_">moreBankFooter</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">SpaceBetween</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>    <span class="hljs-title class_">Text</span>($r(<span class="hljs-string">'app.string.kit_hwpay_change_other_pay_type'</span>))</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>      .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Medium</span>)</li><li>      .<span class="hljs-title function_">fontFamily</span>(<span class="hljs-string">'HarmonyHeiTi-Medium'</span>)</li><li>      .<span class="hljs-title function_">fontColor</span>($r(<span class="hljs-string">'sys.color.ohos_id_color_text_primary'</span>))</li><li>
</li><li>    <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.kit_hwpay_right_v2'</span>))</li><li>      .<span class="hljs-title function_">matchTextDirection</span>(<span class="hljs-literal">true</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">12</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">24</span>)</li><li>      .<span class="hljs-title function_">fillColor</span>($r(<span class="hljs-string">'sys.color.ohos_id_color_fourth'</span>))</li><li>  }</li><li>  .<span class="hljs-title function_">padding</span>({</li><li>    <span class="hljs-attr">top</span>: <span class="hljs-number">12</span>,</li><li>    <span class="hljs-attr">bottom</span>: <span class="hljs-number">12</span>,</li><li>  })</li><li>  .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">start</span>: <span class="hljs-title class_">LengthMetrics</span>.<span class="hljs-title function_">vp</span>(<span class="hljs-number">40</span>) })</li><li>}</li></ol></pre></div></div> <p>其中支付方式组件类PaymentItemComp.ets实现展示可用、不可用的支付方式，添加银行卡以及用户选中支付方式后展示勾选效果。示例代码如下：</p> <div _ngcontent-pij-c106="" class="highlight-div"><div _ngcontent-pij-c106="" class="highlight-div-header"><div _ngcontent-pij-c106="" class="highlight-div-header-left"><div _ngcontent-pij-c106="" class="handle-button expand-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pij-c106="" class="highlight-div-header-right"><div _ngcontent-pij-c106="" class="handle-button ai-button"></div><div _ngcontent-pij-c106="" class="handle-button line-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pij-c106="" class="handle-button theme-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pij-c106="" class="handle-button copy-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pij-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">LengthMetrics</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">PaymentType</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'../data/PaymentType'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">getBorderRadius</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'../util/PaymentUtil'</span>;</li><li>
</li><li><span class="hljs-variable">export</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">ButtonOpacity</span> {</li><li>  <span class="hljs-comment">// 默认不透明度</span></li><li>  <span class="hljs-variable">PRIMARY</span> = <span class="hljs-number">1</span>,</li><li>  <span class="hljs-comment">// 按钮置灰不透明度</span></li><li>  <span class="hljs-variable">DISABLED</span> = <span class="hljs-number">0.6</span>,</li><li>  <span class="hljs-comment">// 支付方式不可用导致的按钮不可用的不透明度</span></li><li>  <span class="hljs-variable">PAYMENT_UNAVAILABLE</span> = <span class="hljs-number">0.38</span></li><li>}</li><li>
</li><li>@<span class="hljs-title function_">Component</span></li><li><span class="hljs-variable">export</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">PaymentItemComp</span> {</li><li>  @<span class="hljs-title function_">Prop</span> <span class="hljs-variable">paymentType</span>: <span class="hljs-title class_">PaymentType</span>;</li><li>  @<span class="hljs-title function_">Prop</span> <span class="hljs-variable">canChecked</span>: <span class="hljs-title class_">boolean</span> = <span class="hljs-keyword">false</span>;</li><li>  @<span class="hljs-title function_">Prop</span> <span class="hljs-variable">isChecked</span>?: <span class="hljs-title class_">boolean</span> = <span class="hljs-keyword">false</span>;</li><li>  <span class="hljs-variable">onSelect</span>: () =&gt; <span class="hljs-variable">void</span> = () =&gt; {</li><li>  };</li><li>
</li><li>  <span class="hljs-title function_">build</span>() {</li><li>    <span class="hljs-title function_">Row</span>() {</li><li>      <span class="hljs-title function_">Image</span>($<span class="hljs-title function_">r</span>(<span class="hljs-string">"app.media.payment_logo"</span>))</li><li>        .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-title function_">getBorderRadius</span>(<span class="hljs-number">24</span>))</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">24</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">24</span>)</li><li>        .<span class="hljs-title function_">margin</span>({ <span class="hljs-variable">end</span>: <span class="hljs-title class_">LengthMetrics</span>.<span class="hljs-title class_">vp</span>(<span class="hljs-number">16</span>) })</li><li>
</li><li>      <span class="hljs-title function_">Flex</span>({ <span class="hljs-variable">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-title class_">Column</span>, <span class="hljs-variable">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-title class_">Center</span> }) {</li><li>        <span class="hljs-title function_">Flex</span>({</li><li>          <span class="hljs-variable">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-title class_">Row</span>,</li><li>          <span class="hljs-variable">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-title class_">Start</span>,</li><li>          <span class="hljs-variable">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-title class_">Center</span>,</li><li>        }) {</li><li>          <span class="hljs-title function_">Text</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">paymentType</span>?.<span class="hljs-variable">payTypeDesc</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>            .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-variable">FontWeight</span>.<span class="hljs-variable">Medium</span>)</li><li>            .<span class="hljs-title function_">fontFamily</span>(<span class="hljs-string">'HarmonyHeiTi-Medium'</span>)</li><li>            .<span class="hljs-title function_">fontColor</span>($<span class="hljs-title function_">r</span>(<span class="hljs-string">'sys.color.ohos_id_color_text_primary'</span>))</li><li>        }</li><li>        .<span class="hljs-title function_">padding</span>({</li><li>          <span class="hljs-variable">top</span>: (<span class="hljs-keyword">this</span>.<span class="hljs-title class_">paymentType</span>?.<span class="hljs-title class_">paymentTypeTip</span>) ? <span class="hljs-number">4</span> : <span class="hljs-number">0</span>,</li><li>        })</li><li>
</li><li>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.<span class="hljs-variable">paymentType</span>?.<span class="hljs-variable">paymentTypeTip</span>) {</li><li>          <span class="hljs-title function_">Row</span>() {</li><li>            <span class="hljs-title function_">Text</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">paymentType</span>?.<span class="hljs-variable">paymentTypeTip</span>)</li><li>              .<span class="hljs-title function_">fontSize</span>($<span class="hljs-title function_">r</span>(<span class="hljs-string">'sys.float.ohos_id_text_size_body3'</span>))</li><li>              .<span class="hljs-title function_">fontColor</span>($<span class="hljs-title function_">r</span>(<span class="hljs-string">'sys.color.comp_focused_secondary'</span>))</li><li>              .<span class="hljs-title function_">fontFamily</span>(<span class="hljs-string">'HarmonyHeiTi'</span>)</li><li>              .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-variable">FontWeight</span>.<span class="hljs-variable">Normal</span>)</li><li>              .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>              .<span class="hljs-title function_">padding</span>({ <span class="hljs-variable">top</span>: <span class="hljs-number">4</span>, <span class="hljs-variable">bottom</span>: <span class="hljs-number">4</span> })</li><li>          }</li><li>        }</li><li>      }</li><li>      .<span class="hljs-title function_">layoutWeight</span>(<span class="hljs-number">1</span>)</li><li>
</li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.<span class="hljs-variable">canChecked</span>) {</li><li>        <span class="hljs-title function_">Radio</span>({ <span class="hljs-variable">value</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">paymentType</span>?.<span class="hljs-title class_">payTypeSerialNo</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">string</span>, <span class="hljs-variable">group</span>: <span class="hljs-string">'aggrPaymentRadioGroup'</span> })</li><li>          .<span class="hljs-title function_">visibility</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">isChecked</span> ? <span class="hljs-variable">Visibility</span>.<span class="hljs-variable">Visible</span> : <span class="hljs-title class_">Visibility</span>.<span class="hljs-title class_">Hidden</span>)</li><li>          .<span class="hljs-title function_">checked</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">isChecked</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">20</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">20</span>)</li><li>          .<span class="hljs-title function_">margin</span>(<span class="hljs-number">2</span>)</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-title function_">Image</span>($<span class="hljs-title function_">r</span>(<span class="hljs-string">'app.media.kit_hwpay_right_v2'</span>))</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">12</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">24</span>)</li><li>          .<span class="hljs-title function_">fillColor</span>($<span class="hljs-title function_">r</span>(<span class="hljs-string">'sys.color.ohos_id_color_fourth'</span>))</li><li>          .<span class="hljs-title function_">visibility</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">paymentType</span>?.<span class="hljs-variable">isAvailable</span> ? <span class="hljs-variable">Visibility</span>.<span class="hljs-variable">Visible</span> : <span class="hljs-title class_">Visibility</span>.<span class="hljs-title class_">None</span>)</li><li>      }</li><li>    }</li><li>    .<span class="hljs-title function_">padding</span>({</li><li>      <span class="hljs-variable">top</span>: <span class="hljs-number">12</span>,</li><li>      <span class="hljs-variable">bottom</span>: <span class="hljs-number">12</span>,</li><li>    })</li><li>    .<span class="hljs-title function_">opacity</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">paymentType</span>?.<span class="hljs-variable">isAvailable</span> ? <span class="hljs-variable">ButtonOpacity</span>.<span class="hljs-variable">PRIMARY</span> : <span class="hljs-title class_">ButtonOpacity</span>.<span class="hljs-title class_">PAYMENT_UNAVAILABLE</span>)</li><li>    .<span class="hljs-title function_">alignItems</span>(<span class="hljs-variable">VerticalAlign</span>.<span class="hljs-variable">Center</span>)</li><li>    .<span class="hljs-title function_">onClick</span>(() =&gt; {</li><li>      <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.<span class="hljs-variable">paymentType</span>?.<span class="hljs-variable">isAvailable</span>) {</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-keyword">this</span>.<span class="hljs-title function_">onSelect</span>();</li><li>    })</li><li>  }</li><li>}</li></ol></pre></div></div> <p>收银台首页CashierComponent.ets中选择支付方式事件示例代码如下：</p> <div _ngcontent-pij-c106="" class="highlight-div"><div _ngcontent-pij-c106="" class="highlight-div-header"><div _ngcontent-pij-c106="" class="highlight-div-header-left"><div _ngcontent-pij-c106="" class="handle-button expand-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pij-c106="" class="highlight-div-header-right"><div _ngcontent-pij-c106="" class="handle-button ai-button"></div><div _ngcontent-pij-c106="" class="handle-button line-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pij-c106="" class="handle-button theme-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pij-c106="" class="handle-button copy-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pij-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title function_">select</span>(<span class="hljs-params">PaymentType: PaymentType</span>) {</li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedPaymentType</span> = <span class="hljs-title class_">PaymentType</span>;</li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedPayTypeSerialNo</span> = <span class="hljs-title class_">PaymentType</span>.<span class="hljs-property">payTypeSerialNo</span> || <span class="hljs-string">''</span>;</li><li>}</li></ol></pre></div></div> <p><strong>运行结果：</strong></p> <p><span><img height="193.30220000000003" originheight="331" originwidth="353" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114512.03693894036749318534547101594923:50001231000000:2800:5C586073B46E11AB2F95A9E57C932AC12707E7AB221BDBDD0C97CF03FA51B991.png" title="点击放大" width="206.15"></span></p> </div> <div class="tiledSection"><h3 id="section6298831121110">添加支付按钮<i class="anchor-icon anchor-icon-link" anchorid="section6298831121110" tips="复制节点链接"></i></h3><p>收银台首页CashierComponent.ets的buttonArea组件为收银台底部信息，包含支付按钮。开发者可通过按钮点击事件实现具体支付处理逻辑。</p> <p><strong>示例代码如下</strong>：</p> <div _ngcontent-pij-c106="" class="highlight-div"><div _ngcontent-pij-c106="" class="highlight-div-header"><div _ngcontent-pij-c106="" class="highlight-div-header-left"><div _ngcontent-pij-c106="" class="handle-button expand-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pij-c106="" class="highlight-div-header-right"><div _ngcontent-pij-c106="" class="handle-button ai-button"></div><div _ngcontent-pij-c106="" class="handle-button line-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pij-c106="" class="handle-button theme-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pij-c106="" class="handle-button copy-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pij-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">@Builder</span></li><li>buttonArea() {</li><li>  ConfirmButton({</li><li>    text: $<span class="hljs-built_in">r</span>(<span class="hljs-string">'app.string.kit_hwpay_checkout_confirm_pay'</span>),</li><li>  })</li><li>  <span class="hljs-selector-class">.margin</span>({</li><li>    <span class="hljs-attribute">top</span>: $<span class="hljs-built_in">r</span>(<span class="hljs-string">'sys.float.ohos_id_elements_margin_vertical_l'</span>),</li><li>  });</li><li>}</li></ol></pre></div></div> <p>其中确认支付按钮类ConfirmButton.ets示例代码如下：</p> <div _ngcontent-pij-c106="" class="highlight-div"><div _ngcontent-pij-c106="" class="highlight-div-header"><div _ngcontent-pij-c106="" class="highlight-div-header-left"><div _ngcontent-pij-c106="" class="handle-button expand-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pij-c106="" class="highlight-div-header-right"><div _ngcontent-pij-c106="" class="handle-button ai-button"></div><div _ngcontent-pij-c106="" class="handle-button line-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pij-c106="" class="handle-button theme-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pij-c106="" class="handle-button copy-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pij-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-less" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">@Component</span></li><li><span class="hljs-variable">@Preview</span></li><li>export struct ConfirmButton {</li><li>  <span class="hljs-variable">@Prop</span> <span class="hljs-attribute">text</span>: ResourceStr = <span class="hljs-string">''</span>;</li><li>
</li><li>  <span class="hljs-selector-tag">build</span>() {</li><li>    <span class="hljs-selector-tag">Column</span>() {</li><li>      <span class="hljs-selector-tag">Row</span>() {</li><li>        <span class="hljs-selector-tag">Button</span>(this.text) {</li><li>          <span class="hljs-selector-tag">Row</span>() {</li><li>            <span class="hljs-selector-tag">Text</span>(this.text)</li><li>              <span class="hljs-selector-class">.fontSize</span>($<span class="hljs-built_in">r</span>(<span class="hljs-string">'sys.float.Body_L'</span>))</li><li>              <span class="hljs-selector-class">.fontWeight</span>(FontWeight.Medium)</li><li>              <span class="hljs-selector-class">.fontFamily</span>(<span class="hljs-string">'HarmonyHeiTi-Medium'</span>)</li><li>              <span class="hljs-selector-class">.fontColor</span>($<span class="hljs-built_in">r</span>(<span class="hljs-string">'sys.color.ohos_fa_text_contrary'</span>))</li><li>              <span class="hljs-selector-class">.textAlign</span>(TextAlign.Center)</li><li>              <span class="hljs-selector-class">.textOverflow</span>({</li><li>                <span class="hljs-attribute">overflow</span>: TextOverflow.Ellipsis</li><li>              })</li><li>              <span class="hljs-selector-class">.maxLines</span>(<span class="hljs-number">1</span>)</li><li>          }</li><li>          .<span class="hljs-built_in">alignItems</span>(VerticalAlign.Center)</li><li>          .<span class="hljs-built_in">justifyContent</span>(FlexAlign.Center)</li><li>        }</li><li>        .<span class="hljs-built_in">focusOnTouch</span>(true)</li><li>        .<span class="hljs-built_in">type</span>(ButtonType.Normal)</li><li>        .<span class="hljs-built_in">borderRadius</span>(<span class="hljs-number">20</span>)</li><li>        .<span class="hljs-built_in">backgroundColor</span>($<span class="hljs-built_in">r</span>(<span class="hljs-string">'sys.color.ohos_id_color_floating_button_bg_normal'</span>))</li><li>        .<span class="hljs-built_in">constraintSize</span>({</li><li>          <span class="hljs-attribute">minWidth</span>: <span class="hljs-string">'100%'</span>,</li><li>          <span class="hljs-attribute">maxWidth</span>: <span class="hljs-string">'100%'</span>,</li><li>          <span class="hljs-attribute">minHeight</span>: <span class="hljs-number">40</span>,</li><li>          <span class="hljs-attribute">maxHeight</span>: <span class="hljs-number">40</span>,</li><li>        })</li><li>        .<span class="hljs-built_in">padding</span>({</li><li>          <span class="hljs-attribute">top</span>: <span class="hljs-number">4</span>,</li><li>          <span class="hljs-attribute">bottom</span>: <span class="hljs-number">4</span>,</li><li>          <span class="hljs-attribute">left</span>: <span class="hljs-number">16</span>,</li><li>          <span class="hljs-attribute">right</span>: <span class="hljs-number">16</span>,</li><li>        })</li><li>        .<span class="hljs-built_in">opacity</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-built_in">stateEffect</span>(true)</li><li>      }</li><li>      .<span class="hljs-built_in">onClick</span>(() =&gt; {</li><li>        <span class="hljs-comment">// 按钮点击事件</span></li><li>      })</li><li>    }.<span class="hljs-built_in">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-built_in">alignItems</span>(HorizontalAlign.Center)</li><li>  }</li><li>}</li></ol></pre></div></div> <p><strong>运行结果：</strong></p> <p><span><img height="47.7603" originheight="79" originwidth="341" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114512.01697912741528419820360247669402:50001231000000:2800:B160EC1A9C9A9F9DE97B219CF2144F1AA84FBED6AECED68F05F10BF5C5F4DC6E.png" title="点击放大" width="206.15"></span></p> </div> <div class="tiledSection"><h2 id="section66775531365">页面数据定义<i class="anchor-icon anchor-icon-link" anchorid="section66775531365" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section2390936175215" class="firsth2">字符串、图片等资源<i class="anchor-icon anchor-icon-link" anchorid="section2390936175215" tips="复制节点链接"></i></h3><p>文件摆放位置为“src/main/resources”相应的目录下。</p> </div> <div class="tiledSection"><h3 id="section15218176465">支付方式及支付类型枚举<i class="anchor-icon anchor-icon-link" anchorid="section15218176465" tips="复制节点链接"></i></h3><p>支付方式PaymentType.ets类及支付类型枚举CustPayType.ets类定义示例代码如下：</p> <div _ngcontent-pij-c106="" class="highlight-div"><div _ngcontent-pij-c106="" class="highlight-div-header"><div _ngcontent-pij-c106="" class="highlight-div-header-left"><div _ngcontent-pij-c106="" class="handle-button expand-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pij-c106="" class="highlight-div-header-right"><div _ngcontent-pij-c106="" class="handle-button ai-button"></div><div _ngcontent-pij-c106="" class="handle-button line-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pij-c106="" class="handle-button theme-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pij-c106="" class="handle-button copy-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pij-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 支付方式：PaymentType.ets</span></li><li><span class="hljs-variable">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PaymentType</span> {</li><li>  <span class="hljs-variable">payTypeSerialNo</span>?: <span class="hljs-title class_">string</span>;</li><li>  <span class="hljs-variable">payTypeDesc</span>?: <span class="hljs-title class_">string</span>;</li><li>  <span class="hljs-variable">paymentTypeTip</span>?: <span class="hljs-title class_">string</span>;</li><li>  <span class="hljs-variable">isAvailable</span>?: <span class="hljs-title class_">boolean</span>;</li><li>  <span class="hljs-variable">custPayType</span>: <span class="hljs-title class_">string</span> = <span class="hljs-string">''</span>;</li><li>}</li><li>
</li><li><span class="hljs-comment">// 支付类型枚举：CustPayType.ets</span></li><li><span class="hljs-variable">export</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">CustPayType</span> {</li><li>  <span class="hljs-variable">NewBankCard</span> = <span class="hljs-string">'NewBankCard'</span>,</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section108901514461">支付方式测试数据<i class="anchor-icon anchor-icon-link" anchorid="section108901514461" tips="复制节点链接"></i></h3><p>测试使用的支付方式数据TestData.ets类定义示例代码如下：</p> <div _ngcontent-pij-c106="" class="highlight-div"><div _ngcontent-pij-c106="" class="highlight-div-header"><div _ngcontent-pij-c106="" class="highlight-div-header-left"><div _ngcontent-pij-c106="" class="handle-button expand-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pij-c106="" class="highlight-div-header-right"><div _ngcontent-pij-c106="" class="handle-button ai-button"></div><div _ngcontent-pij-c106="" class="handle-button line-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pij-c106="" class="handle-button theme-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pij-c106="" class="handle-button copy-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pij-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">PaymentType</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./PaymentType"</span>;</li><li>
</li><li><span class="hljs-variable">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable">paymentTypeList</span>: <span class="hljs-title class_">PaymentType</span>[] = [</li><li>  {</li><li>    <span class="hljs-variable">payTypeSerialNo</span>: <span class="hljs-string">'1'</span>,</li><li>    <span class="hljs-variable">payTypeDesc</span>: <span class="hljs-string">'xx银行储蓄卡 (0606)'</span>,</li><li>    <span class="hljs-variable">isAvailable</span>: <span class="hljs-keyword">true</span>,</li><li>    <span class="hljs-variable">custPayType</span>: <span class="hljs-string">'BankFastPayment'</span>,</li><li>  },</li><li>  {</li><li>    <span class="hljs-variable">payTypeSerialNo</span>: <span class="hljs-string">'2'</span>,</li><li>    <span class="hljs-variable">payTypeDesc</span>: <span class="hljs-string">'xx银行储蓄卡 (0909)'</span>,</li><li>    <span class="hljs-variable">isAvailable</span>: <span class="hljs-keyword">true</span>,</li><li>    <span class="hljs-variable">custPayType</span>: <span class="hljs-string">'BankFastPayment'</span>,</li><li>  }</li><li>];</li><li>
</li><li><span class="hljs-variable">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable">paymentTypes3PayShow</span>: <span class="hljs-title class_">PaymentType</span>[] = [</li><li>  {</li><li>    <span class="hljs-variable">payTypeSerialNo</span>: <span class="hljs-string">'3'</span>,</li><li>    <span class="hljs-variable">payTypeDesc</span>: <span class="hljs-string">'云闪付'</span>,</li><li>    <span class="hljs-variable">isAvailable</span>: <span class="hljs-keyword">true</span>,</li><li>    <span class="hljs-variable">custPayType</span>: <span class="hljs-string">'CloudFlashPayment'</span>,</li><li>  },</li><li>  {</li><li>    <span class="hljs-variable">payTypeSerialNo</span>: <span class="hljs-string">'4'</span>,</li><li>    <span class="hljs-variable">payTypeDesc</span>: <span class="hljs-string">'微信支付'</span>,</li><li>    <span class="hljs-variable">isAvailable</span>: <span class="hljs-keyword">true</span>,</li><li>    <span class="hljs-variable">custPayType</span>: <span class="hljs-string">'WECHAT_MICROPAY'</span>,</li><li>  }</li><li>]</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section2891438111219">工具类<i class="anchor-icon anchor-icon-link" anchorid="section2891438111219" tips="复制节点链接"></i></h3><p>支付工具PaymentUtil.ets类定义示例代码如下：</p> <div _ngcontent-pij-c106="" class="highlight-div"><div _ngcontent-pij-c106="" class="highlight-div-header"><div _ngcontent-pij-c106="" class="highlight-div-header-left"><div _ngcontent-pij-c106="" class="handle-button expand-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pij-c106="" class="highlight-div-header-right"><div _ngcontent-pij-c106="" class="handle-button ai-button"></div><div _ngcontent-pij-c106="" class="handle-button line-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pij-c106="" class="handle-button theme-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pij-c106="" class="handle-button copy-button"><div _ngcontent-pij-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pij-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">CustPayType</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"../data/CustPayType"</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">PaymentType</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"../data/PaymentType"</span>;</li><li>
</li><li><span class="hljs-comment">/**</span></li><li><span class="hljs-comment"> * 支付工具是否是新卡</span></li><li><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> paymentType 支付方式</span></li><li><span class="hljs-comment"> * <span class="hljs-doctag">@returns</span> 是否为新卡支付方式</span></li><li><span class="hljs-comment"> */</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> isNewCardPaymentType = (<span class="hljs-attr">paymentType</span>: <span class="hljs-title class_">PaymentType</span>): <span class="hljs-function"><span class="hljs-params">boolean</span> =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (!paymentType) {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> paymentType.<span class="hljs-property">custPayType</span> === <span class="hljs-title class_">CustPayType</span>.<span class="hljs-property">NewBankCard</span>;</li><li>};</li><li>
</li><li><span class="hljs-comment">/**</span></li><li><span class="hljs-comment"> * 获取图标圆角值</span></li><li><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> length 圆角值</span></li><li><span class="hljs-comment"> * <span class="hljs-doctag">@returns</span> 图标圆角值</span></li><li><span class="hljs-comment"> */</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> getBorderRadius = (<span class="hljs-attr">length</span>: <span class="hljs-built_in">number</span>): <span class="hljs-function"><span class="hljs-params">number</span> =&gt;</span> {</li><li>  <span class="hljs-comment">//正方形图标圆角值为： 14 / 54 * 图标边长</span></li><li>  <span class="hljs-keyword">return</span> <span class="hljs-number">7</span> / <span class="hljs-number">27</span> * length;</li><li>}</li></ol></pre></div></div> </div> </div> <div></div></div>