<h1 _ngcontent-wpr-c119="" class="doc-title ng-star-inserted" title="数据备份"> 数据备份 </h1>

<div _ngcontent-wpr-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000001793390194"><p id="ZH-CN_TOPIC_0000002478173748__p15411119174018">数据迁移或者版本升级之前请务必进行数据备份，以免重要数据丢失，无法回滚。备份的内容包括<strong>ohpm-repo</strong>中<strong>&lt;deploy_root</strong>&gt;部署根目录内的数据、db元数据以及store三方包数据。</p> <div class="tiledSection"><h2 id="section1591910219473">备份deploy_root部署根目录<i class="anchor-icon anchor-icon-link" anchorid="section1591910219473" tips="复制节点链接"></i></h2><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002478173748__p18634635612">&lt;deploy_root&gt;：ohpm-repo部署根目录，默认的路径为：</p> <p id="ZH-CN_TOPIC_0000002478173748__p6614462568">windows系统：~/AppData/Roaming/Huawei/ohpm-repo</p> <p id="ZH-CN_TOPIC_0000002478173748__p18611469565">其他操作系统：~/ohpm-repo</p> </div></div></div> <p id="ZH-CN_TOPIC_0000002478173748__p06746205612">ohpm-repo在版本1.1.0之前不支持配置&lt;deploy_root&gt;，都采用默认值，若您的ohpm-repo支持且配置了&lt;deploy_root&gt;，请找到对应目录，并使用常用的压缩工具打包备份该目录。</p> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p id="ZH-CN_TOPIC_0000002478173748__p4748135904611">如果配置文件中db，storage，logs和uplink的存储路径可配置，且存储位置不在ohpm-repo部署根目录&lt;deploy_root&gt;中，请找到对应目录进行数据备份。</p> </div></div></div> <p id="ZH-CN_TOPIC_0000002478173748__p4273103515919"><span><img height="267.025829" originheight="220" originwidth="448" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104732.66440853545050917070758450711244:50001231000000:2800:7C52565CAC9EDFF837182C8B53A71FACB4C8CAB911E48E5EE499DA8AC6016640.png" title="点击放大" width="533.6625"></span></p> </div> <div class="tiledSection"><h2 id="section2961115514478">备份&lt;包存储目录&gt;和&lt;Mysql&gt;<i class="anchor-icon anchor-icon-link" anchorid="section2961115514478" tips="复制节点链接"></i></h2><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002478173748__p4936132915020">如果您使用的是本地存储（配置文件中db为filedb本地存储，store为fs本地存储），在备份&lt;deploy_root&gt;时已经完成db和store的备份，请忽略该步骤。</p> </div></div></div> <ul id="ZH-CN_TOPIC_0000002478173748__ul670074212120"><li id="li77001442819">如果您的配置项db使用了Mysql存储，请根据配置的数据库名，备份结构和数据。<p id="ZH-CN_TOPIC_0000002478173748__p10986139142313"><span><img height="294.008204" originheight="450" originwidth="1086" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104732.27664107872065409849087054906820:50001231000000:2800:92154A1355B4E3EF2F7570B5AFFC582C14A5045B8B41354B58FB6F84FBEDFFB3.png" title="点击放大" width="701.2425000000001"></span></p> </li></ul> <ul id="ZH-CN_TOPIC_0000002478173748__ul95744391412"><li id="li18574739515">如果您的配置项store使用了Sftp存储或自定义存储插件存储，请根据配置的存储目录，进行备份（图片以sftp存储举例）<p id="ZH-CN_TOPIC_0000002478173748__p7369678113"><span><img height="296.14378500000004" originheight="398" originwidth="959" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104732.03210516755534789974673992793552:50001231000000:2800:B6714882CD1E09E7ADCABF6AB013A3F22AFC72387875EE88C9EC1687EC264829.png" title="点击放大" width="705.2325000000001"></span></p> </li></ul> </div> </div> <div></div></div>