<h1 _ngcontent-ytk-c119="" class="doc-title ng-star-inserted" title="数据类型转换说明"> 数据类型转换说明 </h1>

<div _ngcontent-ytk-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>在开发AR应用时，部分数据类型需要转换才能使用，以下进行汇总及示例。</p>    <div class="tiledSection">     <h2 id="section66181241549">ArrayBuffer<i class="anchor-icon anchor-icon-link" anchorid="section66181241549" tips="复制节点链接"></i></h2>          <p>在一些不支持接收ArrayBuffer数据类型的方法中，需要将其反序列化为int32或者float32类型，涉及转换的接口列表如下：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.2.3.1.3.1.1" valign="top" width="49.94%">          <p>接口名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.2.3.1.3.1.2" valign="top" width="50.06%">          <p>描述</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="49.94%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-api-arengine#section175993235012" target="_blank">ImageComponent</a></p></td>         <td class="cellrowborder" valign="top" width="50.06%">          <p>参数buffer为ArrayBuffer类型，可转换为int32。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="49.94%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-api-arengine#section12949442354" target="_blank">ARPlane.getPolygonXZ</a></p></td>         <td class="cellrowborder" valign="top" width="50.06%">          <p>返回值为ArrayBuffer类型，可转换为float32。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="49.94%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-api-arengine#section15211205153115" target="_blank">ARSceneMesh.getVertices</a></p></td>         <td class="cellrowborder" valign="top" width="50.06%">          <p>返回值为ArrayBuffer类型，可转换为float32。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="49.94%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-api-arengine#section4793111183211" target="_blank">ARSceneMesh.getVertexNormals</a></p></td>         <td class="cellrowborder" valign="top" width="50.06%">          <p>返回值为ArrayBuffer类型，可转换为float32。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="49.94%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-api-arengine#section19221187183218" target="_blank">ARSceneMesh.getTriangleIndices</a></p></td>         <td class="cellrowborder" valign="top" width="50.06%">          <p>返回值为ArrayBuffer类型，可转换为int32。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="49.94%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-api-arengine#section1031071863714" target="_blank">ARSemanticDensePointData</a></p></td>         <td class="cellrowborder" valign="top" width="50.06%">          <p>参数id为ArrayBuffer类型，可转换为int32。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="49.94%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-api-arengine#section1031071863714" target="_blank">ARSemanticDensePointData</a></p></td>         <td class="cellrowborder" valign="top" width="50.06%">          <p>参数position为ArrayBuffer类型，可转换为float32。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="49.94%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-api-arengine#section1031071863714" target="_blank">ARSemanticDensePointData</a></p></td>         <td class="cellrowborder" valign="top" width="50.06%">          <p>参数color为ArrayBuffer类型，可转换为int32。</p></td>        </tr>             </tbody></table></div>     </div>     <p>转换的示例如下：</p>     <div _ngcontent-ytk-c106="" class="highlight-div"><div _ngcontent-ytk-c106="" class="highlight-div-header"><div _ngcontent-ytk-c106="" class="highlight-div-header-left"><div _ngcontent-ytk-c106="" class="handle-button expand-button"><div _ngcontent-ytk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ytk-c106="" class="highlight-div-header-right"><div _ngcontent-ytk-c106="" class="handle-button ai-button"></div><div _ngcontent-ytk-c106="" class="handle-button line-button"><div _ngcontent-ytk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ytk-c106="" class="handle-button theme-button"><div _ngcontent-ytk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ytk-c106="" class="handle-button copy-button"><div _ngcontent-ytk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ytk-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// ArrayBuffer转float32</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">arrayBufferFloat32ToNumber</span>(<span class="hljs-params">buffer: <span class="hljs-built_in">ArrayBuffer</span></span>): <span class="hljs-built_in">number</span>[] {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">view</span>: <span class="hljs-title class_">Float32Array</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>(buffer);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">numberArray</span>: <span class="hljs-built_in">number</span>[] = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(view);</li><li>  <span class="hljs-keyword">return</span> numberArray;</li><li>}</li><li>
</li><li><span class="hljs-comment">// ArrayBuffer转int32</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">arrayBufferInt32ToNumber</span>(<span class="hljs-params">buffer: <span class="hljs-built_in">ArrayBuffer</span></span>): <span class="hljs-built_in">number</span>[] {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">view</span>: <span class="hljs-title class_">Int32Array</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>(buffer);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">numberArray</span>: <span class="hljs-built_in">number</span>[] = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(view);</li><li>  <span class="hljs-keyword">return</span> numberArray;</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>