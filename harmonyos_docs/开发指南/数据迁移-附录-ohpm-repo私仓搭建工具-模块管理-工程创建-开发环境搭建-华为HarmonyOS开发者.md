<h1 _ngcontent-oxd-c119="" class="doc-title ng-star-inserted" title="数据迁移"> 数据迁移 </h1>

<div _ngcontent-oxd-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000001794361186"><p id="ZH-CN_TOPIC_0000002510173721__p14768122714416">ohpm-repo<strong>2.2.0</strong>版本开始支持数据迁移功能。在ohpm-repo配置文件中，db是元数据存储的配置项，store是文件存储的配置项，db和store不能随意搭配，需要符合下面表格中的匹配规范。如果需要改变db和store的存储方式，需要进行数据迁移操作。</p>  <div class="tablenoborder"><div class="tbBox"><table id="table7377205612280" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002510173721__row237775662812"><th align="left" class="cellrowborder" id="mcps1.3.2.1.3.1.1" valign="top" width="50%"><p id="ZH-CN_TOPIC_0000002510173721__p56376742916">db：元数据存储</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.2.1.3.1.2" valign="top" width="50%"><p id="ZH-CN_TOPIC_0000002510173721__p1780044342917"><strong>与db所适配的store：三方包文件存储</strong></p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002510173721__row1037855611281"><td class="cellrowborder" valign="top" width="50%"><p id="ZH-CN_TOPIC_0000002510173721__p134681916297">filedb</p> </td> <td class="cellrowborder" valign="top" width="50%"><p id="ZH-CN_TOPIC_0000002510173721__p9378175662811">file storage</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002510173721__row1378756172816"><td class="cellrowborder" valign="top" width="50%"><p id="ZH-CN_TOPIC_0000002510173721__p36401711142910">mysql(ohpm-repo 1.1.0开始支持）</p> </td> <td class="cellrowborder" valign="top" width="50%"><p id="ZH-CN_TOPIC_0000002510173721__p116425468292">file storage，sftp storage(ohpm-repo 1.1.0开始支持），custom storage(ohpm-repo 2.2.0开始支持）</p> </td> </tr>  </tbody></table></div> </div> <div class="tiledSection"><h2 id="section11839162902511">流程概述<i class="anchor-icon anchor-icon-link" anchorid="section11839162902511" tips="复制节点链接"></i></h2><ol id="ZH-CN_TOPIC_0000002510173721__ol111981110205013"><li id="li15198191005013">为保证数据不丢失，请务必先进行<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-data-backup">数据备份</a>。</li><li id="li819816102505">参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-upgrade">升级指导文档</a>，升级ohpm-repo到目标版本。</li><li id="li161981310135017"><a href="/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-data-migration#section397615294129">使用迁移命令导出数据</a>。</li><li id="li11516193312504">修改配置文件中db和store的存储方式，以<a href="/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-data-migration#section1959530132115">新存储方式启动ohpm-repo</a>。</li><li id="li14199131075016"><a href="/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-data-migration#section17126124310255">使用迁移命令导入数据</a>。</li></ol> </div> <div class="tiledSection"><h2 id="section0882154812363">备份ohpm-repo数据<i class="anchor-icon anchor-icon-link" anchorid="section0882154812363" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002510173721__p11979555113611">请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-data-backup">数据备份指导文档</a>进行操作。</p> </div> <div class="tiledSection"><h2 id="section3295728181711">升级ohpm-repo到最新版本<i class="anchor-icon anchor-icon-link" anchorid="section3295728181711" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002510173721__p35292961719">请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-upgrade">升级指导文档</a>进行操作。</p> </div> <div class="tiledSection"><h2 id="section397615294129">使用迁移命令导出数据<i class="anchor-icon anchor-icon-link" anchorid="section397615294129" tips="复制节点链接"></i></h2><ol id="ZH-CN_TOPIC_0000002510173721__ol259728131216"><li id="li1859888151214">导出DB数据<p id="ZH-CN_TOPIC_0000002510173721__p174271012131213">使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-export-userinfo">export_userinfo</a>命令导出下面10张数据表的数据，并且导出加密组件，在命令执行目录生成打包export_userInfo_xxx.zip文件。</p> <ul id="ZH-CN_TOPIC_0000002510173721__ul498861025112"><li id="li2989161017510">user</li><li id="li898921075117">group_member</li><li id="li18989510145110">public_key</li><li id="li119891110155113">access_token</li><li id="li1798921075112">uplink</li><li id="li10989101011513">uplink_proxy</li><li id="li1598991025118">repo</li><li id="li6989181085112">repo_permission</li><li id="li10989310125117">validation_config</li><li id="li1998901015513">system_security</li></ul> <div class="p" id="ZH-CN_TOPIC_0000002510173721__p152051686519"><div _ngcontent-oxd-c106="" class="highlight-div"><div _ngcontent-oxd-c106="" class="highlight-div-header"><div _ngcontent-oxd-c106="" class="highlight-div-header-left"><div _ngcontent-oxd-c106="" class="handle-button expand-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-oxd-c106="" class="highlight-div-header-right"><div _ngcontent-oxd-c106="" class="handle-button ai-button"></div><div _ngcontent-oxd-c106="" class="handle-button line-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-oxd-c106="" class="handle-button theme-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-oxd-c106="" class="handle-button copy-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-oxd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-undefined" id="ZH-CN_TOPIC_0000002510173721__screen78981516181616" data-highlighted="yes"><ol class="linenums"><li>ohpm-repo export_userinfo</li></ol></pre></div></div> </div> <p id="ZH-CN_TOPIC_0000002510173721__p9888162110121"></p> <div _ngcontent-oxd-c106="" class="highlight-div"><div _ngcontent-oxd-c106="" class="highlight-div-header"><div _ngcontent-oxd-c106="" class="highlight-div-header-left"><div _ngcontent-oxd-c106="" class="handle-button expand-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-oxd-c106="" class="highlight-div-header-right"><div _ngcontent-oxd-c106="" class="handle-button ai-button"></div><div _ngcontent-oxd-c106="" class="handle-button line-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-oxd-c106="" class="handle-button theme-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-oxd-c106="" class="handle-button copy-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-oxd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002510173721__screen1269419399147" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">PS</span> <span class="hljs-variable">D</span>:\&gt; <span class="hljs-title class_">ohpm</span>-<span class="hljs-title class_">repo</span> <span class="hljs-title class_">export_userinfo</span></li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T19</span>:<span class="hljs-number">14</span>:<span class="hljs-number">16.721</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">initialize</span> <span class="hljs-string">"file database"</span> <span class="hljs-variable">successfully</span>.</li><li>...</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T19</span>:<span class="hljs-number">14</span>:<span class="hljs-number">16.734</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">export</span> <span class="hljs-variable">the</span> <span class="hljs-string">"system_security"</span> <span class="hljs-variable">table</span> <span class="hljs-variable">done</span>.</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T19</span>:<span class="hljs-number">14</span>:<span class="hljs-number">16.761</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">userinfo</span> <span class="hljs-variable">exported</span> <span class="hljs-variable">completed</span>, <span class="hljs-variable">save</span> <span class="hljs-variable">the</span> .<span class="hljs-variable">zip</span> <span class="hljs-variable">file</span> <span class="hljs-variable">to</span> : <span class="hljs-string">"D:\export_userInfo_1754738056722.zip"</span>.</li></ol></pre></div></div> </li><li id="li459814841215">导出已上架的包列表<div class="p" id="ZH-CN_TOPIC_0000002510173721__p1460752491213">使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-export-pkginfo">export_pkginfo</a>命令，导出已上架的包列表。<div _ngcontent-oxd-c106="" class="highlight-div"><div _ngcontent-oxd-c106="" class="highlight-div-header"><div _ngcontent-oxd-c106="" class="highlight-div-header-left"><div _ngcontent-oxd-c106="" class="handle-button expand-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-oxd-c106="" class="highlight-div-header-right"><div _ngcontent-oxd-c106="" class="handle-button ai-button"></div><div _ngcontent-oxd-c106="" class="handle-button line-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-oxd-c106="" class="handle-button theme-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-oxd-c106="" class="handle-button copy-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-oxd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-undefined" id="ZH-CN_TOPIC_0000002510173721__screen4396161819173" data-highlighted="yes"><ol class="linenums"><li>ohpm-repo export_pkginfo</li></ol></pre></div></div> </div> <p id="ZH-CN_TOPIC_0000002510173721__p249502711121"></p> <div _ngcontent-oxd-c106="" class="highlight-div"><div _ngcontent-oxd-c106="" class="highlight-div-header"><div _ngcontent-oxd-c106="" class="highlight-div-header-left"><div _ngcontent-oxd-c106="" class="handle-button expand-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-oxd-c106="" class="highlight-div-header-right"><div _ngcontent-oxd-c106="" class="handle-button ai-button"></div><div _ngcontent-oxd-c106="" class="handle-button line-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-oxd-c106="" class="handle-button theme-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-oxd-c106="" class="handle-button copy-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-oxd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002510173721__screen1239212772216" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">PS</span> <span class="hljs-variable">D</span>:\&gt; <span class="hljs-title class_">ohpm</span>-<span class="hljs-title class_">repo</span> <span class="hljs-title class_">export_pkginfo</span></li><li>...</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T17</span>:<span class="hljs-number">56</span>:<span class="hljs-number">15.319</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">export</span> <span class="hljs-variable">matched</span> <span class="hljs-variable">packages</span> <span class="hljs-variable">success</span>: <span class="hljs-title class_">save</span> <span class="hljs-title class_">to</span> <span class="hljs-string">"D:\pkgInfo_1754733375315.json"</span>.</li></ol></pre></div></div> </li><li id="li115999817121">批量下载包文件<p id="ZH-CN_TOPIC_0000002510173721__p1131153821513">使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-batch-download">batch_download</a>命令，从ohpm-repo配置的store存储目录中批量下载包文件。</p> <p id="ZH-CN_TOPIC_0000002510173721__p104887413155">使用第2步生成的pkgInfo_xxxx.json作为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-batch-download">batch_download</a>命令参数，批量下载har或tgz包，在命令执行目录生成batch_download_xxx.zip文件。</p> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p id="ZH-CN_TOPIC_0000002510173721__p6488164121517">如果不迁移所有的包，您可以在第2步生成的pkgInfo_xxxx.json文件中删除掉不需要下载的包。</p> </div></div></div> <div _ngcontent-oxd-c106="" class="highlight-div"><div _ngcontent-oxd-c106="" class="highlight-div-header"><div _ngcontent-oxd-c106="" class="highlight-div-header-left"><div _ngcontent-oxd-c106="" class="handle-button expand-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-oxd-c106="" class="highlight-div-header-right"><div _ngcontent-oxd-c106="" class="handle-button ai-button"></div><div _ngcontent-oxd-c106="" class="handle-button line-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-oxd-c106="" class="handle-button theme-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-oxd-c106="" class="handle-button copy-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-oxd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-php-template" id="ZH-CN_TOPIC_0000002510173721__screen84883413150" data-highlighted="yes"><ol class="linenums"><li><span class="language-xml">ohpm-repo batch_download <span class="hljs-tag">&lt;<span class="hljs-name">pkgInfo_xxxx.json地址</span>&gt;</span></span></li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002510173721__p194889416152"></p> <div _ngcontent-oxd-c106="" class="highlight-div"><div _ngcontent-oxd-c106="" class="highlight-div-header"><div _ngcontent-oxd-c106="" class="highlight-div-header-left"><div _ngcontent-oxd-c106="" class="handle-button expand-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-oxd-c106="" class="highlight-div-header-right"><div _ngcontent-oxd-c106="" class="handle-button ai-button"></div><div _ngcontent-oxd-c106="" class="handle-button line-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-oxd-c106="" class="handle-button theme-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-oxd-c106="" class="handle-button copy-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-oxd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002510173721__screen448816413152" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">PS</span> <span class="hljs-variable">D</span>:\&gt; <span class="hljs-title class_">ohpm</span>-<span class="hljs-title class_">repo</span> <span class="hljs-title class_">batch_download</span> <span class="hljs-title class_">D</span>:\<span class="hljs-title class_">pkgInfo_1754733375315</span>.<span class="hljs-title class_">json</span></li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T18</span>:<span class="hljs-number">33</span>:<span class="hljs-number">30.349</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">download</span> <span class="hljs-string">"@ohos/test@1.0.0"</span> <span class="hljs-keyword">from</span> <span class="hljs-variable">repository</span> <span class="hljs-string">"ohpm"</span> <span class="hljs-variable">successfully</span><span class="hljs-string">".</span></li><li><span class="hljs-string">[2025-08-09T18:33:30.367] [INFO] default - download "</span>@<span class="hljs-title function_">ohos</span>/<span class="hljs-variable">test</span>-<span class="hljs-variable">two</span>@<span class="hljs-number">1.0</span><span class="hljs-number">.0</span><span class="hljs-string">" from repository "</span><span class="hljs-variable">ohpm</span><span class="hljs-string">" successfully"</span>.</li><li>...</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T18</span>:<span class="hljs-number">33</span>:<span class="hljs-number">30.466</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">all</span> <span class="hljs-string">"6"</span> <span class="hljs-keyword">package</span>(<span class="hljs-variable">s</span>) <span class="hljs-variable">are</span> <span class="hljs-variable">successfully</span> <span class="hljs-variable">download</span>.</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T18</span>:<span class="hljs-number">33</span>:<span class="hljs-number">30.466</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">save</span> <span class="hljs-variable">the</span> .<span class="hljs-variable">zip</span> <span class="hljs-variable">file</span> <span class="hljs-variable">to</span> : <span class="hljs-string">"D:\batch_download_1754735610304.zip"</span>.</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T18</span>:<span class="hljs-number">33</span>:<span class="hljs-number">30.467</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">Clear</span> <span class="hljs-variable">the</span> <span class="hljs-variable">cache</span>.</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002510173721__p1148810413159">batch_download_xxx.zip文件中以仓库名作为目录，每个仓库目录中存在pkgInfo.json文件，其中记录了每个包的<strong>文件名</strong>、<strong>包名</strong>、<strong>组织</strong>、<strong>上传者</strong>、<strong>Tag标签</strong>，用于在批量上传时准确指定ohpm-repo的数据库中某个用户为某个包的真实上传用户，同时将包的Tag标签一起上传。</p> </li><li id="li1998165521411">导出包权限数据<div class="p" id="ZH-CN_TOPIC_0000002510173721__p258141516207">ohpm-repo 5.4.0版本开始，支持使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-export-pkgpermission">export_pkgPermission</a>命令，导出包权限数据。<div _ngcontent-oxd-c106="" class="highlight-div"><div _ngcontent-oxd-c106="" class="highlight-div-header"><div _ngcontent-oxd-c106="" class="highlight-div-header-left"><div _ngcontent-oxd-c106="" class="handle-button expand-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-oxd-c106="" class="highlight-div-header-right"><div _ngcontent-oxd-c106="" class="handle-button ai-button"></div><div _ngcontent-oxd-c106="" class="handle-button line-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-oxd-c106="" class="handle-button theme-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-oxd-c106="" class="handle-button copy-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-oxd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-undefined" id="ZH-CN_TOPIC_0000002510173721__screen2581315192020" data-highlighted="yes"><ol class="linenums"><li>ohpm-repo export_pkgPermission</li></ol></pre></div></div> </div> <p id="ZH-CN_TOPIC_0000002510173721__p2581121592010"></p> <div _ngcontent-oxd-c106="" class="highlight-div"><div _ngcontent-oxd-c106="" class="highlight-div-header"><div _ngcontent-oxd-c106="" class="highlight-div-header-left"><div _ngcontent-oxd-c106="" class="handle-button expand-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-oxd-c106="" class="highlight-div-header-right"><div _ngcontent-oxd-c106="" class="handle-button ai-button"></div><div _ngcontent-oxd-c106="" class="handle-button line-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-oxd-c106="" class="handle-button theme-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-oxd-c106="" class="handle-button copy-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-oxd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002510173721__screen95815154201" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">PS</span> <span class="hljs-variable">D</span>:\&gt; <span class="hljs-title class_">ohpm</span>-<span class="hljs-title class_">repo</span> <span class="hljs-title class_">export_pkgPermission</span></li><li>...</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">09</span>-<span class="hljs-number">16</span><span class="hljs-variable">T14</span>:<span class="hljs-number">58</span>:<span class="hljs-number">24.806</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">successfully</span> <span class="hljs-variable">exported</span> <span class="hljs-variable">all</span> <span class="hljs-keyword">package</span> <span class="hljs-package">permissions</span>: <span class="hljs-title class_">saved</span> <span class="hljs-title class_">to</span> <span class="hljs-string">"D:\packagePermission_1758005904806.json"</span>.</li></ol></pre></div></div> </li></ol> </div> <div class="tiledSection"><h2 id="section1959530132115">新存储方式重启ohpm-repo<i class="anchor-icon anchor-icon-link" anchorid="section1959530132115" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002510173721__p2056992912224">打开ohpm-repo压缩包解压根目录中配置文件config.yaml，修改db和store配置项，指定所需存储方式。</p> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p id="ZH-CN_TOPIC_0000002510173721__p10879142314219">修改db和store配置项后，需要您在配置文件中同时配置新的&lt;deploy_root&gt;目录。</p> </div></div></div> <p id="ZH-CN_TOPIC_0000002510173721__p176172456233">使用修改后的配置文件重新执行安装命令（这一步必须执行，初始化数据库和其他必要的配置）。</p> <div _ngcontent-oxd-c106="" class="highlight-div"><div _ngcontent-oxd-c106="" class="highlight-div-header"><div _ngcontent-oxd-c106="" class="highlight-div-header-left"><div _ngcontent-oxd-c106="" class="handle-button expand-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-oxd-c106="" class="highlight-div-header-right"><div _ngcontent-oxd-c106="" class="handle-button ai-button"></div><div _ngcontent-oxd-c106="" class="handle-button line-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-oxd-c106="" class="handle-button theme-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-oxd-c106="" class="handle-button copy-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-oxd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-css" id="ZH-CN_TOPIC_0000002510173721__screen7692432244" data-highlighted="yes"><ol class="linenums"><li>ohpm-repo install <span class="hljs-attr">--config</span> &lt;配置文件路径&gt;</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002510173721__p13293132813245"><span><img height="216.511365" originheight="291" originwidth="1105" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104724.98538465397094326746234193907578:50001231000000:2800:9A397457DE7D52416D741DE727EC69F27D345510BD374B1E474E354D372B3AA8.png" title="点击放大" width="797.0025"></span></p> <p id="ZH-CN_TOPIC_0000002510173721__p127692932414">根据提示信息刷新环境变量，然后重新启动ohpm-repo。</p> <div _ngcontent-oxd-c106="" class="highlight-div"><div _ngcontent-oxd-c106="" class="highlight-div-header"><div _ngcontent-oxd-c106="" class="highlight-div-header-left"><div _ngcontent-oxd-c106="" class="handle-button expand-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-oxd-c106="" class="highlight-div-header-right"><div _ngcontent-oxd-c106="" class="handle-button ai-button"></div><div _ngcontent-oxd-c106="" class="handle-button line-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-oxd-c106="" class="handle-button theme-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-oxd-c106="" class="handle-button copy-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-oxd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-sql" id="ZH-CN_TOPIC_0000002510173721__screen14765185618249" data-highlighted="yes"><ol class="linenums"><li>ohpm<span class="hljs-operator">-</span>repo <span class="hljs-keyword">start</span></li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002510173721__p122231927122516"><span><img height="104.124104" originheight="128" originwidth="1082" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104724.68367071341354579139961576897879:50001231000000:2800:FB60DF382ECCA5AB0AFF066DBD9FAC88B8E3A8DE15304CB106A534CEA7809D3D.png" title="点击放大" width="811.965"></span></p> </div> <div class="tiledSection"><h2 id="section17126124310255">使用迁移命令导入数据<i class="anchor-icon anchor-icon-link" anchorid="section17126124310255" tips="复制节点链接"></i></h2><div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><ul id="ZH-CN_TOPIC_0000002510173721__ul103659353219"><li id="li93651735192113">若需要部署在新机器上，将上面ohpm-repo导出的<strong>export_userInfo_xxx.zip</strong>、<strong>batch_download_xxx.zip</strong><strong>和</strong><strong>packagePermission_xxx</strong><strong>.json</strong>文件传到需要部署的机器中。</li><li id="li514017379214">需要先导入DB数据，再进行批量上传，避免上传时找不到对应的用户和组织而报错。</li></ul> </div></div></div> <ol id="ZH-CN_TOPIC_0000002510173721__ol313917465138"><li id="li2917312155716">停止ohpm-repo服务。<p id="ZH-CN_TOPIC_0000002510173721__p1540273817196">请在开始数据迁移前停止ohpm-repo服务，以防止迁移过程中因用户访问导致数据异常。</p> </li><li id="li013917461134">导入DB数据。<p id="ZH-CN_TOPIC_0000002510173721__p11539849112619">使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-import-userinfo">import_userinfo</a>命令将export_userInfo_xxx.zip中的数据导入数据库。</p> <div _ngcontent-oxd-c106="" class="highlight-div"><div _ngcontent-oxd-c106="" class="highlight-div-header"><div _ngcontent-oxd-c106="" class="highlight-div-header-left"><div _ngcontent-oxd-c106="" class="handle-button expand-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-oxd-c106="" class="highlight-div-header-right"><div _ngcontent-oxd-c106="" class="handle-button ai-button"></div><div _ngcontent-oxd-c106="" class="handle-button line-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-oxd-c106="" class="handle-button theme-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-oxd-c106="" class="handle-button copy-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-oxd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002510173721__screen198647114287" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">ohpm</span>-<span class="hljs-variable">repo</span> <span class="hljs-title class_">import_userinfo</span> &lt;<span class="hljs-title class_">zip_file</span>&gt; --<span class="hljs-variable">clean</span>-<span class="hljs-variable">db</span></li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002510173721__p1630022552819"></p> <div _ngcontent-oxd-c106="" class="highlight-div"><div _ngcontent-oxd-c106="" class="highlight-div-header"><div _ngcontent-oxd-c106="" class="highlight-div-header-left"><div _ngcontent-oxd-c106="" class="handle-button expand-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-oxd-c106="" class="highlight-div-header-right"><div _ngcontent-oxd-c106="" class="handle-button ai-button"></div><div _ngcontent-oxd-c106="" class="handle-button line-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-oxd-c106="" class="handle-button theme-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-oxd-c106="" class="handle-button copy-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-oxd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002510173721__screen6329388199" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">PS</span> <span class="hljs-variable">D</span>:\&gt; <span class="hljs-title class_">ohpm</span>-<span class="hljs-title class_">repo</span> <span class="hljs-title class_">import_userinfo</span> <span class="hljs-title class_">D</span>:\<span class="hljs-title class_">export_userInfo_1754738056722</span>.<span class="hljs-title class_">zip</span> --<span class="hljs-title class_">clean</span>-<span class="hljs-title class_">db</span></li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T19</span>:<span class="hljs-number">19</span>:<span class="hljs-number">31.623</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">verifying</span> <span class="hljs-variable">the</span> <span class="hljs-variable">validity</span> <span class="hljs-variable">of</span> <span class="hljs-variable">the</span> <span class="hljs-variable">meta</span> <span class="hljs-variable">crypto</span> <span class="hljs-variable">component</span>.</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T19</span>:<span class="hljs-number">19</span>:<span class="hljs-number">31.633</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">the</span> <span class="hljs-variable">meta</span> <span class="hljs-variable">crypto</span> <span class="hljs-variable">component</span> <span class="hljs-keyword">is</span> <span class="hljs-variable">verified</span> <span class="hljs-variable">successfully</span>.</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T19</span>:<span class="hljs-number">19</span>:<span class="hljs-number">31.639</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">initialize</span> <span class="hljs-string">"file database"</span> <span class="hljs-variable">successfully</span>.</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T19</span>:<span class="hljs-number">19</span>:<span class="hljs-number">31.660</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">all</span> <span class="hljs-variable">database</span> <span class="hljs-variable">data</span> <span class="hljs-variable">has</span> <span class="hljs-variable">been</span> <span class="hljs-variable">cleaned</span>.</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T19</span>:<span class="hljs-number">19</span>:<span class="hljs-number">31.660</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">importing</span> <span class="hljs-variable">data</span> <span class="hljs-keyword">in</span> <span class="hljs-variable">the</span> <span class="hljs-string">'user.json'</span> <span class="hljs-variable">file</span>.</li><li>...</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T19</span>:<span class="hljs-number">19</span>:<span class="hljs-number">31.673</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">importing</span> <span class="hljs-variable">data</span> <span class="hljs-keyword">in</span> <span class="hljs-variable">the</span> <span class="hljs-string">'system_security.json'</span> <span class="hljs-variable">file</span>.</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T19</span>:<span class="hljs-number">19</span>:<span class="hljs-number">31.674</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">data</span> <span class="hljs-keyword">import</span> <span class="hljs-package">finished</span>.</li></ol></pre></div></div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ol id="ZH-CN_TOPIC_0000002510173721__ol330481314137"><li id="li17305141331314">'--clean-db' 表示在导入数据前会清空所有表数据，包括启动ohpm-repo时默认生成的admin用户。</li><li id="li183051413101314">如果不配置 '--clean-db'，导入过程中可能存在相同数据，默认会以兼容的方式跳过该数据的导入。例如：存在相同的admin用户，数据库中原本存在的admin用户假设为A1，导入数据中的admin用户设为A2。默认保留A1，如果A2的id在其他待导入表数据中存在，将会提前替换为A1的id。要注意的是，之后需要使用A1的密码进行登录。</li></ol> </div></div></div> <p id="ZH-CN_TOPIC_0000002510173721__p02482014122818">数据导入成功后，可启动ohpm-repo服务并登录管理页验证。</p> <p id="ZH-CN_TOPIC_0000002510173721__p052985082817"><span><img height="304.128839" originheight="437" originwidth="990" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104725.07895608465429567423535411394641:50001231000000:2800:43D1B76D6537ED651295FFDD0DB292D6D55E33E79474C659D0B189F0815368B3.png" title="点击放大" width="679.2975"></span></p> </li><li id="li1997412541136">批量上传包到ohpm-repo配置的store目录。<p id="ZH-CN_TOPIC_0000002510173721__p4235112782818">使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-batch-publish">batch_publish</a>命令，将批量下载生成的batch_download_xxx.zip中的包依次发布到ohpm-repo。</p> <div _ngcontent-oxd-c106="" class="highlight-div"><div _ngcontent-oxd-c106="" class="highlight-div-header"><div _ngcontent-oxd-c106="" class="highlight-div-header-left"><div _ngcontent-oxd-c106="" class="handle-button expand-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-oxd-c106="" class="highlight-div-header-right"><div _ngcontent-oxd-c106="" class="handle-button ai-button"></div><div _ngcontent-oxd-c106="" class="handle-button line-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-oxd-c106="" class="handle-button theme-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-oxd-c106="" class="handle-button copy-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-oxd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002510173721__screen62356275287" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">ohpm</span>-<span class="hljs-variable">repo</span> <span class="hljs-title class_">batch_publish</span> &lt;<span class="hljs-title class_">zip_file</span>&gt;</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002510173721__p1723572782816"></p> <div _ngcontent-oxd-c106="" class="highlight-div"><div _ngcontent-oxd-c106="" class="highlight-div-header"><div _ngcontent-oxd-c106="" class="highlight-div-header-left"><div _ngcontent-oxd-c106="" class="handle-button expand-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-oxd-c106="" class="highlight-div-header-right"><div _ngcontent-oxd-c106="" class="handle-button ai-button"></div><div _ngcontent-oxd-c106="" class="handle-button line-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-oxd-c106="" class="handle-button theme-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-oxd-c106="" class="handle-button copy-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-oxd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002510173721__screen1223592719289" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">PS</span> <span class="hljs-variable">D</span>:\&gt; <span class="hljs-title class_">ohpm</span>-<span class="hljs-title class_">repo</span> <span class="hljs-title class_">batch_publish</span> <span class="hljs-title class_">D</span>:\<span class="hljs-title class_">batch_download_1754735610304</span>.<span class="hljs-title class_">zip</span></li><li>...</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T19</span>:<span class="hljs-number">12</span>:<span class="hljs-number">01.497</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">all</span> <span class="hljs-number">6</span> <span class="hljs-keyword">package</span>(<span class="hljs-variable">s</span>) <span class="hljs-variable">are</span> <span class="hljs-variable">successfully</span> <span class="hljs-variable">published</span></li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T19</span>:<span class="hljs-number">12</span>:<span class="hljs-number">01.497</span>] [<span class="hljs-variable">WARN</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">You</span> <span class="hljs-variable">are</span> <span class="hljs-variable">using</span> <span class="hljs-string">"filedb"</span> <span class="hljs-variable">to</span> <span class="hljs-variable">store</span> <span class="hljs-variable">data</span>. <span class="hljs-variable">If</span> <span class="hljs-variable">you</span> <span class="hljs-variable">have</span> <span class="hljs-variable">already</span> <span class="hljs-variable">started</span> <span class="hljs-variable">a</span> <span class="hljs-variable">repository</span> <span class="hljs-variable">service</span>, <span class="hljs-variable">please</span> <span class="hljs-variable">run</span> `<span class="hljs-variable">ohpm</span>-<span class="hljs-variable">repo</span> <span class="hljs-variable">restart</span>` <span class="hljs-variable">to</span> <span class="hljs-variable">restart</span> <span class="hljs-variable">the</span> <span class="hljs-variable">service</span>.</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002510173721__p1223514277286">所有包发布成功，进入ohpm-repo网站查看包数量和包详情是否正确。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002510173721__p1323514279280">1. 在batch_publish命令后面可以配置“--force”，如果进行批量上传时某个包的组织在ohpm-repo中不存在，将任意选取ohpm-repo中一位管理员用户作为组织负责人，自动创建组织。</p> <p id="ZH-CN_TOPIC_0000002510173721__p923532712286">2. 当批量上传的zip文件中仅包含一个仓库目录，可在batch_publish命令后面配置--target-repo &lt;string&gt;，指定所有包上传至目标ohpm-repo仓库。</p> </div></div></div> </li><li id="li19265111017280">导入包权限数据。<p id="ZH-CN_TOPIC_0000002510173721__p11558153322911">ohpm-repo 5.4.0版本开始，支持使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-import-pkgpermission">import_pkgPermission</a>命令，导入包权限数据。导入时有<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-import-pkgpermission#section8679814134119">三种导入模式</a>，请根据不同模式的处理规则选择适合的导入模式。</p> <div _ngcontent-oxd-c106="" class="highlight-div"><div _ngcontent-oxd-c106="" class="highlight-div-header"><div _ngcontent-oxd-c106="" class="highlight-div-header-left"><div _ngcontent-oxd-c106="" class="handle-button expand-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-oxd-c106="" class="highlight-div-header-right"><div _ngcontent-oxd-c106="" class="handle-button ai-button"></div><div _ngcontent-oxd-c106="" class="handle-button line-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-oxd-c106="" class="handle-button theme-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-oxd-c106="" class="handle-button copy-button"><div _ngcontent-oxd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-oxd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002510173721__screen6695237124920" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">PS</span> <span class="hljs-variable">D</span>:\&gt; <span class="hljs-title class_">ohpm</span>-<span class="hljs-title class_">repo</span> <span class="hljs-title class_">import_pkgPermission</span> <span class="hljs-title class_">D</span>:\<span class="hljs-title class_">packagePermission_1758008466123</span>.<span class="hljs-title class_">json</span> --<span class="hljs-title class_">mode</span> <span class="hljs-keyword">override</span></li><li>...</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">09</span>-<span class="hljs-number">17</span><span class="hljs-variable">T14</span>:<span class="hljs-number">44</span>:<span class="hljs-number">38.451</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - &gt; <span class="hljs-variable">start</span> <span class="hljs-variable">importing</span> <span class="hljs-keyword">package</span> <span class="hljs-package">permissions</span> <span class="hljs-variable">to</span> <span class="hljs-variable">the</span> <span class="hljs-string">"ohpm"</span> <span class="hljs-variable">repository</span>.</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">09</span>-<span class="hljs-number">17</span><span class="hljs-variable">T14</span>:<span class="hljs-number">44</span>:<span class="hljs-number">38.459</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-keyword">import</span> <span class="hljs-package">package</span> <span class="hljs-variable">permissions</span> <span class="hljs-variable">completed</span>.</li></ol></pre></div></div> </li></ol> </div> </div> <div></div></div>