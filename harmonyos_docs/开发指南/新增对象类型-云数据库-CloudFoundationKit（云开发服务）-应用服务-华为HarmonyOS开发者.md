<h1 _ngcontent-hlu-c119="" class="doc-title ng-star-inserted" title="新增对象类型"> 新增对象类型 </h1>

<div _ngcontent-hlu-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>开发者需要基于AGC控制台创建对象类型。</p> <div class="tiledSection"><h2 id="section2082315231918">前提条件<i class="anchor-icon anchor-icon-link" anchorid="section2082315231918" tips="复制节点链接"></i></h2><p>已<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/cloudfoundation-enable-database">开通云数据库服务</a>。</p> </div> <div class="tiledSection"><h2 id="section25241145221">操作步骤<i class="anchor-icon anchor-icon-link" anchorid="section25241145221" tips="复制节点链接"></i></h2><ol><li>登录<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank">AppGallery Connect</a>，点击“开发与服务”。</li><li>在项目列表中点击需要创建对象类型的项目。</li><li>在左侧导航栏选择“云开发（Serverless）&gt; 云数据库”，进入云数据库页面。</li><li>点击“新增”，创建新的对象类型。<p><span><img originheight="438" originwidth="1306" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114529.81156988202661474895802310129864:50001231000000:2800:3B33ECB219F8CE2B2BF65289530994ACB280EEFD9E1305311E89E150C7E3FBB8.png" width="920" height="308.54517611026034"></span></p> </li><li>输入“对象类型名”为“BookInfo”后，点击“下一步”。<p><span><img originheight="753" originwidth="1166" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114529.21477279779056677570012882298074:50001231000000:2800:2AD3D4E4922AA4DA18E87A431FE73AD5465AB38A8695F0466E9EA9DAFF253092.png" width="920" height="594.1337907375644"></span></p> </li><li>点击“+新增字段”，新增如下表字段后，点击“下一步”。 <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.2.6.1.1.7.1.1" valign="top" width="17.331733173317332%"><p>字段名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.6.1.1.7.1.2" valign="top" width="17.45174517451745%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.6.1.1.7.1.3" valign="top" width="15.63156315631563%"><p>主键</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.6.1.1.7.1.4" valign="top" width="16.36163616361636%"><p>非空</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.6.1.1.7.1.5" valign="top" width="16.001600160016004%"><p>加密</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.6.1.1.7.1.6" valign="top" width="17.22172217221722%"><p>默认值</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="17.331733173317332%"><p>id</p> </td> <td class="cellrowborder" valign="top" width="17.45174517451745%"><p>Integer</p> </td> <td class="cellrowborder" valign="top" width="15.63156315631563%"><p>✓</p> </td> <td class="cellrowborder" valign="top" width="16.36163616361636%"><p>✓</p> </td> <td class="cellrowborder" valign="top" width="16.001600160016004%"><p>–</p> </td> <td class="cellrowborder" valign="top" width="17.22172217221722%"><p>–</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="17.331733173317332%"><p>bookName</p> </td> <td class="cellrowborder" valign="top" width="17.45174517451745%"><p>String</p> </td> <td class="cellrowborder" valign="top" width="15.63156315631563%"><p>–</p> </td> <td class="cellrowborder" valign="top" width="16.36163616361636%"><p>✓</p> </td> <td class="cellrowborder" valign="top" width="16.001600160016004%"><p>–</p> </td> <td class="cellrowborder" valign="top" width="17.22172217221722%"><p>–</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="17.331733173317332%"><p>author</p> </td> <td class="cellrowborder" valign="top" width="17.45174517451745%"><p>String</p> </td> <td class="cellrowborder" valign="top" width="15.63156315631563%"><p>–</p> </td> <td class="cellrowborder" valign="top" width="16.36163616361636%"><p>–</p> </td> <td class="cellrowborder" valign="top" width="16.001600160016004%"><p>–</p> </td> <td class="cellrowborder" valign="top" width="17.22172217221722%"><p>–</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="17.331733173317332%"><p>price</p> </td> <td class="cellrowborder" valign="top" width="17.45174517451745%"><p>Double</p> </td> <td class="cellrowborder" valign="top" width="15.63156315631563%"><p>–</p> </td> <td class="cellrowborder" valign="top" width="16.36163616361636%"><p>–</p> </td> <td class="cellrowborder" valign="top" width="16.001600160016004%"><p>–</p> </td> <td class="cellrowborder" valign="top" width="17.22172217221722%"><p>–</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="17.331733173317332%"><p>borrowerId</p> </td> <td class="cellrowborder" valign="top" width="17.45174517451745%"><p>Integer</p> </td> <td class="cellrowborder" valign="top" width="15.63156315631563%"><p>–</p> </td> <td class="cellrowborder" valign="top" width="16.36163616361636%"><p>–</p> </td> <td class="cellrowborder" valign="top" width="16.001600160016004%"><p>–</p> </td> <td class="cellrowborder" valign="top" width="17.22172217221722%"><p>–</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="17.331733173317332%"><p>borrowerName</p> </td> <td class="cellrowborder" valign="top" width="17.45174517451745%"><p>String</p> </td> <td class="cellrowborder" valign="top" width="15.63156315631563%"><p>–</p> </td> <td class="cellrowborder" valign="top" width="16.36163616361636%"><p>–</p> </td> <td class="cellrowborder" valign="top" width="16.001600160016004%"><p>–</p> </td> <td class="cellrowborder" valign="top" width="17.22172217221722%"><p>–</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="17.331733173317332%"><p>borrowerTime</p> </td> <td class="cellrowborder" valign="top" width="17.45174517451745%"><p>Date</p> </td> <td class="cellrowborder" valign="top" width="15.63156315631563%"><p>–</p> </td> <td class="cellrowborder" valign="top" width="16.36163616361636%"><p>–</p> </td> <td class="cellrowborder" valign="top" width="16.001600160016004%"><p>–</p> </td> <td class="cellrowborder" valign="top" width="17.22172217221722%"><p>–</p> </td> </tr>  </tbody></table></div> </div> </li><li>点击“+”新增索引，设置“索引名”为“bookName”，点击“下一步”。<p><span><img originheight="760" originwidth="1166" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114530.69781994931661357677664543117574:50001231000000:2800:DB94CCA8A266C1ACC854D42F379188FE17A422E6F92144CBE13B48AB09892E09.png" width="920" height="599.6569468267581"></span></p> </li><li>按照如下要求设置各角色权限后，点击“确定”。 <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.2.8.1.1.6.1.1" valign="top" width="9.019098090190981%"><p>角色</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.8.1.1.6.1.2" valign="top" width="7.719228077192282%"><p>query</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.8.1.1.6.1.3" valign="top" width="7.889211078892111%"><p>upsert</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.8.1.1.6.1.4" valign="top" width="7.749225077492252%"><p>delete</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.8.1.1.6.1.5" valign="top" width="67.62323767623238%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="9.019098090190981%"><p>所有人</p> </td> <td class="cellrowborder" valign="top" width="7.719228077192282%"><p>✓</p> </td> <td class="cellrowborder" valign="top" width="7.889211078892111%"><p>✓</p> </td> <td class="cellrowborder" valign="top" width="7.749225077492252%"><p>✓</p> </td> <td class="cellrowborder" valign="top" width="67.62323767623238%"><p>代表所有用户，包含认证和非认证用户。</p> <p>该角色默认拥有query权限，可自定义配置upsert和delete权限。如：角色勾选了upsert权限，该角色可在本对象类型中写入数据。</p> <p>但是，不建议将upsert和delete权限配置给所有人角色。</p> <p>当对象类型中设置了加密字段之后，表示开启全程加密功能，此时<strong>所有人</strong>角色将不会拥有query、upsert和delete权限，且不允许修改。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="9.019098090190981%"><p>认证用户</p> </td> <td class="cellrowborder" valign="top" width="7.719228077192282%"><p>✓</p> </td> <td class="cellrowborder" valign="top" width="7.889211078892111%"><p>✓</p> </td> <td class="cellrowborder" valign="top" width="7.749225077492252%"><p>✓</p> </td> <td class="cellrowborder" valign="top" width="67.62323767623238%"><p>经过AGC登录认证的用户。</p> <p>该角色默认拥有query权限，可自定义配置upsert和delete权限。如：角色勾选了upsert权限，该角色可在本对象类型中写入数据。</p> <p>当对象类型中设置了加密字段之后，表示开启全程加密功能，此时<strong>认证用户</strong>角色将不会拥有query、upsert和delete权限，且不允许修改。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="9.019098090190981%"><p>数据创建者</p> </td> <td class="cellrowborder" valign="top" width="7.719228077192282%"><p>✓</p> </td> <td class="cellrowborder" valign="top" width="7.889211078892111%"><p>✓</p> </td> <td class="cellrowborder" valign="top" width="7.749225077492252%"><p>✓</p> </td> <td class="cellrowborder" valign="top" width="67.62323767623238%"><p>经过认证的数据创建用户。</p> <p>该角色默认拥有所有权限，且可自定义配置所有权限。如：角色勾选了upsert权限，该角色可在本对象类型中写入数据。</p> <p>每条数据都有其对应的数据创建人（即应用用户），每个数据创建者仅可以upsert或者delete自己创建的数据，不能upsert或者delete他人创建的数据。</p> <p>数据创建者的信息保存在数据记录的系统表中。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="9.019098090190981%"><p>管理员</p> </td> <td class="cellrowborder" valign="top" width="7.719228077192282%"><p>✓</p> </td> <td class="cellrowborder" valign="top" width="7.889211078892111%"><p>✓</p> </td> <td class="cellrowborder" valign="top" width="7.749225077492252%"><p>✓</p> </td> <td class="cellrowborder" valign="top" width="67.62323767623238%"><p>应用开发者，主要是指通过AGC控制台或FaaS（Function as a Service，函数即服务）侧访问云数据库的角色。</p> <p>该角色默认拥有所有权限，且可自定义配置所有权限。如：角色勾选了upsert权限，该角色可在本对象类型中写入数据。</p> <p>管理员可以管理并配置其他角色的权限。</p> </td> </tr>  </tbody></table></div> </div> </li><li>创建完成后返回对象类型列表，可以查看已创建的对象类型。</li><li>勾选创建的BookInfo对象类型，点击“导出”。若不勾选对象类型，默认导出所有对象类型。<p><span><img originheight="501" originwidth="1331" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114530.97357671097921213312086199294710:50001231000000:2800:1270492BFAD24EE0C8AB77B07758A44BCFAA99A3BAE9C105AD23AC05127DDCB5.png" width="920" height="346.29601803155526"></span></p> </li><li id="zh-cn_topic_0000001518866308_li0821548919">导出“json格式”文件，点击“确定”。后续<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/cloudfoundation-database-add-file">引入对象类型文件</a>时，需要使用此文件。<p><span><img originheight="458" originwidth="743" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114530.22077489014897676641274219956687:50001231000000:2800:51DC8797F903536E54E4F91CA2C3EE3122FB3814FFD491605B022908C25A9681.png" width="743" height="458"></span></p> </li></ol> </div> </div> <div></div></div>