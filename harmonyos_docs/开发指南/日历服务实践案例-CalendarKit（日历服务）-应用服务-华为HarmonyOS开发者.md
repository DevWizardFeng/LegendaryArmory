<h1 _ngcontent-gqq-c119="" class="doc-title ng-star-inserted" title="日历服务实践案例"> 日历服务实践案例 </h1>

<div _ngcontent-gqq-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="section518813391087">场景介绍<i class="anchor-icon anchor-icon-link" anchorid="section518813391087" tips="复制节点链接"></i></h2><p>通过日历服务，开发者可将带有时间属性的事件作为日程写入，并支持通过“<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/calendar-service" target="_blank">一键服务</a>”功能快速跳转，帮助用户快速直达对应服务，并完成各类信息的归一化管理。各典型场景选择适用的模板，并按照模板格式填写各个字段信息，确保用户体验完整、一致。</p> </div> <p>写入日历的日程可通过通知中心、桌面卡片以及日历应用内部等多种入口向用户展示。</p> <p>不同场景下，一键服务按钮出现时机如下：</p> <ul><li>桌面卡片、月视图日程列表卡片：日程开始时间前15分钟显示，日程结束时自动隐藏。</li><li>日程详情：始终显示。</li><li>日程通知：通知弹出时显示，通知中心内点击对应日程卡片后显示。</li></ul> <p><span><img height="303.24" originheight="591" originwidth="1018" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114516.68824479399900971581955668008840:50001231000000:2800:D6133AF593A6D1B458CA8732491C2486E69DC9A1F4374E8C364B5F59C050B108.png" title="点击放大" width="523.6875"></span></p> <div class="tiledSection"><h2 id="开发步骤">开发准备<i class="anchor-icon anchor-icon-link" anchorid="开发步骤" tips="复制节点链接"></i></h2><p>请参考日程管理前三步的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/calendarmanager-calendar-developer#开发步骤" target="_blank">开发步骤</a>：</p> <ol><li><p>导入相关依赖。</p> </li><li><p>申请权限。使用Calendar Kit时，需要在module.json5中声明申请读写日历日程所需的权限：ohos.permission.READ_CALENDAR和ohos.permission.WRITE_CALENDAR。具体指导可见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/declare-permissions" target="_blank">声明权限</a>。</p> </li><li><p>根据上下文获取日程管理器对象calendarMgr，用于对日历账户进行相关管理操作。推荐在EntryAbility.ets文件中进行操作。</p> </li></ol> </div> <div class="tiledSection"><h2 id="一键服务典型场景说明">一键服务典型场景<i class="anchor-icon anchor-icon-link" anchorid="一键服务典型场景说明" tips="复制节点链接"></i></h2><p>一键服务典型场景及对应显示内容如下表所示：</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.3.1.4.1.1" valign="top" width="33.33333333333333%"><p>场景类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.3.1.4.1.2" valign="top" width="33.33333333333333%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-calendarmanager#servicetype" target="_blank">ServiceType取值</a></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.3.1.4.1.3" valign="top" width="33.33333333333333%"><p>按钮显示内容</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>会议</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>'Meeting'</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>加入会议</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>追剧</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>'Watching'</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>立即观看</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>还款</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>'Repayment'</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>马上还款</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>直播</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>'Live'</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>开启直播</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>购物</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>'Shopping'</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>开始选购</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>查看</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>'Trip'</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>立即查看</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>上课</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>'Class'</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>开始上课</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>赛事</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>'SportsEvents'</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>立即观看</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>运动</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>'SportsExercise'</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>开始运动</p> </td> </tr>  </tbody></table></div> </div> <p>在进行各场景的开发前，请确保已导入相关依赖、申请相关权限等，具体可见<a href="/consumer/cn/doc/harmonyos-guides/calendarmanager-practice-developer#开发步骤">开发准备</a>。</p> </div> <div class="tiledSection"><h3 id="section8869163201215" class="firsth2">出行服务场景<i class="anchor-icon anchor-icon-link" anchorid="section8869163201215" tips="复制节点链接"></i></h3><p>当用户通过购票平台预订火车票、机票或其他交通方式后，系统可以自动将其行程信息添加至日历，并在适当的时间节点进行提醒。</p> <p>下表列出了该场景中主要字段的推荐配置及其说明：</p> </div>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.1.4.1.1" valign="top" width="33.33333333333333%"><p>字段名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.1.4.1.2" valign="top" width="33.33333333333333%"><p>对应设置项</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.1.4.1.3" valign="top" width="33.33333333333333%"><p>建议取值</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>日程标题</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>title</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>航班、车次信息加出发地、目的地信息</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>开始时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>startTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>行程开始时间</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>结束时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>endTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>行程结束时间</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>提醒时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>reminderTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>2小时前、4小时前分别提醒</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>日历账户（在日历中对用户体现）</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>displayName</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>生态应用名（建议与应用市场中名称一致）</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>备注</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>description</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>可补充检票口信息、座位号信息</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>一键服务</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>ServiceType</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>calendarManager.ServiceType.TRIP</p> </td> </tr>  </tbody></table></div> </div> <ol><li><span>创建日程。</span><p></p><div _ngcontent-gqq-c106="" class="highlight-div"><div _ngcontent-gqq-c106="" class="highlight-div-header"><div _ngcontent-gqq-c106="" class="highlight-div-header-left"><div _ngcontent-gqq-c106="" class="handle-button expand-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gqq-c106="" class="highlight-div-header-right"><div _ngcontent-gqq-c106="" class="handle-button ai-button"></div><div _ngcontent-gqq-c106="" class="handle-button line-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gqq-c106="" class="handle-button theme-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gqq-c106="" class="handle-button copy-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gqq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Index.ets</span></li><li><span class="hljs-keyword">import</span> { calendarMgr } <span class="hljs-keyword">from</span> <span class="hljs-string">'../entryability/EntryAbility'</span>;</li><li><span class="hljs-keyword">import</span> { calendarManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CalendarKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">tripCalendar</span>: calendarManager.<span class="hljs-property">Calendar</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">oriEvent</span>: calendarManager.<span class="hljs-property">Event</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-title function_">createTripCalendarAndEvent</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {</li><li>  <span class="hljs-comment">// 指定日历账户信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">calendarAccount</span>: calendarManager.<span class="hljs-property">CalendarAccount</span> = {</li><li>    <span class="hljs-attr">name</span>: <span class="hljs-string">'TripCalendar'</span>,</li><li>    <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">CalendarType</span>.<span class="hljs-property">LOCAL</span>,</li><li>    <span class="hljs-comment">// 日历账户显示名称：建议使用应用实际名称。</span></li><li>    <span class="hljs-attr">displayName</span>: <span class="hljs-string">'高铁出行'</span></li><li>  };</li><li>  <span class="hljs-comment">// 日历配置信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">config</span>: calendarManager.<span class="hljs-property">CalendarConfig</span> = {</li><li>    <span class="hljs-comment">// 设置日历账户颜色</span></li><li>    <span class="hljs-attr">color</span>: <span class="hljs-string">'#aabbcc'</span></li><li>  };</li><li>  <span class="hljs-keyword">const</span> startTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2025-10-01T08:17:00'</span>).<span class="hljs-title function_">getTime</span>();</li><li>  <span class="hljs-keyword">const</span> endTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2025-10-01T12:51:00'</span>).<span class="hljs-title function_">getTime</span>();</li><li>  <span class="hljs-comment">// 日程配置信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">event</span>: calendarManager.<span class="hljs-property">Event</span> = {</li><li>    <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">EventType</span>.<span class="hljs-property">NORMAL</span>,</li><li>    <span class="hljs-comment">// 日程标题</span></li><li>    <span class="hljs-attr">title</span>: <span class="hljs-string">'行程信息：G107 上海虹桥-北京南'</span>,</li><li>    <span class="hljs-comment">// 开始时间</span></li><li>    <span class="hljs-attr">startTime</span>: startTime,</li><li>    <span class="hljs-comment">// 结束时间</span></li><li>    <span class="hljs-attr">endTime</span>: endTime,</li><li>    <span class="hljs-comment">// 是否全天日程</span></li><li>    <span class="hljs-attr">isAllDay</span>:<span class="hljs-literal">false</span>,</li><li>    <span class="hljs-comment">// 提醒时间</span></li><li>    <span class="hljs-attr">reminderTime</span>:[<span class="hljs-number">120</span>, <span class="hljs-number">240</span>],</li><li>    <span class="hljs-comment">// 备注</span></li><li>    <span class="hljs-attr">description</span>: <span class="hljs-string">'检票口：南二楼1口或北广场B2候车室 \n座位号：02车04二等座'</span>,</li><li>    <span class="hljs-comment">// 一键服务</span></li><li>    <span class="hljs-attr">service</span>: {</li><li>      <span class="hljs-comment">// 服务类型</span></li><li>      <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">ServiceType</span>.<span class="hljs-property">TRIP</span>,</li><li>      <span class="hljs-comment">// 服务的uri，格式为DeepLink类型。请根据“</span><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/calendar-service" target="_blank"><span class="hljs-comment">一键服务</span></a><span class="hljs-comment">”指导文档配置。</span></li><li>      <span class="hljs-attr">uri</span>: <span class="hljs-string">'demo://mobile/player?params='</span></li><li>    }</li><li>  }</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 创建日历账户</span></li><li>    tripCalendar = <span class="hljs-keyword">await</span> calendarMgr?.<span class="hljs-title function_">createCalendar</span>(calendarAccount);</li><li>    <span class="hljs-keyword">if</span> (!tripCalendar || tripCalendar === <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to create calendar. tripCalendar is null.'</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 请确保日历账户创建成功后，再进行相关日程的管理</span></li><li>    <span class="hljs-comment">// 设置日历配置信息，设置日历账户颜色</span></li><li>    <span class="hljs-keyword">await</span> tripCalendar.<span class="hljs-title function_">setConfig</span>(config);</li><li>    <span class="hljs-comment">// 添加日程</span></li><li>    id = <span class="hljs-keyword">await</span> tripCalendar.<span class="hljs-title function_">addEvent</span>(event);</li><li>    oriEvent = event;</li><li>    oriEvent.<span class="hljs-property">id</span> = id;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in creating calendar and event, result: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(id)}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create calendar or event. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> <p></p></li><li><span>查询日程。</span><p></p><div _ngcontent-gqq-c106="" class="highlight-div"><div _ngcontent-gqq-c106="" class="highlight-div-header"><div _ngcontent-gqq-c106="" class="highlight-div-header-left"><div _ngcontent-gqq-c106="" class="handle-button expand-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gqq-c106="" class="highlight-div-header-right"><div _ngcontent-gqq-c106="" class="handle-button ai-button"></div><div _ngcontent-gqq-c106="" class="handle-button line-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gqq-c106="" class="handle-button theme-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gqq-c106="" class="handle-button copy-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gqq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Index.ets</span></li><li><span class="hljs-keyword">async</span> <span class="hljs-title function_">getTripEvent</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {</li><li>  <span class="hljs-comment">// 校验calendar是否为空</span></li><li>  <span class="hljs-keyword">if</span> (!tripCalendar || tripCalendar === <span class="hljs-literal">null</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to get event, calendar is null.'</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 查询行程</span></li><li>    <span class="hljs-keyword">const</span> filter = calendarManager.<span class="hljs-property">EventFilter</span>.<span class="hljs-title function_">filterById</span>([id]);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">data</span>: calendarManager.<span class="hljs-property">Event</span>[] = <span class="hljs-keyword">await</span> tripCalendar.<span class="hljs-title function_">getEvents</span>(filter, [<span class="hljs-string">'title'</span>, <span class="hljs-string">'type'</span>, <span class="hljs-string">'startTime'</span>, <span class="hljs-string">'endTime'</span>]);</li><li>    <span class="hljs-keyword">if</span> (data &amp;&amp; data.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {</li><li>      oriEvent = data[<span class="hljs-number">0</span>];</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting events, data -&gt; <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get events. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> <p></p></li><li><span>更新日程。</span><p></p><div _ngcontent-gqq-c106="" class="highlight-div"><div _ngcontent-gqq-c106="" class="highlight-div-header"><div _ngcontent-gqq-c106="" class="highlight-div-header-left"><div _ngcontent-gqq-c106="" class="handle-button expand-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gqq-c106="" class="highlight-div-header-right"><div _ngcontent-gqq-c106="" class="handle-button ai-button"></div><div _ngcontent-gqq-c106="" class="handle-button line-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gqq-c106="" class="handle-button theme-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gqq-c106="" class="handle-button copy-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gqq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Index.ets</span></li><li><span class="hljs-keyword">async</span> <span class="hljs-title function_">updateTripEvent</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {</li><li>  <span class="hljs-comment">// 校验calendar是否为空</span></li><li>  <span class="hljs-keyword">if</span> (!tripCalendar || tripCalendar === <span class="hljs-literal">null</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to update event, calendar is null.'</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">if</span> (!oriEvent || oriEvent === <span class="hljs-literal">null</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to update event, oriEvent is null'</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-comment">// 修改行程的开始时间startTime和结束时间endTime</span></li><li>  oriEvent.<span class="hljs-property">startTime</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2025-10-01T07:03:00'</span>).<span class="hljs-title function_">getTime</span>();</li><li>  oriEvent.<span class="hljs-property">endTime</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2025-10-01T11:51:00'</span>).<span class="hljs-title function_">getTime</span>();</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 更新行程</span></li><li>    <span class="hljs-keyword">await</span> tripCalendar.<span class="hljs-title function_">updateEvent</span>(oriEvent);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in updating event"</span>);</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to update event. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> <p></p></li><li><span>删除日程。</span><p></p><div _ngcontent-gqq-c106="" class="highlight-div"><div _ngcontent-gqq-c106="" class="highlight-div-header"><div _ngcontent-gqq-c106="" class="highlight-div-header-left"><div _ngcontent-gqq-c106="" class="handle-button expand-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gqq-c106="" class="highlight-div-header-right"><div _ngcontent-gqq-c106="" class="handle-button ai-button"></div><div _ngcontent-gqq-c106="" class="handle-button line-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gqq-c106="" class="handle-button theme-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gqq-c106="" class="handle-button copy-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gqq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Index.ets</span></li><li><span class="hljs-keyword">async</span> <span class="hljs-title function_">deleteTripEvent</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {</li><li>  <span class="hljs-comment">// 校验calendar是否为空</span></li><li>  <span class="hljs-keyword">if</span> (!tripCalendar || tripCalendar === <span class="hljs-literal">null</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to delete event, calendar is null.'</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 删除行程</span></li><li>    <span class="hljs-keyword">await</span> tripCalendar.<span class="hljs-title function_">deleteEvent</span>(id);</li><li>    oriEvent = <span class="hljs-literal">null</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in deleting Event`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to delete Event, Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> <p></p></li></ol> <p>示意图如下：</p> <p><span><img originheight="1183" originwidth="522" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114516.55645673473815144061420303278516:50001231000000:2800:4754AADC372E19549B6510FC0BD89549FB7101A955343CC04F84B785047BB30C.png" width="522" height="1183"></span></p> <div class="tiledSection"><h3 id="section165321554171416">酒店住宿场景<i class="anchor-icon anchor-icon-link" anchorid="section165321554171416" tips="复制节点链接"></i></h3><p>下表列出了该场景中主要字段的推荐配置及其说明：</p> </div>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.14.1.4.1.1" valign="top" width="33.33333333333333%"><p>字段名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.1.4.1.2" valign="top" width="33.33333333333333%"><p>对应设置项</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.1.4.1.3" valign="top" width="33.33333333333333%"><p>建议取值</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>日程标题</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>title</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>酒店入住信息（酒店标题地址）</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>地点</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-calendarmanager#location" target="_blank">location</a></p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>酒店的地理位置</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>开始时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>startTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>入住时间</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>结束时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>endTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>离店时间</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>全天日程</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>isAllDay</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>true：表示添加全天日程。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>提醒时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>reminderTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>0：全天日程时表示当天上午9点提醒（非全天日程则是日程开始时间）。</p> <p>1440：表示前一天上午9点提醒。</p> <p>不填时，默认为不提醒。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>日历账户（在日历中对用户体现）</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>displayName</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>生态应用名（建议与应用市场中名称一致）</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>备注</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>description</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>可补充入住时间、离店时间信息</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>一键服务</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>ServiceType</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>calendarManager.ServiceType.Trip</p> </td> </tr>  </tbody></table></div> </div> <p>创建日程示例和示意图如下：</p> <div _ngcontent-gqq-c106="" class="highlight-div"><div _ngcontent-gqq-c106="" class="highlight-div-header"><div _ngcontent-gqq-c106="" class="highlight-div-header-left"><div _ngcontent-gqq-c106="" class="handle-button expand-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gqq-c106="" class="highlight-div-header-right"><div _ngcontent-gqq-c106="" class="handle-button ai-button"></div><div _ngcontent-gqq-c106="" class="handle-button line-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gqq-c106="" class="handle-button theme-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gqq-c106="" class="handle-button copy-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gqq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Index.ets</span></li><li><span class="hljs-keyword">async</span> <span class="hljs-title function_">createHotelCalendarAndEvent</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {</li><li>  <span class="hljs-comment">// 指定日历账户信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">calendarAccount</span>: calendarManager.<span class="hljs-property">CalendarAccount</span> = {</li><li>    <span class="hljs-attr">name</span>: <span class="hljs-string">'hotelCalendar'</span>,</li><li>    <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">CalendarType</span>.<span class="hljs-property">LOCAL</span>,</li><li>    <span class="hljs-comment">// 日历账户显示名称：建议使用应用实际名称。</span></li><li>    <span class="hljs-attr">displayName</span>: <span class="hljs-string">'酒店住宿'</span></li><li>  };</li><li>  <span class="hljs-comment">// 日历配置信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">config</span>: calendarManager.<span class="hljs-property">CalendarConfig</span> = {</li><li>    <span class="hljs-comment">// 设置日历账户颜色</span></li><li>    <span class="hljs-attr">color</span>: <span class="hljs-string">'#aabbcc'</span></li><li>  };</li><li>  <span class="hljs-keyword">const</span> startTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2025-05-01T15:00:00'</span>).<span class="hljs-title function_">getTime</span>();</li><li>  <span class="hljs-keyword">const</span> endTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2025-05-02T12:00:00'</span>).<span class="hljs-title function_">getTime</span>();</li><li>  <span class="hljs-comment">// 日程配置信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">event</span>: calendarManager.<span class="hljs-property">Event</span> = {</li><li>    <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">EventType</span>.<span class="hljs-property">NORMAL</span>,</li><li>    <span class="hljs-attr">title</span>: <span class="hljs-string">'入住信息:酒店(上海新天地店)'</span>,</li><li>    <span class="hljs-attr">location</span>: {</li><li>      <span class="hljs-attr">location</span>: <span class="hljs-string">'上海新天地'</span>,</li><li>      <span class="hljs-attr">longitude</span>: <span class="hljs-number">121.47506199999998</span>,</li><li>      <span class="hljs-attr">latitude</span>: <span class="hljs-number">31.219150000000013</span></li><li>    },</li><li>    <span class="hljs-attr">startTime</span>: startTime,</li><li>    <span class="hljs-attr">endTime</span>: endTime,</li><li>    <span class="hljs-attr">isAllDay</span>: <span class="hljs-literal">true</span>,</li><li>    <span class="hljs-comment">// 提醒时间：全天日程是按9点往前计算分钟数</span></li><li>    <span class="hljs-attr">reminderTime</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">1440</span>],</li><li>    <span class="hljs-attr">description</span>: <span class="hljs-string">'入住:15:00后\n离店:12:00前'</span>,</li><li>    <span class="hljs-comment">// 一键服务</span></li><li>    <span class="hljs-attr">service</span>: {</li><li>      <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">ServiceType</span>.<span class="hljs-property">TRIP</span>,</li><li>      <span class="hljs-attr">uri</span>: <span class="hljs-string">'demo://mobile/player?params='</span></li><li>    }</li><li>  }</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 创建日历账户</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">data</span>: calendarManager.<span class="hljs-property">Calendar</span> | <span class="hljs-literal">undefined</span>= <span class="hljs-keyword">await</span> calendarMgr?.<span class="hljs-title function_">createCalendar</span>(calendarAccount);</li><li>    <span class="hljs-keyword">if</span> (!data || data === <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to create calendar. data is null.'</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 请确保日历账户创建成功后，再进行相关日程的管理</span></li><li>    <span class="hljs-comment">// 设置日历配置信息，设置日历账户颜色</span></li><li>    <span class="hljs-keyword">await</span> data.<span class="hljs-title function_">setConfig</span>(config);</li><li>    <span class="hljs-comment">// 添加日程</span></li><li>    id = <span class="hljs-keyword">await</span> data.<span class="hljs-title function_">addEvent</span>(event);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in creating calendar and event, result: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(id)}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create calendar or event. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img height="1153.1100000000001" originheight="1176" originwidth="534" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114516.86968833703295307966309184182011:50001231000000:2800:65CB9C75DA8E4823FCB1476A8F23EFA6ABDE55DADACCBE495DF81F3DDA06071F.png" title="点击放大" width="523.6875"></span></p> <div class="tiledSection"><h3 id="section6573440191615">直播预约场景<i class="anchor-icon anchor-icon-link" anchorid="section6573440191615" tips="复制节点链接"></i></h3><p>下表列出了该场景中主要字段的推荐配置及其说明：</p> </div>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.19.1.4.1.1" valign="top" width="33.33333333333333%"><p>字段名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.1.4.1.2" valign="top" width="33.33333333333333%"><p>对应设置项</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.1.4.1.3" valign="top" width="33.33333333333333%"><p>建议取值</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>日程标题</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>title</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>直播名称</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>开始时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>startTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>直播开始时间</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>结束时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>endTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>直播结束时间</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>提醒时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>reminderTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>准时、10分钟前分别提醒</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>日历账户（在日历中对用户体现）</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>displayName</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>生态应用名（建议与应用市场中名称一致）</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>备注</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>description</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>可补充直播相关详情介绍</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>一键服务</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>ServiceType</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>calendarManager.ServiceType.Live</p> </td> </tr>  </tbody></table></div> </div> <p>创建日程示例和示意图如下：</p> <div _ngcontent-gqq-c106="" class="highlight-div"><div _ngcontent-gqq-c106="" class="highlight-div-header"><div _ngcontent-gqq-c106="" class="highlight-div-header-left"><div _ngcontent-gqq-c106="" class="handle-button expand-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gqq-c106="" class="highlight-div-header-right"><div _ngcontent-gqq-c106="" class="handle-button ai-button"></div><div _ngcontent-gqq-c106="" class="handle-button line-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gqq-c106="" class="handle-button theme-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gqq-c106="" class="handle-button copy-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gqq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Index.ets</span></li><li><span class="hljs-keyword">async</span> <span class="hljs-title function_">createLiveCalendarAndEvent</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {</li><li>  <span class="hljs-comment">// 指定日历账户信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">calendarAccount</span>: calendarManager.<span class="hljs-property">CalendarAccount</span> = {</li><li>    <span class="hljs-attr">name</span>: <span class="hljs-string">'liveCalendar'</span>,</li><li>    <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">CalendarType</span>.<span class="hljs-property">LOCAL</span>,</li><li>    <span class="hljs-comment">// 日历账户显示名称：建议使用应用实际名称。</span></li><li>    <span class="hljs-attr">displayName</span>: <span class="hljs-string">'直播抢购'</span></li><li>  };</li><li>  <span class="hljs-comment">// 日历配置信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">config</span>: calendarManager.<span class="hljs-property">CalendarConfig</span> = {</li><li>    <span class="hljs-comment">// 设置日历账户颜色</span></li><li>    <span class="hljs-attr">color</span>: <span class="hljs-string">'#aabbcc'</span></li><li>  };</li><li>  <span class="hljs-keyword">const</span> startTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2025-11-04T21:00:00'</span>).<span class="hljs-title function_">getTime</span>();</li><li>  <span class="hljs-keyword">const</span> endTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2025-11-04T22:00:00'</span>).<span class="hljs-title function_">getTime</span>();</li><li>  <span class="hljs-comment">// 日程配置信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">event</span>: calendarManager.<span class="hljs-property">Event</span> = {</li><li>    <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">EventType</span>.<span class="hljs-property">NORMAL</span>,</li><li>    <span class="hljs-attr">title</span>: <span class="hljs-string">'直播抢购'</span>,</li><li>    <span class="hljs-attr">startTime</span>: startTime,</li><li>    <span class="hljs-attr">endTime</span>: endTime,</li><li>    <span class="hljs-attr">isAllDay</span>: <span class="hljs-literal">false</span>,</li><li>    <span class="hljs-attr">reminderTime</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">10</span>],</li><li>    <span class="hljs-attr">description</span>: <span class="hljs-string">'限时特惠,秋季最大福利就在直播间'</span>,</li><li>    <span class="hljs-comment">// 一键服务</span></li><li>    <span class="hljs-attr">service</span>: {</li><li>      <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">ServiceType</span>.<span class="hljs-property">LIVE</span>,</li><li>      <span class="hljs-attr">uri</span>: <span class="hljs-string">'demo://mobile/player?params='</span></li><li>    }</li><li>  }</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 创建日历账户</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">data</span>: calendarManager.<span class="hljs-property">Calendar</span> | <span class="hljs-literal">undefined</span>= <span class="hljs-keyword">await</span> calendarMgr?.<span class="hljs-title function_">createCalendar</span>(calendarAccount);</li><li>    <span class="hljs-keyword">if</span> (!data || data === <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to create calendar. data is null.'</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 请确保日历账户创建成功后，再进行相关日程的管理</span></li><li>    <span class="hljs-comment">// 设置日历配置信息，设置日历账户颜色</span></li><li>    <span class="hljs-keyword">await</span> data.<span class="hljs-title function_">setConfig</span>(config);</li><li>    <span class="hljs-comment">// 添加日程</span></li><li>    id = <span class="hljs-keyword">await</span> data.<span class="hljs-title function_">addEvent</span>(event);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in creating calendar and event, result: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(id)}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create calendar or event. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="1177" originwidth="519" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114516.73778070352048847993975215031839:50001231000000:2800:65FAC6364D4FB75AB5CD4D893BC20985082B0572B58FC6119EA8C41DF2B52CF3.png" width="519" height="1177"></span></p> <div class="tiledSection"><h3 id="section151963168204">抢购预约场景<i class="anchor-icon anchor-icon-link" anchorid="section151963168204" tips="复制节点链接"></i></h3><p>下表列出了该场景中主要字段的推荐配置及其说明：</p> </div>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.24.1.4.1.1" valign="top" width="33.33333333333333%"><p>字段名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.24.1.4.1.2" valign="top" width="33.33333333333333%"><p>对应设置项</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.24.1.4.1.3" valign="top" width="33.33333333333333%"><p>建议取值</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>日程标题</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>title</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>购物节（抢购活动）名称</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>开始时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>startTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>抢购开始时间</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>结束时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>endTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>抢购结束时间</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>提醒时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>reminderTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>准时、10分钟前分别提醒</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>日历账户（在日历中对用户体现）</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>displayName</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>生态应用名（建议与应用市场中名称一致）</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>备注</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>description</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>可补充购物节相关介绍</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>一键服务</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>ServiceType</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>calendarManager.ServiceType.Shopping</p> </td> </tr>  </tbody></table></div> </div> <p>创建日程示例和示意图如下：</p> <div _ngcontent-gqq-c106="" class="highlight-div"><div _ngcontent-gqq-c106="" class="highlight-div-header"><div _ngcontent-gqq-c106="" class="highlight-div-header-left"><div _ngcontent-gqq-c106="" class="handle-button expand-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gqq-c106="" class="highlight-div-header-right"><div _ngcontent-gqq-c106="" class="handle-button ai-button"></div><div _ngcontent-gqq-c106="" class="handle-button line-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gqq-c106="" class="handle-button theme-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gqq-c106="" class="handle-button copy-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gqq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Index.ets</span></li><li><span class="hljs-keyword">async</span> <span class="hljs-title function_">createShoppingCalendarAndEvent</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {</li><li>  <span class="hljs-comment">// 指定日历账户信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">calendarAccount</span>: calendarManager.<span class="hljs-property">CalendarAccount</span> = {</li><li>    <span class="hljs-attr">name</span>: <span class="hljs-string">'shoppingCalendar'</span>,</li><li>    <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">CalendarType</span>.<span class="hljs-property">LOCAL</span>,</li><li>    <span class="hljs-comment">// 日历账户显示名称：建议使用应用实际名称。</span></li><li>    <span class="hljs-attr">displayName</span>: <span class="hljs-string">'购物'</span></li><li>  };</li><li>  <span class="hljs-comment">// 日历配置信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">config</span>: calendarManager.<span class="hljs-property">CalendarConfig</span> = {</li><li>    <span class="hljs-comment">// 设置日历账户颜色</span></li><li>    <span class="hljs-attr">color</span>: <span class="hljs-string">'#aabbcc'</span></li><li>  };</li><li>  <span class="hljs-keyword">const</span> startTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2025-12-19T19:00:00'</span>).<span class="hljs-title function_">getTime</span>();</li><li>  <span class="hljs-keyword">const</span> endTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2025-12-19T20:00:00'</span>).<span class="hljs-title function_">getTime</span>();</li><li>  <span class="hljs-comment">// 日程配置信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">event</span>: calendarManager.<span class="hljs-property">Event</span> = {</li><li>    <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">EventType</span>.<span class="hljs-property">NORMAL</span>,</li><li>    <span class="hljs-attr">title</span>: <span class="hljs-string">'购物节预热'</span>,</li><li>    <span class="hljs-attr">startTime</span>: startTime,</li><li>    <span class="hljs-attr">endTime</span>: endTime,</li><li>    <span class="hljs-attr">isAllDay</span>: <span class="hljs-literal">false</span>,</li><li>    <span class="hljs-attr">reminderTime</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">10</span>],</li><li>    <span class="hljs-attr">description</span>: <span class="hljs-string">'9.9限时秒杀,还有精彩福利'</span>,</li><li>    <span class="hljs-comment">// 一键服务</span></li><li>    <span class="hljs-attr">service</span>: {</li><li>      <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">ServiceType</span>.<span class="hljs-property">SHOPPING</span>,</li><li>      <span class="hljs-attr">uri</span>: <span class="hljs-string">'demo://mobile/player?params='</span></li><li>    }</li><li>  }</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 创建日历账户</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">data</span>: calendarManager.<span class="hljs-property">Calendar</span> | <span class="hljs-literal">undefined</span>= <span class="hljs-keyword">await</span> calendarMgr?.<span class="hljs-title function_">createCalendar</span>(calendarAccount);</li><li>    <span class="hljs-keyword">if</span> (!data || data === <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to create calendar. data is null.'</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 请确保日历账户创建成功后，再进行相关日程的管理</span></li><li>    <span class="hljs-comment">// 设置日历配置信息，设置日历账户颜色</span></li><li>    <span class="hljs-keyword">await</span> data.<span class="hljs-title function_">setConfig</span>(config);</li><li>    <span class="hljs-comment">// 添加日程</span></li><li>    id = <span class="hljs-keyword">await</span> data.<span class="hljs-title function_">addEvent</span>(event);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in creating calendar and event, result: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(id)}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create calendar or event. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="1177" originwidth="521" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114516.35594674319670654378012253447190:50001231000000:2800:DE6EDBAE48F863246E9B1B76B487FDE7AE6E14DED53BB4ADD15487D04D33E75F.png" width="521" height="1177"></span></p> <div class="tiledSection"><h3 id="section136212156217">还款提醒场景<i class="anchor-icon anchor-icon-link" anchorid="section136212156217" tips="复制节点链接"></i></h3><p>下表列出了该场景中主要字段的推荐配置及其说明：</p> </div>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.29.1.4.1.1" valign="top" width="33.33333333333333%"><p>字段名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.29.1.4.1.2" valign="top" width="33.33333333333333%"><p>对应设置项</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.29.1.4.1.3" valign="top" width="33.33333333333333%"><p>建议取值</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>日程标题</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>title</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>还款提醒</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>开始时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>startTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>还款日日期</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>结束时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>endTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>还款日日期</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>全天日程</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>isAllDay</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>true：表示添加全天日程。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>提醒时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>reminderTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>0：全天日程时表示当天上午9点提醒（非全天日程则是日程开始时间）。</p> <p>不填时，默认为不提醒。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>日历账户（在日历中对用户体现）</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>displayName</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>生态应用名（建议与应用市场中名称一致）</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>备注</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>description</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>可补充待还款金额信息</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>一键服务</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>ServiceType</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>calendarManager.ServiceType.Repayment</p> </td> </tr>  </tbody></table></div> </div> <p>创建日程示例和示意图如下：</p> <div _ngcontent-gqq-c106="" class="highlight-div"><div _ngcontent-gqq-c106="" class="highlight-div-header"><div _ngcontent-gqq-c106="" class="highlight-div-header-left"><div _ngcontent-gqq-c106="" class="handle-button expand-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gqq-c106="" class="highlight-div-header-right"><div _ngcontent-gqq-c106="" class="handle-button ai-button"></div><div _ngcontent-gqq-c106="" class="handle-button line-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gqq-c106="" class="handle-button theme-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gqq-c106="" class="handle-button copy-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gqq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Index.ets</span></li><li><span class="hljs-keyword">async</span> <span class="hljs-title function_">createRepaymentCalendarAndEvent</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {</li><li>  <span class="hljs-comment">// 指定日历账户信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">calendarAccount</span>: calendarManager.<span class="hljs-property">CalendarAccount</span> = {</li><li>    <span class="hljs-attr">name</span>: <span class="hljs-string">'repaymentCalendar'</span>,</li><li>    <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">CalendarType</span>.<span class="hljs-property">LOCAL</span>,</li><li>    <span class="hljs-comment">// 日历账户显示名称：建议使用应用实际名称。</span></li><li>    <span class="hljs-attr">displayName</span>: <span class="hljs-string">'金融理财'</span></li><li>  };</li><li>  <span class="hljs-comment">// 日历配置信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">config</span>: calendarManager.<span class="hljs-property">CalendarConfig</span> = {</li><li>    <span class="hljs-comment">// 设置日历账户颜色</span></li><li>    <span class="hljs-attr">color</span>: <span class="hljs-string">'#aabbcc'</span></li><li>  };</li><li>  <span class="hljs-keyword">const</span> startTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2025-10-20T00:00:00'</span>).<span class="hljs-title function_">getTime</span>();</li><li>  <span class="hljs-keyword">const</span> endTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2025-10-20T23:59:59'</span>).<span class="hljs-title function_">getTime</span>();</li><li>  <span class="hljs-comment">// 日程配置信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">event</span>: calendarManager.<span class="hljs-property">Event</span> = {</li><li>    <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">EventType</span>.<span class="hljs-property">NORMAL</span>,</li><li>    <span class="hljs-attr">title</span>: <span class="hljs-string">'还款提醒'</span>,</li><li>    <span class="hljs-attr">startTime</span>: startTime,</li><li>    <span class="hljs-attr">endTime</span>: endTime,</li><li>    <span class="hljs-attr">isAllDay</span>: <span class="hljs-literal">true</span>,</li><li>    <span class="hljs-comment">// 全天日程时，提醒时间为0表示当天上午9点提醒</span></li><li>    <span class="hljs-attr">reminderTime</span>: [<span class="hljs-number">0</span>],</li><li>    <span class="hljs-attr">description</span>: <span class="hljs-string">'本月账单：待还款10989.35元'</span>,</li><li>    <span class="hljs-comment">// 一键服务</span></li><li>    <span class="hljs-attr">service</span>: {</li><li>      <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">ServiceType</span>.<span class="hljs-property">REPAYMENT</span>,</li><li>      <span class="hljs-attr">uri</span>: <span class="hljs-string">'demo://mobile/player?params='</span></li><li>    }</li><li>  }</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 创建日历账户</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">data</span>: calendarManager.<span class="hljs-property">Calendar</span> | <span class="hljs-literal">undefined</span>= <span class="hljs-keyword">await</span> calendarMgr?.<span class="hljs-title function_">createCalendar</span>(calendarAccount);</li><li>    <span class="hljs-keyword">if</span> (!data || data === <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to create calendar. data is null.'</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 请确保日历账户创建成功后，再进行相关日程的管理</span></li><li>    <span class="hljs-comment">// 设置日历配置信息，设置日历账户颜色</span></li><li>    <span class="hljs-keyword">await</span> data.<span class="hljs-title function_">setConfig</span>(config);</li><li>    <span class="hljs-comment">// 添加日程</span></li><li>    id = <span class="hljs-keyword">await</span> data.<span class="hljs-title function_">addEvent</span>(event);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in creating calendar and event, result: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(id)}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create calendar or event. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="1179" originwidth="515" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114516.26472948879288554735552605516316:50001231000000:2800:87D11DA8E0814B498CC2DA02E717B23E9A4D28BA0568A6F8802F7AA45205F455.png" width="515" height="1179"></span></p> <div class="tiledSection"><h3 id="section14441147142111">课程提醒场景<i class="anchor-icon anchor-icon-link" anchorid="section14441147142111" tips="复制节点链接"></i></h3><p>下表列出了该场景中主要字段的推荐配置及其说明：</p> </div>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.34.1.4.1.1" valign="top" width="33.33333333333333%"><p>字段名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.34.1.4.1.2" valign="top" width="33.33333333333333%"><p>对应设置项</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.34.1.4.1.3" valign="top" width="33.33333333333333%"><p>建议取值</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>日程标题</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>title</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>课程名称</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>开始时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>startTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>课程开始时间</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>结束时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>endTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>课程结束时间</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>提醒时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>reminderTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>准时、10分钟前分别提醒</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>日历账户（在日历中对用户体现）</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>displayName</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>生态应用名（建议与应用市场中名称一致）</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>备注</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>description</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>可补充课程相关介绍</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>一键服务</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>ServiceType</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>calendarManager.ServiceType.Class</p> </td> </tr>  </tbody></table></div> </div> <p>创建日程示例和示意图如下：</p> <div _ngcontent-gqq-c106="" class="highlight-div"><div _ngcontent-gqq-c106="" class="highlight-div-header"><div _ngcontent-gqq-c106="" class="highlight-div-header-left"><div _ngcontent-gqq-c106="" class="handle-button expand-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gqq-c106="" class="highlight-div-header-right"><div _ngcontent-gqq-c106="" class="handle-button ai-button"></div><div _ngcontent-gqq-c106="" class="handle-button line-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gqq-c106="" class="handle-button theme-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gqq-c106="" class="handle-button copy-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gqq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Index.ets</span></li><li><span class="hljs-keyword">async</span> <span class="hljs-title function_">createClassCalendarAndEvent</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {</li><li>  <span class="hljs-comment">// 指定日历账户信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">calendarAccount</span>: calendarManager.<span class="hljs-property">CalendarAccount</span> = {</li><li>    <span class="hljs-attr">name</span>: <span class="hljs-string">'classCalendar'</span>,</li><li>    <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">CalendarType</span>.<span class="hljs-property">LOCAL</span>,</li><li>    <span class="hljs-comment">// 日历账户显示名称：建议使用应用实际名称。</span></li><li>    <span class="hljs-attr">displayName</span>: <span class="hljs-string">'我的课表'</span></li><li>  };</li><li>  <span class="hljs-comment">// 日历配置信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">config</span>: calendarManager.<span class="hljs-property">CalendarConfig</span> = {</li><li>    <span class="hljs-comment">// 设置日历账户颜色</span></li><li>    <span class="hljs-attr">color</span>: <span class="hljs-string">'#aabbcc'</span></li><li>  };</li><li>  <span class="hljs-keyword">const</span> startTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2025-11-03T09:00:00'</span>).<span class="hljs-title function_">getTime</span>();</li><li>  <span class="hljs-keyword">const</span> endTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2025-11-03T09:45:00'</span>).<span class="hljs-title function_">getTime</span>();</li><li>  <span class="hljs-comment">// 日程配置信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">event</span>: calendarManager.<span class="hljs-property">Event</span> = {</li><li>    <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">EventType</span>.<span class="hljs-property">NORMAL</span>,</li><li>    <span class="hljs-attr">title</span>: <span class="hljs-string">'语文课'</span>,</li><li>    <span class="hljs-attr">startTime</span>: startTime,</li><li>    <span class="hljs-attr">endTime</span>: endTime,</li><li>    <span class="hljs-attr">isAllDay</span>: <span class="hljs-literal">false</span>,</li><li>    <span class="hljs-attr">reminderTime</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">10</span>],</li><li>    <span class="hljs-attr">description</span>: <span class="hljs-string">'语文课上课前准备诗歌朗读'</span>,</li><li>    <span class="hljs-comment">// 一键服务</span></li><li>    <span class="hljs-attr">service</span>: {</li><li>      <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">ServiceType</span>.<span class="hljs-property">CLASS</span>,</li><li>      <span class="hljs-attr">uri</span>: <span class="hljs-string">'demo://mobile/player?params='</span></li><li>    }</li><li>  }</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 创建日历账户</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">data</span>: calendarManager.<span class="hljs-property">Calendar</span> | <span class="hljs-literal">undefined</span>= <span class="hljs-keyword">await</span> calendarMgr?.<span class="hljs-title function_">createCalendar</span>(calendarAccount);</li><li>    <span class="hljs-keyword">if</span> (!data || data === <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to create calendar. data is null.'</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 请确保日历账户创建成功后，再进行相关日程的管理</span></li><li>    <span class="hljs-comment">// 设置日历配置信息，设置日历账户颜色</span></li><li>    <span class="hljs-keyword">await</span> data.<span class="hljs-title function_">setConfig</span>(config);</li><li>    <span class="hljs-comment">// 添加日程</span></li><li>    id = <span class="hljs-keyword">await</span> data.<span class="hljs-title function_">addEvent</span>(event);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in creating calendar and event, result: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(id)}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create calendar or event. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="1168" originwidth="515" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114516.56655571999686538628378854080969:50001231000000:2800:4D7F93BDD91162A50E25DCB8296D84DAF127CC28C1F1AE48412F2E64F474D45C.png" width="515" height="1168"></span></p> <div class="tiledSection"><h3 id="section155051037220">影音娱乐场景<i class="anchor-icon anchor-icon-link" anchorid="section155051037220" tips="复制节点链接"></i></h3><p>下表列出了该场景中主要字段的推荐配置及其说明：</p> </div>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.39.1.4.1.1" valign="top" width="33.33333333333333%"><p>字段名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.39.1.4.1.2" valign="top" width="33.33333333333333%"><p>对应设置项</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.39.1.4.1.3" valign="top" width="33.33333333333333%"><p>建议取值</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>日程标题</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>title</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>赛事名称</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>开始时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>startTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>赛事开始时间</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>结束时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>endTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>赛事结束时间</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>提醒时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>reminderTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>准时、10分钟前分别提醒</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>日历账户（在日历中对用户体现）</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>displayName</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>生态应用名（建议与应用市场中名称一致）</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>备注</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>description</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>可补充赛事相关介绍</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>一键服务</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>ServiceType</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>calendarManager.ServiceType.SportsEvents</p> </td> </tr>  </tbody></table></div> </div> <p>创建日程示例和示意图如下：</p> <div _ngcontent-gqq-c106="" class="highlight-div"><div _ngcontent-gqq-c106="" class="highlight-div-header"><div _ngcontent-gqq-c106="" class="highlight-div-header-left"><div _ngcontent-gqq-c106="" class="handle-button expand-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gqq-c106="" class="highlight-div-header-right"><div _ngcontent-gqq-c106="" class="handle-button ai-button"></div><div _ngcontent-gqq-c106="" class="handle-button line-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gqq-c106="" class="handle-button theme-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gqq-c106="" class="handle-button copy-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gqq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Index.ets</span></li><li><span class="hljs-keyword">async</span> <span class="hljs-title function_">createSportsCalendarAndEvent</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {</li><li>  <span class="hljs-comment">// 指定日历账户信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">calendarAccount</span>: calendarManager.<span class="hljs-property">CalendarAccount</span> = {</li><li>    <span class="hljs-attr">name</span>: <span class="hljs-string">'sportsEventsCalendar'</span>,</li><li>    <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">CalendarType</span>.<span class="hljs-property">LOCAL</span>,</li><li>    <span class="hljs-comment">// 日历账户显示名称：建议使用应用实际名称。</span></li><li>    <span class="hljs-attr">displayName</span>: <span class="hljs-string">'足球比赛'</span></li><li>  };</li><li>  <span class="hljs-comment">// 日历配置信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">config</span>: calendarManager.<span class="hljs-property">CalendarConfig</span> = {</li><li>    <span class="hljs-comment">// 设置日历账户颜色</span></li><li>    <span class="hljs-attr">color</span>: <span class="hljs-string">'#aabbcc'</span></li><li>  };</li><li>  <span class="hljs-keyword">const</span> startTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2025-10-19T20:00:00'</span>).<span class="hljs-title function_">getTime</span>();</li><li>  <span class="hljs-keyword">const</span> endTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2025-10-19T21:30:00'</span>).<span class="hljs-title function_">getTime</span>();</li><li>  <span class="hljs-comment">// 日程配置信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">event</span>: calendarManager.<span class="hljs-property">Event</span> = {</li><li>    <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">EventType</span>.<span class="hljs-property">NORMAL</span>,</li><li>    <span class="hljs-attr">title</span>: <span class="hljs-string">'2026年足球联赛'</span>,</li><li>    <span class="hljs-attr">startTime</span>: startTime,</li><li>    <span class="hljs-attr">endTime</span>: endTime,</li><li>    <span class="hljs-attr">isAllDay</span>: <span class="hljs-literal">false</span>,</li><li>    <span class="hljs-attr">reminderTime</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">10</span>],</li><li>    <span class="hljs-attr">description</span>: <span class="hljs-string">'A组 xx队首战'</span>,</li><li>    <span class="hljs-comment">// 一键服务</span></li><li>    <span class="hljs-attr">service</span>: {</li><li>      <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">ServiceType</span>.<span class="hljs-property">SPORTS_EVENTS</span>,</li><li>      <span class="hljs-attr">uri</span>: <span class="hljs-string">'demo://mobile/player?params='</span></li><li>    }</li><li>  }</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 创建日历账户</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">data</span>: calendarManager.<span class="hljs-property">Calendar</span> | <span class="hljs-literal">undefined</span>= <span class="hljs-keyword">await</span> calendarMgr?.<span class="hljs-title function_">createCalendar</span>(calendarAccount);</li><li>    <span class="hljs-keyword">if</span> (!data || data === <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to create calendar. data is null.'</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 请确保日历账户创建成功后，再进行相关日程的管理</span></li><li>    <span class="hljs-comment">// 设置日历配置信息，设置日历账户颜色</span></li><li>    <span class="hljs-keyword">await</span> data.<span class="hljs-title function_">setConfig</span>(config);</li><li>    <span class="hljs-comment">// 添加日程</span></li><li>    id = <span class="hljs-keyword">await</span> data.<span class="hljs-title function_">addEvent</span>(event);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in creating calendar and event, result: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(id)}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create calendar or event. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="1170" originwidth="515" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114516.00530194667197882353612928568855:50001231000000:2800:660592EDA5905B771B3D4382F236DC8AA25074E6B539ABB929C0D464126F8ADB.png" width="515" height="1170"></span></p> <div class="tiledSection"><h3 id="section71701520172220">运动训练场景<i class="anchor-icon anchor-icon-link" anchorid="section71701520172220" tips="复制节点链接"></i></h3><p>下表列出了该场景中主要字段的推荐配置及其说明：</p> </div>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.44.1.4.1.1" valign="top" width="33.33333333333333%"><p>字段名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.44.1.4.1.2" valign="top" width="33.33333333333333%"><p>对应设置项</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.44.1.4.1.3" valign="top" width="33.33333333333333%"><p>建议取值</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>日程标题</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>title</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>训练课程名称</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>开始时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>startTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>训练开始时间</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>结束时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>endTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>训练结束时间</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>提醒时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>reminderTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>准时、30分钟前分别提醒</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>日历账户（在日历中对用户体现）</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>displayName</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>生态应用名（建议与应用市场中名称一致）</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>备注</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>description</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>可补充训练计划相关介绍</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>一键服务</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>ServiceType</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>calendarManager.ServiceType.SportsExercise</p> </td> </tr>  </tbody></table></div> </div> <p>创建日程示例及示意图如下：</p> <div _ngcontent-gqq-c106="" class="highlight-div"><div _ngcontent-gqq-c106="" class="highlight-div-header"><div _ngcontent-gqq-c106="" class="highlight-div-header-left"><div _ngcontent-gqq-c106="" class="handle-button expand-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gqq-c106="" class="highlight-div-header-right"><div _ngcontent-gqq-c106="" class="handle-button ai-button"></div><div _ngcontent-gqq-c106="" class="handle-button line-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gqq-c106="" class="handle-button theme-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gqq-c106="" class="handle-button copy-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gqq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Index.ets</span></li><li><span class="hljs-keyword">async</span> <span class="hljs-title function_">createSportsExerciseEvent</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {</li><li>  <span class="hljs-comment">// 指定日历账户信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">calendarAccount</span>: calendarManager.<span class="hljs-property">CalendarAccount</span> = {</li><li>    <span class="hljs-attr">name</span>: <span class="hljs-string">'sportsExerciseCalendar'</span>,</li><li>    <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">CalendarType</span>.<span class="hljs-property">LOCAL</span>,</li><li>    <span class="hljs-comment">// 日历账户显示名称：建议使用应用实际名称。</span></li><li>    <span class="hljs-attr">displayName</span>: <span class="hljs-string">'运动健康'</span></li><li>  };</li><li>  <span class="hljs-comment">// 日历配置信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">config</span>: calendarManager.<span class="hljs-property">CalendarConfig</span> = {</li><li>    <span class="hljs-comment">// 设置日历账户颜色</span></li><li>    <span class="hljs-attr">color</span>: <span class="hljs-string">'#aabbcc'</span></li><li>  };</li><li>  <span class="hljs-keyword">const</span> startTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2025-10-26T10:30:00'</span>).<span class="hljs-title function_">getTime</span>();</li><li>  <span class="hljs-keyword">const</span> endTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2025-10-26T10:45:00'</span>).<span class="hljs-title function_">getTime</span>();</li><li>  <span class="hljs-comment">// 日程配置信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">event</span>: calendarManager.<span class="hljs-property">Event</span> = {</li><li>    <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">EventType</span>.<span class="hljs-property">NORMAL</span>,</li><li>    <span class="hljs-attr">title</span>: <span class="hljs-string">'健身操·15分钟无跑跳燃脂'</span>,</li><li>    <span class="hljs-attr">startTime</span>: startTime,</li><li>    <span class="hljs-attr">endTime</span>: endTime,</li><li>    <span class="hljs-attr">isAllDay</span>: <span class="hljs-literal">false</span>,</li><li>    <span class="hljs-attr">reminderTime</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">30</span>],</li><li>    <span class="hljs-attr">description</span>: <span class="hljs-string">'训练日第17天'</span>,</li><li>    <span class="hljs-comment">// 一键服务</span></li><li>    <span class="hljs-attr">service</span>: {</li><li>      <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">ServiceType</span>.<span class="hljs-property">SPORTS_EXERCISE</span>,</li><li>      <span class="hljs-attr">uri</span>: <span class="hljs-string">'demo://mobile/player?params='</span></li><li>    }</li><li>  }</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 创建日历账户</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">data</span>: calendarManager.<span class="hljs-property">Calendar</span> | <span class="hljs-literal">undefined</span>= <span class="hljs-keyword">await</span> calendarMgr?.<span class="hljs-title function_">createCalendar</span>(calendarAccount);</li><li>    <span class="hljs-keyword">if</span> (!data || data === <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to create calendar. data is null.'</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 请确保日历账户创建成功后，再进行相关日程的管理</span></li><li>    <span class="hljs-comment">// 设置日历配置信息，设置日历账户颜色</span></li><li>    <span class="hljs-keyword">await</span> data.<span class="hljs-title function_">setConfig</span>(config);</li><li>    <span class="hljs-comment">// 添加日程</span></li><li>    id = <span class="hljs-keyword">await</span> data.<span class="hljs-title function_">addEvent</span>(event);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in creating calendar and event, result: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(id)}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create calendar or event. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="1171" originwidth="520" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114516.84956334937700413077693427201086:50001231000000:2800:08F9D88E4EB0BD566808F228BE79343EDA26433A5053E47874073DE48011202B.png" width="520" height="1171"></span></p> <div class="tiledSection"><h3 id="section0466534112213">会议场景<i class="anchor-icon anchor-icon-link" anchorid="section0466534112213" tips="复制节点链接"></i></h3><p>下表列出了该场景中主要字段的推荐配置及其说明：</p> </div>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.49.1.4.1.1" valign="top" width="33.33333333333333%"><p>字段名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.49.1.4.1.2" valign="top" width="33.33333333333333%"><p>对应设置项</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.49.1.4.1.3" valign="top" width="33.33333333333333%"><p>建议取值</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>日程标题</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>title</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>会议主题</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>开始时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>startTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>会议开始时间</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>结束时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>endTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>会议结束时间</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>与会人</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>attendee</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>与会人信息</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>提醒时间</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>reminderTime</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>准时、15分钟前分别提醒</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>日历账户（在日历中对用户体现）</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>displayName</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>生态应用名（建议与应用市场中名称一致）</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>备注</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>description</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>可补充会议相关介绍</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>一键服务</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>ServiceType</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>calendarManager.ServiceType.Meeting</p> </td> </tr>  </tbody></table></div> </div> <p>创建日程示例和示意图如下：</p> <div _ngcontent-gqq-c106="" class="highlight-div"><div _ngcontent-gqq-c106="" class="highlight-div-header"><div _ngcontent-gqq-c106="" class="highlight-div-header-left"><div _ngcontent-gqq-c106="" class="handle-button expand-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gqq-c106="" class="highlight-div-header-right"><div _ngcontent-gqq-c106="" class="handle-button ai-button"></div><div _ngcontent-gqq-c106="" class="handle-button line-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gqq-c106="" class="handle-button theme-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gqq-c106="" class="handle-button copy-button"><div _ngcontent-gqq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gqq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Index.ets</span></li><li><span class="hljs-keyword">async</span> <span class="hljs-title function_">createMeetingEvent</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {</li><li>  <span class="hljs-comment">// 指定日历账户信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">calendarAccount</span>: calendarManager.<span class="hljs-property">CalendarAccount</span> = {</li><li>    <span class="hljs-attr">name</span>: <span class="hljs-string">'meetingCalendar'</span>,</li><li>    <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">CalendarType</span>.<span class="hljs-property">LOCAL</span>,</li><li>    <span class="hljs-comment">// 日历账户显示名称：建议使用应用实际名称。</span></li><li>    <span class="hljs-attr">displayName</span>: <span class="hljs-string">'会议'</span></li><li>  };</li><li>  <span class="hljs-comment">// 日历配置信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">config</span>: calendarManager.<span class="hljs-property">CalendarConfig</span> = {</li><li>    <span class="hljs-comment">// 设置日历账户颜色</span></li><li>    <span class="hljs-attr">color</span>: <span class="hljs-string">'#aabbcc'</span></li><li>  };</li><li>  <span class="hljs-comment">// 与会人信息</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">attendee</span>: calendarManager.<span class="hljs-property">Attendee</span>[] = [</li><li>    {</li><li>      <span class="hljs-attr">name</span>: <span class="hljs-string">'Chris'</span>,</li><li>      <span class="hljs-attr">email</span>: <span class="hljs-string">'test1@xx.com'</span>,</li><li>      <span class="hljs-attr">role</span>: calendarManager.<span class="hljs-property">AttendeeRole</span>.<span class="hljs-property">ORGANIZER</span></li><li>    },</li><li>    {</li><li>      <span class="hljs-attr">name</span>: <span class="hljs-string">'Jack'</span>,</li><li>      <span class="hljs-attr">email</span>: <span class="hljs-string">'test2@xx.com'</span>,</li><li>      <span class="hljs-attr">role</span>: calendarManager.<span class="hljs-property">AttendeeRole</span>.<span class="hljs-property">PARTICIPANT</span>,</li><li>      <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">AttendeeType</span>.<span class="hljs-property">REQUIRED</span></li><li>    },</li><li>    {</li><li>      <span class="hljs-attr">name</span>: <span class="hljs-string">'Jerry'</span>,</li><li>      <span class="hljs-attr">email</span>: <span class="hljs-string">'test3@xx.com'</span>,</li><li>      <span class="hljs-attr">role</span>: calendarManager.<span class="hljs-property">AttendeeRole</span>.<span class="hljs-property">PARTICIPANT</span>,</li><li>      <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">AttendeeType</span>.<span class="hljs-property">REQUIRED</span></li><li>    }</li><li>  ];</li><li>  <span class="hljs-keyword">const</span> startTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2025-10-20T09:00:00'</span>).<span class="hljs-title function_">getTime</span>();</li><li>  <span class="hljs-keyword">const</span> endTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2025-10-20T10:00:00'</span>).<span class="hljs-title function_">getTime</span>();</li><li>  <span class="hljs-comment">// 日程配置信息</span></li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">event</span>: calendarManager.<span class="hljs-property">Event</span> = {</li><li>    <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">EventType</span>.<span class="hljs-property">NORMAL</span>,</li><li>    <span class="hljs-attr">title</span>: <span class="hljs-string">'xxx会议'</span>,</li><li>    <span class="hljs-attr">startTime</span>: startTime,</li><li>    <span class="hljs-attr">endTime</span>: endTime,</li><li>    <span class="hljs-attr">isAllDay</span>: <span class="hljs-literal">false</span>,</li><li>    <span class="hljs-attr">reminderTime</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">15</span>],</li><li>    <span class="hljs-attr">attendee</span>: attendee,</li><li>    <span class="hljs-attr">description</span>: <span class="hljs-string">'xx事务评审'</span>,</li><li>    <span class="hljs-comment">// 一键服务</span></li><li>    <span class="hljs-attr">service</span>: {</li><li>      <span class="hljs-attr">type</span>: calendarManager.<span class="hljs-property">ServiceType</span>.<span class="hljs-property">MEETING</span>,</li><li>      <span class="hljs-attr">uri</span>: <span class="hljs-string">'demo://mobile/player?params='</span></li><li>    }</li><li>  }</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 创建日历账户</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">data</span>: calendarManager.<span class="hljs-property">Calendar</span> | <span class="hljs-literal">undefined</span>= <span class="hljs-keyword">await</span> calendarMgr?.<span class="hljs-title function_">createCalendar</span>(calendarAccount);</li><li>    <span class="hljs-keyword">if</span> (!data || data === <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to create calendar. data is null.'</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 请确保日历账户创建成功后，再进行相关日程的管理</span></li><li>    <span class="hljs-comment">// 设置日历配置信息，设置日历账户颜色</span></li><li>    <span class="hljs-keyword">await</span> data.<span class="hljs-title function_">setConfig</span>(config);</li><li>    <span class="hljs-comment">// 添加日程</span></li><li>    id = <span class="hljs-keyword">await</span> data.<span class="hljs-title function_">addEvent</span>(event);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in creating calendar and event, result: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(id)}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create calendar or event. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="1165" originwidth="514" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114516.92127291111389946159669113840818:50001231000000:2800:C2D7E29455F4039372C0EF2A9E5B1F7420AA35FBD6401C5AAB210F9482E642E4.png" width="514" height="1165"></span></p> <p></p> </div> <div></div></div>