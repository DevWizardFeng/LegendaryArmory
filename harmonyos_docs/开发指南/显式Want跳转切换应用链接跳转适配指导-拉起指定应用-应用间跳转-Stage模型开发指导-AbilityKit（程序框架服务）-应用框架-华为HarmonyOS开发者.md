<h1 _ngcontent-aeg-c119="" class="doc-title ng-star-inserted" title="显式Want跳转切换应用链接跳转适配指导"> 显式Want跳转切换应用链接跳转适配指导 </h1>

<div _ngcontent-aeg-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>从API 12开始，已不再推荐三方应用使用指定Ability方式（即显式Want）拉起其他应用，推荐通过指定<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-startup-overview#应用链接">应用链接</a>的方式来实现。</p>    <p>本章节介绍如何从显式Want跳转切换到应用链接跳转。</p>    <div class="tiledSection">     <h2 id="启动其他应用的uiability">启动其他应用的UIAbility<i class="anchor-icon anchor-icon-link" anchorid="启动其他应用的uiability" tips="复制节点链接"></i></h2>          <ol>      <li>       <p>将待跳转的应用安装到设备，在其对应UIAbility的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file">module.json5配置文件</a>中配置skills标签的entities字段、actions字段和uri字段：</p>       <ul>        <li>"actions"列表中包含"ohos.want.action.viewData"。</li>        <li>"entities"列表中包含"entity.system.browsable"。</li>        <li>"uris"列表中包含"scheme"为"https"且"domainVerify"为true的元素。uri的匹配规则参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/explicit-implicit-want-mappings#uri匹配规则">uri匹配</a>，domainVerify为true代表开启域名检查，通过App Linking匹配该应用时需经过配置的域名校验后才能匹配到。</li>       </ul>       <div _ngcontent-aeg-c106="" class="highlight-div"><div _ngcontent-aeg-c106="" class="highlight-div-header"><div _ngcontent-aeg-c106="" class="highlight-div-header-left"><div _ngcontent-aeg-c106="" class="handle-button expand-button"><div _ngcontent-aeg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aeg-c106="" class="highlight-div-header-right"><div _ngcontent-aeg-c106="" class="handle-button ai-button"></div><div _ngcontent-aeg-c106="" class="handle-button line-button"><div _ngcontent-aeg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aeg-c106="" class="handle-button theme-button"><div _ngcontent-aeg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aeg-c106="" class="handle-button copy-button"><div _ngcontent-aeg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aeg-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" hw-language="json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span></li><li>  <span class="hljs-attr">"module"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>    <span class="hljs-comment">// ...</span></li><li>    <span class="hljs-attr">"abilities"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>      <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-comment">// ...</span></li><li>        <span class="hljs-attr">"skills"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>          <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"entities"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>              <span class="hljs-string">"entity.system.browsable"</span></li><li>            <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span></li><li>            <span class="hljs-attr">"actions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>              <span class="hljs-string">"ohos.want.action.viewData"</span></li><li>            <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span></li><li>            <span class="hljs-attr">"uris"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>              <span class="hljs-punctuation">{</span></li><li>                <span class="hljs-attr">"scheme"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https"</span><span class="hljs-punctuation">,</span></li><li>                <span class="hljs-attr">"host"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"www.example.com"</span></li><li>              <span class="hljs-punctuation">}</span></li><li>            <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span></li><li>          <span class="hljs-attr">"domainVerify"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span></li><li>          <span class="hljs-punctuation">}</span></li><li>        <span class="hljs-punctuation">]</span></li><li>      <span class="hljs-punctuation">}</span></li><li>    <span class="hljs-punctuation">]</span></li><li>  <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div></li>      <li>       <p>调用方通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext#openlink12" target="_blank">openLink</a>接口执行跳转，需要传入link和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-openlinkoptions" target="_blank">options</a>，不再需要传入bundleName、moduleName和abilityName。系统会根据传入的link匹配到符合skills配置的应用。</p>       <ul>        <li>当options中的appLinkingOnly为true时，匹配到的应用会经过应用市场域名检查（需联网）返回域名校验检查的唯一匹配项或未匹配结果。</li>        <li>当options中的appLinkingOnly为false时，会优先尝试以App Linking的方式拉起，如果没有匹配的应用则改为使用Deep Linking的方式拉起目标应用。</li>       </ul>       <div _ngcontent-aeg-c106="" class="highlight-div"><div _ngcontent-aeg-c106="" class="highlight-div-header"><div _ngcontent-aeg-c106="" class="highlight-div-header-left"><div _ngcontent-aeg-c106="" class="handle-button expand-button"><div _ngcontent-aeg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aeg-c106="" class="highlight-div-header-right"><div _ngcontent-aeg-c106="" class="handle-button ai-button"></div><div _ngcontent-aeg-c106="" class="handle-button line-button"><div _ngcontent-aeg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aeg-c106="" class="handle-button theme-button"><div _ngcontent-aeg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aeg-c106="" class="handle-button copy-button"><div _ngcontent-aeg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aeg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { common, <span class="hljs-title class_">OpenLinkOptions</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">TAG</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'[UIAbilityComponentsOpenLink]'</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">DOMAIN_NUMBER</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0xFF00</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Button</span>(<span class="hljs-string">'start link'</span>, { <span class="hljs-attr">type</span>: <span class="hljs-title class_">ButtonType</span>.<span class="hljs-property">Capsule</span>, <span class="hljs-attr">stateEffect</span>: <span class="hljs-literal">true</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'87%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'5%'</span>)</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">bottom</span>: <span class="hljs-string">'12vp'</span> })</li><li>      .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;</li><li>        <span class="hljs-comment">// 通过startAbility接口显式启动其他UIAbility，推荐使用openLink接口。</span></li><li>        <span class="hljs-comment">// let want: Want = {</span></li><li>        <span class="hljs-comment">//   bundleName: "com.test.example",</span></li><li>        <span class="hljs-comment">//   moduleName: "entry",</span></li><li>        <span class="hljs-comment">//   abilityName: "EntryAbility"</span></li><li>        <span class="hljs-comment">// };</span></li><li>        <span class="hljs-comment">// try {</span></li><li>        <span class="hljs-comment">//   context.startAbility(want)</span></li><li>        <span class="hljs-comment">//     .then(() =&gt; {</span></li><li>        <span class="hljs-comment">//       hilog.info(DOMAIN_NUMBER, TAG, 'startAbility success.');</span></li><li>        <span class="hljs-comment">//     }).catch((err: BusinessError) =&gt; {</span></li><li>        <span class="hljs-comment">//       hilog.error(DOMAIN_NUMBER, TAG, `startAbility failed. Code is ${err.code}, message is ${err.message}`);</span></li><li>        <span class="hljs-comment">//     })</span></li><li>        <span class="hljs-comment">// } catch (paramError) {</span></li><li>        <span class="hljs-comment">//   hilog.error(DOMAIN_NUMBER, TAG, `Failed to startAbility. Code is ${paramError.code}, message is ${paramError.message}`);</span></li><li>        <span class="hljs-comment">// }</span></li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">link</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"https://www.example.com"</span>;</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">openLinkOptions</span>: <span class="hljs-title class_">OpenLinkOptions</span> = {</li><li>          <span class="hljs-comment">// 匹配的abilities选项是否需要通过App Linking域名校验，匹配到唯一配置过的应用ability</span></li><li>          <span class="hljs-attr">appLinkingOnly</span>: <span class="hljs-literal">true</span>,</li><li>          <span class="hljs-comment">// 同want中的parameter，用于传递的参数</span></li><li>          <span class="hljs-attr">parameters</span>: {<span class="hljs-attr">demo_key</span>: <span class="hljs-string">"demo_value"</span>}</li><li>        };</li><li>
</li><li>        <span class="hljs-keyword">try</span> {</li><li>          context.<span class="hljs-title function_">openLink</span>(link, openLinkOptions)</li><li>            .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN_NUMBER</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'open link success.'</span>);</li><li>            }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>              hilog.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">DOMAIN_NUMBER</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`open link failed. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>            })</li><li>        } <span class="hljs-keyword">catch</span> (paramError) {</li><li>          hilog.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">DOMAIN_NUMBER</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`Failed to start link. Code is <span class="hljs-subst">${paramError.code}</span>, message is <span class="hljs-subst">${paramError.message}</span>`</span>);</li><li>        }</li><li>      })</li><li>  }</li><li>}</li></ol></pre></div></div></li>     </ol>    </div>    <div class="tiledSection">     <h2 id="启动其他应用的uiability并获取返回结果">启动其他应用的UIAbility并获取返回结果<i class="anchor-icon anchor-icon-link" anchorid="启动其他应用的uiability并获取返回结果" tips="复制节点链接"></i></h2>          <ol>      <li>       <p>将待跳转的应用安装到设备，在其对应UIAbility的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file">module.json5配置文件</a>中配置skills标签的entities字段、actions字段和uri字段：</p>       <ul>        <li>"actions"列表中包含"ohos.want.action.viewData"。</li>        <li>"entities"列表中包含"entity.system.browsable"。</li>        <li>"uris"列表中包含"scheme"为"https"且"domainVerify"为true的元素。uri的匹配规则参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/explicit-implicit-want-mappings#uri匹配规则">uri匹配</a>，domainVerify为true代表开启域名检查，通过App Linking匹配该应用时需经过配置的域名校验后才能匹配到。</li>       </ul>       <div _ngcontent-aeg-c106="" class="highlight-div"><div _ngcontent-aeg-c106="" class="highlight-div-header"><div _ngcontent-aeg-c106="" class="highlight-div-header-left"><div _ngcontent-aeg-c106="" class="handle-button expand-button"><div _ngcontent-aeg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aeg-c106="" class="highlight-div-header-right"><div _ngcontent-aeg-c106="" class="handle-button ai-button"></div><div _ngcontent-aeg-c106="" class="handle-button line-button"><div _ngcontent-aeg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aeg-c106="" class="handle-button theme-button"><div _ngcontent-aeg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aeg-c106="" class="handle-button copy-button"><div _ngcontent-aeg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aeg-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" hw-language="json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span></li><li>  <span class="hljs-attr">"module"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>    <span class="hljs-comment">// ...</span></li><li>    <span class="hljs-attr">"abilities"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>      <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-comment">// ...</span></li><li>        <span class="hljs-attr">"skills"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>          <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"entities"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>              <span class="hljs-string">"entity.system.browsable"</span></li><li>            <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span></li><li>            <span class="hljs-attr">"actions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>              <span class="hljs-string">"ohos.want.action.viewData"</span></li><li>            <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span></li><li>            <span class="hljs-attr">"uris"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>              <span class="hljs-punctuation">{</span></li><li>                <span class="hljs-attr">"scheme"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https"</span><span class="hljs-punctuation">,</span></li><li>                <span class="hljs-attr">"host"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"www.example.com"</span></li><li>              <span class="hljs-punctuation">}</span></li><li>            <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span></li><li>          <span class="hljs-attr">"domainVerify"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span></li><li>          <span class="hljs-punctuation">}</span></li><li>        <span class="hljs-punctuation">]</span></li><li>      <span class="hljs-punctuation">}</span></li><li>    <span class="hljs-punctuation">]</span></li><li>  <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div></li>      <li>       <p>调用方通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext#openlink12" target="_blank">openLink</a>接口执行跳转，需要传入link和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-openlinkoptions" target="_blank">options</a>，不再需要传入bundleName、moduleName和abilityName。系统会根据传入的link匹配到符合skills配置的应用。AbilityResult回调结果通过入参传入回调函数，在被启动的UIAbility停止自身后返回给调用方。启动成功和失败结果仍通过Promise返回。</p>       <ul>        <li>当options中的appLinkingOnly为true时，匹配到的应用会经过应用市场域名检查（需联网）返回域名校验检查的唯一匹配项或未匹配结果。</li>        <li>当options中的appLinkingOnly为false时，会优先尝试以App Linking的方式拉起，如果没有匹配的应用则改为使用Deep Linking的方式拉起目标应用。</li>       </ul>       <div _ngcontent-aeg-c106="" class="highlight-div"><div _ngcontent-aeg-c106="" class="highlight-div-header"><div _ngcontent-aeg-c106="" class="highlight-div-header-left"><div _ngcontent-aeg-c106="" class="handle-button expand-button"><div _ngcontent-aeg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aeg-c106="" class="highlight-div-header-right"><div _ngcontent-aeg-c106="" class="handle-button ai-button"></div><div _ngcontent-aeg-c106="" class="handle-button line-button"><div _ngcontent-aeg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aeg-c106="" class="handle-button theme-button"><div _ngcontent-aeg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aeg-c106="" class="handle-button copy-button"><div _ngcontent-aeg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aeg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { common, <span class="hljs-title class_">OpenLinkOptions</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">TAG</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'[UIAbilityComponentsOpenLink]'</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">DOMAIN_NUMBER</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0xFF00</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Button</span>(<span class="hljs-string">'start link'</span>, { <span class="hljs-attr">type</span>: <span class="hljs-title class_">ButtonType</span>.<span class="hljs-property">Capsule</span>, <span class="hljs-attr">stateEffect</span>: <span class="hljs-literal">true</span> })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'87%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'5%'</span>)</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">bottom</span>: <span class="hljs-string">'12vp'</span> })</li><li>      .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;</li><li>        <span class="hljs-comment">// 通过startAbility接口显式启动其他UIAbility，推荐使用openLink接口。</span></li><li>        <span class="hljs-comment">// let want: Want = {</span></li><li>        <span class="hljs-comment">//   bundleName: "com.test.example",</span></li><li>        <span class="hljs-comment">//   moduleName: "entry",</span></li><li>        <span class="hljs-comment">//   abilityName: "EntryAbility"</span></li><li>        <span class="hljs-comment">// };</span></li><li>        <span class="hljs-comment">// try {</span></li><li>        <span class="hljs-comment">//   context.startAbilityForResult(want)</span></li><li>        <span class="hljs-comment">//     .then((data) =&gt; {</span></li><li>        <span class="hljs-comment">//       hilog.info(DOMAIN_NUMBER, TAG, 'startAbility success. data:' + JSON.stringify(data));</span></li><li>        <span class="hljs-comment">//     }).catch((err: BusinessError) =&gt; {</span></li><li>        <span class="hljs-comment">//       hilog.error(DOMAIN_NUMBER, TAG, `startAbility failed. Code is ${err.code}, message is ${err.message}`);</span></li><li>        <span class="hljs-comment">//     })</span></li><li>        <span class="hljs-comment">// } catch (paramError) {</span></li><li>        <span class="hljs-comment">//   hilog.error(DOMAIN_NUMBER, TAG, `Failed to startAbility. Code is ${paramError.code}, message is ${paramError.message}`);</span></li><li>        <span class="hljs-comment">// }</span></li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">link</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"https://www.example.com"</span>;</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">openLinkOptions</span>: <span class="hljs-title class_">OpenLinkOptions</span> = {</li><li>          <span class="hljs-comment">// 匹配的abilities选项是否需要通过App Linking域名校验，匹配到唯一配置过的应用ability</span></li><li>          <span class="hljs-attr">appLinkingOnly</span>: <span class="hljs-literal">true</span>,</li><li>          <span class="hljs-comment">// 同want中的parameter，用于传递的参数</span></li><li>          <span class="hljs-attr">parameters</span>: {<span class="hljs-attr">demo_key</span>: <span class="hljs-string">"demo_value"</span>}</li><li>        };</li><li>
</li><li>        <span class="hljs-keyword">try</span> {</li><li>          context.<span class="hljs-title function_">openLink</span>(link, openLinkOptions, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>            <span class="hljs-comment">// AbilityResult回调函数，仅在被启动的UIAbility终止时触发</span></li><li>            hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN_NUMBER</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'open link success. Callback result:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>          }).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN_NUMBER</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'open link success.'</span>);</li><li>          }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>            hilog.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">DOMAIN_NUMBER</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`open link failed. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>          })</li><li>        } <span class="hljs-keyword">catch</span> (paramError) {</li><li>          hilog.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">DOMAIN_NUMBER</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`Failed to start link. Code is <span class="hljs-subst">${paramError.code}</span>, message is <span class="hljs-subst">${paramError.message}</span>`</span>);</li><li>        }</li><li>      })</li><li>  }</li><li>}</li></ol></pre></div></div></li>     </ol>    </div>   </div>   <div></div></div>