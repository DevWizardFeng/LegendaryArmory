<h1 _ngcontent-wmi-c119="" class="doc-title ng-star-inserted" title="查看异步函数堆栈"> 查看异步函数堆栈 </h1>

<div _ngcontent-wmi-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000002322461453"><p id="ZH-CN_TOPIC_0000002478174580__p8060118">从DevEco Studio 5.1.1 Beta1版本开始，开发者可通过打开异步堆栈跟踪开关、设置异步调用链深度来跟踪异步函数调用的顺序。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul id="ZH-CN_TOPIC_0000002478174580__ul5231916131510"><li id="li823113161153">异步堆栈跟踪开关为全局设置，开启后所有工程都生效。</li><li id="li13231101614159">修改异步堆栈跟踪开关或异步调用链深度后，需要重新启动调试或启动新的调试会话才会生效。</li><li id="li2231131631510">setTimeout函数异步堆栈不生效。</li><li id="li4231141691513">异步堆栈不展示变量列表。</li></ul> </div></div></div> <ol id="ZH-CN_TOPIC_0000002478174580__ol692104232019"><li id="li4925427201">点击<strong>File &gt; Settings</strong>（macOS为<strong>DevEco Studio &gt; Preferences/Settings</strong>）<strong> &gt; Build, Execution, Deployment &gt; Debugger &gt; Async Stack Traces</strong>。<ul id="ZH-CN_TOPIC_0000002478174580__ul9241172710112"><li id="li1924122715111">勾选<strong>Enable async stack traces</strong>打开异步堆栈跟踪开关。</li><li id="li12684192819113">设置异步调用链深度<strong>Async call chain depth</strong>大于0，才能在调试堆栈时展示调用链对应层数。</li></ul> <p id="ZH-CN_TOPIC_0000002478174580__p184611650175416"><span><img originheight="121" originwidth="750" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104856.67861080382196856833868584385507:50001231000000:2800:F838B49EEA862C9C0B5AA820D4892EA8D37025A28B03DE2F027E870643282FA1.png" width="750" height="121"></span></p> </li><li id="li1892114252014">在异步调用链中设置断点，启动调试，命中断点后，堆栈列表将展示对应调用链层数。如果实际的调用链层数比设置的异步调用链深度小，则只展示实际调用链层数。每个异步调用链以<strong>Async call from</strong>分隔，后面是调用函数。<p id="ZH-CN_TOPIC_0000002478174580__p1988682499"><span><img originheight="714" originwidth="996" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104856.31716917728480188809639149521145:50001231000000:2800:E2BC6330271AB33103D8CD88F073E2459FC3CCBADAAAA7B846DD7C9C68D8B263.png" width="920" height="659.5180722891566"></span></p> </li></ol> </div> <div></div></div>