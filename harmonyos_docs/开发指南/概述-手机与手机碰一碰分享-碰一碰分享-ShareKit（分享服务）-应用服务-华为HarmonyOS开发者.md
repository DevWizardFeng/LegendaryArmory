<h1 _ngcontent-jcd-c119="" class="doc-title ng-star-inserted" title="概述"> 概述 </h1>

<div _ngcontent-jcd-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>Share Kit推出碰一碰分享，支持用户通过碰一碰发起跨端分享，可实现传输图片、共享Wi-Fi等。</p> <div class="tiledSection"><h2 id="section0887459194211">场景介绍<i class="anchor-icon anchor-icon-link" anchorid="section0887459194211" tips="复制节点链接"></i></h2><ul><li>宿主应用进入一个可以分享的界面，比如打开或者选中的一个文件、一条备忘录、一个联系人详情，或个人热点/Wi-Fi等。</li><li>宿主应用可以分享多个内容，如选中的多张图片等。</li></ul> <p><span><img height="385.45794" originheight="270" originwidth="480" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114651.22454795789040537465613101472116:50001231000000:2800:4967C97E4E35320E528FDBFB1A6B7DA0D999A17C65956DD15CF17F65A3286176.gif" title="点击放大" width="685.2825"></span></p> </div> <div class="tiledSection"><h2 id="section1517071094412">业务流程<i class="anchor-icon anchor-icon-link" anchorid="section1517071094412" tips="复制节点链接"></i></h2><p><span><img height="582.5998500000001" originheight="4194" originwidth="4969" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114651.47349889193185107140670982457394:50001231000000:2800:BF01DC76D08337310F7A96E34A5D25064D9BF67332AC3C2A88E1362EA3C48256.png" title="点击放大" width="690.27"></span></p> <p></p> <p></p> <p>流程说明：</p> <ol><li>宿主应用注册碰一碰分享事件，并与亮屏且解锁的对端设备碰一碰。</li><li>宿主应用发现设备，调用碰一碰分享事件回调，在回调事件中构造分享数据并发送。</li><li>目标设备接收并处理分享数据。</li><li>宿主应用解除注册碰一碰分享事件。</li></ol> </div> <div class="tiledSection"><h2 id="section184317615456">使用约束<i class="anchor-icon anchor-icon-link" anchorid="section184317615456" tips="复制节点链接"></i></h2><p>手机应用发起碰一碰分享时，双端设备需要在<strong>亮屏、且解锁</strong>的状态下并且都已开启华为分享服务（系统默认开启），设备顶部轻碰即可触发。如果用户已手动关闭华为分享服务开关，轻碰事件触发时，用户会接收到系统通知提示开启。</p> <p><span><img height="341.14500000000004" originheight="581" originwidth="891" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114651.54784961410783762043088168135850:50001231000000:2800:A77B3B9DCE12D53C98CEDA0B65F4047EB6EAB47D1585BD6A0CCFB619670FE04C.png" title="点击放大" width="523.6875"></span></p> <p></p> <p>Share Kit的处理机制：</p> <ul><li>任意一端设备不支持碰一碰能力时，轻碰无任何响应。</li><li>宿主应用无法获得分享结果，Share Kit会通过系统通知消息告知用户对端接收或拒绝。</li></ul> </div> <div class="tiledSection"><h2 id="section124151731174519">环境要求<i class="anchor-icon anchor-icon-link" anchorid="section124151731174519" tips="复制节点链接"></i></h2><ul><li>支持的手机系统：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-releases/overview-500#section62333015377" target="_blank">HarmonyOS NEXT Release</a>及以上版本，可使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-syscap#caniuse" target="_blank">canIUse</a>判断系统能力是否支持。<div _ngcontent-jcd-c106="" class="highlight-div"><div _ngcontent-jcd-c106="" class="highlight-div-header"><div _ngcontent-jcd-c106="" class="highlight-div-header-left"><div _ngcontent-jcd-c106="" class="handle-button expand-button"><div _ngcontent-jcd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jcd-c106="" class="highlight-div-header-right"><div _ngcontent-jcd-c106="" class="handle-button ai-button"></div><div _ngcontent-jcd-c106="" class="handle-button line-button"><div _ngcontent-jcd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jcd-c106="" class="handle-button theme-button"><div _ngcontent-jcd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jcd-c106="" class="handle-button copy-button"><div _ngcontent-jcd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jcd-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">if</span> (<span class="hljs-title function_">canIUse</span>(<span class="hljs-string">'SystemCapability.Collaboration.HarmonyShare'</span>)) {</li><li>  <span class="hljs-comment">// 支持一碰分享的能力.</span></li><li>}</li></ol></pre></div></div> </li></ul> <ul><li>集成开发环境：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-releases/overview-500#section1457031563711" target="_blank">DevEco Studio NEXT Beta1</a>及以上版本。</li></ul> </div> </div> <div></div></div>