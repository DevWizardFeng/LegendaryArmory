<h1 _ngcontent-xld-c119="" class="doc-title ng-star-inserted" title="模态转场"> 模态转场 </h1>

<div _ngcontent-xld-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>模态转场是新的界面覆盖在旧的界面上，旧的界面不消失的一种转场方式。</p>    <p><strong>表1</strong> 模态转场接口</p>    <div class="tablenoborder">     <div class="tbBox"><table class="layoutFixed idpTab">      <thead>       <tr>        <th align="left" class="cellrowborder" id="mcps1.3.3.1.4.1.1" valign="top" width="33.33333333333333%">接口</th>        <th align="left" class="cellrowborder" id="mcps1.3.3.1.4.1.2" valign="top" width="33.33333333333333%">说明</th>        <th align="left" class="cellrowborder" id="mcps1.3.3.1.4.1.3" valign="top" width="33.33333333333333%">使用场景</th>       </tr>      </thead>             <tbody><tr>        <td class="cellrowborder" valign="top" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-modal-transition#bindcontentcover" target="_blank">bindContentCover</a></td>        <td class="cellrowborder" valign="top" width="33.33333333333333%">弹出全屏的模态组件。</td>        <td class="cellrowborder" valign="top" width="33.33333333333333%">用于自定义全屏的模态展示界面，结合转场动画和共享元素动画可实现复杂转场动画效果，如缩略图片点击后查看大图。</td>       </tr>       <tr>        <td class="cellrowborder" valign="top" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-sheet-transition#bindsheet" target="_blank">bindSheet</a></td>        <td class="cellrowborder" valign="top" width="33.33333333333333%">弹出半模态组件。</td>        <td class="cellrowborder" valign="top" width="33.33333333333333%">用于半模态展示界面，如分享框。</td>       </tr>       <tr>        <td class="cellrowborder" valign="top" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#bindmenu11" target="_blank">bindMenu</a></td>        <td class="cellrowborder" valign="top" width="33.33333333333333%">弹出菜单，点击组件后弹出。</td>        <td class="cellrowborder" valign="top" width="33.33333333333333%">需要Menu菜单的场景，如一般应用的“+”号键。</td>       </tr>       <tr>        <td class="cellrowborder" valign="top" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#bindcontextmenu12" target="_blank">bindContextMenu</a></td>        <td class="cellrowborder" valign="top" width="33.33333333333333%">弹出菜单，长按或者右键点击后弹出。</td>        <td class="cellrowborder" valign="top" width="33.33333333333333%">长按浮起效果，一般结合拖拽框架使用，如桌面图标长按浮起。</td>       </tr>       <tr>        <td class="cellrowborder" valign="top" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-popup#bindpopup" target="_blank">bindPopup</a></td>        <td class="cellrowborder" valign="top" width="33.33333333333333%">弹出Popup弹框。</td>        <td class="cellrowborder" valign="top" width="33.33333333333333%">Popup弹框场景，如点击后对某个组件进行临时说明。</td>       </tr>       <tr>        <td class="cellrowborder" valign="top" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-ifelse">if</a></td>        <td class="cellrowborder" valign="top" width="33.33333333333333%">通过if新增或删除组件。</td>        <td class="cellrowborder" valign="top" width="33.33333333333333%">用来在某个状态下临时显示一个界面，这种方式的返回导航需要由开发者监听接口实现。</td>       </tr>           </tbody></table></div>    </div>    <div class="tiledSection">     <h2 id="使用bindcontentcover构建全屏模态转场效果">使用bindContentCover构建全屏模态转场效果<i class="anchor-icon anchor-icon-link" anchorid="使用bindcontentcover构建全屏模态转场效果" tips="复制节点链接"></i></h2>          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-modal-transition#bindcontentcover" target="_blank">bindContentCover</a>接口用于为组件绑定全屏模态页面，在组件出现和消失时可通过设置转场参数ModalTransition添加过渡动效。</p>     <ol>      <li>       <p>定义全屏模态转场效果<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-modal-transition#bindcontentcover" target="_blank">bindContentCover</a>。</p></li>      <li>       <p>定义模态展示界面。</p>       <div _ngcontent-xld-c106="" class="highlight-div"><div _ngcontent-xld-c106="" class="highlight-div-header"><div _ngcontent-xld-c106="" class="highlight-div-header-left"><div _ngcontent-xld-c106="" class="handle-button expand-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xld-c106="" class="highlight-div-header-right"><div _ngcontent-xld-c106="" class="handle-button ai-button"></div><div _ngcontent-xld-c106="" class="handle-button line-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xld-c106="" class="handle-button theme-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xld-c106="" class="handle-button copy-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xld-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 通过@Builder构建模态展示界面</span></li><li><span class="hljs-meta">@Builder</span> <span class="hljs-title class_">MyBuilder</span>() {</li><li>  <span class="hljs-title class_">Column</span>() {</li><li>    <span class="hljs-title class_">Text</span>(<span class="hljs-string">'my model view'</span>)</li><li>  }</li><li>  <span class="hljs-comment">// 通过转场动画实现出现消失转场动画效果，transition需要加在builder下的第一个组件</span></li><li>  .<span class="hljs-title function_">transition</span>(<span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-title function_">translate</span>({ <span class="hljs-attr">y</span>: <span class="hljs-number">1000</span> }).<span class="hljs-title function_">animation</span>({ <span class="hljs-attr">curve</span>: curves.<span class="hljs-title function_">springMotion</span>(<span class="hljs-number">0.6</span>, <span class="hljs-number">0.8</span>) }))</li><li>}</li></ol></pre></div></div></li>      <li>       <p>通过模态接口调起模态展示界面，通过转场动画或者共享元素动画去实现对应的动画效果。</p>       <div _ngcontent-xld-c106="" class="highlight-div"><div _ngcontent-xld-c106="" class="highlight-div-header"><div _ngcontent-xld-c106="" class="highlight-div-header-left"><div _ngcontent-xld-c106="" class="handle-button expand-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xld-c106="" class="highlight-div-header-right"><div _ngcontent-xld-c106="" class="handle-button ai-button"></div><div _ngcontent-xld-c106="" class="handle-button line-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xld-c106="" class="handle-button theme-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xld-c106="" class="handle-button copy-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xld-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 模态转场控制变量</span></li><li><span class="hljs-meta">@State</span> <span class="hljs-attr">isPresent</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>
</li><li><span class="hljs-title class_">Button</span>(<span class="hljs-string">'Click to present model view'</span>)</li><li>  <span class="hljs-comment">// 通过选定的模态接口，绑定模态展示界面，ModalTransition是内置的ContentCover转场动画类型，这里选择None代表系统不加默认动画，通过onDisappear控制状态变量变换</span></li><li>  .<span class="hljs-title function_">bindContentCover</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">isPresent</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-title class_">MyBuilder</span>(), {</li><li>            <span class="hljs-attr">modalTransition</span>: <span class="hljs-title class_">ModalTransition</span>.<span class="hljs-property">NONE</span>,</li><li>            <span class="hljs-attr">onDisappear</span>: <span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">isPresent</span>) {</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">isPresent</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isPresent</span>;</li><li>              }</li><li>            }</li><li>          })</li><li>  .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-comment">// 改变状态变量，显示模态界面</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isPresent</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isPresent</span>;</li><li>  })</li></ol></pre></div></div></li>     </ol>     <p>完整示例代码和效果如下。</p>     <div _ngcontent-xld-c106="" class="highlight-div"><div _ngcontent-xld-c106="" class="highlight-div-header"><div _ngcontent-xld-c106="" class="highlight-div-header-left"><div _ngcontent-xld-c106="" class="handle-button expand-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xld-c106="" class="highlight-div-header-right"><div _ngcontent-xld-c106="" class="handle-button ai-button"></div><div _ngcontent-xld-c106="" class="handle-button line-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xld-c106="" class="handle-button theme-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xld-c106="" class="handle-button copy-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xld-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { curves } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">PersonList</span> {</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>,</li><li>  <span class="hljs-attr">cardNum</span>: <span class="hljs-built_in">string</span></li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">BindContentCoverDemo</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">personList</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">PersonList</span>&gt; = [</li><li>    { <span class="hljs-attr">name</span>: <span class="hljs-string">'王**'</span>, <span class="hljs-attr">cardNum</span>: <span class="hljs-string">'1234***********789'</span> },</li><li>    { <span class="hljs-attr">name</span>: <span class="hljs-string">'宋*'</span>, <span class="hljs-attr">cardNum</span>: <span class="hljs-string">'2345***********789'</span> },</li><li>    { <span class="hljs-attr">name</span>: <span class="hljs-string">'许**'</span>, <span class="hljs-attr">cardNum</span>: <span class="hljs-string">'3456***********789'</span> },</li><li>    { <span class="hljs-attr">name</span>: <span class="hljs-string">'唐*'</span>, <span class="hljs-attr">cardNum</span>: <span class="hljs-string">'4567***********789'</span> }</li><li>  ];</li><li>  <span class="hljs-comment">// 第一步：定义全屏模态转场效果bindContentCover</span></li><li>  <span class="hljs-comment">// 模态转场控制变量</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">isPresent</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>
</li><li>  <span class="hljs-comment">// 第二步：定义模态展示界面</span></li><li>  <span class="hljs-comment">// 通过@Builder构建模态展示界面</span></li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">MyBuilder</span>() {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'选择乘车人'</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>          .<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>          .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">30</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">15</span> })</li><li>      }</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0x007dfe</span>)</li><li>
</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'+ 添加乘车人'</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>          .<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0x333333</span>)</li><li>          .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">10</span> })</li><li>          .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">20</span> })</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'92%'</span>)</li><li>          .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">10</span>)</li><li>          .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>      }</li><li>
</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">personList</span>, <span class="hljs-function">(<span class="hljs-params">item: PersonList, index: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">Row</span>() {</li><li>            <span class="hljs-title class_">Column</span>() {</li><li>              <span class="hljs-keyword">if</span> (index % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) {</li><li>                <span class="hljs-title class_">Column</span>()</li><li>                  .<span class="hljs-title function_">width</span>(<span class="hljs-number">20</span>)</li><li>                  .<span class="hljs-title function_">height</span>(<span class="hljs-number">20</span>)</li><li>                  .<span class="hljs-title function_">border</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">color</span>: <span class="hljs-number">0x007dfe</span> })</li><li>                  .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0x007dfe</span>)</li><li>              } <span class="hljs-keyword">else</span> {</li><li>                <span class="hljs-title class_">Column</span>()</li><li>                  .<span class="hljs-title function_">width</span>(<span class="hljs-number">20</span>)</li><li>                  .<span class="hljs-title function_">height</span>(<span class="hljs-number">20</span>)</li><li>                  .<span class="hljs-title function_">border</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">color</span>: <span class="hljs-number">0x007dfe</span> })</li><li>              }</li><li>            }</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'20%'</span>)</li><li>
</li><li>            <span class="hljs-title class_">Column</span>() {</li><li>              <span class="hljs-title class_">Text</span>(item.<span class="hljs-property">name</span>)</li><li>                .<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0x333333</span>)</li><li>                .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">18</span>)</li><li>              <span class="hljs-title class_">Text</span>(item.<span class="hljs-property">cardNum</span>)</li><li>                .<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0x666666</span>)</li><li>                .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">14</span>)</li><li>            }</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'60%'</span>)</li><li>            .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Start</span>)</li><li>
</li><li>            <span class="hljs-title class_">Column</span>() {</li><li>              <span class="hljs-title class_">Text</span>(<span class="hljs-string">'编辑'</span>)</li><li>                .<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0x007dfe</span>)</li><li>                .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>            }</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'20%'</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">10</span> })</li><li>          .<span class="hljs-title function_">border</span>({ <span class="hljs-attr">width</span>: { <span class="hljs-attr">bottom</span>: <span class="hljs-number">1</span> }, <span class="hljs-attr">color</span>: <span class="hljs-number">0xf1f1f1</span> })</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'92%'</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>        })</li><li>      }</li><li>      .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">20</span> })</li><li>
</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'确认'</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">40</span>)</li><li>        .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0x007dfe</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">isPresent</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isPresent</span>;</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-string">'100%'</span>, <span class="hljs-attr">height</span>: <span class="hljs-string">'100%'</span> })</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xf5f5f5</span>)</li><li>    <span class="hljs-comment">// 通过转场动画实现出现消失转场动画效果</span></li><li>    .<span class="hljs-title function_">transition</span>(<span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-title function_">translate</span>({ <span class="hljs-attr">y</span>: <span class="hljs-number">1000</span> }).<span class="hljs-title function_">animation</span>({ <span class="hljs-attr">curve</span>: curves.<span class="hljs-title function_">springMotion</span>(<span class="hljs-number">0.6</span>, <span class="hljs-number">0.8</span>) }))</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'确认订单'</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>          .<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>          .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">30</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">60</span> })</li><li>      }</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0x007dfe</span>)</li><li>
</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Row</span>() {</li><li>          <span class="hljs-title class_">Column</span>() {</li><li>            <span class="hljs-title class_">Text</span>(<span class="hljs-string">'00:25'</span>)</li><li>            <span class="hljs-title class_">Text</span>(<span class="hljs-string">'始发站'</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'30%'</span>)</li><li>
</li><li>          <span class="hljs-title class_">Column</span>() {</li><li>            <span class="hljs-title class_">Text</span>(<span class="hljs-string">'G1234'</span>)</li><li>            <span class="hljs-title class_">Text</span>(<span class="hljs-string">'8时1分'</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'30%'</span>)</li><li>
</li><li>          <span class="hljs-title class_">Column</span>() {</li><li>            <span class="hljs-title class_">Text</span>(<span class="hljs-string">'08:26'</span>)</li><li>            <span class="hljs-title class_">Text</span>(<span class="hljs-string">'终点站'</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'30%'</span>)</li><li>        }</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'92%'</span>)</li><li>      .<span class="hljs-title function_">padding</span>(<span class="hljs-number">15</span>)</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: -<span class="hljs-number">30</span> })</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>      .<span class="hljs-title function_">shadow</span>({ <span class="hljs-attr">radius</span>: <span class="hljs-number">30</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">'#aaaaaa'</span> })</li><li>      .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">10</span>)</li><li>
</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'+ 选择乘车人'</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">18</span>)</li><li>          .<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>)</li><li>          .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>          .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">10</span> })</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'60%'</span>)</li><li>          .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>          .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">15</span>)<span class="hljs-comment">// 通过选定的模态接口，绑定模态展示界面，ModalTransition是内置的ContentCover转场动画类型，这里选择DEFAULT代表设置上下切换动画效果，通过onDisappear控制状态变量变换。</span></li><li>          .<span class="hljs-title function_">bindContentCover</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">isPresent</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-title class_">MyBuilder</span>(), {</li><li>            <span class="hljs-attr">modalTransition</span>: <span class="hljs-title class_">ModalTransition</span>.<span class="hljs-property">DEFAULT</span>,</li><li>            <span class="hljs-attr">onDisappear</span>: <span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">isPresent</span>) {</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">isPresent</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isPresent</span>;</li><li>              }</li><li>            }</li><li>          })</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// 第三步：通过模态接口调起模态展示界面，通过转场动画或者共享元素动画去实现对应的动画效果</span></li><li>            <span class="hljs-comment">// 改变状态变量，显示模态界面</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">isPresent</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isPresent</span>;</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">60</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="757" originwidth="353" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114926.22932613389956837513309012749467:50001231000000:2800:9D8305DBBC7DB44490A5F88383E9D7E2A75CA286F5BB2B6EF21D60523BE164CC.gif" width="353" height="757"></span></p>    </div>    <div class="tiledSection">     <h2 id="使用bindsheet构建半模态转场效果">使用bindSheet构建半模态转场效果<i class="anchor-icon anchor-icon-link" anchorid="使用bindsheet构建半模态转场效果" tips="复制节点链接"></i></h2>          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-sheet-transition#bindsheet" target="_blank">bindSheet</a>属性可为组件绑定半模态页面，在组件出现时可通过设置自定义或默认的内置高度确定半模态大小。构建半模态转场动效的步骤基本与使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-modal-transition#bindcontentcover" target="_blank">bindContentCover</a>构建全屏模态转场动效相同。</p>     <p>完整示例和效果如下。</p>     <div _ngcontent-xld-c106="" class="highlight-div"><div _ngcontent-xld-c106="" class="highlight-div-header"><div _ngcontent-xld-c106="" class="highlight-div-header-left"><div _ngcontent-xld-c106="" class="handle-button expand-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xld-c106="" class="highlight-div-header-right"><div _ngcontent-xld-c106="" class="handle-button ai-button"></div><div _ngcontent-xld-c106="" class="handle-button line-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xld-c106="" class="handle-button theme-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xld-c106="" class="handle-button copy-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xld-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">BindSheetDemo</span> {</li><li>  <span class="hljs-comment">// 半模态转场显示隐藏控制</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">isShowSheet</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">menuList</span>: <span class="hljs-built_in">string</span>[] = [<span class="hljs-string">'不要辣'</span>, <span class="hljs-string">'少放辣'</span>, <span class="hljs-string">'多放辣'</span>, <span class="hljs-string">'不要香菜'</span>, <span class="hljs-string">'不要香葱'</span>, <span class="hljs-string">'不要一次性餐具'</span>, <span class="hljs-string">'需要一次性餐具'</span>];</li><li>
</li><li>  <span class="hljs-comment">// 通过@Builder构建半模态展示界面</span></li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">mySheet</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Row</span>, <span class="hljs-attr">wrap</span>: <span class="hljs-title class_">FlexWrap</span>.<span class="hljs-property">Wrap</span> }) {</li><li>        <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">menuList</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">Text</span>(item)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>            .<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0x333333</span>)</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xf1f1f1</span>)</li><li>            .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">8</span>)</li><li>            .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>            .<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)</li><li>        })</li><li>      }</li><li>      .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">18</span> })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'口味与餐具'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">28</span>)</li><li>        .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">30</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">30</span> })</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Row</span>() {</li><li>          <span class="hljs-title class_">Row</span>()</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-number">10</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">10</span>)</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#a8a8a8'</span>)</li><li>            .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">right</span>: <span class="hljs-number">12</span> })</li><li>            .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">20</span>)</li><li>
</li><li>          <span class="hljs-title class_">Column</span>() {</li><li>            <span class="hljs-title class_">Text</span>(<span class="hljs-string">'选择点餐口味和餐具'</span>)</li><li>              .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>              .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Medium</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Start</span>)</li><li>
</li><li>          <span class="hljs-title class_">Blank</span>()</li><li>
</li><li>          <span class="hljs-title class_">Row</span>()</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-number">12</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">12</span>)</li><li>            .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">right</span>: <span class="hljs-number">15</span> })</li><li>            .<span class="hljs-title function_">border</span>({</li><li>              <span class="hljs-attr">width</span>: { <span class="hljs-attr">top</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">2</span> },</li><li>              <span class="hljs-attr">color</span>: <span class="hljs-number">0xcccccc</span></li><li>            })</li><li>            .<span class="hljs-title function_">rotate</span>({ <span class="hljs-attr">angle</span>: <span class="hljs-number">45</span> })</li><li>        }</li><li>        .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">15</span>)</li><li>        .<span class="hljs-title function_">shadow</span>({ <span class="hljs-attr">radius</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">'#ededed'</span> })</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>        .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">VerticalAlign</span>.<span class="hljs-property">Center</span>)</li><li>        .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">left</span>: <span class="hljs-number">15</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">15</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">15</span> })</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>        <span class="hljs-comment">// 通过选定的半模态接口，绑定模态展示界面，style中包含两个参数，一个是设置半模态的高度，不设置时默认高度是Large，一个是是否显示控制条DragBar，默认是true显示控制条，通过onDisappear控制状态变量变换。</span></li><li>        .<span class="hljs-title function_">bindSheet</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">isShowSheet</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">mySheet</span>(), {</li><li>          <span class="hljs-attr">height</span>: <span class="hljs-number">300</span>,</li><li>          <span class="hljs-attr">dragBar</span>: <span class="hljs-literal">false</span>,</li><li>          <span class="hljs-attr">onDisappear</span>: <span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">isShowSheet</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isShowSheet</span>;</li><li>          }</li><li>        })</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">isShowSheet</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isShowSheet</span>;</li><li>        })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xf1f1f1</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="679" originwidth="354" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114926.91832057244875641486918954144804:50001231000000:2800:12225909E6575A1ACD94229A89A6E3B6A5008EDC08D0E6E839C74BFD02D2DE6A.gif" width="354" height="679"></span></p>    </div>    <div class="tiledSection">     <h2 id="使用bindmenu实现菜单弹出效果">使用bindMenu实现菜单弹出效果<i class="anchor-icon anchor-icon-link" anchorid="使用bindmenu实现菜单弹出效果" tips="复制节点链接"></i></h2>          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#bindmenu" target="_blank">bindMenu</a>为组件绑定弹出式菜单，通过点击触发。完整示例和效果如下。</p>     <div _ngcontent-xld-c106="" class="highlight-div"><div _ngcontent-xld-c106="" class="highlight-div-header"><div _ngcontent-xld-c106="" class="highlight-div-header-left"><div _ngcontent-xld-c106="" class="handle-button expand-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xld-c106="" class="highlight-div-header-right"><div _ngcontent-xld-c106="" class="handle-button ai-button"></div><div _ngcontent-xld-c106="" class="handle-button line-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xld-c106="" class="handle-button theme-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xld-c106="" class="handle-button copy-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xld-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">BMD</span>{</li><li>  <span class="hljs-attr">value</span>:<span class="hljs-title class_">ResourceStr</span> = <span class="hljs-string">''</span></li><li>  <span class="hljs-attr">action</span>:<span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span> = <span class="hljs-function">() =&gt;</span> {}</li><li>}</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">BindMenuDemo</span> {</li><li>
</li><li>  <span class="hljs-comment">// 第一步: 定义一组数据用来表示菜单按钮项</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">items</span>:<span class="hljs-variable constant_">BMD</span>[] = [</li><li>    {</li><li>      <span class="hljs-attr">value</span>: <span class="hljs-string">'菜单项1'</span>,</li><li>      <span class="hljs-attr">action</span>: <span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'handle Menu1 select'</span>)</li><li>      }</li><li>    },</li><li>    {</li><li>      <span class="hljs-attr">value</span>: <span class="hljs-string">'菜单项2'</span>,</li><li>      <span class="hljs-attr">action</span>: <span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'handle Menu2 select'</span>)</li><li>      }</li><li>    },</li><li>  ]</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'click'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0x409eff</span>)</li><li>        .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">5</span>)</li><li>          <span class="hljs-comment">// 第二步: 通过bindMenu接口将菜单数据绑定给元素</span></li><li>        .<span class="hljs-title function_">bindMenu</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-number">437</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="275" originwidth="370" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114926.13548184028184844508145003541546:50001231000000:2800:89F0732DB1F9D2C7748457BDD557DFE89080D8C5BD39C1B5C05253DF04E8E943.gif" width="370" height="275"></span></p>    </div>    <div class="tiledSection">     <h2 id="使用bindcontextmenu实现菜单弹出效果">使用bindContextMenu实现菜单弹出效果<i class="anchor-icon anchor-icon-link" anchorid="使用bindcontextmenu实现菜单弹出效果" tips="复制节点链接"></i></h2>          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#bindcontextmenu8" target="_blank">bindContextMenu</a>为组件绑定弹出式菜单，通过长按或右键点击触发。</p>     <p>完整示例和效果如下。</p>     <div _ngcontent-xld-c106="" class="highlight-div"><div _ngcontent-xld-c106="" class="highlight-div-header"><div _ngcontent-xld-c106="" class="highlight-div-header-left"><div _ngcontent-xld-c106="" class="handle-button expand-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xld-c106="" class="highlight-div-header-right"><div _ngcontent-xld-c106="" class="handle-button ai-button"></div><div _ngcontent-xld-c106="" class="handle-button line-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xld-c106="" class="handle-button theme-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xld-c106="" class="handle-button copy-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xld-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">BindContextMenuDemo</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">menu</span>: <span class="hljs-built_in">string</span>[] = [<span class="hljs-string">'保存图片'</span>, <span class="hljs-string">'收藏'</span>, <span class="hljs-string">'搜一搜'</span>];</li><li>  <span class="hljs-comment">// $r('app.media.xxx')需要替换为开发者所需的图像资源文件。</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">pics</span>: <span class="hljs-title class_">Resource</span>[] = [$r(<span class="hljs-string">'app.media.icon_1'</span>), $r(<span class="hljs-string">'app.media.icon_2'</span>)];</li><li>
</li><li>  <span class="hljs-comment">// 通过@Builder构建自定义菜单项</span></li><li>  <span class="hljs-meta">@Builder</span> <span class="hljs-title function_">myMenu</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">menu</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>        <span class="hljs-title class_">Row</span>() {</li><li>          <span class="hljs-title class_">Text</span>(item)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">18</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">padding</span>(<span class="hljs-number">15</span>)</li><li>        .<span class="hljs-title function_">border</span>({ <span class="hljs-attr">width</span>: { <span class="hljs-attr">bottom</span>: <span class="hljs-number">1</span> }, <span class="hljs-attr">color</span>: <span class="hljs-number">0xcccccc</span> })</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-number">140</span>)</li><li>    .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">15</span>)</li><li>    .<span class="hljs-title function_">shadow</span>({ <span class="hljs-attr">radius</span>: <span class="hljs-number">15</span>, <span class="hljs-attr">color</span>: <span class="hljs-number">0xf1f1f1</span> })</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xf1f1f1</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'查看图片'</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>          .<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>          .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">20</span> })</li><li>      }</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0x007dfe</span>)</li><li>
</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pics</span>, <span class="hljs-function">(<span class="hljs-params">item: Resource</span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">Row</span>(){</li><li>            <span class="hljs-title class_">Image</span>(item)</li><li>              .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>              .<span class="hljs-title function_">draggable</span>(<span class="hljs-literal">false</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">10</span> })</li><li>          .<span class="hljs-title function_">bindContextMenu</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myMenu</span>, <span class="hljs-title class_">ResponseType</span>.<span class="hljs-property">LongPress</span>)</li><li>        })</li><li>      }</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Center</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="757" originwidth="353" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114926.12277830169885695451277513155975:50001231000000:2800:FA9A1946F3A0632C719B15EE38DB6954A017495762FB5E8154EA88B5E3F6DCED.gif" width="353" height="757"></span></p>    </div>    <div class="tiledSection">     <h2 id="使用bindpopup实现气泡弹窗效果">使用bindPopup实现气泡弹窗效果<i class="anchor-icon anchor-icon-link" anchorid="使用bindpopup实现气泡弹窗效果" tips="复制节点链接"></i></h2>          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-popup#bindpopup" target="_blank">bindPopup</a>属性可为组件绑定弹窗，并设置弹窗内容，交互逻辑和显示状态。</p>     <p>完整示例和代码如下。</p>     <div _ngcontent-xld-c106="" class="highlight-div"><div _ngcontent-xld-c106="" class="highlight-div-header"><div _ngcontent-xld-c106="" class="highlight-div-header-left"><div _ngcontent-xld-c106="" class="handle-button expand-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xld-c106="" class="highlight-div-header-right"><div _ngcontent-xld-c106="" class="handle-button ai-button"></div><div _ngcontent-xld-c106="" class="handle-button line-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xld-c106="" class="handle-button theme-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xld-c106="" class="handle-button copy-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xld-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">BindPopupDemo</span> {</li><li>
</li><li>  <span class="hljs-comment">// 第一步：定义变量控制弹窗显示</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">customPopup</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>
</li><li>  <span class="hljs-comment">// 第二步：popup构造器定义弹框内容</span></li><li>  <span class="hljs-meta">@Builder</span> <span class="hljs-title function_">popupBuilder</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">2</span> }) {</li><li>      <span class="hljs-title class_">Row</span>().<span class="hljs-title function_">width</span>(<span class="hljs-number">64</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">64</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0x409eff</span>)</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Popup'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">SpaceAround</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>    .<span class="hljs-title function_">padding</span>(<span class="hljs-number">5</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>
</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'click'</span>)</li><li>        <span class="hljs-comment">// 第四步：创建点击事件，控制弹窗显隐</span></li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">customPopup</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">customPopup</span>;</li><li>        })</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xf56c6c</span>)</li><li>          <span class="hljs-comment">// 第三步：使用bindPopup接口将弹窗内容绑定给元素</span></li><li>        .<span class="hljs-title function_">bindPopup</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">customPopup</span>, {</li><li>          <span class="hljs-attr">builder</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">popupBuilder</span>,</li><li>          <span class="hljs-attr">placement</span>: <span class="hljs-title class_">Placement</span>.<span class="hljs-property">Top</span>,</li><li>          <span class="hljs-attr">maskColor</span>: <span class="hljs-number">0x33000000</span>,</li><li>          <span class="hljs-attr">popupColor</span>: <span class="hljs-number">0xf56c6c</span>,</li><li>          <span class="hljs-attr">enableArrow</span>: <span class="hljs-literal">true</span>,</li><li>          <span class="hljs-attr">onStateChange</span>: <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span> (!e.<span class="hljs-property">isVisible</span>) {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">customPopup</span> = <span class="hljs-literal">false</span>;</li><li>            }</li><li>          }</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-number">437</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="270" originwidth="370" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114926.52702860176459100408138714220472:50001231000000:2800:546409C8303FA8F5F6C2C6BD05E1FE7B878D17A986B46C74B47811A4CC779A41.gif" width="370" height="270"></span></p>    </div>    <div class="tiledSection">     <h2 id="使用if实现模态转场">使用if实现模态转场<i class="anchor-icon anchor-icon-link" anchorid="使用if实现模态转场" tips="复制节点链接"></i></h2>          <p>上述模态转场接口需要绑定到其他组件上，通过监听状态变量改变调起模态界面。同时，也可以通过if范式，通过新增/删除组件实现模态转场效果。</p>     <p>完整示例和代码如下。</p>     <div _ngcontent-xld-c106="" class="highlight-div"><div _ngcontent-xld-c106="" class="highlight-div-header"><div _ngcontent-xld-c106="" class="highlight-div-header-left"><div _ngcontent-xld-c106="" class="handle-button expand-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xld-c106="" class="highlight-div-header-right"><div _ngcontent-xld-c106="" class="handle-button ai-button"></div><div _ngcontent-xld-c106="" class="handle-button line-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xld-c106="" class="handle-button theme-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xld-c106="" class="handle-button copy-button"><div _ngcontent-xld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xld-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ModalTransitionWithIf</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">listArr</span>: <span class="hljs-built_in">string</span>[] = [<span class="hljs-string">'WLAN'</span>, <span class="hljs-string">'蓝牙'</span>, <span class="hljs-string">'个人热点'</span>, <span class="hljs-string">'连接与共享'</span>];</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">shareArr</span>: <span class="hljs-built_in">string</span>[] = [<span class="hljs-string">'投屏'</span>, <span class="hljs-string">'打印'</span>, <span class="hljs-string">'VPN'</span>, <span class="hljs-string">'私人DNS'</span>, <span class="hljs-string">'NFC'</span>];</li><li>  <span class="hljs-comment">// 第一步：定义状态变量控制页面显示</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">isShowShare</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-title function_">shareFunc</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>()?.<span class="hljs-title function_">animateTo</span>({ <span class="hljs-attr">duration</span>: <span class="hljs-number">500</span> }, <span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isShowShare</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isShowShare</span>;</li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>){</li><li>    <span class="hljs-comment">// 第二步：定义Stack布局显示当前页面和模态页面</span></li><li>    <span class="hljs-title class_">Stack</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'设置'</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">28</span>)</li><li>            .<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0x333333</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>        .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">30</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">15</span> })</li><li>        .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Start</span>)</li><li>
</li><li>        <span class="hljs-title class_">TextInput</span>({ <span class="hljs-attr">placeholder</span>: <span class="hljs-string">'输入关键字搜索'</span> })</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">40</span>)</li><li>          .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">bottom</span>: <span class="hljs-number">10</span> })</li><li>          .<span class="hljs-title function_">focusable</span>(<span class="hljs-literal">false</span>)</li><li>
</li><li>        <span class="hljs-title class_">List</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">12</span>, <span class="hljs-attr">initialIndex</span>: <span class="hljs-number">0</span> }) {</li><li>          <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">listArr</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span>, index: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>            <span class="hljs-title class_">ListItem</span>() {</li><li>              <span class="hljs-title class_">Row</span>() {</li><li>                <span class="hljs-title class_">Row</span>() {</li><li>                  <span class="hljs-title class_">Text</span>(<span class="hljs-string">`<span class="hljs-subst">${item.slice(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>)}</span>`</span>)</li><li>                    .<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>                    .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">14</span>)</li><li>                    .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>                }</li><li>                .<span class="hljs-title function_">width</span>(<span class="hljs-number">30</span>)</li><li>                .<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>)</li><li>                .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#a8a8a8'</span>)</li><li>                .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">right</span>: <span class="hljs-number">12</span> })</li><li>                .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">20</span>)</li><li>                .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>
</li><li>                <span class="hljs-title class_">Column</span>() {</li><li>                  <span class="hljs-title class_">Text</span>(item)</li><li>                    .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>                    .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Medium</span>)</li><li>                }</li><li>                .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Start</span>)</li><li>
</li><li>                <span class="hljs-title class_">Blank</span>()</li><li>
</li><li>                <span class="hljs-title class_">Row</span>()</li><li>                  .<span class="hljs-title function_">width</span>(<span class="hljs-number">12</span>)</li><li>                  .<span class="hljs-title function_">height</span>(<span class="hljs-number">12</span>)</li><li>                  .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">right</span>: <span class="hljs-number">15</span> })</li><li>                  .<span class="hljs-title function_">border</span>({</li><li>                    <span class="hljs-attr">width</span>: { <span class="hljs-attr">top</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">2</span> },</li><li>                    <span class="hljs-attr">color</span>: <span class="hljs-number">0xcccccc</span></li><li>                  })</li><li>                  .<span class="hljs-title function_">rotate</span>({ <span class="hljs-attr">angle</span>: <span class="hljs-number">45</span> })</li><li>              }</li><li>              .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">15</span>)</li><li>              .<span class="hljs-title function_">shadow</span>({ <span class="hljs-attr">radius</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">'#ededed'</span> })</li><li>              .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>              .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">VerticalAlign</span>.<span class="hljs-property">Center</span>)</li><li>              .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">left</span>: <span class="hljs-number">15</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">15</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">15</span> })</li><li>              .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>            }</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-comment">// 第五步：改变状态变量，显示模态页面</span></li><li>              <span class="hljs-keyword">if</span>(item.<span class="hljs-title function_">slice</span>(-<span class="hljs-number">2</span>) === <span class="hljs-string">'共享'</span>){</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">shareFunc</span>();</li><li>              }</li><li>            })</li><li>          }, (<span class="hljs-attr">item</span>: <span class="hljs-built_in">string</span>): <span class="hljs-function"><span class="hljs-params">string</span> =&gt;</span> item)</li><li>        }</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xfefefe</span>)</li><li>
</li><li>      <span class="hljs-comment">// 第三步：在if中定义模态页面，显示在最上层，通过if控制模态页面出现消失</span></li><li>      <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">isShowShare</span>){</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Column</span>() {</li><li>            <span class="hljs-title class_">Row</span>() {</li><li>              <span class="hljs-title class_">Row</span>() {</li><li>                <span class="hljs-title class_">Row</span>()</li><li>                  .<span class="hljs-title function_">width</span>(<span class="hljs-number">16</span>)</li><li>                  .<span class="hljs-title function_">height</span>(<span class="hljs-number">16</span>)</li><li>                  .<span class="hljs-title function_">border</span>({</li><li>                    <span class="hljs-attr">width</span>: { <span class="hljs-attr">left</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">2</span> },</li><li>                    <span class="hljs-attr">color</span>: <span class="hljs-number">0x333333</span></li><li>                  })</li><li>                  .<span class="hljs-title function_">rotate</span>({ <span class="hljs-attr">angle</span>: -<span class="hljs-number">45</span> })</li><li>              }</li><li>              .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">left</span>: <span class="hljs-number">15</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">10</span> })</li><li>              .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">shareFunc</span>();</li><li>              })</li><li>              <span class="hljs-title class_">Text</span>(<span class="hljs-string">'连接与共享'</span>)</li><li>                .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">28</span>)</li><li>                .<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0x333333</span>)</li><li>            }</li><li>            .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">30</span> })</li><li>          }</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>          .<span class="hljs-title function_">padding</span>({<span class="hljs-attr">bottom</span>: <span class="hljs-number">15</span>})</li><li>          .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Start</span>)</li><li>
</li><li>          <span class="hljs-title class_">List</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">12</span>, <span class="hljs-attr">initialIndex</span>: <span class="hljs-number">0</span> }) {</li><li>            <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">shareArr</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>              <span class="hljs-title class_">ListItem</span>() {</li><li>                <span class="hljs-title class_">Row</span>() {</li><li>                  <span class="hljs-title class_">Row</span>() {</li><li>                    <span class="hljs-title class_">Text</span>(<span class="hljs-string">`<span class="hljs-subst">${item.slice(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>)}</span>`</span>)</li><li>                      .<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>                      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">14</span>)</li><li>                      .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>                  }</li><li>                  .<span class="hljs-title function_">width</span>(<span class="hljs-number">30</span>)</li><li>                  .<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>)</li><li>                  .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#a8a8a8'</span>)</li><li>                  .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">right</span>: <span class="hljs-number">12</span> })</li><li>                  .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">20</span>)</li><li>                  .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>
</li><li>                  <span class="hljs-title class_">Column</span>() {</li><li>                    <span class="hljs-title class_">Text</span>(item)</li><li>                      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>                      .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Medium</span>)</li><li>                  }</li><li>                  .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Start</span>)</li><li>
</li><li>                  <span class="hljs-title class_">Blank</span>()</li><li>
</li><li>                  <span class="hljs-title class_">Row</span>()</li><li>                    .<span class="hljs-title function_">width</span>(<span class="hljs-number">12</span>)</li><li>                    .<span class="hljs-title function_">height</span>(<span class="hljs-number">12</span>)</li><li>                    .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">right</span>: <span class="hljs-number">15</span> })</li><li>                    .<span class="hljs-title function_">border</span>({</li><li>                      <span class="hljs-attr">width</span>: { <span class="hljs-attr">top</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">2</span> },</li><li>                      <span class="hljs-attr">color</span>: <span class="hljs-number">0xcccccc</span></li><li>                    })</li><li>                    .<span class="hljs-title function_">rotate</span>({ <span class="hljs-attr">angle</span>: <span class="hljs-number">45</span> })</li><li>                }</li><li>                .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">15</span>)</li><li>                .<span class="hljs-title function_">shadow</span>({ <span class="hljs-attr">radius</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">'#ededed'</span> })</li><li>                .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>                .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">VerticalAlign</span>.<span class="hljs-property">Center</span>)</li><li>                .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">left</span>: <span class="hljs-number">15</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">15</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">15</span> })</li><li>                .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>              }</li><li>              .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            }, (<span class="hljs-attr">item</span>: <span class="hljs-built_in">string</span>): <span class="hljs-function"><span class="hljs-params">string</span> =&gt;</span> item)</li><li>          }</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xffffff</span>)</li><li>        <span class="hljs-comment">// 第四步：定义模态页面出现消失转场方式</span></li><li>        .<span class="hljs-title function_">transition</span>(<span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-property">OPACITY</span></li><li>          .<span class="hljs-title function_">combine</span>(<span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-title function_">translate</span>({ <span class="hljs-attr">x</span>: <span class="hljs-string">'100%'</span> }))</li><li>          .<span class="hljs-title function_">combine</span>(<span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-title function_">scale</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">0.95</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0.95</span> })))</li><li>      }</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="757" originwidth="353" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114926.30207818124818108435078825103327:50001231000000:2800:5F9D7C4C4130D854A6932010ECC5FB7600F0742033640F76DF4D2CE36E3186FD.gif" width="353" height="757"></span></p>    </div>   </div>   <div></div></div>