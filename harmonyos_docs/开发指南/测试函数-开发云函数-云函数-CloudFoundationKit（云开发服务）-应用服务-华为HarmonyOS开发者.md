<h1 _ngcontent-fgd-c119="" class="doc-title ng-star-inserted" title="测试函数"> 测试函数 </h1>

<div _ngcontent-fgd-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>下文以函数latest版本为例介绍测试方法。如果需要测试函数的已发布版本，可在已发布版本详情页面选择“函数代码”页签，参考方式二进行测试。</p> </div></div></div> <p>函数创建后可以在AGC控制台测试函数的代码运行是否正常。进入测试界面有两种方式：</p> <ul><li>方式一：函数列表中点击函数名称右侧“操作”列的“测试”，在右侧弹出的“测试函数”界面进行测试。<p><span><img originheight="390" originwidth="1385" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114659.02488309659713777516777701110562:50001231000000:2800:01A9D02171FB051EAE2C25EEE38AB9DF149D62C2C03682C4B13B65FECF1123D5.png" width="920" height="259.0613718411552"></span></p> </li><li>方式二：<ol><li>在函数列表中点击已创建的函数名称，进入函数详情页面。<p><span><img originheight="390" originwidth="1385" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114659.36764559640149708506341581657550:50001231000000:2800:95D7130E5CC2FB88B96F40A3D7DB0A01349849647B9E0A7E7D304EDD859AF8F6.png" width="920" height="259.0613718411552"></span></p> </li><li>选择“函数代码”页签，点击“测试函数”。<p><span><img originheight="606" originwidth="1300" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114659.17337007103191188514816011358825:50001231000000:2800:88297A1A248EC0F383B78A9A43527BE7E3755B7016D1C174FDA21C46626D0386.png" width="920" height="428.8615384615385"></span></p> </li><li>在右侧弹出的“测试函数”界面，使用默认测试事件、创建新测试事件或者使用已保存测试事件进行测试。<ul><li>使用默认测试事件<p>直接点击“测试”对函数进行测试。</p> <p><span><img originheight="786" originwidth="654" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114659.73008185496359348560273292665069:50001231000000:2800:20E7D92F9F7992B58AB7C119ADE58553125F1DCE215D0CE0331A09F9CA662E50.png" width="654" height="786"></span></p> </li><li>创建新测试事件<p>如果需要设置调用函数的请求消息体，可按照如下步骤配置测试参数，并可保存为测试事件方便后续继续使用。</p> <ol><li>在“事件”文本框中输入JSON格式的事件参数，点击“保存”。然后在“提示”弹出框中输入事件名称，配置完成后点击弹出框右下角的“确认”。<div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>“事件”文本框内输入的JSON对象，对应的是触发器的event事件格式，会透传给函数。</p> </div></div></div> <p><span><img originheight="796" originwidth="1299" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114659.85173162354350788758976260350579:50001231000000:2800:298A4A30B5523E57675642F81BE9247DE23763D07068D23C1BF5503142513770.png" width="920" height="563.7567359507314"></span></p> </li><li>点击“测试”，函数处理事件并返回测试结果。</li></ol> </li><li>使用已保存测试事件<ol><li>在“测试函数”界面，点击<span><img originheight="15" originwidth="15" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114659.63883333493503660386561053230776:50001231000000:2800:AFFF285DEEB074D2A4716EE10AA22D26AD9B2FAB9C561873E6120697498EB523.png" class="IconPic notEnlarge" width="15" height="15"></span>展开已保存的测试事件列表，选择已配置的事件名称右侧的“加载”，然后点击“测试”，函数处理事件并返回测试结果。<p><span><img originheight="804" originwidth="990" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114659.52462243012953024607542667320792:50001231000000:2800:DB5D60CDF3F14ED4968D79ECCEC8B4230B80AAA0195BD5E33F2116B58FFE2F2F.png" width="920" height="747.1515151515151"></span></p> </li><li>（可选）如果需要删除已添加的测试事件，可在测试事件列表中点击事件名称右侧的“删除”即可删除测试事件。<p><span><img originheight="783" originwidth="985" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114659.17202926265835031035332284107949:50001231000000:2800:137B75209EE94CD1FAAEF23FA6BC536DA38FECFB77BB4BA38DC357EFD9EB913C.png" width="920" height="731.3299492385787"></span></p> </li></ol> </li></ul> </li><li>查看测试结果。<ul><li>执行结果：展示测试后获得的响应结果。<p><span><img originheight="337" originwidth="622" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114659.52813347621965698983154016997898:50001231000000:2800:8C4F91019CC052AAB3F9C626F62772774A3FCD64F0C47BE2C3606A42E9304A76.png" width="622" height="337"></span></p> </li><li>运行日志：展示函数运行过程中，通过logger API打印的日志，支持输出debug级别及以上日志（以下仅为日志级别测试结果）。<p><span><img originheight="336" originwidth="622" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114659.72585568681288013380925361000249:50001231000000:2800:055DC4BA0978BB971C1C848E366FF134D1E1FAE07057BADFE17DAEF4746008FB.png" width="622" height="336"></span></p> </li><li>执行摘要：展示该次测试请求相关信息。<ul><li>请求ID：该条测试请求的RequestID，在后台日志中体现为X-Trace-ID。</li><li>持续时间：函数执行的端到端时间。</li><li>执行版本：该次调用测试的具体函数版本。</li></ul> <p><span><img originheight="337" originwidth="622" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114659.78355137750573324767180730846171:50001231000000:2800:2A54372252D5304162F2A84B43BB05AB82837F7A7D82F129261524B2F8904951.png" width="622" height="337"></span></p> </li></ul> </li><li>“代码输入类型”为“在线编辑”的函数，测试过程中，如果需要修改函数入口文件代码，可直接在“函数代码”页签的代码编辑器中修改，然后点击页面底部的“提交”。当界面提示更新函数成功时，则可以点击“测试函数”对更改后的代码进行测试。<p><span><img originheight="606" originwidth="1300" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114659.93498365851777158294105183262101:50001231000000:2800:33D23C4C724AFED72774A476E9EA9226F45FBC274D2CD7FC7BCCE8E2F045E9F5.png" width="920" height="428.8615384615385"></span></p> <p>“代码输入类型”为“.zip文件”的函数，测试过程中，如果需要修改函数代码文件，可在本地修改且打包完成后，点击<span><img originheight="20" originwidth="24" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114700.96381997151876851217746240463326:50001231000000:2800:FD0602A104F2F5F1B1429402BFA8309F22E1F881986B189D76D18E021C19C073.png" class="IconPic notEnlarge" width="24" height="20"></span>重新上传函数部署包，然后点击页面底部的“提交”。当界面提示更新函数成功时，则可以点击“测试函数”对更改后的代码进行测试。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>如果代码更新量比较大，需要调整函数内存配置，可点击“内存配置”下拉框进行调整，然后再上传函数部署包。</p> </div></div></div> <p><span><img originheight="485" originwidth="1314" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114700.89565196088199895349397739567058:50001231000000:2800:4BCFA4EA30EABE4F7026519740934EDEF4B5E727F5E2B74F88C89874F5882C24.png" width="920" height="339.5738203957382"></span></p> </li><li>函数测试无误后，可在“函数代码”页签点击“导出函数”导出函数部署包。导出包以“函数名称+函数版本.zip”格式命名，可查看函数结构和文件内容。</li></ol> </li></ul> </div> <div></div></div>