<h1 _ngcontent-ppu-c119="" class="doc-title ng-star-inserted" title="添加交互"> 添加交互 </h1>

<div _ngcontent-ppu-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>添加交互可以通过在组件上关联事件实现。本节将介绍如何用div、text、image组件关联click事件，构建一个如下图所示的点赞按钮。</p> <p><span><img originheight="95" originwidth="197" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114834.40022315132097107807785452732319:50001231000000:2800:30465B7111CC1D860912A0A1D095035ADFE5A88D5122D80A41E22BB4A20EBBC7.gif" class="notEnlarge" width="197" height="95"></span></p> <p>点赞按钮通过一个div组件关联click事件实现。div组件包含一个image组件和一个text组件：</p> <ul><li><p>image组件用于显示未点赞和点赞的效果。click事件函数会交替更新点赞和未点赞图片的路径。</p>  </li><li><p>text组件用于显示点赞数，点赞数会在click事件的函数中同步更新。</p>  </li></ul> <p>click事件作为一个函数定义在js文件中，可以更改isPressed的状态，从而更新显示的image组件。如果isPressed为真，则点赞数加1。该函数在hml文件中对应的div组件上生效，点赞按钮各子组件的样式设置在css文件当中。具体的实现示例如下：</p> <div _ngcontent-ppu-c106="" class="highlight-div"><div _ngcontent-ppu-c106="" class="highlight-div-header"><div _ngcontent-ppu-c106="" class="highlight-div-header-left"><div _ngcontent-ppu-c106="" class="handle-button expand-button"><div _ngcontent-ppu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ppu-c106="" class="highlight-div-header-right"><div _ngcontent-ppu-c106="" class="handle-button ai-button"></div><div _ngcontent-ppu-c106="" class="handle-button line-button"><div _ngcontent-ppu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ppu-c106="" class="handle-button theme-button"><div _ngcontent-ppu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ppu-c106="" class="handle-button copy-button"><div _ngcontent-ppu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ppu-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-comment">&lt;!-- 点赞按钮 --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"like"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"likeClick"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">image</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"like-img"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"{{likeImage}}"</span> <span class="hljs-attr">focusable</span>=<span class="hljs-string">"true"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">image</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"like-num"</span> <span class="hljs-attr">focusable</span>=<span class="hljs-string">"true"</span>&gt;</span>{{total}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div> <div _ngcontent-ppu-c106="" class="highlight-div"><div _ngcontent-ppu-c106="" class="highlight-div-header"><div _ngcontent-ppu-c106="" class="highlight-div-header-left"><div _ngcontent-ppu-c106="" class="handle-button expand-button"><div _ngcontent-ppu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ppu-c106="" class="highlight-div-header-right"><div _ngcontent-ppu-c106="" class="handle-button ai-button"></div><div _ngcontent-ppu-c106="" class="handle-button line-button"><div _ngcontent-ppu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ppu-c106="" class="handle-button theme-button"><div _ngcontent-ppu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ppu-c106="" class="handle-button copy-button"><div _ngcontent-ppu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ppu-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.like</span> {</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">104px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">54px</span>;</li><li>  <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#bcbcbc</span>;</li><li>  <span class="hljs-attribute">justify-content</span>: space-between;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>  <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">72px</span>;</li><li>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;</li><li>}</li><li><span class="hljs-selector-class">.like-img</span> {</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">33px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">33px</span>;</li><li>  <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">14px</span>;</li><li>}</li><li><span class="hljs-selector-class">.like-num</span> {</li><li>  <span class="hljs-attribute">color</span>: <span class="hljs-number">#bcbcbc</span>;</li><li>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span>;</li><li>  <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">17px</span>;</li><li>}</li></ol></pre></div></div> <div _ngcontent-ppu-c106="" class="highlight-div"><div _ngcontent-ppu-c106="" class="highlight-div-header"><div _ngcontent-ppu-c106="" class="highlight-div-header-left"><div _ngcontent-ppu-c106="" class="handle-button expand-button"><div _ngcontent-ppu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ppu-c106="" class="highlight-div-header-right"><div _ngcontent-ppu-c106="" class="handle-button ai-button"></div><div _ngcontent-ppu-c106="" class="handle-button line-button"><div _ngcontent-ppu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ppu-c106="" class="handle-button theme-button"><div _ngcontent-ppu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ppu-c106="" class="handle-button copy-button"><div _ngcontent-ppu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ppu-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>: {</li><li>    <span class="hljs-attr">likeImage</span>: <span class="hljs-string">'/common/unLike.png'</span>,</li><li>    <span class="hljs-attr">isPressed</span>: <span class="hljs-literal">false</span>,</li><li>    <span class="hljs-attr">total</span>: <span class="hljs-number">20</span>,</li><li>  },</li><li>  <span class="hljs-title function_">likeClick</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">var</span> temp;</li><li>    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">isPressed</span>) {</li><li>      temp = <span class="hljs-variable language_">this</span>.<span class="hljs-property">total</span> + <span class="hljs-number">1</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">likeImage</span> = <span class="hljs-string">'/common/like.png'</span>;</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      temp = <span class="hljs-variable language_">this</span>.<span class="hljs-property">total</span> - <span class="hljs-number">1</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">likeImage</span> = <span class="hljs-string">'/common/unLike.png'</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">total</span> = temp;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isPressed</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isPressed</span>;</li><li>  },</li><li>}</li></ol></pre></div></div> <p>除此之外，还提供了很多表单组件，例如开关、标签、滑动选择器等，以便于开发者在页面布局时灵活使用和提高交互性。</p> </div> <div></div></div>