<h1 _ngcontent-asd-c119="" class="doc-title ng-star-inserted" title="添加留言区域"> 添加留言区域 </h1>

<div _ngcontent-asd-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>留言框的功能为：用户输入留言后点击完成，留言区域即显示留言内容。用户点击右侧的删除按钮可删除当前留言内容并重新输入。</p> <p>留言区域由div、text、input关联click事件实现。开发者可以使用input组件实现输入留言的部分，使用text组件实现留言完成部分，使用commentText的状态标记此时显示的组件（通过if属性控制）。在包含文本完成和删除的text组件中关联click事件，更新commentText状态和inputValue的内容。具体的实现示例如下：</p> <div _ngcontent-asd-c106="" class="highlight-div"><div _ngcontent-asd-c106="" class="highlight-div-header"><div _ngcontent-asd-c106="" class="highlight-div-header-left"><div _ngcontent-asd-c106="" class="handle-button expand-button"><div _ngcontent-asd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-asd-c106="" class="highlight-div-header-right"><div _ngcontent-asd-c106="" class="handle-button ai-button"></div><div _ngcontent-asd-c106="" class="handle-button line-button"><div _ngcontent-asd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-asd-c106="" class="handle-button theme-button"><div _ngcontent-asd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-asd-c106="" class="handle-button copy-button"><div _ngcontent-asd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-asd-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"comment-title"</span>&gt;</span>Comment<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">if</span>=<span class="hljs-string">"{{!commentText}}"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"comment"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"{{inputValue}}"</span> <span class="hljs-attr">onchange</span>=<span class="hljs-string">"updateValue()"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">input</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"comment-key"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"update"</span> <span class="hljs-attr">focusable</span>=<span class="hljs-string">"true"</span>&gt;</span>Done<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">if</span>=<span class="hljs-string">"{{commentText}}"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"comment-text"</span> <span class="hljs-attr">focusable</span>=<span class="hljs-string">"true"</span>&gt;</span>{{inputValue}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"comment-key"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"update"</span> <span class="hljs-attr">focusable</span>=<span class="hljs-string">"true"</span>&gt;</span>Delete<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div> <div _ngcontent-asd-c106="" class="highlight-div"><div _ngcontent-asd-c106="" class="highlight-div-header"><div _ngcontent-asd-c106="" class="highlight-div-header-left"><div _ngcontent-asd-c106="" class="handle-button expand-button"><div _ngcontent-asd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-asd-c106="" class="highlight-div-header-right"><div _ngcontent-asd-c106="" class="handle-button ai-button"></div><div _ngcontent-asd-c106="" class="handle-button line-button"><div _ngcontent-asd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-asd-c106="" class="handle-button theme-button"><div _ngcontent-asd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-asd-c106="" class="handle-button copy-button"><div _ngcontent-asd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-asd-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.container</span> {</li><li>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">24px</span>;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#ffffff</span>;</li><li>}</li><li><span class="hljs-selector-class">.comment-title</span> {</li><li>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">40px</span>;</li><li>  <span class="hljs-attribute">color</span>: <span class="hljs-number">#1a1a1a</span>;</li><li>  <span class="hljs-attribute">font-weight</span>: bold;</li><li>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">40px</span>;</li><li>  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;</li><li>}</li><li><span class="hljs-selector-class">.comment</span> {</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">550px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</li><li>  <span class="hljs-attribute">background-color</span>: lightgrey;</li><li>}</li><li><span class="hljs-selector-class">.comment-key</span> {</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">150px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</li><li>  <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">20px</span>;</li><li>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">32px</span>;</li><li>  <span class="hljs-attribute">color</span>: <span class="hljs-number">#1a1a1a</span>;</li><li>  <span class="hljs-attribute">font-weight</span>: bold;</li><li>}</li><li><span class="hljs-selector-class">.comment-key</span><span class="hljs-selector-pseudo">:focus</span> {</li><li>  <span class="hljs-attribute">color</span>: <span class="hljs-number">#007dff</span>;</li><li>}</li><li><span class="hljs-selector-class">.comment-text</span> {</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">550px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</li><li>  <span class="hljs-attribute">text-align</span>: left;</li><li>  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">35px</span>;</li><li>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">30px</span>;</li><li>  <span class="hljs-attribute">color</span>: <span class="hljs-number">#000000</span>;</li><li>  <span class="hljs-attribute">border-bottom-color</span>: <span class="hljs-number">#bcbcbc</span>;</li><li>  <span class="hljs-attribute">border-bottom-width</span>: <span class="hljs-number">0.5px</span>;</li><li>}</li></ol></pre></div></div> <div _ngcontent-asd-c106="" class="highlight-div"><div _ngcontent-asd-c106="" class="highlight-div-header"><div _ngcontent-asd-c106="" class="highlight-div-header-left"><div _ngcontent-asd-c106="" class="handle-button expand-button"><div _ngcontent-asd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-asd-c106="" class="highlight-div-header-right"><div _ngcontent-asd-c106="" class="handle-button ai-button"></div><div _ngcontent-asd-c106="" class="handle-button line-button"><div _ngcontent-asd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-asd-c106="" class="handle-button theme-button"><div _ngcontent-asd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-asd-c106="" class="handle-button copy-button"><div _ngcontent-asd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-asd-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>: {</li><li>    <span class="hljs-attr">inputValue</span>: <span class="hljs-string">''</span>,</li><li>    <span class="hljs-attr">commentText</span>: <span class="hljs-literal">false</span>,</li><li>  },</li><li>  <span class="hljs-title function_">update</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">commentText</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">commentText</span>;</li><li>  },</li><li>  <span class="hljs-title function_">updateValue</span>(<span class="hljs-params">e</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">inputValue</span> = e.<span class="hljs-property">text</span>;</li><li>  },</li><li>}</li></ol></pre></div></div> </div> <div></div></div>