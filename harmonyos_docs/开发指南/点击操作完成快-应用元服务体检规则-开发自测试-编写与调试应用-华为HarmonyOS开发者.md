<h1 _ngcontent-hbg-c119="" class="doc-title ng-star-inserted" title="点击操作完成快"> 点击操作完成快 </h1>

<div _ngcontent-hbg-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000001992504917"><div class="tiledSection"><h2 id="section15922054151911">DevEco Studio 6.0.1 Beta1及以上版本<i class="anchor-icon anchor-icon-link" anchorid="section15922054151911" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section58274454177" class="firsth2">规则详情<i class="anchor-icon anchor-icon-link" anchorid="section58274454177" tips="复制节点链接"></i></h3><p id="ZH-CN_TOPIC_0000002510174411__p93195541713">应用内点击操作完成时延应≤ 900毫秒；时间起点：点击离手；时间终点：转场页面所有占位符加载完成。</p> </div> <div class="tiledSection"><h3 id="section1184137219">检测逻辑<i class="anchor-icon anchor-icon-link" anchorid="section1184137219" tips="复制节点链接"></i></h3><p id="ZH-CN_TOPIC_0000002510174411__p11352536132215">点击后，缓存本次操作与下次操作前的截图，检测图片中的页面是否加载完成。页面加载检测逻辑为：</p> <ol id="ZH-CN_TOPIC_0000002510174411__ol11982144310318"><li id="li1898215433315">利用光流法对下次操作前的多张截图进行检测，判断出轮播区与视频区。</li><li id="li52908617514">检测非轮播区与非视频区是否加载完成：默认下一次操作前页面已经加载完成，并以下次操作前的最后一张截图为目标图片，利用二分法在缓存的图片中搜索。<div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002510174411__p13467954163210">若页面出现第二次刷新行为时，将以第二次刷新后呈现的页面作为加载完成页面（即目标图片），首次刷新结果不作为参考。</p> </div></div></div> <ol id="ZH-CN_TOPIC_0000002510174411__ol5581122115299"><li id="li1781221962917">如果检索图片的非轮播区与非视频区和目标图片不存在像素差异，则判断非轮播区与非视频区加载完成；</li><li id="li178128198299">若存在像素差异，则进一步判断差异区域是否有内容填充，如果所有差异区域均有内容填充，则判断非轮播区与非视频区加载完成。</li></ol> </li><li id="li49821843237">若上一步判断非轮播区与非视频区加载完成，再根据是否有内容填充判断轮播区与视频区是否加载完成。</li><li id="li69824433310">若上一步判断轮播区与视频区加载完成，则该检索图片加载完成，利用二分法继续向前搜索，找到第一张加载完成的图片。</li></ol> </div> <div class="tiledSection"><h3 id="section64221920202110">计算逻辑<i class="anchor-icon anchor-icon-link" anchorid="section64221920202110" tips="复制节点链接"></i></h3><p id="ZH-CN_TOPIC_0000002510174411__p8286102422118">以点击时刻为准，若第一张加载完成图片的时间小于等于900ms，则检测通过；若大于900ms，小于等于1600ms，则检测告警；若大于1600ms，则检测失败。</p> </div> <div class="tiledSection"><h2 id="section191984031815">DevEco Studio 6.0.1 Beta1以下版本<i class="anchor-icon anchor-icon-link" anchorid="section191984031815" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section14493332195" class="firsth2">规则详情<i class="anchor-icon anchor-icon-link" anchorid="section14493332195" tips="复制节点链接"></i></h3><p id="ZH-CN_TOPIC_0000002510174411__p15539075570">时间起点：点击离手；时间终点：转场页面所有占位符加载完成；应用/元服务内点击操作完成时延应≤ 1600毫秒。</p> </div> <div class="tiledSection"><h3 id="section5387174831810">检测逻辑<i class="anchor-icon anchor-icon-link" anchorid="section5387174831810" tips="复制节点链接"></i></h3><p id="ZH-CN_TOPIC_0000002510174411__p199811045192017">点击后，经过1600ms后截图，检测图片是否存在白块。白块检测逻辑为：AppAnalyzer通过真实应用训练的白块检测AI模型，进行页面白块识别。例如：如下左图输入到白块检测AI模型后，可以识别到白块位置，如下右图。</p> <p id="ZH-CN_TOPIC_0000002510174411__p119816457209"><span><img originheight="724" originwidth="379" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104838.73241140888832871260375758591177:50001231000000:2800:0A567CFFBC354D7262B598A0CCA4E7809C19EFF90F24654188A2D2D87A7FBF33.png" width="379" height="724"></span><span><img originheight="725" originwidth="375" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104838.47025533224798795230516260504131:50001231000000:2800:8E26AE70FB63AD4164D369F2A5B8700DA6A0F96D44FAC83584F2588B29D6B031.png" width="375" height="725"></span></p> </div> <div class="tiledSection"><h3 id="section2043315478213">计算逻辑<i class="anchor-icon anchor-icon-link" anchorid="section2043315478213" tips="复制节点链接"></i></h3><p id="ZH-CN_TOPIC_0000002510174411__p203899586218">点击后，经过1600ms后截图，截图页面查找白块数量为0，则检测通过。</p> </div> </div> <div></div></div>