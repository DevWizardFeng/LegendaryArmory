<h1 _ngcontent-ljg-c119="" class="doc-title ng-star-inserted" title="用户文件URI介绍"> 用户文件URI介绍 </h1>

<div _ngcontent-ljg-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>用户文件URI是文件的唯一标识，在对用户文件进行访问与修改等操作时往往都会使用到URI，不建议开发者解析URI中的片段用于业务代码开发，不同类型的URI使用方式将在下文详细介绍。</p>    <div class="tiledSection">     <h2 id="uri的类型">URI的类型<i class="anchor-icon anchor-icon-link" anchorid="uri的类型" tips="复制节点链接"></i></h2>          <p>URI类型可以归纳为文档类URI和媒体文件URI两类</p>     <ul>      <li>文档类URI：由picker拉起文件管理器选择或保存返回，以及通过fileAccess模块获取。具体获取方式参见<a href="/consumer/cn/doc/harmonyos-guides/user-file-uri-intro#文档类uri获取方式">文档类URI获取方式</a>。</li>      <li>媒体文件URI：由picker通过拉起图库选择图片或者视频返回，通过photoAccessHelper模块获取图片或者视频文件的URI，以及通过userFileManager模块获取图片、视频或者音频文件的URI。具体获取方式参见<a href="/consumer/cn/doc/harmonyos-guides/user-file-uri-intro#媒体文件uri获取方式">媒体文件URI获取方式</a>。</li>     </ul>     <p><span><img originheight="654" originwidth="1279" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114730.91695410769570716832361691854035:50001231000000:2800:FA3D74302FBC1A36E7482F617C01340737C1F54EEA8BB4ED10481E78D6CA4F0A.png" width="920" height="470.4300234558248"></span></p>    </div>    <div class="tiledSection">     <h2 id="文档类uri">文档类URI<i class="anchor-icon anchor-icon-link" anchorid="文档类uri" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="文档类uri介绍" class="firsth2">文档类URI介绍<i class="anchor-icon anchor-icon-link" anchorid="文档类uri介绍" tips="复制节点链接"></i></h3>          <p><strong>文档类URI的格式类型为：</strong></p>     <p>'file://docs/storage/Users/currentUser/&lt;relative_path&gt;/test.txt'</p>     <p><strong>其中各个字段表示的含义为：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.3.1.1" valign="top" width="50%">URI字段</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.3.1.2" valign="top" width="50%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">'file://docs/storage/Users/currentUser/'</td>         <td class="cellrowborder" valign="top" width="50%">文件管理器的根目录。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">'&lt;relative_path&gt;/'</td>         <td class="cellrowborder" valign="top" width="50%">文件在根目录下的相对路径。例如：'Download/'和'Documents/'。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">'test.txt'</td>         <td class="cellrowborder" valign="top" width="50%">用户文件系统中存储的文件名，支持的文件类型为文件管理器支持的所有类型，以文件管理器为准。例如txt、jpg、mp4和mp3等格式的文件。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="文档类uri获取方式">文档类URI获取方式<i class="anchor-icon anchor-icon-link" anchorid="文档类uri获取方式" tips="复制节点链接"></i></h3>          <ol>      <li>       <p>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-file-picker#documentviewpicker" target="_blank">DocumentViewPicker接口</a>选择或保存文件，返回选择或保存的文件URI。</p></li>      <li>       <p>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-file-picker#audioviewpicker" target="_blank">AudioViewPicker接口</a>选择或保存文件，返回选择或保存的文件URI。</p></li>     </ol>    </div>    <div class="tiledSection">     <h3 id="文档类uri的使用方式">文档类URI的使用方式<i class="anchor-icon anchor-icon-link" anchorid="文档类uri的使用方式" tips="复制节点链接"></i></h3>          <p>normal等级的应用使用此类URI的方式只能通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-file-fs" target="_blank">fs模块</a>进行进一步处理。示例代码参见picker中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/select-user-file#选择文档类文件">选择文档类文件</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/save-user-file#保存文档类文件">保存文档类文件</a>。</p>    </div>    <div class="tiledSection">     <h2 id="媒体文件uri">媒体文件URI<i class="anchor-icon anchor-icon-link" anchorid="媒体文件uri" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="媒体文件uri介绍" class="firsth2">媒体文件URI介绍<i class="anchor-icon anchor-icon-link" anchorid="媒体文件uri介绍" tips="复制节点链接"></i></h3>          <p><strong>媒体文件URI的格式类型为：</strong></p>     <p>图片URI格式：</p>     <ul>      <li>'file://media/Photo/&lt;id&gt;/IMG_datetime_0001/displayName.jpg'</li>     </ul>     <p>视频URI格式：</p>     <ul>      <li>'file://media/Photo/&lt;id&gt;/VID_datetime_0001/displayName.mp4'</li>     </ul>     <p>音频URI格式：</p>     <ul>      <li>'file://media/Audio/&lt;id&gt;/AUD_datetime_0001/displayName.mp3'</li>     </ul>     <p><strong>其中各个字段表示的含义为：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.1" valign="top" width="50%">URI字段</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.2" valign="top" width="50%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">'file://media'</td>         <td class="cellrowborder" valign="top" width="50%">表示这个URI是媒体文件。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">'Photo'</td>         <td class="cellrowborder" valign="top" width="50%">表示这个URI是媒体文件中的图片或者视频类文件。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">'Audio'</td>         <td class="cellrowborder" valign="top" width="50%">表示这个URI是媒体文件中的音频类文件。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">'&lt;id&gt;'</td>         <td class="cellrowborder" valign="top" width="50%">表示在数据库中多个表中处理后的值，并不是指表中的file_id列，注意请不要使用此id去数据库中查询具体文件。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">'IMG_datetime_0001'</td>         <td class="cellrowborder" valign="top" width="50%">表示图片文件在用户文件系统中存储的文件名去掉后缀剩下的部分。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">'VID_datetime_0001'</td>         <td class="cellrowborder" valign="top" width="50%">表示视频文件在用户文件系统中存储的文件名去掉后缀剩下的部分。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">'AUD_datetime_0001'</td>         <td class="cellrowborder" valign="top" width="50%">表示音频文件在用户文件系统中存储的文件名去掉后缀剩下的部分。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="媒体文件uri获取方式">媒体文件URI获取方式<i class="anchor-icon anchor-icon-link" anchorid="媒体文件uri获取方式" tips="复制节点链接"></i></h3>          <ol>      <li>       <p>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-photoaccesshelper-photoviewpicker" target="_blank">PhotoAccessHelper的PhotoViewPicker</a>选择媒体文件，返回选择的媒体文件的URI。</p></li>      <li>       <p>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-photoaccesshelper" target="_blank">photoAccessHelper模块</a>中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-photoaccesshelper-photoaccesshelper#getassets" target="_blank">getAssets</a>或<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-photoaccesshelper-photoaccesshelper#createasset" target="_blank">createAsset</a>接口获取媒体文件对应文件的URI。</p></li>     </ol>    </div>    <div class="tiledSection">     <h3 id="媒体文件uri的使用方式">媒体文件URI的使用方式<i class="anchor-icon anchor-icon-link" anchorid="媒体文件uri的使用方式" tips="复制节点链接"></i></h3>          <p>normal等级的应用使用此类URI可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-photoaccesshelper" target="_blank">photoAccessHelper模块</a>进行进一步处理。示例代码参见媒体资源使用指导中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/photoaccesshelper-photoviewpicker#指定uri获取图片或视频资源">指定URI获取图片或视频资源</a>。此接口需要申请相册管理模块读权限（<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/photoaccesshelper-overview#能力范围">ohos.permission.READ_IMAGEVIDEO</a>），在使用中需要注意应用是否有此权限。</p>     <p>若normal等级的应用不想申请权限也可以通过临时授权的方式使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-photoaccesshelper-photoviewpicker" target="_blank">PhotoAccessHelper的PhotoViewPicker</a>得到的URI使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-photoaccesshelper-photoaccesshelper#getassets" target="_blank">photoAccessHelper.getAssets接口</a>获取对应URI的PhotoAsset对象。通过此方式获取的PhotoAsset对象可调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-photoaccesshelper-photoasset#getthumbnail" target="_blank">getThumbnail</a>方法获取缩略图，并通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-photoaccesshelper-photoasset#get" target="_blank">get接口</a>方法读取<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-photoaccesshelper-e#photokeys" target="_blank">PhotoKeys</a>中的部分信息。</p>     <p>以下为PhotoKeys中支持临时授权方式可以读取的信息：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.4.1.1" valign="top" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.4.1.2" valign="top" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.4.1.3" valign="top" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">URI</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">'uri'</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">文件URI。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">PHOTO_TYPE</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">'media_type'</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">媒体文件类型。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">DISPLAY_NAME</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">'display_name'</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">显示名字。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">SIZE</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">'size'</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">文件大小。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">DATE_ADDED</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">'date_added'</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">文件创建时的Unix时间戳（单位：秒）。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">DATE_MODIFIED</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">'date_modified'</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">文件修改时的Unix时间戳（单位：秒）。修改文件名不会改变此值，当文件内容发生修改时才会更新。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">DURATION</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">'duration'</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">持续时间（单位：毫秒）。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">WIDTH</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">'width'</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">图片宽度（单位：像素）。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">HEIGHT</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">'height'</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">图片高度（单位：像素）。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">DATE_TAKEN</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">'date_taken'</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">拍摄时的Unix时间戳（单位：秒）。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">ORIENTATION</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">'orientation'</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">图片文件的方向。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">TITLE</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">'title'</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">文件标题。</td>        </tr>             </tbody></table></div>     </div>     <p>下面为通过临时授权方式使用媒体文件URI进行获取缩略图和读取文件部分信息的示例代码：</p>     <div _ngcontent-ljg-c106="" class="highlight-div"><div _ngcontent-ljg-c106="" class="highlight-div-header"><div _ngcontent-ljg-c106="" class="highlight-div-header-left"><div _ngcontent-ljg-c106="" class="handle-button expand-button"><div _ngcontent-ljg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ljg-c106="" class="highlight-div-header-right"><div _ngcontent-ljg-c106="" class="handle-button ai-button"></div><div _ngcontent-ljg-c106="" class="handle-button line-button"><div _ngcontent-ljg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ljg-c106="" class="handle-button theme-button"><div _ngcontent-ljg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ljg-c106="" class="handle-button copy-button"><div _ngcontent-ljg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ljg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { photoAccessHelper } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MediaLibraryKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { dataSharePredicates } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 定义一个URI数组，用于接收PhotoViewPicker选择图片返回的URI</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">uris</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = [];</li><li><span class="hljs-comment">// context 是EntryAbility 传过来的context，确保this.getUIContext().getHostContext()返回结果为UIAbilityContext</span></li><li><span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;</li><li>
</li><li><span class="hljs-comment">// 调用PhotoViewPicker.select选择图片</span></li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">photoPickerGetUri</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-title class_">PhotoSelectOptions</span> = <span class="hljs-keyword">new</span> photoAccessHelper.<span class="hljs-title class_">PhotoSelectOptions</span>();</li><li>    <span class="hljs-title class_">PhotoSelectOptions</span>.<span class="hljs-property">MIMEType</span> = photoAccessHelper.<span class="hljs-property">PhotoViewMIMETypes</span>.<span class="hljs-property">IMAGE_TYPE</span>;</li><li>    <span class="hljs-title class_">PhotoSelectOptions</span>.<span class="hljs-property">maxSelectNumber</span> = <span class="hljs-number">1</span>;</li><li>    <span class="hljs-keyword">let</span> photoPicker = <span class="hljs-keyword">new</span> photoAccessHelper.<span class="hljs-title class_">PhotoViewPicker</span>();</li><li>    photoPicker.<span class="hljs-title function_">select</span>(<span class="hljs-title class_">PhotoSelectOptions</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">PhotoSelectResult: photoAccessHelper.PhotoSelectResult</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'PhotoViewPicker.select successfully, PhotoSelectResult uri: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-title class_">PhotoSelectResult</span>));</li><li>      uris = <span class="hljs-title class_">PhotoSelectResult</span>.<span class="hljs-property">photoUris</span>;</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`PhotoViewPicker.select failed with err, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`PhotoViewPicker failed with err, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">uriGetAssets</span>(<span class="hljs-params">context: common.UIAbilityContext</span>) {</li><li><span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> phAccessHelper = photoAccessHelper.<span class="hljs-title function_">getPhotoAccessHelper</span>(context);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">predicates</span>: dataSharePredicates.<span class="hljs-property">DataSharePredicates</span> = <span class="hljs-keyword">new</span> dataSharePredicates.<span class="hljs-title class_">DataSharePredicates</span>();</li><li>    <span class="hljs-comment">// 配置查询条件，使用PhotoViewPicker选择图片返回的uri进行查询</span></li><li>    predicates.<span class="hljs-title function_">equalTo</span>(<span class="hljs-string">'uri'</span>, uris[<span class="hljs-number">0</span>]);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">fetchOption</span>: photoAccessHelper.<span class="hljs-property">FetchOptions</span> = {</li><li>      <span class="hljs-attr">fetchColumns</span>: [photoAccessHelper.<span class="hljs-property">PhotoKeys</span>.<span class="hljs-property">WIDTH</span>, photoAccessHelper.<span class="hljs-property">PhotoKeys</span>.<span class="hljs-property">HEIGHT</span>, photoAccessHelper.<span class="hljs-property">PhotoKeys</span>.<span class="hljs-property">TITLE</span>, photoAccessHelper.<span class="hljs-property">PhotoKeys</span>.<span class="hljs-property">DURATION</span>],</li><li>      <span class="hljs-attr">predicates</span>: predicates</li><li>    };</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">fetchResult</span>: photoAccessHelper.<span class="hljs-property">FetchResult</span>&lt;photoAccessHelper.<span class="hljs-property">PhotoAsset</span>&gt; = <span class="hljs-keyword">await</span> phAccessHelper.<span class="hljs-title function_">getAssets</span>(fetchOption);</li><li>    <span class="hljs-comment">// 得到URI对应的PhotoAsset对象，读取文件的部分信息</span></li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">asset</span>: photoAccessHelper.<span class="hljs-property">PhotoAsset</span> = <span class="hljs-keyword">await</span> fetchResult.<span class="hljs-title function_">getFirstObject</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'asset displayName: '</span>, asset.<span class="hljs-property">displayName</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'asset uri: '</span>, asset.<span class="hljs-property">uri</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'asset photoType: '</span>, asset.<span class="hljs-property">photoType</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'asset width: '</span>, asset.<span class="hljs-title function_">get</span>(photoAccessHelper.<span class="hljs-property">PhotoKeys</span>.<span class="hljs-property">WIDTH</span>));</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'asset height: '</span>, asset.<span class="hljs-title function_">get</span>(photoAccessHelper.<span class="hljs-property">PhotoKeys</span>.<span class="hljs-property">HEIGHT</span>));</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'asset title: '</span> + asset.<span class="hljs-title function_">get</span>(photoAccessHelper.<span class="hljs-property">PhotoKeys</span>.<span class="hljs-property">TITLE</span>));</li><li>    <span class="hljs-comment">// 获取缩略图</span></li><li>    asset.<span class="hljs-title function_">getThumbnail</span>(<span class="hljs-function">(<span class="hljs-params">err, pixelMap</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err == <span class="hljs-literal">undefined</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getThumbnail successful '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(pixelMap));</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'getThumbnail fail'</span>, err);</li><li>      }</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (error){</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`uriGetAssets failed with err, code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>