<h1 _ngcontent-fpn-c119="" class="doc-title ng-star-inserted" title="申请位置权限开发指导"> 申请位置权限开发指导 </h1>

<div _ngcontent-fpn-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="场景概述">场景概述<i class="anchor-icon anchor-icon-link" anchorid="场景概述" tips="复制节点链接"></i></h2><p>应用在使用Location Kit系统能力前，需要检查是否已经获取用户授权访问设备位置信息。如未获得授权，可以向用户申请需要的位置权限。</p> <p>系统提供的定位权限有：</p> <ul><li>ohos.permission.LOCATION：用于获取精准位置，精准度在米级别。</li><li>ohos.permission.APPROXIMATELY_LOCATION：用于获取模糊位置，精确度为5公里。</li><li>ohos.permission.LOCATION_IN_BACKGROUND：用于应用切换到后台仍然需要获取定位信息的场景。</li></ul> <p>Location Kit接口对权限的要求参见：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/location-api" target="_blank">Location Kit API参考</a>。</p> </div> <div class="tiledSection"><h2 id="开发步骤">开发步骤<i class="anchor-icon anchor-icon-link" anchorid="开发步骤" tips="复制节点链接"></i></h2><ol><li>开发者可以在应用配置文件中声明所需要的权限并<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/request-user-authorization" target="_blank">向用户申请授权</a>。</li><li>当APP运行在前台，且访问设备位置信息时，申请位置权限的方式如下：<p><strong>表1</strong> 位置权限申请方式介绍</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.2.2.2.2.1.4.1.1" valign="top" width="33.33333333333333%"><p>申请位置权限的方式</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.2.2.2.2.1.4.1.2" valign="top" width="33.33333333333333%"><p>是否允许申请</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.2.2.2.2.1.4.1.3" valign="top" width="33.33333333333333%"><p>申请成功后获取的位置的精确度</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>申请ohos.permission.APPROXIMATELY_LOCATION</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>是</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>获取到模糊位置，精确度为5公里。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>同时申请ohos.permission.APPROXIMATELY_LOCATION和ohos.permission.LOCATION</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>是</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>获取到精准位置，精准度在米级别。</p> </td> </tr>  </tbody></table></div> </div> </li><li>当APP运行在后台时，申请位置权限的方式如下：<p>如果应用在后台运行时也需要访问设备位置，除了按照步骤2申请权限外，还需要申请LOCATION类型的长时任务。</p> <p>长时任务申请可参考：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/continuous-task" target="_blank">长时任务介绍</a>。</p> </li></ol> </div> </div> <div></div></div>