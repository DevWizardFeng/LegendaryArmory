<h1 _ngcontent-kbm-c119="" class="doc-title ng-star-inserted" title="画布的获取与绘制结果的显示（ArkTS）"> 画布的获取与绘制结果的显示（ArkTS） </h1>

<div _ngcontent-kbm-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="场景介绍">场景介绍<i class="anchor-icon anchor-icon-link" anchorid="场景介绍" tips="复制节点链接"></i></h2>          <p>Canvas即画布，提供绘制基本图形的能力，用于在屏幕上绘制图形和处理图形。开发者可以通过Canvas实现自定义的绘图效果，增强应用的用户体验。</p>     <p>Canvas是图形绘制的核心，本章中提到的所有绘制操作（包括基本图形的绘制、文字的绘制、图片的绘制、图形变换等）都是基于Canvas的。</p>     <p>目前ArkTS有两种获取Canvas的方式：<a href="/consumer/cn/doc/harmonyos-guides/canvas-get-result-draw-arkts#获取可直接显示的canvas画布">获取可直接显示的Canvas画布</a>、<a href="/consumer/cn/doc/harmonyos-guides/canvas-get-result-draw-arkts#离屏canvas画布的获取与显示">获取离屏的Canvas</a>，前者在调用绘制接口之后无需进行额外的操作即可完成绘制结果的上屏显示，而后者需要依靠已有的显示手段来显示绘制结果。</p>    </div>    <div class="tiledSection">     <h2 id="获取可直接显示的canvas画布">获取可直接显示的Canvas画布<i class="anchor-icon anchor-icon-link" anchorid="获取可直接显示的canvas画布" tips="复制节点链接"></i></h2>          <p>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-rendernode" target="_blank">RenderNode</a>获取可直接上屏显示的Canvas画布。</p>     <ol>      <li>       <p>添加自定义RenderNode。</p></li>      <li>       <p>添加自定义<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-nodecontroller" target="_blank">NodeController</a>。</p></li>      <li>       <p>重写自定义RenderNode的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-rendernode#draw" target="_blank">draw()</a>函数，获取Canvas进行自定义的绘制操作，即本章下文中的内容。</p></li>      <li>       <p>将自定义NodeController进行显示。</p></li>     </ol>     <div _ngcontent-kbm-c106="" class="highlight-div"><div _ngcontent-kbm-c106="" class="highlight-div-header"><div _ngcontent-kbm-c106="" class="highlight-div-header-left"><div _ngcontent-kbm-c106="" class="handle-button expand-button"><div _ngcontent-kbm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kbm-c106="" class="highlight-div-header-right"><div _ngcontent-kbm-c106="" class="handle-button ai-button"></div><div _ngcontent-kbm-c106="" class="handle-button line-button"><div _ngcontent-kbm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kbm-c106="" class="handle-button theme-button"><div _ngcontent-kbm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kbm-c106="" class="handle-button copy-button"><div _ngcontent-kbm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kbm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIContext</span>, <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">DrawContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-comment">// 1. 自定义RenderNode</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-keyword">async</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params">context: DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-comment">// 3. 自定义的绘制相关操作</span></li><li>    <span class="hljs-keyword">const</span> brush = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Brush</span>();</li><li>    brush.<span class="hljs-title function_">setColor</span>({<span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>});</li><li>    canvas.<span class="hljs-title function_">attachBrush</span>(brush);</li><li>    canvas.<span class="hljs-title function_">drawRect</span>({<span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">300</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">300</span>});</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">// 2. 自定义NodeController</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  myRenderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyRenderNode</span>();</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> === <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">const</span> renderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (renderNode !== <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">myRenderNode</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffffffff</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">myRenderNode</span>.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">4800</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">4800</span> };</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">myRenderNode</span>.<span class="hljs-property">pivot</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0.2</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0.8</span> };</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">myRenderNode</span>.<span class="hljs-property">scale</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">1</span> };</li><li>      renderNode.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myRenderNode</span>);</li><li>      renderNode.<span class="hljs-property">clipToFrame</span> = <span class="hljs-literal">true</span>;</li><li>    }</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">RenderTest</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'hello'</span></li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-comment">// 4. 将自定义NodeController进行显示</span></li><li>        <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>())</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'80%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="离屏canvas画布的获取与显示">离屏Canvas画布的获取与显示<i class="anchor-icon anchor-icon-link" anchorid="离屏canvas画布的获取与显示" tips="复制节点链接"></i></h2>          <ol>      <li>       <p>添加自定义RenderNode。</p></li>      <li>       <p>添加自定义<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-nodecontroller" target="_blank">NodeController</a>。</p></li>      <li>       <p>在MyNodeController的aboutToAppear()函数中创建PixelMap。</p></li>      <li>       <p>重写自定义RenderNode的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-rendernode#draw" target="_blank">draw()</a>函数，在其中获取离屏Canvas进行绘制：</p>       <ol>        <li>利用3中创建的PixelMap构造离屏Canvas。</li>        <li>对离屏Canvas进行自定义的绘制操作。</li>        <li>将离屏Canvas的绘制结果交给RenderNode。</li>       </ol></li>      <li>       <p>将自定义NodeController进行显示。</p></li>     </ol>     <div _ngcontent-kbm-c106="" class="highlight-div"><div _ngcontent-kbm-c106="" class="highlight-div-header"><div _ngcontent-kbm-c106="" class="highlight-div-header-left"><div _ngcontent-kbm-c106="" class="handle-button expand-button"><div _ngcontent-kbm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kbm-c106="" class="highlight-div-header-right"><div _ngcontent-kbm-c106="" class="handle-button ai-button"></div><div _ngcontent-kbm-c106="" class="handle-button line-button"><div _ngcontent-kbm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kbm-c106="" class="handle-button theme-button"><div _ngcontent-kbm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kbm-c106="" class="handle-button copy-button"><div _ngcontent-kbm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kbm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIContext</span>, <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">DrawContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;</li><li><span class="hljs-keyword">import</span> { taskpool } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-comment">// 1. 自定义RenderNode</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-attr">pixelMap</span>: image.<span class="hljs-property">PixelMap</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-title function_">setPixelMap</span>(<span class="hljs-params">pixelMap: image.PixelMap</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelMap</span> = pixelMap;</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">async</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params">context: DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelMap</span> != <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-comment">// 4.1 利用3中创建的PixelMap构造离屏Canvas</span></li><li>      <span class="hljs-keyword">const</span> canvas_ = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelMap</span>);</li><li>
</li><li>      <span class="hljs-comment">// 4.2 离屏绘制</span></li><li>      <span class="hljs-keyword">const</span> brush = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Brush</span>();</li><li>      brush.<span class="hljs-title function_">setColor</span>({ <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span> });</li><li>      canvas_.<span class="hljs-title function_">attachBrush</span>(brush);</li><li>      canvas_.<span class="hljs-title function_">drawRect</span>({<span class="hljs-attr">left</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">right</span>:<span class="hljs-number">100</span>,<span class="hljs-attr">top</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">bottom</span>:<span class="hljs-number">100</span>});</li><li>
</li><li>      <span class="hljs-comment">// 4.3 将离屏Canvas的绘制结果交给RenderNode</span></li><li>      canvas.<span class="hljs-title function_">drawImage</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelMap</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);</li><li>    }</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Concurrent</span></li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">CreatePixelMapAsync</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">const</span> color : <span class="hljs-title class_">ArrayBuffer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">4000000</span>);  <span class="hljs-comment">// 4000000为需要创建的像素buffer大小，取值为：height * width *4</span></li><li>  <span class="hljs-keyword">let</span> opts : image.<span class="hljs-property">InitializationOptions</span> = { <span class="hljs-attr">editable</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">pixelFormat</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">size</span>: { <span class="hljs-attr">height</span>: <span class="hljs-number">1000</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">1000</span> } };</li><li>  <span class="hljs-keyword">const</span> pixel = <span class="hljs-keyword">await</span> image.<span class="hljs-title function_">createPixelMap</span>(color, opts);</li><li>  <span class="hljs-keyword">return</span> pixel;</li><li>}</li><li>
</li><li><span class="hljs-comment">// 2. 自定义NodeController</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  myRenderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyRenderNode</span>();</li><li>
</li><li>  <span class="hljs-comment">// 3. 在MyNodeController的aboutToAppear中创建PixelMap</span></li><li>  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">let</span> task = <span class="hljs-keyword">new</span> taskpool.<span class="hljs-title class_">Task</span>(<span class="hljs-title class_">CreatePixelMapAsync</span>);</li><li>    taskpool.<span class="hljs-title function_">execute</span>(task).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">pixel:<span class="hljs-built_in">Object</span></span>)=&gt;</span>{</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">myRenderNode</span>.<span class="hljs-title function_">setPixelMap</span>(pixel <span class="hljs-keyword">as</span> image.<span class="hljs-property">PixelMap</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">myRenderNode</span>.<span class="hljs-title function_">invalidate</span>();</li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> === <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">const</span> renderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (renderNode !== <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">myRenderNode</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffffffff</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">myRenderNode</span>.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">4800</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">4800</span> };</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">myRenderNode</span>.<span class="hljs-property">pivot</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0.2</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0.8</span> };</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">myRenderNode</span>.<span class="hljs-property">scale</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">1</span> };</li><li>      renderNode.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myRenderNode</span>);</li><li>      renderNode.<span class="hljs-property">clipToFrame</span> = <span class="hljs-literal">true</span>;</li><li>    }</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li></ol></pre></div></div>     <div _ngcontent-kbm-c106="" class="highlight-div"><div _ngcontent-kbm-c106="" class="highlight-div-header"><div _ngcontent-kbm-c106="" class="highlight-div-header-left"><div _ngcontent-kbm-c106="" class="handle-button expand-button"><div _ngcontent-kbm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kbm-c106="" class="highlight-div-header-right"><div _ngcontent-kbm-c106="" class="handle-button ai-button"></div><div _ngcontent-kbm-c106="" class="handle-button line-button"><div _ngcontent-kbm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kbm-c106="" class="handle-button theme-button"><div _ngcontent-kbm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kbm-c106="" class="handle-button copy-button"><div _ngcontent-kbm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kbm-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-less" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">@Entry</span></li><li><span class="hljs-variable">@Component</span></li><li>struct RenderTest {</li><li>  <span class="hljs-variable">@State</span> <span class="hljs-attribute">message</span>: string = <span class="hljs-string">'hello'</span></li><li>  nodeController = new <span class="hljs-built_in">MyNodeController</span>()</li><li>
</li><li>  <span class="hljs-built_in">build</span>() {</li><li>    <span class="hljs-selector-tag">Row</span>() {</li><li>      <span class="hljs-selector-tag">Column</span>() {</li><li>        <span class="hljs-comment">// 5. 将自定义NodeController进行显示</span></li><li>        <span class="hljs-selector-tag">NodeContainer</span>(this.nodeController)</li><li>          <span class="hljs-selector-class">.width</span>(<span class="hljs-string">'100%'</span>)</li><li>      }</li><li>      <span class="hljs-selector-class">.width</span>(<span class="hljs-string">'100%'</span>)</li><li>      <span class="hljs-selector-class">.height</span>(<span class="hljs-string">'80%'</span>)</li><li>    }</li><li>    <span class="hljs-selector-class">.height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="示例代码">示例代码<i class="anchor-icon anchor-icon-link" anchorid="示例代码" tips="复制节点链接"></i></h2>          <ul>      <li><a href="https://gitcode.com/HarmonyOS_Samples/DocsSample_Graphics/blob/master/ArkGraphics2D/Drawing/ArkTSGraphicsDraw" target="_blank">图形绘制（ArkTS）</a></li>     </ul>    </div>   </div>   <div></div></div>