<h1 _ngcontent-log-c119="" class="doc-title ng-star-inserted" title="目标设备接收分享数据一步直达体验"> 目标设备接收分享数据一步直达体验 </h1>

<div _ngcontent-log-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>为保证华为分享目标设备接收体验更优，规范分享数据接收时的直达体验，目标设备接收到分享数据后，将按照如下规则处理：</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.2.1.6.1.1" valign="top"><p>接收能力</p> </th> <th align="left" class="cellrowborder" colspan="2" id="mcps1.3.2.1.6.1.2" valign="top"><p>数据类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.2.1.6.1.3" valign="top"><p>存储位置</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.2.1.6.1.4" valign="top"><p>预览方式</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" rowspan="7" valign="top"><p>一步直达</p> </td> <td class="cellrowborder" colspan="2" valign="top"><p>媒体类型（仅包含图片和视频文件）</p> </td> <td class="cellrowborder" valign="top"><p>PC/2in1设备：文件管理“华为分享”目录。</p> <p>其他设备：图库“华为分享”相册。</p> </td> <td class="cellrowborder" valign="top"><p>PC/2in1设备：文件管理文件高亮显示。</p> <p>其他设备：图库大图预览。</p> </td> </tr> <tr><td class="cellrowborder" rowspan="3" valign="top"><p>链接类型</p> </td> <td class="cellrowborder" valign="top"><p>Applinking</p> </td> <td class="cellrowborder" valign="top"><p>不涉及</p> </td> <td class="cellrowborder" valign="top"><p>直达对应的应用。如应用未安装，拉起浏览器或应用市场（以AppLinking配置为准）。</p> </td> </tr> <tr><td class="cellrowborder" valign="top"><p>Deeplink</p> </td> <td class="cellrowborder" valign="top"><p>不涉及</p> </td> <td class="cellrowborder" valign="top"><p>直达对应的应用。如应用未安装，弹窗提示用户。</p> </td> </tr> <tr><td class="cellrowborder" valign="top"><p>普通链接（除系统可识别的特殊链接外的其他http/https链接）</p> </td> <td class="cellrowborder" valign="top"><p>不涉及</p> </td> <td class="cellrowborder" valign="top"><p>直达浏览器打开对应的链接。</p> </td> </tr> <tr><td class="cellrowborder" colspan="2" valign="top"><p>纯文本类型</p> </td> <td class="cellrowborder" valign="top"><p>文件管理“华为分享”目录，以txt格式文件保存。</p> </td> <td class="cellrowborder" valign="top"><p>使用文件预览打开。</p> </td> </tr> <tr><td class="cellrowborder" colspan="2" valign="top"><p>文件类型</p> </td> <td class="cellrowborder" valign="top"><p>文件管理“华为分享”目录。</p> </td> <td class="cellrowborder" valign="top"><p>单文件使用文件预览，多文件高亮显示。</p> </td> </tr> <tr><td class="cellrowborder" colspan="2" valign="top"><p>自定义类型（除系统已预置的utd类型之外）</p> </td> <td class="cellrowborder" valign="top"><p>文件管理“华为分享”目录。</p> </td> <td class="cellrowborder" valign="top"><p>有可打开应用直接打开，无可打开应用弹出提示。</p> </td> </tr> <tr><td class="cellrowborder" valign="top"><p>沙箱接收</p> </td> <td class="cellrowborder" colspan="2" valign="top"><p>仅支持文件类型（包含系统已预置的文件类型及自定义类型文件）</p> </td> <td class="cellrowborder" valign="top"><p>应用沙箱指定目录。</p> </td> <td class="cellrowborder" valign="top"><p>应用自行处理预览方式。</p> </td> </tr>  </tbody></table></div> </div> <div class="tiledSection"><h2 id="section11113109173317">指定应用直达<i class="anchor-icon anchor-icon-link" anchorid="section11113109173317" tips="复制节点链接"></i></h2><p>从6.0.0(20) Beta3版本开始，碰一碰分享支持指定应用拉起的能力。</p> <p>除以上系统默认直达方式外，同开发者账号下应用支持以下拉起规则：</p> <ul><li>同包名应用优先直达。若接收端已安装和发送端相同的应用，且支持拉起（满足<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/explicit-implicit-want-mappings#隐式want匹配原理" target="_blank">隐式匹配原理</a>）该应用，则优先拉起同包名应用。</li><li>同开发者账号(developerId相同)下的应用可通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file" target="_blank">module.json5配置文件</a>配置实现优先拉起指定应用。</li></ul> </div> <div class="tiledSection"><h3 id="section15633910151518" class="firsth2">能力限制<i class="anchor-icon anchor-icon-link" anchorid="section15633910151518" tips="复制节点链接"></i></h3><ul><li>仅支持同开发者账号（developerId相同）下的应用。</li><li>不支持媒体类文件和压缩包类型的分享数据。</li><li>不支持多文件（2个及以上）的分享数据。</li><li>仅支持碰一碰分享能力。</li></ul> </div> <div class="tiledSection"><h3 id="section191987537344">配置示例<i class="anchor-icon anchor-icon-link" anchorid="section191987537344" tips="复制节点链接"></i></h3><p>通过在配置文件（src/main/module.json5）中配置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#metadata标签" target="_blank">metadata</a>标签实现。</p> <ul><li>shareType：用于分组匹配，当发送端应用和接收端应用配置相同的shareType值时，匹配规则才可生效。仅支持配置一项，配置多项时，仅第一项生效。</li><li>shareBundleName：指定打开应用的包名，可配置多项。当shareType相同时，按数组排列顺序匹配第一个已安装且支持拉起（满足<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/explicit-implicit-want-mappings#隐式want匹配原理" target="_blank">隐式匹配原理</a>）的应用，并优先拉起该应用。</li></ul> <div _ngcontent-log-c106="" class="highlight-div"><div _ngcontent-log-c106="" class="highlight-div-header"><div _ngcontent-log-c106="" class="highlight-div-header-left"><div _ngcontent-log-c106="" class="handle-button expand-button"><div _ngcontent-log-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-log-c106="" class="highlight-div-header-right"><div _ngcontent-log-c106="" class="handle-button ai-button"></div><div _ngcontent-log-c106="" class="handle-button line-button"><div _ngcontent-log-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-log-c106="" class="handle-button theme-button"><div _ngcontent-log-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-log-c106="" class="handle-button copy-button"><div _ngcontent-log-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-log-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li>{</li><li>  <span class="hljs-string">"module"</span>: {</li><li>    <span class="hljs-string">"abilities"</span>: [</li><li>      {</li><li>        <span class="hljs-string">"name"</span>: <span class="hljs-string">"EntryAbility"</span>,</li><li>        <span class="hljs-string">"srcEntry"</span>: <span class="hljs-string">"./ets/entryability/EntryAbility.ets"</span>,</li><li>        <span class="hljs-string">"startWindowIcon"</span>: <span class="hljs-string">"$media:launcher"</span>,</li><li>        <span class="hljs-string">"startWindowBackground"</span>: <span class="hljs-string">"$color:start_window_background"</span>,</li><li>        <span class="hljs-string">"exported"</span>: <span class="hljs-keyword">true</span>,</li><li>        <span class="hljs-string">"skills"</span>: [</li><li>          {</li><li>            <span class="hljs-string">"entities"</span>: [</li><li>              <span class="hljs-string">"entity.system.home"</span>,</li><li>            ],</li><li>            <span class="hljs-string">"actions"</span>: [</li><li>              <span class="hljs-string">"ohos.want.action.viewData"</span></li><li>            ],</li><li>            <span class="hljs-string">"uris"</span>: [</li><li>              {</li><li>                <span class="hljs-string">"scheme"</span>: <span class="hljs-string">"file"</span>,</li><li>                <span class="hljs-string">"linkFeature"</span>: <span class="hljs-string">"FileOpen"</span>,</li><li>                <span class="hljs-string">"type"</span>: <span class="hljs-string">"org.openxmlformats.wordprocessingml.document"</span>,</li><li>                <span class="hljs-string">"maxFileSupported"</span>: <span class="hljs-number">1</span></li><li>              }</li><li>            ],</li><li>            <span class="hljs-string">"domainVerify"</span>: <span class="hljs-keyword">true</span></li><li>          }</li><li>        ]</li><li>      },</li><li>    ],</li><li>    <span class="hljs-string">"metadata"</span>: [</li><li>      {</li><li>        <span class="hljs-string">"name"</span>: <span class="hljs-string">"shareType"</span>,</li><li>        <span class="hljs-string">"value"</span>: <span class="hljs-string">"sharekitModel"</span>,</li><li>      },</li><li>      {</li><li>        <span class="hljs-string">"name"</span>: <span class="hljs-string">"shareBundleName"</span>,</li><li>        <span class="hljs-string">"value"</span>: <span class="hljs-string">"com.example.sharekitPhone"</span>,</li><li>      },</li><li>      {</li><li>        <span class="hljs-string">"name"</span>: <span class="hljs-string">"shareBundleName"</span>,</li><li>        <span class="hljs-string">"value"</span>: <span class="hljs-string">"com.example.sharekitPc"</span>,</li><li>      }</li><li>    ]</li><li>  }</li><li>}</li></ol></pre></div></div> </div> </div> <div></div></div>