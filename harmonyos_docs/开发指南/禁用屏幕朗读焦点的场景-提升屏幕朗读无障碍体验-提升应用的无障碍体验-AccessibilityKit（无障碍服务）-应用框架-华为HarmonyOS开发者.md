<h1 _ngcontent-rva-c119="" class="doc-title ng-star-inserted" title="禁用屏幕朗读焦点的场景"> 禁用屏幕朗读焦点的场景 </h1>

<div _ngcontent-rva-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="section191713131761">设计场景<i class="anchor-icon anchor-icon-link" anchorid="section191713131761" tips="复制节点链接"></i></h2><p>装饰性的控件一般为分隔符、占位符和美化图标等，这类图形元素仅仅起到调整页面布局或装饰性效果，并不会向用户传达有效的信息或提供交互功能，删除后不影响指引用户体验。可以设置控件的无障碍组accessibilityGroup、无障碍重要性accessibilityLevel、组件可见性visibility等属性将其设置为无障碍不可聚焦，这样在屏幕朗读模式下控件就不会获取焦点和朗读。</p> <p>通过以下无障碍属性可以改变控件可聚焦属性：</p> <ul><li>accessibilityGroup(true) 用于多个组件的组合，拼接所有子组件text文本并设置到无障碍组节点，除非子组件设置了accessibilityLevel为yes，否则子组件默认一定都不可聚焦。</li><li>accessibilityLevel("no")用于组件设置不可聚焦，忽略当前组件的文本属性和点击属性。</li><li>accessibilityLevel("no-hide-descendants")用于组件及其所有子组件设置不可聚焦，忽略当前组件及其所有子组件的文本属性和点击属性。</li></ul> </div> <div class="tiledSection"><h2 id="section10503521965">开发实例<i class="anchor-icon anchor-icon-link" anchorid="section10503521965" tips="复制节点链接"></i></h2><p>以下代码同时显示“Broadcast”和“No broadcast”消息，但当ScreenReader处于“打开”状态时，message可被聚焦，但message1将不被聚焦。</p> <div _ngcontent-rva-c106="" class="highlight-div"><div _ngcontent-rva-c106="" class="highlight-div-header"><div _ngcontent-rva-c106="" class="highlight-div-header-left"><div _ngcontent-rva-c106="" class="handle-button expand-button"><div _ngcontent-rva-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rva-c106="" class="highlight-div-header-right"><div _ngcontent-rva-c106="" class="handle-button ai-button"></div><div _ngcontent-rva-c106="" class="handle-button line-button"><div _ngcontent-rva-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rva-c106="" class="handle-button theme-button"><div _ngcontent-rva-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rva-c106="" class="handle-button copy-button"><div _ngcontent-rva-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rva-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class=""><span class="hljs-meta">@Entry</span></span></li><li><span class=""><span class="hljs-meta">@Component</span></span></li><li><span class="hljs-keyword">export</span> struct <span class=""><span class="hljs-title class_">Rule</span>_2_1_2 </span><span class="">{</span></li><li>  <span class=""><span class="hljs-attr">title</span></span><span class="">: </span><span class=""><span class="hljs-built_in">string</span> </span><span class="">= </span><span class=""><span class="hljs-string">'Rule 2.1.2'</span></span></li><li>  <span class=""><span class="hljs-meta">@State</span> </span><span class=""><span class="hljs-attr">message</span></span><span class="">: </span><span class=""><span class="hljs-built_in">string</span> </span><span class="">= </span><span class=""><span class="hljs-string">'Broadcast'</span></span><span class="">;</span></li><li>  <span class=""><span class="hljs-meta">@State</span> </span><span class=""><span class="hljs-attr">message1</span></span><span class="">: </span><span class=""><span class="hljs-built_in">string</span> </span><span class="">= </span><span class=""><span class="hljs-string">'No broadcast'</span></span><span class="">;</span></li><li>
</li><li>  <span class=""><span class="hljs-title function_">build</span></span><span class="">(<span class="hljs-params"></span>) </span><span class="">{</span></li><li>    <span class=""><span class="hljs-title class_">NavDestination</span></span><span class="">() </span><span class="">{</span></li><li>      <span class=""><span class="hljs-title class_">Column</span></span><span class="">() </span><span class="">{</span></li><li>        <span class=""><span class="hljs-title class_">Row</span></span><span class="">() </span><span class="">{</span></li><li>          <span class=""><span class="hljs-title class_">Text</span></span><span class="">(</span><span class="hljs-variable language_">this</span><span class="">.</span><span class=""><span class="hljs-property">message</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">fontSize</span></span><span class="">(</span><span class=""><span class="hljs-number">40</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">fontWeight</span></span><span class="">(</span><span class=""><span class="hljs-title class_">FontWeight</span></span><span class="">.</span><span class=""><span class="hljs-property">Bold</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">fontColor</span></span><span class="">(</span><span class=""><span class="hljs-title class_">Color</span></span><span class="">.</span><span class=""><span class="hljs-property">Blue</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">margin</span></span><span class="">(</span><span class="">{</span></li><li>              <span class=""><span class="hljs-attr">left</span></span><span class="">: </span><span class=""><span class="hljs-number">40</span></span></li><li>            <span class="">}</span><span class="">)</span></li><li>        <span class="">}</span></li><li>        <span class="">.</span><span class=""><span class="hljs-title function_">width</span></span><span class="">(</span><span class=""><span class="hljs-string">'100%'</span></span><span class="">)</span></li><li>        <span class="">.</span><span class=""><span class="hljs-title function_">height</span></span><span class="">(</span><span class=""><span class="hljs-string">'50%'</span></span><span class="">)</span></li><li>        <span class=""><span class="hljs-title class_">Row</span></span><span class="">() </span><span class="">{</span></li><li>          <span class=""><span class="hljs-title class_">Text</span></span><span class="">(</span><span class="hljs-variable language_">this</span><span class="">.</span><span class=""><span class="hljs-property">message1</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">fontSize</span></span><span class="">(</span><span class=""><span class="hljs-number">40</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">fontWeight</span></span><span class="">(</span><span class=""><span class="hljs-title class_">FontWeight</span></span><span class="">.</span><span class=""><span class="hljs-property">Bold</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">fontColor</span></span><span class="">(</span><span class=""><span class="hljs-title class_">Color</span></span><span class="">.</span><span class=""><span class="hljs-property">Grey</span></span><span class="">)</span></li><li>            <span class="">.</span><span class=""><span class="hljs-title function_">margin</span></span><span class="">(</span><span class="">{</span></li><li>              <span class=""><span class="hljs-attr">left</span></span><span class="">: </span><span class=""><span class="hljs-number">40</span></span></li><li>            <span class="">}</span><span class="">)</span><span class="">.</span><span class=""><span class="hljs-title function_">accessibilityLevel</span></span><span class="">(</span><span class=""><span class="hljs-string">"no"</span></span><span class="">) </span><span class=""><span class="hljs-comment">// use for component</span></span></li><li>        <span class="">}</span></li><li>        <span class=""><span class="hljs-comment">//.accessibilityGroup(true)</span></span></li><li><span class="">        <span class="hljs-comment">//.accessibilityLevel("no-hide-descendants") // use for container</span></span></li><li><span class="">        <span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment">可以使用这两行代替</span></span><span class=""><span class="hljs-comment">28</span></span><span class=""><span class="hljs-comment">行的</span></span><span class=""><span class="hljs-comment">accessibilityLevel("no")</span></span></li><li>        <span class="">.</span><span class=""><span class="hljs-title function_">width</span></span><span class="">(</span><span class=""><span class="hljs-string">'100%'</span></span><span class="">)</span></li><li>        <span class="">.</span><span class=""><span class="hljs-title function_">height</span></span><span class="">(</span><span class=""><span class="hljs-string">'50%'</span></span><span class="">)</span></li><li>      <span class="">}</span></li><li>      <span class="">.</span><span class=""><span class="hljs-title function_">height</span></span><span class="">(</span><span class=""><span class="hljs-string">'100%'</span></span><span class="">)</span></li><li>    <span class="">}</span></li><li>    <span class="">.</span><span class=""><span class="hljs-title function_">title</span></span><span class="">(</span><span class="hljs-variable language_">this</span><span class="">.</span><span class=""><span class="hljs-property">title</span></span><span class="">)</span></li><li>  <span class="">}</span></li><li><span class="">}</span></li></ol></pre></div></div> </div> </div> <div></div></div>