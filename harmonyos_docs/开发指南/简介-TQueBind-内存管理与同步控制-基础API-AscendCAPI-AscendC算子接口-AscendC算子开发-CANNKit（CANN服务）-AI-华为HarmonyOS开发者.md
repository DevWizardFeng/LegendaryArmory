<h1 _ngcontent-uvj-c119="" class="doc-title ng-star-inserted" title="简介"> 简介 </h1>

<div _ngcontent-uvj-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>TQueBind绑定源逻辑位置和目的逻辑位置，根据源位置和目的位置，来确定内存分配的位置、插入对应的同步事件，帮助开发者解决内存分配和管理、同步等问题。TQue是TQueBind的简化模式。通常情况下开发者使用TQue进行编程，TQueBind对外提供一些特殊数据通路的内存管理和同步控制，涉及这些通路时可以直接使用TQueBind。</p> <p>如下图的数据通路示意图所示，红色线条和蓝色线条的通路可通过TQueBind定义表达，蓝色线条的通路可通过TQue进行简化表达。</p> <p><span><img height="227.43" originheight="365" originwidth="838" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114326.93428515649581195630192065449708:50001231000000:2800:2764CBE6C761ACDCCD24FBA2A94990A839759ED391D9C4010E956B60D60ED8F6.png" title="点击放大" width="522.69"></span>l</p>  <div class="tablenoborder"><a name="ZH-CN_TOPIC_0000002479473013__zh-cn_topic_0000002092161384_table27730mcpsimp"></a><a name="zh-cn_topic_0000002092161384_table27730mcpsimp"></a><div class="tbBox"><table id="zh-cn_topic_0000002092161384_table27730mcpsimp" class="layoutFixed idpTab"><caption><b>表1 </b>TQueBind和TQue对于数据通路的表达</caption><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.2.4.1.1" valign="top" width="23%"><p>数据通路</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.4.1.2" valign="top" width="44%"><p>TQueBind定义</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.4.1.3" valign="top" width="33%"><p>TQue定义</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="23%"><p>GM-&gt;VECIN</p> </td> <td class="cellrowborder" valign="top" width="44%"><p>TQueBind&lt;TPosition::GM, TPosition::VECIN, 1&gt;</p> </td> <td class="cellrowborder" valign="top" width="33%"><p>TQue&lt;TPosition::VECIN, 1&gt;</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="23%"><p>VECOUT-&gt;GM</p> </td> <td class="cellrowborder" valign="top" width="44%"><p>TQueBind&lt;TPosition::VECOUT, TPosition::GM, 1&gt;</p> </td> <td class="cellrowborder" valign="top" width="33%"><p>TQue&lt;TPosition::VECOUT, 1&gt;</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="23%"><p>VECIN-&gt;VECOUT</p> </td> <td class="cellrowborder" valign="top" width="44%"><p>TQueBind&lt;TPosition::VECIN, TPosition::VECOUT, 1&gt;</p> </td> <td class="cellrowborder" valign="top" width="33%"><p>-</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="23%"><p>GM-&gt;A1</p> </td> <td class="cellrowborder" valign="top" width="44%"><p>TQueBind&lt;TPosition::GM, TPosition::A1, 1&gt;</p> </td> <td class="cellrowborder" valign="top" width="33%"><p>TQue&lt;TPosition::A1, 1&gt;</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="23%"><p>GM-&gt;B1</p> </td> <td class="cellrowborder" valign="top" width="44%"><p>TQueBind&lt;TPosition::GM, TPosition::B1, 1&gt;</p> </td> <td class="cellrowborder" valign="top" width="33%"><p>TQue&lt;TPosition::B1, 1&gt;</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="23%"><p>GM-&gt;C1</p> </td> <td class="cellrowborder" valign="top" width="44%"><p>TQueBind&lt;TPosition::GM, TPosition::C1, 1&gt;</p> </td> <td class="cellrowborder" valign="top" width="33%"><p>TQue&lt;TPosition::C1, 1&gt;</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="23%"><p>A1-&gt;A2</p> </td> <td class="cellrowborder" valign="top" width="44%"><p>TQueBind&lt;TPosition::A1, TPosition::A2, 1&gt;</p> </td> <td class="cellrowborder" valign="top" width="33%"><p>TQue&lt;TPosition::A2, 1&gt;</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="23%"><p>B1-&gt;B2</p> </td> <td class="cellrowborder" valign="top" width="44%"><p>TQueBind&lt;TPosition::B1, TPosition::B2, 1&gt;</p> </td> <td class="cellrowborder" valign="top" width="33%"><p>TQue&lt;TPosition::B2, 1&gt;</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="23%"><p>C1-&gt;C2</p> </td> <td class="cellrowborder" valign="top" width="44%"><p>TQueBind&lt;TPosition::C1, TPosition::C2, 1&gt;</p> </td> <td class="cellrowborder" valign="top" width="33%"><p>TQue&lt;TPosition::C2, 1&gt;</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="23%"><p>CO1-&gt;CO2</p> </td> <td class="cellrowborder" valign="top" width="44%"><p>TQueBind&lt;TPosition::CO1, TPosition::CO2, 1&gt;</p> </td> <td class="cellrowborder" valign="top" width="33%"><p>TQue&lt;TPosition::CO1, 1&gt;</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="23%"><p>CO2-&gt;GM</p> </td> <td class="cellrowborder" valign="top" width="44%"><p>TQueBind&lt;TPosition::CO2, TPosition::GM, 1&gt;</p> </td> <td class="cellrowborder" valign="top" width="33%"><p>TQue&lt;TPosition::CO2, 1&gt;</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="23%"><p>VECOUT-&gt;A1/B1/C1</p> </td> <td class="cellrowborder" valign="top" width="44%"><p>TQueBind&lt;TPosition::VECOUT, TPosition::A1, 1&gt;;</p> <p>TQueBind&lt;TPosition::VECOUT, TPosition::B1, 1&gt;;</p> <p>TQueBind&lt;TPosition::VECOUT, TPosition::C1, 1&gt;</p> </td> <td class="cellrowborder" valign="top" width="33%"><p>-</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="23%"><p>CO2-&gt;VECIN</p> </td> <td class="cellrowborder" valign="top" width="44%"><p>TQueBind&lt;TPosition::CO2, TPosition::VECIN, 1&gt;</p> </td> <td class="cellrowborder" valign="top" width="33%"><p>-</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>上述表格中的Cube相关数据通路建议使用Cube高阶API（如Matmul）实现，直接使用TQueBind控制会相对复杂。</p> </div></div></div> <p>下面通过两个具体的示例展示了矢量编程场景下TQueBind的使用方法：</p> <ul><li>如下的编程范式示例，图中的两个队列分别绑定的是GM VECIN和VECOUT GM。<p class="msonormal"><span><img height="148.96" originheight="235" originwidth="831" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114326.02098634237538334601540879368567:50001231000000:2800:56DD36DC752B9FD72232F668E83B172044404D4C9126D8D1D82F30D044699D07.png" title="点击放大" width="526.6800000000001"></span></p> </li><li>如果不需要进行Vector计算，比如仅需要做格式随路转换等场景，可对上述流程进行优化，对VECIN和VECOUT进行绑定，绑定的效果可以实现输入输出使用相同buffer，实现double buffer。<p class="msonormal"><span><img height="183.54000000000002" originheight="236" originwidth="682" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114327.76660886878969001869048351465619:50001231000000:2800:772D691BA478E625BDDCF94D190854CC08894FA5F54EF7C77FA9815BB3C3825F.png" title="点击放大" width="529.34"></span></p> </li></ul> </div> <div></div></div>