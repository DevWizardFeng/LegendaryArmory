<h1 _ngcontent-cib-c119="" class="doc-title ng-star-inserted" title="管理应用账号"> 管理应用账号 </h1>

<div _ngcontent-cib-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>应用开发者可以使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-appaccount" target="_blank">应用账号SDK</a>管理本应用的账号数据。</p>    <p>能力限制：应用卸载场景下，被卸载应用的账号数据会被删除；本地账号删除场景下，被删除本地账号下的所有应用的账号数据会被删除。</p>    <div class="tiledSection">     <h2 id="开发准备">开发准备<i class="anchor-icon anchor-icon-link" anchorid="开发准备" tips="复制节点链接"></i></h2>          <ol>      <li>       <p>导入应用账号模块。</p>       <div _ngcontent-cib-c106="" class="highlight-div"><div _ngcontent-cib-c106="" class="highlight-div-header"><div _ngcontent-cib-c106="" class="highlight-div-header-left"><div _ngcontent-cib-c106="" class="handle-button expand-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cib-c106="" class="highlight-div-header-right"><div _ngcontent-cib-c106="" class="handle-button ai-button"></div><div _ngcontent-cib-c106="" class="handle-button line-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cib-c106="" class="handle-button theme-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cib-c106="" class="handle-button copy-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cib-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { appAccount, <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li></ol></pre></div></div></li>      <li>       <p>获取应用账号的实例对象。</p>       <div _ngcontent-cib-c106="" class="highlight-div"><div _ngcontent-cib-c106="" class="highlight-div-header"><div _ngcontent-cib-c106="" class="highlight-div-header-left"><div _ngcontent-cib-c106="" class="handle-button expand-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cib-c106="" class="highlight-div-header-right"><div _ngcontent-cib-c106="" class="handle-button ai-button"></div><div _ngcontent-cib-c106="" class="handle-button line-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cib-c106="" class="handle-button theme-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cib-c106="" class="handle-button copy-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cib-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> appAccountManager = appAccount.<span class="hljs-title function_">createAppAccountManager</span>();</li></ol></pre></div></div></li>     </ol>    </div>    <div class="tiledSection">     <h2 id="创建应用账号">创建应用账号<i class="anchor-icon anchor-icon-link" anchorid="创建应用账号" tips="复制节点链接"></i></h2>          <p>用户在应用中登录后，开发者可以在系统中创建一个关联的应用账号，后续可以基于此账号进行数据管理。</p>     <p>具体开发实例如下：</p>     <ol>      <li>       <p>参数准备，指定账号名和可选配置。</p>       <div _ngcontent-cib-c106="" class="highlight-div"><div _ngcontent-cib-c106="" class="highlight-div-header"><div _ngcontent-cib-c106="" class="highlight-div-header-left"><div _ngcontent-cib-c106="" class="handle-button expand-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cib-c106="" class="highlight-div-header-right"><div _ngcontent-cib-c106="" class="handle-button ai-button"></div><div _ngcontent-cib-c106="" class="handle-button line-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cib-c106="" class="handle-button theme-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cib-c106="" class="handle-button copy-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cib-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"ZhangSan"</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: appAccount.<span class="hljs-property">CreateAccountOptions</span> = {</li><li>  <span class="hljs-attr">customData</span>: {</li><li>    <span class="hljs-attr">age</span>: <span class="hljs-string">'10'</span></li><li>  }</li><li>};</li></ol></pre></div></div></li>      <li>       <p>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-appaccount#createaccount9" target="_blank">createAccount</a>接口，根据名称和选项创建应用账号。</p>       <div _ngcontent-cib-c106="" class="highlight-div"><div _ngcontent-cib-c106="" class="highlight-div-header"><div _ngcontent-cib-c106="" class="highlight-div-header-left"><div _ngcontent-cib-c106="" class="handle-button expand-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cib-c106="" class="highlight-div-header-right"><div _ngcontent-cib-c106="" class="handle-button ai-button"></div><div _ngcontent-cib-c106="" class="handle-button line-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cib-c106="" class="handle-button theme-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cib-c106="" class="handle-button copy-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cib-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li>appAccountManager.<span class="hljs-title function_">createAccount</span>(name, options).<span class="hljs-title function_">then</span>(<span class="hljs-function">()=&gt;</span>{</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'createAccount successfully'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>)=&gt;</span>{</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`createAccount failed, error: code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div></li>     </ol>    </div>    <div class="tiledSection">     <h2 id="查询应用账号列表">查询应用账号列表<i class="anchor-icon anchor-icon-link" anchorid="查询应用账号列表" tips="复制节点链接"></i></h2>          <p>具体开发实例如下：</p>     <p>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-appaccount#getallaccounts9" target="_blank">getAllAccounts</a>接口查询账号列表。</p>     <div _ngcontent-cib-c106="" class="highlight-div"><div _ngcontent-cib-c106="" class="highlight-div-header"><div _ngcontent-cib-c106="" class="highlight-div-header-left"><div _ngcontent-cib-c106="" class="handle-button expand-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cib-c106="" class="highlight-div-header-right"><div _ngcontent-cib-c106="" class="handle-button ai-button"></div><div _ngcontent-cib-c106="" class="handle-button line-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cib-c106="" class="handle-button theme-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cib-c106="" class="handle-button copy-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cib-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li>appAccountManager.<span class="hljs-title function_">getAllAccounts</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: appAccount.AppAccountInfo[]</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getAllAccounts successfully, data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getAllAccounts failed, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="存取账号的凭据">存取账号的凭据<i class="anchor-icon anchor-icon-link" anchorid="存取账号的凭据" tips="复制节点链接"></i></h2>          <p>具体开发实例如下：</p>     <ol>      <li>       <p>准备参数，指定账号名、凭据类型和凭据。</p>       <div _ngcontent-cib-c106="" class="highlight-div"><div _ngcontent-cib-c106="" class="highlight-div-header"><div _ngcontent-cib-c106="" class="highlight-div-header-left"><div _ngcontent-cib-c106="" class="handle-button expand-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cib-c106="" class="highlight-div-header-right"><div _ngcontent-cib-c106="" class="handle-button ai-button"></div><div _ngcontent-cib-c106="" class="handle-button line-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cib-c106="" class="handle-button theme-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cib-c106="" class="handle-button copy-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cib-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'ZhangSan'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">credentialType</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'PIN_SIX'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">credential</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'xxxxxx'</span>;</li></ol></pre></div></div></li>      <li>       <p>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-appaccount#getcredential9" target="_blank">getCredential</a>接口，获取账号的凭据。</p>       <div _ngcontent-cib-c106="" class="highlight-div"><div _ngcontent-cib-c106="" class="highlight-div-header"><div _ngcontent-cib-c106="" class="highlight-div-header-left"><div _ngcontent-cib-c106="" class="handle-button expand-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cib-c106="" class="highlight-div-header-right"><div _ngcontent-cib-c106="" class="handle-button ai-button"></div><div _ngcontent-cib-c106="" class="handle-button line-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cib-c106="" class="handle-button theme-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cib-c106="" class="handle-button copy-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cib-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li>appAccountManager.<span class="hljs-title function_">getCredential</span>(name, credentialType).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getCredential successfully, data: '</span> + data);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getCredential failed, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div></li>      <li>       <p>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-appaccount#setcredential9" target="_blank">setCredential</a>接口，设置账号的凭据。</p>       <div _ngcontent-cib-c106="" class="highlight-div"><div _ngcontent-cib-c106="" class="highlight-div-header"><div _ngcontent-cib-c106="" class="highlight-div-header-left"><div _ngcontent-cib-c106="" class="handle-button expand-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cib-c106="" class="highlight-div-header-right"><div _ngcontent-cib-c106="" class="handle-button ai-button"></div><div _ngcontent-cib-c106="" class="handle-button line-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cib-c106="" class="handle-button theme-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cib-c106="" class="handle-button copy-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cib-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li>appAccountManager.<span class="hljs-title function_">setCredential</span>(name, credentialType, credential).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'setCredential successfully'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`setCredential failed: code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div></li>     </ol>    </div>    <div class="tiledSection">     <h2 id="存取账号的自定义数据">存取账号的自定义数据<i class="anchor-icon anchor-icon-link" anchorid="存取账号的自定义数据" tips="复制节点链接"></i></h2>          <p>具体开发实例如下：</p>     <ol>      <li>       <p>准备参数，指定账号名和自定义键值。</p>       <div _ngcontent-cib-c106="" class="highlight-div"><div _ngcontent-cib-c106="" class="highlight-div-header"><div _ngcontent-cib-c106="" class="highlight-div-header-left"><div _ngcontent-cib-c106="" class="handle-button expand-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cib-c106="" class="highlight-div-header-right"><div _ngcontent-cib-c106="" class="handle-button ai-button"></div><div _ngcontent-cib-c106="" class="handle-button line-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cib-c106="" class="handle-button theme-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cib-c106="" class="handle-button copy-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cib-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'ZhangSan'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'age'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'12'</span>;</li></ol></pre></div></div></li>      <li>       <p>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-appaccount#setcustomdata9" target="_blank">setCustomData</a>接口，设置账号的自定义数据。</p>       <div _ngcontent-cib-c106="" class="highlight-div"><div _ngcontent-cib-c106="" class="highlight-div-header"><div _ngcontent-cib-c106="" class="highlight-div-header-left"><div _ngcontent-cib-c106="" class="handle-button expand-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cib-c106="" class="highlight-div-header-right"><div _ngcontent-cib-c106="" class="handle-button ai-button"></div><div _ngcontent-cib-c106="" class="handle-button line-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cib-c106="" class="handle-button theme-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cib-c106="" class="handle-button copy-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cib-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li>appAccountManager.<span class="hljs-title function_">setCustomData</span>(name, key, value).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'setCustomData successfully'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`setCustomData failed: code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div></li>      <li>       <p>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-appaccount#getcustomdata9" target="_blank">getCustomData</a>接口，获取账号的自定义数据。</p>       <div _ngcontent-cib-c106="" class="highlight-div"><div _ngcontent-cib-c106="" class="highlight-div-header"><div _ngcontent-cib-c106="" class="highlight-div-header-left"><div _ngcontent-cib-c106="" class="handle-button expand-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cib-c106="" class="highlight-div-header-right"><div _ngcontent-cib-c106="" class="handle-button ai-button"></div><div _ngcontent-cib-c106="" class="handle-button line-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cib-c106="" class="handle-button theme-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cib-c106="" class="handle-button copy-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cib-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li>appAccountManager.<span class="hljs-title function_">getCustomData</span>(name, key).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getCustomData successfully, data: '</span> + data);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getCustomData failed, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div></li>     </ol>    </div>    <div class="tiledSection">     <h2 id="存取账号的授权令牌">存取账号的授权令牌<i class="anchor-icon anchor-icon-link" anchorid="存取账号的授权令牌" tips="复制节点链接"></i></h2>          <p>具体开发实例如下：</p>     <ol>      <li>       <p>准备参数，指定账号名、账号所有者、授权类型和授权令牌。</p>       <div _ngcontent-cib-c106="" class="highlight-div"><div _ngcontent-cib-c106="" class="highlight-div-header"><div _ngcontent-cib-c106="" class="highlight-div-header-left"><div _ngcontent-cib-c106="" class="handle-button expand-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cib-c106="" class="highlight-div-header-right"><div _ngcontent-cib-c106="" class="handle-button ai-button"></div><div _ngcontent-cib-c106="" class="handle-button line-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cib-c106="" class="handle-button theme-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cib-c106="" class="handle-button copy-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cib-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'ZhangSan'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">owner</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'com.example.accountjsdemo'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">authType</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'getSocialData'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">token</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'xxxxxx'</span>;</li></ol></pre></div></div></li>      <li>       <p>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-appaccount#setauthtoken9" target="_blank">setAuthToken</a>接口，设置指定授权类型的授权令牌。</p>       <div _ngcontent-cib-c106="" class="highlight-div"><div _ngcontent-cib-c106="" class="highlight-div-header"><div _ngcontent-cib-c106="" class="highlight-div-header-left"><div _ngcontent-cib-c106="" class="handle-button expand-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cib-c106="" class="highlight-div-header-right"><div _ngcontent-cib-c106="" class="handle-button ai-button"></div><div _ngcontent-cib-c106="" class="handle-button line-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cib-c106="" class="handle-button theme-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cib-c106="" class="handle-button copy-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cib-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li>appAccountManager.<span class="hljs-title function_">setAuthToken</span>(name, authType, token).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'setAuthToken successfully'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`setAuthToken failed: code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div></li>      <li>       <p>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-appaccount#getauthtoken9" target="_blank">getAuthToken</a>接口，获取指定授权类型的授权令牌。</p>       <div _ngcontent-cib-c106="" class="highlight-div"><div _ngcontent-cib-c106="" class="highlight-div-header"><div _ngcontent-cib-c106="" class="highlight-div-header-left"><div _ngcontent-cib-c106="" class="handle-button expand-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cib-c106="" class="highlight-div-header-right"><div _ngcontent-cib-c106="" class="handle-button ai-button"></div><div _ngcontent-cib-c106="" class="handle-button line-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cib-c106="" class="handle-button theme-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cib-c106="" class="handle-button copy-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cib-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li>appAccountManager.<span class="hljs-title function_">getAuthToken</span>(name, owner, authType).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getAuthToken successfully, data: '</span> + data);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`getAuthToken failed, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div></li>     </ol>    </div>    <div class="tiledSection">     <h2 id="删除应用账号">删除应用账号<i class="anchor-icon anchor-icon-link" anchorid="删除应用账号" tips="复制节点链接"></i></h2>          <p>用户退出登录后，应用需及时将相应的应用账号从系统中删除。</p>     <p>具体开发实例如下：</p>     <p>指定要删除的账号名称，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-appaccount#removeaccount9" target="_blank">removeAccount</a>接口删除账号。</p>     <div _ngcontent-cib-c106="" class="highlight-div"><div _ngcontent-cib-c106="" class="highlight-div-header"><div _ngcontent-cib-c106="" class="highlight-div-header-left"><div _ngcontent-cib-c106="" class="handle-button expand-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cib-c106="" class="highlight-div-header-right"><div _ngcontent-cib-c106="" class="handle-button ai-button"></div><div _ngcontent-cib-c106="" class="handle-button line-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cib-c106="" class="handle-button theme-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cib-c106="" class="handle-button copy-button"><div _ngcontent-cib-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cib-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'ZhangSan'</span>;</li><li>appAccountManager.<span class="hljs-title function_">removeAccount</span>(name).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'removeAccount successfully'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`removeAccount failed, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="示例代码">示例代码<i class="anchor-icon anchor-icon-link" anchorid="示例代码" tips="复制节点链接"></i></h2>          <ul>      <li><a href="https://gitee.com/harmonyos_samples/app-account-manager" target="_blank">应用账号管理</a></li>     </ul>    </div>   </div>   <div></div></div>