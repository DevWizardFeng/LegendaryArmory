<h1 _ngcontent-yku-c119="" class="doc-title ng-star-inserted" title="管理群组关键资产(C/C++)"> 管理群组关键资产(C/C++) </h1>

<div _ngcontent-yku-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>以下为管理群组关键资产使用示例，请先查看开发指导：</p> <ul><li><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/asset-native-add">新增关键资产(C/C++)</a></li><li><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/asset-native-remove">删除关键资产(C/C++)</a></li><li><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/asset-native-update">更新关键资产(C/C++)</a></li><li><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/asset-native-query">查询关键资产(C/C++)</a></li></ul>  <div class="tiledSection"><h2 id="前置条件">前置条件<i class="anchor-icon anchor-icon-link" anchorid="前置条件" tips="复制节点链接"></i></h2><p>在应用配置文件app.json5中，配置群组ID，如：demo_group_id。群组支持配置多个群组ID。</p> <div _ngcontent-yku-c106="" class="highlight-div"><div _ngcontent-yku-c106="" class="highlight-div-header"><div _ngcontent-yku-c106="" class="highlight-div-header-left"><div _ngcontent-yku-c106="" class="handle-button expand-button"><div _ngcontent-yku-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-yku-c106="" class="highlight-div-header-right"><div _ngcontent-yku-c106="" class="handle-button ai-button"></div><div _ngcontent-yku-c106="" class="handle-button line-button"><div _ngcontent-yku-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-yku-c106="" class="handle-button theme-button"><div _ngcontent-yku-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-yku-c106="" class="handle-button copy-button"><div _ngcontent-yku-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-yku-c106="" class="highlight-scroll-div"><pre class="json5 prettyprint linenums hljs language-perl" hw-language="json5" data-highlighted="yes"><ol class="linenums"><li>{</li><li>  <span class="hljs-string">"app"</span>: {</li><li>    <span class="hljs-regexp">//</span> 其他配置项此处省略。</li><li>    <span class="hljs-string">"assetAccessGroups"</span>: [</li><li>      <span class="hljs-string">"demo_group_id"</span>,</li><li>      <span class="hljs-regexp">//</span> <span class="hljs-string">"another_group_id"</span>,</li><li>      <span class="hljs-regexp">//</span> ...</li><li>    ]</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="新增群组关键资产">新增群组关键资产<i class="anchor-icon anchor-icon-link" anchorid="新增群组关键资产" tips="复制节点链接"></i></h2><p>在群组中新增密码为demo_pwd、别名为demo_alias、附属信息为demo_label的关键资产。</p> <div _ngcontent-yku-c106="" class="highlight-div"><div _ngcontent-yku-c106="" class="highlight-div-header"><div _ngcontent-yku-c106="" class="highlight-div-header-left"><div _ngcontent-yku-c106="" class="handle-button expand-button"><div _ngcontent-yku-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-yku-c106="" class="highlight-div-header-right"><div _ngcontent-yku-c106="" class="handle-button ai-button"></div><div _ngcontent-yku-c106="" class="handle-button line-button"><div _ngcontent-yku-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-yku-c106="" class="handle-button theme-button"><div _ngcontent-yku-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-yku-c106="" class="handle-button copy-button"><div _ngcontent-yku-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-yku-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"napi/native_api.h"</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"asset/asset_api.h"</span></span></li><li>
</li><li><span class="hljs-type">static</span> napi_value <span class="hljs-title function_">AddAsset</span><span class="hljs-params">(napi_env env, napi_callback_info info)</span></li><li>{</li><li>    <span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">char</span> *SECRET = <span class="hljs-string">"demo_pwd"</span>;</li><li>    <span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">char</span> *ALIAS = <span class="hljs-string">"demo_alias"</span>;</li><li>    <span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">char</span> *LABEL = <span class="hljs-string">"demo_label"</span>;</li><li>    <span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">char</span> *GROUP_ID = <span class="hljs-string">"demo_group_id"</span>;</li><li>
</li><li>    Asset_Blob secret = {(<span class="hljs-type">uint32_t</span>)(<span class="hljs-built_in">strlen</span>(SECRET)), (<span class="hljs-type">uint8_t</span> *)SECRET};</li><li>    Asset_Blob alias = {(<span class="hljs-type">uint32_t</span>)(<span class="hljs-built_in">strlen</span>(ALIAS)), (<span class="hljs-type">uint8_t</span> *)ALIAS};</li><li>    Asset_Blob label = {(<span class="hljs-type">uint32_t</span>)(<span class="hljs-built_in">strlen</span>(LABEL)), (<span class="hljs-type">uint8_t</span> *)LABEL};</li><li>    Asset_Blob group_id = { (<span class="hljs-type">uint32_t</span>)(<span class="hljs-built_in">strlen</span>(GROUP_ID)), (<span class="hljs-type">uint8_t</span> *)GROUP_ID};</li><li>    Asset_Attr attr[] = {</li><li>        {.tag = ASSET_TAG_SECRET, .value.blob = secret},</li><li>        {.tag = ASSET_TAG_ALIAS, .value.blob = alias},</li><li>        {.tag = ASSET_TAG_DATA_LABEL_NORMAL_1, .value.blob = label},</li><li>        {.tag = ASSET_TAG_GROUP_ID, .value.blob = group_id},</li><li>    };</li><li>
</li><li>    <span class="hljs-type">int32_t</span> addResult = OH_Asset_Add(attr, <span class="hljs-keyword">sizeof</span>(attr) / <span class="hljs-keyword">sizeof</span>(attr[<span class="hljs-number">0</span>]));</li><li>    napi_value ret;</li><li>    napi_create_int32(env, addResult, &amp;ret);</li><li>    <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="删除群组关键资产">删除群组关键资产<i class="anchor-icon anchor-icon-link" anchorid="删除群组关键资产" tips="复制节点链接"></i></h2><p>在群组中删除别名为demo_alias的关键资产。</p> <div _ngcontent-yku-c106="" class="highlight-div"><div _ngcontent-yku-c106="" class="highlight-div-header"><div _ngcontent-yku-c106="" class="highlight-div-header-left"><div _ngcontent-yku-c106="" class="handle-button expand-button"><div _ngcontent-yku-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-yku-c106="" class="highlight-div-header-right"><div _ngcontent-yku-c106="" class="handle-button ai-button"></div><div _ngcontent-yku-c106="" class="handle-button line-button"><div _ngcontent-yku-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-yku-c106="" class="handle-button theme-button"><div _ngcontent-yku-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-yku-c106="" class="handle-button copy-button"><div _ngcontent-yku-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-yku-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"napi/native_api.h"</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"asset/asset_api.h"</span></span></li><li>
</li><li><span class="hljs-type">static</span> napi_value <span class="hljs-title function_">RemoveAsset</span><span class="hljs-params">(napi_env env, napi_callback_info info)</span></li><li>{</li><li>    <span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">char</span> *ALIAS = <span class="hljs-string">"demo_alias"</span>;</li><li>    <span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">char</span> *GROUP_ID = <span class="hljs-string">"demo_group_id"</span>;</li><li>
</li><li>    Asset_Blob alias = {(<span class="hljs-type">uint32_t</span>)(<span class="hljs-built_in">strlen</span>(ALIAS)), (<span class="hljs-type">uint8_t</span> *)ALIAS};</li><li>    Asset_Blob group_id = {(<span class="hljs-type">uint32_t</span>)(<span class="hljs-built_in">strlen</span>(GROUP_ID)), (<span class="hljs-type">uint8_t</span> *)GROUP_ID};</li><li>    Asset_Attr attr[] = {</li><li>        {.tag = ASSET_TAG_ALIAS, .value.blob = alias}, <span class="hljs-comment">// 此处指定别名删除单条群组关键资产，也可不指定别名删除多条群组关键资产。</span></li><li>        {.tag = ASSET_TAG_GROUP_ID, .value.blob = group_id},</li><li>    };</li><li>
</li><li>    <span class="hljs-type">int32_t</span> removeResult = OH_Asset_Remove(attr, <span class="hljs-keyword">sizeof</span>(attr) / <span class="hljs-keyword">sizeof</span>(attr[<span class="hljs-number">0</span>]));</li><li>    napi_value ret;</li><li>    napi_create_int32(env, removeResult, &amp;ret);</li><li>    <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="更新群组关键资产">更新群组关键资产<i class="anchor-icon anchor-icon-link" anchorid="更新群组关键资产" tips="复制节点链接"></i></h2><p>在群组中更新别名为demo_alias的关键资产，将关键资产的明文更新为demo_pwd_new，附属信息更新为demo_label_new。</p> <div _ngcontent-yku-c106="" class="highlight-div"><div _ngcontent-yku-c106="" class="highlight-div-header"><div _ngcontent-yku-c106="" class="highlight-div-header-left"><div _ngcontent-yku-c106="" class="handle-button expand-button"><div _ngcontent-yku-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-yku-c106="" class="highlight-div-header-right"><div _ngcontent-yku-c106="" class="handle-button ai-button"></div><div _ngcontent-yku-c106="" class="handle-button line-button"><div _ngcontent-yku-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-yku-c106="" class="handle-button theme-button"><div _ngcontent-yku-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-yku-c106="" class="handle-button copy-button"><div _ngcontent-yku-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-yku-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"napi/native_api.h"</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"asset/asset_api.h"</span></span></li><li>
</li><li><span class="hljs-type">static</span> napi_value <span class="hljs-title function_">UpdateAsset</span><span class="hljs-params">(napi_env env, napi_callback_info info)</span></li><li>{</li><li>    <span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">char</span> *ALIAS = <span class="hljs-string">"demo_alias"</span>;</li><li>    <span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">char</span> *SECRET = <span class="hljs-string">"demo_pwd_new"</span>;</li><li>    <span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">char</span> *LABEL = <span class="hljs-string">"demo_label_new"</span>;</li><li>    <span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">char</span> *GROUP_ID = <span class="hljs-string">"demo_group_id"</span>;</li><li>
</li><li>    Asset_Blob alias = {(<span class="hljs-type">uint32_t</span>)(<span class="hljs-built_in">strlen</span>(ALIAS)), (<span class="hljs-type">uint8_t</span> *)ALIAS};</li><li>    Asset_Blob new_secret = {(<span class="hljs-type">uint32_t</span>)(<span class="hljs-built_in">strlen</span>(SECRET)), (<span class="hljs-type">uint8_t</span> *)SECRET};</li><li>    Asset_Blob new_label = {(<span class="hljs-type">uint32_t</span>)(<span class="hljs-built_in">strlen</span>(LABEL)), (<span class="hljs-type">uint8_t</span> *)LABEL};</li><li>    Asset_Blob group_id = {(<span class="hljs-type">uint32_t</span>)(<span class="hljs-built_in">strlen</span>(GROUP_ID)), (<span class="hljs-type">uint8_t</span> *)GROUP_ID};</li><li>    Asset_Attr query[] = {</li><li>        {.tag = ASSET_TAG_ALIAS, .value.blob = alias},</li><li>        {.tag = ASSET_TAG_GROUP_ID, .value.blob = group_id},</li><li>    };</li><li>    Asset_Attr attributesToUpdate[] = {</li><li>        {.tag = ASSET_TAG_SECRET, .value.blob = new_secret},</li><li>        {.tag = ASSET_TAG_DATA_LABEL_NORMAL_1, .value.blob = new_label},</li><li>    };</li><li>
</li><li>    <span class="hljs-type">int32_t</span> updateResult = OH_Asset_Update(query, <span class="hljs-keyword">sizeof</span>(query) / <span class="hljs-keyword">sizeof</span>(query[<span class="hljs-number">0</span>]), attributesToUpdate,</li><li>                                           <span class="hljs-keyword">sizeof</span>(attributesToUpdate) / <span class="hljs-keyword">sizeof</span>(attributesToUpdate[<span class="hljs-number">0</span>]));</li><li>    napi_value ret;</li><li>    napi_create_int32(env, updateResult, &amp;ret);</li><li>    <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="查询单条群组关键资产明文">查询单条群组关键资产明文<i class="anchor-icon anchor-icon-link" anchorid="查询单条群组关键资产明文" tips="复制节点链接"></i></h2><p>在群组中查询别名为demo_alias的关键资产明文。</p> <div _ngcontent-yku-c106="" class="highlight-div"><div _ngcontent-yku-c106="" class="highlight-div-header"><div _ngcontent-yku-c106="" class="highlight-div-header-left"><div _ngcontent-yku-c106="" class="handle-button expand-button"><div _ngcontent-yku-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-yku-c106="" class="highlight-div-header-right"><div _ngcontent-yku-c106="" class="handle-button ai-button"></div><div _ngcontent-yku-c106="" class="handle-button line-button"><div _ngcontent-yku-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-yku-c106="" class="handle-button theme-button"><div _ngcontent-yku-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-yku-c106="" class="handle-button copy-button"><div _ngcontent-yku-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-yku-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"napi/native_api.h"</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"asset/asset_api.h"</span></span></li><li>
</li><li><span class="hljs-type">static</span> napi_value <span class="hljs-title function_">QueryAsset</span><span class="hljs-params">(napi_env env, napi_callback_info info)</span></li><li>{</li><li>    <span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">char</span> *ALIAS = <span class="hljs-string">"demo_alias"</span>;</li><li>    <span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">char</span> *GROUP_ID = <span class="hljs-string">"demo_group_id"</span>;</li><li>    Asset_Blob alias = { (<span class="hljs-type">uint32_t</span>)(<span class="hljs-built_in">strlen</span>(ALIAS)), (<span class="hljs-type">uint8_t</span> *)ALIAS };</li><li>    Asset_Blob group_id = { (<span class="hljs-type">uint32_t</span>)(<span class="hljs-built_in">strlen</span>(GROUP_ID)), (<span class="hljs-type">uint8_t</span> *)GROUP_ID };</li><li>    Asset_Attr attr[] = {</li><li>        {.tag = ASSET_TAG_ALIAS, .value.blob = alias}, <span class="hljs-comment">// 指定了群组关键资产别名，最多查询到一条满足条件的群组关键资产。</span></li><li>        {.tag = ASSET_TAG_RETURN_TYPE, .value.u32 = ASSET_RETURN_ALL}, <span class="hljs-comment">// 此处表示需要返回群组关键资产的所有信息，即属性+明文。</span></li><li>        {.tag = ASSET_TAG_GROUP_ID, .value.blob = group_id},</li><li>    };</li><li>
</li><li>    Asset_ResultSet resultSet = {<span class="hljs-number">0</span>};</li><li>    <span class="hljs-type">int32_t</span> queryResult = OH_Asset_Query(attr, <span class="hljs-keyword">sizeof</span>(attr) / <span class="hljs-keyword">sizeof</span>(attr[<span class="hljs-number">0</span>]), &amp;resultSet);</li><li>    <span class="hljs-keyword">if</span> (queryResult == ASSET_SUCCESS) {</li><li>        <span class="hljs-comment">// 解析resultSet。</span></li><li>        <span class="hljs-keyword">for</span> (<span class="hljs-type">uint32_t</span> i = <span class="hljs-number">0</span>; i &lt; resultSet.count; i++) {</li><li>            <span class="hljs-comment">// 解析secret属性：其中data数据对应是secret-&gt;blob.data，长度对应是secret-&gt;blob.size。</span></li><li>            Asset_Attr *secret = OH_Asset_ParseAttr(resultSet.results + i, ASSET_TAG_SECRET);</li><li>        }</li><li>    }</li><li>    OH_Asset_FreeResultSet(&amp;resultSet);</li><li>    </li><li>    napi_value ret;</li><li>    napi_create_int32(env, queryResult, &amp;ret);</li><li>    <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="查询单条群组关键资产属性">查询单条群组关键资产属性<i class="anchor-icon anchor-icon-link" anchorid="查询单条群组关键资产属性" tips="复制节点链接"></i></h2><p>查询别名为demo_alias的关键资产属性。</p> <div _ngcontent-yku-c106="" class="highlight-div"><div _ngcontent-yku-c106="" class="highlight-div-header"><div _ngcontent-yku-c106="" class="highlight-div-header-left"><div _ngcontent-yku-c106="" class="handle-button expand-button"><div _ngcontent-yku-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-yku-c106="" class="highlight-div-header-right"><div _ngcontent-yku-c106="" class="handle-button ai-button"></div><div _ngcontent-yku-c106="" class="handle-button line-button"><div _ngcontent-yku-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-yku-c106="" class="handle-button theme-button"><div _ngcontent-yku-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-yku-c106="" class="handle-button copy-button"><div _ngcontent-yku-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-yku-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"napi/native_api.h"</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"asset/asset_api.h"</span></span></li><li>
</li><li><span class="hljs-type">static</span> napi_value <span class="hljs-title function_">QueryAttributes</span><span class="hljs-params">(napi_env env, napi_callback_info info)</span></li><li>{</li><li>    <span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">char</span> *ALIAS = <span class="hljs-string">"demo_alias"</span>;</li><li>    <span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">char</span> *GROUP_ID = <span class="hljs-string">"demo_group_id"</span>;</li><li>    Asset_Blob alias = {(<span class="hljs-type">uint32_t</span>)(<span class="hljs-built_in">strlen</span>(ALIAS)), (<span class="hljs-type">uint8_t</span> *)ALIAS};</li><li>    Asset_Blob group_id = {(<span class="hljs-type">uint32_t</span>)(<span class="hljs-built_in">strlen</span>(GROUP_ID)), (<span class="hljs-type">uint8_t</span> *)GROUP_ID};</li><li>    Asset_Attr attr[] = {</li><li>        {.tag = ASSET_TAG_ALIAS, .value.blob = alias}, <span class="hljs-comment">// 指定了群组关键资产别名，最多查询到一条满足条件的群组关键资产。</span></li><li>        {.tag = ASSET_TAG_RETURN_TYPE, .value.u32 = ASSET_RETURN_ATTRIBUTES}, <span class="hljs-comment">// 此处表示仅返回群组关键资产属性，不包含群组关键资产明文。</span></li><li>        {.tag = ASSET_TAG_GROUP_ID, .value.blob = group_id},</li><li>    };</li><li>
</li><li>    Asset_ResultSet resultSet = {<span class="hljs-number">0</span>};</li><li>    <span class="hljs-type">int32_t</span> queryResult = OH_Asset_Query(attr, <span class="hljs-keyword">sizeof</span>(attr) / <span class="hljs-keyword">sizeof</span>(attr[<span class="hljs-number">0</span>]), &amp;resultSet);</li><li>    <span class="hljs-keyword">if</span> (queryResult == ASSET_SUCCESS) {</li><li>        <span class="hljs-comment">// 解析结果。</span></li><li>        <span class="hljs-keyword">for</span> (<span class="hljs-type">uint32_t</span> i = <span class="hljs-number">0</span>; i &lt; resultSet.count; i++) {</li><li>            <span class="hljs-comment">// 解析数据标签：其中数据是label-&gt;blob.data，长度对应是label-&gt;blob.size。</span></li><li>            Asset_Attr *label = OH_Asset_ParseAttr(resultSet.results + i, ASSET_TAG_DATA_LABEL_NORMAL_1);</li><li>        }</li><li>    }</li><li>    OH_Asset_FreeResultSet(&amp;resultSet);</li><li>    </li><li>    napi_value ret;</li><li>    napi_create_int32(env, queryResult, &amp;ret);</li><li>    <span class="hljs-keyword">return</span> ret;</li><li>}</li></ol></pre></div></div> </div> </div> <div></div></div>