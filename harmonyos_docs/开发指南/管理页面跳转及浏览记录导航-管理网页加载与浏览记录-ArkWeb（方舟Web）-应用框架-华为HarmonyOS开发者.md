<h1 _ngcontent-uaa-c119="" class="doc-title ng-star-inserted" title="管理页面跳转及浏览记录导航"> 管理页面跳转及浏览记录导航 </h1>

<div _ngcontent-uaa-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>为了提高页面访问速度，浏览记录导航允许用户通过“前进”和“后退”按钮在历史记录的页面之间切换。Web组件允许用户能够跳转到应用内其他页面或者进行跨应用跳转。</p>    <div class="tiledSection">     <h2 id="历史记录导航">历史记录导航<i class="anchor-icon anchor-icon-link" anchorid="历史记录导航" tips="复制节点链接"></i></h2>          <p>在前端页面点击网页中的链接时，Web组件默认会自动打开并加载目标网址。当前端页面替换为新的加载链接时，会自动记录已经访问的网页地址。可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#forward" target="_blank">forward()</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#backward" target="_blank">backward()</a>接口向前/向后浏览上一个/下一个历史记录。</p>     <p>页面加载涉及网络资源时，需在module.json5中配置网络访问权限，添加方法请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/declare-permissions#在配置文件中声明权限">在配置文件中声明权限</a>。</p>     <div _ngcontent-uaa-c106="" class="highlight-div"><div _ngcontent-uaa-c106="" class="highlight-div-header"><div _ngcontent-uaa-c106="" class="highlight-div-header-left"><div _ngcontent-uaa-c106="" class="handle-button expand-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uaa-c106="" class="highlight-div-header-right"><div _ngcontent-uaa-c106="" class="handle-button ai-button"></div><div _ngcontent-uaa-c106="" class="handle-button line-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uaa-c106="" class="handle-button theme-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uaa-c106="" class="handle-button copy-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uaa-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-string">"requestPermissions"</span>:[</li><li>    {</li><li>      <span class="hljs-string">"name"</span> : <span class="hljs-string">"ohos.permission.INTERNET"</span></li><li>    }</li><li>  ]</li></ol></pre></div></div>     <p>在以下示例中，通过点击应用按钮来触发前端页面的后退操作。</p>     <div _ngcontent-uaa-c106="" class="highlight-div"><div _ngcontent-uaa-c106="" class="highlight-div-header"><div _ngcontent-uaa-c106="" class="highlight-div-header-left"><div _ngcontent-uaa-c106="" class="handle-button expand-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uaa-c106="" class="highlight-div-header-right"><div _ngcontent-uaa-c106="" class="handle-button ai-button"></div><div _ngcontent-uaa-c106="" class="handle-button line-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uaa-c106="" class="handle-button theme-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uaa-c106="" class="handle-button copy-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uaa-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { webview } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkWeb'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">webviewController</span>: webview.<span class="hljs-property">WebviewController</span> = <span class="hljs-keyword">new</span> webview.<span class="hljs-title class_">WebviewController</span>();</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'loadData'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">webviewController</span>.<span class="hljs-title function_">accessBackward</span>()) {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">webviewController</span>.<span class="hljs-title function_">backward</span>();</li><li>          }</li><li>        })</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'https://www.example.com/cn/'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">webviewController</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p>如果存在历史记录，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#accessbackward" target="_blank">accessBackward()</a>接口将返回true。同样，开发者可以使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#accessforward" target="_blank">accessForward()</a>接口检查是否存在前进的历史记录。如果未执行检查，当用户浏览到历史记录的末尾时，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#forward" target="_blank">forward()</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#backward" target="_blank">backward()</a>接口将不会执行任何操作。</p>    </div>    <div class="tiledSection">     <h2 id="页面跳转">页面跳转<i class="anchor-icon anchor-icon-link" anchorid="页面跳转" tips="复制节点链接"></i></h2>          <p>当点击页面中的链接需要跳转到应用内其他页面时，可以通过使用Web组件的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-basic-components-web-events#onloadintercept10" target="_blank">onLoadIntercept()</a>接口来实现。</p>     <p>在下面的示例中，应用首页Index.ets加载前端页面route.html，在route.html页面点击'个人中心'超链接，可跳转到应用的ProfilePage.ets页面。</p>     <ul>      <li>       <p>应用首页Index.ets页面代码。</p>       <div _ngcontent-uaa-c106="" class="highlight-div"><div _ngcontent-uaa-c106="" class="highlight-div-header"><div _ngcontent-uaa-c106="" class="highlight-div-header-left"><div _ngcontent-uaa-c106="" class="handle-button expand-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uaa-c106="" class="highlight-div-header-right"><div _ngcontent-uaa-c106="" class="handle-button ai-button"></div><div _ngcontent-uaa-c106="" class="handle-button line-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uaa-c106="" class="handle-button theme-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uaa-c106="" class="handle-button copy-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uaa-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// index.ets</span></li><li><span class="hljs-keyword">import</span> { webview } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkWeb'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">webviewController</span>: webview.<span class="hljs-property">WebviewController</span> = <span class="hljs-keyword">new</span> webview.<span class="hljs-title class_">WebviewController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-comment">// 资源文件route.html存放路径src/main/resources/rawfile</span></li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: $rawfile(<span class="hljs-string">'route.html'</span>), <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">webviewController</span> })</li><li>        .<span class="hljs-title function_">onLoadIntercept</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {</li><li>          <span class="hljs-keyword">if</span> (event) {</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span> = event.<span class="hljs-property">data</span>.<span class="hljs-title function_">getRequestUrl</span>();</li><li>            <span class="hljs-keyword">if</span> (url.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'native://'</span>) === <span class="hljs-number">0</span>) {</li><li>              <span class="hljs-comment">// 跳转其他界面</span></li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getRouter</span>().<span class="hljs-title function_">pushUrl</span>({ <span class="hljs-attr">url</span>: url.<span class="hljs-title function_">substring</span>(<span class="hljs-number">9</span>) });</li><li>              <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>            }</li><li>          }</li><li>          <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div></li>      <li>       <p>route.html前端页面代码。</p>       <div _ngcontent-uaa-c106="" class="highlight-div"><div _ngcontent-uaa-c106="" class="highlight-div-header"><div _ngcontent-uaa-c106="" class="highlight-div-header-left"><div _ngcontent-uaa-c106="" class="handle-button expand-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uaa-c106="" class="highlight-div-header-right"><div _ngcontent-uaa-c106="" class="handle-button ai-button"></div><div _ngcontent-uaa-c106="" class="handle-button line-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uaa-c106="" class="handle-button theme-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uaa-c106="" class="handle-button copy-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uaa-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- route.html --&gt;</span></li><li><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></li><li>      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"native://pages/ProfilePage"</span>&gt;</span>个人中心<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></li><li>   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></li></ol></pre></div></div></li>      <li>       <p>跳转页面ProfilePage.ets代码。</p>       <div _ngcontent-uaa-c106="" class="highlight-div"><div _ngcontent-uaa-c106="" class="highlight-div-header"><div _ngcontent-uaa-c106="" class="highlight-div-header-left"><div _ngcontent-uaa-c106="" class="handle-button expand-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uaa-c106="" class="highlight-div-header-right"><div _ngcontent-uaa-c106="" class="handle-button ai-button"></div><div _ngcontent-uaa-c106="" class="handle-button line-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uaa-c106="" class="handle-button theme-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uaa-c106="" class="handle-button copy-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uaa-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ProfilePage</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello World'</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div></li>     </ul>    </div>    <div class="tiledSection">     <h2 id="跨应用跳转">跨应用跳转<i class="anchor-icon anchor-icon-link" anchorid="跨应用跳转" tips="复制节点链接"></i></h2>          <p>Web组件可以实现点击前端页面超链接跳转到其他应用。</p>     <p>在下面的示例代码中，点击call.html前端页面中的超链接，可以跳转到电话应用的拨号界面。</p>     <ul>      <li>       <p>应用侧代码。</p>       <div _ngcontent-uaa-c106="" class="highlight-div"><div _ngcontent-uaa-c106="" class="highlight-div-header"><div _ngcontent-uaa-c106="" class="highlight-div-header-left"><div _ngcontent-uaa-c106="" class="handle-button expand-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uaa-c106="" class="highlight-div-header-right"><div _ngcontent-uaa-c106="" class="handle-button ai-button"></div><div _ngcontent-uaa-c106="" class="handle-button line-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uaa-c106="" class="handle-button theme-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uaa-c106="" class="handle-button copy-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uaa-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { webview } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkWeb'</span>;</li><li><span class="hljs-keyword">import</span> { call } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.TelephonyKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">webviewController</span>: webview.<span class="hljs-property">WebviewController</span> = <span class="hljs-keyword">new</span> webview.<span class="hljs-title class_">WebviewController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: $rawfile(<span class="hljs-string">'call.html'</span>), <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">webviewController</span> })</li><li>        .<span class="hljs-title function_">onLoadIntercept</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {</li><li>          <span class="hljs-keyword">if</span> (event) {</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span> = event.<span class="hljs-property">data</span>.<span class="hljs-title function_">getRequestUrl</span>();</li><li>            <span class="hljs-comment">// 判断链接是否为拨号链接</span></li><li>            <span class="hljs-keyword">if</span> (url.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'tel://'</span>) === <span class="hljs-number">0</span>) {</li><li>              <span class="hljs-comment">// 跳转拨号界面</span></li><li>              call.<span class="hljs-title function_">makeCall</span>(url.<span class="hljs-title function_">substring</span>(<span class="hljs-number">6</span>), <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>                <span class="hljs-keyword">if</span> (!err) {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'make call succeeded.'</span>);</li><li>                } <span class="hljs-keyword">else</span> {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'make call fail, err is:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>                }</li><li>              });</li><li>              <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>            }</li><li>          }</li><li>          <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div></li>      <li>       <p>前端页面call.html代码。</p>       <div _ngcontent-uaa-c106="" class="highlight-div"><div _ngcontent-uaa-c106="" class="highlight-div-header"><div _ngcontent-uaa-c106="" class="highlight-div-header-left"><div _ngcontent-uaa-c106="" class="handle-button expand-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uaa-c106="" class="highlight-div-header-right"><div _ngcontent-uaa-c106="" class="handle-button ai-button"></div><div _ngcontent-uaa-c106="" class="handle-button line-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uaa-c106="" class="handle-button theme-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uaa-c106="" class="handle-button copy-button"><div _ngcontent-uaa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uaa-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- call.html --&gt;</span></li><li><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"tel://***********"</span>&gt;</span>拨打电话<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></li></ol></pre></div></div></li>     </ul>     <p><span><img originheight="800" originwidth="450" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114730.63825553434386496011583009025602:50001231000000:2800:117B2F30E40F7EA1856B984CE61DC1428751491E506945978DEDD9AE99BFBB53.gif" width="450" height="800"></span></p>    </div>   </div>   <div></div></div>