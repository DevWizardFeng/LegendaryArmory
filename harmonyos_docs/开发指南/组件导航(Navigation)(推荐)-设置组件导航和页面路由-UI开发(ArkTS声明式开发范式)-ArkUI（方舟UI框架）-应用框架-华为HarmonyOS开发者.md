<h1 _ngcontent-cxy-c119="" class="doc-title ng-star-inserted" title="组件导航(Navigation) (推荐)"> 组件导航(Navigation) (推荐) </h1>

<div _ngcontent-cxy-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>组件导航（Navigation）主要用于实现Navigation页面（NavDestination）间的跳转，支持在不同Navigation页面间传递参数，提供灵活的跳转栈操作，从而更便捷地实现对不同页面的访问和复用。本文将从组件导航（Navigation）的显示模式、路由操作、子页面管理、跨包跳转以及跳转动效等几个方面进行详细介绍。</p>    <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation" target="_blank">Navigation</a>是路由导航的根视图容器，一般作为页面（@Entry）的根容器，包括单栏（Stack）、分栏（Split）和自适应（Auto）三种显示模式。Navigation组件适用于模块内和跨模块的路由切换，通过组件级路由能力实现更加自然流畅的转场体验，并提供多种标题栏样式来呈现更好的标题和内容联动效果。一次开发，多端部署场景下，Navigation组件能够自动适配窗口显示大小，在窗口较大的场景下自动切换分栏展示效果。</p>    <p>Navigation组件主要包含​导航页和子页。导航页由标题栏（包含菜单栏）、内容区和工具栏组成，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#hidenavbar9" target="_blank">hideNavBar</a>属性进行隐藏，导航页不存在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#navpathstack10" target="_blank">路由栈</a>中，与子页，以及子页之间可以通过路由操作进行切换。</p>    <p>在API version 9上，Navigation需要配合<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navrouter" target="_blank">NavRouter</a>组件实现页面路由。从API version 10开始，更推荐使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#navpathstack10" target="_blank">NavPathStack</a>实现页面路由。</p>    <div class="tiledSection">     <h2 id="设置页面显示模式">设置页面显示模式<i class="anchor-icon anchor-icon-link" anchorid="设置页面显示模式" tips="复制节点链接"></i></h2>          <p>Navigation组件通过mode属性设置页面的显示模式。</p>     <ul>      <li>       <p>自适应模式</p>       <p>Navigation组件默认为自适应模式，此时mode属性为NavigationMode.Auto。自适应模式下，当页面宽度大于等于一定阈值( API version 9及以前：520vp，API version 10及以后：600vp )时，Navigation组件采用分栏模式，反之采用单栏模式。</p>       <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-built_in">Navigation</span>() {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li><span class="hljs-selector-class">.mode</span>(NavigationMode.Auto)</li></ol></pre></div></div></li>      <li>       <p>单栏模式</p>       <p>单栏模式适用于窄屏设备，发生路由跳转时，整个页面都会被替换。</p>       <p><strong>图1</strong> 单栏布局示意图</p>       <p><span><img originheight="649" originwidth="1003" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114807.66784785306270321992785851553716:50001231000000:2800:399CB0B03FEC8C8ED5367E7D0170FCADE82CB642567F912F2E06767CDF381759.png" width="920" height="595.2941176470588"></span></p>       <p>将mode属性设置为NavigationMode.Stack，Navigation组件即可设置为单栏显示模式。</p>       <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Navigation</span>() {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>.<span class="hljs-title function_">mode</span>(<span class="hljs-title class_">NavigationMode</span>.<span class="hljs-property">Stack</span>)</li></ol></pre></div></div>       <p><span><img originheight="724" originwidth="366" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114807.69848324762160862370882639439958:50001231000000:2800:AB7ED738B24608FF9BC0E3552E73528F53690894F5C63AC3C2F93F53E0A341AA.jpg" width="366" height="724"></span></p></li>      <li>       <p>分栏模式</p>       <p>分栏模式适用于宽屏设备，分为左右两部分，发生路由跳转时，只有右边子页会被替换。</p>       <p><strong>图2</strong> 分栏布局示意图</p>       <p><span><img originheight="641" originwidth="992" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114807.03946557144688446031571093755646:50001231000000:2800:DC3293AF994965FB68B7914EBAFB8B42F9ABF6A64098BD8D143F628DAEECA980.png" width="920" height="594.4758064516129"></span></p>       <p>将mode属性设置为NavigationMode.Split，Navigation组件即可设置为分栏显示模式。</p>       <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="TypeScript prettyprint linenums hljs language-TypeScript" hw-language="TypeScript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">DOMAIN</span> = <span class="hljs-number">0x0000</span>;</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">NavigationExample</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">toolTmp</span>: <span class="hljs-title class_">ToolbarItem</span> = {</li><li>    <span class="hljs-string">'value'</span>: <span class="hljs-string">"func"</span>,</li><li>    <span class="hljs-string">'icon'</span>: <span class="hljs-string">"./image/ic_public_highlights.svg"</span>,  <span class="hljs-comment">// 当前目录image文件夹下的图标资源</span></li><li>    <span class="hljs-string">'action'</span>: <span class="hljs-function">() =&gt;</span> {}</li><li>  };</li><li>  <span class="hljs-meta">@Provide</span>(<span class="hljs-string">'navPathStack'</span>) <span class="hljs-attr">navPathStack</span>: <span class="hljs-title class_">NavPathStack</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NavPathStack</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">arr</span>: <span class="hljs-built_in">number</span>[] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">pageMap</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-keyword">if</span> (name === <span class="hljs-string">"NavDestinationTitle1"</span>) {</li><li>      <span class="hljs-title function_">pageOneTmp</span>();</li><li>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (name === <span class="hljs-string">"NavDestinationTitle2"</span>) {</li><li>      <span class="hljs-title function_">pageTwoTmp</span>();</li><li>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (name === <span class="hljs-string">"NavDestinationTitle3"</span>) {</li><li>      <span class="hljs-title function_">pageThreeTmp</span>();</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Navigation</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">navPathStack</span>) {</li><li>        <span class="hljs-title class_">TextInput</span>({ <span class="hljs-attr">placeholder</span>: <span class="hljs-string">'search...'</span> })</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">"90%"</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">40</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#FFFFFF'</span>)</li><li>
</li><li>        <span class="hljs-title class_">List</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">12</span> }) {</li><li>          <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">arr</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>            <span class="hljs-title class_">ListItem</span>() {</li><li>              <span class="hljs-title class_">Text</span>(<span class="hljs-string">"Page"</span> + item)</li><li>                .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>                .<span class="hljs-title function_">height</span>(<span class="hljs-number">72</span>)</li><li>                .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#FFFFFF'</span>)</li><li>                .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">24</span>)</li><li>                .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>                .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-number">500</span>)</li><li>                .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>                .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-property">navPathStack</span>.<span class="hljs-title function_">pushPath</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'NavDestinationTitle'</span> + item });</li><li>                })</li><li>            }</li><li>          }, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">number</span></span>) =&gt;</span> item.<span class="hljs-title function_">toString</span>())</li><li>        }</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">"90%"</span>)</li><li>        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">12</span> })</li><li>      }</li><li>      .<span class="hljs-title function_">title</span>(<span class="hljs-string">"主标题"</span>)</li><li>      .<span class="hljs-title function_">mode</span>(<span class="hljs-title class_">NavigationMode</span>.<span class="hljs-property">Split</span>)</li><li>      .<span class="hljs-title function_">navDestination</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pageMap</span>)</li><li>      .<span class="hljs-title function_">menus</span>([</li><li>        {</li><li>          <span class="hljs-attr">value</span>: <span class="hljs-string">""</span>, <span class="hljs-attr">icon</span>: <span class="hljs-string">"./image/ic_public_search.svg"</span>, <span class="hljs-attr">action</span>: <span class="hljs-function">() =&gt;</span> {</li><li>          }</li><li>        },</li><li>        {</li><li>          <span class="hljs-attr">value</span>: <span class="hljs-string">""</span>, <span class="hljs-attr">icon</span>: <span class="hljs-string">"./image/ic_public_add.svg"</span>, <span class="hljs-attr">action</span>: <span class="hljs-function">() =&gt;</span> {</li><li>          }</li><li>        },</li><li>        {</li><li>          <span class="hljs-attr">value</span>: <span class="hljs-string">""</span>, <span class="hljs-attr">icon</span>: <span class="hljs-string">"./image/ic_public_add.svg"</span>, <span class="hljs-attr">action</span>: <span class="hljs-function">() =&gt;</span> {</li><li>          }</li><li>        },</li><li>        {</li><li>          <span class="hljs-attr">value</span>: <span class="hljs-string">""</span>, <span class="hljs-attr">icon</span>: <span class="hljs-string">"./image/ic_public_add.svg"</span>, <span class="hljs-attr">action</span>: <span class="hljs-function">() =&gt;</span> {</li><li>          }</li><li>        },</li><li>        {</li><li>          <span class="hljs-attr">value</span>: <span class="hljs-string">""</span>, <span class="hljs-attr">icon</span>: <span class="hljs-string">"./image/ic_public_add.svg"</span>, <span class="hljs-attr">action</span>: <span class="hljs-function">() =&gt;</span> {</li><li>          }</li><li>        }</li><li>      ])</li><li>      .<span class="hljs-title function_">toolbarConfiguration</span>([<span class="hljs-variable language_">this</span>.<span class="hljs-property">toolTmp</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">toolTmp</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">toolTmp</span>])</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#F1F3F5'</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">// PageOne.ets</span></li><li><span class="hljs-meta">@Component</span></li><li><span class="hljs-keyword">export</span> struct pageOneTmp {</li><li>  <span class="hljs-meta">@Consume</span>(<span class="hljs-string">'navPathStack'</span>) <span class="hljs-attr">navPathStack</span>: <span class="hljs-title class_">NavPathStack</span>;</li><li>  context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>();</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">NavDestination</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"NavDestinationContent1"</span>)</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }.<span class="hljs-title function_">title</span>(<span class="hljs-string">"NavDestinationTitle1"</span>)</li><li>    .<span class="hljs-title function_">onBackPressed</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> popDestinationInfo = <span class="hljs-variable language_">this</span>.<span class="hljs-property">navPathStack</span>.<span class="hljs-title function_">pop</span>(); <span class="hljs-comment">// 弹出路由栈栈顶元素</span></li><li>      <span class="hljs-comment">// $r('app.string.returnValue')需要替换为开发者所需的字符串资源文件</span></li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'pop'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>!.<span class="hljs-property">resourceManager</span>.<span class="hljs-title function_">getStringSync</span>($r(<span class="hljs-string">'app.string.returnValue'</span>).<span class="hljs-property">id</span>),</li><li>        <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(popDestinationInfo));</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>    })</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">// PageTwo.ets</span></li><li><span class="hljs-meta">@Component</span></li><li><span class="hljs-keyword">export</span> struct pageTwoTmp {</li><li>  <span class="hljs-meta">@Consume</span>(<span class="hljs-string">'navPathStack'</span>) <span class="hljs-attr">navPathStack</span>: <span class="hljs-title class_">NavPathStack</span>;</li><li>  context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>();</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">NavDestination</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"NavDestinationContent2"</span>)</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }.<span class="hljs-title function_">title</span>(<span class="hljs-string">"NavDestinationTitle2"</span>)</li><li>    .<span class="hljs-title function_">onBackPressed</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> popDestinationInfo = <span class="hljs-variable language_">this</span>.<span class="hljs-property">navPathStack</span>.<span class="hljs-title function_">pop</span>(); <span class="hljs-comment">// 弹出路由栈栈顶元素</span></li><li>      <span class="hljs-comment">// $r('app.string.returnValue')需要替换为开发者所需的字符串资源文件</span></li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'pop'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>!.<span class="hljs-property">resourceManager</span>.<span class="hljs-title function_">getStringSync</span>($r(<span class="hljs-string">'app.string.returnValue'</span>).<span class="hljs-property">id</span>),</li><li>        <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(popDestinationInfo));</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>    })</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">// PageThree.ets</span></li><li><span class="hljs-meta">@Component</span></li><li><span class="hljs-keyword">export</span> struct pageThreeTmp {</li><li>  <span class="hljs-meta">@Consume</span>(<span class="hljs-string">'navPathStack'</span>) <span class="hljs-attr">navPathStack</span>: <span class="hljs-title class_">NavPathStack</span>;</li><li>  context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>();</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">NavDestination</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"NavDestinationContent3"</span>)</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }.<span class="hljs-title function_">title</span>(<span class="hljs-string">"NavDestinationTitle3"</span>)</li><li>    .<span class="hljs-title function_">onBackPressed</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> popDestinationInfo = <span class="hljs-variable language_">this</span>.<span class="hljs-property">navPathStack</span>.<span class="hljs-title function_">pop</span>(); <span class="hljs-comment">// 弹出路由栈栈顶元素</span></li><li>      <span class="hljs-comment">// $r('app.string.returnValue')需要替换为开发者所需的字符串资源文件</span></li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'pop'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>!.<span class="hljs-property">resourceManager</span>.<span class="hljs-title function_">getStringSync</span>($r(<span class="hljs-string">'app.string.returnValue'</span>).<span class="hljs-property">id</span>),</li><li>        <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(popDestinationInfo));</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>    })</li><li>  }</li><li>}</li></ol></pre></div></div>       <p><span><img originheight="1448" originwidth="2560" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114807.99723969077392136009104140517911:50001231000000:2800:8DE1DF84653EBDD1D865CF9C056D02D91E9923A9D312DC5CD863A5BF572E63E8.jpg" width="920" height="520.375"></span></p></li>     </ul>    </div>    <div class="tiledSection">     <h2 id="设置标题栏模式">设置标题栏模式<i class="anchor-icon anchor-icon-link" anchorid="设置标题栏模式" tips="复制节点链接"></i></h2>          <p>标题栏在界面顶部，用于呈现界面名称和操作入口，Navigation组件通过titleMode属性设置标题栏模式。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>Navigation或NavDestination未设置主副标题并且没有返回键时，不显示标题栏。</p>      </div></div></div>     <ul>      <li>       <p>Mini模式</p>       <p>普通型标题栏，用于一级页面不需要突出标题的场景。</p>       <p><strong>图3</strong> Mini模式标题栏</p>       <p><span><img originheight="567" originwidth="360" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114807.93124893052472514404336258507098:50001231000000:2800:2C20E4828DB1B488F732974167C3F1B35FC6D704F10742679E33F9C0FF07666B.jpg" width="360" height="567"></span></p>       <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Navigation</span>() {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>.<span class="hljs-title function_">titleMode</span>(<span class="hljs-title class_">NavigationTitleMode</span>.<span class="hljs-property">Mini</span>)</li></ol></pre></div></div></li>      <li>       <p>Full模式</p>       <p>强调型标题栏，用于一级页面需要突出标题的场景。</p>       <p><strong>图4</strong> Full模式标题栏</p>       <p><span><img originheight="567" originwidth="360" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114807.07673522941174777389041126240141:50001231000000:2800:85ADF7747AEA2C1E707C186AF04F605F18B16DCADF315F0C8311898C669D914A.jpg" width="360" height="567"></span></p>       <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Navigation</span>() {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>.<span class="hljs-title function_">titleMode</span>(<span class="hljs-title class_">NavigationTitleMode</span>.<span class="hljs-property">Full</span>)</li></ol></pre></div></div></li>     </ul>    </div>    <div class="tiledSection">     <h2 id="设置菜单栏">设置菜单栏<i class="anchor-icon anchor-icon-link" anchorid="设置菜单栏" tips="复制节点链接"></i></h2>          <p>菜单栏位于Navigation组件的右上角，开发者可以通过menus属性进行设置。menus支持Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#navigationmenuitem" target="_blank">NavigationMenuItem</a>&gt;和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#custombuilder8" target="_blank">CustomBuilder</a>两种参数类型。使用Array&lt;NavigationMenuItem&gt;类型时，竖屏最多支持显示3个图标，横屏最多支持显示5个图标，多余的图标会被放入自动生成的更多图标。</p>     <p><strong>图5</strong> 设置了3个图标的菜单栏</p>     <p><span><img originheight="44" originwidth="310" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114807.46098493612192647602340430984659:50001231000000:2800:E430378B815855AEA2EB4BF6F186DDC9AB1A57D7F5C1E4EF7A54D53963EA3B0A.jpg" width="310" height="44"></span></p>     <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="TypeScript prettyprint linenums hljs language-TypeScript" hw-language="TypeScript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">toolTmp</span>: <span class="hljs-title class_">NavigationMenuItem</span>  = {</li><li>  <span class="hljs-string">'value'</span>: <span class="hljs-string">'func'</span>,</li><li>  <span class="hljs-string">'icon'</span>: <span class="hljs-string">'ets/pages/navigation/template1/image/ic_public_add.svg'</span>,</li><li>  <span class="hljs-string">'action'</span>: <span class="hljs-function">() =&gt;</span> {}</li><li>};</li><li><span class="hljs-comment">// ...</span></li><li>      <span class="hljs-title class_">Navigation</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">navPathStack</span>) {</li><li>        <span class="hljs-comment">// ...</span></li><li>      }</li><li>      .<span class="hljs-title function_">menus</span>([toolTmp, toolTmp, toolTmp])</li></ol></pre></div></div>     <p>图片也可以引用resources中的资源。</p>     <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="TypeScript prettyprint linenums hljs language-TypeScript" hw-language="TypeScript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">toolTmp</span>: <span class="hljs-title class_">NavigationMenuItem</span>  = {</li><li>  <span class="hljs-string">'value'</span>: <span class="hljs-string">'func'</span>,</li><li>  <span class="hljs-string">'icon'</span>: <span class="hljs-string">'resources/base/media/ic_public_add.svg'</span>,</li><li>  <span class="hljs-string">'action'</span>: <span class="hljs-function">() =&gt;</span> {}</li><li>};</li><li><span class="hljs-comment">// ...</span></li><li>      <span class="hljs-title class_">Navigation</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">navPathStack</span>) {</li><li>        <span class="hljs-comment">// ...</span></li><li>      }</li><li>      .<span class="hljs-title function_">menus</span>([toolTmp, toolTmp, toolTmp])</li></ol></pre></div></div>     <p><strong>图6</strong> 设置了4个图标的菜单栏</p>     <p><span><img originheight="43" originwidth="320" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114807.51559412352953743600593510486509:50001231000000:2800:2E05C1256C9B9E6F8108C466BE0E1FC51C50A7B4496C70055ADC2EC028BDE803.jpg" width="320" height="43"></span></p>     <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="TypeScript prettyprint linenums hljs language-TypeScript" hw-language="TypeScript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">toolTmp</span>: <span class="hljs-title class_">NavigationMenuItem</span>  = {</li><li>  <span class="hljs-string">'value'</span>: <span class="hljs-string">'func'</span>,</li><li>  <span class="hljs-string">'icon'</span>: <span class="hljs-string">'ets/pages/navigation/template1/image/ic_public_add.svg'</span>,</li><li>  <span class="hljs-string">'action'</span>: <span class="hljs-function">() =&gt;</span> {}</li><li>};</li><li><span class="hljs-comment">// ...</span></li><li>      <span class="hljs-title class_">Navigation</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">navPathStack</span>) {</li><li>        <span class="hljs-comment">// ...</span></li><li>      }</li><li>      <span class="hljs-comment">// 竖屏最多支持显示3个图标，多余的图标会被放入自动生成的更多图标</span></li><li>      .<span class="hljs-title function_">menus</span>([toolTmp, toolTmp, toolTmp, toolTmp])</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="设置工具栏">设置工具栏<i class="anchor-icon anchor-icon-link" anchorid="设置工具栏" tips="复制节点链接"></i></h2>          <p>工具栏位于Navigation组件的底部，开发者可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#toolbarconfiguration10" target="_blank">toolbarConfiguration</a>属性进行设置。</p>     <p><strong>图7</strong> 工具栏</p>     <p><span><img originheight="67" originwidth="719" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114807.89907472566022135739425801498651:50001231000000:2800:AEACFCE18B4C0D6BC3DE89E1012DDDD3AD2A0A44803BB53599D455D30FE9FD3C.jpg" width="719" height="67"></span></p>     <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="TypeScript prettyprint linenums hljs language-TypeScript" hw-language="TypeScript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">toolTmp</span>: <span class="hljs-title class_">ToolbarItem</span> = {</li><li>  <span class="hljs-string">'value'</span>: <span class="hljs-string">'func'</span>,</li><li>  <span class="hljs-string">'icon'</span>: <span class="hljs-string">'ets/pages/navigation/template1/image/ic_public_highlights.svg'</span>,</li><li>  <span class="hljs-string">'action'</span>: <span class="hljs-function">() =&gt;</span> {}</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">tooBar</span>: <span class="hljs-title class_">ToolbarItem</span>[] = [toolTmp,toolTmp,toolTmp];</li><li><span class="hljs-comment">// ...</span></li><li>      <span class="hljs-title class_">Navigation</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">navPathStack</span>) {</li><li>        <span class="hljs-comment">// ...</span></li><li>      }</li><li>      .<span class="hljs-title function_">toolbarConfiguration</span>(tooBar)</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="路由操作">路由操作<i class="anchor-icon anchor-icon-link" anchorid="路由操作" tips="复制节点链接"></i></h2>          <p>Navigation路由相关的操作都是基于导航控制器<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#navpathstack10" target="_blank">NavPathStack</a>提供的方法进行，每个Navigation都需要创建并传入一个NavPathStack对象，用于管理页面。主要涉及页面跳转、页面返回、页面替换、页面删除、参数获取、路由拦截等功能。</p>     <p>从API version 12开始，导航控制器允许被继承。开发者可以在派生类中自定义属性和方法，也可以重写父类的方法。派生类对象可以替代基类NavPathStack对象使用。Navigation中的NavDestination页面存在于NavPathStack中，以栈的结构管理，我们称为路由栈。具体示例代码参见：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#示例10定义导航控制器派生类" target="_blank">导航控制器继承示例代码</a>。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>1.不建议开发者通过监听生命周期的方式管理自己的路由栈。</p>       <p>2.在应用处于后台状态下，调用NavPathStack的栈操作方法，会在应用再次回到前台状态时触发刷新。</p>      </div></div></div>     <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-comment">// 创建一个导航控制器对象并传入Navigation</span></li><li>  <span class="hljs-attr">pageStack</span>: <span class="hljs-title class_">NavPathStack</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NavPathStack</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Navigation</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>) {</li><li>    }</li><li>    .<span class="hljs-title function_">title</span>(<span class="hljs-string">'Main'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="页面跳转" class="firsth2">页面跳转<i class="anchor-icon anchor-icon-link" anchorid="页面跳转" tips="复制节点链接"></i></h3>          <p>NavPathStack通过Push相关的接口（如<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#pushpath10" target="_blank">pushPath</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#pushpathbyname10" target="_blank">pushPathByName</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#pushdestination11" target="_blank">pushDestination</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#pushdestinationbyname11" target="_blank">pushDestinationByName</a>）去实现页面跳转的功能，主要分为以下三类：</p>     <ol>      <li>       <p>普通跳转，通过页面的name去跳转，并可以携带param。</p>       <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">pushPath</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">"PageOne"</span>, <span class="hljs-attr">param</span>: <span class="hljs-string">"PageOne Param"</span> });</li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">pushPathByName</span>(<span class="hljs-string">"PageOne"</span>, <span class="hljs-string">"PageOne Param"</span>);</li></ol></pre></div></div></li>      <li>       <p>带返回回调的跳转，跳转时添加onPop回调，能在页面出栈时获取返回信息，并进行处理。</p>       <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">pushPathByName</span>(<span class="hljs-string">'PageOne'</span>, <span class="hljs-string">"PageOne Param"</span>, <span class="hljs-function">(<span class="hljs-params">popInfo</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Pop page name is: '</span> + popInfo.<span class="hljs-property">info</span>.<span class="hljs-property">name</span> + <span class="hljs-string">', result: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(popInfo.<span class="hljs-property">result</span>));</li><li>});</li></ol></pre></div></div></li>      <li>       <p>带错误码的跳转，跳转结束会触发异步回调，返回错误码信息。</p>       <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">pushDestination</span>({<span class="hljs-attr">name</span>: <span class="hljs-string">"PageOne"</span>, <span class="hljs-attr">param</span>: <span class="hljs-string">"PageOne Param"</span>})</li><li>  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Push destination failed, error code = <span class="hljs-subst">${error.code}</span>, error.message = <span class="hljs-subst">${error.message}</span>.`</span>);</li><li>  }).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Push destination succeed.'</span>);</li><li>  });</li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">pushDestinationByName</span>(<span class="hljs-string">"PageOne"</span>, <span class="hljs-string">"PageOne Param"</span>)</li><li>  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Push destination failed, error code = <span class="hljs-subst">${error.code}</span>, error.message = <span class="hljs-subst">${error.message}</span>.`</span>);</li><li>  }).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Push destination succeed.'</span>);</li><li>  });</li></ol></pre></div></div></li>     </ol>    </div>    <div class="tiledSection">     <h3 id="页面返回">页面返回<i class="anchor-icon anchor-icon-link" anchorid="页面返回" tips="复制节点链接"></i></h3>          <p>NavPathStack通过pop相关接口（如<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#pop10" target="_blank">pop</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#poptoname10" target="_blank">popToName</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#poptoindex10" target="_blank">popToIndex</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#clear10" target="_blank">clear</a>）去实现页面返回功能。</p>     <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 返回到上一页</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">pop</span>();</li><li><span class="hljs-comment">// 返回到上一个PageOne页面</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">popToName</span>(<span class="hljs-string">"PageOne"</span>);</li><li><span class="hljs-comment">// 返回到索引为1的页面</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">popToIndex</span>(<span class="hljs-number">1</span>);</li><li><span class="hljs-comment">// 返回到根首页（清除栈中所有页面）</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">clear</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="页面替换">页面替换<i class="anchor-icon anchor-icon-link" anchorid="页面替换" tips="复制节点链接"></i></h3>          <p>NavPathStack通过Replace相关接口（如<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#replacepath11" target="_blank">replacePath</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#replacepathbyname11" target="_blank">replacePathByName</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#replacedestination18" target="_blank">replaceDestination</a>）去实现页面替换功能。</p>     <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 将栈顶页面替换为PageOne</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">replacePath</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">"PageOne"</span>, <span class="hljs-attr">param</span>: <span class="hljs-string">"PageOne Param"</span> });</li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">replacePathByName</span>(<span class="hljs-string">"PageOne"</span>, <span class="hljs-string">"PageOne Param"</span>);</li><li><span class="hljs-comment">// 带错误码的替换，跳转结束会触发异步回调，返回错误码信息</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">replaceDestination</span>({<span class="hljs-attr">name</span>: <span class="hljs-string">"PageOne"</span>, <span class="hljs-attr">param</span>: <span class="hljs-string">"PageOne Param"</span>})</li><li>  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Replace destination failed, error code = <span class="hljs-subst">${error.code}</span>, error.message = <span class="hljs-subst">${error.message}</span>.`</span>);</li><li>  }).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Replace destination succeed.'</span>);</li><li>  })</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="页面删除">页面删除<i class="anchor-icon anchor-icon-link" anchorid="页面删除" tips="复制节点链接"></i></h3>          <p>NavPathStack通过Remove相关接口（如<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#removebyname11" target="_blank">removeByName</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#removebyindexes11" target="_blank">removeByIndexes</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#removebynavdestinationid12" target="_blank">removeByNavDestinationId</a>）去实现删除路由栈中特定页面的功能。</p>     <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 删除栈中name为PageOne的所有页面</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">removeByName</span>(<span class="hljs-string">"PageOne"</span>);</li><li><span class="hljs-comment">// 删除指定索引的页面</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">removeByIndexes</span>([<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>]);</li><li><span class="hljs-comment">// 删除指定id的页面</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">removeByNavDestinationId</span>(<span class="hljs-string">"1"</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="移动页面">移动页面<i class="anchor-icon anchor-icon-link" anchorid="移动页面" tips="复制节点链接"></i></h3>          <p>NavPathStack通过Move相关接口（如<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#movetotop10" target="_blank">moveToTop</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#moveindextotop10" target="_blank">moveIndexToTop</a>）去实现移动路由栈中特定页面到栈顶的功能。</p>     <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 移动栈中name为PageOne的页面到栈顶</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">moveToTop</span>(<span class="hljs-string">"PageOne"</span>);</li><li><span class="hljs-comment">// 移动栈中索引为1的页面到栈顶</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">moveIndexToTop</span>(<span class="hljs-number">1</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="参数获取">参数获取<i class="anchor-icon anchor-icon-link" anchorid="参数获取" tips="复制节点链接"></i></h3>          <p>NavDestination子页第一次创建时会触发<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navdestination#onready11" target="_blank">onReady</a>回调，可以获取此页面对应的参数。</p>     <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Page01</span> {</li><li>  <span class="hljs-attr">pathStack</span>: <span class="hljs-title class_">NavPathStack</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-attr">pageParam</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">NavDestination</span>() {</li><li>      <span class="hljs-comment">// ...</span></li><li>    }.<span class="hljs-title function_">title</span>(<span class="hljs-string">'Page01'</span>)</li><li>    .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">(<span class="hljs-params">context: NavDestinationContext</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">pathStack</span> = context.<span class="hljs-property">pathStack</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">pageParam</span> = context.<span class="hljs-property">pathInfo</span>.<span class="hljs-property">param</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>;</li><li>    })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p>NavDestination组件中可以通过设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navdestination#onresult15" target="_blank">onResult</a>接口，接收返回时传递的路由参数。</p>     <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">NavParam</span> {</li><li>  <span class="hljs-attr">desc</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'navigation-param'</span></li><li>}</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">DemoNavDestination</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">NavDestination</span>() {</li><li>      <span class="hljs-comment">// ...</span></li><li>    }</li><li>    .<span class="hljs-title function_">onResult</span>(<span class="hljs-function">(<span class="hljs-params">param: <span class="hljs-built_in">Object</span></span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (param <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">NavParam</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'TestTag'</span>, <span class="hljs-string">'get NavParam, its desc: '</span> + (param <span class="hljs-keyword">as</span> <span class="hljs-title class_">NavParam</span>).<span class="hljs-property">desc</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'TestTag'</span>, <span class="hljs-string">'param not instance of NavParam'</span>);</li><li>    })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p>其他业务场景，可以通过主动调用NavPathStack的Get相关接口（如<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#getallpathname10" target="_blank">getAllPathName</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#getparambyindex10" target="_blank">getParamByIndex</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#getparambyname10" target="_blank">getParamByName</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#getindexbyname10" target="_blank">getIndexByName</a>）去获取指定页面的参数。</p>     <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 获取栈中所有页面name集合</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">getAllPathName</span>();</li><li><span class="hljs-comment">// 获取索引为1的页面参数</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">getParamByIndex</span>(<span class="hljs-number">1</span>);</li><li><span class="hljs-comment">// 获取PageOne页面的参数</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">getParamByName</span>(<span class="hljs-string">"PageOne"</span>);</li><li><span class="hljs-comment">// 获取PageOne页面的索引集合</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">getIndexByName</span>(<span class="hljs-string">"PageOne"</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="路由拦截">路由拦截<i class="anchor-icon anchor-icon-link" anchorid="路由拦截" tips="复制节点链接"></i></h3>          <p>NavPathStack提供了<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#setinterception12" target="_blank">setInterception</a>方法，用于设置Navigation页面跳转拦截回调。该方法需要传入一个NavigationInterception对象，该对象包含三个回调函数：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.3.1.3.1.1" valign="top" width="50%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.3.1.3.1.2" valign="top" width="50%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">willShow</td>         <td class="cellrowborder" valign="top" width="50%">页面跳转前回调，允许操作栈，在当前跳转生效。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">didShow</td>         <td class="cellrowborder" valign="top" width="50%">页面跳转后回调，在该回调中操作栈会在下一次跳转生效。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">modeChange</td>         <td class="cellrowborder" valign="top" width="50%">Navigation单双栏显示状态发生变更时触发该回调。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>无论是哪个回调，在进入回调时路由栈都已经发生了变化。</p>      </div></div></div>     <p>开发者可以在willShow回调中通过修改路由栈来实现路由拦截重定向的能力。</p>     <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">setInterception</span>({</li><li>  <span class="hljs-attr">willShow</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">from</span>: NavDestinationContext | <span class="hljs-string">"navBar"</span>, to: NavDestinationContext | <span class="hljs-string">"navBar"</span>,</span></span></li><li><span class="hljs-function">    operation: NavigationOperation, animated: <span class="hljs-built_in">boolean</span></span>) =&gt; {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> to === <span class="hljs-string">"string"</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"target page is navigation home page."</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 将跳转到PageTwo的路由重定向到PageOne</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">target</span>: <span class="hljs-title class_">NavDestinationContext</span> = to <span class="hljs-keyword">as</span> <span class="hljs-title class_">NavDestinationContext</span>;</li><li>    <span class="hljs-keyword">if</span> (target.<span class="hljs-property">pathInfo</span>.<span class="hljs-property">name</span> === <span class="hljs-string">'PageTwo'</span>) {</li><li>      target.<span class="hljs-property">pathStack</span>.<span class="hljs-title function_">pop</span>();</li><li>      target.<span class="hljs-property">pathStack</span>.<span class="hljs-title function_">pushPathByName</span>(<span class="hljs-string">'PageOne'</span>, <span class="hljs-literal">null</span>);</li><li>    }</li><li>  }</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="单例跳转">单例跳转<i class="anchor-icon anchor-icon-link" anchorid="单例跳转" tips="复制节点链接"></i></h3>          <p>通过设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#launchmode12枚举说明" target="_blank">LaunchMode</a>为LaunchMode.MOVE_TO_TOP_SINGLETON或LaunchMode.POP_TO_SINGLETON，可以实现Navigation路由栈的单实例跳转。单实例跳转的规则如下：</p>     <ol>      <li>当指定为LaunchMode.MOVE_TO_TOP_SINGLETON时，系统会从栈底到栈顶查找具有指定名称的NavDestination。找到后，该页面将被移动到栈顶（replace操作会用指定的NavDestination替换当前栈顶）。</li>      <li>若指定为LaunchMode.POP_TO_SINGLETON，系统同样会从栈底到栈顶查找具有指定名称的NavDestination。找到后，便会移除该NavDestination上方的所有页面（replace操作会用指定的NavDestination替换当前栈顶）。</li>     </ol>     <p>当栈中存在的NavDestination页面通过单实例方式移动到栈顶时，将触发<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navdestination#onnewparam19" target="_blank">onNewParam</a>回调。</p>     <p>有关单实例跳转的示例代码，可以参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#示例2使用导航控制器方法" target="_blank">Navigation单例跳转示例</a>。</p>    </div>    <div class="tiledSection">     <h2 id="子页面">子页面<i class="anchor-icon anchor-icon-link" anchorid="子页面" tips="复制节点链接"></i></h2>          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navdestination" target="_blank">NavDestination</a>是Navigation子页面的根容器，用于承载子页面的一些特殊属性以及生命周期等。NavDestination可以设置独立的标题栏和菜单栏等属性，使用方法与Navigation相同。NavDestination也可以通过mode属性设置不同的显示类型，用于满足不同页面的诉求。</p>    </div>    <div class="tiledSection">     <h3 id="页面显示类型" class="firsth2">页面显示类型<i class="anchor-icon anchor-icon-link" anchorid="页面显示类型" tips="复制节点链接"></i></h3>          <ul>      <li>       <p>标准类型</p>       <p>NavDestination组件默认为标准类型，此时mode属性为NavDestinationMode.STANDARD。标准类型的NavDestination的生命周期跟随其在NavPathStack路由栈中的位置变化而改变。</p></li>      <li>       <p>弹窗类型</p>       <p>NavDestination设置mode为NavDestinationMode.DIALOG弹窗类型，此时整个NavDestination默认透明显示。弹窗类型的NavDestination显示和消失时不会影响下层标准类型的NavDestination的显示和生命周期，两者可以同时显示。</p>       <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Dialog NavDestination</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li> struct <span class="hljs-title class_">Index</span> {</li><li>   <span class="hljs-meta">@Provide</span>(<span class="hljs-string">'NavPathStack'</span>) <span class="hljs-attr">pageStack</span>: <span class="hljs-title class_">NavPathStack</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NavPathStack</span>();</li><li>
</li><li>   <span class="hljs-meta">@Builder</span></li><li>   <span class="hljs-title class_">PagesMap</span>(<span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>) {</li><li>     <span class="hljs-keyword">if</span> (name == <span class="hljs-string">'DialogPage'</span>) {</li><li>       <span class="hljs-title class_">DialogPage</span>();</li><li>     }</li><li>   }</li><li>
</li><li>   <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>     <span class="hljs-title class_">Navigation</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>) {</li><li>       <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Push DialogPage'</span>)</li><li>         .<span class="hljs-title function_">margin</span>(<span class="hljs-number">20</span>)</li><li>         .<span class="hljs-title function_">width</span>(<span class="hljs-string">'80%'</span>)</li><li>         .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>           <span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">pushPathByName</span>(<span class="hljs-string">'DialogPage'</span>, <span class="hljs-string">''</span>);</li><li>         })</li><li>     }</li><li>     .<span class="hljs-title function_">mode</span>(<span class="hljs-title class_">NavigationMode</span>.<span class="hljs-property">Stack</span>)</li><li>     .<span class="hljs-title function_">title</span>(<span class="hljs-string">'Main'</span>)</li><li>     .<span class="hljs-title function_">navDestination</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">PagesMap</span>)</li><li>   }</li><li> }</li><li>
</li><li> <span class="hljs-meta">@Component</span></li><li> <span class="hljs-keyword">export</span> struct <span class="hljs-title class_">DialogPage</span> {</li><li>   <span class="hljs-meta">@Consume</span>(<span class="hljs-string">'NavPathStack'</span>) <span class="hljs-attr">pageStack</span>: <span class="hljs-title class_">NavPathStack</span>;</li><li>
</li><li>   <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>     <span class="hljs-title class_">NavDestination</span>() {</li><li>       <span class="hljs-title class_">Stack</span>({ <span class="hljs-attr">alignContent</span>: <span class="hljs-title class_">Alignment</span>.<span class="hljs-property">Center</span> }) {</li><li>         <span class="hljs-title class_">Column</span>() {</li><li>           <span class="hljs-title class_">Text</span>(<span class="hljs-string">"Dialog NavDestination"</span>)</li><li>             .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>             .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">bottom</span>: <span class="hljs-number">100</span> })</li><li>           <span class="hljs-title class_">Button</span>(<span class="hljs-string">"Close"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>             <span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">pop</span>();</li><li>           }).<span class="hljs-title function_">width</span>(<span class="hljs-string">'30%'</span>)</li><li>         }</li><li>         .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>         .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>         .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">10</span>)</li><li>         .<span class="hljs-title function_">height</span>(<span class="hljs-string">'30%'</span>)</li><li>         .<span class="hljs-title function_">width</span>(<span class="hljs-string">'80%'</span>)</li><li>       }.<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>     }</li><li>     .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgba(0,0,0,0.5)'</span>)</li><li>     .<span class="hljs-title function_">hideTitleBar</span>(<span class="hljs-literal">true</span>)</li><li>     .<span class="hljs-title function_">mode</span>(<span class="hljs-title class_">NavDestinationMode</span>.<span class="hljs-property">DIALOG</span>)</li><li>   }</li><li> }</li></ol></pre></div></div>       <p><span><img originheight="858" originwidth="441" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114808.96170227689557950845454545450717:50001231000000:2800:6ABF1B170973EBE88755A8BF1F1E07FAB072E060C7516A6974BB8B1E6CF89A1D.png" width="441" height="858"></span></p></li>     </ul>    </div>    <div class="tiledSection">     <h3 id="页面生命周期">页面生命周期<i class="anchor-icon anchor-icon-link" anchorid="页面生命周期" tips="复制节点链接"></i></h3>          <p>Navigation作为路由容器，其生命周期承载在NavDestination组件上，以组件事件的形式开放。</p>     <p>其生命周期大致可分为三类，自定义组件生命周期、通用组件生命周期和自有生命周期。其中，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-custom-component-lifecycle#abouttoappear" target="_blank">aboutToAppear</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-custom-component-lifecycle#abouttodisappear" target="_blank">aboutToDisappear</a>是自定义组件的生命周期(NavDestination外层包含的自定义组件)，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-events-show-hide#onappear" target="_blank">OnAppear</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-events-show-hide#ondisappear" target="_blank">OnDisappear</a>是组件的通用生命周期。剩下的生命周期为NavDestination独有。</p>     <p>生命周期时序如下图所示：</p>     <p><span><img originheight="836" originwidth="497" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114808.11617869662045237003893420813722:50001231000000:2800:1C7FB8A80234C2715B1C7CC246A7D2AAB18ADF9B5E5F28CA4D344D4FB8A4C5B5.png" width="497" height="836"></span></p>     <ul>      <li><strong>aboutToAppear</strong>：在创建自定义组件后，执行其build()函数之前执行（NavDestination创建之前），允许在该方法中改变状态变量，更改将在后续执行build()函数中生效。</li>      <li><strong>onWillAppear</strong>：NavDestination创建后，挂载到组件树之前执行，在该方法中更改状态变量会在当前帧显示生效。</li>      <li><strong>onAppear</strong>：通用生命周期事件，NavDestination组件挂载到组件树时执行。</li>      <li><strong>onWillShow</strong>：NavDestination组件布局显示之前执行，此时页面不可见（应用切换到前台不会触发）。</li>      <li><strong>onShown</strong>：NavDestination组件布局显示之后执行，此时页面已完成布局。</li>      <li><strong>onActive</strong>：NavDestination处于激活态（处于栈顶可操作，且上层无特殊组件遮挡）触发。</li>      <li><strong>onWillHide</strong>：NavDestination组件触发隐藏之前执行（应用切换到后台不会触发）。</li>      <li><strong>onInactive</strong>：NavDestination组件处于非激活态（处于非栈顶不可操作，或处于栈顶时上层有特殊组件遮挡）触发。</li>      <li><strong>onHidden</strong>：NavDestination组件触发隐藏后执行（非栈顶页面push进栈，栈顶页面pop出栈或应用切换到后台）。</li>      <li><strong>onWillDisappear</strong>：NavDestination组件即将销毁之前执行，如果有转场动画，会在动画前触发（栈顶页面pop出栈）。</li>      <li><strong>onDisappear</strong>：通用生命周期事件，NavDestination组件从组件树上卸载销毁时执行。</li>      <li><strong>aboutToDisappear</strong>：自定义组件析构销毁之前执行，不允许在该方法中改变状态变量。</li>     </ul>    </div>    <div class="tiledSection">     <h3 id="页面监听和查询">页面监听和查询<i class="anchor-icon anchor-icon-link" anchorid="页面监听和查询" tips="复制节点链接"></i></h3>          <p>为了方便组件跟页面解耦，在NavDestination子页面内部的自定义组件可以通过全局方法监听或查询到页面的一些状态信息。</p>     <ul>      <li>       <p>页面信息查询</p>       <p>自定义组件提供<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-custom-component-api#querynavdestinationinfo" target="_blank">queryNavDestinationInfo</a>方法，可以在NavDestination内部查询到当前所属页面的信息，返回值为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#navdestinationinfo" target="_blank">NavDestinationInfo</a>，若查询不到则返回undefined。</p>       <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li> <span class="hljs-keyword">import</span> { uiObserver } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li> <span class="hljs-comment">// NavDestination内的自定义组件</span></li><li> <span class="hljs-meta">@Component</span></li><li> struct <span class="hljs-title class_">MyComponent</span> {</li><li>   <span class="hljs-attr">navDesInfo</span>: uiObserver.<span class="hljs-property">NavDestinationInfo</span> | <span class="hljs-literal">undefined</span>;</li><li>
</li><li>   <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>     <span class="hljs-variable language_">this</span>.<span class="hljs-property">navDesInfo</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">queryNavDestinationInfo</span>();</li><li>   }</li><li>
</li><li>   <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>       <span class="hljs-title class_">Column</span>() {</li><li>         <span class="hljs-title class_">Text</span>(<span class="hljs-string">"所属页面Name: "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">navDesInfo</span>?.<span class="hljs-property">name</span>)</li><li>       }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>   }</li><li> }</li></ol></pre></div></div></li>      <li>       <p>页面状态监听</p>       <p>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#uiobserveronnavdestinationupdate" target="_blank">observer.on('navDestinationUpdate')</a>提供的注册接口可以注册NavDestination生命周期变化的监听，使用方式如下：</p>       <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li>uiObserver.<span class="hljs-title function_">on</span>(<span class="hljs-string">'navDestinationUpdate'</span>, <span class="hljs-function">(<span class="hljs-params">info</span>) =&gt;</span> {</li><li>     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'NavDestination state update'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(info));</li><li> });</li></ol></pre></div></div>       <p>也可以注册页面切换的状态回调，能在页面发生路由切换的时候拿到对应的页面信息<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#navdestinationswitchinfo12" target="_blank">NavDestinationSwitchInfo</a>，并且提供了UIAbilityContext和UIContext不同范围的监听：</p>       <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li> <span class="hljs-comment">// 在UIAbility中使用</span></li><li> <span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIContext</span>, uiObserver } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li> <span class="hljs-comment">// callbackFunc是开发者定义的监听回调函数</span></li><li> <span class="hljs-keyword">function</span> <span class="hljs-title function_">callbackFunc</span>(<span class="hljs-params">info: uiObserver.NavDestinationSwitchInfo</span>) {}</li><li> uiObserver.<span class="hljs-title function_">on</span>(<span class="hljs-string">'navDestinationSwitch'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, callbackFunc);</li><li>
</li><li> <span class="hljs-comment">// 可以通过窗口的getUIContext()方法获取对应的UIContent</span></li><li> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li> uiObserver.<span class="hljs-title function_">on</span>(<span class="hljs-string">'navDestinationSwitch'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>, callbackFunc);</li></ol></pre></div></div></li>     </ul>    </div>    <div class="tiledSection">     <h2 id="页面转场">页面转场<i class="anchor-icon anchor-icon-link" anchorid="页面转场" tips="复制节点链接"></i></h2>          <p>Navigation默认提供了页面切换的转场动画，通过导航控制器操作时，会触发不同的转场效果（API version 13之前，Dialog类型的页面默认无转场动画。从API version13开始，Dialog类型的页面支持系统转场动画。），Navigation也提供了关闭系统转场、自定义转场以及共享元素转场的能力。系统默认动画时长由物理曲线参数决定，不同设备上动画时长存在差异。</p>    </div>    <div class="tiledSection">     <h3 id="关闭转场" class="firsth2">关闭转场<i class="anchor-icon anchor-icon-link" anchorid="关闭转场" tips="复制节点链接"></i></h3>          <ul>      <li>       <p>全局关闭</p>       <p>Navigation通过NavPathStack中提供的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#disableanimation11" target="_blank">disableAnimation</a>方法可以在当前Navigation中关闭或打开所有转场动画。</p>       <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-attr">pageStack</span>: <span class="hljs-title class_">NavPathStack</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NavPathStack</span>();</li><li>
</li><li><span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">disableAnimation</span>(<span class="hljs-literal">true</span>);</li><li>}</li></ol></pre></div></div></li>      <li>       <p>单次关闭</p>       <p>NavPathStack中提供的Push、Pop、Replace等接口中可以设置animated参数，默认为true表示有转场动画，需要单次关闭转场动画可以置为false，不影响下次转场动画。</p>       <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-attr">pageStack</span>: <span class="hljs-title class_">NavPathStack</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NavPathStack</span>();</li><li>
</li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">pushPath</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">"PageOne"</span> }, <span class="hljs-literal">false</span>);</li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">pop</span>(<span class="hljs-literal">false</span>);</li></ol></pre></div></div></li>     </ul>    </div>    <div class="tiledSection">     <h3 id="自定义转场">自定义转场<i class="anchor-icon anchor-icon-link" anchorid="自定义转场" tips="复制节点链接"></i></h3>          <ul>      <li>       <p>Navigation自定义转场</p>       <p>Navigation自定义转场动画能力通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#customnavcontenttransition11" target="_blank">customNavContentTransition</a>事件提供，可以通过以下三步定义自定义转场动画：</p>       <ol>        <li>构建一个自定义转场动画工具类CustomNavigationUtils，通过一个Map管理各页面的自定义动画对象CustomTransition。页面在创建时注册其自定义转场动画对象，在销毁时取消注册。</li>        <li>实现一个转场协议对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#navigationanimatedtransition11" target="_blank">NavigationAnimatedTransition</a>。其中，timeout属性表示转场结束的超时时间，默认为1000ms，transition属性为自定义的转场动画方法。开发者需在此实现自己的转场动画逻辑，系统在转场开始时会调用此方法，onTransitionEnd为转场结束时的回调。</li>        <li>调用customNavContentTransition方法并返回实现的转场协议对象，若返回undefined，则使用系统默认转场。</li>       </ol>       <p>具体示例代码可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#示例3设置可交互转场动画" target="_blank">Navigation自定义转场示例</a>。</p></li>      <li>       <p>NavDestination自定义转场</p>       <p>NavDestination支持自定义转场动画，通过设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navdestination#customtransition15" target="_blank">customTransition</a>属性即可实现单个页面的自定义转场效果。要实现这一功能，需完成以下步骤：</p>       <ol>        <li>实现<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navdestination#navdestinationtransitiondelegate15" target="_blank">NavDestination的转场代理</a>，针对不同的堆栈操作类型返回自定义的转场协议对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navdestination#navdestinationtransition15" target="_blank">NavDestinationTransition</a>。其中，event是必填参数，需在此处编写自定义转场动画的逻辑；而onTransitionEnd、duration、curve与delay为可选参数，分别对应动画结束后的回调、动画持续时间、动画曲线类型与开始前的延时。若在转场代理中返回多个转场协议对象，这些动画效果将逐层叠加。</li>        <li>通过调用NavDestination组件的customTransition属性，并传入上述实现的转场代理，完成自定义转场的设置。</li>       </ol>       <p>具体示例代码可以参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navdestination#示例2设置navdestination自定义转场" target="_blank">NavDestination自定义转场示例</a>。</p></li>      <li>       <p>使用建议</p>       <ol>        <li>Navigation自定义转场<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#customnavcontenttransition11" target="_blank">customNavContentTransition</a>适用于控制Navigation内所有页面，统一转场动画效果。</li>        <li>NavDestination自定义转场<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navdestination#customtransition15" target="_blank">customTransition</a>适用于控制单个页面的转场效果。</li>        <li>在同时使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#customnavcontenttransition11" target="_blank">customNavContentTransition</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navdestination#customtransition15" target="_blank">customTransition</a>时，customNavContentTransition优先级更高。</li>       </ol></li>     </ul>    </div>    <div class="tiledSection">     <h3 id="共享元素转场">共享元素转场<i class="anchor-icon anchor-icon-link" anchorid="共享元素转场" tips="复制节点链接"></i></h3>          <p>NavDestination之间切换时可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-transition-animation-geometrytransition#geometrytransition" target="_blank">geometryTransition</a>实现共享元素转场。配置了共享元素转场的页面同时需要关闭系统默认的转场动画。</p>     <ol>      <li>       <p>为需要实现共享元素转场的组件添加geometryTransition属性，id参数必须在两个NavDestination之间保持一致。</p>       <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 起始页配置共享元素id</span></li><li><span class="hljs-title class_">NavDestination</span>() {</li><li>  <span class="hljs-title class_">Column</span>() {</li><li>    <span class="hljs-comment">// ...</span></li><li>    <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的资源文件</span></li><li>    <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.startIcon'</span>))</li><li>    .<span class="hljs-title function_">geometryTransition</span>(<span class="hljs-string">'sharedId'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>  }</li><li>}</li><li>.<span class="hljs-title function_">title</span>(<span class="hljs-string">'FromPage'</span>)</li><li>
</li><li><span class="hljs-comment">// 目的页配置共享元素id</span></li><li><span class="hljs-title class_">NavDestination</span>() {</li><li>  <span class="hljs-title class_">Column</span>() {</li><li>    <span class="hljs-comment">// ...</span></li><li>    <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的资源文件</span></li><li>    <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.startIcon'</span>))</li><li>    .<span class="hljs-title function_">geometryTransition</span>(<span class="hljs-string">'sharedId'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>  }</li><li>}</li><li>.<span class="hljs-title function_">title</span>(<span class="hljs-string">'ToPage'</span>)</li></ol></pre></div></div></li>      <li>       <p>将页面路由的操作，放到animateTo动画闭包中，配置对应的动画参数以及关闭系统默认的转场。</p>       <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">NavDestination</span>() {</li><li>  <span class="hljs-title class_">Column</span>() {</li><li>    <span class="hljs-title class_">Button</span>(<span class="hljs-string">'跳转目的页'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'80%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-number">40</span>)</li><li>    .<span class="hljs-title function_">margin</span>(<span class="hljs-number">20</span>)</li><li>    .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>()?.<span class="hljs-title function_">animateTo</span>({ <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span> }, <span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">pushPath</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'ToPage'</span> }, <span class="hljs-literal">false</span>)</li><li>        });</li><li>    })</li><li>  }</li><li>}</li><li>.<span class="hljs-title function_">title</span>(<span class="hljs-string">'FromPage'</span>)</li></ol></pre></div></div></li>     </ol>    </div>    <div class="tiledSection">     <h2 id="跨包路由">跨包路由<i class="anchor-icon anchor-icon-link" anchorid="跨包路由" tips="复制节点链接"></i></h2>          <p>系统提供<a href="/consumer/cn/doc/harmonyos-guides/arkts-navigation-navigation#系统路由表">系统路由表</a>和<a href="/consumer/cn/doc/harmonyos-guides/arkts-navigation-navigation#自定义路由表">自定义路由表</a>两种实现方式。</p>     <ul>      <li>       <p>系统路由表相对自定义路由表，使用更简单，只需要添加对应页面跳转配置项，即可实现页面跳转。</p></li>      <li>       <p>自定义路由表使用起来更复杂，但是可以根据应用业务进行定制处理。</p></li>     </ul>     <p>支持自定义路由表和系统路由表混用。</p>    </div>    <div class="tiledSection">     <h3 id="路由表能力对比" class="firsth2">路由表能力对比<i class="anchor-icon anchor-icon-link" anchorid="路由表能力对比" tips="复制节点链接"></i></h3>          <p>不同路由方式适用于不同需求，易用性或可扩展性需根据项目特点权衡选择。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.3.1.5.1.1" valign="top" width="25%">路由方式</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.3.1.5.1.2" valign="top" width="25%">跨包跳转能力</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.3.1.5.1.3" valign="top" width="25%">可扩展性</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.3.1.5.1.4" valign="top" width="25%">易用性</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="25%"><a href="/consumer/cn/doc/harmonyos-guides/arkts-navigation-navigation#系统路由表">系统路由表</a></td>         <td class="cellrowborder" valign="top" width="25%">跳转前无需import页面文件，页面按需动态加载。</td>         <td class="cellrowborder" valign="top" width="25%">可扩展性一般。</td>         <td class="cellrowborder" valign="top" width="25%">易用性更强，系统自动维护路由表。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%"><a href="/consumer/cn/doc/harmonyos-guides/arkts-navigation-navigation#自定义路由表">自定义路由表</a></td>         <td class="cellrowborder" valign="top" width="25%">跳转前需要import页面文件。</td>         <td class="cellrowborder" valign="top" width="25%">可扩展性更强。</td>         <td class="cellrowborder" valign="top" width="25%">易用性一般，需要开发者自行维护路由表。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="系统路由表">系统路由表<i class="anchor-icon anchor-icon-link" anchorid="系统路由表" tips="复制节点链接"></i></h3>          <p>系统路由表是动态路由的一种实现方式。从API version 12开始，Navigation支持使用系统路由表的方式进行动态路由。各业务模块（<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/in-app-hsp">HSP</a>/<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/har-package">HAR</a>）中需要独立配置route_map.json文件，在触发路由跳转时，应用只需要通过NavPathStack提供的路由方法，传入需要路由的页面配置名称，此时系统会自动完成路由模块的动态加载、页面组件构建，并完成路由跳转，从而实现了开发层面的模块解耦。系统路由表支持模拟器但不支持预览器。其主要步骤如下：</p>     <ol>      <li>       <p>在跳转目标模块的配置文件<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file">module.json5</a>添加路由表配置：</p>       <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" hw-language="json" data-highlighted="yes"><ol class="linenums"><li>  <span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"module"</span> <span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>      <span class="hljs-attr">"routerMap"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$profile:route_map"</span></li><li>    <span class="hljs-punctuation">}</span></li><li>  <span class="hljs-punctuation">}</span></li></ol></pre></div></div></li>      <li>       <p>添加完路由配置文件地址后，需要在工程resources/base/profile中创建route_map.json文件。添加如下配置信息：</p>       <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" hw-language="json" data-highlighted="yes"><ol class="linenums"><li>  <span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"routerMap"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>      <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"PageOne"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"pageSourceFile"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/main/ets/pages/PageOne.ets"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"buildFunction"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"PageOneBuilder"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>          <span class="hljs-attr">"description"</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">"this is PageOne"</span></li><li>        <span class="hljs-punctuation">}</span></li><li>      <span class="hljs-punctuation">}</span></li><li>    <span class="hljs-punctuation">]</span></li><li>  <span class="hljs-punctuation">}</span></li></ol></pre></div></div>       <p>配置说明如下：</p>       <div class="tablenoborder">        <div class="tbBox"><table class="layoutFixed idpTab">         <thead>          <tr>           <th align="left" class="cellrowborder" id="mcps1.3.28.3.2.4.1.3.1.1" valign="top" width="50%">配置项</th>           <th align="left" class="cellrowborder" id="mcps1.3.28.3.2.4.1.3.1.2" valign="top" width="50%">说明</th>          </tr>         </thead>                   <tbody><tr>           <td class="cellrowborder" valign="top" width="50%">name</td>           <td class="cellrowborder" valign="top" width="50%">可自定义的跳转页面名称。</td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="50%">pageSourceFile</td>           <td class="cellrowborder" valign="top" width="50%">跳转目标页在包内的路径，相对src目录的相对路径。</td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="50%">buildFunction</td>           <td class="cellrowborder" valign="top" width="50%">跳转目标页的入口函数名称，必须以@Builder修饰。</td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="50%">data</td>           <td class="cellrowborder" valign="top" width="50%">应用自定义字段。可以通过配置项读取接口getConfigInRouteMap获取。</td>          </tr>                 </tbody></table></div>       </div></li>      <li>       <p>在跳转目标页面中，需要配置入口Builder函数，函数名称需要和route_map.json配置文件中的buildFunction保持一致，否则在编译时会报错。</p>       <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li>  <span class="hljs-comment">// 跳转页面入口函数</span></li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">PageOneBuilder</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">PageOne</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-meta">@Component</span></li><li>  struct <span class="hljs-title class_">PageOne</span> {</li><li>    <span class="hljs-attr">pathStack</span>: <span class="hljs-title class_">NavPathStack</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NavPathStack</span>();</li><li>
</li><li>    <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>      <span class="hljs-title class_">NavDestination</span>() {</li><li>      }</li><li>      .<span class="hljs-title function_">title</span>(<span class="hljs-string">'PageOne'</span>)</li><li>      .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">(<span class="hljs-params">context: NavDestinationContext</span>) =&gt;</span> {</li><li>         <span class="hljs-variable language_">this</span>.<span class="hljs-property">pathStack</span> = context.<span class="hljs-property">pathStack</span>;</li><li>      })</li><li>    }</li><li>  }</li></ol></pre></div></div></li>      <li>       <p>通过pushPathByName等路由接口进行页面跳转。(注意：此时Navigation中可以不用配置navDestination属性。)</p>       <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li>  <span class="hljs-meta">@Entry</span></li><li>  <span class="hljs-meta">@Component</span></li><li>  struct <span class="hljs-title class_">Index</span> {</li><li>    pageStack : <span class="hljs-title class_">NavPathStack</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NavPathStack</span>();</li><li>
</li><li>    <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>      <span class="hljs-title class_">Navigation</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>){</li><li>      }.<span class="hljs-title function_">onAppear</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">pageStack</span>.<span class="hljs-title function_">pushPathByName</span>(<span class="hljs-string">"PageOne"</span>, <span class="hljs-literal">null</span>, <span class="hljs-literal">false</span>);</li><li>      })</li><li>      .<span class="hljs-title function_">hideNavBar</span>(<span class="hljs-literal">true</span>)</li><li>    }</li><li>  }</li></ol></pre></div></div></li>     </ol>    </div>    <div class="tiledSection">     <h3 id="自定义路由表">自定义路由表<i class="anchor-icon anchor-icon-link" anchorid="自定义路由表" tips="复制节点链接"></i></h3>          <p>自定义路由表通过给Navigation的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#navdestination10" target="_blank">navDestination</a>属性设置Builder函数实现，其特点是需要import页面。有两种import页面的方式，静态import和动态import，二者的区别在于：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.3.1.5.1.1" valign="top" width="25%">import方式</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.3.1.5.1.2" valign="top" width="25%">模块间耦合度</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.3.1.5.1.3" valign="top" width="25%">实现复杂度</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.3.1.5.1.4" valign="top" width="25%">性能</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="25%">动态import</td>         <td class="cellrowborder" valign="top" width="25%">模块间解耦。</td>         <td class="cellrowborder" valign="top" width="25%">复杂度高。</td>         <td class="cellrowborder" valign="top" width="25%">性能好，按需加载，跳转前再加载对应页面。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">静态import</td>         <td class="cellrowborder" valign="top" width="25%">模块间耦合。</td>         <td class="cellrowborder" valign="top" width="25%">复杂度低。</td>         <td class="cellrowborder" valign="top" width="25%">性能一般，初始化时一次性加载所有依赖的页面。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>动态import（推荐）</strong></p>     <p>动态import旨在解决多个模块（HAR/HSP）能够复用相同的业务逻辑，实现各业务模块间的解耦，同时支持路由功能的扩展与整合，可以按需import，具体实现方法请参考<a href="https://gitcode.com/harmonyos-cases/cases/blob/master/CommonAppDevelopment/common/routermodule/README_AUTO_GENERATE.md" target="_blank">Navigation自定义动态路由</a>示例。</p>     <p>动态import的优势：</p>     <ul>      <li>路由定义除了跳转的URL以外，可以配置丰富的扩展信息，如横竖屏默认模式、是否需要鉴权等等，做路由跳转时统一处理。</li>      <li>给每个路由页面设置一个名字，按照名称进行跳转而不是文件路径。</li>      <li>页面的加载可以使用动态import（按需加载），防止首个页面加载大量代码导致卡顿。</li>     </ul>     <p>实现方案：</p>     <ol>      <li>定义页面跳转配置项。       <ul>        <li>使用资源文件进行定义，通过资源管理<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-resource-manager" target="_blank">@ohos.resourceManager</a>在运行时对资源文件解析。</li>        <li>在ets文件中配置路由加载配置项，一般包括路由页面名称（即pushPath等接口中页面的别名），文件所在模块名称（hsp/har的模块名），加载页面在模块内的路径（相对src目录的路径）。</li>       </ul></li>      <li>加载目标跳转页面，通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-dynamic-import">动态import</a>将跳转目标页面所在的模块在运行时加载，在模块加载完成后，调用模块中的方法，通过import在模块的方法中加载模块中显示的目标页面，并返回页面加载完成后定义的Builder函数。</li>      <li>触发页面跳转，在Navigation的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-navigation#navdestination10" target="_blank">navDestination</a>属性执行步骤2中加载的Builder函数，即可跳转到目标页面。</li>     </ol>     <p><strong>静态import</strong></p>     <p>静态import实现方式简单，但通过静态import页面进行路由跳转会导致不同模块之间的依赖耦合，并增加首页加载时间长等问题。建议使用<a href="/consumer/cn/doc/harmonyos-guides/arkts-navigation-navigation#自定义路由表">自定义路由表</a>的动态import或<a href="/consumer/cn/doc/harmonyos-guides/arkts-navigation-navigation#系统路由表">系统路由表</a>。</p>     <p>实现方案：</p>     <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="TypeScript prettyprint linenums hljs language-TypeScript" hw-language="TypeScript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">DOMAIN</span> = <span class="hljs-number">0x0000</span>;</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">NavigationExample</span> {</li><li>  <span class="hljs-meta">@Provide</span>(<span class="hljs-string">'navPathStack'</span>) <span class="hljs-attr">navPathStack</span>: <span class="hljs-title class_">NavPathStack</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NavPathStack</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">arr</span>: <span class="hljs-built_in">number</span>[] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>];</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">pageMap</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-keyword">if</span> (name === <span class="hljs-string">"NavDestinationTitle1"</span>) {</li><li>      <span class="hljs-title function_">pageOneTmp</span>();</li><li>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (name === <span class="hljs-string">"NavDestinationTitle2"</span>) {</li><li>      <span class="hljs-title function_">pageTwoTmp</span>();</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Navigation</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">navPathStack</span>) {</li><li>        <span class="hljs-title class_">TextInput</span>({ <span class="hljs-attr">placeholder</span>: <span class="hljs-string">'search...'</span> })</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">"90%"</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">40</span>)</li><li>
</li><li>        <span class="hljs-title class_">List</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">12</span> }) {</li><li>          <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">arr</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>            <span class="hljs-title class_">ListItem</span>() {</li><li>              <span class="hljs-title class_">Text</span>(<span class="hljs-string">"Page"</span> + item)</li><li>                .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>                .<span class="hljs-title function_">height</span>(<span class="hljs-number">72</span>)</li><li>                .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">24</span>)</li><li>                .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>                .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-number">500</span>)</li><li>                .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>                .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-property">navPathStack</span>.<span class="hljs-title function_">pushPath</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'NavDestinationTitle'</span> + item });</li><li>                })</li><li>            }</li><li>          }, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">number</span></span>) =&gt;</span> item.<span class="hljs-title function_">toString</span>())</li><li>        }</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">"90%"</span>)</li><li>        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">12</span> })</li><li>      }</li><li>      <span class="hljs-comment">// $r('app.string.mainTitle')需要替换为开发者所需的字符串资源文件</span></li><li>      .<span class="hljs-title function_">title</span>($r(<span class="hljs-string">'app.string.mainTitle'</span>))</li><li>      .<span class="hljs-title function_">navDestination</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pageMap</span>)</li><li>      .<span class="hljs-title function_">mode</span>(<span class="hljs-title class_">NavigationMode</span>.<span class="hljs-property">Split</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li><span class="hljs-keyword">export</span> struct pageTwoTmp {</li><li>  <span class="hljs-meta">@Consume</span>(<span class="hljs-string">'navPathStack'</span>) <span class="hljs-attr">navPathStack</span>: <span class="hljs-title class_">NavPathStack</span>;</li><li>  context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>();</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">NavDestination</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"NavDestinationContent2"</span>)</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }.<span class="hljs-title function_">title</span>(<span class="hljs-string">"NavDestinationTitle2"</span>)</li><li>    .<span class="hljs-title function_">onBackPressed</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> popDestinationInfo = <span class="hljs-variable language_">this</span>.<span class="hljs-property">navPathStack</span>.<span class="hljs-title function_">pop</span>(); <span class="hljs-comment">// 弹出路由栈的栈顶元素</span></li><li>      <span class="hljs-comment">// $r('app.string.returnValue')需要替换为开发者所需的字符串资源文件</span></li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'pop'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>!.<span class="hljs-property">resourceManager</span>.<span class="hljs-title function_">getStringSync</span>($r(<span class="hljs-string">'app.string.returnValue'</span>).<span class="hljs-property">id</span>),</li><li>        <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(popDestinationInfo));</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>    })</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">// pageOne.ets</span></li><li><span class="hljs-meta">@Component</span></li><li><span class="hljs-keyword">export</span> struct pageOneTmp {</li><li>  <span class="hljs-meta">@Consume</span>(<span class="hljs-string">'navPathStack'</span>) <span class="hljs-attr">navPathStack</span>: <span class="hljs-title class_">NavPathStack</span>;</li><li>  context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>();</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">NavDestination</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"NavDestinationContent1"</span>)</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }.<span class="hljs-title function_">title</span>(<span class="hljs-string">"NavDestinationTitle1"</span>)</li><li>    .<span class="hljs-title function_">onBackPressed</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> popDestinationInfo = <span class="hljs-variable language_">this</span>.<span class="hljs-property">navPathStack</span>.<span class="hljs-title function_">pop</span>(); <span class="hljs-comment">// 弹出路由栈的栈顶元素</span></li><li>      <span class="hljs-comment">// $r('app.string.returnValue')需要替换为开发者所需的字符串资源文件</span></li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'pop'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>!.<span class="hljs-property">resourceManager</span>.<span class="hljs-title function_">getStringSync</span>($r(<span class="hljs-string">'app.string.returnValue'</span>).<span class="hljs-property">id</span>),</li><li>        <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(popDestinationInfo));</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>    })</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="导航示例">导航示例<i class="anchor-icon anchor-icon-link" anchorid="导航示例" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="创建导航首页" class="firsth2">创建导航首页<i class="anchor-icon anchor-icon-link" anchorid="创建导航首页" tips="复制节点链接"></i></h3>          <p>实现步骤为：</p>     <p>1.使用Navigation创建导航主页，并创建导航控制器NavPathStack以此来实现不同页面之间的跳转。</p>     <p>2.在Navigation中增加List组件，来定义导航主页中不同的一级界面。</p>     <p>3.在List内的组件添加onClick方法，并在其中使用导航控制器NavPathStack的pushPathByName方法，使组件可以在点击之后从当前页面跳转到输入参数name在路由表内对应的页面。</p>     <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">NavigationDemo</span> {</li><li>  <span class="hljs-meta">@Provide</span>(<span class="hljs-string">'navPathStack'</span>) <span class="hljs-attr">navPathStack</span>: <span class="hljs-title class_">NavPathStack</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NavPathStack</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">listArray</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = [<span class="hljs-string">'WLAN'</span>, <span class="hljs-string">'Bluetooth'</span>, <span class="hljs-string">'Personal Hotspot'</span>, <span class="hljs-string">'Connect &amp; Share'</span>];</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Navigation</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">navPathStack</span>) {</li><li>        <span class="hljs-title class_">TextInput</span>({ <span class="hljs-attr">placeholder</span>: <span class="hljs-string">'输入关键字搜索'</span> })</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">40</span>)</li><li>          .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">bottom</span>: <span class="hljs-number">10</span> })</li><li>
</li><li>        <span class="hljs-comment">// 通过List定义导航的一级界面</span></li><li>        <span class="hljs-title class_">List</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">12</span>, <span class="hljs-attr">initialIndex</span>: <span class="hljs-number">0</span> }) {</li><li>          <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">listArray</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>            <span class="hljs-title class_">ListItem</span>() {</li><li>              <span class="hljs-title class_">Row</span>() {</li><li>                <span class="hljs-title class_">Row</span>() {</li><li>                  <span class="hljs-title class_">Text</span>(<span class="hljs-string">`<span class="hljs-subst">${item.slice(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>)}</span>`</span>)</li><li>                    .<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>                    .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">14</span>)</li><li>                    .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>                }</li><li>                .<span class="hljs-title function_">width</span>(<span class="hljs-number">30</span>)</li><li>                .<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>)</li><li>                .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#a8a8a8'</span>)</li><li>                .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">right</span>: <span class="hljs-number">20</span> })</li><li>                .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">20</span>)</li><li>                .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>
</li><li>                <span class="hljs-title class_">Column</span>() {</li><li>                  <span class="hljs-title class_">Text</span>(item)</li><li>                    .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>                    .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">bottom</span>: <span class="hljs-number">5</span> })</li><li>                }</li><li>                .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Start</span>)</li><li>
</li><li>                <span class="hljs-title class_">Blank</span>()</li><li>
</li><li>                <span class="hljs-title class_">Row</span>()</li><li>                  .<span class="hljs-title function_">width</span>(<span class="hljs-number">12</span>)</li><li>                  .<span class="hljs-title function_">height</span>(<span class="hljs-number">12</span>)</li><li>                  .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">right</span>: <span class="hljs-number">15</span> })</li><li>                  .<span class="hljs-title function_">border</span>({</li><li>                    <span class="hljs-attr">width</span>: { <span class="hljs-attr">top</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">2</span> },</li><li>                    <span class="hljs-attr">color</span>: <span class="hljs-number">0xcccccc</span></li><li>                  })</li><li>                  .<span class="hljs-title function_">rotate</span>({ <span class="hljs-attr">angle</span>: <span class="hljs-number">45</span> })</li><li>              }</li><li>              .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">15</span>)</li><li>              .<span class="hljs-title function_">shadow</span>({ <span class="hljs-attr">radius</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">'#ededed'</span> })</li><li>              .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>              .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">VerticalAlign</span>.<span class="hljs-property">Center</span>)</li><li>              .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">left</span>: <span class="hljs-number">15</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">15</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">15</span> })</li><li>              .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>            }</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">navPathStack</span>.<span class="hljs-title function_">pushPathByName</span>(<span class="hljs-string">`<span class="hljs-subst">${item}</span>`</span>, <span class="hljs-string">'详情页面参数'</span>); <span class="hljs-comment">// 将name指定的NaviDestination页面信息入栈,传递的参数为param</span></li><li>            })</li><li>          }, (<span class="hljs-attr">item</span>: <span class="hljs-built_in">string</span>): <span class="hljs-function"><span class="hljs-params">string</span> =&gt;</span> item)</li><li>        }</li><li>        .<span class="hljs-title function_">listDirection</span>(<span class="hljs-title class_">Axis</span>.<span class="hljs-property">Vertical</span>)</li><li>        .<span class="hljs-title function_">edgeEffect</span>(<span class="hljs-title class_">EdgeEffect</span>.<span class="hljs-property">Spring</span>)</li><li>        .<span class="hljs-title function_">sticky</span>(<span class="hljs-title class_">StickyStyle</span>.<span class="hljs-property">Header</span>)</li><li>        .<span class="hljs-title function_">chainAnimation</span>(<span class="hljs-literal">false</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">mode</span>(<span class="hljs-title class_">NavigationMode</span>.<span class="hljs-property">Auto</span>)</li><li>      .<span class="hljs-title function_">title</span>(<span class="hljs-string">'设置'</span>) <span class="hljs-comment">// 设置标题文字</span></li><li>    }</li><li>    .<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-string">'100%'</span>, <span class="hljs-attr">height</span>: <span class="hljs-string">'100%'</span> })</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xf4f4f5</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="创建导航子页">创建导航子页<i class="anchor-icon anchor-icon-link" anchorid="创建导航子页" tips="复制节点链接"></i></h3>          <p>导航子页1实现步骤为：</p>     <p>1.使用NavDestination，来创建导航子页PageOne。</p>     <p>2.创建导航控制器NavPathStack并在onReady时进行初始化，获取当前所在的导航控制器，以此来实现不同页面之间的跳转。</p>     <p>3.在子页面内的组件添加onClick，并在其中使用导航控制器NavPathStack的pop方法，使组件可以在点击之后弹出路由栈栈顶元素实现页面的返回。</p>     <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">//PageOne.ets</span></li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">PageOneBuilder</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, param: <span class="hljs-built_in">string</span></span>) {</li><li>  <span class="hljs-title class_">PageOne</span>({ <span class="hljs-attr">name</span>: name, <span class="hljs-attr">value</span>: param });</li><li>}</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li><span class="hljs-keyword">export</span> struct <span class="hljs-title class_">PageOne</span> {</li><li>  <span class="hljs-attr">navPathStack</span>: <span class="hljs-title class_">NavPathStack</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NavPathStack</span>();</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">NavDestination</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>设置页面`</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>          .<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0x333333</span>)</li><li>          .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>          .<span class="hljs-title function_">textShadow</span>({</li><li>            <span class="hljs-attr">radius</span>: <span class="hljs-number">2</span>,</li><li>            <span class="hljs-attr">offsetX</span>: <span class="hljs-number">4</span>,</li><li>            <span class="hljs-attr">offsetY</span>: <span class="hljs-number">4</span>,</li><li>            <span class="hljs-attr">color</span>: <span class="hljs-number">0x909399</span></li><li>          })</li><li>          .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">30</span> })</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(<span class="hljs-variable language_">this</span>.value)}</span>`</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">18</span>)</li><li>          .<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0x666666</span>)</li><li>          .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>          .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">45</span> })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'返回'</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'50%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">40</span>)</li><li>          .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">50</span> })</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">//弹出路由栈栈顶元素，返回上个页面</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">navPathStack</span>.<span class="hljs-title function_">pop</span>();</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-string">'100%'</span>, <span class="hljs-attr">height</span>: <span class="hljs-string">'100%'</span> })</li><li>    }.<span class="hljs-title function_">title</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>`</span>)</li><li>    .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">(<span class="hljs-params">ctx: NavDestinationContext</span>) =&gt;</span> {</li><li>      <span class="hljs-comment">// NavDestinationContext获取当前所在的导航控制器</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">navPathStack</span> = ctx.<span class="hljs-property">pathStack</span>;</li><li>    })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p>导航子页2实现步骤为：</p>     <p>1.使用NavDestination，来创建导航子页PageTwo。</p>     <p>2.创建导航控制器NavPathStack并在onReady时进行初始化，获取当前所在的导航控制器，以此来实现不同页面之间的跳转。</p>     <p>3.在子页面内的组件添加onClick，并在其中使用导航控制器NavPathStack的pushPathByName方法，使组件可以在点击之后从当前页面跳转到输入参数name在路由表内对应的页面。</p>     <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">//PageTwo.ets</span></li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">PageTwoBuilder</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {</li><li>  <span class="hljs-title class_">PageTwo</span>({ <span class="hljs-attr">name</span>: name });</li><li>}</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li><span class="hljs-keyword">export</span> struct <span class="hljs-title class_">PageTwo</span> {</li><li>  <span class="hljs-attr">navPathStack</span>: <span class="hljs-title class_">NavPathStack</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NavPathStack</span>();</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">listArray</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = [<span class="hljs-string">'Projection'</span>, <span class="hljs-string">'Print'</span>, <span class="hljs-string">'VPN'</span>, <span class="hljs-string">'Private DNS'</span>, <span class="hljs-string">'NFC'</span>];</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">NavDestination</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">List</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">12</span>, <span class="hljs-attr">initialIndex</span>: <span class="hljs-number">0</span> }) {</li><li>          <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">listArray</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>            <span class="hljs-title class_">ListItem</span>() {</li><li>              <span class="hljs-title class_">Row</span>() {</li><li>                <span class="hljs-title class_">Row</span>() {</li><li>                  <span class="hljs-title class_">Text</span>(<span class="hljs-string">`<span class="hljs-subst">${item.slice(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>)}</span>`</span>)</li><li>                    .<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>                    .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">14</span>)</li><li>                    .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>                }</li><li>                .<span class="hljs-title function_">width</span>(<span class="hljs-number">30</span>)</li><li>                .<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>)</li><li>                .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#a8a8a8'</span>)</li><li>                .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">right</span>: <span class="hljs-number">20</span> })</li><li>                .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">20</span>)</li><li>                .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>
</li><li>                <span class="hljs-title class_">Column</span>() {</li><li>                  <span class="hljs-title class_">Text</span>(item)</li><li>                    .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>                    .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">bottom</span>: <span class="hljs-number">5</span> })</li><li>                }</li><li>                .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Start</span>)</li><li>
</li><li>                <span class="hljs-title class_">Blank</span>()</li><li>
</li><li>                <span class="hljs-title class_">Row</span>()</li><li>                  .<span class="hljs-title function_">width</span>(<span class="hljs-number">12</span>)</li><li>                  .<span class="hljs-title function_">height</span>(<span class="hljs-number">12</span>)</li><li>                  .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">right</span>: <span class="hljs-number">15</span> })</li><li>                  .<span class="hljs-title function_">border</span>({</li><li>                    <span class="hljs-attr">width</span>: { <span class="hljs-attr">top</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">2</span> },</li><li>                    <span class="hljs-attr">color</span>: <span class="hljs-number">0xcccccc</span></li><li>                  })</li><li>                  .<span class="hljs-title function_">rotate</span>({ <span class="hljs-attr">angle</span>: <span class="hljs-number">45</span> })</li><li>              }</li><li>              .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">15</span>)</li><li>              .<span class="hljs-title function_">shadow</span>({ <span class="hljs-attr">radius</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">'#ededed'</span> })</li><li>              .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>              .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">VerticalAlign</span>.<span class="hljs-property">Center</span>)</li><li>              .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">left</span>: <span class="hljs-number">15</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">15</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">15</span> })</li><li>              .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>            }</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">navPathStack</span>.<span class="hljs-title function_">pushPathByName</span>(<span class="hljs-string">`<span class="hljs-subst">${item}</span>`</span>, <span class="hljs-string">'页面设置参数'</span>);</li><li>            })</li><li>          }, (<span class="hljs-attr">item</span>: <span class="hljs-built_in">string</span>): <span class="hljs-function"><span class="hljs-params">string</span> =&gt;</span> item)</li><li>        }</li><li>        .<span class="hljs-title function_">listDirection</span>(<span class="hljs-title class_">Axis</span>.<span class="hljs-property">Vertical</span>)</li><li>        .<span class="hljs-title function_">edgeEffect</span>(<span class="hljs-title class_">EdgeEffect</span>.<span class="hljs-property">Spring</span>)</li><li>        .<span class="hljs-title function_">sticky</span>(<span class="hljs-title class_">StickyStyle</span>.<span class="hljs-property">Header</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-string">'100%'</span>, <span class="hljs-attr">height</span>: <span class="hljs-string">'100%'</span> })</li><li>    }.<span class="hljs-title function_">title</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>`</span>)</li><li>    .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">(<span class="hljs-params">ctx: NavDestinationContext</span>) =&gt;</span> {</li><li>      <span class="hljs-comment">// NavDestinationContext获取当前所在的导航控制器</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">navPathStack</span> = ctx.<span class="hljs-property">pathStack</span>;</li><li>    })</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="创建路由跳转">创建路由跳转<i class="anchor-icon anchor-icon-link" anchorid="创建路由跳转" tips="复制节点链接"></i></h3>          <p>实现步骤为：</p>     <p>1.工程配置文件<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file">module.json5</a>中配置 {"routerMap": "$profile:router_map"}。</p>     <p>2.router_map.json中配置全局路由表，导航控制器NavPathStack可根据路由表中的name将对应页面信息入栈。</p>     <div _ngcontent-cxy-c106="" class="highlight-div"><div _ngcontent-cxy-c106="" class="highlight-div-header"><div _ngcontent-cxy-c106="" class="highlight-div-header-left"><div _ngcontent-cxy-c106="" class="handle-button expand-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cxy-c106="" class="highlight-div-header-right"><div _ngcontent-cxy-c106="" class="handle-button ai-button"></div><div _ngcontent-cxy-c106="" class="handle-button line-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cxy-c106="" class="handle-button theme-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cxy-c106="" class="handle-button copy-button"><div _ngcontent-cxy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cxy-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li>{</li><li>  <span class="hljs-string">"routerMap"</span> : [</li><li>    {</li><li>      <span class="hljs-string">"name"</span> : <span class="hljs-string">"WLAN"</span>,</li><li>      <span class="hljs-string">"pageSourceFile"</span>  : <span class="hljs-string">"src/main/ets/pages/PageOne.ets"</span>,</li><li>      <span class="hljs-string">"buildFunction"</span> : <span class="hljs-string">"PageOneBuilder"</span></li><li>    },</li><li>    {</li><li>      <span class="hljs-string">"name"</span> : <span class="hljs-string">"Bluetooth"</span>,</li><li>      <span class="hljs-string">"pageSourceFile"</span>  : <span class="hljs-string">"src/main/ets/pages/PageOne.ets"</span>,</li><li>      <span class="hljs-string">"buildFunction"</span> : <span class="hljs-string">"PageOneBuilder"</span></li><li>    },</li><li>    {</li><li>      <span class="hljs-string">"name"</span> : <span class="hljs-string">"Personal Hotspot"</span>,</li><li>      <span class="hljs-string">"pageSourceFile"</span>  : <span class="hljs-string">"src/main/ets/pages/PageOne.ets"</span>,</li><li>      <span class="hljs-string">"buildFunction"</span> : <span class="hljs-string">"PageOneBuilder"</span></li><li>    },</li><li>    {</li><li>      <span class="hljs-string">"name"</span> : <span class="hljs-string">"Connect &amp; Share"</span>,</li><li>      <span class="hljs-string">"pageSourceFile"</span>  : <span class="hljs-string">"src/main/ets/pages/PageTwo.ets"</span>,</li><li>      <span class="hljs-string">"buildFunction"</span> : <span class="hljs-string">"PageTwoBuilder"</span></li><li>    },</li><li>    {</li><li>      <span class="hljs-string">"name"</span> : <span class="hljs-string">"Projection"</span>,</li><li>      <span class="hljs-string">"pageSourceFile"</span>  : <span class="hljs-string">"src/main/ets/pages/PageOne.ets"</span>,</li><li>      <span class="hljs-string">"buildFunction"</span> : <span class="hljs-string">"PageOneBuilder"</span></li><li>    },</li><li>    {</li><li>      <span class="hljs-string">"name"</span> : <span class="hljs-string">"Print"</span>,</li><li>      <span class="hljs-string">"pageSourceFile"</span>  : <span class="hljs-string">"src/main/ets/pages/PageOne.ets"</span>,</li><li>      <span class="hljs-string">"buildFunction"</span> : <span class="hljs-string">"PageOneBuilder"</span></li><li>    },</li><li>    {</li><li>      <span class="hljs-string">"name"</span> : <span class="hljs-string">"VPN"</span>,</li><li>      <span class="hljs-string">"pageSourceFile"</span>  : <span class="hljs-string">"src/main/ets/pages/PageOne.ets"</span>,</li><li>      <span class="hljs-string">"buildFunction"</span> : <span class="hljs-string">"PageOneBuilder"</span></li><li>    },</li><li>    {</li><li>      <span class="hljs-string">"name"</span> : <span class="hljs-string">"Private DNS"</span>,</li><li>      <span class="hljs-string">"pageSourceFile"</span>  : <span class="hljs-string">"src/main/ets/pages/PageOne.ets"</span>,</li><li>      <span class="hljs-string">"buildFunction"</span> : <span class="hljs-string">"PageOneBuilder"</span></li><li>    },</li><li>    {</li><li>      <span class="hljs-string">"name"</span> : <span class="hljs-string">"NFC"</span>,</li><li>      <span class="hljs-string">"pageSourceFile"</span>  : <span class="hljs-string">"src/main/ets/pages/PageOne.ets"</span>,</li><li>      <span class="hljs-string">"buildFunction"</span> : <span class="hljs-string">"PageOneBuilder"</span></li><li>    }</li><li>  ]</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="470" originwidth="343" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114808.63213546357354773248763403716861:50001231000000:2800:9BD6FB177DD7B57CF62D2E38C621C0560C4677DFA1D5D896A9C34728FC601267.gif" width="343" height="470"></span></p>    </div>    <div class="tiledSection">     <h2 id="示例代码">示例代码<i class="anchor-icon anchor-icon-link" anchorid="示例代码" tips="复制节点链接"></i></h2>          <ul>      <li><a href="https://gitcode.com/harmonyos_samples/system-router-map" target="_blank">Navigation系统路由</a></li>     </ul>    </div>   </div>   <div></div></div>