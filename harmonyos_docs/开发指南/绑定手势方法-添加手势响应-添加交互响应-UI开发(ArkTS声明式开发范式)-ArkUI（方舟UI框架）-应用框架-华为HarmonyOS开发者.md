<h1 _ngcontent-lrs-c119="" class="doc-title ng-star-inserted" title="绑定手势方法"> 绑定手势方法 </h1>

<div _ngcontent-lrs-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>通过给各个组件绑定不同的手势事件，并设计事件的响应方式，当手势识别成功时，ArkUI框架将通过事件回调通知组件手势识别的结果。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>gesture、priorityGesture和parallelGesture当前不支持使用三目运算符（条件? 表达式1 : 表达式2）切换手势绑定。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="gesture常规手势绑定方法">gesture（常规手势绑定方法）<i class="anchor-icon anchor-icon-link" anchorid="gesture常规手势绑定方法" tips="复制节点链接"></i></h2>          <div _ngcontent-lrs-c106="" class="highlight-div"><div _ngcontent-lrs-c106="" class="highlight-div-header"><div _ngcontent-lrs-c106="" class="highlight-div-header-left"><div _ngcontent-lrs-c106="" class="handle-button expand-button"><div _ngcontent-lrs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-lrs-c106="" class="highlight-div-header-right"><div _ngcontent-lrs-c106="" class="handle-button ai-button"></div><div _ngcontent-lrs-c106="" class="handle-button line-button"><div _ngcontent-lrs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-lrs-c106="" class="handle-button theme-button"><div _ngcontent-lrs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-lrs-c106="" class="handle-button copy-button"><div _ngcontent-lrs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-lrs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li>.<span class="hljs-title function_">gesture</span>(<span class="hljs-attr">gesture</span>: <span class="hljs-title class_">GestureType</span>, mask?: <span class="hljs-title class_">GestureMask</span>)</li></ol></pre></div></div>     <p>gesture为通用的一种手势绑定方法，可以将手势绑定到对应的组件上。</p>     <p>例如，可以将点击手势TapGesture通过gesture方法将手势绑定到Text组件上。</p>     <div _ngcontent-lrs-c106="" class="highlight-div"><div _ngcontent-lrs-c106="" class="highlight-div-header"><div _ngcontent-lrs-c106="" class="highlight-div-header-left"><div _ngcontent-lrs-c106="" class="handle-button expand-button"><div _ngcontent-lrs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-lrs-c106="" class="highlight-div-header-right"><div _ngcontent-lrs-c106="" class="handle-button ai-button"></div><div _ngcontent-lrs-c106="" class="handle-button line-button"><div _ngcontent-lrs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-lrs-c106="" class="handle-button theme-button"><div _ngcontent-lrs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-lrs-c106="" class="handle-button copy-button"><div _ngcontent-lrs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-lrs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Gesture'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">28</span>)</li><li>        <span class="hljs-comment">// 采用gesture手势绑定方法绑定TapGesture</span></li><li>        .<span class="hljs-title function_">gesture</span>(</li><li>          <span class="hljs-title class_">TapGesture</span>()</li><li>            .<span class="hljs-title function_">onAction</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'TapGesture is onAction'</span>);</li><li>            }))</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-number">250</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="prioritygesture带优先级的手势绑定方法">priorityGesture（带优先级的手势绑定方法）<i class="anchor-icon anchor-icon-link" anchorid="prioritygesture带优先级的手势绑定方法" tips="复制节点链接"></i></h2>          <div _ngcontent-lrs-c106="" class="highlight-div"><div _ngcontent-lrs-c106="" class="highlight-div-header"><div _ngcontent-lrs-c106="" class="highlight-div-header-left"><div _ngcontent-lrs-c106="" class="handle-button expand-button"><div _ngcontent-lrs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-lrs-c106="" class="highlight-div-header-right"><div _ngcontent-lrs-c106="" class="handle-button ai-button"></div><div _ngcontent-lrs-c106="" class="handle-button line-button"><div _ngcontent-lrs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-lrs-c106="" class="handle-button theme-button"><div _ngcontent-lrs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-lrs-c106="" class="handle-button copy-button"><div _ngcontent-lrs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-lrs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li>.<span class="hljs-title function_">priorityGesture</span>(<span class="hljs-attr">gesture</span>: <span class="hljs-title class_">GestureType</span>, mask?: <span class="hljs-title class_">GestureMask</span>)</li></ol></pre></div></div>     <p>priorityGesture是带优先级的手势绑定方法，可以在组件上绑定优先识别的手势。</p>     <p>在默认情况下，当父组件和子组件使用gesture绑定同类型的手势时，子组件优先识别通过gesture绑定的手势。当父组件使用priorityGesture绑定与子组件同类型的手势时，父组件优先识别通过priorityGesture绑定的手势。</p>     <p>对于绑定了长按手势的组件，可以设置触发长按的最短时间<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-gesturehandler#longpressgesturehandleroptions" target="_blank">duration</a>。触发长按时，系统将优先响应触发长按时间最短的组件，忽略priorityGesture设置。</p>     <p>例如，当父组件Column和子组件Text同时绑定TapGesture手势时，父组件以带优先级手势priorityGesture的形式进行绑定时，优先响应父组件绑定的TapGesture。</p>     <div _ngcontent-lrs-c106="" class="highlight-div"><div _ngcontent-lrs-c106="" class="highlight-div-header"><div _ngcontent-lrs-c106="" class="highlight-div-header-left"><div _ngcontent-lrs-c106="" class="handle-button expand-button"><div _ngcontent-lrs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-lrs-c106="" class="highlight-div-header-right"><div _ngcontent-lrs-c106="" class="handle-button ai-button"></div><div _ngcontent-lrs-c106="" class="handle-button line-button"><div _ngcontent-lrs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-lrs-c106="" class="handle-button theme-button"><div _ngcontent-lrs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-lrs-c106="" class="handle-button copy-button"><div _ngcontent-lrs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-lrs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Gesture'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">28</span>)</li><li>        .<span class="hljs-title function_">gesture</span>(</li><li>          <span class="hljs-title class_">TapGesture</span>()</li><li>            .<span class="hljs-title function_">onAction</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Text TapGesture is onAction'</span>);</li><li>            }))</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-number">250</span>)</li><li>    <span class="hljs-comment">// 设置为priorityGesture时，点击文本区域会忽略Text组件的TapGesture手势事件，优先响应父组件Column的TapGesture手势事件</span></li><li>    .<span class="hljs-title function_">priorityGesture</span>(</li><li>      <span class="hljs-title class_">TapGesture</span>()</li><li>        .<span class="hljs-title function_">onAction</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Column TapGesture is onAction'</span>);</li><li>        }), <span class="hljs-title class_">GestureMask</span>.<span class="hljs-property">IgnoreInternal</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="parallelgesture并行手势绑定方法">parallelGesture（并行手势绑定方法）<i class="anchor-icon anchor-icon-link" anchorid="parallelgesture并行手势绑定方法" tips="复制节点链接"></i></h2>          <div _ngcontent-lrs-c106="" class="highlight-div"><div _ngcontent-lrs-c106="" class="highlight-div-header"><div _ngcontent-lrs-c106="" class="highlight-div-header-left"><div _ngcontent-lrs-c106="" class="handle-button expand-button"><div _ngcontent-lrs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-lrs-c106="" class="highlight-div-header-right"><div _ngcontent-lrs-c106="" class="handle-button ai-button"></div><div _ngcontent-lrs-c106="" class="handle-button line-button"><div _ngcontent-lrs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-lrs-c106="" class="handle-button theme-button"><div _ngcontent-lrs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-lrs-c106="" class="handle-button copy-button"><div _ngcontent-lrs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-lrs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li>.<span class="hljs-title function_">parallelGesture</span>(<span class="hljs-attr">gesture</span>: <span class="hljs-title class_">GestureType</span>, mask?: <span class="hljs-title class_">GestureMask</span>)</li></ol></pre></div></div>     <p>parallelGesture是并行的手势绑定方法，可以在父子组件上绑定可以同时响应的相同手势。</p>     <p>在默认情况下，手势事件为非冒泡事件，当父子组件绑定相同的手势时，父子组件绑定的手势事件会发生竞争，最多只有一个组件的手势事件能够获得响应。而当父组件绑定了并行手势parallelGesture时，父子组件相同的手势事件都可以触发，实现类似冒泡效果。</p>     <div _ngcontent-lrs-c106="" class="highlight-div"><div _ngcontent-lrs-c106="" class="highlight-div-header"><div _ngcontent-lrs-c106="" class="highlight-div-header-left"><div _ngcontent-lrs-c106="" class="handle-button expand-button"><div _ngcontent-lrs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-lrs-c106="" class="highlight-div-header-right"><div _ngcontent-lrs-c106="" class="handle-button ai-button"></div><div _ngcontent-lrs-c106="" class="handle-button line-button"><div _ngcontent-lrs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-lrs-c106="" class="handle-button theme-button"><div _ngcontent-lrs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-lrs-c106="" class="handle-button copy-button"><div _ngcontent-lrs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-lrs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Gesture'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">28</span>)</li><li>        .<span class="hljs-title function_">gesture</span>(</li><li>          <span class="hljs-title class_">TapGesture</span>()</li><li>            .<span class="hljs-title function_">onAction</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Text TapGesture is onAction'</span>);</li><li>            }))</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-number">250</span>)</li><li>    <span class="hljs-comment">// 设置为parallelGesture时，点击文本区域会同时响应父组件Column和子组件Text的TapGesture手势事件</span></li><li>    .<span class="hljs-title function_">parallelGesture</span>(</li><li>      <span class="hljs-title class_">TapGesture</span>()</li><li>        .<span class="hljs-title function_">onAction</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Column TapGesture is onAction'</span>);</li><li>        }), <span class="hljs-title class_">GestureMask</span>.<span class="hljs-property">Normal</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>