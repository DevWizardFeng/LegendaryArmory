<h1 _ngcontent-twl-c119="" class="doc-title ng-star-inserted" title="绘制几何图形 (Shape)"> 绘制几何图形 (Shape) </h1>

<div _ngcontent-twl-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>绘制组件用于在页面绘制图形，Shape组件是绘制组件的父组件，父组件中会描述所有绘制组件均支持的通用属性。具体用法请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-shape" target="_blank">Shape</a>。</p>    <div class="tiledSection">     <h2 id="创建绘制组件">创建绘制组件<i class="anchor-icon anchor-icon-link" anchorid="创建绘制组件" tips="复制节点链接"></i></h2>          <p>绘制组件可以由以下两种形式创建：</p>     <ul>      <li>       <p>绘制组件使用Shape作为父组件，实现类似SVG的效果。接口调用为以下形式：</p>       <div _ngcontent-twl-c106="" class="highlight-div"><div _ngcontent-twl-c106="" class="highlight-div-header"><div _ngcontent-twl-c106="" class="highlight-div-header-left"><div _ngcontent-twl-c106="" class="handle-button expand-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twl-c106="" class="highlight-div-header-right"><div _ngcontent-twl-c106="" class="handle-button ai-button"></div><div _ngcontent-twl-c106="" class="handle-button line-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twl-c106="" class="handle-button theme-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twl-c106="" class="handle-button copy-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twl-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Shape</span>(value?: <span class="hljs-title class_">PixelMap</span>)</li></ol></pre></div></div>       <p>该接口用于创建带有父组件的绘制组件，其中value用于设置绘制目标，可将图形绘制在指定的PixelMap对象中，若未设置，则在当前绘制目标中进行绘制。</p>       <div _ngcontent-twl-c106="" class="highlight-div"><div _ngcontent-twl-c106="" class="highlight-div-header"><div _ngcontent-twl-c106="" class="highlight-div-header-left"><div _ngcontent-twl-c106="" class="handle-button expand-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twl-c106="" class="highlight-div-header-right"><div _ngcontent-twl-c106="" class="handle-button ai-button"></div><div _ngcontent-twl-c106="" class="handle-button line-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twl-c106="" class="handle-button theme-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twl-c106="" class="handle-button copy-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twl-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Shape</span>() {</li><li>  <span class="hljs-title class_">Rect</span>().<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>}</li></ol></pre></div></div></li>      <li>       <p>绘制组件单独使用，用于在页面上绘制指定的图形。有7种绘制类型，分别为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-circle" target="_blank">Circle</a>（圆形）、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-ellipse" target="_blank">Ellipse</a>（椭圆形）、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-line" target="_blank">Line</a>（直线）、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-polyline" target="_blank">Polyline</a>（折线）、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-polygon" target="_blank">Polygon</a>（多边形）、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-path" target="_blank">Path</a>（路径）、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-rect" target="_blank">Rect</a>（矩形）。以Circle的接口调用为例：</p>       <div _ngcontent-twl-c106="" class="highlight-div"><div _ngcontent-twl-c106="" class="highlight-div-header"><div _ngcontent-twl-c106="" class="highlight-div-header-left"><div _ngcontent-twl-c106="" class="handle-button expand-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twl-c106="" class="highlight-div-header-right"><div _ngcontent-twl-c106="" class="handle-button ai-button"></div><div _ngcontent-twl-c106="" class="handle-button line-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twl-c106="" class="handle-button theme-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twl-c106="" class="handle-button copy-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twl-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Circle</span>(value?: { width?: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>, height?: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> })</li></ol></pre></div></div>       <p>该接口用于在页面绘制圆形，其中width用于设置圆形的宽度，height用于设置圆形的高度，圆形直径由宽高最小值确定。</p>       <div _ngcontent-twl-c106="" class="highlight-div"><div _ngcontent-twl-c106="" class="highlight-div-header"><div _ngcontent-twl-c106="" class="highlight-div-header-left"><div _ngcontent-twl-c106="" class="handle-button expand-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twl-c106="" class="highlight-div-header-right"><div _ngcontent-twl-c106="" class="handle-button ai-button"></div><div _ngcontent-twl-c106="" class="handle-button line-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twl-c106="" class="handle-button theme-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twl-c106="" class="handle-button copy-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twl-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Circle</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">150</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">150</span> })</li></ol></pre></div></div>       <p><span><img originheight="115" originwidth="220" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114813.56111189512613710344235869917753:50001231000000:2800:4E4128CEB5B2FCC2C650B850FC4BC7CD5FBDAF9AAAFA0313E20BEC955702E244.jpg" class="notEnlarge" width="220" height="115"></span></p></li>     </ul>    </div>    <div class="tiledSection">     <h2 id="形状视口viewport">形状视口viewPort<i class="anchor-icon anchor-icon-link" anchorid="形状视口viewport" tips="复制节点链接"></i></h2>          <div _ngcontent-twl-c106="" class="highlight-div"><div _ngcontent-twl-c106="" class="highlight-div-header"><div _ngcontent-twl-c106="" class="highlight-div-header-left"><div _ngcontent-twl-c106="" class="handle-button expand-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twl-c106="" class="highlight-div-header-right"><div _ngcontent-twl-c106="" class="handle-button ai-button"></div><div _ngcontent-twl-c106="" class="handle-button line-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twl-c106="" class="handle-button theme-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twl-c106="" class="handle-button copy-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twl-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title function_">viewPort</span>(<span class="hljs-attr">value</span>: { x?: <span class="hljs-built_in">number</span> | <span class="hljs-built_in">string</span>, y?: <span class="hljs-built_in">number</span> | <span class="hljs-built_in">string</span>, width?: <span class="hljs-built_in">number</span> | <span class="hljs-built_in">string</span>, height?: <span class="hljs-built_in">number</span> | <span class="hljs-built_in">string</span> })</li></ol></pre></div></div>     <p>形状视口viewPort指定用户空间中的一个矩形，该矩形映射到为关联的SVG元素建立的视区边界。viewPort属性的值包含x、y、width和height四个可选参数，x和y表示视区的左上角坐标，width和height表示其尺寸。</p>     <p>以下三个示例说明如何使用viewPort：</p>     <ul>      <li>       <p>通过形状视口对图形进行放大与缩小。</p>       <div _ngcontent-twl-c106="" class="highlight-div"><div _ngcontent-twl-c106="" class="highlight-div-header"><div _ngcontent-twl-c106="" class="highlight-div-header-left"><div _ngcontent-twl-c106="" class="handle-button expand-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twl-c106="" class="highlight-div-header-right"><div _ngcontent-twl-c106="" class="handle-button ai-button"></div><div _ngcontent-twl-c106="" class="handle-button line-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twl-c106="" class="handle-button theme-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twl-c106="" class="handle-button copy-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twl-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">tmp</span> {</li><li>  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-attr">width</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">75</span></li><li>  <span class="hljs-attr">height</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">75</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">tmp1</span> {</li><li>  <span class="hljs-attr">x</span>:<span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-attr">y</span>:<span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-attr">width</span>:<span class="hljs-built_in">number</span> = <span class="hljs-number">300</span></li><li>  <span class="hljs-attr">height</span>:<span class="hljs-built_in">number</span> = <span class="hljs-number">300</span></li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">viep</span>: tmp = <span class="hljs-keyword">new</span> <span class="hljs-title function_">tmp</span>();</li><li>  <span class="hljs-attr">viep1</span>: tmp1 = <span class="hljs-keyword">new</span> <span class="hljs-title function_">tmp1</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-comment">// 画一个宽高都为75的圆</span></li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'原始尺寸Circle组件'</span>)</li><li>      <span class="hljs-title class_">Circle</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">75</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">75</span> }).<span class="hljs-title function_">fill</span>(<span class="hljs-string">'#E87361'</span>)</li><li>
</li><li>      <span class="hljs-title class_">Row</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-comment">// 创建一个宽高都为150的shape组件，背景色为黄色，一个宽高都为75的viewPort。</span></li><li>          <span class="hljs-comment">// 用一个蓝色的矩形来填充viewPort，在viewPort中绘制一个直径为75的圆。</span></li><li>          <span class="hljs-comment">// 绘制结束，viewPort会根据组件宽高放大两倍。</span></li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'shape内放大的Circle组件'</span>)</li><li>          <span class="hljs-title class_">Shape</span>() {</li><li>            <span class="hljs-title class_">Rect</span>().<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-string">'#0097D4'</span>)</li><li>            <span class="hljs-title class_">Circle</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">75</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">75</span> }).<span class="hljs-title function_">fill</span>(<span class="hljs-string">'#E87361'</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">viewPort</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">viep</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">150</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">150</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#F5DC62'</span>)</li><li>        }</li><li>
</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-comment">// 创建一个宽高都为150的shape组件，背景色为黄色，一个宽高都为300的viewPort。</span></li><li>          <span class="hljs-comment">// 用一个绿色的矩形来填充viewPort，在viewPort中绘制一个直径为75的圆。</span></li><li>          <span class="hljs-comment">// 绘制结束，viewPort会根据组件宽高缩小两倍。</span></li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Shape内缩小的Circle组件'</span>)</li><li>          <span class="hljs-title class_">Shape</span>() {</li><li>            <span class="hljs-title class_">Rect</span>().<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-string">'#BDDB69'</span>)</li><li>            <span class="hljs-title class_">Circle</span>({<span class="hljs-attr">width</span>: <span class="hljs-number">75</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">75</span>}).<span class="hljs-title function_">fill</span>(<span class="hljs-string">'#E87361'</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">viewPort</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">viep1</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">150</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">150</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#F5DC62'</span>)</li><li>        }</li><li>      }</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>       <p><span><img originheight="301" originwidth="503" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114813.66040863207895041973445208015462:50001231000000:2800:8815467754B04580A2BB130E8F4B145AEE7698E9554B44E3F858F79976097A8F.jpg" width="503" height="301"></span></p></li>      <li>       <p>创建一个宽高都为300的shape组件，背景色为黄色，创建一个宽高都为300的viewPort。用一个蓝色的矩形来填充viewPort，在viewPort中绘制一个半径为75的圆。</p>       <div _ngcontent-twl-c106="" class="highlight-div"><div _ngcontent-twl-c106="" class="highlight-div-header"><div _ngcontent-twl-c106="" class="highlight-div-header-left"><div _ngcontent-twl-c106="" class="handle-button expand-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twl-c106="" class="highlight-div-header-right"><div _ngcontent-twl-c106="" class="handle-button ai-button"></div><div _ngcontent-twl-c106="" class="handle-button line-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twl-c106="" class="handle-button theme-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twl-c106="" class="handle-button copy-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twl-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">tmp</span> {</li><li>  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-attr">width</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">300</span></li><li>  <span class="hljs-attr">height</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">300</span></li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">viep</span>: tmp = <span class="hljs-keyword">new</span> <span class="hljs-title function_">tmp</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Shape</span>() {</li><li>        <span class="hljs-title class_">Rect</span>().<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-string">"#0097D4"</span>)</li><li>        <span class="hljs-title class_">Circle</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">150</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">150</span> }).<span class="hljs-title function_">fill</span>(<span class="hljs-string">"#E87361"</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">viewPort</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">viep</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">"#F5DC62"</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>       <p><span><img originheight="222" originwidth="220" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114814.29087304761012156487658362178641:50001231000000:2800:70B98033D7318F1BF95D48BD6E0BEC330C17ED681059DFCDE0A72A8F49D4F8D4.jpg" class="notEnlarge" width="220" height="222"></span></p></li>      <li>       <p>创建一个宽高都为300的shape组件，背景色为黄色，创建一个宽高都为300的viewPort。用一个蓝色的矩形来填充viewPort，在viewPort中绘制一个半径为75的圆，将viewPort向右方和下方各平移150。</p>       <div _ngcontent-twl-c106="" class="highlight-div"><div _ngcontent-twl-c106="" class="highlight-div-header"><div _ngcontent-twl-c106="" class="highlight-div-header-left"><div _ngcontent-twl-c106="" class="handle-button expand-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twl-c106="" class="highlight-div-header-right"><div _ngcontent-twl-c106="" class="handle-button ai-button"></div><div _ngcontent-twl-c106="" class="handle-button line-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twl-c106="" class="handle-button theme-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twl-c106="" class="handle-button copy-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twl-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">tmp</span> {</li><li>  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">150</span></li><li>  <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">150</span></li><li>  <span class="hljs-attr">width</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">300</span></li><li>  <span class="hljs-attr">height</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">300</span></li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">viep</span>: tmp = <span class="hljs-keyword">new</span> <span class="hljs-title function_">tmp</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Shape</span>() {</li><li>        <span class="hljs-title class_">Rect</span>().<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-string">"#0097D4"</span>)</li><li>        <span class="hljs-title class_">Circle</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">150</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">150</span> }).<span class="hljs-title function_">fill</span>(<span class="hljs-string">"#E87361"</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">viewPort</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">viep</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">"#F5DC62"</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>       <p><span><img originheight="220" originwidth="220" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114814.05834441628527316526685040939547:50001231000000:2800:CEE1B5CBC8666F29E936C0A68D1AC09856BABC17264785AE8B45FDF34B67534E.jpg" class="notEnlarge" width="220" height="220"></span></p></li>     </ul>    </div>    <div class="tiledSection">     <h2 id="自定义样式">自定义样式<i class="anchor-icon anchor-icon-link" anchorid="自定义样式" tips="复制节点链接"></i></h2>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>示例通过commands来绘制路径，commands参数说明请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-path#svg路径描述规范" target="_blank">SVG路径描述规范</a>。</p>      </div></div></div>     <p>绘制组件支持通过各种属性更改组件样式。</p>     <ul>      <li>       <p>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-path#fill" target="_blank">fill</a>可以设置组件填充区域颜色。</p>       <div _ngcontent-twl-c106="" class="highlight-div"><div _ngcontent-twl-c106="" class="highlight-div-header"><div _ngcontent-twl-c106="" class="highlight-div-header-left"><div _ngcontent-twl-c106="" class="handle-button expand-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twl-c106="" class="highlight-div-header-right"><div _ngcontent-twl-c106="" class="handle-button ai-button"></div><div _ngcontent-twl-c106="" class="handle-button line-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twl-c106="" class="handle-button theme-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twl-c106="" class="handle-button copy-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twl-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Path</span>()</li><li>  .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>  .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>  .<span class="hljs-title function_">commands</span>(<span class="hljs-string">'M150 0 L300 300 L0 300 Z'</span>)</li><li>  .<span class="hljs-title function_">fill</span>(<span class="hljs-string">"#E87361"</span>)</li><li>  .<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-number">0</span>)</li></ol></pre></div></div>       <p><span><img originheight="221" originwidth="220" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114814.93488623200647243398277005986637:50001231000000:2800:0CFA857E4417D6BD3B4E8EBD2B6FC1824831667F3CBCDB4C1A2C47DEF80BFC82.jpg" class="notEnlarge" width="220" height="221"></span></p></li>      <li>       <p>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-path#stroke" target="_blank">stroke</a>可以设置组件边框颜色。</p>       <div _ngcontent-twl-c106="" class="highlight-div"><div _ngcontent-twl-c106="" class="highlight-div-header"><div _ngcontent-twl-c106="" class="highlight-div-header-left"><div _ngcontent-twl-c106="" class="handle-button expand-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twl-c106="" class="highlight-div-header-right"><div _ngcontent-twl-c106="" class="handle-button ai-button"></div><div _ngcontent-twl-c106="" class="handle-button line-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twl-c106="" class="handle-button theme-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twl-c106="" class="handle-button copy-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twl-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Path</span>()</li><li>  .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>  .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>  .<span class="hljs-title function_">fillOpacity</span>(<span class="hljs-number">0</span>)</li><li>  .<span class="hljs-title function_">commands</span>(<span class="hljs-string">'M150 0 L300 300 L0 300 Z'</span>)</li><li>  .<span class="hljs-title function_">stroke</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li></ol></pre></div></div>       <p><span><img originheight="190" originwidth="220" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114814.64703576376685507337862267244671:50001231000000:2800:9301984C0006ED148E8BA5A5423FD41E7833B9885980D52E60EF5E68E5401E41.jpg" class="notEnlarge" width="220" height="190"></span></p></li>      <li>       <p>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-path#strokeopacity" target="_blank">strokeOpacity</a>可以设置边框透明度。</p>       <div _ngcontent-twl-c106="" class="highlight-div"><div _ngcontent-twl-c106="" class="highlight-div-header"><div _ngcontent-twl-c106="" class="highlight-div-header-left"><div _ngcontent-twl-c106="" class="handle-button expand-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twl-c106="" class="highlight-div-header-right"><div _ngcontent-twl-c106="" class="handle-button ai-button"></div><div _ngcontent-twl-c106="" class="handle-button line-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twl-c106="" class="handle-button theme-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twl-c106="" class="handle-button copy-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twl-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Path</span>()</li><li>  .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>  .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>  .<span class="hljs-title function_">fillOpacity</span>(<span class="hljs-number">0</span>)</li><li>  .<span class="hljs-title function_">commands</span>(<span class="hljs-string">'M150 0 L300 300 L0 300 Z'</span>)</li><li>  .<span class="hljs-title function_">stroke</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>  .<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-number">10</span>)</li><li>  .<span class="hljs-title function_">strokeOpacity</span>(<span class="hljs-number">0.2</span>)</li></ol></pre></div></div>       <p><span><img originheight="190" originwidth="220" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114814.85744934063028036757433194448584:50001231000000:2800:AB1F77DEA71CA31567A9A0A2FF9771A955B166D597536702A9052CE93BF88530.jpg" class="notEnlarge" width="220" height="190"></span></p></li>      <li>       <p>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-polyline#strokelinejoin" target="_blank">strokeLineJoin</a>可以设置线条拐角绘制样式。拐角绘制样式分为Bevel(使用斜角连接路径段)、Miter(使用尖角连接路径段)、Round(使用圆角连接路径段)。</p>       <div _ngcontent-twl-c106="" class="highlight-div"><div _ngcontent-twl-c106="" class="highlight-div-header"><div _ngcontent-twl-c106="" class="highlight-div-header-left"><div _ngcontent-twl-c106="" class="handle-button expand-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twl-c106="" class="highlight-div-header-right"><div _ngcontent-twl-c106="" class="handle-button ai-button"></div><div _ngcontent-twl-c106="" class="handle-button line-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twl-c106="" class="handle-button theme-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twl-c106="" class="handle-button copy-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twl-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Polyline</span>()</li><li>  .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>  .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>  .<span class="hljs-title function_">fillOpacity</span>(<span class="hljs-number">0</span>)</li><li>  .<span class="hljs-title function_">stroke</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>  .<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-number">8</span>)</li><li>  .<span class="hljs-title function_">points</span>([[<span class="hljs-number">20</span>, <span class="hljs-number">0</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">100</span>], [<span class="hljs-number">100</span>, <span class="hljs-number">90</span>]])</li><li>   <span class="hljs-comment">// 设置折线拐角处为圆弧</span></li><li>  .<span class="hljs-title function_">strokeLineJoin</span>(<span class="hljs-title class_">LineJoinStyle</span>.<span class="hljs-property">Round</span>)</li></ol></pre></div></div>       <p><span><img originheight="126" originwidth="220" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114814.41628079101739733611786186460149:50001231000000:2800:1F458534EA19E7687664B03F8BE9120F541C4BB04FAB6ABA40C34B75E4B96416.jpg" class="notEnlarge" width="220" height="126"></span></p></li>      <li>       <p>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-polyline#strokemiterlimit" target="_blank">strokeMiterLimit</a>设置斜接长度与边框宽度比值的极限值。</p>       <p>斜接长度表示外边框外边交点到内边交点的距离，边框宽度即<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-polyline#strokewidth" target="_blank">strokeWidth</a>属性的值。strokeMiterLimit取值需大于等于1，且在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-polyline#strokelinejoin" target="_blank">strokeLineJoin</a>属性取值LineJoinStyle.Miter时生效。</p>       <div _ngcontent-twl-c106="" class="highlight-div"><div _ngcontent-twl-c106="" class="highlight-div-header"><div _ngcontent-twl-c106="" class="highlight-div-header-left"><div _ngcontent-twl-c106="" class="handle-button expand-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twl-c106="" class="highlight-div-header-right"><div _ngcontent-twl-c106="" class="handle-button ai-button"></div><div _ngcontent-twl-c106="" class="handle-button line-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twl-c106="" class="handle-button theme-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twl-c106="" class="handle-button copy-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twl-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Polyline</span>()</li><li>  .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>  .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>  .<span class="hljs-title function_">fillOpacity</span>(<span class="hljs-number">0</span>)</li><li>  .<span class="hljs-title function_">stroke</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>  .<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-number">10</span>)</li><li>  .<span class="hljs-title function_">points</span>([[<span class="hljs-number">20</span>, <span class="hljs-number">0</span>], [<span class="hljs-number">20</span>, <span class="hljs-number">100</span>], [<span class="hljs-number">100</span>, <span class="hljs-number">100</span>]])</li><li>  <span class="hljs-comment">// 设置折线拐角处为尖角</span></li><li>  .<span class="hljs-title function_">strokeLineJoin</span>(<span class="hljs-title class_">LineJoinStyle</span>.<span class="hljs-property">Miter</span>)</li><li>  <span class="hljs-comment">// 设置斜接长度与线宽的比值</span></li><li>  .<span class="hljs-title function_">strokeMiterLimit</span>(<span class="hljs-number">1</span>/<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(<span class="hljs-number">45</span>))</li><li><span class="hljs-title class_">Polyline</span>()</li><li>  .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>  .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>  .<span class="hljs-title function_">fillOpacity</span>(<span class="hljs-number">0</span>)</li><li>  .<span class="hljs-title function_">stroke</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>  .<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-number">10</span>)</li><li>  .<span class="hljs-title function_">points</span>([[<span class="hljs-number">20</span>, <span class="hljs-number">0</span>], [<span class="hljs-number">20</span>, <span class="hljs-number">100</span>], [<span class="hljs-number">100</span>, <span class="hljs-number">100</span>]])</li><li>  .<span class="hljs-title function_">strokeLineJoin</span>(<span class="hljs-title class_">LineJoinStyle</span>.<span class="hljs-property">Miter</span>)</li><li>  .<span class="hljs-title function_">strokeMiterLimit</span>(<span class="hljs-number">1.42</span>)</li></ol></pre></div></div>       <p><span><img originheight="197" originwidth="323" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114814.66845728968542891042234967707980:50001231000000:2800:2BF022CDC74CE11BCE3E99CD3261631EC082654B836A2079DDAB18BEEABDF91A.jpg" width="323" height="197"></span></p></li>      <li>       <p>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-circle#antialias" target="_blank">antiAlias</a>设置是否开启抗锯齿，默认值为true（开启抗锯齿）。</p>       <div _ngcontent-twl-c106="" class="highlight-div"><div _ngcontent-twl-c106="" class="highlight-div-header"><div _ngcontent-twl-c106="" class="highlight-div-header-left"><div _ngcontent-twl-c106="" class="handle-button expand-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twl-c106="" class="highlight-div-header-right"><div _ngcontent-twl-c106="" class="handle-button ai-button"></div><div _ngcontent-twl-c106="" class="handle-button line-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twl-c106="" class="handle-button theme-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twl-c106="" class="handle-button copy-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twl-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">//开启抗锯齿</span></li><li><span class="hljs-title class_">Circle</span>()</li><li>  .<span class="hljs-title function_">width</span>(<span class="hljs-number">150</span>)</li><li>  .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>  .<span class="hljs-title function_">fillOpacity</span>(<span class="hljs-number">0</span>)</li><li>  .<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-number">5</span>)</li><li>  .<span class="hljs-title function_">stroke</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>)</li></ol></pre></div></div>       <p><span><img originheight="247" originwidth="268" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114814.70301716394825540536320631020497:50001231000000:2800:3548997B6531C14F3ADBC783615B5CA355485EE8A89B6AA1047D9CF33FD2822F.png" class="notEnlarge" width="268" height="247"></span></p>       <div _ngcontent-twl-c106="" class="highlight-div"><div _ngcontent-twl-c106="" class="highlight-div-header"><div _ngcontent-twl-c106="" class="highlight-div-header-left"><div _ngcontent-twl-c106="" class="handle-button expand-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twl-c106="" class="highlight-div-header-right"><div _ngcontent-twl-c106="" class="handle-button ai-button"></div><div _ngcontent-twl-c106="" class="handle-button line-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twl-c106="" class="handle-button theme-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twl-c106="" class="handle-button copy-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twl-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">//关闭抗锯齿</span></li><li><span class="hljs-title class_">Circle</span>()</li><li>  .<span class="hljs-title function_">width</span>(<span class="hljs-number">150</span>)</li><li>  .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>  .<span class="hljs-title function_">fillOpacity</span>(<span class="hljs-number">0</span>)</li><li>  .<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-number">5</span>)</li><li>  .<span class="hljs-title function_">stroke</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>)</li><li>  .<span class="hljs-title function_">antiAlias</span>(<span class="hljs-literal">false</span>)</li></ol></pre></div></div>       <p><span><img originheight="256" originwidth="265" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114814.58623375879316061989057373844810:50001231000000:2800:2F4B597D6D8980B5A1D50D4F9A02A8E28A5B1B0E758016AC8ED66F78A886B972.jpg" class="notEnlarge" width="265" height="256"></span></p></li>      <li>       <p>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-shape#mesh8" target="_blank">mesh</a>设置网格效果，实现图像局部扭曲。</p>       <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">         <p>示例通过commands来绘制路径，commands参数说明请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-path#svg路径描述规范" target="_blank">SVG路径描述规范</a>。</p>        </div></div></div>       <div _ngcontent-twl-c106="" class="highlight-div"><div _ngcontent-twl-c106="" class="highlight-div-header"><div _ngcontent-twl-c106="" class="highlight-div-header-left"><div _ngcontent-twl-c106="" class="handle-button expand-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twl-c106="" class="highlight-div-header-right"><div _ngcontent-twl-c106="" class="handle-button ai-button"></div><div _ngcontent-twl-c106="" class="handle-button line-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twl-c106="" class="handle-button theme-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twl-c106="" class="handle-button copy-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twl-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">150</span>, <span class="hljs-number">150</span>);</li><li><span class="hljs-keyword">let</span> ctx = offCanvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>)</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawingRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-attr">verts_</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">50</span>, <span class="hljs-number">0</span>, <span class="hljs-number">410</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">180</span>, <span class="hljs-number">50</span>, <span class="hljs-number">180</span>, <span class="hljs-number">410</span>, <span class="hljs-number">180</span>, <span class="hljs-number">0</span>, <span class="hljs-number">360</span>, <span class="hljs-number">50</span>, <span class="hljs-number">360</span>, <span class="hljs-number">410</span>, <span class="hljs-number">360</span>]</li><li>
</li><li>  <span class="hljs-title function_">setVerts</span>(<span class="hljs-attr">verts</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">verts_</span> = verts</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">async</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params">context: DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">let</span> pixelMap = ctx.<span class="hljs-title function_">getPixelMap</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">150</span>, <span class="hljs-number">150</span>)</li><li>    <span class="hljs-keyword">const</span> brush = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Brush</span>(); <span class="hljs-comment">// 只支持brush，使用pen没有绘制效果。</span></li><li>    canvas.<span class="hljs-title function_">attachBrush</span>(brush);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">verts</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">410</span>, <span class="hljs-number">0</span>, <span class="hljs-number">50</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">180</span>, <span class="hljs-number">50</span>, <span class="hljs-number">180</span>, <span class="hljs-number">410</span>, <span class="hljs-number">180</span>, <span class="hljs-number">0</span>, <span class="hljs-number">360</span>, <span class="hljs-number">410</span>, <span class="hljs-number">360</span>, <span class="hljs-number">50</span>, <span class="hljs-number">360</span>];</li><li>    ; <span class="hljs-comment">// 18</span></li><li>    canvas.<span class="hljs-title function_">drawPixelMapMesh</span>(pixelMap, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, verts, <span class="hljs-number">0</span>, <span class="hljs-literal">null</span>, <span class="hljs-number">0</span>);</li><li>    canvas.<span class="hljs-title function_">detachBrush</span>();</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DrawingRenderNode</span>();</li><li>renderNode.<span class="hljs-property">frame</span> = {</li><li>  <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">width</span>: <span class="hljs-number">150</span>,</li><li>  <span class="hljs-attr">height</span>: <span class="hljs-number">150</span></li><li>};</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">showShape</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">pixelMap</span>: image.<span class="hljs-property">PixelMap</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">shapeWidth</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">150</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">strokeWidth</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">meshArray</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">50</span>, <span class="hljs-number">0</span>, <span class="hljs-number">410</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">180</span>, <span class="hljs-number">50</span>, <span class="hljs-number">180</span>, <span class="hljs-number">410</span>, <span class="hljs-number">180</span>, <span class="hljs-number">0</span>, <span class="hljs-number">360</span>, <span class="hljs-number">50</span>, <span class="hljs-number">360</span>, <span class="hljs-number">410</span>, <span class="hljs-number">360</span>]</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// "common/image/tree.png"需要替换为开发者所需的图像资源文件</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">img</span>: <span class="hljs-title class_">ImageBitmap</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageBitmap</span>(<span class="hljs-string">"common/image/tree.png"</span>)</li><li>    ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelMap</span> = ctx.<span class="hljs-title function_">getPixelMap</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">150</span>, <span class="hljs-number">150</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Image</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelMap</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">150</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">150</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-comment">// "common/image/foreground.png"需要替换为开发者所需的图像资源文件</span></li><li>          <span class="hljs-keyword">let</span> <span class="hljs-attr">img</span>: <span class="hljs-title class_">ImageBitmap</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageBitmap</span>(<span class="hljs-string">"common/image/foreground.png"</span>)</li><li>          ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelMap</span> = ctx.<span class="hljs-title function_">getPixelMap</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">150</span>, <span class="hljs-number">150</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">rebuild</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">strokeWidth</span> += <span class="hljs-number">1</span></li><li>        })</li><li>
</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">150</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">150</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Grey</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">meshArray</span> = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">50</span>, <span class="hljs-number">0</span>, <span class="hljs-number">410</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">180</span>, <span class="hljs-number">50</span>, <span class="hljs-number">180</span>, <span class="hljs-number">410</span>, <span class="hljs-number">180</span>, <span class="hljs-number">0</span>, <span class="hljs-number">360</span>, <span class="hljs-number">50</span>, <span class="hljs-number">360</span>, <span class="hljs-number">410</span>, <span class="hljs-number">360</span>, <span class="hljs-number">0</span>]</li><li>        })</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"change mesh"</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">5</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">meshArray</span> = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">410</span>, <span class="hljs-number">0</span>, <span class="hljs-number">50</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">180</span>, <span class="hljs-number">50</span>, <span class="hljs-number">180</span>, <span class="hljs-number">410</span>, <span class="hljs-number">180</span>, <span class="hljs-number">0</span>, <span class="hljs-number">360</span>, <span class="hljs-number">410</span>, <span class="hljs-number">360</span>, <span class="hljs-number">50</span>, <span class="hljs-number">360</span>];</li><li>        })</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"Show Shape"</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">5</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">showShape</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">showShape</span></li><li>        })</li><li>
</li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">showShape</span>) {</li><li>        <span class="hljs-title class_">Shape</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelMap</span>) {</li><li>          <span class="hljs-title class_">Path</span>().<span class="hljs-title function_">width</span>(<span class="hljs-number">150</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">60</span>).<span class="hljs-title function_">commands</span>(<span class="hljs-string">'M0 0 L400 0 L400 150 Z'</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">fillOpacity</span>(<span class="hljs-number">0.2</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Grey</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">shapeWidth</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">150</span>)</li><li>        .<span class="hljs-title function_">mesh</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">meshArray</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>)</li><li>        .<span class="hljs-title function_">fill</span>(<span class="hljs-number">0x317AF7</span>)</li><li>        .<span class="hljs-title function_">stroke</span>(<span class="hljs-number">0xEE8443</span>)</li><li>        .<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">strokeWidth</span>)</li><li>        .<span class="hljs-title function_">strokeLineJoin</span>(<span class="hljs-title class_">LineJoinStyle</span>.<span class="hljs-property">Miter</span>)</li><li>        .<span class="hljs-title function_">strokeMiterLimit</span>(<span class="hljs-number">5</span>)</li><li>
</li><li>        <span class="hljs-title class_">Shape</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelMap</span>) {</li><li>          <span class="hljs-title class_">Path</span>().<span class="hljs-title function_">width</span>(<span class="hljs-number">150</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">60</span>).<span class="hljs-title function_">commands</span>(<span class="hljs-string">'M0 0 L400 0 L400 150 Z'</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">fillOpacity</span>(<span class="hljs-number">0.2</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Grey</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">shapeWidth</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">150</span>)</li><li>        .<span class="hljs-title function_">fill</span>(<span class="hljs-number">0x317AF7</span>)</li><li>        .<span class="hljs-title function_">stroke</span>(<span class="hljs-number">0xEE8443</span>)</li><li>        .<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">strokeWidth</span>)</li><li>        .<span class="hljs-title function_">strokeLineJoin</span>(<span class="hljs-title class_">LineJoinStyle</span>.<span class="hljs-property">Miter</span>)</li><li>        .<span class="hljs-title function_">strokeMiterLimit</span>(<span class="hljs-number">5</span>)</li><li>        .<span class="hljs-title function_">onDragStart</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        })</li><li>
</li><li>        <span class="hljs-comment">// mesh只对shape传入pixelMap时生效，此处不生效</span></li><li>        <span class="hljs-title class_">Shape</span>() {</li><li>          <span class="hljs-title class_">Path</span>().<span class="hljs-title function_">width</span>(<span class="hljs-number">150</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">60</span>).<span class="hljs-title function_">commands</span>(<span class="hljs-string">'M0 0 L400 0 L400 150 Z'</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">fillOpacity</span>(<span class="hljs-number">0.2</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Grey</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">shapeWidth</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">150</span>)</li><li>        .<span class="hljs-title function_">mesh</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">meshArray</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>)</li><li>        .<span class="hljs-title function_">fill</span>(<span class="hljs-number">0x317AF7</span>)</li><li>        .<span class="hljs-title function_">stroke</span>(<span class="hljs-number">0xEE8443</span>)</li><li>        .<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">strokeWidth</span>)</li><li>        .<span class="hljs-title function_">strokeLineJoin</span>(<span class="hljs-title class_">LineJoinStyle</span>.<span class="hljs-property">Miter</span>)</li><li>        .<span class="hljs-title function_">strokeMiterLimit</span>(<span class="hljs-number">5</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelMap</span> = <span class="hljs-literal">undefined</span>;</li><li>        })</li><li>      }</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>       <p><span><img originheight="683" originwidth="359" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114814.51812965633426462150019002229909:50001231000000:2800:E71128B283C2FD049EEF9784BD6DF7EC204539244F58DF8B6CA37B79F0EFA879.png" width="359" height="683"></span></p></li>     </ul>    </div>    <div class="tiledSection">     <h2 id="场景示例">场景示例<i class="anchor-icon anchor-icon-link" anchorid="场景示例" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="绘制封闭路径" class="firsth2">绘制封闭路径<i class="anchor-icon anchor-icon-link" anchorid="绘制封闭路径" tips="复制节点链接"></i></h3>          <p>在Shape的(-80, -5)点绘制一个封闭路径，填充颜色0x317AF7，线条宽度3，边框颜色红色，拐角样式锐角（默认值）。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>示例通过commands来绘制路径，commands参数说明请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-path#svg路径描述规范" target="_blank">SVG路径描述规范</a>。</p>      </div></div></div>     <div _ngcontent-twl-c106="" class="highlight-div"><div _ngcontent-twl-c106="" class="highlight-div-header"><div _ngcontent-twl-c106="" class="highlight-div-header-left"><div _ngcontent-twl-c106="" class="handle-button expand-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twl-c106="" class="highlight-div-header-right"><div _ngcontent-twl-c106="" class="handle-button ai-button"></div><div _ngcontent-twl-c106="" class="handle-button line-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twl-c106="" class="handle-button theme-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twl-c106="" class="handle-button copy-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twl-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ShapeExample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>      <span class="hljs-title class_">Shape</span>() {</li><li>        <span class="hljs-title class_">Path</span>().<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">60</span>).<span class="hljs-title function_">commands</span>(<span class="hljs-string">'M0 0 L400 0 L400 150 Z'</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">viewPort</span>({ <span class="hljs-attr">x</span>: -<span class="hljs-number">80</span>, <span class="hljs-attr">y</span>: -<span class="hljs-number">5</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">500</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">300</span> })</li><li>      .<span class="hljs-title function_">fill</span>(<span class="hljs-number">0x317AF7</span>)</li><li>      .<span class="hljs-title function_">stroke</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-number">3</span>)</li><li>      .<span class="hljs-title function_">strokeLineJoin</span>(<span class="hljs-title class_">LineJoinStyle</span>.<span class="hljs-property">Miter</span>)</li><li>      .<span class="hljs-title function_">strokeMiterLimit</span>(<span class="hljs-number">5</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">15</span> })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="127" originwidth="220" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114814.80379339220297181300515703317410:50001231000000:2800:41CB3454B23F6DBAF6D87A4A5F7027C9CCFF91D418D8A0CCB2DEB9F7EB364BDC.jpg" class="notEnlarge" width="220" height="127"></span></p>    </div>    <div class="tiledSection">     <h3 id="绘制圆和圆环">绘制圆和圆环<i class="anchor-icon anchor-icon-link" anchorid="绘制圆和圆环" tips="复制节点链接"></i></h3>          <p>绘制一个直径为150的圆，和一个直径为150、线条为红色虚线的圆环（宽高设置不一致时以短边为直径）。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>本示例通过strokeDashArray属性设置边框间隙来实现红色虚线的圆环，strokeDashArray属性参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-shape#strokedasharray" target="_blank">strokeDashArray</a>。</p>      </div></div></div>     <div _ngcontent-twl-c106="" class="highlight-div"><div _ngcontent-twl-c106="" class="highlight-div-header"><div _ngcontent-twl-c106="" class="highlight-div-header-left"><div _ngcontent-twl-c106="" class="handle-button expand-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twl-c106="" class="highlight-div-header-right"><div _ngcontent-twl-c106="" class="handle-button ai-button"></div><div _ngcontent-twl-c106="" class="handle-button line-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twl-c106="" class="handle-button theme-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twl-c106="" class="handle-button copy-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twl-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CircleExample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>      <span class="hljs-comment">//绘制一个直径为150的圆</span></li><li>      <span class="hljs-title class_">Circle</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">150</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">150</span> })</li><li>      <span class="hljs-comment">//绘制一个直径为150、线条为红色虚线的圆环</span></li><li>      <span class="hljs-title class_">Circle</span>()</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">150</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>        .<span class="hljs-title function_">fillOpacity</span>(<span class="hljs-number">0</span>)</li><li>        .<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-number">3</span>)</li><li>        .<span class="hljs-title function_">stroke</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>        .<span class="hljs-title function_">strokeDashArray</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>])</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="227" originwidth="220" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114814.89474994829967644053174170933530:50001231000000:2800:FD3872E4F8931D3946EBA9D7E57FB8BF01D0AA6C39334E2679E140F76E73062E.jpg" class="notEnlarge" width="220" height="227"></span></p>    </div>    <div class="tiledSection">     <h3 id="ui视觉属性作用效果">UI视觉属性作用效果<i class="anchor-icon anchor-icon-link" anchorid="ui视觉属性作用效果" tips="复制节点链接"></i></h3>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-background" target="_blank">backgroundColor</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-gradient-color" target="_blank">linearGradient</a>等通用属性作用于组件的背景区域，而不会在组件具体的内容区域生效。</p>      </div></div></div>     <div _ngcontent-twl-c106="" class="highlight-div"><div _ngcontent-twl-c106="" class="highlight-div-header"><div _ngcontent-twl-c106="" class="highlight-div-header-left"><div _ngcontent-twl-c106="" class="handle-button expand-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twl-c106="" class="highlight-div-header-right"><div _ngcontent-twl-c106="" class="handle-button ai-button"></div><div _ngcontent-twl-c106="" class="handle-button line-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twl-c106="" class="handle-button theme-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twl-c106="" class="handle-button copy-button"><div _ngcontent-twl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twl-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CircleExample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>      <span class="hljs-comment">//绘制一个直径为150的圆</span></li><li>      <span class="hljs-title class_">Circle</span>()</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">150</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>) <span class="hljs-comment">// 会生效在一个150*200大小的矩形区域，而非仅在绘制的一个直径为150的圆形区域</span></li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="339" originwidth="333" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114815.84402239982873906306008110768391:50001231000000:2800:8F79E42142EB8D97921DF8F504F7C641DCD92EF363F79C1482126514D7B90217.jpg" width="333" height="339"></span></p>    </div>   </div>   <div></div></div>