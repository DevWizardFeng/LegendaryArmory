<h1 _ngcontent-rmo-c119="" class="doc-title ng-star-inserted" title="网页中安全区域计算和避让适配"> 网页中安全区域计算和避让适配 </h1>

<div _ngcontent-rmo-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>早期设备屏幕多为矩形，应用界面能够完整展示。随着全面屏、刘海屏等异形屏幕的普及，屏幕边缘可能出现圆角、摄像头或系统导航条，导致界面部分被遮挡。</p>    <p>安全区域是指屏幕中未被设备硬件或系统UI遮挡的区域，不与系统非安全区域（如状态栏、挖孔区和导航栏）重叠。应用的布局默认限定在安全区域内，但系统提供沉浸式布局能力，允许应用通过配置使界面扩展至非安全区域。</p>    <p>在沉浸式效果下，Web组件中的网页元素可能会被状态栏、挖孔区及导航条遮挡。此情况下，需要网页开发者进行避让适配，确保网页中的文字、表单和交互组件等关键内容避让非安全区域，从而保证用户可以完整地阅读和操作。</p>    <p>Web组件提供的利用W3C CSS进行安全区域计算和避让适配的能力，支持异形屏幕设备在沉浸式效果下网页的正常显示，网页开发者可以利用该能力对被遮挡的元素进行避让。</p>    <div class="tiledSection">     <h2 id="开启web组件沉浸式效果">开启Web组件沉浸式效果<i class="anchor-icon anchor-icon-link" anchorid="开启web组件沉浸式效果" tips="复制节点链接"></i></h2>          <p>Web组件默认布局在安全区域内。开启<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-develop-apply-immersive-effects" target="_blank">沉浸式效果</a>后，Web网页将扩展至状态栏和导航栏，从而最大化利用屏幕可视区域，增强视觉连贯性，改善用户的UI体验。开发者可通过以下方式启用Web组件的沉浸式效果。</p>     <ul>      <li>       <p>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowlayoutfullscreen9" target="_blank">setWindowLayoutFullScreen</a>设置应用窗口全屏。窗口全屏时，Web组件可布局至非安全区域。</p>       <div _ngcontent-rmo-c106="" class="highlight-div"><div _ngcontent-rmo-c106="" class="highlight-div-header"><div _ngcontent-rmo-c106="" class="highlight-div-header-left"><div _ngcontent-rmo-c106="" class="handle-button expand-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rmo-c106="" class="highlight-div-header-right"><div _ngcontent-rmo-c106="" class="handle-button ai-button"></div><div _ngcontent-rmo-c106="" class="handle-button line-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rmo-c106="" class="handle-button theme-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rmo-c106="" class="handle-button copy-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rmo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">window</span> =&gt;</span> {</li><li>      <span class="hljs-comment">// 设置窗口全屏</span></li><li>      <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">setWindowLayoutFullScreen</span>(<span class="hljs-literal">true</span>);</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>       <div _ngcontent-rmo-c106="" class="highlight-div"><div _ngcontent-rmo-c106="" class="highlight-div-header"><div _ngcontent-rmo-c106="" class="highlight-div-header-left"><div _ngcontent-rmo-c106="" class="handle-button expand-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rmo-c106="" class="highlight-div-header-right"><div _ngcontent-rmo-c106="" class="handle-button ai-button"></div><div _ngcontent-rmo-c106="" class="handle-button line-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rmo-c106="" class="handle-button theme-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rmo-c106="" class="handle-button copy-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rmo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { webview } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkWeb'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: webview.<span class="hljs-property">WebviewController</span> = <span class="hljs-keyword">new</span> webview.<span class="hljs-title class_">WebviewController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div></li>      <li>       <p>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-expand-safe-area" target="_blank">expandSafeArea</a>设置Web组件扩展安全区域，可以自定义扩展类型和方向。下面的示例中，Web组件可扩展至状态栏和导航栏，实现沉浸式效果。</p>       <div _ngcontent-rmo-c106="" class="highlight-div"><div _ngcontent-rmo-c106="" class="highlight-div-header"><div _ngcontent-rmo-c106="" class="highlight-div-header-left"><div _ngcontent-rmo-c106="" class="handle-button expand-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rmo-c106="" class="highlight-div-header-right"><div _ngcontent-rmo-c106="" class="handle-button ai-button"></div><div _ngcontent-rmo-c106="" class="handle-button line-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rmo-c106="" class="handle-button theme-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rmo-c106="" class="handle-button copy-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rmo-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { webview } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkWeb'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: webview.<span class="hljs-property">WebviewController</span> = <span class="hljs-keyword">new</span> webview.<span class="hljs-title class_">WebviewController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        <span class="hljs-comment">// 扩展至系统默认非安全区域（状态栏、导航栏），并设置只扩展上方区域和下方区域</span></li><li>        .<span class="hljs-title function_">expandSafeArea</span>([<span class="hljs-title class_">SafeAreaType</span>.<span class="hljs-property">SYSTEM</span>], [<span class="hljs-title class_">SafeAreaEdge</span>.<span class="hljs-property">TOP</span>, <span class="hljs-title class_">SafeAreaEdge</span>.<span class="hljs-property">BOTTOM</span>])</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div></li>     </ul>    </div>    <div class="tiledSection">     <h2 id="设置网页在可视窗口中的布局方式">设置网页在可视窗口中的布局方式<i class="anchor-icon anchor-icon-link" anchorid="设置网页在可视窗口中的布局方式" tips="复制节点链接"></i></h2>          <p>viewport-fit用于设置网页在可视窗口中的布局方式，是&lt;meta name="viewport"&gt;标签的一个属性。设置方式如下：</p>     <div _ngcontent-rmo-c106="" class="highlight-div"><div _ngcontent-rmo-c106="" class="highlight-div-header"><div _ngcontent-rmo-c106="" class="highlight-div-header-left"><div _ngcontent-rmo-c106="" class="handle-button expand-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rmo-c106="" class="highlight-div-header-right"><div _ngcontent-rmo-c106="" class="handle-button ai-button"></div><div _ngcontent-rmo-c106="" class="handle-button line-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rmo-c106="" class="handle-button theme-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rmo-c106="" class="handle-button copy-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rmo-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">'viewport'</span> <span class="hljs-attr">content</span>=<span class="hljs-string">'viewport-fit=cover'</span>&gt;</span></li></ol></pre></div></div>     <p>如表1所示，viewport-fit默认为auto，与contain表现一致，表示网页内容全部包含在安全区域内。cover表示网页内容完全覆盖可视窗口，可能与非安全区域发生重叠。</p>     <p><strong>表1</strong> viewport-fit属性取值说明</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.4.1.1" valign="top" width="33.33333333333333%">viewport-fit取值</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.4.1.2" valign="top" width="33.33333333333333%">说明</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.4.1.3" valign="top" width="33.33333333333333%">适用场景</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">auto</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">默认值，与contain表现一致。</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">无需特殊适配的普通网页。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">contain</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">网页内容被严格限制在安全区域内，不与非安全区域重叠。</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">需要确保完整显示的网页。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">cover</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">网页内容完全覆盖可视窗口，可能与非安全区域重叠。</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">需要最大化渲染可视窗口的网页，由网页开发者进行避让适配。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>Web组件当前还不支持开启沉浸式效果时将网页内容限制在安全区域内。因此，当设置viewport-fit=contain时，表现与cover一致，网页内容完全填充Web组件区域。</p>      </div></div></div>    </div>    <div class="tiledSection">     <h2 id="网页元素避让适配">网页元素避让适配<i class="anchor-icon anchor-icon-link" anchorid="网页元素避让适配" tips="复制节点链接"></i></h2>          <p>safe-area-inset-*是一组CSS环境变量，定义了安全区域与Web可视窗口边缘的距离，即网页内容要完整显示时，在top、right、bottom和left四个方向上需要避让的距离，如下图所示。不同于其他CSS属性，环境变量的属性名称对大小写敏感。</p>     <p><strong>图1</strong> safe-area-inset-*示意图</p>     <p><span><img originheight="820" originwidth="737" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114739.28791513213147059748479536682907:50001231000000:2800:BF7078A687FDEA925E49B379518D98E1293FE901D9E2A2B97858C461B8A936E6.png" width="737" height="820"></span></p>     <p>当设置viewport-fit=cover时，ArkWeb内核将持续监测Web组件及系统非安全区域的位置与尺寸，根据两者的重叠部分计算网页在四个方向上需避让的具体距离，并设置给环境变量safe-area-inset-*。在矩形显示器（如普通PC/2in1设备的屏幕）上，这些值为零。在非矩形显示器（如圆形表盘或移动设备屏幕）上，safe-area-inset-*所界定的内矩形区域即为安全区域，网页内容在该区域内可完整显示，避免被非矩形显示区域裁剪。</p>     <p>网页元素的避让适配依赖CSS函数env()，该函数用于获取浏览器或系统提供的环境变量。使用env()函数可以获取safe-area-inset-*的值。网页开发者无需关注设备非安全区域的具体位置和尺寸，在CSS样式中应用env(safe-area-inset-*)即可定义网页需要避让的距离，实现跨设备的避让。语法如下：</p>     <div _ngcontent-rmo-c106="" class="highlight-div"><div _ngcontent-rmo-c106="" class="highlight-div-header"><div _ngcontent-rmo-c106="" class="highlight-div-header-left"><div _ngcontent-rmo-c106="" class="handle-button expand-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rmo-c106="" class="highlight-div-header-right"><div _ngcontent-rmo-c106="" class="handle-button ai-button"></div><div _ngcontent-rmo-c106="" class="handle-button line-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rmo-c106="" class="handle-button theme-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rmo-c106="" class="handle-button copy-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rmo-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* 分别表示上、右、下、左，四个方向上的避让值 */</span></li><li>env(safe-area-inset-<span class="hljs-attribute">top</span>);</li><li>env(safe-area-inset-<span class="hljs-attribute">right</span>);</li><li>env(safe-area-inset-<span class="hljs-attribute">bottom</span>);</li><li>env(safe-area-inset-<span class="hljs-attribute">left</span>);</li><li>
</li><li><span class="hljs-comment">/* 基于fallback设置避让值，第二个参数表示环境变量不存在时的回退值 */</span></li><li><span class="hljs-comment">/* 下述长度单位参见：https://developer.mozilla.org/zh-CN/docs/Web/CSS/length */</span></li><li>env(safe-area-inset-<span class="hljs-attribute">top</span>, <span class="hljs-number">20px</span>);</li><li>env(safe-area-inset-<span class="hljs-attribute">right</span>, <span class="hljs-number">1em</span>);</li><li>env(safe-area-inset-<span class="hljs-attribute">bottom</span>, <span class="hljs-number">0.5vh</span>);</li><li>env(safe-area-inset-<span class="hljs-attribute">left</span>, <span class="hljs-number">1.4rem</span>);</li><li>
</li><li><span class="hljs-comment">/* env()可基于部分数学计算函数`calc()`,`min()`,`max()`进行组合计算 */</span></li><li>calc(env(safe-area-inset-<span class="hljs-attribute">top</span>) + <span class="hljs-number">10px</span>)</li><li>min(env(safe-area-inset-<span class="hljs-attribute">left</span>), <span class="hljs-number">50px</span>)</li><li>max(env(safe-area-inset-<span class="hljs-attribute">bottom</span>), <span class="hljs-number">30px</span>)</li></ol></pre></div></div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>使用env(safe-area-inset-*)进行避让时需要设置viewport-fit=cover。viewport-fit=contain时，env(safe-area-inset-*)值为0。</p>      </div></div></div>    </div>    <div class="tiledSection">     <h2 id="网页元素避让非安全区域最佳实践">网页元素避让非安全区域最佳实践<i class="anchor-icon anchor-icon-link" anchorid="网页元素避让非安全区域最佳实践" tips="复制节点链接"></i></h2>          <p>Web组件启用沉浸式效果时，渲染内容可能与非安全区域重叠，影响用户的阅读和交互，如图2所示。非安全区域包括顶部状态栏、屏幕挖孔区和底部导航条。在沉浸式效果下，index.html网页的标题栏被屏幕挖孔区遮挡，底部的Tab区域与导航条发生重叠。</p>     <p><strong>图2</strong> Web组件开启沉浸式效果时网页元素被非安全区域遮挡</p>     <p><span><img originheight="624" originwidth="296" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114739.65570091723830790706802080879558:50001231000000:2800:F7EF291F1E421A6359FCD345C178D5EF8B1B18A4764E3E05D8CE270C93483BA1.png" class="notEnlarge" width="296" height="624"></span></p>     <div _ngcontent-rmo-c106="" class="highlight-div"><div _ngcontent-rmo-c106="" class="highlight-div-header"><div _ngcontent-rmo-c106="" class="highlight-div-header-left"><div _ngcontent-rmo-c106="" class="handle-button expand-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rmo-c106="" class="highlight-div-header-right"><div _ngcontent-rmo-c106="" class="handle-button ai-button"></div><div _ngcontent-rmo-c106="" class="handle-button line-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rmo-c106="" class="handle-button theme-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rmo-c106="" class="handle-button copy-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rmo-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- index.html --&gt;</span></li><li><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0, viewport-fit=cover"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span></li><li><span class="language-css">        <span class="hljs-selector-tag">body</span> {</span></li><li><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span></li><li><span class="language-css">            <span class="hljs-attribute">background</span>: <span class="hljs-number">#f6f6f6</span>;</span></li><li><span class="language-css">        }</span></li><li><span class="language-css">        <span class="hljs-selector-class">.edge</span> {</span></li><li><span class="language-css">            <span class="hljs-attribute">position</span>: fixed;</span></li><li><span class="language-css">            <span class="hljs-attribute">display</span>: flex;</span></li><li><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span></li><li><span class="language-css">            <span class="hljs-attribute">background</span>: <span class="hljs-number">#fefefe</span>;</span></li><li><span class="language-css">        }</span></li><li><span class="language-css">        <span class="hljs-selector-class">.title-bar</span> {</span></li><li><span class="language-css">            <span class="hljs-attribute">align-items</span>: center;</span></li><li><span class="language-css">            <span class="hljs-attribute">justify-content</span>: center;</span></li><li><span class="language-css">            <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;</span></li><li><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>;</span></li><li><span class="language-css">        }</span></li><li><span class="language-css">        <span class="hljs-selector-class">.content</span> {</span></li><li><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">8px</span>;</span></li><li><span class="language-css">            <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">40px</span>;</span></li><li><span class="language-css">        }</span></li><li><span class="language-css">        <span class="hljs-selector-class">.tabs</span> {</span></li><li><span class="language-css">            <span class="hljs-attribute">justify-content</span>: space-around;</span></li><li><span class="language-css">            <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;</span></li><li><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>;</span></li><li><span class="language-css">        }</span></li><li><span class="language-css">        <span class="hljs-selector-class">.tab</span> {</span></li><li><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;</span></li><li><span class="language-css">        }</span></li><li><span class="language-css">        <span class="hljs-selector-class">.tab</span><span class="hljs-selector-class">.active</span> {</span></li><li><span class="language-css">            <span class="hljs-attribute">color</span>: Blue;</span></li><li><span class="language-css">        }</span></li><li><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></li><li>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"edge title-bar"</span>&gt;</span>Example page<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span>&gt;</span></li><li>            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Contents of page<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></li><li>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"edge tabs"</span>&gt;</span></li><li>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tab active"</span>&gt;</span>Tab1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tab"</span>&gt;</span>Tab2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tab"</span>&gt;</span>Tab3<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></li></ol></pre></div></div>     <p>网页开发者可利用env(safe-area-inset-*)定义CSS样式，确保文字、图片和交互组件避让非安全区域。在以下示例中，通过env(safe-area-inset-*)更新了index.html的CSS样式，使网页主要内容避让非安全区域，效果见图3。</p>     <div _ngcontent-rmo-c106="" class="highlight-div"><div _ngcontent-rmo-c106="" class="highlight-div-header"><div _ngcontent-rmo-c106="" class="highlight-div-header-left"><div _ngcontent-rmo-c106="" class="handle-button expand-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rmo-c106="" class="highlight-div-header-right"><div _ngcontent-rmo-c106="" class="handle-button ai-button"></div><div _ngcontent-rmo-c106="" class="handle-button line-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rmo-c106="" class="handle-button theme-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rmo-c106="" class="handle-button copy-button"><div _ngcontent-rmo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rmo-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-selector-class">.title-bar</span> {</li><li>    <span class="hljs-attribute">align-items</span>: center;</li><li>    <span class="hljs-attribute">justify-content</span>: center;</li><li>    <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;</li><li>    <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>;</li><li>    <span class="hljs-attribute">padding-top</span>: <span class="hljs-built_in">env</span>(safe-area-inset-top); <span class="hljs-comment">/* 设置padding-top避让上方非安全区域 */</span></li><li>}</li><li><span class="hljs-selector-class">.content</span> {</li><li>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">8px</span>;</li><li>    <span class="hljs-attribute">padding-top</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-built_in">env</span>(safe-area-inset-top) + <span class="hljs-number">40px</span>); <span class="hljs-comment">/* 同步title-bar增加padding-top高度 */</span></li><li>}</li><li><span class="hljs-selector-class">.tabs</span> {</li><li>    <span class="hljs-attribute">justify-content</span>: space-around;</li><li>    <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;</li><li>    <span class="hljs-attribute">height</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-built_in">env</span>(safe-area-inset-bottom) + <span class="hljs-number">40px</span>); <span class="hljs-comment">/* 增加tab区域高度以避让下方非安全区域 */</span></li><li>}</li></ol></pre></div></div>     <p><strong>图3</strong> Web组件开启沉浸式效果时网页元素避让非安全区域</p>     <p><span><img originheight="644" originwidth="315" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114739.82245402366108304104381208408949:50001231000000:2800:B5AC7F80FA38C88DFD56AF9F88B36D40115CE652342A37B62205EF0E2ACF04E4.png" width="315" height="644"></span></p>    </div>   </div>   <div></div></div>