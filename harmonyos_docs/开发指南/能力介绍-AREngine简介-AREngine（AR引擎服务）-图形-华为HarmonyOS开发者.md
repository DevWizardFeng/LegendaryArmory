<h1 _ngcontent-foo-c119="" class="doc-title ng-star-inserted" title="能力介绍"> 能力介绍 </h1>

<div _ngcontent-foo-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>AR Engine（AR引擎服务）是一个用于在HarmonyOS上构建增强现实应用的引擎，提供了运动跟踪、环境跟踪和命中检测等空间计算能力。</p> <p>通过这些能力，应用可以实现虚拟世界与现实世界的融合，给用户提供全新的视觉体验和交互方式。</p> <p>AR Engine包含三大能力，分别是运动跟踪能力、环境跟踪能力和命中检测能力。</p> <div class="tiledSection"><h2 id="section8872338162719">运动跟踪能力<i class="anchor-icon anchor-icon-link" anchorid="section8872338162719" tips="复制节点链接"></i></h2><p>AR Engine通过获取终端设备摄像头数据，结合图像特征和惯性传感器（IMU），计算设备位置（沿x、y、z轴方向位移）和姿态（绕x、y、z轴旋转），实现6自由度（6DoF）运动跟踪能力。</p> <div class="fignone"><span class="figcap"><b>图1 </b>6DoF运动跟踪能力示意图（红色线代表设备运动方向）</span><br><span><img height="422.94" originheight="941" originwidth="1164" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114350.66496026665048027947753660129834:50001231000000:2800:75A0669D0DB4B35D024D7C4308B86C05420C2618395238EB95BD39B62EC07551.png" title="点击放大" width="523.6875"></span></div> </div> <div class="tiledSection"><h2 id="section324635363015">环境跟踪能力<i class="anchor-icon anchor-icon-link" anchorid="section324635363015" tips="复制节点链接"></i></h2><p>AR Engine通过检测和跟踪设备周围的平面及语义，实现环境跟踪能力。环境跟踪能力包括：平面检测、平面语义、目标语义、深度估计、环境网格扫描、图像跟踪和高精几何重建。</p> <ul><li>平面检测<p>检测水平和竖直平面（如地面、墙面等），并识别平面边界。应用可使用这些平面来放置虚拟物体。</p> <div class="fignone"><span class="figcap"><b>图2 </b>平面检测示意图（左图为水平平面，右图为竖直平面）</span><br><span><img height="303.24" originheight="559" originwidth="964" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114350.57369262333741254640999068433265:50001231000000:2800:48414E84A7BB821F0FFBC4669BE8EA267518D80667D55E61F094B5149AC2B8DA.jpg" title="点击放大" width="523.6875"></span></div> <p></p> </li><li>平面语义<p>检测不同的平面类型。当前支持的平面类型共11种，分别为：墙面、地面、座椅面、桌面、天花板、门面、窗面、床面、平面空间、立方体体积、立方体空间容积（平面空间、立方体体积和立方体空间容积仅在高精几何重建模式下支持）。</p> <div class="fignone"><span class="figcap"><b>图3 </b>平面语义示意图（蓝色表示地面，绿色表示桌面）</span><br><span><img height="387.03000000000003" originheight="512" originwidth="692" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114350.02509282703928700762239503299081:50001231000000:2800:D6963613C1CE91FE2FB96495E6648C2F1D0E6FAE00A17DBB5C07192B60F25057.jpg" title="点击放大" width="523.6875"></span></div> <p></p> <p></p> </li><li>目标语义<p>当目标物体位于平面上时，检测目标物体的形状，当前包括矩形和圆形。</p> <div class="fignone"><span class="figcap"><b>图4 </b>目标语义示意图 (左图为矩形检测，右图为圆形检测）</span><br><span><img height="228.4275" originheight="529" originwidth="1210" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114350.62650984110456138449358808684916:50001231000000:2800:4F6F58408E1283F5B579002C44483CA156E22EC1BDAC61E0B85227B862DF15FA.jpg" title="点击放大" width="523.6875"></span></div> <p></p> <p></p> </li><li>深度估计<p>支持持续输出周围环境相对终端设备的深度信息，利用这些深度信息，可以实现更加自然、无缝的虚实体验。本功能提供的深度信息是指从终端设备摄像头到显示场景中各点的深度值，每个像素点都有该深度值。同时输出置信度信息，开发者可自行根据应用需求根据置信度选择更稠密或者更精确的深度信息。</p> <div class="fignone"><span class="figcap"><b>图5 </b>深度渲染示意图</span><br><span><img originheight="657" originwidth="318" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114350.63329414222901809479609597802868:50001231000000:2800:E536F32FF2273657839415F7344CBBC4D733C013960E05C4BE04F24D605FAE57.png" width="318" height="657"></span></div> </li><li>环境网格扫描<p>实时计算并输出当前画面中的环境网格数据，可用于处理虚实遮挡等应用场景。</p> <p>通过环境网格能力，可将虚拟物体放置在任意可重建的曲面上，而不再受限于水平面和垂直面。同时可利用重建的环境网格实现虚实遮挡和碰撞检测，使得虚拟角色能够准确的知道当前所在的周围三维空间情况，实现更好的沉浸式AR体验。</p> <div class="fignone"><span class="figcap"><b>图6 </b>环境网格扫描示意图</span><br><span><img originheight="657" originwidth="318" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114350.00779158141470695072357766747958:50001231000000:2800:FAA6ABADA75BC1CA5E469C474C9C7A3C46E5EF6D450CA2B6CD8945FD91FAEC79.png" width="318" height="657"></span></div> </li><li>图像跟踪<p>AR Engine提供图像识别与跟踪的能力，检测场景中是否存在用户提供的图像，识别之后输出图像的位姿。</p> <p>通过图像识别与跟踪功能，可实现基于现实世界场景中图像（海报或封面等）的增强现实。可提供一组参考图像，当这些图像出现在终端设备的相机视野范围内时，AR Engine可为AR应用实时跟踪图像，丰富场景理解及交互体验。</p> <div class="fignone"><span class="figcap"><b>图7 </b>图像跟踪示意图</span></div> <p><span><img originheight="657" originwidth="318" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114350.21305755308299278636513037110786:50001231000000:2800:0E8110021516E6F0D2D4DEE7DB46341F60707B11F2FC8D26A3EF93F1A7CC6CF2.png" width="318" height="657"></span></p> </li><li>高精几何重建<p>AR Engine高精几何重建用于识别空间中的立方体物体或者嵌入式立方体空间，计算出被识别物体或空间的长、宽、高以及体积。体积测量可以用于测量立方体体积以及嵌入式空间的大小。</p> <p>高精几何重建主要包含稠密点云绘制、体积测量、空间识别三大能力。</p> <div class="fignone"><span class="figcap"><b>图8 </b>稠密点云绘制示意图</span><br><span><img originheight="657" originwidth="318" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114350.23239099177522020729776294658525:50001231000000:2800:62FD6D51947CFC38488ED527913242FEDBE04B369E463CFC7BE3B42C50A5A8FA.png" width="318" height="657"></span></div> <div class="fignone"><span class="figcap"><b>图9 </b>体积测量示意图</span><br><span><img originheight="657" originwidth="318" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114350.58011749673291831503402125733182:50001231000000:2800:63495C11925DB403399AAC7A4D3AD4CFA5EF7F9D5C27B88CCA5ECFE382AF48DD.png" width="318" height="657"></span></div> <div class="fignone"><span class="figcap"><b>图10 </b>空间识别示意图</span><br><span><img originheight="657" originwidth="318" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114351.31779276448269178918460301998953:50001231000000:2800:5C7DB5D1E1B671E73AEE6A077FF08880CE2A8A9B1400A63C9A10CA9FCC4C577F.png" width="318" height="657"></span></div> </li></ul> </div> <div class="tiledSection"><h2 id="section102291349133214">命中检测能力<i class="anchor-icon anchor-icon-link" anchorid="section102291349133214" tips="复制节点链接"></i></h2><p>AR Engine通过命中检测（Hit Testing）技术，将终端设备屏幕上的兴趣点映射为现实环境中的兴趣点。命中检测以现实环境中的兴趣点为源，发出一条射线连接到摄像头所在位置，返回射线与平面（或特征点）的交点。通过命中检测能力，用户可以通过点击终端设备屏幕，选中现实环境中的兴趣点，与虚拟物体进行交互。</p> <div class="fignone"><span class="figcap"><b>图11 </b>命中检测示意图</span><br><span><img height="364.08750000000003" originheight="658" originwidth="944" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114351.89791661388973766557639828382595:50001231000000:2800:FE2D7E44FEA30AB0D0F70E60D3077A94D06407657EAE0397863F3AEC36625B05.jpg" title="点击放大" width="523.6875"></span></div> </div> <div class="tiledSection"><h2 id="section955343919343">场景介绍<i class="anchor-icon anchor-icon-link" anchorid="section955343919343" tips="复制节点链接"></i></h2><p>通过以上能力，可以实现AR场景的应用开发，如AR物体摆放等，为用户提供虚实融合的全新交互体验。</p> <ul><li>AR物体摆放：通过摄像头构建AR虚拟世界，支持用户在虚拟世界中放置虚拟物体。AR物体摆放可用于虚拟家具试用等，实现虚拟与现实世界融合。</li><li>平面语义识别：对于检测到的平面，开发者可以对平面进行平面的语义识别，包括墙面、地面、座椅面、桌面、天花板、门面、窗面、床面等。</li><li>目标形状识别：对于检测到的目标物体，开发者可以对目标物体进行形状识别，可识别的形状包括矩形和圆形。</li><li>网格扫描：通过摄像头构建AR虚拟世界，通过重建周围环境网格实现虚实遮挡和碰撞检测，支持用户在虚拟世界中放置虚拟物体。通过感知当前所在的周围三维空间情况，实现更好的沉浸式AR体验。</li><li>深度估计：通过摄像头获取周围环境信息，持续输出周围环境的深度信息，为用户提供环境三维感知能力。该技术可应用于测量、体积估算、场景重建等获取空间物体深度信息，基于此信息完成一些空间计算任务，比如计算物体体积等。</li><li>图像跟踪：通过摄像头获取周围环境信息，持续检测场景中是否存在输入的图像，识别之后输出图像的位姿。<p>AR Engine提供图像识别与跟踪的能力，检测场景中是否存在用户提供的图像，识别之后输出图像的位姿。</p> <p>通过图像识别与跟踪功能，可实现基于现实世界场景中图像（海报或封面等）的增强现实。可提供一组参考图像，当这些图像出现在终端设备的相机视野范围内时，AR Engine可为AR应用实时跟踪图像，丰富场景理解及交互体验。</p> </li><li>高精几何重建：通过摄像头获取周围环境信息，识别空间中的立方体物体或者嵌入式立方体空间，计算出被识别物体或空间的长、宽、高以及体积。体积测量可以用于测量立方体体积以及嵌入式空间的大小。</li></ul> </div> </div> <div></div></div>