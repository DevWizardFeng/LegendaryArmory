<h1 _ngcontent-eee-c119="" class="doc-title ng-star-inserted" title="能力说明"> 能力说明 </h1>

<div _ngcontent-eee-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000001731595148"><p id="ZH-CN_TOPIC_0000002510174475__p4479192014417">Hvigor支持灵活定制构建模式，当您创建新工程时，DevEco Studio会自动创建"debug" 、"release"和"test" 构建模式。"test"模式虽然没有出现在工程级build-profile.json5配置文件中，但是利用测试框架开启测试时，会自动使用"test"构建模式。</p> <div class="tiledSection"><h2 id="section192461528194916">指定构建模式<i class="anchor-icon anchor-icon-link" anchorid="section192461528194916" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section434194165017" class="firsth2">界面设置<i class="anchor-icon anchor-icon-link" anchorid="section434194165017" tips="复制节点链接"></i></h3><p id="ZH-CN_TOPIC_0000002510174475__p1350935294811">DevEco Studio支持界面配置Build Mode配置选项，点击右上角<span><img originheight="20" originwidth="22" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104917.30089263925745682705349570760124:50001231000000:2800:1D49D42B8AF5DBE1FC5729DF2B8B381530CF2D85AAB3B964B7C7531055A32F99.png" class="IconPic notEnlarge" width="22" height="20"></span>图标选择构建模式：</p> <p id="ZH-CN_TOPIC_0000002510174475__p102885231464"><span><img originheight="319" originwidth="474" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104917.37785024739490917197419787967090:50001231000000:2800:10ABB84ED9333B5B2B2E733468DBE7D80428405C253D4C89FDF9E53B5130F351.png" width="474" height="319"></span></p> <p id="ZH-CN_TOPIC_0000002510174475__p4413164715354">内置三个选项：&lt;Default&gt;，debug，release。</p> <p id="ZH-CN_TOPIC_0000002510174475__p2041364716351">如果开发者在build-profile.json5文件中，自定义了其他构建模式，Build Mode配置界面会提供对应选项。</p> <ul id="ZH-CN_TOPIC_0000002510174475__ul53791419162216"><li id="li18369178437"><strong>&lt;Default&gt;</strong>：默认选项，选择此项，构建APP包，使用release构建模式；构建HAP/HSP/HAR包，使用debug构建模式。</li><li id="li8369127204318"><strong>debug</strong>：构建APP/HAP/HSP/HAR包，均使用debug构建模式，buildOption中的debuggable默认为true。此时的构建产物默认包含大量的调试信息，例如变量名、函数名、行号等，可以直接进行调试。这些调试信息会增加程序的体积，可能导致程序的运行速度降低。</li><li id="li837951916225"><strong>release</strong>：构建APP/HAP/HSP/HAR包，均使用release构建模式，buildOption中的debuggable默认为false。此时的构建产物会去掉大量的调试信息，只包含应用程序必要的代码和数据，以减小程序的体积，并且会对编译的字节码进行优化，提高程序的运行速度。</li></ul> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul id="ZH-CN_TOPIC_0000002510174475__ul414411571597"><li id="li18144195725920">DevEco Studio界面设置或命令行中指定的buildMode构建模式，只代表当前选择的buildMode的名称，最终编译产物是否是Debug应用取决于buildOption配置中的debuggable字段，构建模式使用的具体buildOption配置信息，请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-hvigor-build-profile#section1010733210421">模块级buildOption</a>。</li><li id="li614415755916">LiteWearable设备使用标准JS运行时，因此对应的应用开发在release模式下的构建产物中包含JS源码，请注意代码资产保护。</li></ul> </div></div></div> </div> <div class="tiledSection"><h3 id="section1338894054810">命令行设置<i class="anchor-icon anchor-icon-link" anchorid="section1338894054810" tips="复制节点链接"></i></h3><ul id="ZH-CN_TOPIC_0000002510174475__ul184064714488"><li id="li1439817231587">使用命令行参数-p buildMode指定构建模式，比如指定"release"模式，构建entry模块的HAP包：<div _ngcontent-eee-c106="" class="highlight-div"><div _ngcontent-eee-c106="" class="highlight-div-header"><div _ngcontent-eee-c106="" class="highlight-div-header-left"><div _ngcontent-eee-c106="" class="handle-button expand-button"><div _ngcontent-eee-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eee-c106="" class="highlight-div-header-right"><div _ngcontent-eee-c106="" class="handle-button ai-button"></div><div _ngcontent-eee-c106="" class="handle-button line-button"><div _ngcontent-eee-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eee-c106="" class="handle-button theme-button"><div _ngcontent-eee-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eee-c106="" class="handle-button copy-button"><div _ngcontent-eee-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eee-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" id="ZH-CN_TOPIC_0000002510174475__screen1789212356593" data-highlighted="yes"><ol class="linenums"><li>hvigorw --mode <span class="hljs-keyword">module</span> -p product=<span class="hljs-keyword">default</span> -p <span class="hljs-keyword">module</span>=entry@<span class="hljs-keyword">default</span> -p buildMode=release assembleHap</li></ol></pre></div></div> </li><li id="li16915327591">使用命令行参数-p debuggable=true指定"debug"构建模式，-p debuggable=false指定"release"构建模式，比如指定"release"模式，构建entry模块的HAP包：<div _ngcontent-eee-c106="" class="highlight-div"><div _ngcontent-eee-c106="" class="highlight-div-header"><div _ngcontent-eee-c106="" class="highlight-div-header-left"><div _ngcontent-eee-c106="" class="handle-button expand-button"><div _ngcontent-eee-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eee-c106="" class="highlight-div-header-right"><div _ngcontent-eee-c106="" class="handle-button ai-button"></div><div _ngcontent-eee-c106="" class="handle-button line-button"><div _ngcontent-eee-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eee-c106="" class="handle-button theme-button"><div _ngcontent-eee-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eee-c106="" class="handle-button copy-button"><div _ngcontent-eee-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eee-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" id="ZH-CN_TOPIC_0000002510174475__screen362873417102" data-highlighted="yes"><ol class="linenums"><li>hvigorw --mode <span class="hljs-keyword">module</span> -p product=<span class="hljs-keyword">default</span> -p <span class="hljs-keyword">module</span>=entry@<span class="hljs-keyword">default</span> -p debuggable=<span class="hljs-literal">false</span> assembleHap</li></ol></pre></div></div> </li></ul> </div> <p id="ZH-CN_TOPIC_0000002510174475__p225653815411">当未指定构建模式时，构建APP包，默认release模式；构建HAP/HSP/HAR包时，默认debug模式。</p> <div class="tiledSection"><h2 id="section172841685416">定制构建模式<i class="anchor-icon anchor-icon-link" anchorid="section172841685416" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002510174475__p617815278585">Hvigor支持定制构建模式，采用buildOption字段声明编译选项，并通过buildModeBinder来绑定target、 buildOption以及buildMode三者之间的组合关系。</p> </div> <div class="tiledSection"><h3 id="section1747374111245" class="firsth2">定义编译选项<i class="anchor-icon anchor-icon-link" anchorid="section1747374111245" tips="复制节点链接"></i></h3><p id="ZH-CN_TOPIC_0000002510174475__p19430405613"><strong>工程级build-profile.json5文件：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table id="table917372685617" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002510174475__row17173626135611"><th align="left" class="cellrowborder" colspan="2" id="mcps1.3.7.3.1.6.1.1" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p3174826145610">字段</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.3.1.6.1.2" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p917416265563">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.3.1.6.1.3" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p15174182618565">是否必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.3.1.6.1.4" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p417432625618">说明</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002510174475__row0174152613566"><td class="cellrowborder" colspan="2" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p656355695617"><span style="color: rgb(48,48,48);">buildModeSet</span></p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p19562256185619">对象数组</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p173612518574">否</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p7736957579">构建模式合集，可配置多个。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002510174475__row111744265567"><td class="cellrowborder" rowspan="2" valign="top" width="15.101510151015102%">&nbsp;&nbsp;</td> <td class="cellrowborder" valign="top" width="14.74147414741474%"><p id="ZH-CN_TOPIC_0000002510174475__p11196451175916">name</p> </td> <td class="cellrowborder" valign="top" width="8.650865086508649%"><p id="ZH-CN_TOPIC_0000002510174475__p81969517592">字符串</p> </td> <td class="cellrowborder" valign="top" width="12.391239123912392%"><p id="ZH-CN_TOPIC_0000002510174475__p5197125120597">是</p> </td> <td class="cellrowborder" valign="top" width="49.11491149114911%"><p id="ZH-CN_TOPIC_0000002510174475__p644414325410">构建模式名称。</p> <p id="ZH-CN_TOPIC_0000002510174475__p174448321948">内置三种类型，此三项无需用户显性配置：</p> <ul id="ZH-CN_TOPIC_0000002510174475__ul4444632746"><li id="li544417324417">debug：开发、调试推荐选项</li><li id="li944412321845">release：打包、发布推荐选项</li><li id="li124441932143">test：运行ohosTest测试套件推荐选项<div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002510174475__p519785165920">1. 项目中全局唯一，不区分大小写</p> <p id="ZH-CN_TOPIC_0000002510174475__p11197175145913">2. 仅允许在工程级build-profile.json5中声明、定义</p> <p id="ZH-CN_TOPIC_0000002510174475__p1197185114599">3. 相同的buildMode会被覆盖，按照配置顺序，后者覆盖前者</p> <p id="ZH-CN_TOPIC_0000002510174475__p20610821495">4. 三种模式均支持开发者自定义</p> </div></div></div> </li></ul> </td> </tr> <tr id="ZH-CN_TOPIC_0000002510174475__row41743263564"><td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p781415116013"><span style="color: rgb(48,48,48);">buildOption</span></p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p78141519015">对象</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p8814417019">否</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p393574215415">构建模式使用的具体配置信息，详情请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-hvigor-build-profile-app#section14222051575">工程级buildOption</a>。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002510174475__row141751726175619"><td class="cellrowborder" colspan="2" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p95377566568"><span style="color: rgb(48,48,48);">products</span></p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p2403171817585">对象数组</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p3403151819583">否</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p159357426417">产品品类，可配置多个。如需配置多个，相关说明请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-customized-multi-targets-and-products">配置多目标产物</a>章节。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002510174475__row11175162675614"><td class="cellrowborder" valign="top" width="15.101510151015102%">&nbsp;&nbsp;</td> <td class="cellrowborder" valign="top" width="14.74147414741474%"><p id="ZH-CN_TOPIC_0000002510174475__p73121132175815"><span style="color: rgb(48,48,48);">buildOption</span></p> </td> <td class="cellrowborder" valign="top" width="8.650865086508649%"><p id="ZH-CN_TOPIC_0000002510174475__p232142135811">对象</p> </td> <td class="cellrowborder" valign="top" width="12.391239123912392%"><p id="ZH-CN_TOPIC_0000002510174475__p633104265813">否</p> </td> <td class="cellrowborder" valign="top" width="49.11491149114911%"><p id="ZH-CN_TOPIC_0000002510174475__p99351042748">产品的编译构建配置，详情请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-hvigor-build-profile-app#section14222051575">工程级buildOption</a>。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002510174475__p761718509207">product的buildOption会对buildMode的buildOption继承覆写，即相同配置项product的优先级更高。</p> </div></div></div> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002510174475__p1155103901214"><strong>模块级build-profile.json5文件：</strong></p> </div>  <div class="tablenoborder"><div class="tbBox"><table id="table761845715174" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002510174475__row36181577178"><th align="left" class="cellrowborder" colspan="3" id="mcps1.3.8.1.7.1.1" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p2618185771715">字段</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.1.7.1.2" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p2618185719176">类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.1.7.1.3" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p12618657131713">是否必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.1.7.1.4" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p126181057141715">说明</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002510174475__row176181570178"><td class="cellrowborder" colspan="3" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p5618185713178"><span style="color: rgb(48,48,48);">buildOption</span></p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p12618185771710">对象</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p1761835712177">否</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p1961810573178">构建模式使用的具体配置信息，详情请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-hvigor-build-profile#section1010733210421">模块级buildOption</a>，其中不支持配置name、debuggable和copyFrom字段。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002510174475__row861835719175"><td class="cellrowborder" colspan="3" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p461875751717">buildOptionSet</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p56181057131715">对象数组</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p66188577179">否</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p861995721715">buildOption的集合，定义可用的底层配置选项集。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002510174475__row11619135711170"><td class="cellrowborder" rowspan="2" valign="top">&nbsp;&nbsp;</td> <td class="cellrowborder" colspan="2" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p1361965713179">name</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p36198572172">字符串</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p6619105721717">是</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p2619135714177">buildOption的名称。</p> <p id="ZH-CN_TOPIC_0000002510174475__p86942020151919">当前模块级build-profile.json5中已有顶层独立的buildOption配置，buildOptionSet优先级比buildOption更高。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ol id="ZH-CN_TOPIC_0000002510174475__ol92081252143020"><li id="li1208152183012">同模块中唯一，不区分大小写。</li><li id="li52081452183018">相同的名称会被覆盖，按照配置顺序，后者覆盖前者。</li><li id="li15208165211308">内置三种：default、debug、release。</li></ol> </div></div></div> </td> </tr> <tr id="ZH-CN_TOPIC_0000002510174475__row19619157131713"><td class="cellrowborder" colspan="2" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p1961914577172">copyFrom</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p17619155713179">字符串</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p961915718176">否</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p161452162019">配置已定义的buildOption的name，表示从本模块已有的buildOption复制配置，然后再覆写。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ol id="ZH-CN_TOPIC_0000002510174475__ol11620105701712"><li id="li186204571179">仅限在同一模块的build-profile.json5中复制。</li><li id="li1562017575175">目标buildOption不存在时，构建告警，回落为从内置的default选项中复制。</li></ol> </div></div></div> </td> </tr> <tr id="ZH-CN_TOPIC_0000002510174475__row11620105713175"><td class="cellrowborder" colspan="3" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p18620185781712">buildModeBinder</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p1462065711715">对象数组</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p1362015578172">否</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p562055761712">为某一buildMode建立target与buildOption之间的映射关系。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002510174475__row1562011577171"><td class="cellrowborder" rowspan="4" valign="top">&nbsp;&nbsp;</td> <td class="cellrowborder" colspan="2" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p1062025717171">buildModeName</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p56204574173">字符串</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p16620115711710">是</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p176203574179">指定待建立映射的buildMode。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ol id="ZH-CN_TOPIC_0000002510174475__ol196205574174"><li id="li16202057141712">模块级中无法定义buildMode，此处名称须在工程级的buildModeSet中选取。</li><li id="li146201578175">对于系统内置的三种buildMode（debug / release / test）, Hvigor会分配默认绑定：<ul id="ZH-CN_TOPIC_0000002510174475__ul1762065721719"><li id="li196201357151717">debug mode：优先分配debug buildOption，测试包（ohosTest）分配default buildOption。</li><li id="li9620157141713">release mode：优先分配release buildOption，测试包（ohosTest）分配 default buildOption。</li><li id="li4621657201710">test mode：【测试套使用】测试包（ohosTest）分配default buildOption，主包分配debug buildOption。</li></ul> </li></ol> </div></div></div> </td> </tr> <tr id="ZH-CN_TOPIC_0000002510174475__row26213572174"><td class="cellrowborder" colspan="2" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p76211557121719">mappings</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p962115712172">对象数组</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p562165718175">否</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p2062145717172">绑定target使用的buildOption。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002510174475__row66211657161719"><td class="cellrowborder" rowspan="2" valign="top">&nbsp;&nbsp;</td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p1062175721717">targetName</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p8621157101713">字符串</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p7621175751718">是</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p1762105731717">指定待绑定的target。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002510174475__p1362195712173">仅在本模块选择。</p> </div></div></div> </td> </tr> <tr id="ZH-CN_TOPIC_0000002510174475__row19621195761717"><td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p36219570176">buildOptionName</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p1562116572174">字符串</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p46214579172">是</p> </td> <td class="cellrowborder" valign="top"><p id="ZH-CN_TOPIC_0000002510174475__p13621157191713">指定待绑定的buildOption。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002510174475__p1262110579174">仅在本模块选择。</p> </div></div></div> </td> </tr> <tr id="ZH-CN_TOPIC_0000002510174475__row146214579171"><td class="cellrowborder" valign="top" width="13.068693130686931%"><p id="ZH-CN_TOPIC_0000002510174475__p1862145721720">targets</p> </td> <td class="cellrowborder" valign="top" width="12.75872412758724%"><p id="ZH-CN_TOPIC_0000002510174475__p10621157161719">config</p> </td> <td class="cellrowborder" valign="top" width="13.478652134786524%"><p id="ZH-CN_TOPIC_0000002510174475__p1262214577176">buildOption</p> </td> <td class="cellrowborder" valign="top" width="7.489251074892509%"><p id="ZH-CN_TOPIC_0000002510174475__p56223570178">对象</p> </td> <td class="cellrowborder" valign="top" width="10.718928107189281%"><p id="ZH-CN_TOPIC_0000002510174475__p18622105710170">否</p> </td> <td class="cellrowborder" valign="top" width="42.48575142485752%"><p id="ZH-CN_TOPIC_0000002510174475__p66221657111713">构建模式使用的具体配置信息，详情请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-hvigor-build-profile#section1010733210421">模块级buildOption</a>，其中不支持配置name、debuggable和copyFrom字段，优先级比buildOptionSet更高。</p> </td> </tr>  </tbody></table></div> </div> <div class="tiledSection"><h3 id="section1727865610255">合并编译选项规则<i class="anchor-icon anchor-icon-link" anchorid="section1727865610255" tips="复制节点链接"></i></h3><ol id="ZH-CN_TOPIC_0000002510174475__ol128221745418"><li id="li137059505110">工程级默认有三种buildMode：debug，release，test。</li><li id="li1072819521012">模块级默认有三种buildOption：default，debug，release。</li><li id="li72564542111">当buildModeBinder未定义target与buildOption的匹配关系时：<ul id="ZH-CN_TOPIC_0000002510174475__ul1678928026"><li id="li078913820217">release构建模式：为target匹配release option，但ohosTest分配default option；</li><li id="li1088217138219">debug构建模式：为target匹配debug option，但ohosTest分配default option；</li><li id="li113681183220">test构建模式：为target匹配debug option，ohosTest分配default option；</li><li id="li3172224822">自定义构建模式：所有target均匹配default option。</li></ul> </li><li id="li172016291234">工程级build-profile.json5中product的buildOption会对buildMode的buildOption继承覆写，即相同配置项product的优先级更高。</li><li id="li615472581817">模块级别的buildOption作为一个公共配置会被继承到buildOptionSet中的每一个buildOption中，如有copyFrom字段，也是先继承再进行复制，即buildOptionSet优先级比buildOption更高。</li><li id="li17832155982812">根据模块级中的buildModeBinder字段可以找到target对应的唯一buildOption；target中的buildOption优先级更高，采用继承覆盖策略与对应buildOption进行合并。</li><li id="li549093935210">命令行选项为最高优先级，在已整合的配置项基础上，采用覆写的方式，定点修订。</li></ol> </div> <div class="tiledSection"><h3 id="section1833892817416">编译选项继承覆写关系示意图<i class="anchor-icon anchor-icon-link" anchorid="section1833892817416" tips="复制节点链接"></i></h3><p id="ZH-CN_TOPIC_0000002510174475__p04221958183020">优先级：命令行配置&gt;targets配置&gt;buildOptionSet配置&gt;buildOption配置&gt;products配置&gt;buildModeSet配置</p> <p id="ZH-CN_TOPIC_0000002510174475__p12571399616"><span><img originheight="469" originwidth="880" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104917.08772049784488363419270606979704:50001231000000:2800:4F1B66B75936A891B786566F4D673D2DB6E54AC4D35386086D7A681445272035.png" width="880" height="469"></span></p> <p id="ZH-CN_TOPIC_0000002510174475__p1349361118132"></p> </div> </div> <div></div></div>