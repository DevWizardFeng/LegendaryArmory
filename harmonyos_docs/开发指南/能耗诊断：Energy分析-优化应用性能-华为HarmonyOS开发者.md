<h1 _ngcontent-njr-c119="" class="doc-title ng-star-inserted" title="能耗诊断：Energy分析"> 能耗诊断：Energy分析 </h1>

<div _ngcontent-njr-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000002172613021"><p id="ZH-CN_TOPIC_0000002478174388__p9838263560">DevEco Profiler提供Energy模板，帮助用户在应用运行过程中查看能耗信息，包括不同器件的能耗、整机温度以及能耗异常帧，从而方便用户对能耗问题进行调优。此外，Energy模板还集成了Frame、Time、CPU场景分析任务的功能，方便开发者在分析能耗问题的同时同步对比同一时段的其他资源占用情况。</p> <p id="ZH-CN_TOPIC_0000002478174388__p141865711218">该功能从DevEco Studio 5.1.0 Release版本开始支持。</p> <p id="ZH-CN_TOPIC_0000002478174388__p9318131916020">TV设备暂不支持使用Energy模板进行应用性能分析。</p> <div class="tiledSection"><h2 id="section889733410010">定位能耗问题<i class="anchor-icon anchor-icon-link" anchorid="section889733410010" tips="复制节点链接"></i></h2></div> <ol id="ZH-CN_TOPIC_0000002478174388__ol1889713418013"><li id="li1489712341005"><span>创建Energy模板任务并录制相关数据，操作方法可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/deep-recording">性能问题定位：深度录制</a>，或在会话区选择<strong>Open File</strong>，导入历史数据。</span></li><li id="li1367185945420"><span>录制结束等待处理数据完成。默认包含Energy Anomaly、Temperature以及Energy三条能耗相关泳道：</span><p></p><ul id="ZH-CN_TOPIC_0000002478174388__ul1420361718557"><li id="li13203141710550">Energy Anomaly泳道：展示能耗相关的异常帧信息。该泳道暂不支持在Wearable设备上进行应用性能分析；</li><li id="li1720310176556">Temperature泳道：展示整机的温度信息。该泳道暂不支持在2in1设备上进行应用性能分析；</li><li id="li172031176558">Energy泳道：展示各器件的能耗信息及整机电流信息。</li></ul> <p></p></li><li id="li1723200154110"><span>点击Temperature泳道，鼠标悬浮于泳道上可以查看对应时间范围的温度以及温度等级，帮助用户明确温度是否有明显上升，从而进行进一步的能耗定位。观察下方Detail区域，可以看到所选范围内的平均温度、最大温度以及最小温度。<span><img height="360.55949999999996" originheight="605" originwidth="1553" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104926.83282145407759536039701123672447:50001231000000:2800:F6DF366EC1F7E3B0CE690789A86F627FFDBF907CE2155532B1D0B27AD851C865.png" title="点击放大" width="920"></span></span></li><li id="li20535192410612"><span>点击Energy泳道，可在下方数据区查看录制范围内具体器件消耗的电量，器件包含：CPU、*Display（屏幕显示耗电量）、GPU、Location（定位模块耗电量）、Camera（相机耗电量）、Bluetooth（蓝牙功能耗电量）、Flashlight（闪光灯功能耗电量）、Audio（声音模块耗电量）、Wifi（无线功能耗电量）、Modem（信号模块耗电量）。*Device表示整机电流消耗情况。</span><p></p><p id="ZH-CN_TOPIC_0000002478174388__p810112613617">框选Energy泳道数据，Energy Detail中呈现框选时间段内的详情信息。根据不同器件的消耗可结合Callstack泳道的调用栈信息进行进一步分析。</p> <p id="ZH-CN_TOPIC_0000002478174388__p11756182811497"><span><img height="379.0285" originheight="633" originwidth="1545" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104926.23702552049759115512804127129974:50001231000000:2800:9F1FCDBCEC66A5C36518CA6B14EE425C216BDDF0DC3BB2223DFC0A209264C9AE.png" title="点击放大" width="920"></span></p> <p></p></li><li id="li18300191317380"><span>点击Energy Anomaly泳道，鼠标悬浮于泳道上，可以查看空跑的渲染帧数（RS Empty Run）、不能正常调用动态系统合成器（DSS）合成而直接使用GPU进行渲染导致能耗恶化的帧的次数（GPU Consumption）以及CPU高负载异常次数（High CPU Load）。观察下方Details区域，可以看到所选范围内的能耗异常详情，包括能耗异常类型、开始时间、结束时间、能耗异常数量。</span><p></p><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002478174388__p934731171515">2in1设备暂不支持查看RS Empty Run和GPU Consumption。</p> </div></div></div> <p id="ZH-CN_TOPIC_0000002478174388__p135791155161419"><span><img height="360.28350000000006" originheight="601" originwidth="1544" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104926.42640693281021260788045769140782:50001231000000:2800:8E4780592A1AE3457A83183DCE07794BE71830013AF987C0E0F4CAFD63E400FC.png" title="点击放大" width="920"></span></p> <p></p></li><li id="li023617584490"><span>点击对应的异常类型数据（RS Empty Run和GPU Consumption），右侧More区域展示该异常帧信息，包括帧编号、RS VsyncId、帧持续时间。点击右侧跳转按钮可以跳转到Frame泳道中对应的具体帧，可以根据<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-insight-session-frame#section58691959194312">查看指定Frame页面布局信息</a>详细查看页面组件的布局情况，以及识别存在能耗问题的组件。</span><p></p><p id="ZH-CN_TOPIC_0000002478174388__p4152816161418"><span><img height="368.598" originheight="615" originwidth="1544" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104926.78269355503337774503056019818398:50001231000000:2800:EF7918C944BD734C8759D23AA479E3920C85EB77E96775BCEF803746DF3F659B.png" title="点击放大" width="920"></span></p> <p></p></li><li id="li18716181145014"><span>点击CPU高负载异常数据，右侧More区域展示该异常帧信息，包括进程ID、线程ID、负载值。点击右侧跳转按钮可以跳转到对应线程调用栈。</span><p></p><p id="ZH-CN_TOPIC_0000002478174388__p203605510810"><span><img height="364.19350000000003" originheight="606" originwidth="1540" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104926.95474842333653454834656334606643:50001231000000:2800:AF29BBB706AA20CDC6F19F9F8119CE906F9FEBA8F4C599A627B0BEEC6879F380.png" title="点击放大" width="920"></span></p> <p></p></li></ol> <p id="ZH-CN_TOPIC_0000002478174388__p13575135110139"></p> </div> <div></div></div>