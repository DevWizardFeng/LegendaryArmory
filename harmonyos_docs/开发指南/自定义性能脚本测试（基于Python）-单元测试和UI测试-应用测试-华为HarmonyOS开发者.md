<h1 _ngcontent-mgu-c119="" class="doc-title ng-star-inserted" title="自定义性能脚本测试（基于Python）"> 自定义性能脚本测试（基于Python） </h1>

<div _ngcontent-mgu-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000001992305101"><div class="tiledSection"><h2 id="section625161019392"><strong>概述</strong><i class="anchor-icon anchor-icon-link" anchorid="section625161019392" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002506226429__p1083510234111">DevEco Testing场景化的性能测试服务，基于Hypium自动化测试框架，为开发者提供性能测试能力，支持使用Python编写应用的性能测试脚本。本指南主要讲解性能测试脚本的开发。</p> </div> <p id="ZH-CN_TOPIC_0000002506226429__p39193471562">Hypium基本API接口功能介绍，请参考指导：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/hypium-python-guidelines#section1141818121333" target="_blank">Hypium框架-API使用方法</a>。</p> <p id="ZH-CN_TOPIC_0000002506226429__p980014251021">测试服务执行测试脚本详情介绍，请参考指导：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/specialized-testing#section8642101711299">场景化性能测试</a>。</p> <div class="tiledSection"><h2 id="section7249943113918"><strong>环境搭建</strong><i class="anchor-icon anchor-icon-link" anchorid="section7249943113918" tips="复制节点链接"></i></h2></div> <p id="ZH-CN_TOPIC_0000002506226429__p69332271769"><strong>1、系统要求</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p1095155720612"><strong>Windows</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p1095657667">操作系统：Windows 10/11 64 位</p> <p id="ZH-CN_TOPIC_0000002506226429__p39519571562">内存：推荐使用16GB及以上（可用内存大于8G）</p> <p id="ZH-CN_TOPIC_0000002506226429__p695125714618">处理器：i7-10700@2.9GHz或者同等性能的型号</p> <p id="ZH-CN_TOPIC_0000002506226429__p4957577610">硬盘：可用硬盘空间100GB以上</p> <p id="ZH-CN_TOPIC_0000002506226429__p59513571610"><strong>Mac</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p129505711614">操作系统：MacOS 13及以上</p> <p id="ZH-CN_TOPIC_0000002506226429__p1595157669">内存：推荐使用16GB及以上（可用内存大于8G）</p> <p id="ZH-CN_TOPIC_0000002506226429__p39613571761">处理器：i7-10700@2.9GHz及以上或Apple silicon M系列</p> <p id="ZH-CN_TOPIC_0000002506226429__p15961357968">硬盘：可用硬盘空间100GB以上</p> <p id="ZH-CN_TOPIC_0000002506226429__p1534013917102"><strong>2、环境配置</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p196881113114"><strong>安装Python及Hypium</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p73476423104">参考指导：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/hypium-python-guidelines" target="_blank">应用UI测试-安装指导</a>。</p> <p id="ZH-CN_TOPIC_0000002506226429__p5107122714112"><strong>安装hypium_perf</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p1644645121215">1）打开Deveco Testing客户端-专项测试-场景化性能测试卡片，点击获取安装包，打开安装包目录，如下图。</p> <p id="ZH-CN_TOPIC_0000002506226429__p127761921182410"><span><img originheight="299" originwidth="705" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211160035.26426537434301255472366317321797:50001231000000:2800:74ED88CBB7D3D2D8C778B0919392C92171C9111FB726E28EC2473D0CA76244BB.png" width="705" height="299"></span></p> <p id="ZH-CN_TOPIC_0000002506226429__p62501252201415">2）由于存在依赖关系，需要依次步骤1目录下的hypium、hypium-perf、perf_analyzer等安装包。</p> <p id="ZH-CN_TOPIC_0000002506226429__p1278203571315">安装命令示例</p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" id="ZH-CN_TOPIC_0000002506226429__screen3946152592019" data-highlighted="yes"><ol class="linenums"><li>pip install hypium<span class="hljs-number">-6.0</span><span class="hljs-number">.7</span><span class="hljs-number">.210</span>.tar.gz</li><li>pip install hypium-perf<span class="hljs-number">-6.0</span><span class="hljs-number">.7</span><span class="hljs-number">.210</span>.tar.gz</li><li>pip install perf_analyzer<span class="hljs-number">-6.0</span><span class="hljs-number">.7</span><span class="hljs-number">.203b</span>0-py3-none-any.whl perf_collector<span class="hljs-number">-6.0</span><span class="hljs-number">.7</span><span class="hljs-number">.203b</span>0-py3-none-any.whl perf_common<span class="hljs-number">-6.0</span><span class="hljs-number">.7</span><span class="hljs-number">.203b</span>0-py3-none-any.whl perf_resource<span class="hljs-number">-6.0</span><span class="hljs-number">.7</span><span class="hljs-number">.203b</span>0-py3-none-any.whl</li></ol></pre></div></div> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p id="ZH-CN_TOPIC_0000002506226429__p1351840512">1、以上命令中安装包的版本仅供示例，具体版本号请参照实际下载版本。</p> <p id="ZH-CN_TOPIC_0000002506226429__p12769650151120">2、若安装 paddlepaddle 失败，请先安装当前目录下提供的 paddlepaddle 的 whl 包，然后再安装其他 Python 包。</p> </div></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p158681534983">3）安装完成后，可前往查看PyCharm-设置-项目-Python解释器中的软件包与已安装版本是否一致。</p> <div class="tiledSection"><h2 id="section17185124364016"><strong>脚本写作&amp;调试</strong><i class="anchor-icon anchor-icon-link" anchorid="section17185124364016" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h2 id="section10512131117018">脚本写作<i class="anchor-icon anchor-icon-link" anchorid="section10512131117018" tips="复制节点链接"></i></h2></div> <p id="ZH-CN_TOPIC_0000002506226429__p1713925322214"><strong>1、下载工程模板</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p2074326132618">1）打开Deveco Testing客户端-专项测试-场景化性能测试卡片，在测试前准备中，点击创建工程模板按钮。</p> <p id="ZH-CN_TOPIC_0000002506226429__p1596316710269"><span><img originheight="693" originwidth="819" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211160035.07113015271392367616015935738171:50001231000000:2800:D51052AEB8535C63D3C0BA4C5F5D8C55218E44391F0AA0B96BCA629D4F58C6B9.png" title="点击放大" width="819" height="693"></span></p> <p id="ZH-CN_TOPIC_0000002506226429__p1420688202612">2）填写工程项目名称，选择工程存放路径，点击开始生成按钮。</p> <p id="ZH-CN_TOPIC_0000002506226429__p10136152315237"><span><img originheight="638" originwidth="1346" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211160035.78125246648340342036687456503214:50001231000000:2800:0360E98F1B2FFA1AC11B89C8F4C8003B902AF77299A589EBBDAB0A7299FB1AFB.png" title="点击放大" width="920" height="436.0772659732541"></span></p> <p id="ZH-CN_TOPIC_0000002506226429__p15317523102317">3）在步骤2中填写的项目路径下，将自动生成用例模板。</p> <p id="ZH-CN_TOPIC_0000002506226429__p593071102310"><span><img originheight="189" originwidth="686" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211160035.32290761895225748486426573265751:50001231000000:2800:0E53C65E56F67A2E7E53CC9F3061DF5DF4164F6C2736867B486541A35B672ABD.png" width="686" height="189"></span></p> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p id="ZH-CN_TOPIC_0000002506226429__p83219587713">已创建的工程模板可在PyCharm中直接调试，或根据实际测试场景编写脚本。调试成功后，即可在DevEco Testing上执行性能测试。详细步骤请参阅本地脚本调试及测试执行章节。</p> </div></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p20469441149"></p> <p id="ZH-CN_TOPIC_0000002506226429__p668521222712"><strong>2、场景用例和原子用例使用说明</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p18927187192910">（1）测试步骤</p> <p id="ZH-CN_TOPIC_0000002506226429__p49272792910">用户的一次操作定义为一个测试步骤。</p> <p id="ZH-CN_TOPIC_0000002506226429__p1392716742912">（2）原子用例</p> <p id="ZH-CN_TOPIC_0000002506226429__p2052214501143">多个测试步骤组合完成一套操作，形成一个原子用例。原子用例存放在models目录中，对应脚本中的一个模型，具有独立的编号。原子用例是最小的用例单元，且可以被重复使用。</p> <p id="ZH-CN_TOPIC_0000002506226429__p79271574294">（3） 场景用例</p> <p id="ZH-CN_TOPIC_0000002506226429__p1889535201517">用户完成一件事情定义为一个场景用例。例如：用户在小红书浏览后去淘宝搜索购物。</p> <p id="ZH-CN_TOPIC_0000002506226429__p1388983513151">一个场景用例对应一个用例文件，编号与文件名一致，存放在testcases目录下。场景用例是测试执行的入口，一个场景用例可以由多个原子用例组成。例如，上述场景可以由两个原子用例组成：1）用户浏览小红书；2）用户在淘宝搜索并购物。这两个原子用例独立且可被重用。</p> <p id="ZH-CN_TOPIC_0000002506226429__p888963512150">如果有另一个场景用例：用户在小红书浏览后去京东购物，那么“用户浏览小红书”这个原子用例即可被重用。</p> <p id="ZH-CN_TOPIC_0000002506226429__p10889835191512">测试的执行入口和结果反馈均以场景用例为单位。</p> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><ul id="ZH-CN_TOPIC_0000002506226429__ul1558114561829"><li id="li1858165612210">1个性能场景用例由1-N个原子用例(Model)组成，1个原子用例对应1-N个测试步骤。</li><li id="li958205617220">每个场景用例都需要一个配对的json配置文件。</li><li id="li558214567215">场景用例包含的步骤数建议在30个步骤以下，步骤数过多可能会导致执行异常，建议进行用例拆分。</li><li id="li1058295610217">原子用例可以放在models目录下，推荐按照APP进行区分。</li></ul> </div></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p457617225417"></p> <p id="ZH-CN_TOPIC_0000002506226429__p27671110306"><strong>3、场景用例写作指导</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p120185023014"><strong>Testcase编写规范：</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p2011504305">Testcase对应的是测试场景中的一系列相关的原子用例操作序列。</p> <p id="ZH-CN_TOPIC_0000002506226429__p18015020308">（1）命名规范：</p> <p id="ZH-CN_TOPIC_0000002506226429__p190145053017">一个Testcase是一个独立的Python文件，Testcase编号与Python文件名一致，例：OH_PerfDemoTest.py。</p> <p id="ZH-CN_TOPIC_0000002506226429__p1901350143014">（2）继承规范：</p> <p id="ZH-CN_TOPIC_0000002506226429__p18075011306">Testcase必须继承PerfBaseCase类，PerfBaseCase会负责用例开始时的初始化流程，进行一些设备环境检查操作。</p> <p id="ZH-CN_TOPIC_0000002506226429__p50750183010">（3）注释规范：</p> <p id="ZH-CN_TOPIC_0000002506226429__p80175017306">将Testcase的场景描述放置在用例最上方，方便审视测试场景所包含的原子用例执行步骤对应关系。</p> <p id="ZH-CN_TOPIC_0000002506226429__p1110112183018"><strong>场景用例示例：</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-python" id="ZH-CN_TOPIC_0000002506226429__screen162722182552" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> os</li><li><span class="hljs-keyword">from</span> hypium.advance.perf.application_model.perf_basecase <span class="hljs-keyword">import</span> PerfBaseCase</li><li><span class="hljs-keyword">from</span> models.browse_huawei_video <span class="hljs-keyword">import</span> BrowseHuaweiVideo</li><li><span class="hljs-comment"># 场景用例名，和py文件名一致，可以自定义，但有推荐命名格式，需同步生成同名的json文件</span></li><li><span class="hljs-comment"># 测试用例应继承PerfBaseCase</span></li><li><span class="hljs-string">'''</span></li><li><span class="hljs-string">@场景用例</span></li><li><span class="hljs-string">浏览视频应用界面</span></li><li><span class="hljs-string">@预置条件</span></li><li><span class="hljs-string">无</span></li><li><span class="hljs-string">@原子用例</span></li><li><span class="hljs-string">视频页面浏览</span></li><li><span class="hljs-string">'''</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">OH_PerfDemoTest</span>(<span class="hljs-title class_ inherited__">PerfBaseCase</span>):</li><li>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, controllers</span>):  <span class="hljs-comment"># 初始化操作，这里一般情况下不作变动</span></li><li>        self.TAG = self.__class__.__name__</li><li>        self.tests = [  <span class="hljs-comment"># 指定场景用例执行入口</span></li><li>            <span class="hljs-string">"test_step"</span></li><li>        ]</li><li>        self.case_id = os.path.splitext(os.path.basename(__file__))[<span class="hljs-number">0</span>]  <span class="hljs-comment"># 文件名, 类名, case_id 三者保持一致</span></li><li>        self.case_scene_name = <span class="hljs-string">'浏览视频应用界面'</span>  <span class="hljs-comment"># 指定场景用例名称，用于显示在报告中</span></li><li>        case_pkg = <span class="hljs-string">'com.huawei.hmsapp.himovie'</span>  <span class="hljs-comment"># 指定被测试应用，用于采集应用资源使用信息，如果未配置，则不采集</span></li><li>        PerfBaseCase.__init__(self, controllers, case_pkg)  <span class="hljs-comment"># 调用父类初始化方法</span></li><li>        self.log.info(<span class="hljs-string">"Case id is %s"</span> % self.case_id)</li><li>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params">self</span>):</li><li>        <span class="hljs-comment"># 场景用例前置化操作，在test_step前执行的一些操作</span></li><li>        self.log.info(<span class="hljs-string">"预置工作:初始化设备开始................."</span> + self.devices[<span class="hljs-number">0</span>].device_sn)</li><li>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_step</span>(<span class="hljs-params">self</span>):</li><li>        <span class="hljs-comment"># 组装需要调用的原子用例，使用原子化用例构建场景步骤，可以一个场景用例添加多个相关的原子用例</span></li><li>        steps = [</li><li>            <span class="hljs-comment"># 原子用例需要传入driver，case_id</span></li><li>            BrowseHuaweiVideo(self.driver, self.case_id)</li><li>        ]</li><li>        <span class="hljs-comment"># 按顺序执行原子用例</span></li><li>        <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> steps:</li><li>            item.execute()</li><li>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown</span>(<span class="hljs-params">self</span>):</li><li>        <span class="hljs-comment"># 获取用例测试结果</span></li><li>        result = self.get_case_result()</li><li>        <span class="hljs-comment"># 场景用例结束后执行该teardown操作</span></li><li>        self.log.info(<span class="hljs-string">"收尾工作................., result is {}"</span>.<span class="hljs-built_in">format</span>(result))</li><li>        <span class="hljs-comment"># 此处为用例结尾时执行的PerfBaseCase的teardown方法，处理一些结束操作</span></li><li>        PerfBaseCase.teardown(self)</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p128771502017">OH_PerfDemoTest.json 配置文件示例</p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002506226429__screen667312277216" data-highlighted="yes"><ol class="linenums"><li>{</li><li>    <span class="hljs-string">"description"</span>: <span class="hljs-string">"Config for OpenHarmony devicetest test cases"</span>,</li><li>    <span class="hljs-string">"environment"</span>: [</li><li>        {</li><li>            <span class="hljs-string">"type"</span>: <span class="hljs-string">"device"</span></li><li>        }</li><li>    ],</li><li>    <span class="hljs-string">"driver"</span>: {</li><li>        <span class="hljs-string">"type"</span>: <span class="hljs-string">"DeviceTest"</span>,</li><li>        <span class="hljs-string">"py_file"</span>: [<span class="hljs-string">"OH_PerfDemoTest.py"</span>]</li><li>    }</li><li>}</li></ol></pre></div></div> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p id="ZH-CN_TOPIC_0000002506226429__p656471332615">py_file 的值表示场景用例文件相对于 testcases 文件夹的路径。</p> <p id="ZH-CN_TOPIC_0000002506226429__p1570073472612">例如，若场景用例文件直接位于 testcases 文件夹下，则 py_file 的值为 ["OH_PerfDemoTest.py"]，若场景用例文件位于 testcases 下的 test_01 文件夹中，则 py_file 的值为 ["test_01/OH_PerfDemoTest.py"]。</p> </div></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p5702057438"></p> <p id="ZH-CN_TOPIC_0000002506226429__p105551153212"><strong>4、原子用例写作指导</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p13490425101315"><strong>Model编写规范：</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p1649018259139">Model对应的是原子用例中的一组操作序列，在脚本编写时对应一个Model类。</p> <p id="ZH-CN_TOPIC_0000002506226429__p184901125101312">（1）命名规范：</p> <p id="ZH-CN_TOPIC_0000002506226429__p549092591313">一个Model是一个原子用例，Model类命名要有一定业务含义，例如：”视频页面浏览”命名为BrowseHuaweiVideo。</p> <p id="ZH-CN_TOPIC_0000002506226429__p1949052511134">（2）继承规范：</p> <p id="ZH-CN_TOPIC_0000002506226429__p14901425181318">Model类必须继承基类ModelBase，ModelBase会负责与采集器的交互，并且处理Model类抛出的异常。</p> <p id="ZH-CN_TOPIC_0000002506226429__p9490122511314">（3）注释规范：</p> <p id="ZH-CN_TOPIC_0000002506226429__p1149072513136">将原子用例操作步骤放置在用例最上方，方便审视Model类步骤和用例执行步骤对应关系。</p> <p id="ZH-CN_TOPIC_0000002506226429__p48761035181317"><strong>原子用例示例：</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-python" id="ZH-CN_TOPIC_0000002506226429__screen9797253112016" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">from</span> hypium <span class="hljs-keyword">import</span> BY</li><li><span class="hljs-keyword">from</span> hypium.advance.perf.application_model.model_base <span class="hljs-keyword">import</span> ModelBase</li><li><span class="hljs-keyword">from</span> hypium.advance.perf.driver_perf.idriver_perf <span class="hljs-keyword">import</span> IDriverPerf</li><li><span class="hljs-keyword">from</span> hypium.advance.perf.driver_perf.tag <span class="hljs-keyword">import</span> SceneType</li><li><span class="hljs-keyword">from</span> hypium.model <span class="hljs-keyword">import</span> UiParam</li><li><span class="hljs-string">'''</span></li><li><span class="hljs-string">@原子用例</span></li><li><span class="hljs-string">视频页面浏览</span></li><li><span class="hljs-string">@预置条件</span></li><li><span class="hljs-string">无</span></li><li><span class="hljs-string">@用例步骤</span></li><li><span class="hljs-string">1.冷启动视频</span></li><li><span class="hljs-string">2.上滑1次浏览界面</span></li><li><span class="hljs-string">3.下滑1次浏览界面</span></li><li><span class="hljs-string">4.切换到影院界面</span></li><li><span class="hljs-string">5.精确的向上滑动界面</span></li><li><span class="hljs-string">6.抛滑，向下滑动界面</span></li><li><span class="hljs-string">7.侧滑返回</span></li><li><span class="hljs-string">8.点击我的</span></li><li><span class="hljs-string">9.上滑返回桌面</span></li><li><span class="hljs-string">'''</span></li><li>APP_NAME = <span class="hljs-string">"视频"</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">BrowseHuaweiVideo</span>(<span class="hljs-title class_ inherited__">ModelBase</span>):  <span class="hljs-comment"># 原子用例统一继承ModelBase</span></li><li>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, uidriver: IDriverPerf, case_id</span>):  <span class="hljs-comment"># 进行初始化操作</span></li><li>        ModelBase.__init__(self, uidriver, case_id)  <span class="hljs-comment"># 调用父类初始化方法</span></li><li>        self.scene_no = <span class="hljs-string">"browse_huawei_video"</span>  <span class="hljs-comment"># 原子用例id</span></li><li>        self.scene_name = <span class="hljs-string">"浏览视频应用"</span>  <span class="hljs-comment"># 原子用例名字</span></li><li>        self.scene_type = <span class="hljs-string">"浏览视频应用场景"</span>  <span class="hljs-comment"># 原子用例类型</span></li><li>        self.scene_path = <span class="hljs-string">"日常高频操作-基础操作场景-系统通用操作场景-浏览视频应用"</span>  <span class="hljs-comment"># 原子用例所属路径</span></li><li>        self.driver = uidriver</li><li>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params">self</span>):</li><li>        <span class="hljs-comment"># 原子用例预置动作</span></li><li>        <span class="hljs-comment"># 停止指定的应用</span></li><li>        self.driver.stop_app(<span class="hljs-string">'com.huawei.hmsapp.himovie'</span>)</li><li>        <span class="hljs-comment"># 返回手机桌面主页</span></li><li>        self.driver.go_home()</li><li><span class="hljs-meta">    @ModelBase.scene_recover</span></li><li>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">execute</span>(<span class="hljs-params">self</span>):</li><li>        <span class="hljs-comment"># 1.冷启动应用'视频'</span></li><li>        <span class="hljs-comment"># start_application_perf 启动应用的接口，从主页开始滑动查找对应APP名的应用，应用需要在桌面上可见，找到应用直接点击，打开应用</span></li><li>        <span class="hljs-comment"># start_application_perf 接口为6.0版本新增接口请基于 Deveco Testing Hypium6.0.0 Release版本使用</span></li><li>        self.driver.start_application_perf(<span class="hljs-string">"视频"</span>, SceneType.COLD_START)</li><li>        <span class="hljs-comment"># 等待指定时间，等待界面稳定，再进行下一步操作</span></li><li>        self.driver.wait(<span class="hljs-number">3</span>)</li><li>        <span class="hljs-comment"># 2.上滑1次浏览界面</span></li><li>        <span class="hljs-comment"># swipe_perf 在屏幕上或者指定区域area中执行朝向指定方向direction的滑动操作</span></li><li>        self.driver.swipe_perf(UiParam.UP,</li><li>                               tag=self.create_tag(<span class="hljs-string">"上滑1次浏览界面"</span>, SceneType.NO_PAGE_SWITCH))</li><li>        <span class="hljs-comment"># 等待指定时间，等待界面稳定，再进行下一步操作</span></li><li>        self.driver.wait(<span class="hljs-number">1</span>)</li><li>        <span class="hljs-comment"># 3.下滑1次浏览界面</span></li><li>        self.driver.swipe_perf(UiParam.DOWN,</li><li>                               tag=self.create_tag(<span class="hljs-string">"下滑1次浏览界面"</span>, SceneType.NO_PAGE_SWITCH))</li><li>        <span class="hljs-comment"># 等待指定时间，等待界面稳定，再进行下一步操作</span></li><li>        self.driver.wait(<span class="hljs-number">1</span>)</li><li>        <span class="hljs-comment"># 4.使用find_component查找控件，返回一个控件对象（控件文本为影院）</span></li><li>        com = self.driver.find_component(BY.text(<span class="hljs-string">'影院'</span>))</li><li>        <span class="hljs-comment"># 可将控件对象传入touch_perf，会自动识别并转换为坐标点击</span></li><li>        self.driver.touch_perf(com, tag=self.create_tag(<span class="hljs-string">"切换到影院界面"</span>, SceneType.WITH_PAGE_SWITCH))</li><li>        <span class="hljs-comment"># 5.精确的向上滑动界面</span></li><li>        <span class="hljs-comment"># slide_perf 根据指定的起始和结束位置执行滑动操作，起始和结束的位置可以为控件或者屏幕坐标。该接口用于执行较为精准的滑动操作。</span></li><li>        self.driver.slide_perf((<span class="hljs-number">0.5</span>, <span class="hljs-number">0.8</span>), (<span class="hljs-number">0.5</span>, <span class="hljs-number">0.2</span>), slide_time=<span class="hljs-number">0.5</span>,</li><li>                               tag=self.create_tag(<span class="hljs-string">"精确的向上滑动界面"</span>, SceneType.NO_PAGE_SWITCH))</li><li>        <span class="hljs-comment"># 6.抛滑，向下滑动界面</span></li><li>        <span class="hljs-comment"># fling_perf 抛滑接口</span></li><li>        self.driver.fling_perf(UiParam.DOWN, tag=self.create_tag(<span class="hljs-string">"抛滑，向下滑动界面"</span>, SceneType.NO_PAGE_SWITCH))</li><li>        <span class="hljs-comment"># 对于不需要性能指标的接口，可以使用不带perf的接口</span></li><li>        self.driver.touch((<span class="hljs-number">0.5</span>, <span class="hljs-number">0.3</span>))</li><li>        <span class="hljs-comment"># 等待指定时间，等待界面稳定，再进行下一步操作</span></li><li>        self.driver.wait(<span class="hljs-number">3</span>)</li><li>        <span class="hljs-comment"># 7.侧滑返回，退出</span></li><li>        <span class="hljs-comment"># swipe_to_back_perf 滑动屏幕右侧返回</span></li><li>        self.driver.swipe_to_back_perf(tag=self.create_tag(<span class="hljs-string">"侧滑返回"</span>, SceneType.WITH_PAGE_SWITCH))</li><li>        <span class="hljs-comment"># 使用find_all_components根据BY指定的条件查找控件, 返回所有符合条件的控件，返回值是多个多个控件对象的值组成的列表（控件text值为我的）</span></li><li>        comps = self.driver.find_all_components(BY.text(<span class="hljs-string">"我的"</span>))</li><li>        <span class="hljs-comment"># 8.点击我的</span></li><li>        <span class="hljs-comment"># 可将控件对象传入touch_perf，会自动识别并转换为坐标点击</span></li><li>        self.driver.touch_perf(comps[<span class="hljs-number">0</span>], tag=self.create_tag(<span class="hljs-string">"点击我的"</span>, SceneType.WITH_PAGE_SWITCH))</li><li>        <span class="hljs-comment"># 9.上滑返回桌面</span></li><li>        <span class="hljs-comment"># swipe_to_home_perf 从屏幕底部上滑返回桌面</span></li><li>        self.driver.swipe_to_home_perf(tag=self.create_tag(<span class="hljs-string">"上滑返回桌面"</span>, SceneType.WITH_PAGE_SWITCH))</li><li>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown</span>(<span class="hljs-params">self</span>):</li><li>        <span class="hljs-comment"># 原子用例结束清理步骤</span></li><li>        <span class="hljs-comment"># 停止指定的应用</span></li><li>        self.driver.stop_app(<span class="hljs-string">'com.huawei.hmsapp.himovie'</span>)</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p1352383612371"><strong>5、使用UIViewer查看控件</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p186131723134317">使用DevEco Testing-&gt;实用工具-&gt;UIViewer工具，辅助脚本写作。</p> <p id="ZH-CN_TOPIC_0000002506226429__p9287230191611"><span><img originheight="803" originwidth="938" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211160036.91240180846488944581172343263762:50001231000000:2800:8D953B97AA383718F22DF6ACB49CA562D707A83FF60D5791C8CC79CA894F2718.png" width="920" height="787.5906183368869"></span></p> <div class="tiledSection"><h2 id="section265411010408">测试框架介绍<i class="anchor-icon anchor-icon-link" anchorid="section265411010408" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002506226429__p948725318387"><strong>1、功能介绍</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p1860141412399">性能测试框架作为Hypium自动化测试框架的增强能力，其设备操作API与Hypium保持一致。该框架主要负责性能自动化测试模型的流程控制，管理测试过程中的trace资源和视频资源采集，并提供自动化测试完成后的指标分析功能。</p> <p id="ZH-CN_TOPIC_0000002506226429__p10311195416315">Hypium基本API接口功能介绍，请参考指导：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/hypium-python-guidelines#section1141818121333" target="_blank">Hypium框架-API使用方法</a>。</p> <p id="ZH-CN_TOPIC_0000002506226429__p1986041423913">注：若测试场景包含隐私界面则无法录屏进行测试，例如银行类应用、密码界面等。</p> <p id="ZH-CN_TOPIC_0000002506226429__p168657399"><strong>2、场景tag</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p112864914393">场景tag是测试框架定义的一套用于标注测试步骤使用场景的标签。</p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-python" id="ZH-CN_TOPIC_0000002506226429__screen840313454113" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">def</span> <span class="hljs-title function_">create_tag</span>(<span class="hljs-params">self, step_name=<span class="hljs-string">""</span>, scene_type=<span class="hljs-string">""</span>, tag_id=<span class="hljs-string">""</span>, pkg_name=<span class="hljs-string">""</span>, dynamic_type=<span class="hljs-string">""</span>, action_type=<span class="hljs-string">""</span>, trigger_type=<span class="hljs-string">""</span>, is_first_swipe=<span class="hljs-literal">False</span>, wait_time=<span class="hljs-number">0</span>, is_watch=<span class="hljs-literal">False</span>, is_seek=<span class="hljs-literal">False</span>, is_short_video=<span class="hljs-literal">False</span>, need_wait_scene=<span class="hljs-literal">True</span>, ad_monitor=<span class="hljs-literal">False</span>, cold_start_wait_time=<span class="hljs-literal">None</span>, pop_up_window_enable=<span class="hljs-literal">True</span>, extend_param={}</span>)</li></ol></pre></div></div>  <div class="tablenoborder"><div class="tbBox"><table id="table144665359112" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002506226429__row6590635161114"><th align="left" class="cellrowborder" id="mcps1.3.79.9.1.3.1.1" valign="top" width="24.6%"><p id="ZH-CN_TOPIC_0000002506226429__p188481940194218">参数名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.79.9.1.3.1.2" valign="top" width="75.4%"><p id="ZH-CN_TOPIC_0000002506226429__p1259093581119">参数描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002506226429__row259063551113"><td class="cellrowborder" valign="top" width="24.6%"><p id="ZH-CN_TOPIC_0000002506226429__p13695751144219">step_name</p> </td> <td class="cellrowborder" valign="top" width="75.4%"><p id="ZH-CN_TOPIC_0000002506226429__p2069565114427">必填，测试步骤名字。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row3590153516115"><td class="cellrowborder" valign="top" width="24.6%"><p id="ZH-CN_TOPIC_0000002506226429__p16951951104219">scene_type</p> </td> <td class="cellrowborder" valign="top" width="75.4%"><p id="ZH-CN_TOPIC_0000002506226429__p1569565111427">必填，对应性能tag类型，从SceneType中选择。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row47513333313"><td class="cellrowborder" valign="top" width="24.6%"><p id="ZH-CN_TOPIC_0000002506226429__p375143183319">tag_id</p> </td> <td class="cellrowborder" valign="top" width="75.4%"><p id="ZH-CN_TOPIC_0000002506226429__p207515353314">非必填，指定标签id。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row459018356111"><td class="cellrowborder" valign="top" width="24.6%"><p id="ZH-CN_TOPIC_0000002506226429__p1769513519427">pkg_name</p> </td> <td class="cellrowborder" valign="top" width="75.4%"><p id="ZH-CN_TOPIC_0000002506226429__p26954518421">非必填，测试应用相关包名。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row10517256334"><td class="cellrowborder" valign="top" width="24.6%"><p id="ZH-CN_TOPIC_0000002506226429__p35725123317">dynamic_type</p> </td> <td class="cellrowborder" valign="top" width="75.4%"><p id="ZH-CN_TOPIC_0000002506226429__p15522516331">非必填，标记当前操作是否为动态阈值。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row1074975133717"><td class="cellrowborder" valign="top" width="24.6%"><p id="ZH-CN_TOPIC_0000002506226429__p16750135143719">action_type</p> </td> <td class="cellrowborder" valign="top" width="75.4%"><p id="ZH-CN_TOPIC_0000002506226429__p9750195173713">非必填，标记当前操作的类型。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row182259610387"><td class="cellrowborder" valign="top" width="24.6%"><p id="ZH-CN_TOPIC_0000002506226429__p1225166103817">is_first_swipe</p> </td> <td class="cellrowborder" valign="top" width="75.4%"><p id="ZH-CN_TOPIC_0000002506226429__p222510663814">默认False，标记是否为列表页面的首次滑动。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row527113372389"><td class="cellrowborder" valign="top" width="24.6%"><p id="ZH-CN_TOPIC_0000002506226429__p1589017454385">wait_time</p> </td> <td class="cellrowborder" valign="top" width="75.4%"><p id="ZH-CN_TOPIC_0000002506226429__p108905458389">默认0，增加采集时长，避免采集未包含全部动效。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row1459120352116"><td class="cellrowborder" valign="top" width="24.6%"><p id="ZH-CN_TOPIC_0000002506226429__p95681811133917">is_watch</p> </td> <td class="cellrowborder" valign="top" width="75.4%"><p id="ZH-CN_TOPIC_0000002506226429__p11695135116426">默认False，不做视频观看操作，设置为True会对页面进行30S观看，在scene_type为WATCH时生效。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row37457515402"><td class="cellrowborder" valign="top" width="24.6%"><p id="ZH-CN_TOPIC_0000002506226429__p1574655114020">is_seek</p> </td> <td class="cellrowborder" valign="top" width="75.4%"><p id="ZH-CN_TOPIC_0000002506226429__p1674619519406">默认False，设置为True表示该操作为滑动进度条的操作。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row3698124217404"><td class="cellrowborder" valign="top" width="24.6%"><p id="ZH-CN_TOPIC_0000002506226429__p669811429403">is_short_video</p> </td> <td class="cellrowborder" valign="top" width="75.4%"><p id="ZH-CN_TOPIC_0000002506226429__p156980426404">默认False，在scene_type字段为PLAY_VIDEO时生效，标记起播视频为长视频（False）或者短视频（True）。</p> <p id="ZH-CN_TOPIC_0000002506226429__p453104810148">（时长小于5分钟的视频为短视频）</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row65057401454"><td class="cellrowborder" valign="top" width="24.6%"><p id="ZH-CN_TOPIC_0000002506226429__p1150515408456">need_wait_scene</p> </td> <td class="cellrowborder" valign="top" width="75.4%"><p id="ZH-CN_TOPIC_0000002506226429__p550520407453">默认True，在执行完perf接口后需要进行预置等待时间，设置为False时，不需要进行等待。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row6245152154613"><td class="cellrowborder" valign="top" width="24.6%"><p id="ZH-CN_TOPIC_0000002506226429__p72451721134616">ad_monitor</p> </td> <td class="cellrowborder" valign="top" width="75.4%"><p id="ZH-CN_TOPIC_0000002506226429__p1824652164611">默认为False，在scene_type字段为COLD_START时生效，设置为True时，会进行广告检测。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row8201991478"><td class="cellrowborder" valign="top" width="24.6%"><p id="ZH-CN_TOPIC_0000002506226429__p32116917474">cold_start_wait_time</p> </td> <td class="cellrowborder" valign="top" width="75.4%"><p id="ZH-CN_TOPIC_0000002506226429__p16211296476">非必填，在scene_type字段为COLD_START时生效，表示冷启动后，需要额外等待的时间。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row72551130124818"><td class="cellrowborder" valign="top" width="24.6%"><p id="ZH-CN_TOPIC_0000002506226429__p182559304483">pop_up_window_enable</p> </td> <td class="cellrowborder" valign="top" width="75.4%"><p id="ZH-CN_TOPIC_0000002506226429__p3255143034818">默认True，在scene_type字段为COLD_START时生效，表示冷启动后，是否执行一次弹窗检测操作。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row193471848509"><td class="cellrowborder" valign="top" width="24.6%"><p id="ZH-CN_TOPIC_0000002506226429__p434715485015">extend_param</p> </td> <td class="cellrowborder" valign="top" width="75.4%"><p id="ZH-CN_TOPIC_0000002506226429__p143472445018">预留字段。</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p id="ZH-CN_TOPIC_0000002506226429__p860911148438">所有性能测试需要采集指标的步骤，有以下3个原则：</p> <ul id="ZH-CN_TOPIC_0000002506226429__ul86091314144317"><li id="li5609171419437">API接口使用 _perf方法。</li><li id="li13609131434315">必须带上场景tag。</li><li id="li16609171414438">每个步骤必须是单独的tag，不能多个步骤共用一个tag。</li></ul> </div></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p127752034164017"></p> <p id="ZH-CN_TOPIC_0000002506226429__p18402184584010"><strong>3、</strong><strong>场景tag类型</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-ruby" id="ZH-CN_TOPIC_0000002506226429__screen694018517515" data-highlighted="yes"><ol class="linenums"><li><span class=""><span class="hljs-keyword">class</span> </span><span class="hljs-title class_">SceneType</span>(<span class="hljs-title class_">Enum</span>):</li><li>    <span class=""><span class="hljs-comment"># </span></span><span class=""><span class="hljs-comment">起播时延</span></span></li><li>    <span class="hljs-variable constant_">PLAY_VIDEO</span> = <span class=""><span class="hljs-string">"PLAY_VIDEO"</span></span></li><li>    <span class=""><span class="hljs-comment"># </span></span><span class=""><span class="hljs-comment">冷启</span></span></li><li>    <span class="hljs-variable constant_">COLD_START</span> = <span class=""><span class="hljs-string">"COLD_START"</span></span></li><li>    <span class=""><span class="hljs-comment"># </span></span><span class=""><span class="hljs-comment">热启</span></span></li><li>    <span class="hljs-variable constant_">HOT_START</span> = <span class=""><span class="hljs-string">"HOT_START"</span></span></li><li>    <span class=""><span class="hljs-comment"># </span></span><span class=""><span class="hljs-comment">有页面切换</span></span></li><li>    <span class="hljs-variable constant_">WITH_PAGE_SWITCH</span> = <span class=""><span class="hljs-string">"WITH_PAGE_SWITCH"</span></span></li><li>    <span class=""><span class="hljs-comment"># </span></span><span class=""><span class="hljs-comment">无页面切换</span></span></li><li>    <span class="hljs-variable constant_">NO_PAGE_SWITCH</span> = <span class=""><span class="hljs-string">"NO_PAGE_SWITCH"</span></span></li><li>    <span class=""><span class="hljs-comment"># </span></span><span class=""><span class="hljs-comment">视频观看</span></span></li><li>    <span class="hljs-variable constant_">WATCH</span> = <span class=""><span class="hljs-string">"WATCH"</span></span></li></ol></pre></div></div> </div> <p id="ZH-CN_TOPIC_0000002506226429__p12159173114218">注：滑动和无页面切换操作的场景不测完成时延；冷启动操作前需要杀掉该后台应用，热启动操作前需要拉起该应用并置于后台。</p> <p id="ZH-CN_TOPIC_0000002506226429__p1610423714215"><strong>4、</strong><strong>hypium_perf常用接口和用法</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p17382174461">在Hypium的界面操作接口上封装一套perf接口，提供给性能测试使用。</p> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p id="ZH-CN_TOPIC_0000002506226429__p12882017559">以下所有示例代码中driver都是UiExplorerPerf对象。</p> </div></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p1731144511215"></p> <p id="ZH-CN_TOPIC_0000002506226429__p1131642392112"><strong>Phone常用接口</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p199721447267"><strong>1、点击</strong><strong>操作</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002506226429__screen153581399509" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">def</span> <span class=""><span class="hljs-title function_">touch_perf</span></span>(<span class="hljs-variable">self</span>, <span class="hljs-variable">target</span>: <strong><span class=""><span class="hljs-title class_">Union</span></span></strong>[<span class="hljs-title class_">By</span>, <span class="hljs-variable">UiComponent</span>, <span class=""><span class="hljs-variable">tuple</span></span>], <span class="hljs-variable">wait_time</span>: <span class=""><span class="hljs-title class_">float</span> </span>= <span class=""><span class="hljs-number">0.1</span></span>, <span class="hljs-variable">tag</span>: <span class="hljs-title class_">Tag</span> = <span class=""><span class="hljs-variable">None</span></span>)</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p1690117055014"><strong>接口说明</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p0793547105018">根据选定的控件或者坐标位置执行点击操作。</p> <p id="ZH-CN_TOPIC_0000002506226429__p107931471506"><strong>参数说明</strong></p>  <div class="tablenoborder"><div class="tbBox"><table id="table628950145114" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002506226429__row163088014515"><th align="left" class="cellrowborder" id="mcps1.3.91.1.4.1.1" valign="top" width="11.42114211421142%"><p id="ZH-CN_TOPIC_0000002506226429__p130819018515">序号</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.91.1.4.1.2" valign="top" width="12.68126812681268%"><p id="ZH-CN_TOPIC_0000002506226429__p123083065112">参数名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.91.1.4.1.3" valign="top" width="75.8975897589759%"><p id="ZH-CN_TOPIC_0000002506226429__p20308180105114">参数描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002506226429__row930870185112"><td class="cellrowborder" valign="top" width="11.42114211421142%"><p id="ZH-CN_TOPIC_0000002506226429__p1230810165111">1</p> </td> <td class="cellrowborder" valign="top" width="12.68126812681268%"><p id="ZH-CN_TOPIC_0000002506226429__p18308106514">target</p> </td> <td class="cellrowborder" valign="top" width="75.8975897589759%"><p id="ZH-CN_TOPIC_0000002506226429__p5308905511">需要点击的目标，可以为控件（通过By类指定）或者屏幕坐标（通过tuple类型指定，例如（100，200）， 其中100为x轴坐标，200为y轴坐标）， 或者使用find_component找到的控件对象。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row10308204517"><td class="cellrowborder" valign="top" width="11.42114211421142%"><p id="ZH-CN_TOPIC_0000002506226429__p133081307518">2</p> </td> <td class="cellrowborder" valign="top" width="12.68126812681268%"><p id="ZH-CN_TOPIC_0000002506226429__p103098095110">wait_time</p> </td> <td class="cellrowborder" valign="top" width="75.8975897589759%"><p id="ZH-CN_TOPIC_0000002506226429__p93098045118">点击后等待响应的时间，默认0.1s。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row1630913013519"><td class="cellrowborder" valign="top" width="11.42114211421142%"><p id="ZH-CN_TOPIC_0000002506226429__p1830910010514">3</p> </td> <td class="cellrowborder" valign="top" width="12.68126812681268%"><p id="ZH-CN_TOPIC_0000002506226429__p143098011516">tag</p> </td> <td class="cellrowborder" valign="top" width="75.8975897589759%"><p id="ZH-CN_TOPIC_0000002506226429__p12309150105117">对应性能场景tag，点击如果进入新界面，需使用WITH_PAGE_SWITCH（有界面切换的场景类型）。</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002506226429__p764745414562"><strong>使用示例</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-php" id="ZH-CN_TOPIC_0000002506226429__screen1643151445716" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment"># 点击文本为"hello"的控件</span></li><li>driver.<span class="hljs-title function_ invoke__">touch_perf</span>(BY.<span class="hljs-title function_ invoke__">text</span>(<span class=""><span class="hljs-string">"hello"</span></span>), tag=<span class="hljs-built_in">self</span>.<span class="hljs-title function_ invoke__">create_tag</span>(<span class="hljs-string">"</span><span class=""><span class="hljs-string">点击hello"</span></span>, SceneType.NO_PAGE_SWITCH))</li><li>
</li><li><span class="hljs-comment"># 点击（100，200）的位置</span></li><li>driver.<span class="hljs-title function_ invoke__">touch_perf</span>(（<span class="hljs-number">100</span>，<span class="hljs-number">200</span>）, tag=<span class="hljs-built_in">self</span>.<span class="hljs-title function_ invoke__">create_tag</span>(<span class=""><span class="hljs-string">"点击（100，200）"</span></span>, SceneType.NO_PAGE_SWITCH))</li><li>
</li><li><span class="hljs-comment"># 冷启动相机</span></li><li>APP_NAME=<span class="hljs-string">"相机"</span></li><li>icon_pos = <span class="hljs-built_in">self</span>.driver.<span class="hljs-title function_ invoke__">find_app_in_launcher</span>(APP_NAME)</li><li>driver.<span class="hljs-title function_ invoke__">touch_perf</span>(icon_pos, tag=<span class="hljs-built_in">self</span>.<span class="hljs-title function_ invoke__">create_tag</span>(<span class=""><span class="hljs-string">"相机冷启动"</span></span>, SceneType.COLD_START))</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p123601718937"></p> <p id="ZH-CN_TOPIC_0000002506226429__p1031246142518"><strong>2、长按</strong><strong>操作</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-python" id="ZH-CN_TOPIC_0000002506226429__screen10249756016" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">def</span> <span class=""><span class="hljs-title function_">long_</span></span><span class=""><span class="hljs-title function_">touch_perf</span></span>(<span class="hljs-params">self, target: </span><strong><span class=""><span class="hljs-params"><span class="hljs-type">Union</span></span></span></strong><span class="hljs-params">[By, UiComponent, </span><span class=""><span class="hljs-params"><span class="hljs-built_in">tuple</span></span></span><span class="hljs-params">], tag: Tag = </span><span class=""><span class="hljs-params"><span class="hljs-literal">None</span></span></span>)</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p15371154218"><strong>接口说明</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p43711341114">根据选定的控件或者坐标位置执行长按操作。</p> <p id="ZH-CN_TOPIC_0000002506226429__p1237144219"><strong>参数说明</strong></p>  <div class="tablenoborder"><div class="tbBox"><table id="table1437194314" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002506226429__row237111411117"><th align="left" class="cellrowborder" id="mcps1.3.100.1.4.1.1" valign="top" width="14.5014501450145%"><p id="ZH-CN_TOPIC_0000002506226429__p183712413119">序号</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.100.1.4.1.2" valign="top" width="11.011101110111012%"><p id="ZH-CN_TOPIC_0000002506226429__p103711246110">参数名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.100.1.4.1.3" valign="top" width="74.48744874487448%"><p id="ZH-CN_TOPIC_0000002506226429__p03711349119">参数描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002506226429__row153715415112"><td class="cellrowborder" valign="top" width="14.5014501450145%"><p id="ZH-CN_TOPIC_0000002506226429__p1137114414120">1</p> </td> <td class="cellrowborder" valign="top" width="11.011101110111012%"><p id="ZH-CN_TOPIC_0000002506226429__p43711649118">target</p> </td> <td class="cellrowborder" valign="top" width="74.48744874487448%"><p id="ZH-CN_TOPIC_0000002506226429__p9371141613">需要点击的目标，可以为控件（通过By类指定）或者屏幕坐标（通过tuple类型指定，例如（100，200）， 其中100为x轴坐标，200为y轴坐标），或者使用find_component找到的控件对象。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row1537174913"><td class="cellrowborder" valign="top" width="14.5014501450145%"><p id="ZH-CN_TOPIC_0000002506226429__p13711741717">2</p> </td> <td class="cellrowborder" valign="top" width="11.011101110111012%"><p id="ZH-CN_TOPIC_0000002506226429__p33711742119">tag</p> </td> <td class="cellrowborder" valign="top" width="74.48744874487448%"><p id="ZH-CN_TOPIC_0000002506226429__p155631937195418">对应性能场景tag，点击如果进入新界面，需使用WITH_PAGE_SWITCH（有界面切换的场景类型）。</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002506226429__p194034521317"><strong>使用示例</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-makefile" id="ZH-CN_TOPIC_0000002506226429__screen54031252316" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment"># 长按相机图标，弹出弹窗</span></li><li>APP_NAME=<span class="hljs-string">"相机"</span></li><li>icon_pos = self.driver.find_app_in_launcher(APP_NAME)</li><li>driver.long_touch_perf(icon_pos, tag=self.create_tag(<span class=""><span class="hljs-string">"长按相机图标弹出弹窗"</span></span>, SceneType.NO_PAGE_SWITCH))</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p1697721839"></p> <p id="ZH-CN_TOPIC_0000002506226429__p457110415315"><strong>3、双击</strong><strong>操作</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-python" id="ZH-CN_TOPIC_0000002506226429__screen10571114110318" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">def</span> <span class=""><span class="hljs-title function_">double_</span></span><span class=""><span class="hljs-title function_">touch_perf</span></span>(<span class="hljs-params">self, target: </span><strong><span class=""><span class="hljs-params"><span class="hljs-type">Union</span></span></span></strong><span class="hljs-params">[By, UiComponent, </span><span class=""><span class="hljs-params"><span class="hljs-built_in">tuple</span></span></span><span class="hljs-params">], tag: Tag = </span><span class=""><span class="hljs-params"><span class="hljs-literal">None</span></span></span>)</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p457194119318"><strong>接口说明</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p19571741036">根据选定的控件或者坐标位置执行双击操作。</p> <p id="ZH-CN_TOPIC_0000002506226429__p95711241434"><strong>参数说明</strong></p>  <div class="tablenoborder"><div class="tbBox"><table id="table857113411311" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002506226429__row155713411137"><th align="left" class="cellrowborder" id="mcps1.3.109.1.4.1.1" valign="top" width="14.5014501450145%"><p id="ZH-CN_TOPIC_0000002506226429__p12571141439">序号</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.109.1.4.1.2" valign="top" width="16.121612161216124%"><p id="ZH-CN_TOPIC_0000002506226429__p16571204118319">参数名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.109.1.4.1.3" valign="top" width="69.37693769376936%"><p id="ZH-CN_TOPIC_0000002506226429__p257111413319">参数描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002506226429__row757115414310"><td class="cellrowborder" valign="top" width="14.5014501450145%"><p id="ZH-CN_TOPIC_0000002506226429__p35711415316">1</p> </td> <td class="cellrowborder" valign="top" width="16.121612161216124%"><p id="ZH-CN_TOPIC_0000002506226429__p185711411318">target</p> </td> <td class="cellrowborder" valign="top" width="69.37693769376936%"><p id="ZH-CN_TOPIC_0000002506226429__p155711141236">需要点击的目标，可以为控件（通过By类指定）或者屏幕坐标（通过tuple类型指定，例如（100，200）， 其中100为x轴坐标，200为y轴坐标），或者使用find_component找到的控件对象。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row95711741430"><td class="cellrowborder" valign="top" width="14.5014501450145%"><p id="ZH-CN_TOPIC_0000002506226429__p1657119417317">2</p> </td> <td class="cellrowborder" valign="top" width="16.121612161216124%"><p id="ZH-CN_TOPIC_0000002506226429__p14571341434">tag</p> </td> <td class="cellrowborder" valign="top" width="69.37693769376936%"><p id="ZH-CN_TOPIC_0000002506226429__p35725411311">对应性能场景tag，点击如果进入新界面，需使用WITH_PAGE_SWITCH（有界面切换的场景类型）。</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002506226429__p582011206418"><strong>使用示例</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-less" id="ZH-CN_TOPIC_0000002506226429__screen0820320940" data-highlighted="yes"><ol class="linenums"><li># 双击确认按钮（控件文本为确认）</li><li><span class="hljs-selector-tag">driver</span><span class="hljs-selector-class">.double_touch_perf</span>(BY.<span class="hljs-built_in">text</span>(<span class="hljs-string">"确认"</span>), tag=self.<span class="hljs-built_in">create_tag</span>(<span class=""><span class="hljs-string">"双击确认按钮"</span></span>, SceneType.WITH_PAGE_SWITCH))</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p657723411312"></p> <p id="ZH-CN_TOPIC_0000002506226429__p117031746102515"><strong>4、执行指定距离的滑动操作</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002506226429__screen797117415108" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">def</span> <strong><span class=""><span class="hljs-title function_">swipe_perf</span></span></strong>(<span class="hljs-variable">self</span>, <span class="hljs-variable">direction</span>:<span class=""> <span class="hljs-title class_">str</span></span>, <span class="hljs-variable">distance</span>: <span class=""><span class="hljs-title class_">int</span></span> = <span class="hljs-number">60</span>, <span class="hljs-variable">start_point</span>: <span class=""><span class="hljs-title class_">tuple</span></span> = <span class=""><span class="hljs-variable">None</span></span>, <span class="hljs-variable">swipe_time</span>: <span class=""><span class="hljs-title class_">float</span></span> =<span class=""> <span class="hljs-variable">None</span></span>, <span class="hljs-variable">tag</span>: <span class="hljs-title class_">Tag</span> = <span class=""><span class="hljs-variable">None</span></span>)</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p20404153414100"></p> <p id="ZH-CN_TOPIC_0000002506226429__p187911535101019"><strong>接口说明</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p1791133515101">在屏幕上或者指定区域area中执行朝向指定方向direction的滑动操作。该接口用于执行不太精准的滑动操作。</p>  <div class="tablenoborder"><div class="tbBox"><table id="table11426130201114" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002506226429__row1744850101112"><th align="left" class="cellrowborder" id="mcps1.3.118.1.4.1.1" valign="top" width="10.474747474747476%"><p id="ZH-CN_TOPIC_0000002506226429__p18448170161115">序号</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.118.1.4.1.2" valign="top" width="14.898989898989898%"><p id="ZH-CN_TOPIC_0000002506226429__p104485011120">参数名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.118.1.4.1.3" valign="top" width="74.62626262626263%"><p id="ZH-CN_TOPIC_0000002506226429__p14486081117">参数描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002506226429__row8448190201117"><td class="cellrowborder" valign="top" width="10.474747474747476%"><p id="ZH-CN_TOPIC_0000002506226429__p18449605110">1</p> </td> <td class="cellrowborder" valign="top" width="14.898989898989898%"><p id="ZH-CN_TOPIC_0000002506226429__p19449709113">direction</p> </td> <td class="cellrowborder" valign="top" width="74.62626262626263%"><p id="ZH-CN_TOPIC_0000002506226429__p12449301113">滑动方向，目前支持：”LEFT” 左滑；”RIGHT” 右滑；”UP” 上滑；”DOWN” 下滑。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row14494011115"><td class="cellrowborder" valign="top" width="10.474747474747476%"><p id="ZH-CN_TOPIC_0000002506226429__p644911021111">2</p> </td> <td class="cellrowborder" valign="top" width="14.898989898989898%"><p id="ZH-CN_TOPIC_0000002506226429__p16449140101118">distance</p> </td> <td class="cellrowborder" valign="top" width="74.62626262626263%"><p id="ZH-CN_TOPIC_0000002506226429__p14491604115">相对滑动区域总长度的滑动距离，范围为1~100，表示滑动长度为滑动区域总长度的1%到100%， 默认为60。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row444920101112"><td class="cellrowborder" valign="top" width="10.474747474747476%"><p id="ZH-CN_TOPIC_0000002506226429__p16449130181116">3</p> </td> <td class="cellrowborder" valign="top" width="14.898989898989898%"><p id="ZH-CN_TOPIC_0000002506226429__p84493061116">start_point</p> </td> <td class="cellrowborder" valign="top" width="74.62626262626263%"><p id="ZH-CN_TOPIC_0000002506226429__p184498051113">滑动起始点，默认为None，表示在区域中间位置执行滑动操作，可以传入滑动起始点坐标，支持使用(0.5, 0.5)这样的比例坐标。当同时传入side和start_point的时候，仅start_point生效。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row14491708117"><td class="cellrowborder" valign="top" width="10.474747474747476%"><p id="ZH-CN_TOPIC_0000002506226429__p15449001110">4</p> </td> <td class="cellrowborder" valign="top" width="14.898989898989898%"><p id="ZH-CN_TOPIC_0000002506226429__p14449004113">swipe_time</p> </td> <td class="cellrowborder" valign="top" width="74.62626262626263%"><p id="ZH-CN_TOPIC_0000002506226429__p184496081113">滑动时间（s)， 默认0.3s。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row1144919021110"><td class="cellrowborder" valign="top" width="10.474747474747476%"><p id="ZH-CN_TOPIC_0000002506226429__p84493019115">5</p> </td> <td class="cellrowborder" valign="top" width="14.898989898989898%"><p id="ZH-CN_TOPIC_0000002506226429__p194492019116">tag</p> </td> <td class="cellrowborder" valign="top" width="74.62626262626263%"><p id="ZH-CN_TOPIC_0000002506226429__p1344913015116">对应性能场景tag，若该操作不涉及页面切换，需使用NO_PAGE_SWITCH。</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002506226429__p1694713577129"><strong>使用示例</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-php" id="ZH-CN_TOPIC_0000002506226429__screen1529316201311" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment"># 在屏幕上向上滑动40</span></li><li>driver.<span class="hljs-title function_ invoke__">swipe_perf</span>(UiParam.UP, distance=<span class="hljs-number">40</span>, tag=<span class="hljs-built_in">self</span>.<span class="hljs-title function_ invoke__">create_tag</span>(<span class=""><span class="hljs-string">"向上滑动"</span></span>, SceneType.NO_PAGE_SWITCH))</li><li>
</li><li><span class="hljs-comment"># 在屏幕上向右滑动, 滑动时间为0.1秒</span></li><li>driver.<span class="hljs-title function_ invoke__">swipe_perf</span>(UiParam.RIGHT, swipe_time=<span class="hljs-number">0.1</span>, tag=<span class="hljs-built_in">self</span>.<span class="hljs-title function_ invoke__">create_tag</span>(<span class=""><span class="hljs-string">"向右滑动"</span></span>, SceneType.NO_PAGE_SWITCH))</li><li>
</li><li><span class="hljs-comment"># 在屏幕起始点为比例坐标为(0.8, 0.8)的位置向上滑动30</span></li><li>driver.<span class="hljs-title function_ invoke__">swipe_perf</span>(UiParam.UP, <span class=""><span class="hljs-number">30</span></span>, start_point=(<span class=""><span class="hljs-number">0.8</span>, <span class="hljs-number">0.8</span></span>), tag=<span class="hljs-built_in">self</span>.<span class="hljs-title function_ invoke__">create_tag</span>(<span class=""><span class="hljs-string">"向上滑动"</span></span>, SceneType.NO_PAGE_SWITCH))</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p16869104217137"></p> <p id="ZH-CN_TOPIC_0000002506226429__p108111434101318"><strong>5、执行精准的滑动操作</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002506226429__screen15393151191315" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">def</span> <strong><span class=""><span class="hljs-title function_">slide_perf</span></span></strong>(<span class="hljs-variable">self</span>, <span class="hljs-variable">start</span>: <strong style="color: rgb(79,129,189);"><span class="hljs-title class_">Union</span></strong>[<span class="hljs-title class_">By</span>, <span class=""><span class="hljs-variable">tuple</span></span>], <span class="hljs-variable">end</span>: <span class="hljs-title class_">Union</span>[<span class="hljs-title class_">By</span>, <span class=""><span class="hljs-variable">tuple</span></span>], <span class="hljs-variable">slide_time</span>: <span class=""><span class="hljs-title class_">float</span></span> = <span class=""><span class="hljs-number">2</span></span>, <span class="hljs-variable">tag</span>: <span class="hljs-title class_">Tag</span> = <span class=""><span class="hljs-variable">None</span></span>)</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p13650184514135"><strong>接口说明</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p133491611171419">根据指定的起始和结束位置执行滑动操作，起始和结束的位置可以为控件或者屏幕坐标。该接口用于执行较为精准的滑动操作。</p> <p id="ZH-CN_TOPIC_0000002506226429__p6329027151419"><strong>参数说明</strong></p>  <div class="tablenoborder"><div class="tbBox"><table id="table93152482143" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002506226429__row733316489147"><th align="left" class="cellrowborder" id="mcps1.3.127.1.4.1.1" valign="top" width="11.303030303030305%"><p id="ZH-CN_TOPIC_0000002506226429__p1833384801418">序列</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.127.1.4.1.2" valign="top" width="15.161616161616163%"><p id="ZH-CN_TOPIC_0000002506226429__p5333248101410">参数名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.127.1.4.1.3" valign="top" width="73.53535353535354%"><p id="ZH-CN_TOPIC_0000002506226429__p16333048181412">参数描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002506226429__row14333124819142"><td class="cellrowborder" valign="top" width="11.303030303030305%"><p id="ZH-CN_TOPIC_0000002506226429__p3333548121414">1</p> </td> <td class="cellrowborder" valign="top" width="15.161616161616163%"><p id="ZH-CN_TOPIC_0000002506226429__p8333154810140">start</p> </td> <td class="cellrowborder" valign="top" width="73.53535353535354%"><p id="ZH-CN_TOPIC_0000002506226429__p1333164818147">滑动起始位置，可以为控件BY.text("滑块")或者坐标（100，200），或者使用find_component找到的控件对象。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row15333134811415"><td class="cellrowborder" valign="top" width="11.303030303030305%"><p id="ZH-CN_TOPIC_0000002506226429__p333344811410">2</p> </td> <td class="cellrowborder" valign="top" width="15.161616161616163%"><p id="ZH-CN_TOPIC_0000002506226429__p9334154811419">end</p> </td> <td class="cellrowborder" valign="top" width="73.53535353535354%"><p id="ZH-CN_TOPIC_0000002506226429__p1334194841413">滑动结束位置，可以为控件BY.text("最大值")或者坐标（100，200）, 或者使用find_component找到的控件对象。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row1533415482144"><td class="cellrowborder" valign="top" width="11.303030303030305%"><p id="ZH-CN_TOPIC_0000002506226429__p1533412482144">3</p> </td> <td class="cellrowborder" valign="top" width="15.161616161616163%"><p id="ZH-CN_TOPIC_0000002506226429__p5334184810149">slide_time</p> </td> <td class="cellrowborder" valign="top" width="73.53535353535354%"><p id="ZH-CN_TOPIC_0000002506226429__p0334164801414">滑动操作总时间，单位秒。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row43342484140"><td class="cellrowborder" valign="top" width="11.303030303030305%"><p id="ZH-CN_TOPIC_0000002506226429__p1033494821416">4</p> </td> <td class="cellrowborder" valign="top" width="15.161616161616163%"><p id="ZH-CN_TOPIC_0000002506226429__p43344483140">tag</p> </td> <td class="cellrowborder" valign="top" width="73.53535353535354%"><p id="ZH-CN_TOPIC_0000002506226429__p93341348191418">对应性能场景tag，若该操作不涉及页面切换，需使用NO_PAGE_SWITCH。</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002506226429__p165381029121415"><strong>使用示例</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-python" id="ZH-CN_TOPIC_0000002506226429__screen13762182171515" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment"># 从类型为Slider的控件滑动到文本为最大的控件</span></li><li>driver.slide_perf(BY.<span class="hljs-built_in">type</span>(<span class="hljs-string">"Slider"</span>), BY.text(<span class=""><span class="hljs-string">"最大"</span></span>),tag=self.create_tag(<span class=""><span class="hljs-string">"滑动到最大"</span></span>, SceneType.NO_PAGE_SWITCH))</li><li>
</li><li><span class="hljs-comment"># 从坐标100，200滑动到300，400</span></li><li>driver.slide_perf(（<span class="hljs-number">100</span>，<span class="hljs-number">200</span>）, (<span class=""><span class="hljs-number">300</span>, <span class="hljs-number">400</span></span>), tag=self.create_tag(<span class=""><span class="hljs-string">"向上滑动"</span></span>, SceneType.NO_PAGE_SWITCH))</li><li>
</li><li><span class="hljs-comment"># 从坐标100，200滑动到300，400, 滑动时间为3秒</span></li><li>driver.slide_perf(（<span class="hljs-number">100</span>，<span class="hljs-number">200</span>）, (<span class=""><span class="hljs-number">300</span>, <span class="hljs-number">400</span></span>), slide_time=<span class="hljs-number">3</span>, tag=self.create_tag(<span class=""><span class="hljs-string">"向上滑动"</span></span>, SceneType.NO_PAGE_SWITCH))</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p11369154611317"></p> <p id="ZH-CN_TOPIC_0000002506226429__p4592325154"><strong>6、拖拽</strong><strong>操作</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002506226429__screen17481271919" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">def</span> <strong style="color: rgb(192,0,0);"><span class="hljs-title function_">drag_perf</span></strong>(<span class="hljs-variable">self</span>, <span class="hljs-variable">start</span>: <strong><span class=""><span class="hljs-title class_">Union</span></span></strong>[<span class="hljs-title class_">By</span>, <span class=""><span class="hljs-variable">tuple</span></span>], <span class="hljs-variable">end</span>: <strong style="color: rgb(79,129,189);"><span class="hljs-title class_">Union</span></strong>[<span class="hljs-title class_">By</span>, <span class=""><span class="hljs-variable">tuple</span></span>],</li><li>                  <span class="hljs-variable">area</span>: <span class="hljs-title class_">By</span> = <span class="hljs-variable">None</span>, <span class="hljs-variable">press_time</span>: <span class=""><span class="hljs-title class_">float</span></span> = <span class=""><span class="hljs-number">1</span></span>, <span class="hljs-variable">drag_time</span>: <span class=""><span class="hljs-title class_">float</span></span> = <span class=""><span class="hljs-number">1</span></span>, <span class="hljs-variable">tag</span>: <span class="hljs-title class_">Tag</span> = <span class=""><span class="hljs-variable">None</span></span>)</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p1564117492181"><strong>接口说明</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p1186464914187">根据指定的起始和结束位置执行拖拽操作，起始和结束的位置可以为控件或者屏幕坐标。</p> <p id="ZH-CN_TOPIC_0000002506226429__p12621050101813"><strong>参数说明</strong></p>  <div class="tablenoborder"><div class="tbBox"><table id="table1896719352116" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002506226429__row11988113142117"><th align="left" class="cellrowborder" id="mcps1.3.136.1.4.1.1" valign="top" width="14.16161616161616%"><p id="ZH-CN_TOPIC_0000002506226429__p129889313210">序号</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.136.1.4.1.2" valign="top" width="11.313131313131313%"><p id="ZH-CN_TOPIC_0000002506226429__p998853132119">参数名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.136.1.4.1.3" valign="top" width="74.52525252525253%"><p id="ZH-CN_TOPIC_0000002506226429__p59888314214">参数描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002506226429__row17988183102115"><td class="cellrowborder" valign="top" width="14.16161616161616%"><p id="ZH-CN_TOPIC_0000002506226429__p1988139218">1</p> </td> <td class="cellrowborder" valign="top" width="11.313131313131313%"><p id="ZH-CN_TOPIC_0000002506226429__p18988173102117">start</p> </td> <td class="cellrowborder" valign="top" width="74.52525252525253%"><p id="ZH-CN_TOPIC_0000002506226429__p99881332113">拖拽起始位置，可以为控件BY.text("滑块")或者坐标（100，200），或者使用find_component找到的控件对象。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row1798818392120"><td class="cellrowborder" valign="top" width="14.16161616161616%"><p id="ZH-CN_TOPIC_0000002506226429__p99881336218">2</p> </td> <td class="cellrowborder" valign="top" width="11.313131313131313%"><p id="ZH-CN_TOPIC_0000002506226429__p1098818317213">end</p> </td> <td class="cellrowborder" valign="top" width="74.52525252525253%"><p id="ZH-CN_TOPIC_0000002506226429__p49881239214">拖拽结束位置，可以为控件BY.text("最大值")或者坐标（100，200），或者使用find_component找到的控件对象。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row1598811311218"><td class="cellrowborder" valign="top" width="14.16161616161616%"><p id="ZH-CN_TOPIC_0000002506226429__p17988839214">3</p> </td> <td class="cellrowborder" valign="top" width="11.313131313131313%"><p id="ZH-CN_TOPIC_0000002506226429__p5988183192114">area</p> </td> <td class="cellrowborder" valign="top" width="74.52525252525253%"><p id="ZH-CN_TOPIC_0000002506226429__p1098814332113">拖拽操作区域，可以为控件BY.text("画布")，或者使用find_component找到的控件对象。目前仅在start或者end为坐标时生效，指定区域后，当start和end为坐标时，其坐标将被视为相对于指定的区域的相对位置坐标。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row398883152118"><td class="cellrowborder" valign="top" width="14.16161616161616%"><p id="ZH-CN_TOPIC_0000002506226429__p19881235215">4</p> </td> <td class="cellrowborder" valign="top" width="11.313131313131313%"><p id="ZH-CN_TOPIC_0000002506226429__p19881535218">press_time</p> </td> <td class="cellrowborder" valign="top" width="74.52525252525253%"><p id="ZH-CN_TOPIC_0000002506226429__p898812319214">拖拽操作开始时长按的时间，默认为1s（暂不支持修改）。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row79881736211"><td class="cellrowborder" valign="top" width="14.16161616161616%"><p id="ZH-CN_TOPIC_0000002506226429__p169881632210">5</p> </td> <td class="cellrowborder" valign="top" width="11.313131313131313%"><p id="ZH-CN_TOPIC_0000002506226429__p5988735219">drag_time</p> </td> <td class="cellrowborder" valign="top" width="74.52525252525253%"><p id="ZH-CN_TOPIC_0000002506226429__p098883162119">拖动的时间， 默认为1s（整个拖拽操作总时间 = press_time + drag_time）。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row19882319215"><td class="cellrowborder" valign="top" width="14.16161616161616%"><p id="ZH-CN_TOPIC_0000002506226429__p5988113132117">6</p> </td> <td class="cellrowborder" valign="top" width="11.313131313131313%"><p id="ZH-CN_TOPIC_0000002506226429__p998814342110">tag</p> </td> <td class="cellrowborder" valign="top" width="74.52525252525253%"><p id="ZH-CN_TOPIC_0000002506226429__p698811315211">对应性能场景tag，若该操作不涉及页面切换，需使用NO_PAGE_SWITCH。</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002506226429__p133982632110"><strong>使用示例</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-vbnet" id="ZH-CN_TOPIC_0000002506226429__screen4965205102116" data-highlighted="yes"><ol class="linenums"><li># 拖拽文本为<span class="hljs-string">"文件.txt"</span>的控件到文本为<span class="hljs-string">"上传文件"</span>的控件</li><li>driver.drag_perf(<span class="hljs-keyword">BY</span>.<span class="hljs-keyword">text</span>(<span class=""><span class="hljs-string">"文件.txt"</span></span>), <span class="hljs-keyword">BY</span>.<span class="hljs-keyword">text</span>(<span class=""><span class="hljs-string">"上传文件"</span></span>), tag=self.create_tag(<span class="hljs-string">"</span><span class=""><span class="hljs-string">拖拽文件"</span></span>, SceneType.NO_PAGE_SWITCH))</li><li>
</li><li># 拖拽id为<span class="hljs-string">"start_bar"</span>的控件到坐标（<span class="hljs-number">100</span>，<span class="hljs-number">200</span>）的位置, 拖拽时间为<span class="hljs-number">2</span>秒</li><li>driver.drag_perf(<span class="hljs-keyword">BY</span>.<span class="hljs-keyword">key</span>(<span class=""><span class="hljs-string">"start_bar"</span></span>), （<span class="hljs-number">100</span>，<span class="hljs-number">200</span>）, drag_time=<span class="hljs-number">2</span>, tag=self.create_tag(<span class=""><span class="hljs-string">"拖拽start_bar"</span></span>, SceneType.NO_PAGE_SWITCH))</li><li>
</li><li># 在id为<span class="hljs-string">"Canvas"</span>的控件上从相对位置(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>)拖拽到（<span class="hljs-number">100</span>，<span class="hljs-number">200</span>）</li><li>driver.drag_perf((<span class=""><span class="hljs-number">10</span>, <span class="hljs-number">20</span></span>), （<span class="hljs-number">100</span>，<span class="hljs-number">200</span>）, area = <span class="hljs-keyword">BY</span>.id(<span class=""><span class="hljs-string">"Canvas"</span></span>), tag=self.create_tag(<span class=""><span class="hljs-string">"拖拽Canvas"</span></span>, SceneType.NO_PAGE_SWITCH))</li><li>
</li><li># 在滑动条上从相对位置(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>)拖拽到(<span class="hljs-number">10</span>, <span class="hljs-number">200</span>)</li><li>driver.drag_perf((<span class=""><span class="hljs-number">10</span>, <span class="hljs-number">10</span></span>), (<span class=""><span class="hljs-number">10</span>, <span class="hljs-number">200</span></span>), area=<span class="hljs-keyword">BY</span>.type(<span class=""><span class="hljs-string">"Slider"</span></span>), tag=self.create_tag(<span class=""><span class="hljs-string">"拖拽滑动条"</span></span>, SceneType.NO_PAGE_SWITCH))</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p697814438218"></p> <p id="ZH-CN_TOPIC_0000002506226429__p186241814182613"><strong>7、屏幕侧边滑动返回</strong><strong>操作</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-php" id="ZH-CN_TOPIC_0000002506226429__screen1365619385262" data-highlighted="yes"><ol class="linenums"><li>def <strong><span class=""><span class="hljs-title function_ invoke__">swipe_to_back_perf</span></span></strong>(<span class="hljs-built_in">self</span>, side=UiParam.RIGHT, <span class="hljs-attr">times</span>: <span class=""><span class="hljs-keyword">int</span></span> = <span class=""><span class="hljs-number">1</span></span>, <span class="hljs-attr">height</span>: <span class=""><span class="hljs-keyword">float</span></span> = <span class="hljs-number">0.5</span>, <span class="hljs-attr">tag</span>: <span class="">Tag</span> = <span class="">None</span>)</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p9446204511266"><strong>接口说明</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p0446845192617">滑动屏幕侧边返回。设备需开启触摸屏手势导航。</p> <p id="ZH-CN_TOPIC_0000002506226429__p1578118296269"><strong>参数说明</strong></p>  <div class="tablenoborder"><div class="tbBox"><table id="table97371804211" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002506226429__row37558819426"><th align="left" class="cellrowborder" id="mcps1.3.145.1.4.1.1" valign="top" width="12.676767676767678%"><p id="ZH-CN_TOPIC_0000002506226429__p167551085422">序号</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.145.1.4.1.2" valign="top" width="14.666666666666666%"><p id="ZH-CN_TOPIC_0000002506226429__p1375538174210">参数名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.145.1.4.1.3" valign="top" width="72.65656565656566%"><p id="ZH-CN_TOPIC_0000002506226429__p147551381423">参数描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002506226429__row1875558184215"><td class="cellrowborder" valign="top" width="12.676767676767678%"><p id="ZH-CN_TOPIC_0000002506226429__p157569819423">1</p> </td> <td class="cellrowborder" valign="top" width="14.666666666666666%"><p id="ZH-CN_TOPIC_0000002506226429__p1975610816422">side</p> </td> <td class="cellrowborder" valign="top" width="72.65656565656566%"><p id="ZH-CN_TOPIC_0000002506226429__p0756087423">滑动的位置，“RIGHT“表示在右边滑动返回，“LEFT“表示在左边滑动返回。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row1775698154214"><td class="cellrowborder" valign="top" width="12.676767676767678%"><p id="ZH-CN_TOPIC_0000002506226429__p1975658194218">2</p> </td> <td class="cellrowborder" valign="top" width="14.666666666666666%"><p id="ZH-CN_TOPIC_0000002506226429__p1275614815421">times</p> </td> <td class="cellrowborder" valign="top" width="72.65656565656566%"><p id="ZH-CN_TOPIC_0000002506226429__p37561286420">滑动次数，默认1次，某些场景可能需要两次才能返回。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row1175648144215"><td class="cellrowborder" valign="top" width="12.676767676767678%"><p id="ZH-CN_TOPIC_0000002506226429__p1275658114214">3</p> </td> <td class="cellrowborder" valign="top" width="14.666666666666666%"><p id="ZH-CN_TOPIC_0000002506226429__p475611811426">height</p> </td> <td class="cellrowborder" valign="top" width="72.65656565656566%"><p id="ZH-CN_TOPIC_0000002506226429__p147568844210">滑动位置在屏幕中Y轴的比例高度（从屏幕顶部开始计算）。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row3756128184215"><td class="cellrowborder" valign="top" width="12.676767676767678%"><p id="ZH-CN_TOPIC_0000002506226429__p147566814218">4</p> </td> <td class="cellrowborder" valign="top" width="14.666666666666666%"><p id="ZH-CN_TOPIC_0000002506226429__p1875612813420">tag</p> </td> <td class="cellrowborder" valign="top" width="72.65656565656566%"><p id="ZH-CN_TOPIC_0000002506226429__p2075658194211">对应性能场景tag，侧边返回有界面切换时，需使用WITH_PAGE_SWITCH。</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002506226429__p19759132154212"><strong>使用示例</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-php" id="ZH-CN_TOPIC_0000002506226429__screen1626115175014" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment"># 侧滑返回</span></li><li><span class="hljs-built_in">self</span>.driver.<span class="hljs-title function_ invoke__">swipe_to_back_perf</span>(tag=<span class="hljs-built_in">self</span>.<span class="hljs-title function_ invoke__">create_tag</span>(<span class=""><span class="hljs-string">"侧滑返回"</span></span>, SceneType.WITH_PAGE_SWITCH))</li><li>
</li><li><span class="hljs-comment"># 侧滑2次返回</span></li><li><span class="hljs-built_in">self</span>.driver.<span class="hljs-title function_ invoke__">swipe_to_back_perf</span>(times=<span class=""><span class="hljs-number">2</span></span>, tag=<span class="hljs-built_in">self</span>.<span class="hljs-title function_ invoke__">create_tag</span>(<span class=""><span class="hljs-string">"侧滑2次返回"</span></span>, SceneType.WITH_PAGE_SWITCH))</li><li>
</li><li><span class="hljs-comment"># 设置侧滑位置的高度比例为屏幕高度的80%，即在屏幕靠下的位置侧滑返回</span></li><li><span class="hljs-built_in">self</span>.driver.<span class="hljs-title function_ invoke__">swipe_to_back_perf</span>(height=<span class=""><span class="hljs-number">0.8</span></span>, tag=<span class="hljs-built_in">self</span>.<span class="hljs-title function_ invoke__">create_tag</span>(<span class=""><span class="hljs-string">"屏幕靠下的位置侧滑返回"</span></span>, SceneType.WITH_PAGE_SWITCH))</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p11143105244911"></p> <p id="ZH-CN_TOPIC_0000002506226429__p16844320135015"><strong>8、从屏幕底部上滑返回桌面</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-php" id="ZH-CN_TOPIC_0000002506226429__screen2057131911238" data-highlighted="yes"><ol class="linenums"><li>def <strong style="color: rgb(192,0,0);"><span class="hljs-title function_ invoke__">swipe_to_home_perf</span></strong>(<span class="hljs-built_in">self</span>, <span class="hljs-attr">times</span>:<span class=""> <span class="hljs-keyword">int</span></span> =<span class=""> <span class="hljs-number">1</span></span>, <span class="hljs-attr">tag</span>: <span class="">Tag</span> = <span class="">None</span>)</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p1179012514235"><strong>接口说明</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p1179092512316">屏幕底端上滑回到桌面，设备预置：设备开启触摸屏手势导航。</p> <p id="ZH-CN_TOPIC_0000002506226429__p17361840132320"><strong>参数说明</strong></p>  <div class="tablenoborder"><div class="tbBox"><table id="table1318975415235" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002506226429__row1720675412235"><th align="left" class="cellrowborder" id="mcps1.3.154.1.4.1.1" valign="top" width="12.171717171717171%"><p id="ZH-CN_TOPIC_0000002506226429__p82061954132311">序号</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.154.1.4.1.2" valign="top" width="13.686868686868689%"><p id="ZH-CN_TOPIC_0000002506226429__p5206155472313">参数名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.154.1.4.1.3" valign="top" width="74.14141414141415%"><p id="ZH-CN_TOPIC_0000002506226429__p1520665462315">参数描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002506226429__row11206185492319"><td class="cellrowborder" valign="top" width="12.171717171717171%"><p id="ZH-CN_TOPIC_0000002506226429__p112061954142315">1</p> </td> <td class="cellrowborder" valign="top" width="13.686868686868689%"><p id="ZH-CN_TOPIC_0000002506226429__p11206195410238">times</p> </td> <td class="cellrowborder" valign="top" width="74.14141414141415%"><p id="ZH-CN_TOPIC_0000002506226429__p11206125472319">上滑次数，默认1次，某些场景可能需要两次上滑才能返回桌面。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row142061254192316"><td class="cellrowborder" valign="top" width="12.171717171717171%"><p id="ZH-CN_TOPIC_0000002506226429__p17206135414237">2</p> </td> <td class="cellrowborder" valign="top" width="13.686868686868689%"><p id="ZH-CN_TOPIC_0000002506226429__p14206155410230">tag</p> </td> <td class="cellrowborder" valign="top" width="74.14141414141415%"><p id="ZH-CN_TOPIC_0000002506226429__p12206454102315">对应性能场景tag，返回桌面一般带有界面切换，需使用WITH_PAGE_SWITCH。</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002506226429__p1724611532415"><strong>使用示例</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-php" id="ZH-CN_TOPIC_0000002506226429__screen982941932410" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment"># 上滑返回桌面</span></li><li><span class="hljs-built_in">self</span>.driver.<span class="hljs-title function_ invoke__">swipe_to_home_perf</span>(tag=<span class="hljs-built_in">self</span>.<span class="hljs-title function_ invoke__">create_tag</span>(<span class=""><span class="hljs-string">"上滑返回桌面"</span></span>, SceneType.WITH_PAGE_SWITCH))</li><li>
</li><li><span class="hljs-comment"># 连续上滑2次返回桌面</span></li><li><span class="hljs-built_in">self</span>.driver.<span class="hljs-title function_ invoke__">swipe_to_home_perf</span>(times=<span class="hljs-number">2</span>, tag=<span class="hljs-built_in">self</span>.<span class="hljs-title function_ invoke__">create_tag</span>(<span class=""><span class="hljs-string">"上滑返回桌面"</span></span>, SceneType.WITH_PAGE_SWITCH))</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p7431141843014"></p> <p id="ZH-CN_TOPIC_0000002506226429__p7758921887"><strong>9、观看视频</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-python" id="ZH-CN_TOPIC_0000002506226429__screen09787437817" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">def</span> <span class=""><span class="hljs-title function_">watch_perf</span></span>(<span class="hljs-params">self, watch_time</span><span class=""><span class="hljs-params">, </span></span><span class="hljs-params">is_bullet_screen=<span class="hljs-literal">False</span>, is_full_screen=<span class="hljs-literal">False</span>, watch_tag_desc=<span class="hljs-literal">None</span></span>)</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p197824314810"><strong>接口说明</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p597894319815">在页面停留指定时间，进行观看视频操作。</p> <p id="ZH-CN_TOPIC_0000002506226429__p152653816102"><strong>参数说明</strong></p>  <div class="tablenoborder"><div class="tbBox"><table id="table326133819108" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002506226429__row82712383101"><th align="left" class="cellrowborder" id="mcps1.3.163.1.4.1.1" valign="top" width="11.515151515151516%"><p id="ZH-CN_TOPIC_0000002506226429__p527038171014">序号</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.163.1.4.1.2" valign="top" width="18.68686868686869%"><p id="ZH-CN_TOPIC_0000002506226429__p182723812109">参数名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.163.1.4.1.3" valign="top" width="69.79797979797979%"><p id="ZH-CN_TOPIC_0000002506226429__p827123831011">参数描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002506226429__row1727183881010"><td class="cellrowborder" valign="top" width="11.515151515151516%"><p id="ZH-CN_TOPIC_0000002506226429__p12713820109">1</p> </td> <td class="cellrowborder" valign="top" width="18.68686868686869%"><p id="ZH-CN_TOPIC_0000002506226429__p52743816101">watch_time</p> </td> <td class="cellrowborder" valign="top" width="69.79797979797979%"><p id="ZH-CN_TOPIC_0000002506226429__p1527123871014">观看时长，防止长时间观看行为导致视频过大，会按照30S对时长进行分割。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row22793881015"><td class="cellrowborder" valign="top" width="11.515151515151516%"><p id="ZH-CN_TOPIC_0000002506226429__p20271538191013">2</p> </td> <td class="cellrowborder" valign="top" width="18.68686868686869%"><p id="ZH-CN_TOPIC_0000002506226429__p82717380103">is_bullet_screen</p> </td> <td class="cellrowborder" valign="top" width="69.79797979797979%"><p id="ZH-CN_TOPIC_0000002506226429__p172733891016">默认False，设置为True时，对视频播放与弹幕进行卡顿检测。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row333601362011"><td class="cellrowborder" valign="top" width="11.515151515151516%"><p id="ZH-CN_TOPIC_0000002506226429__p23373138202">3</p> </td> <td class="cellrowborder" valign="top" width="18.68686868686869%"><p id="ZH-CN_TOPIC_0000002506226429__p1333711136204">is_full_screen</p> </td> <td class="cellrowborder" valign="top" width="69.79797979797979%"><p id="ZH-CN_TOPIC_0000002506226429__p3337131382017">默认False，设置为True时，表示当前为全屏播放。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row10922418206"><td class="cellrowborder" valign="top" width="11.515151515151516%"><p id="ZH-CN_TOPIC_0000002506226429__p19921241162015">4</p> </td> <td class="cellrowborder" valign="top" width="18.68686868686869%"><p id="ZH-CN_TOPIC_0000002506226429__p79212418201">watch_tag_desc</p> </td> <td class="cellrowborder" valign="top" width="69.79797979797979%"><p id="ZH-CN_TOPIC_0000002506226429__p14920413200">非必填，填写后会生成步骤操作描述，对于观看时间大于30S的场景，不建议设置。</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002506226429__p827103811106"><strong>使用示例</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-python" id="ZH-CN_TOPIC_0000002506226429__screen427123816101" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment"># 观看20S视频，检测视频卡顿</span></li><li>self.watch_perf(<span class="hljs-number">20</span>)</li><li>
</li><li><span class="hljs-comment"># 全屏观看20S视频，检测弹幕卡顿与视频卡顿</span></li><li>self.watch_perf(<span class="hljs-number">20</span>, is_bullet_screen=<span class="hljs-literal">True</span>, is_full_screen=<span class="hljs-literal">True</span>)</li><li>
</li><li><span class="hljs-comment"># 指定操作步骤观看视频</span></li><li>self.watch_perf(<span class="hljs-number">20</span>, watch_tag_desc=<span class="hljs-string">"观看直播视频"</span>)</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p19443913686"></p> <p id="ZH-CN_TOPIC_0000002506226429__p8876194213120"><strong>10、在桌面滑动查找APP，并打开应用</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-python" id="ZH-CN_TOPIC_0000002506226429__screen16554634229" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">def</span> <span class=""><span class="hljs-title function_">start_application_perf</span></span>(<span class="hljs-params">self, app_name</span><span class=""><span class="hljs-params">, </span></span><span class="hljs-params">scene_type, tag=<span class="hljs-literal">None</span></span>)</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p1955415343211"><strong>接口说明</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p1064415321177">基于APP名称，在桌面上滑动查找指定APP，并进行点击。设备预置：需提前下载APP，并放置在桌面，不要放入文件夹中。</p> <p id="ZH-CN_TOPIC_0000002506226429__p15541234524"><strong>参数说明</strong></p>  <div class="tablenoborder"><div class="tbBox"><table id="table155415341625" class="layoutFixed idpTab"><thead><tr id="ZH-CN_TOPIC_0000002506226429__row8555183417214"><th align="left" class="cellrowborder" id="mcps1.3.172.1.4.1.1" valign="top" width="14.353535353535355%"><p id="ZH-CN_TOPIC_0000002506226429__p1655512342210">序号</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.172.1.4.1.2" valign="top" width="16.97979797979798%"><p id="ZH-CN_TOPIC_0000002506226429__p7555034126">参数名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.172.1.4.1.3" valign="top" width="68.66666666666667%"><p id="ZH-CN_TOPIC_0000002506226429__p1855543413220">参数描述</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002506226429__row16555193410217"><td class="cellrowborder" valign="top" width="14.353535353535355%"><p id="ZH-CN_TOPIC_0000002506226429__p7555163410210">1</p> </td> <td class="cellrowborder" valign="top" width="16.97979797979798%"><p id="ZH-CN_TOPIC_0000002506226429__p35551734627">app_name</p> </td> <td class="cellrowborder" valign="top" width="68.66666666666667%"><p id="ZH-CN_TOPIC_0000002506226429__p755583413212">应用名称，与桌面上显示的名称一致。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row655518341424"><td class="cellrowborder" valign="top" width="14.353535353535355%"><p id="ZH-CN_TOPIC_0000002506226429__p055618340217">2</p> </td> <td class="cellrowborder" valign="top" width="16.97979797979798%"><p id="ZH-CN_TOPIC_0000002506226429__p1755610340211">scene_type</p> </td> <td class="cellrowborder" valign="top" width="68.66666666666667%"><p id="ZH-CN_TOPIC_0000002506226429__p1556143413217">应用启动方式，为SceneType.COLD_START或者SceneType.HOT_START。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002506226429__row1855683419211"><td class="cellrowborder" valign="top" width="14.353535353535355%"><p id="ZH-CN_TOPIC_0000002506226429__p855618346211">3</p> </td> <td class="cellrowborder" valign="top" width="16.97979797979798%"><p id="ZH-CN_TOPIC_0000002506226429__p85562348213">tag</p> </td> <td class="cellrowborder" valign="top" width="68.66666666666667%"><p id="ZH-CN_TOPIC_0000002506226429__p115565341621">非必填，如果没赋值，则会根据scene_type自动生成。</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002506226429__p1055663415215"><strong>使用示例</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-php" id="ZH-CN_TOPIC_0000002506226429__screen45570342217" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment"># 启动设置应用</span></li><li><span class="hljs-built_in">self</span>.driver.<span class="hljs-title function_ invoke__">start_application_perf</span>(<span class="hljs-string">"设置"</span>, SceneType.COLD_START)</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p59523375214"></p> <p id="ZH-CN_TOPIC_0000002506226429__p12891455164511"><strong>使用示例</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-makefile" id="ZH-CN_TOPIC_0000002506226429__screen1655712417462" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment"># 查找需要操作的窗口</span></li><li>window = driver.find_window(WindowFilter().bundle_name(package_name))</li><li><span class="hljs-comment"># 点击窗口最小化</span></li><li>driver.minimize_window_perf(window, tag=self.create_tag(<span class=""><span class="hljs-string">"点击窗口最小化"</span></span>, </li><li>scene_type=SceneType.WITH_PAGE_SWITCH))</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p4541155316015"></p> <p id="ZH-CN_TOPIC_0000002506226429__p175993421107"><strong>常用视频检测场景介绍</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p212815291810"><strong>1、视频起播时延测试步骤</strong></p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-python" id="ZH-CN_TOPIC_0000002506226429__screen24901471328" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment"># 点击视频图框播放视频</span></li><li>self.driver.touch_perf(BY.text(<span class="hljs-string">"视频"</span>), tag=self.create_tag(<span class="hljs-string">"点击播放长视频"</span>, SceneType.PLAY_VIDEO, is_seek=<span class="hljs-literal">False</span>, is_short_video=<span class="hljs-literal">True</span>))</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p1466112341549"></p> <p id="ZH-CN_TOPIC_0000002506226429__p1794463516614"><strong>2、视频卡顿测试步骤</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p574411591169">场景1：测试视频卡顿</p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-php" id="ZH-CN_TOPIC_0000002506226429__screen56120210715" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment"># 观看180S视频</span></li><li><span class="hljs-built_in">self</span>.<span class="hljs-title function_ invoke__">watch_perf</span>(<span class="hljs-number">180</span>)</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p107818514812">场景2：测试起播时延与视频卡顿</p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-python" id="ZH-CN_TOPIC_0000002506226429__screen1361519381182" data-highlighted="yes"><ol class="linenums"><li>watch_tag=self.create_tag(<span class="hljs-string">"点击播放长视频并观看"</span>, SceneType.PLAY_VIDEO, is_seek=<span class="hljs-literal">False</span>, is_short_video=<span class="hljs-literal">True</span>)</li><li>watch_tag.watch_time=<span class="hljs-number">10</span></li><li><span class="hljs-comment"># 点击视频图框播放视频，并观看10S视频</span></li><li>self.driver.touch_perf(BY.text(<span class="hljs-string">"视频"</span>), tag=watch_tag)</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p191771489"></p> <div class="tiledSection"><h2 id="section12238141610538">本地脚本调试<i class="anchor-icon anchor-icon-link" anchorid="section12238141610538" tips="复制节点链接"></i></h2></div> <p id="ZH-CN_TOPIC_0000002506226429__p7947131211464"><strong>1、</strong><strong>main.py实现</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p78533391095"><strong>方法一：</strong>在main.py中修改cmd命令，将参数替换为本地调试的场景用例名称。</p> <p id="ZH-CN_TOPIC_0000002506226429__p11786752144519"><span><img originheight="545" originwidth="1183" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211160036.53258987659356758415976938680935:50001231000000:2800:6F3A1DABC0FC0A33F8C2D8CC090C71931A01D1D372433BAC7D9A6564E4E791F3.png" title="点击放大" width="920" height="423.8377007607777"></span></p> <p id="ZH-CN_TOPIC_0000002506226429__p4218717565">main.py示例</p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-python" id="ZH-CN_TOPIC_0000002506226429__screen013222710551" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> time</li><li><span class="hljs-keyword">from</span> xdevice.__main__ <span class="hljs-keyword">import</span> main_process</li><li><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:</li><li>    <span class="hljs-keyword">try</span>:</li><li>        pass_dict = <span class="hljs-built_in">dict</span>()</li><li>        pass_dict[<span class="hljs-string">'task_id'</span>] = time.strftime(<span class="hljs-string">'%Y%m%d%H%M%S'</span>, time.localtime())</li><li>        cmd = <span class="hljs-string">'run -l OH_PerfDemoTest -ta pass_through:'</span> + <span class="hljs-built_in">str</span>(pass_dict)</li><li>        main_process(cmd)</li><li>        time.sleep(<span class="hljs-number">10</span>)</li><li>    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:</li><li>        <span class="hljs-built_in">print</span>(e)</li><li>    <span class="hljs-keyword">finally</span>:</li><li>        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Task is End"</span>)</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p151153412567"></p> <p id="ZH-CN_TOPIC_0000002506226429__p8318121710561"><strong>方法二：</strong>在main.py同级目录下，新建一个json文件，命名为action_testsuite.json，并在main.py中修改cmd命令。</p> <p id="ZH-CN_TOPIC_0000002506226429__p153768571996"><span><img originheight="290" originwidth="691" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211160036.59600806355487389338608302887029:50001231000000:2800:AB8FCC8A45A31943AD756C0B3130237697883764211FCC823962C9E2AE855153.png" title="点击放大" width="691" height="290"></span></p> <p id="ZH-CN_TOPIC_0000002506226429__p12453132435620">action_testsuite.json示例</p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002506226429__screen14706741195614" data-highlighted="yes"><ol class="linenums"><li>{</li><li>    <span class="hljs-string">"description"</span>: <span class="hljs-string">"hypium test case"</span>,</li><li>    <span class="hljs-string">"environment"</span>: [</li><li>        {</li><li>            <span class="hljs-string">"type"</span>: <span class="hljs-string">"device"</span></li><li>        }</li><li>    ],</li><li>    <span class="hljs-string">"driver"</span>: {</li><li>        <span class="hljs-string">"type"</span>: <span class="hljs-string">"DeviceTest"</span>,</li><li>        <span class="hljs-string">"py_file"</span>: [</li><li>            <span class="hljs-string">"OH_PerfDemoTest.py"</span></li><li>        ]</li><li>    },</li><li>    <span class="hljs-string">"kits"</span>: [</li><li>    ]</li><li>}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p51513467487"></p> <p id="ZH-CN_TOPIC_0000002506226429__p199832594813"><strong>2、本地多用例执行方式</strong></p> <p id="ZH-CN_TOPIC_0000002506226429__p97231323165819">一个测试任务执行多个场景用例，而不必每个场景用例单独执行，任务会按照顺序依次执行指定的场景用例。</p> <p id="ZH-CN_TOPIC_0000002506226429__p1972352385819"><strong>方法一：</strong>在main.py 的cmd命令中指定多个case，用”;”分割。</p> <p id="ZH-CN_TOPIC_0000002506226429__p177242614813"><span><img originheight="475" originwidth="1213" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211160036.20845559308309712451295042273055:50001231000000:2800:CCA7D217FC8DAEB4C09018A4FC78EB2473F1A288CC059F7DBA58C7C9E3ABE603.png" title="点击放大" width="920" height="360.26380873866447"></span></p> <p id="ZH-CN_TOPIC_0000002506226429__p1779439175810"><strong>方法二：</strong>在json文件配置，并在main.py的cmd命令参数中指定json文件。</p> <p id="ZH-CN_TOPIC_0000002506226429__p846714595591"><span><img originheight="290" originwidth="691" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211160036.93210948928552429723550109647457:50001231000000:2800:A57BDEC72DF92F0EC88E703DA46A1E75E88398228CAB90944959623C282EABDB.png" title="点击放大" width="691" height="290"></span></p> <p id="ZH-CN_TOPIC_0000002506226429__p11388123616585">action_testsuite.json示例</p> <div _ngcontent-mgu-c106="" class="highlight-div"><div _ngcontent-mgu-c106="" class="highlight-div-header"><div _ngcontent-mgu-c106="" class="highlight-div-header-left"><div _ngcontent-mgu-c106="" class="handle-button expand-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mgu-c106="" class="highlight-div-header-right"><div _ngcontent-mgu-c106="" class="handle-button ai-button"></div><div _ngcontent-mgu-c106="" class="handle-button line-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mgu-c106="" class="handle-button theme-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mgu-c106="" class="handle-button copy-button"><div _ngcontent-mgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mgu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002506226429__screen562214765910" data-highlighted="yes"><ol class="linenums"><li>{</li><li>    <span class="hljs-string">"description"</span>: <span class="hljs-string">"hypium test case"</span>,</li><li>    <span class="hljs-string">"environment"</span>: [</li><li>        {</li><li>            <span class="hljs-string">"type"</span>: <span class="hljs-string">"device"</span></li><li>        }</li><li>    ],</li><li>    <span class="hljs-string">"driver"</span>: {</li><li>        <span class="hljs-string">"type"</span>: <span class="hljs-string">"DeviceTest"</span>,</li><li>        <span class="hljs-string">"py_file"</span>: [</li><li>            <span class="hljs-string">"Open_Perf_Test.py"</span>,</li><li>            <span class="hljs-string">"OH_PerfDemoTest.py"</span></li><li>        ]</li><li>    },</li><li>    <span class="hljs-string">"kits"</span>: [</li><li>    ]</li><li>}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002506226429__p596175923711"></p> <div class="tiledSection"><h2 id="section13501553423"><strong>性能脚本测试执行</strong><i class="anchor-icon anchor-icon-link" anchorid="section13501553423" tips="复制节点链接"></i></h2></div> <p id="ZH-CN_TOPIC_0000002506226429__p8060118">性能脚本本地调试验证成功后，可在DevEco Testing创建性能测试任务，请查看文档：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/specialized-testing#section8642101711299">场景化性能测试-任务创建</a>。</p> <p id="ZH-CN_TOPIC_0000002506226429__p184471546104119"></p> </div> <div></div></div>