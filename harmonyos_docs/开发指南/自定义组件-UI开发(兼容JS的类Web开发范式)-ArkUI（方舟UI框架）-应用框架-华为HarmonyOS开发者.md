<h1 _ngcontent-moe-c119="" class="doc-title ng-star-inserted" title="自定义组件"> 自定义组件 </h1>

<div _ngcontent-moe-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>使用兼容JS的类Web开发范式的方舟开发框架支持自定义组件，用户可根据业务需求将已有的组件进行扩展，增加自定义的私有属性和事件，封装成新的组件，方便在工程中多次调用，提高页面布局代码的可读性。具体的封装方法示例如下：</p>    <ul>     <li>      <p>构建自定义组件</p>      <div _ngcontent-moe-c106="" class="highlight-div"><div _ngcontent-moe-c106="" class="highlight-div-header"><div _ngcontent-moe-c106="" class="highlight-div-header-left"><div _ngcontent-moe-c106="" class="handle-button expand-button"><div _ngcontent-moe-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-moe-c106="" class="highlight-div-header-right"><div _ngcontent-moe-c106="" class="handle-button ai-button"></div><div _ngcontent-moe-c106="" class="handle-button line-button"><div _ngcontent-moe-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-moe-c106="" class="handle-button theme-button"><div _ngcontent-moe-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-moe-c106="" class="handle-button copy-button"><div _ngcontent-moe-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-moe-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- comp.hml --&gt;</span></li><li> <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"item"</span>&gt;</span> </li><li>   <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"title-style"</span>&gt;</span>{{title}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>   <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-style"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"childClicked"</span> <span class="hljs-attr">focusable</span>=<span class="hljs-string">"true"</span>&gt;</span>点击这里查看隐藏文本<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>   <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-style"</span> <span class="hljs-attr">if</span>=<span class="hljs-string">"{{showObj}}"</span>&gt;</span>hello world<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li> <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>      <div _ngcontent-moe-c106="" class="highlight-div"><div _ngcontent-moe-c106="" class="highlight-div-header"><div _ngcontent-moe-c106="" class="highlight-div-header-left"><div _ngcontent-moe-c106="" class="handle-button expand-button"><div _ngcontent-moe-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-moe-c106="" class="highlight-div-header-right"><div _ngcontent-moe-c106="" class="handle-button ai-button"></div><div _ngcontent-moe-c106="" class="handle-button line-button"><div _ngcontent-moe-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-moe-c106="" class="handle-button theme-button"><div _ngcontent-moe-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-moe-c106="" class="handle-button copy-button"><div _ngcontent-moe-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-moe-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* comp.css */</span></li><li> <span class="hljs-selector-class">.item</span> {</li><li>   <span class="hljs-attribute">width</span>: <span class="hljs-number">700px</span>;</li><li>   <span class="hljs-attribute">flex-direction</span>: column;</li><li>   <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;</li><li>   <span class="hljs-attribute">align-items</span>: center;</li><li>   <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">100px</span>;</li><li> }</li><li> <span class="hljs-selector-class">.text-style</span> {</li><li>   <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</li><li>   <span class="hljs-attribute">text-align</span>: center;</li><li>   <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">500</span>;</li><li>   <span class="hljs-attribute">font-family</span>: Courier;</li><li>   <span class="hljs-attribute">font-size</span>: <span class="hljs-number">36px</span>;</li><li> }</li><li> <span class="hljs-selector-class">.title-style</span> {</li><li>   <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">500</span>;</li><li>   <span class="hljs-attribute">font-family</span>: Courier;</li><li>   <span class="hljs-attribute">font-size</span>: <span class="hljs-number">50px</span>;</li><li>   <span class="hljs-attribute">color</span>: <span class="hljs-number">#483d8b</span>;</li><li> }</li></ol></pre></div></div>      <div _ngcontent-moe-c106="" class="highlight-div"><div _ngcontent-moe-c106="" class="highlight-div-header"><div _ngcontent-moe-c106="" class="highlight-div-header-left"><div _ngcontent-moe-c106="" class="handle-button expand-button"><div _ngcontent-moe-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-moe-c106="" class="highlight-div-header-right"><div _ngcontent-moe-c106="" class="handle-button ai-button"></div><div _ngcontent-moe-c106="" class="handle-button line-button"><div _ngcontent-moe-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-moe-c106="" class="handle-button theme-button"><div _ngcontent-moe-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-moe-c106="" class="handle-button copy-button"><div _ngcontent-moe-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-moe-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// comp.js</span></li><li> <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>   <span class="hljs-attr">props</span>: {</li><li>     <span class="hljs-attr">title</span>: {</li><li>       <span class="hljs-attr">default</span>: <span class="hljs-string">'title'</span>,</li><li>     },</li><li>     <span class="hljs-attr">showObject</span>: {},</li><li>   },</li><li>   <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) {</li><li>     <span class="hljs-keyword">return</span> {</li><li>       <span class="hljs-attr">showObj</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">showObject</span>,</li><li>     };</li><li>   },</li><li>   childClicked () {</li><li>     <span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">'eventType1'</span>, {<span class="hljs-attr">text</span>: <span class="hljs-string">'收到子组件参数'</span>});</li><li>     <span class="hljs-variable language_">this</span>.<span class="hljs-property">showObj</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">showObj</span>;</li><li>   },</li><li> }</li></ol></pre></div></div></li>     <li>      <p>引入自定义组件</p>      <div _ngcontent-moe-c106="" class="highlight-div"><div _ngcontent-moe-c106="" class="highlight-div-header"><div _ngcontent-moe-c106="" class="highlight-div-header-left"><div _ngcontent-moe-c106="" class="handle-button expand-button"><div _ngcontent-moe-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-moe-c106="" class="highlight-div-header-right"><div _ngcontent-moe-c106="" class="handle-button ai-button"></div><div _ngcontent-moe-c106="" class="handle-button line-button"><div _ngcontent-moe-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-moe-c106="" class="handle-button theme-button"><div _ngcontent-moe-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-moe-c106="" class="handle-button copy-button"><div _ngcontent-moe-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-moe-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li> <span class="hljs-tag">&lt;<span class="hljs-name">element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">'comp'</span> <span class="hljs-attr">src</span>=<span class="hljs-string">'../../common/component/comp.hml'</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">element</span>&gt;</span> </li><li> <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span> </li><li>   <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>父组件：{{text}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>   <span class="hljs-tag">&lt;<span class="hljs-name">comp</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"自定义组件"</span> <span class="hljs-attr">show-object</span>=<span class="hljs-string">"{{isShow}}"</span> @<span class="hljs-attr">event-type1</span>=<span class="hljs-string">"textClicked"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">comp</span>&gt;</span></li><li> <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>      <div _ngcontent-moe-c106="" class="highlight-div"><div _ngcontent-moe-c106="" class="highlight-div-header"><div _ngcontent-moe-c106="" class="highlight-div-header-left"><div _ngcontent-moe-c106="" class="handle-button expand-button"><div _ngcontent-moe-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-moe-c106="" class="highlight-div-header-right"><div _ngcontent-moe-c106="" class="handle-button ai-button"></div><div _ngcontent-moe-c106="" class="handle-button line-button"><div _ngcontent-moe-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-moe-c106="" class="handle-button theme-button"><div _ngcontent-moe-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-moe-c106="" class="handle-button copy-button"><div _ngcontent-moe-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-moe-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li> <span class="hljs-selector-class">.container</span> {</li><li>   <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f8f8ff</span>;</li><li>   <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;</li><li>   <span class="hljs-attribute">flex-direction</span>: column;</li><li>   <span class="hljs-attribute">align-content</span>: center;</li><li> }</li></ol></pre></div></div>      <div _ngcontent-moe-c106="" class="highlight-div"><div _ngcontent-moe-c106="" class="highlight-div-header"><div _ngcontent-moe-c106="" class="highlight-div-header-left"><div _ngcontent-moe-c106="" class="handle-button expand-button"><div _ngcontent-moe-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-moe-c106="" class="highlight-div-header-right"><div _ngcontent-moe-c106="" class="handle-button ai-button"></div><div _ngcontent-moe-c106="" class="handle-button line-button"><div _ngcontent-moe-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-moe-c106="" class="handle-button theme-button"><div _ngcontent-moe-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-moe-c106="" class="handle-button copy-button"><div _ngcontent-moe-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-moe-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li> <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>   <span class="hljs-attr">data</span>: {</li><li>     <span class="hljs-attr">text</span>: <span class="hljs-string">'开始'</span>,</li><li>     <span class="hljs-attr">isShow</span>: <span class="hljs-literal">false</span>,</li><li>   },</li><li>   textClicked (e) {</li><li>     <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = e.<span class="hljs-property">detail</span>.<span class="hljs-property">text</span>;</li><li>   },</li><li> }</li></ol></pre></div></div></li>    </ul>    <p>本示例中父组件通过添加自定义属性向子组件传递了名称为title的参数，子组件在props中接收。同时子组件也通过事件绑定向上传递了参数text，接收时通过e.detail获取。要绑定子组件事件，父组件事件命名必须遵循事件绑定规则，详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-custom-basic-usage" target="_blank">自定义组件的基本用法</a>。自定义组件效果如下图所示：</p>    <p><strong>图1</strong> 自定义组件的效果</p>    <p><span><img originheight="281" originwidth="1294" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114743.64542197932053306361031474502204:50001231000000:2800:29512441491B27F26D4B4B3A1E34E3DEE05210B7216AB0588D2F9002EB0DFFFA.png" width="920" height="199.7836166924266"></span></p>   </div>   <div></div></div>