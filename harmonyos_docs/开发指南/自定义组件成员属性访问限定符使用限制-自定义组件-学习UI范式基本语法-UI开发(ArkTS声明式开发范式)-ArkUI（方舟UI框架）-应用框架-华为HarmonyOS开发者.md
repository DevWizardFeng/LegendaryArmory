<h1 _ngcontent-kii-c119="" class="doc-title ng-star-inserted" title="自定义组件成员属性访问限定符使用限制"> 自定义组件成员属性访问限定符使用限制 </h1>

<div _ngcontent-kii-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>在状态管理V1版本中，完成自定义组件封装后，调用方难以明确知晓应传入哪些变量作为组件的输入参数。当组件开发者不希望状态变量被外部初始化时，可以使用private限定符来限制当前变量不允许被外部初始化。外部初始化也需要遵循装饰器自身的规则，具体规则见<a href="/consumer/cn/doc/harmonyos-guides/arkts-custom-components-access-restrictions#使用限制">使用限制</a>。</p> <p>ArkTS会对自定义组件的成员变量使用的访问限定符private/public/protected进行校验，当不按规范使用访问限定符private/public/protected时，会产生对应的日志信息。</p> <p>在阅读本文档前，建议提前阅读：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-state-management-overview">状态管理概述</a>。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 12开始，支持自定义组件成员属性访问限定符使用限制的规则。</p>  </div></div></div>  <div class="tiledSection"><h2 id="使用限制">使用限制<i class="anchor-icon anchor-icon-link" anchorid="使用限制" tips="复制节点链接"></i></h2><ul><li><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-state">@State</a>/<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-prop">@Prop</a>/<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-provide-and-consume">@Provide</a>/<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-builderparam">@BuilderParam</a>/常规成员变量(不涉及更新的普通变量)的初始化规则为可以被外部初始化，也可以使用本地值进行初始化。当组件开发者不希望当前变量被外部初始化时，可以使用private进行修饰，在这种情况下，错误进行外部初始化会有编译告警日志提示。</p>  </li><li><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-appstorage#storagelink">@StorageLink</a>/<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-appstorage#storageprop">@StorageProp</a>/<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-localstorage#localstoragelink">@LocalStorageLink</a>/<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-localstorage#localstorageprop">@LocalStorageProp</a>/<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-provide-and-consume">@Consume</a>变量的初始化规则为不可以被外部初始化，当组件开发者希望当前变量被外部初始化而使用public修饰时，与装饰器本身的初始化规则不符，会有编译告警日志提示。</p>  </li><li><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-link">@Link</a>/<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-observed-and-objectlink">@ObjectLink</a>变量的初始化规则为必须被外部初始化，禁止本地初始化。当组件开发者使用private对变量进行修饰时，与装饰器本身的初始化规则不符，会有编译告警日志提示。</p>  </li><li><p>由于struct没有继承能力，上述所有的这些变量使用protected修饰时，会有编译告警日志提示。</p>  </li><li><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-require">@Require</a>含义是当前被@Require装饰的变量必须被外部初始化，当@Require和private同时装饰<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-state">@State</a>/<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-prop">@Prop</a>/<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-provide-and-consume">@Provide</a>/<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-builderparam">@BuilderParam</a>/常规成员变量(不涉及更新的普通变量)时，他们的含义是自相矛盾的，会有编译告警日志提示。</p>  </li></ul> </div>  <div class="tiledSection"><h2 id="使用场景">使用场景<i class="anchor-icon anchor-icon-link" anchorid="使用场景" tips="复制节点链接"></i></h2><ol><li><p>当成员变量被private访问限定符和@State/@Prop/@Provide/@BuilderParam装饰器同时修饰，并且通过父组件进行初始化赋值，ArkTS会进行校验并产生告警日志。</p>  <p> 【反例】</p>  <div _ngcontent-kii-c106="" class="highlight-div"><div _ngcontent-kii-c106="" class="highlight-div-header"><div _ngcontent-kii-c106="" class="highlight-div-header-left"><div _ngcontent-kii-c106="" class="handle-button expand-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kii-c106="" class="highlight-div-header-right"><div _ngcontent-kii-c106="" class="handle-button ai-button"></div><div _ngcontent-kii-c106="" class="handle-button line-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kii-c106="" class="handle-button theme-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kii-c106="" class="handle-button copy-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kii-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">AccessRestrictions</span> {</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">buildTest</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Parent builder'</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">ComponentsChild</span>({</li><li>        <span class="hljs-attr">state_value</span>: <span class="hljs-string">'Hello'</span>,</li><li>        <span class="hljs-attr">prop_value</span>: <span class="hljs-string">'Hello'</span>,</li><li>        <span class="hljs-attr">provide_value</span>: <span class="hljs-string">'Hello'</span>,</li><li>        <span class="hljs-attr">builder_value</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">buildTest</span>,</li><li>        <span class="hljs-attr">regular_value</span>: <span class="hljs-string">'Hello'</span></li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ComponentsChild</span> {</li><li>  <span class="hljs-comment">// 此处使用private修饰符时会出现告警日志</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-attr">state_value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li>  <span class="hljs-comment">// 此处使用private修饰符时会出现告警日志</span></li><li>  <span class="hljs-meta">@Prop</span> <span class="hljs-keyword">private</span> <span class="hljs-attr">prop_value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li>  <span class="hljs-comment">// 此处使用private修饰符时会出现告警日志</span></li><li>  <span class="hljs-meta">@Provide</span> <span class="hljs-keyword">private</span> <span class="hljs-attr">provide_value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li>  <span class="hljs-comment">// 此处使用private修饰符时会出现告警日志</span></li><li>  <span class="hljs-meta">@BuilderParam</span> <span class="hljs-keyword">private</span> <span class="hljs-attr">builder_value</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buildTest</span>;</li><li>  <span class="hljs-comment">// 此处使用private修饰符时会出现告警日志</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">regular_value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">buildTest</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Child builder'</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Hello'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>  <p> 编译告警日志如下：</p>  <div _ngcontent-kii-c106="" class="highlight-div"><div _ngcontent-kii-c106="" class="highlight-div-header"><div _ngcontent-kii-c106="" class="highlight-div-header-left"><div _ngcontent-kii-c106="" class="handle-button expand-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kii-c106="" class="highlight-div-header-right"><div _ngcontent-kii-c106="" class="handle-button ai-button"></div><div _ngcontent-kii-c106="" class="handle-button line-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kii-c106="" class="handle-button theme-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kii-c106="" class="handle-button copy-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kii-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Property</span> <span class="hljs-string">'state_value'</span> is <span class="hljs-keyword">private</span> and can not be initialized through the component constructor.</li><li><span class="hljs-title class_">Property</span> <span class="hljs-string">'prop_value'</span> is <span class="hljs-keyword">private</span> and can not be initialized through the component constructor.</li><li><span class="hljs-title class_">Property</span> <span class="hljs-string">'provide_value'</span> is <span class="hljs-keyword">private</span> and can not be initialized through the component constructor.</li><li><span class="hljs-title class_">Property</span> <span class="hljs-string">'builder_value'</span> is <span class="hljs-keyword">private</span> and can not be initialized through the component constructor.</li><li><span class="hljs-title class_">Property</span> <span class="hljs-string">'regular_value'</span> is <span class="hljs-keyword">private</span> and can not be initialized through the component constructor.</li></ol></pre></div></div>  <p> 【正例】</p>  <div _ngcontent-kii-c106="" class="highlight-div"><div _ngcontent-kii-c106="" class="highlight-div-header"><div _ngcontent-kii-c106="" class="highlight-div-header-left"><div _ngcontent-kii-c106="" class="handle-button expand-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kii-c106="" class="highlight-div-header-right"><div _ngcontent-kii-c106="" class="handle-button ai-button"></div><div _ngcontent-kii-c106="" class="handle-button line-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kii-c106="" class="handle-button theme-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kii-c106="" class="handle-button copy-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kii-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">AccessRestrictions</span> {</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">buildTest</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Parent builder'</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">ComponentsChild</span>({</li><li>        <span class="hljs-attr">state_value</span>: <span class="hljs-string">'Hello'</span>,</li><li>        <span class="hljs-attr">prop_value</span>: <span class="hljs-string">'Hello'</span>,</li><li>        <span class="hljs-attr">provide_value</span>: <span class="hljs-string">'Hello'</span>,</li><li>        <span class="hljs-attr">builder_value</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">buildTest</span>,</li><li>        <span class="hljs-attr">regular_value</span>: <span class="hljs-string">'Hello'</span></li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ComponentsChild</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">state_value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li>  <span class="hljs-meta">@Prop</span> <span class="hljs-attr">prop_value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li>  <span class="hljs-meta">@Provide</span> <span class="hljs-attr">provide_value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li>  <span class="hljs-meta">@BuilderParam</span> <span class="hljs-attr">builder_value</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buildTest</span>;</li><li>  <span class="hljs-attr">regular_value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">buildTest</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Child builder'</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Hello'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>  </li><li><p>当成员变量被public访问限定符和@StorageLink/@StorageProp/@LocalStorageLink/@LocalStorageProp/@Consume装饰器同时修饰，并且通过父组件进行初始化赋值，ArkTS会进行校验并产生告警日志。</p>  <p> 【反例】</p>  <div _ngcontent-kii-c106="" class="highlight-div"><div _ngcontent-kii-c106="" class="highlight-div-header"><div _ngcontent-kii-c106="" class="highlight-div-header-left"><div _ngcontent-kii-c106="" class="handle-button expand-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kii-c106="" class="highlight-div-header-right"><div _ngcontent-kii-c106="" class="handle-button ai-button"></div><div _ngcontent-kii-c106="" class="handle-button line-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kii-c106="" class="handle-button theme-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kii-c106="" class="handle-button copy-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kii-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">AccessRestrictions</span> {</li><li>  <span class="hljs-meta">@Provide</span> <span class="hljs-attr">consume_value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">ComponentChild</span>()</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ComponentChild</span> {</li><li>  <span class="hljs-comment">// 此处使用public修饰符时会出现告警日志</span></li><li>  <span class="hljs-meta">@LocalStorageProp</span>(<span class="hljs-string">'sessionLocalProp'</span>) <span class="hljs-keyword">public</span> <span class="hljs-attr">local_prop_value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li>  <span class="hljs-comment">// 此处使用public修饰符时会出现告警日志</span></li><li>  <span class="hljs-meta">@LocalStorageLink</span>(<span class="hljs-string">'sessionLocalLink'</span>) <span class="hljs-keyword">public</span> <span class="hljs-attr">local_link_value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li>  <span class="hljs-comment">// 此处使用public修饰符时会出现告警日志</span></li><li>  <span class="hljs-meta">@StorageProp</span>(<span class="hljs-string">'sessionProp'</span>) <span class="hljs-keyword">public</span> <span class="hljs-attr">storage_prop_value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li>  <span class="hljs-comment">// 此处使用public修饰符时会出现告警日志</span></li><li>  <span class="hljs-meta">@StorageLink</span>(<span class="hljs-string">'sessionLink'</span>) <span class="hljs-keyword">public</span> <span class="hljs-attr">storage_link_value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li>  <span class="hljs-comment">// 此处使用public修饰符时会出现告警日志</span></li><li>  <span class="hljs-meta">@Consume</span> <span class="hljs-keyword">public</span> <span class="hljs-attr">consume_value</span>: <span class="hljs-built_in">string</span>;</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Hello'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>  <p> 编译告警日志如下：</p>  <div _ngcontent-kii-c106="" class="highlight-div"><div _ngcontent-kii-c106="" class="highlight-div-header"><div _ngcontent-kii-c106="" class="highlight-div-header-left"><div _ngcontent-kii-c106="" class="handle-button expand-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kii-c106="" class="highlight-div-header-right"><div _ngcontent-kii-c106="" class="handle-button ai-button"></div><div _ngcontent-kii-c106="" class="handle-button line-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kii-c106="" class="handle-button theme-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kii-c106="" class="handle-button copy-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kii-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Property</span> <span class="hljs-string">'local_prop_value'</span> can not be decorated <span class="hljs-keyword">with</span> both <span class="hljs-string">'@LocalStorageProp'</span> and <span class="hljs-keyword">public</span>.</li><li><span class="hljs-title class_">Property</span> <span class="hljs-string">'local_link_value'</span> can not be decorated <span class="hljs-keyword">with</span> both <span class="hljs-string">'@LocalStorageLink'</span> and <span class="hljs-keyword">public</span>.</li><li><span class="hljs-title class_">Property</span> <span class="hljs-string">'storage_prop_value'</span> can not be decorated <span class="hljs-keyword">with</span> both <span class="hljs-string">'@StorageProp'</span> and <span class="hljs-keyword">public</span>.</li><li><span class="hljs-title class_">Property</span> <span class="hljs-string">'storage_link_value'</span> can not be decorated <span class="hljs-keyword">with</span> both <span class="hljs-string">'@StorageLink'</span> and <span class="hljs-keyword">public</span>.</li><li><span class="hljs-title class_">Property</span> <span class="hljs-string">'consume_value'</span> can not be decorated <span class="hljs-keyword">with</span> both <span class="hljs-string">'@Consume'</span> and <span class="hljs-keyword">public</span>.</li></ol></pre></div></div>  <p> 【正例】</p>  <div _ngcontent-kii-c106="" class="highlight-div"><div _ngcontent-kii-c106="" class="highlight-div-header"><div _ngcontent-kii-c106="" class="highlight-div-header-left"><div _ngcontent-kii-c106="" class="handle-button expand-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kii-c106="" class="highlight-div-header-right"><div _ngcontent-kii-c106="" class="handle-button ai-button"></div><div _ngcontent-kii-c106="" class="handle-button line-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kii-c106="" class="handle-button theme-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kii-c106="" class="handle-button copy-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kii-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">AccessRestrictions</span> {</li><li>  <span class="hljs-meta">@Provide</span> <span class="hljs-attr">consume_value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">ComponentChild</span>()</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ComponentChild</span> {</li><li>  <span class="hljs-meta">@LocalStorageProp</span>(<span class="hljs-string">'sessionLocalProp'</span>) <span class="hljs-attr">local_prop_value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li>  <span class="hljs-meta">@LocalStorageLink</span>(<span class="hljs-string">'sessionLocalLink'</span>) <span class="hljs-attr">local_link_value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li>  <span class="hljs-meta">@StorageProp</span>(<span class="hljs-string">'sessionProp'</span>) <span class="hljs-attr">storage_prop_value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li>  <span class="hljs-meta">@StorageLink</span>(<span class="hljs-string">'sessionLink'</span>) <span class="hljs-attr">storage_link_value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li>  <span class="hljs-meta">@Consume</span> <span class="hljs-attr">consume_value</span>: <span class="hljs-built_in">string</span>;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Hello'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>  </li><li><p>当成员变量被private访问限定符和@Link/@ObjectLink装饰器同时修饰，并且通过父组件进行初始化赋值，ArkTS会进行校验并产生告警日志。</p>  <p> 【反例】</p>  <div _ngcontent-kii-c106="" class="highlight-div"><div _ngcontent-kii-c106="" class="highlight-div-header"><div _ngcontent-kii-c106="" class="highlight-div-header-left"><div _ngcontent-kii-c106="" class="handle-button expand-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kii-c106="" class="highlight-div-header-right"><div _ngcontent-kii-c106="" class="handle-button ai-button"></div><div _ngcontent-kii-c106="" class="handle-button line-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kii-c106="" class="handle-button theme-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kii-c106="" class="handle-button copy-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kii-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">AccessRestrictions</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">link_value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">objectLink_value</span>: <span class="hljs-title class_">ComponentObj</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentObj</span>();</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">ComponentChild</span>({<span class="hljs-attr">link_value</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">link_value</span>, <span class="hljs-attr">objectLink_value</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">objectLink_value</span>})</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Observed</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">ComponentObj</span> {</li><li>  <span class="hljs-attr">count</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>}</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ComponentChild</span> {</li><li>  <span class="hljs-comment">// 此处使用private修饰符时会出现告警日志</span></li><li>  <span class="hljs-meta">@Link</span> <span class="hljs-keyword">private</span> <span class="hljs-attr">link_value</span>: <span class="hljs-built_in">string</span>;</li><li>  <span class="hljs-comment">// 此处使用private修饰符时会出现告警日志</span></li><li>  <span class="hljs-meta">@ObjectLink</span> <span class="hljs-keyword">private</span> <span class="hljs-attr">objectLink_value</span>: <span class="hljs-title class_">ComponentObj</span>;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Hello'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>  <p> 编译告警日志如下：</p>  <div _ngcontent-kii-c106="" class="highlight-div"><div _ngcontent-kii-c106="" class="highlight-div-header"><div _ngcontent-kii-c106="" class="highlight-div-header-left"><div _ngcontent-kii-c106="" class="handle-button expand-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kii-c106="" class="highlight-div-header-right"><div _ngcontent-kii-c106="" class="handle-button ai-button"></div><div _ngcontent-kii-c106="" class="handle-button line-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kii-c106="" class="handle-button theme-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kii-c106="" class="handle-button copy-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kii-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Property</span> <span class="hljs-string">'link_value'</span> can not be decorated <span class="hljs-keyword">with</span> both <span class="hljs-string">'@Link'</span> and <span class="hljs-keyword">private</span>.</li><li><span class="hljs-title class_">Property</span> <span class="hljs-string">'objectLink_value'</span> can not be decorated <span class="hljs-keyword">with</span> both <span class="hljs-string">'@ObjectLink'</span> and <span class="hljs-keyword">private</span>.</li></ol></pre></div></div>  <p> 【正例】</p>  <div _ngcontent-kii-c106="" class="highlight-div"><div _ngcontent-kii-c106="" class="highlight-div-header"><div _ngcontent-kii-c106="" class="highlight-div-header-left"><div _ngcontent-kii-c106="" class="handle-button expand-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kii-c106="" class="highlight-div-header-right"><div _ngcontent-kii-c106="" class="handle-button ai-button"></div><div _ngcontent-kii-c106="" class="handle-button line-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kii-c106="" class="handle-button theme-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kii-c106="" class="handle-button copy-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kii-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">AccessRestrictions</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">link_value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">objectLink_value</span>: <span class="hljs-title class_">ComponentObj</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentObj</span>();</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">ComponentChild</span>({<span class="hljs-attr">link_value</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">link_value</span>, <span class="hljs-attr">objectLink_value</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">objectLink_value</span>})</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Observed</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">ComponentObj</span> {</li><li>  <span class="hljs-attr">count</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>}</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ComponentChild</span> {</li><li>  <span class="hljs-meta">@Link</span> <span class="hljs-attr">link_value</span>: <span class="hljs-built_in">string</span>;</li><li>  <span class="hljs-meta">@ObjectLink</span> <span class="hljs-attr">objectLink_value</span>: <span class="hljs-title class_">ComponentObj</span>;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Hello'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>  </li><li><p>当成员变量被protected访问限定符修饰，并且通过父组件进行初始化赋值，ArkTS会进行校验并产生告警日志。</p>  <p> 【反例】</p>  <div _ngcontent-kii-c106="" class="highlight-div"><div _ngcontent-kii-c106="" class="highlight-div-header"><div _ngcontent-kii-c106="" class="highlight-div-header-left"><div _ngcontent-kii-c106="" class="handle-button expand-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kii-c106="" class="highlight-div-header-right"><div _ngcontent-kii-c106="" class="handle-button ai-button"></div><div _ngcontent-kii-c106="" class="handle-button line-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kii-c106="" class="handle-button theme-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kii-c106="" class="handle-button copy-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kii-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">AccessRestrictions</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">ComponentChild</span>({<span class="hljs-attr">regular_value</span>: <span class="hljs-string">'Hello'</span>})</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ComponentChild</span> {</li><li>  <span class="hljs-comment">// 此处使用protected修饰符时会出现告警日志</span></li><li>  <span class="hljs-keyword">protected</span> <span class="hljs-attr">regular_value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Hello'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>  <p> 编译告警日志如下：</p>  <div _ngcontent-kii-c106="" class="highlight-div"><div _ngcontent-kii-c106="" class="highlight-div-header"><div _ngcontent-kii-c106="" class="highlight-div-header-left"><div _ngcontent-kii-c106="" class="handle-button expand-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kii-c106="" class="highlight-div-header-right"><div _ngcontent-kii-c106="" class="handle-button ai-button"></div><div _ngcontent-kii-c106="" class="handle-button line-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kii-c106="" class="handle-button theme-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kii-c106="" class="handle-button copy-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kii-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">The</span> member attributes <span class="hljs-keyword">of</span> a struct can not be <span class="hljs-keyword">protected</span>.</li></ol></pre></div></div>  <p> 【正例】</p>  <div _ngcontent-kii-c106="" class="highlight-div"><div _ngcontent-kii-c106="" class="highlight-div-header"><div _ngcontent-kii-c106="" class="highlight-div-header-left"><div _ngcontent-kii-c106="" class="handle-button expand-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kii-c106="" class="highlight-div-header-right"><div _ngcontent-kii-c106="" class="handle-button ai-button"></div><div _ngcontent-kii-c106="" class="handle-button line-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kii-c106="" class="handle-button theme-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kii-c106="" class="handle-button copy-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kii-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">AccessRestrictions</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">ComponentChild</span>({<span class="hljs-attr">regular_value</span>: <span class="hljs-string">'Hello'</span>})</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ComponentChild</span> {</li><li>  <span class="hljs-attr">regular_value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Hello'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>  </li><li><p>当成员变量被private访问限定符、@Require和@State/@Prop/@Provide/@BuilderParam装饰器同时修饰，并且通过父组件初始化赋值时，ArkTS会进行校验并产生告警日志。</p>  <p> 【反例】</p>  <div _ngcontent-kii-c106="" class="highlight-div"><div _ngcontent-kii-c106="" class="highlight-div-header"><div _ngcontent-kii-c106="" class="highlight-div-header-left"><div _ngcontent-kii-c106="" class="handle-button expand-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kii-c106="" class="highlight-div-header-right"><div _ngcontent-kii-c106="" class="handle-button ai-button"></div><div _ngcontent-kii-c106="" class="handle-button line-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kii-c106="" class="handle-button theme-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kii-c106="" class="handle-button copy-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kii-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">AccessRestrictions</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">ComponentChild</span>({<span class="hljs-attr">prop_value</span>: <span class="hljs-string">'Hello'</span>})</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ComponentChild</span> {</li><li>  <span class="hljs-comment">// 此处使用private修饰符时会出现告警日志</span></li><li>  <span class="hljs-meta">@Require</span> <span class="hljs-meta">@Prop</span> <span class="hljs-keyword">private</span> <span class="hljs-attr">prop_value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Hello'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>  <p> 编译告警日志如下：</p>  <div _ngcontent-kii-c106="" class="highlight-div"><div _ngcontent-kii-c106="" class="highlight-div-header"><div _ngcontent-kii-c106="" class="highlight-div-header-left"><div _ngcontent-kii-c106="" class="handle-button expand-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kii-c106="" class="highlight-div-header-right"><div _ngcontent-kii-c106="" class="handle-button ai-button"></div><div _ngcontent-kii-c106="" class="handle-button line-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kii-c106="" class="handle-button theme-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kii-c106="" class="handle-button copy-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kii-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Property</span> <span class="hljs-string">'prop_value'</span> can not be decorated <span class="hljs-keyword">with</span> both <span class="hljs-string">'@Require'</span> and <span class="hljs-keyword">private</span>.</li><li><span class="hljs-title class_">Property</span> <span class="hljs-string">'prop_value'</span> is <span class="hljs-keyword">private</span> and can not be initialized through the component constructor.</li></ol></pre></div></div>  <p> 【正例】</p>  <div _ngcontent-kii-c106="" class="highlight-div"><div _ngcontent-kii-c106="" class="highlight-div-header"><div _ngcontent-kii-c106="" class="highlight-div-header-left"><div _ngcontent-kii-c106="" class="handle-button expand-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kii-c106="" class="highlight-div-header-right"><div _ngcontent-kii-c106="" class="handle-button ai-button"></div><div _ngcontent-kii-c106="" class="handle-button line-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kii-c106="" class="handle-button theme-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kii-c106="" class="handle-button copy-button"><div _ngcontent-kii-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kii-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">AccessRestrictions</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">ComponentChild</span>({<span class="hljs-attr">prop_value</span>: <span class="hljs-string">'Hello'</span>})</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ComponentChild</span> {</li><li>  <span class="hljs-meta">@Require</span> <span class="hljs-meta">@Prop</span> <span class="hljs-attr">prop_value</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello'</span>;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Hello'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>  </li></ol> </div> </div> <div></div></div>