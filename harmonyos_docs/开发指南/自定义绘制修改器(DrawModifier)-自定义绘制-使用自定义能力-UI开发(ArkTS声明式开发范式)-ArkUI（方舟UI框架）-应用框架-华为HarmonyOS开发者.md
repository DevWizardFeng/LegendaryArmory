<h1 _ngcontent-ypm-c119="" class="doc-title ng-star-inserted" title="自定义绘制修改器 (DrawModifier)"> 自定义绘制修改器 (DrawModifier) </h1>

<div _ngcontent-ypm-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="概述">概述<i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2>          <p>当某些组件本身的绘制内容不满足需求时，可使用组件自定义绘制功能，在原有组件基础上部分绘制、或者全部自行绘制，以达到预期效果。例如：独特的按钮形状、文字和图像混合的图标等。组件自定义绘制提供了自定义绘制修改器DrawModifier，来实现更自由的组件绘制。</p>    </div>    <div class="tiledSection">     <h2 id="使用drawmodifier接口">使用DrawModifier接口<i class="anchor-icon anchor-icon-link" anchorid="使用drawmodifier接口" tips="复制节点链接"></i></h2>          <div _ngcontent-ypm-c106="" class="highlight-div"><div _ngcontent-ypm-c106="" class="highlight-div-header"><div _ngcontent-ypm-c106="" class="highlight-div-header-left"><div _ngcontent-ypm-c106="" class="handle-button expand-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ypm-c106="" class="highlight-div-header-right"><div _ngcontent-ypm-c106="" class="handle-button ai-button"></div><div _ngcontent-ypm-c106="" class="handle-button line-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ypm-c106="" class="handle-button theme-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ypm-c106="" class="handle-button copy-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ypm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">declare</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawModifier</span> {</li><li>
</li><li>  drawBehind?(<span class="hljs-attr">drawContext</span>: <span class="hljs-title class_">DrawContext</span>): <span class="hljs-built_in">void</span>;</li><li>
</li><li>  drawContent?(<span class="hljs-attr">drawContext</span>: <span class="hljs-title class_">DrawContext</span>): <span class="hljs-built_in">void</span>;</li><li>
</li><li>  drawFront?(<span class="hljs-attr">drawContext</span>: <span class="hljs-title class_">DrawContext</span>): <span class="hljs-built_in">void</span>;</li><li>
</li><li>  drawForeground?(<span class="hljs-attr">drawContext</span>: <span class="hljs-title class_">DrawContext</span>): <span class="hljs-built_in">void</span>;</li><li>
</li><li>  <span class="hljs-title function_">invalidate</span>(): <span class="hljs-built_in">void</span>;</li><li>}</li></ol></pre></div></div>     <p>DrawModifier可设置前景(drawForeground)、内容前景(drawFront)、内容(drawContent)和内容背景(drawBehind)的绘制方法，开发者需要重载这些方法，并通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-drawing-customization-on-canvas">Canvas</a>的接口进行自定义绘制。自定义绘制层级图如下所示。</p>     <p><span><img originheight="490" originwidth="729" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114915.56211004203603264022726903174266:50001231000000:2800:23D0E4417AC446ED875A0030DB6A6FA73978C6CBF27BEEFCA5856020E5BBEE16.png" width="729" height="490"></span></p>     <p>DrawModifier还提供主动触发重绘的方法invalidate，该接口开发者无需也无法重载，调用会触发所绑定组件的重绘。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>每个DrawModifier实例只能设置到一个组件上，禁止进行重复设置。</p>       <p>drawContent方法会替换组件原本的内容绘制函数。</p>       <p>drawForeground方法从API version 20开始支持。</p>       <p>NDK的自定义绘制能力和示例请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-user-defined-draw">自定义绘制</a>。</p>      </div></div></div>    </div>    <div class="tiledSection">     <h2 id="通过drawfrontdrawcontentdrawbehind进行自定义绘制">通过drawFront、drawContent、drawBehind进行自定义绘制<i class="anchor-icon anchor-icon-link" anchorid="通过drawfrontdrawcontentdrawbehind进行自定义绘制" tips="复制节点链接"></i></h2>          <p>通过drawFront、drawContent、drawBehind接口，在内容前景、内容和内容背景三个层级上对Text组件进行了自定义绘制，从而按需改变组件的绘制效果。</p>     <div _ngcontent-ypm-c106="" class="highlight-div"><div _ngcontent-ypm-c106="" class="highlight-div-header"><div _ngcontent-ypm-c106="" class="highlight-div-header-left"><div _ngcontent-ypm-c106="" class="handle-button expand-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ypm-c106="" class="highlight-div-header-right"><div _ngcontent-ypm-c106="" class="handle-button ai-button"></div><div _ngcontent-ypm-c106="" class="handle-button line-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ypm-c106="" class="handle-button theme-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ypm-c106="" class="handle-button copy-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ypm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AnimatorResult</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyFullDrawModifier</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">DrawModifier</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">scaleX</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">scaleY</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>;</li><li>  <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>;</li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">uiContext: UIContext</span>) {</li><li>    <span class="hljs-variable language_">super</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span> = uiContext;</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 重载drawBehind方法，实现自定义绘制内容背景。</span></li><li>  <span class="hljs-title function_">drawBehind</span>(<span class="hljs-attr">context</span>: <span class="hljs-title class_">DrawContext</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">const</span> brush = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Brush</span>();</li><li>    brush.<span class="hljs-title function_">setColor</span>({</li><li>      <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>,</li><li>      <span class="hljs-attr">red</span>: <span class="hljs-number">161</span>,</li><li>      <span class="hljs-attr">green</span>: <span class="hljs-number">10</span>,</li><li>      <span class="hljs-attr">blue</span>: <span class="hljs-number">33</span></li><li>    });</li><li>    context.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">attachBrush</span>(brush);</li><li>    <span class="hljs-keyword">const</span> halfWidth = context.<span class="hljs-property">size</span>.<span class="hljs-property">width</span> / <span class="hljs-number">2</span>;</li><li>    <span class="hljs-keyword">const</span> halfHeight = context.<span class="hljs-property">size</span>.<span class="hljs-property">height</span> / <span class="hljs-number">2</span>;</li><li>    context.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">drawRect</span>({</li><li>      <span class="hljs-attr">left</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">vp2px</span>(halfWidth - <span class="hljs-number">50</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleX</span>),</li><li>      <span class="hljs-attr">top</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">vp2px</span>(halfHeight - <span class="hljs-number">50</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleY</span>),</li><li>      <span class="hljs-attr">right</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">vp2px</span>(halfWidth + <span class="hljs-number">50</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleX</span>),</li><li>      <span class="hljs-attr">bottom</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">vp2px</span>(halfHeight + <span class="hljs-number">50</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleY</span>)</li><li>    });</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 重载drawContent方法，实现自定义绘制内容。</span></li><li>  <span class="hljs-title function_">drawContent</span>(<span class="hljs-attr">context</span>: <span class="hljs-title class_">DrawContext</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">const</span> brush = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Brush</span>();</li><li>    brush.<span class="hljs-title function_">setColor</span>({</li><li>      <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>,</li><li>      <span class="hljs-attr">red</span>: <span class="hljs-number">23</span>,</li><li>      <span class="hljs-attr">green</span>: <span class="hljs-number">169</span>,</li><li>      <span class="hljs-attr">blue</span>: <span class="hljs-number">141</span></li><li>    });</li><li>    context.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">attachBrush</span>(brush);</li><li>    <span class="hljs-keyword">const</span> halfWidth = context.<span class="hljs-property">size</span>.<span class="hljs-property">width</span> / <span class="hljs-number">2</span>;</li><li>    <span class="hljs-keyword">const</span> halfHeight = context.<span class="hljs-property">size</span>.<span class="hljs-property">height</span> / <span class="hljs-number">2</span>;</li><li>    context.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">drawRect</span>({</li><li>      <span class="hljs-attr">left</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">vp2px</span>(halfWidth - <span class="hljs-number">30</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleX</span>),</li><li>      <span class="hljs-attr">top</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">vp2px</span>(halfHeight - <span class="hljs-number">30</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleY</span>),</li><li>      <span class="hljs-attr">right</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">vp2px</span>(halfWidth + <span class="hljs-number">30</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleX</span>),</li><li>      <span class="hljs-attr">bottom</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">vp2px</span>(halfHeight + <span class="hljs-number">30</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleY</span>)</li><li>    });</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 重载drawFront方法，实现自定义绘制内容前景。</span></li><li>  <span class="hljs-title function_">drawFront</span>(<span class="hljs-attr">context</span>: <span class="hljs-title class_">DrawContext</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">const</span> brush = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Brush</span>();</li><li>    brush.<span class="hljs-title function_">setColor</span>({</li><li>      <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>,</li><li>      <span class="hljs-attr">red</span>: <span class="hljs-number">39</span>,</li><li>      <span class="hljs-attr">green</span>: <span class="hljs-number">135</span>,</li><li>      <span class="hljs-attr">blue</span>: <span class="hljs-number">217</span></li><li>    });</li><li>    context.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">attachBrush</span>(brush);</li><li>    <span class="hljs-keyword">const</span> halfWidth = context.<span class="hljs-property">size</span>.<span class="hljs-property">width</span> / <span class="hljs-number">2</span>;</li><li>    <span class="hljs-keyword">const</span> halfHeight = context.<span class="hljs-property">size</span>.<span class="hljs-property">height</span> / <span class="hljs-number">2</span>;</li><li>    <span class="hljs-keyword">const</span> radiusScale = (<span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleX</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleY</span>) / <span class="hljs-number">2</span>;</li><li>    context.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">vp2px</span>(halfWidth), <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">vp2px</span>(halfHeight), <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">vp2px</span>(<span class="hljs-number">20</span> * radiusScale));</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyFrontDrawModifier</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">DrawModifier</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">scaleX</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">scaleY</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>;</li><li>  <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>;</li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">uiContext: UIContext</span>) {</li><li>    <span class="hljs-variable language_">super</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span> = uiContext;</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 重载drawFront方法，实现自定义绘制内容前景。</span></li><li>  <span class="hljs-title function_">drawFront</span>(<span class="hljs-attr">context</span>: <span class="hljs-title class_">DrawContext</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">const</span> brush = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Brush</span>();</li><li>    brush.<span class="hljs-title function_">setColor</span>({</li><li>      <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>,</li><li>      <span class="hljs-attr">red</span>: <span class="hljs-number">39</span>,</li><li>      <span class="hljs-attr">green</span>: <span class="hljs-number">135</span>,</li><li>      <span class="hljs-attr">blue</span>: <span class="hljs-number">217</span></li><li>    });</li><li>    context.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">attachBrush</span>(brush);</li><li>    <span class="hljs-keyword">const</span> halfWidth = context.<span class="hljs-property">size</span>.<span class="hljs-property">width</span> / <span class="hljs-number">2</span>;</li><li>    <span class="hljs-keyword">const</span> halfHeight = context.<span class="hljs-property">size</span>.<span class="hljs-property">height</span> / <span class="hljs-number">2</span>;</li><li>    <span class="hljs-keyword">const</span> radiusScale = (<span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleX</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleY</span>) / <span class="hljs-number">2</span>;</li><li>    context.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">vp2px</span>(halfWidth), <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">vp2px</span>(halfHeight), <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">vp2px</span>(<span class="hljs-number">20</span> * radiusScale));</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">DrawModifierExample</span> {</li><li>  <span class="hljs-comment">// 将自定义绘制前景的类实例化，传入UIContext实例。</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">fullModifier</span>: <span class="hljs-title class_">MyFullDrawModifier</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyFullDrawModifier</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>());</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">frontModifier</span>: <span class="hljs-title class_">MyFrontDrawModifier</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyFrontDrawModifier</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>());</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">drawAnimator</span>: <span class="hljs-title class_">AnimatorResult</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">modifier</span>: <span class="hljs-title class_">DrawModifier</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyFrontDrawModifier</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>());</li><li>  <span class="hljs-keyword">private</span> count = <span class="hljs-number">0</span>;</li><li>
</li><li>  <span class="hljs-title function_">create</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// 设置绘制动画</span></li><li>    <span class="hljs-keyword">let</span> self = <span class="hljs-variable language_">this</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">drawAnimator</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">createAnimator</span>({</li><li>      <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span>,</li><li>      <span class="hljs-attr">easing</span>: <span class="hljs-string">'ease'</span>,</li><li>      <span class="hljs-attr">delay</span>: <span class="hljs-number">0</span>,</li><li>      <span class="hljs-attr">fill</span>: <span class="hljs-string">'forwards'</span>,</li><li>      <span class="hljs-attr">direction</span>: <span class="hljs-string">'normal'</span>,</li><li>      <span class="hljs-attr">iterations</span>: <span class="hljs-number">1</span>,</li><li>      <span class="hljs-attr">begin</span>: <span class="hljs-number">0</span>,</li><li>      <span class="hljs-attr">end</span>: <span class="hljs-number">2</span></li><li>    });</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">drawAnimator</span>.<span class="hljs-property">onFrame</span> = <span class="hljs-function">(<span class="hljs-params">value: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'frame value ='</span>, value);</li><li>      <span class="hljs-keyword">const</span> tempModifier = self.<span class="hljs-property">modifier</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">MyFullDrawModifier</span> | <span class="hljs-title class_">MyFrontDrawModifier</span>;</li><li>      tempModifier.<span class="hljs-property">scaleX</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(value - <span class="hljs-number">1</span>);</li><li>      tempModifier.<span class="hljs-property">scaleY</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(value - <span class="hljs-number">1</span>);</li><li>      self.<span class="hljs-property">modifier</span>.<span class="hljs-title function_">invalidate</span>();</li><li>    };</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Text组件绑定drawModifier'</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>          .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// 修改当前绘制大小</span></li><li>            <span class="hljs-keyword">const</span> tempModifier = <span class="hljs-variable language_">this</span>.<span class="hljs-property">modifier</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">MyFullDrawModifier</span> | <span class="hljs-title class_">MyFrontDrawModifier</span>;</li><li>            tempModifier.<span class="hljs-property">scaleX</span> -= <span class="hljs-number">0.1</span>;</li><li>            tempModifier.<span class="hljs-property">scaleY</span> -= <span class="hljs-number">0.1</span>;</li><li>          })</li><li>          <span class="hljs-comment">// 调用此接口并传入自定义绘制的类实例，即可实现自定义绘制。</span></li><li>          .<span class="hljs-title function_">drawModifier</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">modifier</span>)</li><li>      }</li><li>
</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'create'</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>          .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFF2787D9</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// 创建动画</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">create</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'play'</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>          .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFF2787D9</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// 播放动画</span></li><li>            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">drawAnimator</span>) {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">drawAnimator</span>.<span class="hljs-title function_">play</span>();</li><li>            }</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'changeModifier'</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>          .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFF2787D9</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// 切换modifier</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span> += <span class="hljs-number">1</span>;</li><li>            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span> % <span class="hljs-number">2</span> === <span class="hljs-number">1</span>) {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'change to full modifier'</span>);</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">modifier</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">fullModifier</span>;</li><li>            } <span class="hljs-keyword">else</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'change to front modifier'</span>);</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">modifier</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">frontModifier</span>;</li><li>            }</li><li>          })</li><li>      }</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="243" originwidth="343" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114915.36229621295851614130182464963235:50001231000000:2800:1B3B2A7B48CCDF6DCB66C01007494C5A80C7E3AF5308FE0F7CE76C9F3A23EE3B.gif" width="343" height="243"></span></p>    </div>    <div class="tiledSection">     <h2 id="通过drawforeground进行自定义绘制">通过drawForeground进行自定义绘制<i class="anchor-icon anchor-icon-link" anchorid="通过drawforeground进行自定义绘制" tips="复制节点链接"></i></h2>          <p>通过drawForeground接口，在组件前景层级上对Column组件进行了自定义绘制，从而改变组件前景的绘制效果。</p>     <div _ngcontent-ypm-c106="" class="highlight-div"><div _ngcontent-ypm-c106="" class="highlight-div-header"><div _ngcontent-ypm-c106="" class="highlight-div-header-left"><div _ngcontent-ypm-c106="" class="handle-button expand-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ypm-c106="" class="highlight-div-header-right"><div _ngcontent-ypm-c106="" class="handle-button ai-button"></div><div _ngcontent-ypm-c106="" class="handle-button line-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ypm-c106="" class="handle-button theme-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ypm-c106="" class="handle-button copy-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ypm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyForegroundDrawModifier</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">DrawModifier</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">scaleX</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">3</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">scaleY</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">3</span>;</li><li>  <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>;</li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">uiContext: UIContext</span>) {</li><li>    <span class="hljs-variable language_">super</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span> = uiContext;</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 重载drawForeground方法，实现自定义绘制前景。</span></li><li>  <span class="hljs-title function_">drawForeground</span>(<span class="hljs-attr">context</span>: <span class="hljs-title class_">DrawContext</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">const</span> brush = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Brush</span>();</li><li>    brush.<span class="hljs-title function_">setColor</span>({</li><li>      <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>,</li><li>      <span class="hljs-attr">red</span>: <span class="hljs-number">0</span>,</li><li>      <span class="hljs-attr">green</span>: <span class="hljs-number">50</span>,</li><li>      <span class="hljs-attr">blue</span>: <span class="hljs-number">100</span></li><li>    });</li><li>    context.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">attachBrush</span>(brush);</li><li>    <span class="hljs-keyword">const</span> halfWidth = context.<span class="hljs-property">size</span>.<span class="hljs-property">width</span> / <span class="hljs-number">2</span>;</li><li>    <span class="hljs-keyword">const</span> halfHeight = context.<span class="hljs-property">size</span>.<span class="hljs-property">height</span> / <span class="hljs-number">2</span>;</li><li>    context.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">drawRect</span>({</li><li>      <span class="hljs-attr">left</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">vp2px</span>(halfWidth - <span class="hljs-number">30</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleX</span>),</li><li>      <span class="hljs-attr">top</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">vp2px</span>(halfHeight - <span class="hljs-number">30</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleY</span>),</li><li>      <span class="hljs-attr">right</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">vp2px</span>(halfWidth + <span class="hljs-number">30</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleX</span>),</li><li>      <span class="hljs-attr">bottom</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">vp2px</span>(halfHeight + <span class="hljs-number">30</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">scaleY</span>)</li><li>    });</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">DrawModifierExample</span> {</li><li>  <span class="hljs-comment">// 将自定义绘制前景的类实例化，传入UIContext实例。</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">foregroundModifier</span>: <span class="hljs-title class_">MyForegroundDrawModifier</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyForegroundDrawModifier</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>());</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'此文本是子节点'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">36</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">margin</span>(<span class="hljs-number">50</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-number">280</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0x87CEEB</span>)</li><li>    <span class="hljs-comment">// 调用此接口并传入自定义绘制前景的类实例，即可实现自定义绘制前景。</span></li><li>    .<span class="hljs-title function_">drawModifier</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">foregroundModifier</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="272" originwidth="253" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114915.17722517821492513363905191910662:50001231000000:2800:08D9D21A8ACCD809BC3EC3D7C8C42B222AEB09FBA310FF269840F4ADD3538D7A.png" class="notEnlarge" width="253" height="272"></span></p>    </div>    <div class="tiledSection">     <h2 id="调整自定义绘制canvas的变换矩阵">调整自定义绘制Canvas的变换矩阵<i class="anchor-icon anchor-icon-link" anchorid="调整自定义绘制canvas的变换矩阵" tips="复制节点链接"></i></h2>          <p>从API version 12开始，通过重写DrawModifier中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-draw-modifier#drawcontent" target="_blank">drawContent</a>方法，可以替换组件原本的内容绘制函数。</p>     <p>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-canvas#concatmatrix12" target="_blank">concatMatrix</a>可以调整自定义绘制画布的变换矩阵。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-canvas#gettotalmatrix12" target="_blank">getTotalMatrix</a>获取的是用来记录绘制指令的临时canvas的变换矩阵。</p></li>        <li>         <p>如果开发者希望这个画布进行一个预期的变换，应该使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-canvas#concatmatrix12" target="_blank">concatMatrix</a>而不是<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-canvas#setmatrix12" target="_blank">setMatrix</a>，因为setMatrix会覆盖原本真实canvas上存在的变换矩阵。</p></li>       </ul>      </div></div></div>     <p><strong>ArkTS接口调用示例：</strong></p>     <div _ngcontent-ypm-c106="" class="highlight-div"><div _ngcontent-ypm-c106="" class="highlight-div-header"><div _ngcontent-ypm-c106="" class="highlight-div-header-left"><div _ngcontent-ypm-c106="" class="handle-button expand-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ypm-c106="" class="highlight-div-header-right"><div _ngcontent-ypm-c106="" class="handle-button ai-button"></div><div _ngcontent-ypm-c106="" class="handle-button line-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ypm-c106="" class="handle-button theme-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ypm-c106="" class="handle-button copy-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ypm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">DrawContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">drawImage</span>(<span class="hljs-params">canvas: DrawingCanvas</span>) {</li><li>  <span class="hljs-keyword">let</span> matrix = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Matrix</span>();</li><li>  matrix.<span class="hljs-title function_">setTranslation</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>  canvas.<span class="hljs-title function_">concatMatrix</span>(matrix);</li><li>  <span class="hljs-keyword">const</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>  pen.<span class="hljs-title function_">setStrokeWidth</span>(<span class="hljs-number">5</span>);</li><li>  pen.<span class="hljs-title function_">setColor</span>({</li><li>    <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>,</li><li>    <span class="hljs-attr">red</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">blue</span>: <span class="hljs-number">255</span></li><li>  });</li><li>  canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>  <span class="hljs-keyword">const</span> brush = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Brush</span>();</li><li>  brush.<span class="hljs-title function_">setColor</span>({</li><li>    <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>,</li><li>    <span class="hljs-attr">red</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">blue</span>: <span class="hljs-number">255</span></li><li>  });</li><li>  canvas.<span class="hljs-title function_">attachBrush</span>(brush);</li><li>  canvas.<span class="hljs-title function_">drawRect</span>({</li><li>    <span class="hljs-attr">left</span>: <span class="hljs-number">10</span>,</li><li>    <span class="hljs-attr">top</span>: <span class="hljs-number">10</span>,</li><li>    <span class="hljs-attr">right</span>: <span class="hljs-number">110</span>,</li><li>    <span class="hljs-attr">bottom</span>: <span class="hljs-number">60</span></li><li>  });</li><li>  canvas.<span class="hljs-title function_">detachPen</span>();</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">drawImage1</span>(<span class="hljs-params">canvas: DrawingCanvas</span>) {</li><li>  <span class="hljs-keyword">let</span> matrix = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Matrix</span>();</li><li>  matrix.<span class="hljs-title function_">setTranslation</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>  <span class="hljs-comment">// 1. getTotalMatrix获取的是用来记录绘制指令的临时canvas的变换矩阵</span></li><li>  <span class="hljs-comment">// 2. 如果开发者希望这个画布进行一个预期的变换，应该使用concatMatrix而不是setMatrix，因为setMatrix会覆盖原本真实canvas上存在的变换矩阵</span></li><li>  canvas.<span class="hljs-title function_">getTotalMatrix</span>();</li><li>  canvas.<span class="hljs-title function_">setMatrix</span>(matrix);</li><li>  <span class="hljs-keyword">const</span> pen = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Pen</span>();</li><li>  pen.<span class="hljs-title function_">setStrokeWidth</span>(<span class="hljs-number">5</span>);</li><li>  pen.<span class="hljs-title function_">setColor</span>({</li><li>    <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>,</li><li>    <span class="hljs-attr">red</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">blue</span>: <span class="hljs-number">255</span></li><li>  });</li><li>  canvas.<span class="hljs-title function_">attachPen</span>(pen);</li><li>  <span class="hljs-keyword">const</span> brush = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Brush</span>();</li><li>  brush.<span class="hljs-title function_">setColor</span>({</li><li>    <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>,</li><li>    <span class="hljs-attr">red</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">blue</span>: <span class="hljs-number">255</span></li><li>  });</li><li>  canvas.<span class="hljs-title function_">attachBrush</span>(brush);</li><li>  canvas.<span class="hljs-title function_">drawRect</span>({</li><li>    <span class="hljs-attr">left</span>: <span class="hljs-number">10</span>,</li><li>    <span class="hljs-attr">top</span>: <span class="hljs-number">10</span>,</li><li>    <span class="hljs-attr">right</span>: <span class="hljs-number">110</span>,</li><li>    <span class="hljs-attr">bottom</span>: <span class="hljs-number">60</span></li><li>  });</li><li>  canvas.<span class="hljs-title function_">detachPen</span>();</li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDrawModifier1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">DrawModifier</span> {</li><li>  <span class="hljs-title function_">drawContent</span>(<span class="hljs-attr">drawContext</span>: <span class="hljs-title class_">DrawContext</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-title function_">drawImage1</span>(drawContext.<span class="hljs-property">canvas</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDrawModifier</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">DrawModifier</span> {</li><li>  <span class="hljs-title function_">drawContent</span>(<span class="hljs-attr">drawContext</span>: <span class="hljs-title class_">DrawContext</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-title function_">drawImage</span>(drawContext.<span class="hljs-property">canvas</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">myDrawModifier</span>: <span class="hljs-title class_">MyDrawModifier</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyDrawModifier</span>();</li><li>  <span class="hljs-attr">myDrawModifier1</span>: <span class="hljs-title class_">MyDrawModifier</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyDrawModifier1</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Stack</span>().<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>).<span class="hljs-title function_">drawModifier</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myDrawModifier</span>).<span class="hljs-title function_">position</span>({<span class="hljs-attr">x</span>:<span class="hljs-number">10</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">10</span>})</li><li>      }</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'45%'</span>)</li><li>
</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Stack</span>().<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>).<span class="hljs-title function_">drawModifier</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myDrawModifier1</span>).<span class="hljs-title function_">position</span>({<span class="hljs-attr">x</span>:<span class="hljs-number">10</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">10</span>})</li><li>      }</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'45%'</span>)</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">position</span>({<span class="hljs-attr">x</span>:<span class="hljs-number">10</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">10</span>})</li><li>
</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="836" originwidth="1229" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114915.16456989080690981680016431707474:50001231000000:2800:2580B2EE805DF8FFFED94E20DA2DC668871CB0577E4E9E7CB4368221D8B2051F.png" width="920" height="625.8096013018715"></span></p>    </div>   </div>   <div></div></div>