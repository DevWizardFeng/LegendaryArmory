<h1 _ngcontent-qxm-c119="" class="doc-title ng-star-inserted" title="获取发票抬头"> 获取发票抬头 </h1>

<div _ngcontent-qxm-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="section7996184715557">场景介绍<i class="anchor-icon anchor-icon-link" anchorid="section7996184715557" tips="复制节点链接"></i></h2>          <p>当应用需要获取用户发票抬头时，可使用Account Kit提供的发票助手能力，帮助用户打开发票抬头选择页面进行选择或管理发票抬头。以下对Account Kit提供的发票助手能力进行介绍，获取发票抬头功能还可使用场景化控件<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-button-invoice-title" target="_blank">选择发票抬头Button</a>进行实现。</p>     <p><span><img height="523.794166" originheight="3184" originwidth="1540" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114627.59904779344511979645563594436942:50001231000000:2800:1DAB598B8138D9B6F114494E47CE9F1C1C57EDE393A2A65FB7736A552E39C4A5.png" title="点击放大" width="253.365"></span></p>     <p></p>    </div>    <div class="tiledSection">     <h2 id="section18299248153118">约束与限制<i class="anchor-icon anchor-icon-link" anchorid="section18299248153118" tips="复制节点链接"></i></h2>          <p>Wearable、TV设备暂不支持使用获取发票抬头功能。</p>    </div>    <div class="tiledSection">     <h2 id="section1880201251117">业务流程<i class="anchor-icon anchor-icon-link" anchorid="section1880201251117" tips="复制节点链接"></i></h2>          <p><span><img height="333.165" originheight="475" originwidth="745" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114627.81263728398459335917911407266637:50001231000000:2800:B5E38AF88A077C16E0B04256893FABDB394E0D092562623E67CF3586510F57B7.png" title="点击放大" width="523.6875"></span></p>     <p>流程说明：</p>     <ol>      <li>用户需要使用发票抬头时，应用程序调用选择发票抬头API，打开华为账号发票抬头选择页。</li>      <li>用户可以在发票抬头选择页选择已有发票抬头或者跳转到发票抬头管理页进行增加，点击确认后可将选择的发票抬头返回给应用。</li>     </ol>    </div>    <div class="tiledSection">     <h2 id="section9316122131317">接口说明<i class="anchor-icon anchor-icon-link" anchorid="section9316122131317" tips="复制节点链接"></i></h2>          <p>获取发票抬头关键接口如下表所示，具体API说明详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-invoiceassistant" target="_blank">API参考</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.3.1.3.1.1" valign="top" width="57.010000000000005%">          <p>接口名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.4.3.1.3.1.2" valign="top" width="42.99%">          <p>描述</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="57.010000000000005%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-invoiceassistant#section162103412610" target="_blank">selectInvoiceTitle</a>(context: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-common#context" target="_blank">common.Context</a>): Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-invoiceassistant#section9615740103819" target="_blank">InvoiceTitle</a>&gt;</p></td>         <td class="cellrowborder" valign="top" width="42.99%">          <p>调用该方法打开发票抬头选择页面，使用Promise异步回调返回选择的发票抬头。</p></td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content">       <p>上述接口需在页面或自定义组件生命周期内调用。</p>      </div></div></div>    </div>    <div class="tiledSection">     <h2 id="section74611018114315">开发前提<i class="anchor-icon anchor-icon-link" anchorid="section74611018114315" tips="复制节点链接"></i></h2>          <p>在进行代码开发前，请确保已按照“开发准备”章节中的指导完成<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/account-sign-fingerprints">配置签名和指纹</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/account-client-id">配置Client ID</a>。此场景无需申请账号权限。</p>    </div>    <div class="tiledSection">     <h2 id="section1147115512518">开发步骤<i class="anchor-icon anchor-icon-link" anchorid="section1147115512518" tips="复制节点链接"></i></h2>          <ol>      <li>导入<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-invoiceassistant" target="_blank">invoiceAssistant</a>模块及相关公共模块。       <div _ngcontent-qxm-c106="" class="highlight-div"><div _ngcontent-qxm-c106="" class="highlight-div-header"><div _ngcontent-qxm-c106="" class="highlight-div-header-left"><div _ngcontent-qxm-c106="" class="handle-button expand-button"><div _ngcontent-qxm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qxm-c106="" class="highlight-div-header-right"><div _ngcontent-qxm-c106="" class="handle-button ai-button"></div><div _ngcontent-qxm-c106="" class="handle-button line-button"><div _ngcontent-qxm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qxm-c106="" class="handle-button theme-button"><div _ngcontent-qxm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qxm-c106="" class="handle-button copy-button"><div _ngcontent-qxm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qxm-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { invoiceAssistant } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AccountKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li></ol></pre></div></div></li>      <li>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-invoiceassistant#section162103412610" target="_blank">selectInvoiceTitle</a>方法选择发票抬头页面。       <div _ngcontent-qxm-c106="" class="highlight-div"><div _ngcontent-qxm-c106="" class="highlight-div-header"><div _ngcontent-qxm-c106="" class="highlight-div-header-left"><div _ngcontent-qxm-c106="" class="handle-button expand-button"><div _ngcontent-qxm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qxm-c106="" class="highlight-div-header-right"><div _ngcontent-qxm-c106="" class="handle-button ai-button"></div><div _ngcontent-qxm-c106="" class="handle-button line-button"><div _ngcontent-qxm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qxm-c106="" class="handle-button theme-button"><div _ngcontent-qxm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qxm-c106="" class="handle-button copy-button"><div _ngcontent-qxm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qxm-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 执行请求</span></li><li><span class="hljs-keyword">if</span> (<span class="hljs-title function_">canIUse</span>(<span class="hljs-string">'SystemCapability.HuaweiID.InvoiceAssistant'</span>)) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 此示例为代码片段，实际需在自定义组件实例中使用，以获取UIContext对象作为函数入参</span></li><li>    invoiceAssistant.<span class="hljs-title function_">selectInvoiceTitle</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>())</li><li>      .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: invoiceAssistant.InvoiceTitle</span>) =&gt;</span> {</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeeded in selecting invoice title'</span>);</li><li>        <span class="hljs-keyword">const</span> <span class="hljs-attr">type</span>: <span class="hljs-built_in">string</span> = data.<span class="hljs-property">type</span>;</li><li>        <span class="hljs-keyword">const</span> <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span> = data.<span class="hljs-property">title</span>;</li><li>        <span class="hljs-keyword">const</span> <span class="hljs-attr">taxNumber</span>: <span class="hljs-built_in">string</span> = data.<span class="hljs-property">taxNumber</span>;</li><li>        <span class="hljs-keyword">const</span> <span class="hljs-attr">companyAddress</span>: <span class="hljs-built_in">string</span> = data.<span class="hljs-property">companyAddress</span>;</li><li>        <span class="hljs-keyword">const</span> <span class="hljs-attr">telephone</span>: <span class="hljs-built_in">string</span> = data.<span class="hljs-property">telephone</span>;</li><li>        <span class="hljs-keyword">const</span> <span class="hljs-attr">bankName</span>: <span class="hljs-built_in">string</span> = data.<span class="hljs-property">bankName</span>;</li><li>        <span class="hljs-keyword">const</span> <span class="hljs-attr">bankAccount</span>: <span class="hljs-built_in">string</span> = data.<span class="hljs-property">bankAccount</span>;</li><li>
</li><li>        <span class="hljs-comment">// 开发者处理type, title, taxNumber, companyAddress, telephone, bankName, bankAccount</span></li><li>        <span class="hljs-comment">// ...</span></li><li>
</li><li>      })</li><li>      .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError&lt;<span class="hljs-built_in">Object</span>&gt;</span>) =&gt;</span> {</li><li>        <span class="hljs-title function_">dealAllError</span>(error);</li><li>      })</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-title function_">dealAllError</span>(error);</li><li>  }</li><li>} <span class="hljs-keyword">else</span> {</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>,</li><li>    <span class="hljs-string">'The current device does not support the invoking of the selectInvoiceTitle interface.'</span>);</li><li>}</li></ol></pre></div></div>       <p></p>       <div _ngcontent-qxm-c106="" class="highlight-div"><div _ngcontent-qxm-c106="" class="highlight-div-header"><div _ngcontent-qxm-c106="" class="highlight-div-header-left"><div _ngcontent-qxm-c106="" class="handle-button expand-button"><div _ngcontent-qxm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qxm-c106="" class="highlight-div-header-right"><div _ngcontent-qxm-c106="" class="handle-button ai-button"></div><div _ngcontent-qxm-c106="" class="handle-button line-button"><div _ngcontent-qxm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qxm-c106="" class="handle-button theme-button"><div _ngcontent-qxm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qxm-c106="" class="handle-button copy-button"><div _ngcontent-qxm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qxm-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 错误处理</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">dealAllError</span>(<span class="hljs-params">error: BusinessError&lt;<span class="hljs-built_in">Object</span>&gt;</span>): <span class="hljs-built_in">void</span> {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to selectInvoiceTitle. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>}</li></ol></pre></div></div></li>     </ol>    </div>   </div>   <div></div></div>