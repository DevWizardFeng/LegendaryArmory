<h1 _ngcontent-tpa-c119="" class="doc-title ng-star-inserted" title="请求自绘制内容绘制帧率"> 请求自绘制内容绘制帧率 </h1>

<div _ngcontent-tpa-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>对于基于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/napi-xcomponent-guidelines">XComponent</a>进行Native开发的业务，可以请求独立的绘制帧率进行内容开发，如游戏、自绘制UI框架对接等场景。</p>    <div class="tiledSection">     <h2 id="接口说明">接口说明<i class="anchor-icon anchor-icon-link" anchorid="接口说明" tips="复制节点链接"></i></h2>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.2.2.1.3.1.1" valign="top" width="50%">函数名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.2.2.1.3.1.2" valign="top" width="50%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">OH_NativeXComponent_SetExpectedFrameRateRange (OH_NativeXComponent *component, OH_NativeXComponent_ExpectedRateRange *range)</td>         <td class="cellrowborder" valign="top" width="50%">设置帧期望的帧率范围。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">OH_NativeXComponent_RegisterOnFrameCallback (OH_NativeXComponent *component, OH_NativeXComponent_OnFrameCallback *callback)</td>         <td class="cellrowborder" valign="top" width="50%">设置每帧回调函数，同时启动每帧回调。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">OH_NativeXComponent_UnRegisterOnFrameCallback (OH_NativeXComponent *component)</td>         <td class="cellrowborder" valign="top" width="50%">取消注册的每帧回调函数，同时停止调用回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p>详细的接口说明请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-nativexcomponent-native-xcomponent" target="_blank">OH_NativeXComponent Native XComponent</a>。</p>    </div>    <div class="tiledSection">     <h2 id="开发步骤">开发步骤<i class="anchor-icon anchor-icon-link" anchorid="开发步骤" tips="复制节点链接"></i></h2>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>本范例是通过Drawing在Native侧实现图形的绘制，并将其呈现在NativeWindow上，具体可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/graphic-drawing-overview">使用Drawing实现图形绘制与显示</a>。</p>      </div></div></div>     <ol>      <li>       <p>添加开发依赖。</p>       <p>CMakeLists.txt中添加以下lib。</p>       <div _ngcontent-tpa-c106="" class="highlight-div"><div _ngcontent-tpa-c106="" class="highlight-div-header"><div _ngcontent-tpa-c106="" class="highlight-div-header-left"><div _ngcontent-tpa-c106="" class="handle-button expand-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tpa-c106="" class="highlight-div-header-right"><div _ngcontent-tpa-c106="" class="handle-button ai-button"></div><div _ngcontent-tpa-c106="" class="handle-button line-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tpa-c106="" class="handle-button theme-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tpa-c106="" class="handle-button copy-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tpa-c106="" class="highlight-scroll-div"><pre class="txt prettyprint linenums hljs language-plaintext" hw-language="txt" data-highlighted="yes"><ol class="linenums"><li>libace_napi.z.so</li><li>libace_ndk.z.so</li><li>libnative_window.so</li><li>libnative_drawing.so</li></ol></pre></div></div>       <p>导入依赖的相关头文件。</p>       <div _ngcontent-tpa-c106="" class="highlight-div"><div _ngcontent-tpa-c106="" class="highlight-div-header"><div _ngcontent-tpa-c106="" class="highlight-div-header-left"><div _ngcontent-tpa-c106="" class="handle-button expand-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tpa-c106="" class="highlight-div-header-right"><div _ngcontent-tpa-c106="" class="handle-button ai-button"></div><div _ngcontent-tpa-c106="" class="handle-button line-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tpa-c106="" class="handle-button theme-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tpa-c106="" class="handle-button copy-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tpa-c106="" class="highlight-scroll-div"><pre class="prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;ace/xcomponent/native_interface_xcomponent.h&gt;</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"napi/native_api.h"</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;native_drawing/drawing_bitmap.h&gt;</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;native_drawing/drawing_color.h&gt;</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;native_drawing/drawing_canvas.h&gt;</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;native_drawing/drawing_pen.h&gt;</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;native_drawing/drawing_brush.h&gt;</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;native_drawing/drawing_path.h&gt;</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;native_drawing/drawing_text_typography.h&gt;</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;native_window/external_window.h&gt;</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cmath&gt;</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdint.h&gt;</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;sys/mman.h&gt;</span></span></li></ol></pre></div></div></li>      <li>       <p>定义ArkTS接口文件XComponentContext.ts，用来对接Native层。</p>       <div _ngcontent-tpa-c106="" class="highlight-div"><div _ngcontent-tpa-c106="" class="highlight-div-header"><div _ngcontent-tpa-c106="" class="highlight-div-header-left"><div _ngcontent-tpa-c106="" class="handle-button expand-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tpa-c106="" class="highlight-div-header-right"><div _ngcontent-tpa-c106="" class="handle-button ai-button"></div><div _ngcontent-tpa-c106="" class="handle-button line-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tpa-c106="" class="handle-button theme-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tpa-c106="" class="handle-button copy-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tpa-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">XComponentContext</span> {</li><li><span class="hljs-title function_">register</span>(): <span class="hljs-built_in">void</span>;</li><li><span class="hljs-title function_">unregister</span>(): <span class="hljs-built_in">void</span>;</li><li>};</li></ol></pre></div></div></li>      <li>       <p>定义演示页面，包含两个XComponent组件。</p>       <div _ngcontent-tpa-c106="" class="highlight-div"><div _ngcontent-tpa-c106="" class="highlight-div-header"><div _ngcontent-tpa-c106="" class="highlight-div-header-left"><div _ngcontent-tpa-c106="" class="handle-button expand-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tpa-c106="" class="highlight-div-header-right"><div _ngcontent-tpa-c106="" class="handle-button ai-button"></div><div _ngcontent-tpa-c106="" class="handle-button line-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tpa-c106="" class="handle-button theme-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tpa-c106="" class="handle-button copy-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tpa-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> <span class="hljs-title class_">XComponentContext</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"../interface/XComponentContext"</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">xComponentContext1</span>: <span class="hljs-title class_">XComponentContext</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">xComponentContext2</span>: <span class="hljs-title class_">XComponentContext</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  </li><li> <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>   <span class="hljs-title class_">Column</span>() {</li><li>     <span class="hljs-title class_">Row</span>() {</li><li>       <span class="hljs-title class_">XComponent</span>({ <span class="hljs-attr">id</span>: <span class="hljs-string">'xcomponentId_30'</span>, <span class="hljs-attr">type</span>: <span class="hljs-title class_">XComponentType</span>.<span class="hljs-property">SURFACE</span>, <span class="hljs-attr">libraryname</span>: <span class="hljs-string">'entry'</span> })</li><li>         .<span class="hljs-title function_">onLoad</span>(<span class="hljs-function">(<span class="hljs-params">xComponentContext</span>) =&gt;</span> {</li><li>           <span class="hljs-variable language_">this</span>.<span class="hljs-property">xComponentContext1</span> = xComponentContext <span class="hljs-keyword">as</span> <span class="hljs-title class_">XComponentContext</span>;</li><li>         }).<span class="hljs-title function_">width</span>(<span class="hljs-string">'832px'</span>)</li><li>     }.<span class="hljs-title function_">height</span>(<span class="hljs-string">'40%'</span>)</li><li>
</li><li>     <span class="hljs-title class_">Row</span>() {</li><li>       <span class="hljs-title class_">XComponent</span>({ <span class="hljs-attr">id</span>: <span class="hljs-string">'xcomponentId_120'</span>, <span class="hljs-attr">type</span>: <span class="hljs-title class_">XComponentType</span>.<span class="hljs-property">SURFACE</span>, <span class="hljs-attr">libraryname</span>: <span class="hljs-string">'entry'</span> })</li><li>         .<span class="hljs-title function_">onLoad</span>(<span class="hljs-function">(<span class="hljs-params">xComponentContext</span>) =&gt;</span> {</li><li>           <span class="hljs-variable language_">this</span>.<span class="hljs-property">xComponentContext2</span> = xComponentContext <span class="hljs-keyword">as</span> <span class="hljs-title class_">XComponentContext</span>;</li><li>         }).<span class="hljs-title function_">width</span>(<span class="hljs-string">'832px'</span>) <span class="hljs-comment">// Multiples of 64</span></li><li>     }.<span class="hljs-title function_">height</span>(<span class="hljs-string">'40%'</span>)</li><li>   }</li><li> }</li><li>}</li></ol></pre></div></div></li>      <li>       <p>Native层配置帧率和注册回调函数。</p>       <div _ngcontent-tpa-c106="" class="highlight-div"><div _ngcontent-tpa-c106="" class="highlight-div-header"><div _ngcontent-tpa-c106="" class="highlight-div-header-left"><div _ngcontent-tpa-c106="" class="handle-button expand-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tpa-c106="" class="highlight-div-header-right"><div _ngcontent-tpa-c106="" class="handle-button ai-button"></div><div _ngcontent-tpa-c106="" class="handle-button line-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tpa-c106="" class="handle-button theme-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tpa-c106="" class="handle-button copy-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tpa-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-title class_">TestCallback</span>(OH_NativeXComponent *component, uint64_t timestamp, uint64_t targetTimestamp) <span class="hljs-comment">// 定义每帧的回调函数</span></li><li>{</li><li>    <span class="hljs-comment">// ...</span></li><li>    <span class="hljs-comment">// 获取XComponent的surface大小</span></li><li>    int32_t xSize = <span class="hljs-title function_">OH_NativeXComponent_GetXComponentSize</span>(component, nativeWindow, &amp;width, &amp;height);</li><li>    <span class="hljs-keyword">if</span> ((xSize == <span class="hljs-variable constant_">OH_NATIVEXCOMPONENT_RESULT_SUCCESS</span>) &amp;&amp; (render != nullptr)) {</li><li>        render-&gt;<span class="hljs-title class_">Prepare</span>();</li><li>        render-&gt;<span class="hljs-title class_">Create</span>();</li><li>        <span class="hljs-keyword">if</span> (id == <span class="hljs-string">"xcomponentId_30"</span>) {</li><li>            <span class="hljs-comment">// 30Hz绘制时,每帧移动的距离为16像素</span></li><li>            render-&gt;<span class="hljs-title class_">ConstructPath</span>(<span class="hljs-number">16</span>, <span class="hljs-number">16</span>, render-&gt;defaultOffsetY);</li><li>        }</li><li>        <span class="hljs-keyword">if</span> (id == <span class="hljs-string">"xcomponentId_120"</span>) {</li><li>            <span class="hljs-comment">// 120Hz绘制时，每帧移动的距离为4像素</span></li><li>            render-&gt;<span class="hljs-title class_">ConstructPath</span>(<span class="hljs-number">4</span>, <span class="hljs-number">4</span>, render-&gt;defaultOffsetY);</li><li>        }</li><li>       <span class="hljs-comment">// ...</span></li><li>    }</li><li>}</li></ol></pre></div></div>       <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">         <ul>          <li>Callback回调函数运行于UI主线程，故涉及UI线程的耗时操作不应运行于回调函数中，以免影响性能。</li>          <li>实例在调用OH_NativeXComponent_RegisterOnFrameCallback后，在不需要进行帧率控制时，应进行OH_NativeXComponent_UnregisterOnFrameCallback操作，避免内存泄漏及性能功耗影响。</li>          <li>API version 18之前，应用调用OH_NativeXComponent_RegisterOnFrameCallback接口设置回调函数，如果没有取消注册，在XComponent实例存在期间，能一直收到期望回调。</li>          <li>从API version 18开始，应用调用OH_NativeXComponent_RegisterOnFrameCallback接口设置回调函数，如果没有取消注册，只在XComponent上树期间，能收到期望回调。</li>         </ul>        </div></div></div>       <div _ngcontent-tpa-c106="" class="highlight-div"><div _ngcontent-tpa-c106="" class="highlight-div-header"><div _ngcontent-tpa-c106="" class="highlight-div-header-left"><div _ngcontent-tpa-c106="" class="handle-button expand-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tpa-c106="" class="highlight-div-header-right"><div _ngcontent-tpa-c106="" class="handle-button ai-button"></div><div _ngcontent-tpa-c106="" class="handle-button line-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tpa-c106="" class="handle-button theme-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tpa-c106="" class="handle-button copy-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tpa-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-built_in">void</span> <span class="hljs-title class_">SampleXComponent</span>::<span class="hljs-title class_">RegisterOnFrameCallback</span>(OH_NativeXComponent *nativeXComponent)</li><li>{</li><li>    <span class="hljs-title function_">OH_NativeXComponent_RegisterOnFrameCallback</span>(nativeXComponent, <span class="hljs-title class_">TestCallback</span>); <span class="hljs-comment">// 注册回调函数，并使能每帧回调</span></li><li>}</li><li>
</li><li>napi_value <span class="hljs-title class_">SampleXComponent</span>::<span class="hljs-title class_">NapiRegister</span>(napi_env env, napi_callback_info info)</li><li>{</li><li>    <span class="hljs-comment">// ...</span></li><li>    render-&gt;<span class="hljs-title class_">RegisterOnFrameCallback</span>(nativeXComponent); <span class="hljs-comment">// 在TS层使能注册与使能每帧回调</span></li><li>    <span class="hljs-comment">// ...</span></li><li>}</li><li>
</li><li>napi_value <span class="hljs-title class_">SampleXComponent</span>::<span class="hljs-title class_">NapiUnregister</span>(napi_env env, napi_callback_info info)</li><li>{</li><li>    <span class="hljs-comment">// ...</span></li><li>    <span class="hljs-title function_">OH_NativeXComponent_UnregisterOnFrameCallback</span>(nativeXComponent); <span class="hljs-comment">// 在TS层取消注册每帧回调</span></li><li>    <span class="hljs-comment">// ...</span></li><li>}</li></ol></pre></div></div></li>      <li>       <p>TS层注册和取消注册每帧回调。</p>       <div _ngcontent-tpa-c106="" class="highlight-div"><div _ngcontent-tpa-c106="" class="highlight-div-header"><div _ngcontent-tpa-c106="" class="highlight-div-header-left"><div _ngcontent-tpa-c106="" class="handle-button expand-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-tpa-c106="" class="highlight-div-header-right"><div _ngcontent-tpa-c106="" class="handle-button ai-button"></div><div _ngcontent-tpa-c106="" class="handle-button line-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-tpa-c106="" class="handle-button theme-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-tpa-c106="" class="handle-button copy-button"><div _ngcontent-tpa-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-tpa-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Row</span>() {</li><li>    <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Start'</span>)</li><li>      .<span class="hljs-title function_">id</span>(<span class="hljs-string">'Start'</span>)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">14</span>)</li><li>      .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-number">500</span>)</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">bottom</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">6</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">6</span> })</li><li>      .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">xComponentContext1</span>) {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">xComponentContext1</span>.<span class="hljs-title function_">register</span>();</li><li>        }</li><li>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">xComponentContext2</span>) {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">xComponentContext2</span>.<span class="hljs-title function_">register</span>();</li><li>        }</li><li>      })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'30%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">40</span>)</li><li>      .<span class="hljs-title function_">shadow</span>(<span class="hljs-title class_">ShadowStyle</span>.<span class="hljs-property">OUTER_DEFAULT_LG</span>)</li><li>    </li><li>    <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Stop'</span>)</li><li>      .<span class="hljs-title function_">id</span>(<span class="hljs-string">'Stop'</span>)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">14</span>)</li><li>      .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-number">500</span>)</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">bottom</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">6</span> })</li><li>      .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">xComponentContext1</span>) {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">xComponentContext1</span>.<span class="hljs-title function_">unregister</span>();</li><li>        }</li><li>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">xComponentContext2</span>) {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">xComponentContext2</span>.<span class="hljs-title function_">unregister</span>();</li><li>        }</li><li>      })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'30%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">40</span>)</li><li>      .<span class="hljs-title function_">shadow</span>(<span class="hljs-title class_">ShadowStyle</span>.<span class="hljs-property">OUTER_DEFAULT_LG</span>)</li><li>}</li></ol></pre></div></div></li>     </ol>    </div>   </div>   <div></div></div>