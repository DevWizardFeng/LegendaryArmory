<h1 _ngcontent-wlm-c119="" class="doc-title ng-star-inserted" title="跨语言代码编辑"> 跨语言代码编辑 </h1>

<div _ngcontent-wlm-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000001838821973"><div class="tiledSection"><h2 id="section16243518171312">生成胶水代码函数框架<i class="anchor-icon anchor-icon-link" anchorid="section16243518171312" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002510294335__p8060118">DevEco Studio提供跨语言代码编辑功能。当开发者需要使用NAPI封装暴露给ArkTS/JS的接口时，在Cpp头文件内，通过右键Generate &gt; NAPI，快速生成当前函数或类的胶水代码函数框架。</p> <ol id="ZH-CN_TOPIC_0000002510294335__ol19824191151"><li id="li9982151917514"><span>检查当前Cpp工程entry &gt; src &gt; main &gt; cpp路径下，是否已包含napi_init.cpp文件。如不存在该文件，请在头文件（头文件支持类型：.hpp，.hxx，.hh，.h）中，将光标放置在任意函数名/类名处（当前支持bool，int，string，void，float，double，std::array，std::vector等参数类型），单击右键选择Generate &gt; NAPI，生成胶水代码框架文件napi_init.cpp。</span><p></p><p id="ZH-CN_TOPIC_0000002510294335__p153071651111918"><span><img height="275.31" originheight="381" originwidth="723" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104825.16040609477731589047182643951178:50001231000000:2800:4C0EC022088FAA11F53509F34614D8B8D35F96E49FAA0EA9F307395EF0A00099.png" title="点击放大" width="523.6875"></span></p> <p></p></li><li id="li794352112611"><span>若工程中已存在或创建完成napi_init.cpp文件，请在头文件中需要被调用的函数/类名处，单击右键选择Generate &gt; NAPI，将在napi_init.cpp文件napi_property_descriptor字段中分别注册对应的函数/类的信息。</span><p></p><p id="ZH-CN_TOPIC_0000002510294335__p13652172616395"><span><img originheight="381" originwidth="1322" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104825.65987948304484289358248655651100:50001231000000:2800:63CBD59762B417CDD868D2AD110E83FEAF6ED393EC87D5D06ADE7C819842F602.png" width="920" height="265.14372163388805"></span></p> <p></p></li><li id="li13464715273"><span>在napi_init.cpp文件中TODO位置，补充相应的功能实现代码。</span><p></p><p id="ZH-CN_TOPIC_0000002510294335__p9564153493912"><span><img originheight="380" originwidth="1029" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104826.93703010022412800542955741090966:50001231000000:2800:30F5EBB9A13E9A056DEB9C875B6B346EA24527CDF7BFC6AF9A0A9CA5664F8146.png" width="920" height="339.7473275024295"></span></p> <p></p></li></ol> </div> <div class="tiledSection"><h2 id="section8801651111318">跨语言快速生成函数定义<i class="anchor-icon anchor-icon-link" anchorid="section8801651111318" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002510294335__p66701642155914">当前支持在跨语言的d.ts文件中，通过Generate native implementation功能，一键生成C++文件中对应函数定义。</p> <p id="ZH-CN_TOPIC_0000002510294335__p18210912141">将光标悬浮在未定义的函数名处，在悬浮窗中点击<strong>Generate native implementation</strong>，或点击页面上出现的红色灯泡图标，选择<strong>Generate native implementation</strong>，生成函数定义。</p> <p id="ZH-CN_TOPIC_0000002510294335__p28741855101214"><span><img originheight="595" originwidth="1372" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104826.48601798262373159129355734138211:50001231000000:2800:A1B6E269C78AF16B1FAEF968705711DFB1244FE16616B95B345EE8E4CBAE7430.gif" width="920" height="398.9795918367347"></span></p> </div> </div> <div></div></div>