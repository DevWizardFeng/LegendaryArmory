<h1 _ngcontent-eeu-c119="" class="doc-title ng-star-inserted" title="退款"> 退款 </h1>

<div _ngcontent-eeu-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>当<a href="/consumer/cn/doc/harmonyos-guides/iap-refund#section435204014114">用户申请退款</a>时，对于非游戏类应用，开发者可以在<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank">AppGallery Connect</a>上审核退款订单，实现用户的退款。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <ul>       <li>退款只能由用户发起，具体参见<a href="/consumer/cn/doc/harmonyos-guides/iap-refund#section435204014114">用户申请退款</a>。</li>       <li>对于游戏类应用，<a href="/consumer/cn/doc/harmonyos-guides/iap-refund#section435204014114">用户申请退款</a>后，由华为游戏运营人员审核退款，开发者可跳过此章节。</li>      </ul>     </div></div></div>    <div class="tiledSection">     <h2 id="section1535502255015">开发者审核退款订单<i class="anchor-icon anchor-icon-link" anchorid="section1535502255015" tips="复制节点链接"></i></h2>          <p>开发者使用退款管理功能，需要拥有至少一个具备退款权限的角色：账号持有者、管理员、App管理员、财务。具体可查看<a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-manageaccount-0000001099996700#section151241455193313" target="_blank">添加成员账号</a>。</p>     <p>添加完账号后，开发者可按照以下步骤审核用户的退款订单：</p>     <ol>      <li><span>开发者登录<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank">AppGallery Connect</a>，选择“APP”。 在应用列表中点击待处理退款订单的应用。</span>       <p></p>       <p><span><img height="116.76333333333332" originheight="190" originwidth="1497" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114523.09184284461522958567922907654344:50001231000000:2800:F511A0FDE18359DBD3EA020A12EBE94632759A5F13B428FD428E5B6825D2C7A2.png" title="点击放大" width="920"></span></p>       <p></p>       <p></p></li>      <li><span>在“运营”页签下，点击“产品运营 &gt; 退款管理”，查看用户提交的退款申请，处理退款订单。</span>       <p></p>       <p><span><img height="274.3644444444445" originheight="558" originwidth="1871" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114523.15325901990507481803731151301557:50001231000000:2800:76567B9CE5C620227CDF3CC80D78A4B47230F77DC243E729C49B266F80BC45B2.png" title="点击放大" width="920"></span></p>       <p></p>       <p></p></li>      <li><span>审核或查询退款订单。</span>       <p></p>       <p><strong>同意退款</strong>：如果开发者同意退款，可在 “退款金额“下输入可退款金额，点击“同意”。在弹窗中点击“确认”，即可完成退款。</p>       <p><span><img height="311.4838888888889" originheight="317" originwidth="948" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114523.03667605680498033256930003836282:50001231000000:2800:92829FAF4727CF43CF8197F333BD84A7F08AF46901653A462638F1CE8EBED3CA.png" title="点击放大" width="920"></span></p>       <p></p>       <p><strong>驳回退款</strong>：开发者不同意退款，可点击“驳回”，输入驳回原因，点击“确认”。</p>       <p><span><img height="342.125" originheight="351" originwidth="953" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114523.76583133777036224182183513811274:50001231000000:2800:E6B76B3DDEEE87AD962882F2C99D4037434A3EF8E03C831B2ECAB61DB66EC3DB.png" title="点击放大" width="920"></span></p>       <p></p>       <p><strong>退款详情页面审核退款</strong>：开发者也可以在退款详情页面审核退款，输入退款金额后选择“同意”或“驳回”，点击提交，完成审核。</p>       <p><span><img height="466.7083333333333" originheight="481" originwidth="948" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114523.20035393128399838431838306340084:50001231000000:2800:C4887409F2D50CCB08CD7D9D55A29C80237BC9295BB0DC711B5B33782DBE9FBD.png" title="点击放大" width="920"></span></p>       <p></p>       <p><strong>查询退款订单</strong>：点击“已完成”页签，开发者可以查看所有已处理的退款订单。</p>       <p><span><img height="373.2133333333333" originheight="658" originwidth="1622" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114523.09850018883221361883963557634913:50001231000000:2800:C35E0A0CA2D87BE850375EFA231737D39F58BAB8263643DE37D95D61600948A6.png" title="点击放大" width="920"></span></p>       <p></p>       <p>退款订单状态如下：</p>       <div class="tablenoborder">        <div class="tbBox"><table class="layoutFixed idpTab">                   <tbody><tr>           <td class="cellrowborder" valign="top" width="12.26%">            <p><strong>序号</strong></p></td>           <td class="cellrowborder" valign="top" width="24.52%">            <p><strong>退款订单状态</strong></p></td>           <td class="cellrowborder" valign="top" width="63.22%">            <p><strong>说明</strong></p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="12.26%">            <p>1</p></td>           <td class="cellrowborder" valign="top" width="24.52%">            <p>申请已拒绝</p></td>           <td class="cellrowborder" valign="top" width="63.22%">            <p>开发者驳回退款订单。</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="12.26%">            <p>2</p></td>           <td class="cellrowborder" valign="top" width="24.52%">            <p>申请已通过</p></td>           <td class="cellrowborder" valign="top" width="63.22%">            <p>开发者同意退款订单。</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="12.26%">            <p>3</p></td>           <td class="cellrowborder" valign="top" width="24.52%">            <p>退款成功</p></td>           <td class="cellrowborder" valign="top" width="63.22%">            <p>开发者同意退款，且华为操作退款成功。</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="12.26%">            <p>4</p></td>           <td class="cellrowborder" valign="top" width="24.52%">            <p>退款失败</p></td>           <td class="cellrowborder" valign="top" width="63.22%">            <p>开发者同意退款，且华为操作退款失败。</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="12.26%">            <p>5</p></td>           <td class="cellrowborder" valign="top" width="24.52%">            <p>超期未处理</p></td>           <td class="cellrowborder" valign="top" width="63.22%">            <p>开发者未按规定时间处理退款订单时，退款订单由华为运营进行审核。</p></td>          </tr>                 </tbody></table></div>       </div>       <p></p></li>     </ol>    </div>    <div class="tiledSection">     <h2 id="section435204014114">用户申请退款<i class="anchor-icon anchor-icon-link" anchorid="section435204014114" tips="复制节点链接"></i></h2>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>生态应用订单退款最低系统版本要求为6.16.10（检查版本可参考以下路径“系统设置-华为账号-付款与账单-更多设置-关于”）。</li>        <li>退款申请后到退款完成非实时，一般从发起申请退款到完成需要7个工作日左右。</li>       </ul>      </div></div></div>     <p>若用户购买应用内数字商品后需要申请退款，可选择某笔订单后根据页面指引，提交退款信息。开发者审核完成后，用户可收到退款金额。</p>     <p>用户可按照以下步骤申请订单退款：</p>     <ol>      <li><span>在“手机设置 &gt; 华为账号 &gt; 付款与账单 &gt; 购买记录”中点击待退款的订单，跳转至详情页面，点击“对订单有疑问”。</span>       <p></p>       <p><span><img height="549.9151" originheight="1026" originwidth="494" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114523.54789266321107114727380588870785:50001231000000:2800:BC311FEB45A9CE7ECB2B02D2EA29752168D4F67EB779118C4DA3930C46A41ED1.png" title="点击放大" width="266"></span><span><img height="549.9151" originheight="1026" originwidth="494" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114523.64294974349319142832077433661922:50001231000000:2800:CB0A45A2294AFFCF15628202AF0F55F98618250EC5CE15487F2E61607A77F1EA.png" title="点击放大" width="266"></span></p>       <p></p>       <p></p></li>      <li><span>在“对订单有疑问”页面，点击“申请退款”，选择退款原因后，提交退款申请，提交后等待应用审核。</span>       <p></p>       <p><span><img height="549.7289" originheight="2258" originwidth="1092" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114523.96766351508843239543376218846319:50001231000000:2800:83F136EAE9EBCFC4FC5767C53032AB609BC69FBF2FE73A4DEB17EA67C8EA4F40.png" title="点击放大" width="266"></span><span><img height="549.2235000000001" originheight="2258" originwidth="1093" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114523.50151693108879213779538353419770:50001231000000:2800:A47ED4A6B626A6BDBA120200CB70DD74527ADB366A2B1FDDAE48A247C62D019E.png" title="点击放大" width="266"></span></p>       <p></p>       <p>用户提交退款后，可点击“查看退款记录”，在“退款记录”查看所有退款订单的退款状态。</p>       <p><span><img height="549.9151" originheight="1026" originwidth="494" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114524.64082323785661980709435576521433:50001231000000:2800:2314908115F6D837E9E2F4114A146E7F223725E0768927C25CC2AC6B20AE52B5.png" title="点击放大" width="266"></span><span><img height="549.9151" originheight="1026" originwidth="494" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114524.05988337407971269401923964720440:50001231000000:2800:BBC539C28E1CBAA5462807D5C90A6CC4BBFFA9CDB601E6D914DA5C2F108837DA.png" title="点击放大" width="266"></span></p>       <p></p></li>     </ol>     <p></p>    </div>    <div class="tiledSection">     <h2 id="section13850184720182">应用内接入退款入口<i class="anchor-icon anchor-icon-link" anchorid="section13850184720182" tips="复制节点链接"></i></h2>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>仅支持非游戏类应用接入。</li>        <li>该退款入口仅支持应用本身所产生的订单的退款。</li>       </ul>      </div></div></div>     <p><strong>拉起退款</strong></p>     <p>用户发起退款后，应用客户端向IAP Kit发送<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/iap-iap#section3308191561314" target="_blank">createRefundRequest</a>请求拉起退款页面，请求中需携带待退款的订单号（purchaseOrderId）。</p>     <p><strong>代码示例</strong></p>     <div _ngcontent-eeu-c106="" class="highlight-div"><div _ngcontent-eeu-c106="" class="highlight-div-header"><div _ngcontent-eeu-c106="" class="highlight-div-header-left"><div _ngcontent-eeu-c106="" class="handle-button expand-button"><div _ngcontent-eeu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eeu-c106="" class="highlight-div-header-right"><div _ngcontent-eeu-c106="" class="handle-button ai-button"></div><div _ngcontent-eeu-c106="" class="handle-button line-button"><div _ngcontent-eeu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eeu-c106="" class="handle-button theme-button"><div _ngcontent-eeu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eeu-c106="" class="handle-button copy-button"><div _ngcontent-eeu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eeu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { iap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.IAPKit'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>
</li><li>  <span class="hljs-comment">/**</span></li><li><span class="hljs-comment">   * 拉起退款界面</span></li><li><span class="hljs-comment">   */</span></li><li>  <span class="hljs-title function_">createRefundRequest</span>(<span class="hljs-params">context: common.UIAbilityContext</span>) {</li><li>    <span class="hljs-comment">// 调用iap.createRefundRequest拉起退款，传入context和purchaseOrderId</span></li><li>    <span class="hljs-keyword">let</span> purchaseOrderId = <span class="hljs-string">''</span>;</li><li>    iap.<span class="hljs-title function_">createRefundRequest</span>(context, purchaseOrderId).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-comment">// 退款成功</span></li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in create refund request.'</span>);</li><li>      <span class="hljs-comment">// ...</span></li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-comment">// 退款失败</span></li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create refund request. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-comment">// ...</span></li><li>    });</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {}</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>