<h1 _ngcontent-meh-c119="" class="doc-title ng-star-inserted" title="选项卡 (Tabs)"> 选项卡 (Tabs) </h1>

<div _ngcontent-meh-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>当页面信息较多时，为了让用户能够聚焦于当前显示的内容，需要对页面内容进行分类，提高页面空间利用率。<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-tabs" target="_blank">Tabs</a>组件可以在一个页面内快速实现视图内容的切换，一方面提升查找信息的效率，另一方面精简用户单次获取到的信息量。</p>    <div class="tiledSection">     <h2 id="基本布局">基本布局<i class="anchor-icon anchor-icon-link" anchorid="基本布局" tips="复制节点链接"></i></h2>          <p>Tabs组件的页面组成包含两个部分，分别是<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-tabcontent" target="_blank">TabContent</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-tabcontent#tabbar" target="_blank">TabBar</a>。TabContent是内容页，TabBar是导航页签栏，页面结构如下图所示，根据不同的导航类型，布局会有区别，可以分为底部导航、顶部导航、侧边导航，其导航栏分别位于底部、顶部和侧边。</p>     <p><strong>图1</strong> Tabs组件布局示意图</p>     <p><span><img originheight="384" originwidth="801" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114943.72105528058232942569516728580540:50001231000000:2800:C2AB12B6A8D1E4420D64390C22615E36A8512F0D715406CF599DA165D3C0D3D5.png" width="801" height="384"></span></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>TabContent组件不支持设置通用宽度属性，其宽度默认撑满Tabs父组件。</p></li>        <li>         <p>TabContent组件不支持设置通用高度属性，其高度由Tabs父组件高度与TabBar组件高度决定。</p></li>       </ul>      </div></div></div>     <p>Tabs使用花括号包裹TabContent，如图2，其中TabContent显示相应的内容页。</p>     <p><strong>图2</strong> Tabs与TabContent使用</p>     <p><span><img originheight="236" originwidth="189" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114943.74355277148387857433288783371241:50001231000000:2800:EDD6C023C6A4AA3F4D6722C89BD4D26605029C93EE25A53D3F0319E919A7F593.png" class="notEnlarge" width="189" height="236"></span></p>     <p>每一个TabContent对应的内容需要有一个页签，可以通过TabContent的tabBar属性进行配置。在如下TabContent组件上设置tabBar属性，可以设置其对应页签中的内容，tabBar作为内容的页签。</p>     <div _ngcontent-meh-c106="" class="highlight-div"><div _ngcontent-meh-c106="" class="highlight-div-header"><div _ngcontent-meh-c106="" class="highlight-div-header-left"><div _ngcontent-meh-c106="" class="handle-button expand-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-meh-c106="" class="highlight-div-header-right"><div _ngcontent-meh-c106="" class="handle-button ai-button"></div><div _ngcontent-meh-c106="" class="handle-button line-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-meh-c106="" class="handle-button theme-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-meh-c106="" class="handle-button copy-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-meh-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li> <span class="hljs-title class_">TabContent</span>() {</li><li>   <span class="hljs-title class_">Text</span>(<span class="hljs-string">'首页的内容'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li> }</li><li>.<span class="hljs-title function_">tabBar</span>(<span class="hljs-string">'首页'</span>)</li></ol></pre></div></div>     <p>设置多个内容时，需在Tabs内按照顺序放置。</p>     <div _ngcontent-meh-c106="" class="highlight-div"><div _ngcontent-meh-c106="" class="highlight-div-header"><div _ngcontent-meh-c106="" class="highlight-div-header-left"><div _ngcontent-meh-c106="" class="handle-button expand-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-meh-c106="" class="highlight-div-header-right"><div _ngcontent-meh-c106="" class="handle-button ai-button"></div><div _ngcontent-meh-c106="" class="handle-button line-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-meh-c106="" class="handle-button theme-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-meh-c106="" class="handle-button copy-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-meh-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Tabs</span>() {</li><li>  <span class="hljs-title class_">TabContent</span>() {</li><li>    <span class="hljs-title class_">Text</span>(<span class="hljs-string">'首页的内容'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>  }</li><li>  .<span class="hljs-title function_">tabBar</span>(<span class="hljs-string">'首页'</span>)</li><li>
</li><li>  <span class="hljs-title class_">TabContent</span>() {</li><li>    <span class="hljs-title class_">Text</span>(<span class="hljs-string">'推荐的内容'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>  }</li><li>  .<span class="hljs-title function_">tabBar</span>(<span class="hljs-string">'推荐'</span>)</li><li>
</li><li>  <span class="hljs-title class_">TabContent</span>() {</li><li>    <span class="hljs-title class_">Text</span>(<span class="hljs-string">'发现的内容'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>  }</li><li>  .<span class="hljs-title function_">tabBar</span>(<span class="hljs-string">'发现'</span>)</li><li>  </li><li>  <span class="hljs-title class_">TabContent</span>() {</li><li>    <span class="hljs-title class_">Text</span>(<span class="hljs-string">'我的内容'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>  }</li><li>  .<span class="hljs-title function_">tabBar</span>(<span class="hljs-string">"我的"</span>)</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="底部导航">底部导航<i class="anchor-icon anchor-icon-link" anchorid="底部导航" tips="复制节点链接"></i></h2>          <p>底部导航是应用中最常见的一种导航方式。底部导航位于应用一级页面的底部，用户打开应用，能够分清整个应用的功能分类，以及页签对应的内容，并且其位于底部更加方便用户单手操作。底部导航一般作为应用的主导航形式存在，其作用是将用户关心的内容按照功能进行分类，迎合用户使用习惯，方便在不同模块间的内容切换。</p>     <p><strong>图3</strong> 底部导航栏</p>     <p><span><img originheight="729" originwidth="332" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114944.77560259945698535891397440661215:50001231000000:2800:67EC91590FA9D8E3EA011255523F1644F7A13503ECF3B00136649A88B4D3E181.gif" width="332" height="729"></span></p>     <p>导航栏位置使用Tabs的barPosition参数进行设置。默认情况下，导航栏位于顶部，此时，barPosition为BarPosition.Start。设置为底部导航时，需要将barPosition设置为BarPosition.End。</p>     <div _ngcontent-meh-c106="" class="highlight-div"><div _ngcontent-meh-c106="" class="highlight-div-header"><div _ngcontent-meh-c106="" class="highlight-div-header-left"><div _ngcontent-meh-c106="" class="handle-button expand-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-meh-c106="" class="highlight-div-header-right"><div _ngcontent-meh-c106="" class="handle-button ai-button"></div><div _ngcontent-meh-c106="" class="handle-button line-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-meh-c106="" class="handle-button theme-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-meh-c106="" class="handle-button copy-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-meh-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Tabs</span>({ <span class="hljs-attr">barPosition</span>: <span class="hljs-title class_">BarPosition</span>.<span class="hljs-property">End</span> }) {</li><li>  <span class="hljs-comment">// TabContent的内容：首页、发现、推荐、我的</span></li><li>  <span class="hljs-comment">// ...</span></li><li>}</li></ol></pre></div></div>     <p>底部导航栏可通过设置TabContent的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-tabcontent#bottomtabbarstyle9" target="_blank">BottomTabBarStyle</a>来实现底部页签样式，详细示例请参考：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-tabcontent#示例9设置底部页签使用symbol图标" target="_blank">示例9（设置底部页签使用symbol图标）</a>。</p>    </div>    <div class="tiledSection">     <h2 id="顶部导航">顶部导航<i class="anchor-icon anchor-icon-link" anchorid="顶部导航" tips="复制节点链接"></i></h2>          <p>当内容分类较多，用户对不同内容的浏览概率相差不大，需要经常快速切换时，一般采用顶部导航模式进行设计，作为对底部导航内容的进一步划分，常见一些资讯类应用对内容的分类为关注、视频、数码，或者主题应用中对主题进行进一步划分为图片、视频、字体等。</p>     <p><strong>图4</strong> 顶部导航栏</p>     <p><span><img originheight="729" originwidth="332" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114944.53201213743510780787962420555999:50001231000000:2800:FA627EACB30F9DA3CD188EE4A75B7922FD722FDEEE865E8727B966F144DA4562.gif" width="332" height="729"></span></p>     <div _ngcontent-meh-c106="" class="highlight-div"><div _ngcontent-meh-c106="" class="highlight-div-header"><div _ngcontent-meh-c106="" class="highlight-div-header-left"><div _ngcontent-meh-c106="" class="handle-button expand-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-meh-c106="" class="highlight-div-header-right"><div _ngcontent-meh-c106="" class="handle-button ai-button"></div><div _ngcontent-meh-c106="" class="handle-button line-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-meh-c106="" class="handle-button theme-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-meh-c106="" class="handle-button copy-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-meh-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Tabs</span>({ <span class="hljs-attr">barPosition</span>: <span class="hljs-title class_">BarPosition</span>.<span class="hljs-property">Start</span> }) {</li><li>  <span class="hljs-comment">// TabContent的内容:关注、视频、游戏、数码、科技、体育、影视</span></li><li>  <span class="hljs-comment">// ...</span></li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="侧边导航">侧边导航<i class="anchor-icon anchor-icon-link" anchorid="侧边导航" tips="复制节点链接"></i></h2>          <p>侧边导航是应用较为少见的一种导航模式，更多适用于横屏界面，用于对应用进行导航操作，由于用户的视觉习惯是从左到右，侧边导航栏默认为左侧侧边栏。</p>     <p><strong>图5</strong> 侧边导航栏</p>     <p><span><img originheight="331" originwidth="710" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114944.03308627348019930333680834637393:50001231000000:2800:4A4230B25D2C5889A3FE4C91D1DFCDA99E5C67C4BAAE07B9F8D95D23162A9CA9.png" width="710" height="331"></span></p>     <p>实现侧边导航栏需要将Tabs的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-tabs#vertical" target="_blank">vertical</a>属性设置为true，vertical默认值为false，表明内容页和导航栏垂直方向排列。</p>     <div _ngcontent-meh-c106="" class="highlight-div"><div _ngcontent-meh-c106="" class="highlight-div-header"><div _ngcontent-meh-c106="" class="highlight-div-header-left"><div _ngcontent-meh-c106="" class="handle-button expand-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-meh-c106="" class="highlight-div-header-right"><div _ngcontent-meh-c106="" class="handle-button ai-button"></div><div _ngcontent-meh-c106="" class="handle-button line-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-meh-c106="" class="handle-button theme-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-meh-c106="" class="handle-button copy-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-meh-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Tabs</span>({ <span class="hljs-attr">barPosition</span>: <span class="hljs-title class_">BarPosition</span>.<span class="hljs-property">Start</span> }) {</li><li>  <span class="hljs-comment">// TabContent的内容:首页、发现、推荐、我的</span></li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>.<span class="hljs-title function_">vertical</span>(<span class="hljs-literal">true</span>)</li><li>.<span class="hljs-title function_">barWidth</span>(<span class="hljs-number">100</span>)</li><li>.<span class="hljs-title function_">barHeight</span>(<span class="hljs-number">200</span>)</li></ol></pre></div></div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>vertical为false时，tabbar的宽度默认为撑满屏幕的宽度，需要设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-tabs#barwidth" target="_blank">barWidth</a>为合适值。</p></li>        <li>         <p>vertical为true时，tabbar的高度默认为实际内容的高度，需要设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-tabs#barheight" target="_blank">barHeight</a>为合适值。</p></li>       </ul>      </div></div></div>    </div>    <div class="tiledSection">     <h2 id="限制导航栏的滑动切换">限制导航栏的滑动切换<i class="anchor-icon anchor-icon-link" anchorid="限制导航栏的滑动切换" tips="复制节点链接"></i></h2>          <p>默认情况下，导航栏都支持滑动切换，在一些内容信息量需要进行多级分类的页面，如支持底部导航+顶部导航组合的情况下，底部导航栏的滑动效果与顶部导航出现冲突，此时需要限制底部导航的滑动，避免引起不好的用户体验。</p>     <p><strong>图6</strong> 限制底部导航栏滑动</p>     <p><span><img originheight="729" originwidth="332" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114944.02005595574863526394930802249682:50001231000000:2800:916C94E640D703864E9B8ADFD026D8D3A8824E3C8CAA39AC05C3363B5DA27B8E.gif" width="332" height="729"></span></p>     <p>控制滑动切换的属性为scrollable，默认值为true，表示可以滑动，若要限制滑动切换页签则需要设置为false。</p>     <div _ngcontent-meh-c106="" class="highlight-div"><div _ngcontent-meh-c106="" class="highlight-div-header"><div _ngcontent-meh-c106="" class="highlight-div-header-left"><div _ngcontent-meh-c106="" class="handle-button expand-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-meh-c106="" class="highlight-div-header-right"><div _ngcontent-meh-c106="" class="handle-button ai-button"></div><div _ngcontent-meh-c106="" class="handle-button line-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-meh-c106="" class="handle-button theme-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-meh-c106="" class="handle-button copy-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-meh-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Tabs</span>({ <span class="hljs-attr">barPosition</span>: <span class="hljs-title class_">BarPosition</span>.<span class="hljs-property">End</span> }) {</li><li>  <span class="hljs-title class_">TabContent</span>(){</li><li>    <span class="hljs-title class_">Column</span>(){</li><li>      <span class="hljs-title class_">Tabs</span>(){</li><li>        <span class="hljs-comment">// 顶部导航栏内容</span></li><li>        <span class="hljs-comment">// ...</span></li><li>      }</li><li>    }</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ff08a8f1'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>  .<span class="hljs-title function_">tabBar</span>(<span class="hljs-string">'首页'</span>)</li><li>
</li><li>  <span class="hljs-comment">// 其他TabContent内容：发现、推荐、我的</span></li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>.<span class="hljs-title function_">scrollable</span>(<span class="hljs-literal">false</span>)</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="固定导航栏">固定导航栏<i class="anchor-icon anchor-icon-link" anchorid="固定导航栏" tips="复制节点链接"></i></h2>          <p>当内容分类较为固定且不具有拓展性时，例如底部导航内容分类一般固定，分类数量一般在3-5个，此时使用固定导航栏。固定导航栏不可滚动，无法被拖拽滚动，内容均分tabBar的宽度。</p>     <p><strong>图7</strong> 固定导航栏</p>     <p><span><img originheight="729" originwidth="332" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114944.31293203203185251791072957791869:50001231000000:2800:8D2EC2C1A33CDAF824D7D0252EBDBD4AFFE7476BA032CF7F2FCE107CFDA2BF2B.gif" width="332" height="729"></span></p>     <p>Tabs的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-tabs#barmode10" target="_blank">barMode</a>属性用于控制导航栏是否可以滚动，默认值为BarMode.Fixed。</p>     <div _ngcontent-meh-c106="" class="highlight-div"><div _ngcontent-meh-c106="" class="highlight-div-header"><div _ngcontent-meh-c106="" class="highlight-div-header-left"><div _ngcontent-meh-c106="" class="handle-button expand-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-meh-c106="" class="highlight-div-header-right"><div _ngcontent-meh-c106="" class="handle-button ai-button"></div><div _ngcontent-meh-c106="" class="handle-button line-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-meh-c106="" class="handle-button theme-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-meh-c106="" class="handle-button copy-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-meh-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Tabs</span>({ <span class="hljs-attr">barPosition</span>: <span class="hljs-title class_">BarPosition</span>.<span class="hljs-property">End</span> }) {</li><li>  <span class="hljs-comment">// TabContent的内容：首页、发现、推荐、我的</span></li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>.<span class="hljs-title function_">barMode</span>(<span class="hljs-title class_">BarMode</span>.<span class="hljs-property">Fixed</span>)</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="滚动导航栏">滚动导航栏<i class="anchor-icon anchor-icon-link" anchorid="滚动导航栏" tips="复制节点链接"></i></h2>          <p>滚动导航栏可以用于顶部导航栏或者侧边导航栏的设置，内容分类较多，屏幕宽度无法容纳所有分类页签的情况下，需要使用可滚动的导航栏，支持用户点击和滑动来加载隐藏的页签内容。</p>     <p><strong>图8</strong> 可滚动导航栏</p>     <p><span><img originheight="729" originwidth="332" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114944.28216579765250126865695950076256:50001231000000:2800:682FF01E775341DBF002B4C2F6314DCC3F0E72EF273C2C9C6A7E69553CA4D62F.gif" width="332" height="729"></span></p>     <p>滚动导航栏需要设置Tabs组件的barMode属性，默认值为BarMode.Fixed表示为固定导航栏，BarMode.Scrollable表示可滚动导航栏。</p>     <div _ngcontent-meh-c106="" class="highlight-div"><div _ngcontent-meh-c106="" class="highlight-div-header"><div _ngcontent-meh-c106="" class="highlight-div-header-left"><div _ngcontent-meh-c106="" class="handle-button expand-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-meh-c106="" class="highlight-div-header-right"><div _ngcontent-meh-c106="" class="handle-button ai-button"></div><div _ngcontent-meh-c106="" class="handle-button line-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-meh-c106="" class="handle-button theme-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-meh-c106="" class="handle-button copy-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-meh-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Tabs</span>({ <span class="hljs-attr">barPosition</span>: <span class="hljs-title class_">BarPosition</span>.<span class="hljs-property">Start</span> }) {</li><li>  <span class="hljs-comment">// TabContent的内容：关注、视频、游戏、数码、科技、体育、影视、人文、艺术、自然、军事</span></li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>.<span class="hljs-title function_">barMode</span>(<span class="hljs-title class_">BarMode</span>.<span class="hljs-property">Scrollable</span>)</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="自定义导航栏">自定义导航栏<i class="anchor-icon anchor-icon-link" anchorid="自定义导航栏" tips="复制节点链接"></i></h2>          <p>对于底部导航栏，一般作为应用主页面功能区分，为了更好的用户体验，会组合文字以及对应语义图标表示页签内容，这种情况下，需要自定义导航页签的样式。</p>     <p><strong>图9</strong> 自定义导航栏</p>     <p><span><img originheight="75" originwidth="327" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114944.22579953897813975701109370570255:50001231000000:2800:7E18142B775B3EE5DD1C3BF0DDB5A7F2EA632723E94EEE084350F2116EF15E2F.png" width="327" height="75"></span></p>     <p>系统默认情况下采用了下划线标识当前活跃的页签，而自定义导航栏需要自行实现相应的样式，用于区分当前活跃页签和未活跃页签。</p>     <p>设置自定义导航栏需要使用tabBar的参数，以其支持的CustomBuilder的方式传入自定义的函数组件样式。例如这里声明tabBuilder的自定义函数组件，传入参数包括页签文字title，对应位置index，以及选中状态和未选中状态的图片资源。通过当前活跃的currentIndex和页签对应的targetIndex匹配与否，决定UI显示的样式。</p>     <div _ngcontent-meh-c106="" class="highlight-div"><div _ngcontent-meh-c106="" class="highlight-div-header"><div _ngcontent-meh-c106="" class="highlight-div-header-left"><div _ngcontent-meh-c106="" class="handle-button expand-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-meh-c106="" class="highlight-div-header-right"><div _ngcontent-meh-c106="" class="handle-button ai-button"></div><div _ngcontent-meh-c106="" class="handle-button line-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-meh-c106="" class="handle-button theme-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-meh-c106="" class="handle-button copy-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-meh-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@State</span> <span class="hljs-attr">currentIndex</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>
</li><li><span class="hljs-meta">@Builder</span> <span class="hljs-title function_">tabBuilder</span>(<span class="hljs-params">title: <span class="hljs-built_in">string</span>, targetIndex: <span class="hljs-built_in">number</span>, selectedImg: Resource, normalImg: Resource</span>) {</li><li>  <span class="hljs-title class_">Column</span>() {</li><li>    <span class="hljs-title class_">Image</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentIndex</span> === targetIndex ? selectedImg : normalImg)</li><li>      .<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">25</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">25</span> })</li><li>    <span class="hljs-title class_">Text</span>(title)</li><li>      .<span class="hljs-title function_">fontColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentIndex</span> === targetIndex ? <span class="hljs-string">'#1698CE'</span> : <span class="hljs-string">'#6B6B6B'</span>)</li><li>  }</li><li>  .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>  .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>}</li></ol></pre></div></div>     <p>在TabContent对应tabBar属性中传入自定义函数组件，并传递相应的参数。</p>     <div _ngcontent-meh-c106="" class="highlight-div"><div _ngcontent-meh-c106="" class="highlight-div-header"><div _ngcontent-meh-c106="" class="highlight-div-header-left"><div _ngcontent-meh-c106="" class="handle-button expand-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-meh-c106="" class="highlight-div-header-right"><div _ngcontent-meh-c106="" class="handle-button ai-button"></div><div _ngcontent-meh-c106="" class="handle-button line-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-meh-c106="" class="handle-button theme-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-meh-c106="" class="handle-button copy-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-meh-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">TabContent</span>() {</li><li>  <span class="hljs-title class_">Column</span>(){</li><li>    <span class="hljs-title class_">Text</span>(<span class="hljs-string">'我的内容'</span>)</li><li>  }</li><li>  .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#007DFF'</span>)</li><li>}</li><li>.<span class="hljs-title function_">tabBar</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">tabBuilder</span>(<span class="hljs-string">'我的'</span>, <span class="hljs-number">0</span>, $r(<span class="hljs-string">'app.media.mine_selected'</span>), $r(<span class="hljs-string">'app.media.mine_normal'</span>)))</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="切换至指定页签">切换至指定页签<i class="anchor-icon anchor-icon-link" anchorid="切换至指定页签" tips="复制节点链接"></i></h2>          <p>在不使用自定义导航栏时，默认的Tabs会实现切换逻辑。在使用了自定义导航栏后，默认的Tabs仅实现滑动内容页和点击页签时内容页的切换逻辑，页签切换逻辑需要自行实现。即用户滑动内容页和点击页签时，页签栏需要同步切换至内容页对应的页签。</p>     <p><strong>图10</strong> 内容页和页签不联动</p>     <p><span><img originheight="574" originwidth="267" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114944.74121364565167189604820311566342:50001231000000:2800:164D0D4C6833643E95AFD144C5659964C6270AF9439F2EC30B8F70AD4B43F1CB.gif" class="notEnlarge" width="267" height="574"></span></p>     <p>从API version 18开始，支持使用Tabs提供的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-tabs#onselected18" target="_blank">onSelected</a>事件方法，监听索引index的变化，并将选中元素的index值传递给selectIndex，实现页签的切换。</p>     <div _ngcontent-meh-c106="" class="highlight-div"><div _ngcontent-meh-c106="" class="highlight-div-header"><div _ngcontent-meh-c106="" class="highlight-div-header-left"><div _ngcontent-meh-c106="" class="handle-button expand-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-meh-c106="" class="highlight-div-header-right"><div _ngcontent-meh-c106="" class="handle-button ai-button"></div><div _ngcontent-meh-c106="" class="handle-button line-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-meh-c106="" class="handle-button theme-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-meh-c106="" class="handle-button copy-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-meh-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">TabsExample1</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">selectIndex</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-meta">@Builder</span> <span class="hljs-title function_">tabBuilder</span>(<span class="hljs-params">title: <span class="hljs-built_in">string</span>, targetIndex: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(title)</li><li>        .<span class="hljs-title function_">fontColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">selectIndex</span> === targetIndex ? <span class="hljs-string">'#1698CE'</span> : <span class="hljs-string">'#6B6B6B'</span>)</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Tabs</span>({ <span class="hljs-attr">barPosition</span>: <span class="hljs-title class_">BarPosition</span>.<span class="hljs-property">End</span> }) {</li><li>        <span class="hljs-title class_">TabContent</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">"首页内容"</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">40</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>).<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        }.<span class="hljs-title function_">tabBar</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">tabBuilder</span>(<span class="hljs-string">'首页'</span>, <span class="hljs-number">0</span>))</li><li>
</li><li>        <span class="hljs-title class_">TabContent</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">"发现内容"</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(112,112,112)'</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">40</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>).<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        }.<span class="hljs-title function_">tabBar</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">tabBuilder</span>(<span class="hljs-string">'发现'</span>, <span class="hljs-number">1</span>))</li><li>
</li><li>        <span class="hljs-title class_">TabContent</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">"推荐内容"</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(39,135,217)'</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">40</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>).<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        }.<span class="hljs-title function_">tabBar</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">tabBuilder</span>(<span class="hljs-string">'推荐'</span>, <span class="hljs-number">2</span>))</li><li>
</li><li>        <span class="hljs-title class_">TabContent</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">"我的内容"</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(0,74,175)'</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">40</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>).<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        }.<span class="hljs-title function_">tabBar</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">tabBuilder</span>(<span class="hljs-string">'我的'</span>, <span class="hljs-number">3</span>))</li><li>      }</li><li>      .<span class="hljs-title function_">animationDuration</span>(<span class="hljs-number">0</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#F1F3F5'</span>)</li><li>      .<span class="hljs-title function_">onSelected</span>(<span class="hljs-function">(<span class="hljs-params">index: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectIndex</span> = index;</li><li>      })</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><strong>图11</strong> 内容页和页签联动</p>     <p><span><img originheight="581" originwidth="350" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114944.40343451584528011905191781142444:50001231000000:2800:C21A4FB1BEA1EDAF45D2755EE41D2BCAF8287428C6E7618E4ACEDA4396AC43B6.gif" width="350" height="581"></span></p>     <p>若希望不滑动内容页和点击页签也能实现内容页和页签的切换，可以将currentIndex传给Tabs的index参数，通过改变currentIndex来实现跳转至指定索引值对应的TabContent内容。也可以使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-tabs#tabscontroller" target="_blank">TabsController</a>，TabsController是Tabs组件的控制器，用于控制Tabs组件进行内容页切换。通过TabsController的changeIndex方法来实现跳转至指定索引值对应的TabContent内容。</p>     <div _ngcontent-meh-c106="" class="highlight-div"><div _ngcontent-meh-c106="" class="highlight-div-header"><div _ngcontent-meh-c106="" class="highlight-div-header-left"><div _ngcontent-meh-c106="" class="handle-button expand-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-meh-c106="" class="highlight-div-header-right"><div _ngcontent-meh-c106="" class="handle-button ai-button"></div><div _ngcontent-meh-c106="" class="handle-button line-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-meh-c106="" class="handle-button theme-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-meh-c106="" class="handle-button copy-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-meh-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@State</span> <span class="hljs-attr">currentIndex</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">2</span>;</li><li><span class="hljs-meta">@State</span> <span class="hljs-attr">currentAnimationMode</span>: <span class="hljs-title class_">AnimationMode</span> = <span class="hljs-title class_">AnimationMode</span>.<span class="hljs-property">CONTENT_FIRST</span>;</li><li><span class="hljs-keyword">private</span> <span class="hljs-attr">controller</span>: <span class="hljs-title class_">TabsController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TabsController</span>();</li><li>
</li><li><span class="hljs-title class_">Tabs</span>({ <span class="hljs-attr">barPosition</span>: <span class="hljs-title class_">BarPosition</span>.<span class="hljs-property">End</span>, <span class="hljs-attr">index</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentIndex</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> }) {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>.<span class="hljs-title function_">height</span>(<span class="hljs-number">600</span>)</li><li>.<span class="hljs-title function_">animationMode</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentAnimationMode</span>)</li><li>.<span class="hljs-title function_">onChange</span>(<span class="hljs-function">(<span class="hljs-params">index: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>   <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentIndex</span> = index;</li><li>})</li><li>
</li><li><span class="hljs-title class_">Button</span>(<span class="hljs-string">'动态修改AnimationMode'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'50%'</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">1</span> }).<span class="hljs-title function_">height</span>(<span class="hljs-number">25</span>)</li><li>  .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">()=&gt;</span>{</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentAnimationMode</span> === <span class="hljs-title class_">AnimationMode</span>.<span class="hljs-property">CONTENT_FIRST</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentAnimationMode</span> = <span class="hljs-title class_">AnimationMode</span>.<span class="hljs-property">ACTION_FIRST</span>;</li><li>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentAnimationMode</span> === <span class="hljs-title class_">AnimationMode</span>.<span class="hljs-property">ACTION_FIRST</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentAnimationMode</span> = <span class="hljs-title class_">AnimationMode</span>.<span class="hljs-property">NO_ANIMATION</span>;</li><li>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentAnimationMode</span> === <span class="hljs-title class_">AnimationMode</span>.<span class="hljs-property">NO_ANIMATION</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentAnimationMode</span> = <span class="hljs-title class_">AnimationMode</span>.<span class="hljs-property">CONTENT_FIRST_WITH_JUMP</span>;</li><li>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentAnimationMode</span> === <span class="hljs-title class_">AnimationMode</span>.<span class="hljs-property">CONTENT_FIRST_WITH_JUMP</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentAnimationMode</span> = <span class="hljs-title class_">AnimationMode</span>.<span class="hljs-property">ACTION_FIRST_WITH_JUMP</span>;</li><li>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentAnimationMode</span> === <span class="hljs-title class_">AnimationMode</span>.<span class="hljs-property">ACTION_FIRST_WITH_JUMP</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentAnimationMode</span> = <span class="hljs-title class_">AnimationMode</span>.<span class="hljs-property">CONTENT_FIRST</span>;</li><li>    }</li><li>})</li><li>
</li><li><span class="hljs-title class_">Button</span>(<span class="hljs-string">'动态修改index'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'50%'</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">20</span> })</li><li>  .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">()=&gt;</span>{</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentIndex</span> = (<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentIndex</span> + <span class="hljs-number">1</span>) % <span class="hljs-number">4</span>;</li><li>})</li><li>
</li><li><span class="hljs-title class_">Button</span>(<span class="hljs-string">'changeIndex'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'50%'</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">20</span> })</li><li>  .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">()=&gt;</span>{</li><li>    <span class="hljs-keyword">let</span> index = (<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentIndex</span> + <span class="hljs-number">1</span>) % <span class="hljs-number">4</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">changeIndex</span>(index);</li><li>})</li></ol></pre></div></div>     <p><strong>图12</strong> 切换指定页签</p>     <p><span><img originheight="726" originwidth="347" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114944.51014091298603877513457585126966:50001231000000:2800:817CC7B741A41293A02E1CA9DDAD946B0E07B6819CCAFB815058FF70EC7CE48B.gif" width="347" height="726"></span></p>     <p>开发者可以通过Tabs组件的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-tabs#oncontentwillchange12" target="_blank">onContentWillChange</a>接口，设置自定义拦截回调函数。拦截回调函数在下一个页面即将展示时被调用，如果回调返回true，新页面可以展示；如果回调返回false，新页面不会展示，仍显示原来页面。</p>     <div _ngcontent-meh-c106="" class="highlight-div"><div _ngcontent-meh-c106="" class="highlight-div-header"><div _ngcontent-meh-c106="" class="highlight-div-header-left"><div _ngcontent-meh-c106="" class="handle-button expand-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-meh-c106="" class="highlight-div-header-right"><div _ngcontent-meh-c106="" class="handle-button ai-button"></div><div _ngcontent-meh-c106="" class="handle-button line-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-meh-c106="" class="handle-button theme-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-meh-c106="" class="handle-button copy-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-meh-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Tabs</span>({ <span class="hljs-attr">barPosition</span>: <span class="hljs-title class_">BarPosition</span>.<span class="hljs-property">End</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>, <span class="hljs-attr">index</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentIndex</span> }) {</li><li>  <span class="hljs-comment">// ...</span></li><li>  }</li><li>  .<span class="hljs-title function_">onContentWillChange</span>(<span class="hljs-function">(<span class="hljs-params">currentIndex, comingIndex</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (comingIndex == <span class="hljs-number">2</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</li><li>    }</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  })</li></ol></pre></div></div>     <p><strong>图13</strong> 支持开发者自定义页面切换拦截事件</p>     <p><span><img originheight="692" originwidth="317" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114944.13979185553492303740136876355299:50001231000000:2800:417E844B87B331679376ECB116326FB7BCD7CACF76F8FBBD1D1170A3C6E89FC3.gif" width="317" height="692"></span></p>    </div>    <div class="tiledSection">     <h2 id="控制页面缓存数">控制页面缓存数<i class="anchor-icon anchor-icon-link" anchorid="控制页面缓存数" tips="复制节点链接"></i></h2>          <p>从API version 19开始，开发者可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-tabs#cachedmaxcount19" target="_blank">cachedMaxCount</a>接口，设置子组件的最大缓存个数和缓存模式。默认情况下Tabs创建时会一次性预加载所有TabContent，而且已加载的页面不会释放，可能会带来性能内存问题。此时可以设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-tabs#cachedmaxcount19" target="_blank">cachedMaxCount</a>属性控制缓存的页面数量，设置此属性后不会进行页面预加载，使用懒加载机制(仅切换到页面时才加载)，当切换页面时根据所设置的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-tabs#tabscachemode19枚举说明" target="_blank">TabsCacheMode</a>决定保留缓存或者释放页面。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>TabsCacheMode枚举值为CACHE_BOTH_SIDE时，缓存当前显示的子组件和其两侧的子组件。</p></li>        <li>         <p>TabsCacheMode枚举值为CACHE_LATEST_SWITCHED时，缓存当前显示的子组件和最近切换过的子组件。</p></li>        <li>         <p>存在翻页动画时，从页面1直接切换到页面3，翻页动画会包含页面2，页面2也会被加载，如果此时页面2不在缓存范围内，页面切换完成后会立马释放。</p></li>       </ul>      </div></div></div>     <p><strong>图15</strong> 在页面缓存场景下通过点击yellow按键切换界面。</p>     <p><span><img originheight="393" originwidth="488" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114944.14486018302445600279743250714265:50001231000000:2800:7775A50CB3C0CBBCD1C34C8721CE13D1009D949E5517E11DC77A46ADF70638E3.gif" width="488" height="393"></span></p>     <div _ngcontent-meh-c106="" class="highlight-div"><div _ngcontent-meh-c106="" class="highlight-div-header"><div _ngcontent-meh-c106="" class="highlight-div-header-left"><div _ngcontent-meh-c106="" class="handle-button expand-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-meh-c106="" class="highlight-div-header-right"><div _ngcontent-meh-c106="" class="handle-button ai-button"></div><div _ngcontent-meh-c106="" class="handle-button line-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-meh-c106="" class="handle-button theme-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-meh-c106="" class="handle-button copy-button"><div _ngcontent-meh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-meh-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">TabsExample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Tabs</span>() {</li><li>      <span class="hljs-title class_">TabContent</span>() {</li><li>        <span class="hljs-title class_">MyComponent</span>({ <span class="hljs-attr">color</span>: <span class="hljs-string">'#00CB87'</span> })</li><li>      }.<span class="hljs-title function_">tabBar</span>(<span class="hljs-title class_">SubTabBarStyle</span>.<span class="hljs-title function_">of</span>(<span class="hljs-string">'green'</span>))</li><li>
</li><li>      <span class="hljs-title class_">TabContent</span>() {</li><li>        <span class="hljs-title class_">MyComponent</span>({ <span class="hljs-attr">color</span>: <span class="hljs-string">'#007DFF'</span> })</li><li>      }.<span class="hljs-title function_">tabBar</span>(<span class="hljs-title class_">SubTabBarStyle</span>.<span class="hljs-title function_">of</span>(<span class="hljs-string">'blue'</span>))</li><li>
</li><li>      <span class="hljs-title class_">TabContent</span>() {</li><li>        <span class="hljs-title class_">MyComponent</span>({ <span class="hljs-attr">color</span>: <span class="hljs-string">'#FFBF00'</span> })</li><li>      }.<span class="hljs-title function_">tabBar</span>(<span class="hljs-title class_">SubTabBarStyle</span>.<span class="hljs-title function_">of</span>(<span class="hljs-string">'yellow'</span>))</li><li>
</li><li>      <span class="hljs-title class_">TabContent</span>() {</li><li>        <span class="hljs-title class_">MyComponent</span>({ <span class="hljs-attr">color</span>: <span class="hljs-string">'#E67C92'</span> })</li><li>      }.<span class="hljs-title function_">tabBar</span>(<span class="hljs-title class_">SubTabBarStyle</span>.<span class="hljs-title function_">of</span>(<span class="hljs-string">'pink'</span>))</li><li>
</li><li>      <span class="hljs-title class_">TabContent</span>() {</li><li>        <span class="hljs-title class_">MyComponent</span>({ <span class="hljs-attr">color</span>: <span class="hljs-string">'#FF0000'</span> })</li><li>      }.<span class="hljs-title function_">tabBar</span>(<span class="hljs-title class_">SubTabBarStyle</span>.<span class="hljs-title function_">of</span>(<span class="hljs-string">'red'</span>))</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-number">360</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-number">296</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#F1F3F5'</span>)</li><li>    .<span class="hljs-title function_">cachedMaxCount</span>(<span class="hljs-number">1</span>, <span class="hljs-title class_">TabsCacheMode</span>.<span class="hljs-property">CACHE_BOTH_SIDE</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MyComponent</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">color</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'aboutToAppear backgroundColor:'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToDisappear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'aboutToDisappear backgroundColor:'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>()</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p>基于以上示例代码为例，不同场景下的缓存策略如下：</p>     <ol>      <li>       <p>如图16所示，使用默认翻页动画，CACHE_BOTH_SIDE模式，n设置为2，点击TabBar切换到yellow页，TabContent1<span>3被缓存。再切换到red页，TabContent1</span>2释放，TabContent3~5被缓存。</p>       <p><strong>图16</strong> 默认翻页动画，CACHE_BOTH_SIDE模式示意图</p>       <p><span><img originheight="388" originwidth="1592" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114944.12935096771311761647263550722932:50001231000000:2800:6CA7648DE0F8070653841EA15C6488DC6FFF1B3BA1F060FEA06DE6FC5667BB3A.png" width="920" height="224.22110552763817"></span></p></li>      <li>       <p>如图17所示，使用默认翻页动画，CACHE_LATEST_SWITCHED模式，n设置为2，点击TabBar切换到yellow页，TabContent1、3被缓存，TabContent2释放。再切换到red页，TabContent1、3、5被缓存，TabContent4释放。</p>       <p><strong>图17</strong> 默认翻页动画，CACHE_LATEST_SWITCHED模式示意图</p>       <p><span><img originheight="387" originwidth="1592" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114944.16909573400076726787451895648301:50001231000000:2800:22533EB2384642923B019A17C35F02A2A99AA96EFBBD64DFBD3024634CD560F1.png" width="920" height="223.643216080402"></span></p></li>      <li>       <p>如图18所示，关闭翻页动画，CACHE_BOTH_SIDE模式，n设置为2，点击TabBar切换到yellow页，TabContent1、3被缓存。再切换到red页，TabContent3、5被缓存，TabContent1释放。</p>       <p><strong>图18</strong> 关闭翻页动画，CACHE_BOTH_SIDE模式示意图</p>       <p><span><img originheight="386" originwidth="1585" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114945.67489552435669841372696298981581:50001231000000:2800:CF4C62D66B2BA1284A1590113914E362C24BECBCAE02B6C9C8110802A9F1AB4E.png" width="920" height="224.0504731861199"></span></p></li>      <li>       <p>如图19所示，关闭翻页动画，CACHE_LATEST_SWITCHED模式，n设置为2，点击TabBar切换到yellow页，TabContent1、3被缓存。再切换到red页，TabContent1、3、5被缓存。</p>       <p><strong>图19</strong> 关闭翻页动画，CACHE_LATEST_SWITCHED模式示意图</p>       <p><span><img originheight="387" originwidth="1585" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114945.42574383342321825080769607187417:50001231000000:2800:471426A4D46063F78710D2740A4F0ED7E7795ED0BC790D3BA9E4DF9D48B40EA0.png" width="920" height="224.63091482649844"></span></p></li>     </ol>    </div>    <div class="tiledSection">     <h2 id="示例代码">示例代码<i class="anchor-icon anchor-icon-link" anchorid="示例代码" tips="复制节点链接"></i></h2>          <ul>      <li><a href="https://gitcode.com/harmonyos_samples/multi-tab-navigation" target="_blank">常见Tab导航样式合集</a></li>      <li><a href="https://gitcode.com/harmonyos_samples/handle-tabs" target="_blank">Tab组件实现增删Tab标签</a></li>     </ul>    </div>   </div>   <div></div></div>