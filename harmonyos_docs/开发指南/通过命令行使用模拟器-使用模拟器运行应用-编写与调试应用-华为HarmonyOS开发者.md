<h1 _ngcontent-prl-c119="" class="doc-title ng-star-inserted" title="通过命令行使用模拟器"> 通过命令行使用模拟器 </h1>

<div _ngcontent-prl-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000002358825046"><p id="ZH-CN_TOPIC_0000002478173614__p13735255224">除了在DevEco Studio的设备管理中使用模拟器外，开发者还可以通过Emulator命令行使用模拟器，支持Windows和macOS平台。</p> <div class="tiledSection"><h2 id="section34237309307">环境准备<i class="anchor-icon anchor-icon-link" anchorid="section34237309307" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002478173614__p487210114217">Emulator命令行在DevEco Studio安装目录的tools/emulator目录下，有两种执行命令的方式。</p> <ul id="ZH-CN_TOPIC_0000002478173614__zh-cn_topic_0000001056725590_ul1797415436216"><li id="li79421123145710">方式一：在命令行终端中进入emulator目录下，执行命令。</li><li id="li918910347577">方式二：配置环境变量后，在任意目录下执行命令。<ul id="ZH-CN_TOPIC_0000002478173614__ul6637453576"><li id="zh-cn_topic_0000001056725590_li1397444314212">Windows环境变量设置方法：<p id="ZH-CN_TOPIC_0000002478173614__p2050055612715">在系统或者用户的PATH变量中，添加Emulator的路径{DevEco Studio安装目录}/tools/emulator。</p> </li><li id="zh-cn_topic_0000001056725590_li1280371614303">macOS环境变量设置方法：<div class="p" id="ZH-CN_TOPIC_0000002478173614__zh-cn_topic_0000001056725590_p1427643612322">打开命令行终端，执行以下命令。<div _ngcontent-prl-c106="" class="highlight-div"><div _ngcontent-prl-c106="" class="highlight-div-header"><div _ngcontent-prl-c106="" class="highlight-div-header-left"><div _ngcontent-prl-c106="" class="handle-button expand-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-prl-c106="" class="highlight-div-header-right"><div _ngcontent-prl-c106="" class="handle-button ai-button"></div><div _ngcontent-prl-c106="" class="handle-button line-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-prl-c106="" class="handle-button theme-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-prl-c106="" class="handle-button copy-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-prl-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-bash" id="ZH-CN_TOPIC_0000002478173614__zh-cn_topic_0000001056725590_screen680381683013" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-built_in">export</span> PATH={DevEco Studio安装目录}/tools/emulator:<span class="hljs-variable">$PATH</span></li></ol></pre></div></div> </div> </li></ul> </li></ul> </div> <div class="tiledSection"><h2 id="section19849113264919">前置条件<i class="anchor-icon anchor-icon-link" anchorid="section19849113264919" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002478173614__p840733844920">在使用命令行之前，需要先通过DevEco Studio创建模拟器，记录模拟器实例路径和模拟器镜像路径，具体请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-emulator-create">创建模拟器</a>。</p> </div> <div class="tiledSection"><h2 id="section118420241165">模拟器命令<i class="anchor-icon anchor-icon-link" anchorid="section118420241165" tips="复制节点链接"></i></h2><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul id="ZH-CN_TOPIC_0000002478173614__ul17600123119429"><li id="li1460063120421">如果模拟器名称或路径中包含特殊字符、空格等，需要对名称或路径添加引号。</li><li id="li10726133394219">下列命令以Windows环境为例，如果在macOS上运行，并且未配置环境变量，需要在Emulator前添加./，例如./Emulator -help。</li></ul> </div></div></div> </div> <div class="tiledSection"><h3 id="section3768691084" class="firsth2">获取帮助<i class="anchor-icon anchor-icon-link" anchorid="section3768691084" tips="复制节点链接"></i></h3><div _ngcontent-prl-c106="" class="highlight-div"><div _ngcontent-prl-c106="" class="highlight-div-header"><div _ngcontent-prl-c106="" class="highlight-div-header-left"><div _ngcontent-prl-c106="" class="handle-button expand-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-prl-c106="" class="highlight-div-header-right"><div _ngcontent-prl-c106="" class="handle-button ai-button"></div><div _ngcontent-prl-c106="" class="handle-button line-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-prl-c106="" class="handle-button theme-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-prl-c106="" class="handle-button copy-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-prl-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-bash" id="ZH-CN_TOPIC_0000002478173614__screen11357144312710" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment"># 查看所有可执行的命令</span></li><li>Emulator -<span class="hljs-built_in">help</span></li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section11776121917710">启动模拟器<i class="anchor-icon anchor-icon-link" anchorid="section11776121917710" tips="复制节点链接"></i></h3><div _ngcontent-prl-c106="" class="highlight-div"><div _ngcontent-prl-c106="" class="highlight-div-header"><div _ngcontent-prl-c106="" class="highlight-div-header-left"><div _ngcontent-prl-c106="" class="handle-button expand-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-prl-c106="" class="highlight-div-header-right"><div _ngcontent-prl-c106="" class="handle-button ai-button"></div><div _ngcontent-prl-c106="" class="handle-button line-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-prl-c106="" class="handle-button theme-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-prl-c106="" class="handle-button copy-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-prl-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-lua" id="ZH-CN_TOPIC_0000002478173614__screen431242314277" data-highlighted="yes"><ol class="linenums"><li>Emulator -hvd {模拟器名称} -<span class="hljs-built_in">path</span> {模拟器实例路径} -imageRoot {模拟器镜像路径} -hdcport {hdc端口号}</li></ol></pre></div></div>  <div class="tablenoborder"><div class="tbBox"><table id="table1086752121116" class="layoutFixed idpTab"><caption><b>表1 </b>参数列表</caption><thead><tr id="ZH-CN_TOPIC_0000002478173614__row15868221131119"><th align="left" class="cellrowborder" id="mcps1.3.6.3.2.3.1.1" valign="top" width="34.62%"><p id="ZH-CN_TOPIC_0000002478173614__p1086820214116">参数</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.3.2.3.1.2" valign="top" width="65.38000000000001%"><p id="ZH-CN_TOPIC_0000002478173614__p1868182111112">参数说明</p> </th> </tr> </thead> <tbody><tr id="ZH-CN_TOPIC_0000002478173614__row1786815212115"><td class="cellrowborder" valign="top" width="34.62%"><p id="ZH-CN_TOPIC_0000002478173614__p5868192120112">-hvd</p> </td> <td class="cellrowborder" valign="top" width="65.38000000000001%"><p id="ZH-CN_TOPIC_0000002478173614__p786852113114">必选参数，模拟器名称。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173614__row0868162116118"><td class="cellrowborder" valign="top" width="34.62%"><p id="ZH-CN_TOPIC_0000002478173614__p5868112119113">-path</p> </td> <td class="cellrowborder" valign="top" width="65.38000000000001%"><p id="ZH-CN_TOPIC_0000002478173614__p1586882181118">必选参数，模拟器实例路径。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173614__row0868112111113"><td class="cellrowborder" valign="top" width="34.62%"><p id="ZH-CN_TOPIC_0000002478173614__p6868621101115">-imageRoot</p> </td> <td class="cellrowborder" valign="top" width="65.38000000000001%"><p id="ZH-CN_TOPIC_0000002478173614__p1286812181111">必选参数，模拟器镜像路径。</p> </td> </tr> <tr id="ZH-CN_TOPIC_0000002478173614__row1986882121114"><td class="cellrowborder" valign="top" width="34.62%"><p id="ZH-CN_TOPIC_0000002478173614__p15868521131111">-hdcport</p> </td> <td class="cellrowborder" valign="top" width="65.38000000000001%"><p id="ZH-CN_TOPIC_0000002478173614__p786814214114">可选参数，hdc端口号，支持范围10000-16555。从DevEco Studio 6.0.1 Beta1版本开始支持。</p> </td> </tr>  </tbody></table></div> </div> <p id="ZH-CN_TOPIC_0000002478173614__p2027910471668"><strong>示例：</strong></p> <div _ngcontent-prl-c106="" class="highlight-div"><div _ngcontent-prl-c106="" class="highlight-div-header"><div _ngcontent-prl-c106="" class="highlight-div-header-left"><div _ngcontent-prl-c106="" class="handle-button expand-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-prl-c106="" class="highlight-div-header-right"><div _ngcontent-prl-c106="" class="handle-button ai-button"></div><div _ngcontent-prl-c106="" class="handle-button line-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-prl-c106="" class="handle-button theme-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-prl-c106="" class="handle-button copy-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-prl-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173614__screen172281837151716" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">Emulator</span> -<span class="hljs-variable">hvd</span> <span class="hljs-string">"my Emulator"</span> -<span class="hljs-variable">path</span> <span class="hljs-variable">D</span>:\<span class="hljs-title class_">Emulator</span> -<span class="hljs-title class_">imageRoot</span> <span class="hljs-title class_">D</span>:\<span class="hljs-title class_">Sdk</span></li></ol></pre></div></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002478173614__p5484185413119">如果在DevEco Studio中使用模拟器时需要登录开发者账号，那么该版本的模拟器无法通过命令行启动，请在DevEco Studio界面上启动。</p> </div></div></div> <div class="tiledSection"><h3 id="section12722546479">关闭模拟器<i class="anchor-icon anchor-icon-link" anchorid="section12722546479" tips="复制节点链接"></i></h3><div _ngcontent-prl-c106="" class="highlight-div"><div _ngcontent-prl-c106="" class="highlight-div-header"><div _ngcontent-prl-c106="" class="highlight-div-header-left"><div _ngcontent-prl-c106="" class="handle-button expand-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-prl-c106="" class="highlight-div-header-right"><div _ngcontent-prl-c106="" class="handle-button ai-button"></div><div _ngcontent-prl-c106="" class="handle-button line-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-prl-c106="" class="handle-button theme-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-prl-c106="" class="handle-button copy-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-prl-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-undefined" id="ZH-CN_TOPIC_0000002478173614__screen156801936162719" data-highlighted="yes"><ol class="linenums"><li>Emulator -stop {模拟器名称}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173614__p157465313175"><strong>示例：</strong></p> <div _ngcontent-prl-c106="" class="highlight-div"><div _ngcontent-prl-c106="" class="highlight-div-header"><div _ngcontent-prl-c106="" class="highlight-div-header-left"><div _ngcontent-prl-c106="" class="handle-button expand-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-prl-c106="" class="highlight-div-header-right"><div _ngcontent-prl-c106="" class="handle-button ai-button"></div><div _ngcontent-prl-c106="" class="handle-button line-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-prl-c106="" class="handle-button theme-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-prl-c106="" class="handle-button copy-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-prl-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-vbnet" id="ZH-CN_TOPIC_0000002478173614__screen1074165320173" data-highlighted="yes"><ol class="linenums"><li>Emulator -<span class="hljs-keyword">stop</span> <span class="hljs-string">"my Emulator"</span></li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section13980155375">收集模拟器日志<i class="anchor-icon anchor-icon-link" anchorid="section13980155375" tips="复制节点链接"></i></h3><p id="ZH-CN_TOPIC_0000002478173614__p171765144815">模拟器在启动状态下，可以收集日志。</p> <div _ngcontent-prl-c106="" class="highlight-div"><div _ngcontent-prl-c106="" class="highlight-div-header"><div _ngcontent-prl-c106="" class="highlight-div-header-left"><div _ngcontent-prl-c106="" class="handle-button expand-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-prl-c106="" class="highlight-div-header-right"><div _ngcontent-prl-c106="" class="handle-button ai-button"></div><div _ngcontent-prl-c106="" class="handle-button line-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-prl-c106="" class="handle-button theme-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-prl-c106="" class="handle-button copy-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-prl-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-python" id="ZH-CN_TOPIC_0000002478173614__screen13983389279" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment"># {日志zip文件存放路径}需要指定.zip后缀</span></li><li>Emulator -logZip {模拟器名称} -logPath {日志<span class="hljs-built_in">zip</span>文件存放路径}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173614__p11501657141719"><strong>示例：</strong></p> <div _ngcontent-prl-c106="" class="highlight-div"><div _ngcontent-prl-c106="" class="highlight-div-header"><div _ngcontent-prl-c106="" class="highlight-div-header-left"><div _ngcontent-prl-c106="" class="handle-button expand-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-prl-c106="" class="highlight-div-header-right"><div _ngcontent-prl-c106="" class="handle-button ai-button"></div><div _ngcontent-prl-c106="" class="handle-button line-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-prl-c106="" class="handle-button theme-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-prl-c106="" class="handle-button copy-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-prl-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173614__screen95015711720" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">Emulator</span> -<span class="hljs-variable">logZip</span> <span class="hljs-string">"my Emulator"</span> -<span class="hljs-variable">logPath</span> <span class="hljs-variable">D</span>:\<span class="hljs-title class_">EmulatorLog</span>\<span class="hljs-number">20250730</span>.<span class="hljs-title class_">zip</span></li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section1365691492511">查看模拟器实例<i class="anchor-icon anchor-icon-link" anchorid="section1365691492511" tips="复制节点链接"></i></h3><p id="ZH-CN_TOPIC_0000002478173614__p20572405528">从DevEco Studio 6.0.0 Beta3版本开始支持。</p> <div _ngcontent-prl-c106="" class="highlight-div"><div _ngcontent-prl-c106="" class="highlight-div-header"><div _ngcontent-prl-c106="" class="highlight-div-header-left"><div _ngcontent-prl-c106="" class="handle-button expand-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-prl-c106="" class="highlight-div-header-right"><div _ngcontent-prl-c106="" class="handle-button ai-button"></div><div _ngcontent-prl-c106="" class="handle-button line-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-prl-c106="" class="handle-button theme-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-prl-c106="" class="handle-button copy-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-prl-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-undefined" id="ZH-CN_TOPIC_0000002478173614__screen16643232202516" data-highlighted="yes"><ol class="linenums"><li>Emulator -list</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section173760211817">查看模拟器版本<i class="anchor-icon anchor-icon-link" anchorid="section173760211817" tips="复制节点链接"></i></h3><div _ngcontent-prl-c106="" class="highlight-div"><div _ngcontent-prl-c106="" class="highlight-div-header"><div _ngcontent-prl-c106="" class="highlight-div-header-left"><div _ngcontent-prl-c106="" class="handle-button expand-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-prl-c106="" class="highlight-div-header-right"><div _ngcontent-prl-c106="" class="handle-button ai-button"></div><div _ngcontent-prl-c106="" class="handle-button line-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-prl-c106="" class="handle-button theme-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-prl-c106="" class="handle-button copy-button"><div _ngcontent-prl-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-prl-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-undefined" id="ZH-CN_TOPIC_0000002478173614__screen208521739182712" data-highlighted="yes"><ol class="linenums"><li>Emulator -version</li></ol></pre></div></div> </div> </div> <div></div></div>