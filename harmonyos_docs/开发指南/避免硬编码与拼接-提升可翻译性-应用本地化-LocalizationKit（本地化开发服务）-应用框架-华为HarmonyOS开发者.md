<h1 _ngcontent-trj-c119="" class="doc-title ng-star-inserted" title="避免硬编码与拼接"> 避免硬编码与拼接 </h1>

<div _ngcontent-trj-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div> <div class="tiledSection"><h2 id="使用场景">使用场景<i class="anchor-icon anchor-icon-link" anchorid="使用场景" tips="复制节点链接"></i></h2><p>本地化的关键操作是资源文件的翻译，为提升翻译可行性在开发过程中应避免硬编码与拼接。</p> <p>不同于从外部获取数据或在运行时生成数据，硬编码是指将数据、参数、常量等直接嵌入到程序中，实现特定功能。在界面中显示的文字，包括图片中的文字、音频、字幕等，不能采用硬编码，避免难以本地化或增加本地化的工作量。同时，界面上的一句完整文本，不应由多个片段直接前后拼接而成，这可能导致翻译时无法获取句子完整信息，从而导致翻译错误或语义表达顺序问题。例如，下图中将“Rain tomorrow”和“Bring an umbrella”两句直接拼接在一起，造成语句大小写问题。</p> <p><span><img originheight="66" originwidth="287" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114805.84223723143478486787760064899197:50001231000000:2800:417BC1E56B82EB874A6EC33C71BB93F3329258E1F743A56EC79A86DA7795E27D.png" class="notEnlarge" width="287" height="66"></span></p> </div>  <div class="tiledSection"><h2 id="约束与限制">约束与限制<i class="anchor-icon anchor-icon-link" anchorid="约束与限制" tips="复制节点链接"></i></h2><ol><li><p>避免使用硬编码，将需要翻译的字符串提取到资源文件中，与代码分离，然后使用相关的接口加载，具体请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/l10n-multilingual-resources">提供多语言资源</a>。</p>  </li><li><p>避免字符串直接拼接，若语句存在变化部分（如“打开视频”和“打开浏览器”，变化部分是“视频”和“浏览器”），对应变量应使用占位标识，呈现完整的语句表达。</p> <p>资源占位符示例：</p>  <div _ngcontent-trj-c106="" class="highlight-div"><div _ngcontent-trj-c106="" class="highlight-div-header"><div _ngcontent-trj-c106="" class="highlight-div-header-left"><div _ngcontent-trj-c106="" class="handle-button expand-button"><div _ngcontent-trj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-trj-c106="" class="highlight-div-header-right"><div _ngcontent-trj-c106="" class="handle-button ai-button"></div><div _ngcontent-trj-c106="" class="handle-button line-button"><div _ngcontent-trj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-trj-c106="" class="handle-button theme-button"><div _ngcontent-trj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-trj-c106="" class="handle-button copy-button"><div _ngcontent-trj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-trj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li>{</li><li>  <span class="hljs-string">"name"</span>: <span class="hljs-string">"string1"</span>,</li><li>  <span class="hljs-string">"value"</span>: <span class="hljs-string">"打开%s"</span></li><li>}</li></ol></pre></div></div>  </li></ol> </div> </div> <div></div></div>