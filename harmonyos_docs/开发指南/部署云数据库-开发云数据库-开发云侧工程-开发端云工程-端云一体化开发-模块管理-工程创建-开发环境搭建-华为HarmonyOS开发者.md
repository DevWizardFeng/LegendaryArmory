<h1 _ngcontent-kqk-c119="" class="doc-title ng-star-inserted" title="部署云数据库"> 部署云数据库 </h1>

<div _ngcontent-kqk-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000001563445356"><p id="ZH-CN_TOPIC_0000002214858705__p2532104911465">完成数据条目创建后，您可以直接部署该数据条目。您也可以等所有对象类型和数据条目开发完成后，再统一批量部署到AGC云端。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul id="ZH-CN_TOPIC_0000002214858705__ul14325101513352"><li id="li13325121593515">部署到AGC云端的存储区数量不得超过4个，否则会导致部署失败，提示“clouddb deploy failed. Reason is the number of CloudDBZone exceeds the limit.”错误。如AGC云端当前已存在4个存储区，请将数据部署到已有的存储区，或者删除已有存储区后再部署新的存储区。<strong>需要注意的是，删除存储区，该存储区内的数据也将一并删除，且不可恢复。</strong></li><li id="li3589101710353">对象类型中的fieldType等字段信息，部署到AGC云端后，请勿在本地再做修改。例如，fieldType设置为String，对象类型部署成功后，又在本地修改fieldType为Integer，再次部署将失败，提示“clouddb deploy failed. Reason is existing fields cannot be modified.”错误。如需更改fieldType等字段信息，请先删除云端部署的对象类型。<strong>需要注意的是，删除云端对象类型，对象类型内添加的数据也将一并删除，且不可恢复。</strong></li></ul> </div></div></div> <p id="ZH-CN_TOPIC_0000002214858705__p20450841143711">部署云数据库的操作如下：</p> <ol id="ZH-CN_TOPIC_0000002214858705__ol84382612431"><li id="li79311524911">右击“clouddb”目录，选择“Deploy Cloud DB”。<p id="ZH-CN_TOPIC_0000002214858705__p570717581503"><a name="ZH-CN_TOPIC_0000002214858705__li79311524911"></a><a name="li79311524911"></a><span><img originheight="746" originwidth="939" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104751.48186532424747263424606818011524:50001231000000:2800:688A086B09831AB1B2C2EF7F50CF05FF40E1F8C6BDACFD4A5EF8F2B67850CA7B.png" width="920" height="730.905218317359"></span></p> </li><li id="li89551217152317">您可在底部状态栏右侧查看云数据库打包与部署进度。<p id="ZH-CN_TOPIC_0000002214858705__p5772493467"><a name="ZH-CN_TOPIC_0000002214858705__li89551217152317"></a><a name="li89551217152317"></a>请您耐心等待，直至出现“Deploy successfully”消息，表示云数据库已成功部署。</p> <p id="ZH-CN_TOPIC_0000002214858705__p1653818115512"><span><img originheight="746" originwidth="944" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104751.74682065218212534036908021071737:50001231000000:2800:69FA2C694C660943B6DA05A763FE62C9F1B6F3341A0D1964A7C0B4330E2BA234.png" width="920" height="727.0338983050847"></span></p> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p id="ZH-CN_TOPIC_0000002214858705__p2650749111314">云数据库部署成功后，DevEco Studio将自动从云侧下载云数据库的schema文件至“AppScope/resources/rawfile/schema.json”路径，该文件是云数据库端侧API必须引入的配置文件。</p> <p id="ZH-CN_TOPIC_0000002214858705__p8650134971311">如果后续又在本地工程修改了对象类型，请重新部署云数据库，DevEco Studio将自动更新schema.json文件；如果后续在AGC云侧修改了对象类型，您需<a href="https://developer.huawei.com/consumer/cn/doc/AppGallery-connect-Guides/agc-clouddb-agcconsole-objecttypes-0000001127675459#section1558018208151" target="_blank">手动从AGC控制台导出schema.json文件</a>，拷贝至本地工程的“AppScope/resources/rawfile”目录下。否则，可能导致schema.json文件中的对象类型和代码中的对象类型不一致，端侧访问云数据库时提示<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cloudfoundation-arkts-error-code#section1432118584210" target="_blank">1008230002</a>错误。</p> </div></div></div> </li><li id="li213335183612">在菜单栏选择“Tools &gt; CloudDev”。<p id="ZH-CN_TOPIC_0000002214858705__p1223163993217"><a name="ZH-CN_TOPIC_0000002214858705__li213335183612"></a><a name="li213335183612"></a><span><img originheight="701" originwidth="947" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104751.94461595219802458599090316017187:50001231000000:2800:C0549AEA9B6A29F208C1F3C755B3E5785C24E2269BE0A0B2AAEFCC6FF4064D8B.png" width="920" height="681.013727560718"></span></p> </li><li id="li10133951143611">在打开的CloudDev面板中，点击“Serverless &gt; Cloud DB”下的“Go to console”，进入当前项目的云数据库服务页面。<p id="ZH-CN_TOPIC_0000002214858705__p1313355112365"><a name="ZH-CN_TOPIC_0000002214858705__li10133951143611"></a><a name="li10133951143611"></a><span><img originheight="747" originwidth="969" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104751.31501286179371302822036156328538:50001231000000:2800:364E412390987D2976143745E8FFA8E78BC75C37F7E3810733E45251B610C3B9.png" width="920" height="709.2260061919505"></span></p> </li><li id="li1199014477474">分别点击“对象类型”、“存储区”与“数据”页签，可查看到本地开发的云数据库资源均已成功部署至AGC云端。<p id="ZH-CN_TOPIC_0000002214858705__p1531315420463"><a name="ZH-CN_TOPIC_0000002214858705__li1199014477474"></a><a name="li1199014477474"></a>部署成功后，您便可以从端侧访问云数据库了，具体请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/agc-harmonyos-clouddev-invokeclouddatabase">在端侧访问云数据库</a>。</p> <p id="ZH-CN_TOPIC_0000002214858705__p1620195053117">您还可以在AGC控制台继续编辑以上部署的云数据库资源，具体操作请参考<a href="https://developer.huawei.com/consumer/cn/doc/AppGallery-connect-Guides/agc-clouddb-managingclouddb-0000001080815650" target="_blank">管理数据库</a>。</p> <p id="ZH-CN_TOPIC_0000002214858705__p1668101312155">对象类型“Post”与“objecttype1”：</p> <p id="ZH-CN_TOPIC_0000002214858705__p106483631618"><span><img originheight="276" originwidth="1095" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104751.58275107397529396059677816600388:50001231000000:2800:A5499E323ABD139DDC2303795D5F4A4FD86070FD5E041FE963B02B0047D51DFD.png" width="920" height="231.89041095890408"></span></p> <p id="ZH-CN_TOPIC_0000002214858705__p135881249133219"></p> <p id="ZH-CN_TOPIC_0000002214858705__p551716274196">对象类型“Post”所属存储区“Demo”、“objecttype1”所属存储区“cloudDBZoneName1”：</p> <p id="ZH-CN_TOPIC_0000002214858705__p84538422014"><span><img originheight="280" originwidth="1094" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104751.58120603976193938860884568904601:50001231000000:2800:1F08248967CE7827B4517D392A3F7D58F37278077B7718333B31414C54EDFD39.png" width="920" height="235.46617915904937"></span></p> <p id="ZH-CN_TOPIC_0000002214858705__p421272013314"></p> <p id="ZH-CN_TOPIC_0000002214858705__p542614312221">“d_Post.json”内的数据条目、“d_objecttype1.json”内的数据条目：</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002214858705__p2617151511105">部署对象类型或数据条目JSON文件，实际是部署JSON文件内包含的对象类型或数据条目。因此，您在AGC控制台查看到的将是一个个对象类型或者一条条数据，而非JSON文件。</p> </div></div></div> <p id="ZH-CN_TOPIC_0000002214858705__p747716222230"><span><img originheight="281" originwidth="1080" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104751.88344715390703686769788130998405:50001231000000:2800:60B8952F303C5356445719F5B23D318AC1161F421A892D9CCB040CE16B0FDF74.png" width="920" height="239.37037037037038"></span></p> <p id="ZH-CN_TOPIC_0000002214858705__p171830514257"></p> <p id="ZH-CN_TOPIC_0000002214858705__p5586143084418"><span><img originheight="264" originwidth="1067" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104751.70118595421209402457010486630901:50001231000000:2800:3ACEFD28C6BE7BDDCC166EE2DA5E89D376E2B55FE53083AA80BF1D84266FED67.png" width="920" height="227.62886597938143"></span></p> <p id="ZH-CN_TOPIC_0000002214858705__p581014532351"></p> </li></ol> </div> <div></div></div>