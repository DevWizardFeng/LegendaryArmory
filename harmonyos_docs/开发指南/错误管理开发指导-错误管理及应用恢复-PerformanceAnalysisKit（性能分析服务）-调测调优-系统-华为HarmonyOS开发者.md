<h1 _ngcontent-bph-c119="" class="doc-title ng-star-inserted" title="错误管理开发指导"> 错误管理开发指导 </h1>

<div _ngcontent-bph-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="场景介绍">场景介绍<i class="anchor-icon anchor-icon-link" anchorid="场景介绍" tips="复制节点链接"></i></h2>          <p>当应用的代码存在规范问题或错误时，会在运行中产生异常和错误，如应用未捕获异常等。在错误产生后，应用会异常退出。错误日志通常会保存在用户本地存储设备中，不方便开发者定位问题。所以，应用开发者可以使用错误管理的接口，在应用退出前，及时将相关错误及日志上报到开发者的服务平台来定位问题。</p>     <p>使用errorManager接口监听异常和错误后，应用不会退出，建议在回调函数执行完后，增加同步退出操作，如果只是为了获取错误日志，建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/hiappevent-intro">HiAppEvent订阅事件</a>。</p>    </div>    <div class="tiledSection">     <h2 id="接口说明">接口说明<i class="anchor-icon anchor-icon-link" anchorid="接口说明" tips="复制节点链接"></i></h2>          <p>应用错误管理接口由<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-errormanager" target="_blank">@ohos.app.ability.errorManager (错误管理模块)</a>提供，使用接口能力前需注册错误观测器，开发者可以通过import引入，详见<a href="/consumer/cn/doc/harmonyos-guides/errormanager-guidelines#开发示例">开发示例</a>。</p>     <p><strong>错误管理接口功能介绍</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.2.4.1.3.1.1" valign="top" width="50%">接口名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.2.4.1.3.1.2" valign="top" width="50%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">on(type: "error", observer: ErrorObserver): number</td>         <td class="cellrowborder" valign="top" width="50%">注册错误监听接口，当系统监测到应用异常时会回调该监听。该接口为同步接口，返回值为注册的监听对象对应的序号。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">off(type: "error", observerId: number, callback: AsyncCallback&lt;void&gt;): void</td>         <td class="cellrowborder" valign="top" width="50%">以callback的形式解除注册监听，传入的number为之前注册监听时返回的序号。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">off(type: "error", observerId: number): Promise&lt;void&gt;</td>         <td class="cellrowborder" valign="top" width="50%">以Promise的形式解除注册监听，传入的number为之前注册监听时返回的序号。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">on(type: 'globalErrorOccurred', observer: GlobalObserver): void</td>         <td class="cellrowborder" valign="top" width="50%">          <p>注册进程错误监听接口，当系统监测到应用异常时会回调该监听，该接口为同步接口，即一次注册，全局监听。（<strong>推荐使用</strong>）</p>          <p>说明：从API version 18开始，支持该接口。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">off(type: 'globalErrorOccurred', observer?: GlobalObserver): void</td>         <td class="cellrowborder" valign="top" width="50%">          <p>以callback的形式解除注册监听。（<strong>推荐使用</strong>）</p>          <p>说明：从API version 18开始，支持该接口。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">on(type: 'globalUnhandledRejectionDetected', observer: GlobalObserver): void</td>         <td class="cellrowborder" valign="top" width="50%">          <p>注册进程错误监听接口，当系统监测到应用promise异常时会回调该监听，该接口为同步接口，即一次注册，全局监听。（<strong>推荐使用</strong>）</p>          <p>说明：从API version 18开始，支持该接口。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">off(type: 'globalUnhandledRejectionDetected', observer?: GlobalObserver): void</td>         <td class="cellrowborder" valign="top" width="50%">          <p>以callback的形式解除注册监听。（<strong>推荐使用</strong>）</p>          <p>说明：从API version 18开始，支持该接口。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">on(type: 'loopObserver', timeout: number, observer: LoopObserver): void</td>         <td class="cellrowborder" valign="top" width="50%">          <p>注册主线程消息处理耗时监听器，当系统监测到应用主线程事件处理超时时会回调该监听。</p>          <p>只能在主线程调用，多次注册后，后一次的注册会覆盖前一次的。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">off(type: 'loopObserver', observer?: LoopObserver): void</td>         <td class="cellrowborder" valign="top" width="50%">以LoopObserver的形式解除应用主线程消息处理耗时监听。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">on(type: 'freeze', observer: FreezeObserver): void</td>         <td class="cellrowborder" valign="top" width="50%">注册应用主线程freeze监听。只能在主线程调用，重复注册后，后一次的注册会覆盖前一次的。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">off(type: 'freeze', observer?: FreezeObserver): void</td>         <td class="cellrowborder" valign="top" width="50%">          <p>以FreezeObserver的形式解除应用主线程消息处理耗时监听。</p>          <p>说明：从API version 18开始，支持该接口。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">setDefaultErrorHandler(defaultHandler?: ErrorHandler): ErrorHandler</td>         <td class="cellrowborder" valign="top" width="50%">          <p>仅允许在主线程调用，发生JS_CRASH异常时，支持链式回调，返回值为上一次注册的处理器。</p>          <p>说明：从API version 21开始，支持该接口。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">当采用callback作为异步回调时，可以在callback中进行下一步处理。</td>         <td class="cellrowborder" valign="top" width="50%"></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">当采用Promise对象返回时，可以在Promise对象中类似地处理接口返回值，具体结果码说明见<a href="/consumer/cn/doc/harmonyos-guides/errormanager-guidelines#解除注册结果码">解除注册结果码</a>。</td>         <td class="cellrowborder" valign="top" width="50%"></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误监听(ErrorObserver)接口功能介绍</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.2.6.1.3.1.1" valign="top" width="50%">接口名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.2.6.1.3.1.2" valign="top" width="50%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">onUnhandledException(errMsg: string): void</td>         <td class="cellrowborder" valign="top" width="50%">系统回调接口，应用注册后，当应用产生未捕获的异常时的回调。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">onException?(errObject: Error): void</td>         <td class="cellrowborder" valign="top" width="50%">系统回调接口，应用注册后，当应用产生异常上报js层时的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>应用主线程监听(LoopObserver)接口功能介绍</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.2.8.1.3.1.1" valign="top" width="50%">接口名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.2.8.1.3.1.2" valign="top" width="50%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">onLoopTimeOut?(timeout: number): void</td>         <td class="cellrowborder" valign="top" width="50%">系统回调接口，应用注册后，当应用主线程处理事件超时的回调。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="解除注册结果码" class="firsth2">解除注册结果码<i class="anchor-icon anchor-icon-link" anchorid="解除注册结果码" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.1" valign="top" width="50%">结果码</th>         <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.2" valign="top" width="50%">原因</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">0</td>         <td class="cellrowborder" valign="top" width="50%">正常返回</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">-1</td>         <td class="cellrowborder" valign="top" width="50%">传入的number参数不存在</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">-2</td>         <td class="cellrowborder" valign="top" width="50%">参数错误</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="开发示例">开发示例<i class="anchor-icon anchor-icon-link" anchorid="开发示例" tips="复制节点链接"></i></h2>          <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content">       <p>建议在异常回调函数处理的最后，增加同步退出操作，以避免多次异常回调。</p>      </div></div></div>    </div>    <div class="tiledSection">     <h3 id="单线程监听场景" class="firsth2">单线程监听场景<i class="anchor-icon anchor-icon-link" anchorid="单线程监听场景" tips="复制节点链接"></i></h3>          <div _ngcontent-bph-c106="" class="highlight-div"><div _ngcontent-bph-c106="" class="highlight-div-header"><div _ngcontent-bph-c106="" class="highlight-div-header-left"><div _ngcontent-bph-c106="" class="handle-button expand-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bph-c106="" class="highlight-div-header-right"><div _ngcontent-bph-c106="" class="handle-button ai-button"></div><div _ngcontent-bph-c106="" class="handle-button line-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bph-c106="" class="handle-button theme-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bph-c106="" class="handle-button copy-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bph-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityConstant</span>, errorManager, <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { process } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> registerId = -<span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">callback</span>: errorManager.<span class="hljs-property">ErrorObserver</span> = {</li><li>    <span class="hljs-attr">onUnhandledException</span>: <span class="hljs-function">(<span class="hljs-params">errMsg</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(errMsg);</li><li>    },</li><li>    <span class="hljs-attr">onException</span>: <span class="hljs-function">(<span class="hljs-params">errorObj</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onException, name: '</span>, errorObj.<span class="hljs-property">name</span>);</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onException, message: '</span>, errorObj.<span class="hljs-property">message</span>);</li><li>        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">typeof</span>(errorObj.<span class="hljs-property">stack</span>) == <span class="hljs-string">'string'</span>) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onException, stack: '</span>, errorObj.<span class="hljs-property">stack</span>);</li><li>        }</li><li>        <span class="hljs-comment">//回调函数执行完，采用同步退出方式，避免多次触发异常</span></li><li>        <span class="hljs-keyword">let</span> pro = <span class="hljs-keyword">new</span> process.<span class="hljs-title class_">ProcessManager</span>();</li><li>        pro.<span class="hljs-title function_">exit</span>(<span class="hljs-number">0</span>);</li><li>    }</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityWant</span>: <span class="hljs-title class_">Want</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>    <span class="hljs-title function_">onCreate</span>(<span class="hljs-params">want: Want, launchParam: AbilityConstant.LaunchParam</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] EntryAbility onCreate"</span>);</li><li>        registerId = errorManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">"error"</span>, callback);</li><li>        abilityWant = want;</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onDestroy</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] EntryAbility onDestroy"</span>);</li><li>        errorManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">"error"</span>, registerId, <span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] result "</span> + result.<span class="hljs-property">code</span> + <span class="hljs-string">";"</span> + result.<span class="hljs-property">message</span>);</li><li>        });</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>        <span class="hljs-comment">// 为已创建的主窗口设置主页面</span></li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] EntryAbility onWindowStageCreate"</span>);</li><li>
</li><li>        windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">"pages/index"</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to load the content. Cause:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>                <span class="hljs-keyword">return</span>;</li><li>            }</li><li>        });</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onWindowStageDestroy</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-comment">// 销毁主窗口，释放相关UI资源</span></li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] EntryAbility onWindowStageDestroy"</span>);</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onForeground</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-comment">// 切换前台</span></li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] EntryAbility onForeground"</span>);</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onBackground</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-comment">// 切换后台</span></li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] EntryAbility onBackground"</span>);</li><li>    }</li><li>};</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="进程监听异常场景">进程监听异常场景<i class="anchor-icon anchor-icon-link" anchorid="进程监听异常场景" tips="复制节点链接"></i></h3>          <div _ngcontent-bph-c106="" class="highlight-div"><div _ngcontent-bph-c106="" class="highlight-div-header"><div _ngcontent-bph-c106="" class="highlight-div-header-left"><div _ngcontent-bph-c106="" class="handle-button expand-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bph-c106="" class="highlight-div-header-right"><div _ngcontent-bph-c106="" class="handle-button ai-button"></div><div _ngcontent-bph-c106="" class="handle-button line-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bph-c106="" class="handle-button theme-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bph-c106="" class="handle-button copy-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bph-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityConstant</span>, errorManager, <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { process } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">errorFunc</span>(<span class="hljs-params">observer: errorManager.GlobalError</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] result name :"</span> + observer.<span class="hljs-property">name</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] result message :"</span> + observer.<span class="hljs-property">message</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] result stack :"</span> + observer.<span class="hljs-property">stack</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] result instanceName :"</span> + observer.<span class="hljs-property">instanceName</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] result instanceType :"</span> + observer.<span class="hljs-property">instanceType</span>);</li><li>    <span class="hljs-comment">//回调函数执行完，采用同步退出方式，避免多次触发异常</span></li><li>    <span class="hljs-keyword">let</span> pro = <span class="hljs-keyword">new</span> process.<span class="hljs-title class_">ProcessManager</span>();</li><li>    pro.<span class="hljs-title function_">exit</span>(<span class="hljs-number">0</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityWant</span>: <span class="hljs-title class_">Want</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>    <span class="hljs-title function_">onCreate</span>(<span class="hljs-params">want: Want, launchParam: AbilityConstant.LaunchParam</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] EntryAbility onCreate"</span>);</li><li>        errorManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">"globalErrorOccurred"</span>, errorFunc);</li><li>        abilityWant = want;</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onDestroy</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] EntryAbility onDestroy"</span>);</li><li>        errorManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">"globalErrorOccurred"</span>, errorFunc);</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>        <span class="hljs-comment">// 为已创建的主窗口设置主页面</span></li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] EntryAbility onWindowStageCreate"</span>);</li><li>
</li><li>        windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">"pages/index"</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to load the content. Cause:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>                <span class="hljs-keyword">return</span>;</li><li>            }</li><li>        });</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onWindowStageDestroy</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-comment">// 销毁主窗口，释放相关UI资源</span></li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] EntryAbility onWindowStageDestroy"</span>);</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onForeground</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-comment">// 切换前台</span></li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] EntryAbility onForeground"</span>);</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onBackground</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-comment">// 切换后台</span></li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] EntryAbility onBackground"</span>);</li><li>    }</li><li>};</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="进程监听promise异常场景">进程监听promise异常场景<i class="anchor-icon anchor-icon-link" anchorid="进程监听promise异常场景" tips="复制节点链接"></i></h3>          <div _ngcontent-bph-c106="" class="highlight-div"><div _ngcontent-bph-c106="" class="highlight-div-header"><div _ngcontent-bph-c106="" class="highlight-div-header-left"><div _ngcontent-bph-c106="" class="handle-button expand-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bph-c106="" class="highlight-div-header-right"><div _ngcontent-bph-c106="" class="handle-button ai-button"></div><div _ngcontent-bph-c106="" class="handle-button line-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bph-c106="" class="handle-button theme-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bph-c106="" class="handle-button copy-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bph-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityConstant</span>, errorManager, <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { process } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">promiseFunc</span>(<span class="hljs-params">observer: errorManager.GlobalError</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] result name :"</span> + observer.<span class="hljs-property">name</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] result message :"</span> + observer.<span class="hljs-property">message</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] result stack :"</span> + observer.<span class="hljs-property">stack</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] result instanceName :"</span> + observer.<span class="hljs-property">instanceName</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] result instanceType :"</span> + observer.<span class="hljs-property">instanceType</span>);</li><li>    <span class="hljs-comment">//回调函数执行完，采用同步退出方式，避免多次触发异常</span></li><li>    <span class="hljs-keyword">let</span> pro = <span class="hljs-keyword">new</span> process.<span class="hljs-title class_">ProcessManager</span>();</li><li>    pro.<span class="hljs-title function_">exit</span>(<span class="hljs-number">0</span>);</li><li>}</li><li>
</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityWant</span>: <span class="hljs-title class_">Want</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>    <span class="hljs-title function_">onCreate</span>(<span class="hljs-params">want: Want, launchParam: AbilityConstant.LaunchParam</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] EntryAbility onCreate"</span>);</li><li>        errorManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">"globalUnhandledRejectionDetected"</span>, promiseFunc);</li><li>        abilityWant = want;</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onDestroy</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] EntryAbility onDestroy"</span>);</li><li>        errorManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">"globalUnhandledRejectionDetected"</span>, promiseFunc);</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>        <span class="hljs-comment">// 为已创建的主窗口设置主页面</span></li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] EntryAbility onWindowStageCreate"</span>);</li><li>
</li><li>        windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">"pages/index"</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to load the content. Cause:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>                <span class="hljs-keyword">return</span>;</li><li>            }</li><li>        });</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onWindowStageDestroy</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-comment">// 销毁主窗口，释放相关UI资源</span></li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] EntryAbility onWindowStageDestroy"</span>);</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onForeground</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-comment">// 切换前台</span></li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] EntryAbility onForeground"</span>);</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onBackground</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-comment">// 切换后台</span></li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] EntryAbility onBackground"</span>);</li><li>    }</li><li>};</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="主线程监听freeze">主线程监听freeze<i class="anchor-icon anchor-icon-link" anchorid="主线程监听freeze" tips="复制节点链接"></i></h3>          <div _ngcontent-bph-c106="" class="highlight-div"><div _ngcontent-bph-c106="" class="highlight-div-header"><div _ngcontent-bph-c106="" class="highlight-div-header-left"><div _ngcontent-bph-c106="" class="handle-button expand-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bph-c106="" class="highlight-div-header-right"><div _ngcontent-bph-c106="" class="handle-button ai-button"></div><div _ngcontent-bph-c106="" class="handle-button line-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bph-c106="" class="handle-button theme-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bph-c106="" class="handle-button copy-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bph-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityConstant</span>, errorManager, <span class="hljs-title class_">UIAbility</span>, <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { process } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-comment">// Define freezeCallback</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">freezeCallback</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"freezecallback"</span>);</li><li>}</li><li>
</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">abilityWant</span>: <span class="hljs-title class_">Want</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>    <span class="hljs-title function_">onCreate</span>(<span class="hljs-params">want: Want, launchParam: AbilityConstant.LaunchParam</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] EntryAbility onCreate"</span>);</li><li>        errorManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">"freeze"</span>, freezeCallback);</li><li>        abilityWant = want;</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onDestroy</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] EntryAbility onDestroy"</span>);</li><li>        errorManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">"freeze"</span>, freezeCallback);</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>        <span class="hljs-comment">// 为已创建的主窗口设置主页面</span></li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] EntryAbility onWindowStageCreate"</span>);</li><li>
</li><li>        windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">"pages/index"</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to load the content. Cause:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>                <span class="hljs-keyword">return</span>;</li><li>            }</li><li>        });</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onWindowStageDestroy</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-comment">// 销毁主窗口，释放相关UI资源</span></li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] EntryAbility onWindowStageDestroy"</span>);</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onForeground</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-comment">// 切换前台</span></li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] EntryAbility onForeground"</span>);</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">onBackground</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-comment">// 切换后台</span></li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"[Demo] EntryAbility onBackground"</span>);</li><li>    }</li><li>};</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="错误处理器责任链模式场景">错误处理器责任链模式场景<i class="anchor-icon anchor-icon-link" anchorid="错误处理器责任链模式场景" tips="复制节点链接"></i></h3>          <p>以下示例文件均位于同一目录。</p>     <p>定义第一个错误处理器及注册方法，无前置处理器时退出进程:</p>     <div _ngcontent-bph-c106="" class="highlight-div"><div _ngcontent-bph-c106="" class="highlight-div-header"><div _ngcontent-bph-c106="" class="highlight-div-header-left"><div _ngcontent-bph-c106="" class="handle-button expand-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bph-c106="" class="highlight-div-header-right"><div _ngcontent-bph-c106="" class="handle-button ai-button"></div><div _ngcontent-bph-c106="" class="handle-button line-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bph-c106="" class="handle-button theme-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bph-c106="" class="handle-button copy-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bph-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// firstErrorHandler.ets</span></li><li><span class="hljs-keyword">import</span> { errorManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { process } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">firstHandler</span>: errorManager.<span class="hljs-property">ErrorHandler</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">firstErrorHandler</span>: errorManager.<span class="hljs-property">ErrorHandler</span> = <span class="hljs-function">(<span class="hljs-params">reason: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>    <span class="hljs-comment">// 自定义的第一个errorHandler实现逻辑</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[FirstHandler] First uncaught exception handler invoked.'</span>);</li><li>    <span class="hljs-keyword">if</span> (firstHandler) {</li><li>        <span class="hljs-title function_">firstHandler</span>(reason);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-comment">// 建议增加判空操作，如果为空采用同步退出方式</span></li><li>        <span class="hljs-keyword">const</span> processManager = <span class="hljs-keyword">new</span> process.<span class="hljs-title class_">ProcessManager</span>();</li><li>        processManager.<span class="hljs-title function_">exit</span>(<span class="hljs-number">0</span>);</li><li>    }</li><li>};</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">setFirstErrorHandler</span>(<span class="hljs-params"></span>) {</li><li>    firstHandler = errorManager.<span class="hljs-title function_">setDefaultErrorHandler</span>(firstErrorHandler);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Registered First Error Handler'</span>);</li><li>}</li></ol></pre></div></div>     <p>定义第二个错误处理器及注册方法，形成链式调用:</p>     <div _ngcontent-bph-c106="" class="highlight-div"><div _ngcontent-bph-c106="" class="highlight-div-header"><div _ngcontent-bph-c106="" class="highlight-div-header-left"><div _ngcontent-bph-c106="" class="handle-button expand-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bph-c106="" class="highlight-div-header-right"><div _ngcontent-bph-c106="" class="handle-button ai-button"></div><div _ngcontent-bph-c106="" class="handle-button line-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bph-c106="" class="handle-button theme-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bph-c106="" class="handle-button copy-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bph-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// secondErrorHandler.ets</span></li><li><span class="hljs-keyword">import</span> { errorManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { process } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">secondHandler</span>: errorManager.<span class="hljs-property">ErrorHandler</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">secondErrorHandler</span>: errorManager.<span class="hljs-property">ErrorHandler</span> = <span class="hljs-function">(<span class="hljs-params">reason: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>    <span class="hljs-comment">// 自定义的第二个errorHandler实现逻辑</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'[SecondHandler] Second uncaught exception handler invoked.'</span>);</li><li>    <span class="hljs-keyword">if</span> (secondHandler) {</li><li>        <span class="hljs-title function_">secondHandler</span>(reason);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-keyword">const</span> processManager = <span class="hljs-keyword">new</span> process.<span class="hljs-title class_">ProcessManager</span>();</li><li>        processManager.<span class="hljs-title function_">exit</span>(<span class="hljs-number">0</span>);</li><li>    }</li><li>};</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">setSecondErrorHandler</span>(<span class="hljs-params"></span>) {</li><li>    secondHandler = errorManager.<span class="hljs-title function_">setDefaultErrorHandler</span>(secondErrorHandler);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Registered Second Error Handler'</span>);</li><li>}</li></ol></pre></div></div>     <p>主组件通过按钮触发测试，注册两个处理器并抛错验证处理链:</p>     <div _ngcontent-bph-c106="" class="highlight-div"><div _ngcontent-bph-c106="" class="highlight-div-header"><div _ngcontent-bph-c106="" class="highlight-div-header-left"><div _ngcontent-bph-c106="" class="handle-button expand-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bph-c106="" class="highlight-div-header-right"><div _ngcontent-bph-c106="" class="handle-button ai-button"></div><div _ngcontent-bph-c106="" class="handle-button line-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bph-c106="" class="handle-button theme-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bph-c106="" class="handle-button copy-button"><div _ngcontent-bph-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bph-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Index.ets</span></li><li><span class="hljs-keyword">import</span> { setFirstErrorHandler } <span class="hljs-keyword">from</span> <span class="hljs-string">'./firstErrorHandler'</span>;</li><li><span class="hljs-keyword">import</span> { setSecondErrorHandler } <span class="hljs-keyword">from</span> <span class="hljs-string">'./secondErrorHandler'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li><span class="hljs-comment">// 注册两个错误处理器，抛出错误以验证链式调用</span></li><li>struct <span class="hljs-title class_">ErrorHandlerTest</span> {</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-title function_">testErrorHandlers</span>(<span class="hljs-params"></span>) {</li><li>      <span class="hljs-title function_">setFirstErrorHandler</span>();</li><li>      <span class="hljs-title function_">setSecondErrorHandler</span>();</li><li>      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Test uncaught exception!'</span>);</li><li>    }</li><li>
</li><li>    <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Test Handler Chain'</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">48</span>)</li><li>          .<span class="hljs-title function_">margin</span>(<span class="hljs-number">16</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">testErrorHandlers</span>())</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>    }</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>