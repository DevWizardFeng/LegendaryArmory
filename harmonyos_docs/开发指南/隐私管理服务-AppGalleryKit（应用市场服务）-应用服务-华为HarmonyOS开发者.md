<h1 _ngcontent-hup-c119="" class="doc-title ng-star-inserted" title="隐私管理服务"> 隐私管理服务 </h1>

<div _ngcontent-hup-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>隐私管理服务为使用<a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-privacy-policy-0000002316794885" target="_blank">标准化隐私声明托管服务</a>的应用/元服务提供查询隐私链接、查询隐私签署状态、撤销同意记录和拉起标准化隐私弹框请求用户同意功能。</p>    <div class="tiledSection">     <h2 id="section10343164404617">场景介绍<i class="anchor-icon anchor-icon-link" anchorid="section10343164404617" tips="复制节点链接"></i></h2>          <ul>      <li>查询隐私链接       <p>在接入标准化隐私声明托管服务的场景下，应用内查询或展示隐私协议所需。</p></li>      <li>查询隐私签署状态       <p>支持查询协议签署状态，以便于应用/元服务内规划相关权限及合理合规获取数据。用户未签署隐私协议时，将无法申请系统权限。</p></li>      <li>撤销同意记录       <p>用于撤销用户已签署同意的隐私协议记录，撤销同意记录后再次打开应用会重新弹出标准化隐私弹框。</p></li>     </ul>    </div>    <ul>     <li>请求用户同意      <p>在接入标准化隐私声明托管服务的前提下，用于开发者需要主动拉起标准化隐私弹框请求用户同意场景。</p></li>    </ul>    <div class="tiledSection">     <h2 id="section193161550114115">业务流程<i class="anchor-icon anchor-icon-link" anchorid="section193161550114115" tips="复制节点链接"></i></h2>          <p><span><img height="413.96250000000003" originheight="701" originwidth="885" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114523.93336210765589067450431458642919:50001231000000:2800:E6BC824B8C2EADD93E01EBE575D5294703B3D09C6187C615B4A22E03950603BF.png" title="点击放大" width="523.6875"></span></p>     <p></p>    </div>    <div class="tiledSection">     <h3 id="section101401311805" class="firsth2">查询隐私链接信息<i class="anchor-icon anchor-icon-link" anchorid="section101401311805" tips="复制节点链接"></i></h3>          <ol>      <li>用户需要查询隐私链接信息。</li>      <li>应用调用getAppPrivacyMgmtInfo接口查询隐私链接信息。</li>      <li>返回隐私链接信息。</li>      <li>应用将查询结果返回给用户。</li>     </ol>    </div>    <div class="tiledSection">     <h3 id="section9936841833">查询隐私签署状态<i class="anchor-icon anchor-icon-link" anchorid="section9936841833" tips="复制节点链接"></i></h3>          <ol>      <li>用户需要查询隐私签署状态信息。</li>      <li>应用/元服务调用getAppPrivacyResult接口查询隐私签署状态信息。</li>      <li>返回隐私签署状态信息。</li>      <li>应用/元服务将结果返回给用户。</li>     </ol>    </div>    <div class="tiledSection">     <h3 id="section18489623631">撤销同意记录<i class="anchor-icon anchor-icon-link" anchorid="section18489623631" tips="复制节点链接"></i></h3>          <ol>      <li>用户需要撤销隐私签署同意记录。</li>      <li>应用调用disableService接口撤销隐私签署同意记录。</li>     </ol>    </div>    <div class="tiledSection">     <h3 id="section202276433310">请求用户同意<i class="anchor-icon anchor-icon-link" anchorid="section202276433310" tips="复制节点链接"></i></h3>          <ol>      <li>用户需要展示标准化隐私弹框。</li>      <li>应用调用requestAppPrivacyConsent接口拉起标准化隐私弹框。</li>      <li>返回弹窗结果信息。</li>      <li>向用户展示标准化隐私弹框请求用户同意。</li>     </ol>    </div>    <div class="tiledSection">     <h2 id="section2933193284216">约束与限制<i class="anchor-icon anchor-icon-link" anchorid="section2933193284216" tips="复制节点链接"></i></h2>          <ul>      <li>同一个Ability内不允许重复调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiextensioncontentsession#loadcontent" target="_blank">loadContent()</a>方法加载页面。</li>      <li>应用/元服务需要接入隐私声明托管服务。</li>      <li>隐私管理服务支持Phone、Tablet、PC/2in1设备。并且从5.1.1(19)版本开始，新增支持TV设备。</li>      <li>隐私管理服务暂不支持模拟器，请使用真机调试。</li>     </ul>    </div>    <div class="tiledSection">     <h2 id="section6348454124618">接口说明<i class="anchor-icon anchor-icon-link" anchorid="section6348454124618" tips="复制节点链接"></i></h2>          <p>隐私管理服务提供以下接口，具体API说明详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/store-privacymanager" target="_blank">接口文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.3.1.3.1.1" valign="top" width="49.95%">          <p>接口名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.3.1.3.1.2" valign="top" width="50.05%">          <p>描述</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="49.95%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/store-privacymanager#section10984155711373" target="_blank">getAppPrivacyMgmtInfo</a>(): <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/store-privacymanager#section1535385414136" target="_blank">AppPrivacyMgmtInfo</a></p></td>         <td class="cellrowborder" valign="top" width="50.05%">          <p>查询隐私链接信息接口，用于查询隐私链接信息。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="49.95%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/store-privacymanager#section887383520415" target="_blank">getAppPrivacyResult</a>(): <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/store-privacymanager#section12860134614530" target="_blank">AppPrivacyResult</a>[]</p></td>         <td class="cellrowborder" valign="top" width="50.05%">          <p>查询隐私签署状态接口，用于查询隐私签署状态信息。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="49.95%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/store-privacymanager#section16502191111574" target="_blank">disableService</a>():void</p></td>         <td class="cellrowborder" valign="top" width="50.05%">          <p>撤销同意记录接口，用于撤销隐私签署同意记录。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="49.95%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/store-privacymanager#section36372438116" target="_blank">requestAppPrivacyConsent</a>(context:common.UIAbilityContext):Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/store-privacymanager#section5439151165618" target="_blank">ConsentResult</a>&gt;</p></td>         <td class="cellrowborder" valign="top" width="50.05%">          <p>请求用户同意接口，用于开发者需要主动拉起标准化隐私弹框请求用户同意。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section316371715233">开发步骤<i class="anchor-icon anchor-icon-link" anchorid="section316371715233" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="section128227596253" class="firsth2">查询隐私链接信息<i class="anchor-icon anchor-icon-link" anchorid="section128227596253" tips="复制节点链接"></i></h3>          <ol>      <li><span>导入privacyManager模块及相关公共模块。</span>       <p></p>       <div _ngcontent-hup-c106="" class="highlight-div"><div _ngcontent-hup-c106="" class="highlight-div-header"><div _ngcontent-hup-c106="" class="highlight-div-header-left"><div _ngcontent-hup-c106="" class="handle-button expand-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hup-c106="" class="highlight-div-header-right"><div _ngcontent-hup-c106="" class="handle-button ai-button"></div><div _ngcontent-hup-c106="" class="handle-button line-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hup-c106="" class="handle-button theme-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hup-c106="" class="handle-button copy-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hup-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { privacyManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AppGalleryKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li></ol></pre></div></div>       <p></p></li>      <li><span>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/store-privacymanager#section10984155711373" target="_blank">getAppPrivacyMgmtInfo</a>方法查询隐私链接信息。</span>       <p></p>       <div _ngcontent-hup-c106="" class="highlight-div"><div _ngcontent-hup-c106="" class="highlight-div-header"><div _ngcontent-hup-c106="" class="highlight-div-header-left"><div _ngcontent-hup-c106="" class="handle-button expand-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hup-c106="" class="highlight-div-header-right"><div _ngcontent-hup-c106="" class="handle-button ai-button"></div><div _ngcontent-hup-c106="" class="handle-button line-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hup-c106="" class="handle-button theme-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hup-c106="" class="handle-button copy-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hup-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">appPrivacyManageInfo</span>: privacyManager.<span class="hljs-property">AppPrivacyMgmtInfo</span> = privacyManager.<span class="hljs-title function_">getAppPrivacyMgmtInfo</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'TAG'</span>, <span class="hljs-string">"Succeeded in getting AppPrivacyManageInfo type: "</span> + appPrivacyManageInfo[<span class="hljs-string">"type"</span>]);</li><li>  <span class="hljs-keyword">let</span> privacyLinkInfoArray : privacyManager.<span class="hljs-property">AppPrivacyLink</span>[] = appPrivacyManageInfo.<span class="hljs-property">privacyInfo</span>;</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'TAG'</span>, <span class="hljs-string">"Succeeded in getting AppPrivacyManageInfo size = "</span> + privacyLinkInfoArray.<span class="hljs-property">length</span>);</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; privacyLinkInfoArray.<span class="hljs-property">length</span>; i++) {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'TAG'</span>, <span class="hljs-string">"Succeeded in getting AppPrivacyManageInfo type = "</span> + privacyLinkInfoArray[i][<span class="hljs-string">"type"</span>] + <span class="hljs-string">", version = "</span> + privacyLinkInfoArray[i][<span class="hljs-string">"versionCode"</span>] + <span class="hljs-string">", url = "</span> + privacyLinkInfoArray[i][<span class="hljs-string">"url"</span>]);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'TAG'</span>, <span class="hljs-string">"GetAppPrivacyManageInfoPublic exception code: "</span> + error.<span class="hljs-property">code</span> + <span class="hljs-string">", exception message: "</span> + error.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>       <p></p></li>     </ol>    </div>    <div class="tiledSection">     <h3 id="section32151853105520">查询隐私签署状态<i class="anchor-icon anchor-icon-link" anchorid="section32151853105520" tips="复制节点链接"></i></h3>          <ol>      <li><span>导入privacyManager模块及相关公共模块。</span>       <p></p>       <div _ngcontent-hup-c106="" class="highlight-div"><div _ngcontent-hup-c106="" class="highlight-div-header"><div _ngcontent-hup-c106="" class="highlight-div-header-left"><div _ngcontent-hup-c106="" class="handle-button expand-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hup-c106="" class="highlight-div-header-right"><div _ngcontent-hup-c106="" class="handle-button ai-button"></div><div _ngcontent-hup-c106="" class="handle-button line-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hup-c106="" class="handle-button theme-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hup-c106="" class="handle-button copy-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hup-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { privacyManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AppGalleryKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li></ol></pre></div></div>       <p></p></li>      <li><span>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/store-privacymanager#section887383520415" target="_blank">getAppPrivacyResult</a>方法查询隐私签署状态。</span>       <p></p>       <div _ngcontent-hup-c106="" class="highlight-div"><div _ngcontent-hup-c106="" class="highlight-div-header"><div _ngcontent-hup-c106="" class="highlight-div-header-left"><div _ngcontent-hup-c106="" class="handle-button expand-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hup-c106="" class="highlight-div-header-right"><div _ngcontent-hup-c106="" class="handle-button ai-button"></div><div _ngcontent-hup-c106="" class="handle-button line-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hup-c106="" class="handle-button theme-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hup-c106="" class="handle-button copy-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hup-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">appPrivacyResults</span>: privacyManager.<span class="hljs-property">AppPrivacyResult</span>[] = privacyManager.<span class="hljs-title function_">getAppPrivacyResult</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'TAG'</span>, <span class="hljs-string">"Succeeded in getting AppPrivacyResult size = "</span> + appPrivacyResults.<span class="hljs-property">length</span>);</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; appPrivacyResults.<span class="hljs-property">length</span>; i++) {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'TAG'</span>, <span class="hljs-string">"Succeeded in getting AppPrivacyResult type = "</span> + appPrivacyResults[i][<span class="hljs-string">"type"</span>] + <span class="hljs-string">", version = "</span> + appPrivacyResults[i][<span class="hljs-string">"versionCode"</span>] + <span class="hljs-string">", result = "</span>+appPrivacyResults[i][<span class="hljs-string">"result"</span>]);</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'TAG'</span>, <span class="hljs-string">"GetAppPrivacyResultPublic exception code: "</span> + error.<span class="hljs-property">code</span> + <span class="hljs-string">", exception message: "</span> + error.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>       <p></p></li>     </ol>    </div>    <div class="tiledSection">     <h3 id="section1682305913251">撤销同意记录<i class="anchor-icon anchor-icon-link" anchorid="section1682305913251" tips="复制节点链接"></i></h3>          <ol>      <li><span>导入privacyManager模块及相关公共模块。</span>       <p></p>       <div _ngcontent-hup-c106="" class="highlight-div"><div _ngcontent-hup-c106="" class="highlight-div-header"><div _ngcontent-hup-c106="" class="highlight-div-header-left"><div _ngcontent-hup-c106="" class="handle-button expand-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hup-c106="" class="highlight-div-header-right"><div _ngcontent-hup-c106="" class="handle-button ai-button"></div><div _ngcontent-hup-c106="" class="handle-button line-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hup-c106="" class="handle-button theme-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hup-c106="" class="handle-button copy-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hup-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { privacyManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AppGalleryKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li></ol></pre></div></div>       <p></p></li>      <li><span>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/store-privacymanager#section16502191111574" target="_blank">disableService</a>方法撤销同意记录。</span>       <p></p>       <div _ngcontent-hup-c106="" class="highlight-div"><div _ngcontent-hup-c106="" class="highlight-div-header"><div _ngcontent-hup-c106="" class="highlight-div-header-left"><div _ngcontent-hup-c106="" class="handle-button expand-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hup-c106="" class="highlight-div-header-right"><div _ngcontent-hup-c106="" class="handle-button ai-button"></div><div _ngcontent-hup-c106="" class="handle-button line-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hup-c106="" class="handle-button theme-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hup-c106="" class="handle-button copy-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hup-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  privacyManager.<span class="hljs-title function_">disableService</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'TAG'</span>, <span class="hljs-string">"Succeeded in disabling Service success."</span>);</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'TAG'</span>, <span class="hljs-string">"DisableService exception code: "</span> + error.<span class="hljs-property">code</span> + <span class="hljs-string">", exception message: "</span> + error.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>       <p></p></li>     </ol>    </div>    <div class="tiledSection">     <h3 id="section16742154875219">请求用户同意<i class="anchor-icon anchor-icon-link" anchorid="section16742154875219" tips="复制节点链接"></i></h3>          <ol>      <li><span>导入privacyManager模块及相关公共模块。</span>       <p></p>       <div _ngcontent-hup-c106="" class="highlight-div"><div _ngcontent-hup-c106="" class="highlight-div-header"><div _ngcontent-hup-c106="" class="highlight-div-header-left"><div _ngcontent-hup-c106="" class="handle-button expand-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hup-c106="" class="highlight-div-header-right"><div _ngcontent-hup-c106="" class="handle-button ai-button"></div><div _ngcontent-hup-c106="" class="handle-button line-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hup-c106="" class="handle-button theme-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hup-c106="" class="handle-button copy-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hup-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { privacyManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AppGalleryKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li></ol></pre></div></div>       <p></p></li>      <li><span>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/store-privacymanager#section36372438116" target="_blank">requestAppPrivacyConsent</a>方法拉起标准化隐私弹框请求用户同意。</span>       <p></p>       <div _ngcontent-hup-c106="" class="highlight-div"><div _ngcontent-hup-c106="" class="highlight-div-header"><div _ngcontent-hup-c106="" class="highlight-div-header-left"><div _ngcontent-hup-c106="" class="handle-button expand-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hup-c106="" class="highlight-div-header-right"><div _ngcontent-hup-c106="" class="handle-button ai-button"></div><div _ngcontent-hup-c106="" class="handle-button line-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hup-c106="" class="handle-button theme-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hup-c106="" class="handle-button copy-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hup-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> uiContext = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;</li><li>  privacyManager.<span class="hljs-title function_">requestAppPrivacyConsent</span>(uiContext).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">consentResult : privacyManager.ConsentResult</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">appPrivacyResults</span>: privacyManager.<span class="hljs-property">AppPrivacyResult</span>[] = consentResult[<span class="hljs-string">"results"</span>];</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; appPrivacyResults.<span class="hljs-property">length</span>; i++) {</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'TAG'</span>, <span class="hljs-string">"GetAppPrivacyResult type = "</span> + appPrivacyResults[i][<span class="hljs-string">"type"</span>] + <span class="hljs-string">", version = "</span> + appPrivacyResults[i][<span class="hljs-string">"versionCode"</span>] + <span class="hljs-string">", result = "</span> + appPrivacyResults[i][<span class="hljs-string">"result"</span>] + <span class="hljs-string">", signingTimeStamp = "</span> + appPrivacyResults[i][<span class="hljs-string">"signingTimeStamp"</span>]);</li><li>    }</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError&lt;<span class="hljs-built_in">Object</span>&gt;</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'TAG'</span>, <span class="hljs-string">`requestAppPrivacyConsent failed, Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'TAG'</span>, <span class="hljs-string">"requestAppPrivacyConsent exception code: "</span> + error.<span class="hljs-property">code</span> + <span class="hljs-string">", exception message: "</span> + error.<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>       <p></p></li>     </ol>    </div>    <div class="tiledSection">     <h2 id="section96506383138">隐私弹框签署结果公共事件<i class="anchor-icon anchor-icon-link" anchorid="section96506383138" tips="复制节点链接"></i></h2>          <p>在接入<a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-privacy-policy-0000002316794885" target="_blank">标准化隐私声明托管服务</a>之后，用户未签署隐私声明前，打开应用/元服务会弹出标准化隐私弹框，弹框样式如下：</p>     <p><span><img height="248.37750000000003" originheight="650" originwidth="1366" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114523.86684056766667409446050037583360:50001231000000:2800:44198687060091FD9FDD645C29A78DEE15B75AB5D3573D544CA46FFBDE2112DC.png" title="点击放大" width="523.6875"></span></p>     <p></p>     <p>用户点击同意隐私弹框，应用市场会发送隐私弹框签署结果公共事件。应用可通过监听该事件，感知用户隐私签署结果。</p>    </div>    <div class="tiledSection">     <h3 id="section12922111314418" class="firsth2">事件说明<i class="anchor-icon anchor-icon-link" anchorid="section12922111314418" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.2.1.4.1.1" valign="top" width="35.54%">          <p>事件名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.17.2.1.4.1.2" valign="top" width="29.48%">          <p>值</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.17.2.1.4.1.3" valign="top" width="34.98%">          <p>描述</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="35.54%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/commoneventmanager-definitions#common_event_privacy_state_changed11" target="_blank">COMMON_EVENT_PRIVACY_STATE_CHANGED</a></p></td>         <td class="cellrowborder" valign="top" width="29.48%">          <p>usual.event.PRIVACY_STATE_CHANGED</p></td>         <td class="cellrowborder" valign="top" width="34.98%">          <p>隐私弹框签署结果公共事件，事件携带数据如下：</p>          <p>{</p>          <p>'resultType': privacyResultType,</p>          <p>'appIndex': appIndex</p>          <p>}</p>          <p>其中：</p>          <ul>           <li>privacyResultType：            <p>1：同意完整模式</p>            <p>0：未同意</p></li>           <li>appIndex：分身索引</li>          </ul></td>        </tr>             </tbody></table></div>     </div>    </div>    <p>公共事件接收示例（无应用分身场景）：</p>    <div _ngcontent-hup-c106="" class="highlight-div"><div _ngcontent-hup-c106="" class="highlight-div-header"><div _ngcontent-hup-c106="" class="highlight-div-header-left"><div _ngcontent-hup-c106="" class="handle-button expand-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hup-c106="" class="highlight-div-header-right"><div _ngcontent-hup-c106="" class="handle-button ai-button"></div><div _ngcontent-hup-c106="" class="handle-button line-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hup-c106="" class="handle-button theme-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hup-c106="" class="handle-button copy-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hup-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { commonEventManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">TAG</span> = <span class="hljs-string">'PrivacySubscribe'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">PrivacySubscribeSample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> eventId = <span class="hljs-string">'usual.event.PRIVACY_STATE_CHANGED'</span>;</li><li>  <span class="hljs-comment">// 订阅者信息, 用于保存创建成功的订阅者对象，后续使用其完成订阅及退订的动作</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">subscriber</span>: commonEventManager.<span class="hljs-property">CommonEventSubscriber</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-comment">// 事件列表</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">subscribeInfo</span>: commonEventManager.<span class="hljs-property">CommonEventSubscribeInfo</span> = {</li><li>    <span class="hljs-attr">events</span>: [<span class="hljs-variable language_">this</span>.<span class="hljs-property">eventId</span>]</li><li>  };</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">subscribe</span>(): <span class="hljs-built_in">void</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"subscribe"</span>);</li><li>    <span class="hljs-comment">// 创建订阅者</span></li><li>    commonEventManager.<span class="hljs-title function_">createSubscriber</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">subscribeInfo</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">commonEventSubscriber</span>) =&gt;</span> {</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"createSubscriber"</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">subscriber</span> = commonEventSubscriber;</li><li>
</li><li>      <span class="hljs-comment">// 订阅公共事件</span></li><li>      <span class="hljs-keyword">try</span> {</li><li>        commonEventManager.<span class="hljs-title function_">subscribe</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">subscriber</span>, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>          <span class="hljs-keyword">if</span> (err) {</li><li>            hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`subscribe failed, code is <span class="hljs-subst">${err?.code}</span>, message is <span class="hljs-subst">${err?.message}</span>`</span>);</li><li>            <span class="hljs-keyword">return</span>;</li><li>          }</li><li>
</li><li>          <span class="hljs-keyword">let</span> result = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(data?.<span class="hljs-property">data</span> ?? <span class="hljs-string">'{}'</span>)?.<span class="hljs-property">resultType</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span>;</li><li>          <span class="hljs-keyword">if</span> (result === <span class="hljs-number">1</span>) {</li><li>            <span class="hljs-comment">// 隐私同意处理</span></li><li>          }</li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (error) {</li><li>        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"init createSubscriber failed, exception code: "</span> + error.<span class="hljs-property">code</span> + <span class="hljs-string">", exception message: "</span> + error.<span class="hljs-property">message</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    <p>公共事件接收示例（应用分身场景）：</p>    <div _ngcontent-hup-c106="" class="highlight-div"><div _ngcontent-hup-c106="" class="highlight-div-header"><div _ngcontent-hup-c106="" class="highlight-div-header-left"><div _ngcontent-hup-c106="" class="handle-button expand-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hup-c106="" class="highlight-div-header-right"><div _ngcontent-hup-c106="" class="handle-button ai-button"></div><div _ngcontent-hup-c106="" class="handle-button line-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hup-c106="" class="handle-button theme-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hup-c106="" class="handle-button copy-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hup-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { commonEventManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">TAG</span> = <span class="hljs-string">'PrivacyEventSubscriber'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onBackground</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> appCloneIndex = <span class="hljs-number">0</span>;</li><li>    <span class="hljs-keyword">let</span> applicationContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">getApplicationContext</span>();</li><li>    <span class="hljs-keyword">try</span> {</li><li>      appCloneIndex = applicationContext.<span class="hljs-title function_">getCurrentAppCloneIndex</span>();</li><li>    } <span class="hljs-keyword">catch</span> (error) {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`getCurrentAppCloneIndex fail, exception code:`</span> + error.<span class="hljs-property">code</span> + <span class="hljs-string">`, exception message: `</span> + error.<span class="hljs-property">message</span>);</li><li>    }</li><li>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">PrivacyEventSubscriber</span>(appCloneIndex).<span class="hljs-title function_">subscribe</span>();</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">PrivacyEventSubscriber</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">appCloneIndex</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> eventId = <span class="hljs-string">'usual.event.PRIVACY_STATE_CHANGED'</span>;</li><li>  <span class="hljs-comment">// 订阅者信息, 用于保存创建成功的订阅者对象，后续使用其完成订阅及退订的动作</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">subscriber</span>: commonEventManager.<span class="hljs-property">CommonEventSubscriber</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-comment">// 事件列表</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">subscribeInfo</span>: commonEventManager.<span class="hljs-property">CommonEventSubscribeInfo</span> = {</li><li>    <span class="hljs-attr">events</span>: [<span class="hljs-variable language_">this</span>.<span class="hljs-property">eventId</span>]</li><li>  };</li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">appCloneIndex: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">appCloneIndex</span> = appCloneIndex;</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">subscribe</span>(): <span class="hljs-built_in">void</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"subscribe"</span>);</li><li>    <span class="hljs-comment">// 创建订阅者</span></li><li>    commonEventManager.<span class="hljs-title function_">createSubscriber</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">subscribeInfo</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">commonEventSubscriber</span>) =&gt;</span> {</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"createSubscriber"</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">subscriber</span> = commonEventSubscriber;</li><li>
</li><li>      <span class="hljs-comment">// 订阅公共事件</span></li><li>      <span class="hljs-keyword">try</span> {</li><li>        commonEventManager.<span class="hljs-title function_">subscribe</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">subscriber</span>, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>          <span class="hljs-keyword">if</span> (err) {</li><li>            hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`subscribe failed, code is <span class="hljs-subst">${err?.code}</span>, message is <span class="hljs-subst">${err?.message}</span>`</span>);</li><li>            <span class="hljs-keyword">return</span>;</li><li>          }</li><li>
</li><li>          <span class="hljs-keyword">let</span> result = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(data?.<span class="hljs-property">data</span> ?? <span class="hljs-string">'{}'</span>)?.<span class="hljs-property">resultType</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span>;</li><li>          <span class="hljs-keyword">let</span> appIndex = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(data?.<span class="hljs-property">data</span> ?? <span class="hljs-string">'{}'</span>)?.<span class="hljs-property">appIndex</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span> ?? <span class="hljs-number">0</span>;</li><li>          <span class="hljs-comment">// 公共事件传递的分身索引等于当前应用的分身索引</span></li><li>          <span class="hljs-keyword">if</span> (appIndex === <span class="hljs-variable language_">this</span>.<span class="hljs-property">appCloneIndex</span>) {</li><li>            <span class="hljs-keyword">if</span> (result === <span class="hljs-number">1</span>) {</li><li>              <span class="hljs-comment">// 隐私同意处理</span></li><li>            }</li><li>          }</li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (error) {</li><li>        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"init createSubscriber failed, exception code: "</span> + error.<span class="hljs-property">code</span> + <span class="hljs-string">", exception message: "</span> + error.<span class="hljs-property">message</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    <div class="tiledSection">     <h2 id="section133476117117">未上架应用接入隐私管理服务<i class="anchor-icon anchor-icon-link" anchorid="section133476117117" tips="复制节点链接"></i></h2>          <p>针对未上架应用市场的应用，可以通过手动预置隐私链接信息模拟接入隐私托管和隐私管理服务。</p>     <p>预置隐私链接信息完成后，打开应用会弹出统一隐私弹框，应用可以使用隐私管理服务提供的查询隐私链接、查询隐私签署状态查和撤销同意记录等相关功能。</p>     <ol>      <li><span>将应用工程构建模式修改为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-hvigor-compilation-options-customizing-sample#section390311716277" target="_blank">debug模式</a>。</span></li>      <li><span>打开代码工程中type为entry类型的模块，修改其中的src/main/module.json5文件，添加module.metadata信息，其中包含三个字段，值均为字符串类型：</span>       <p></p>       <div class="tablenoborder">        <div class="tbBox"><table class="layoutFixed idpTab">         <thead>          <tr>           <th align="left" class="cellrowborder" id="mcps1.3.22.4.2.2.1.1.4.1.1" valign="top" width="39.13%">            <p>字段名称</p></th>           <th align="left" class="cellrowborder" id="mcps1.3.22.4.2.2.1.1.4.1.2" valign="top" width="52.57000000000001%">            <p>字段解释</p></th>           <th align="left" class="cellrowborder" id="mcps1.3.22.4.2.2.1.1.4.1.3" valign="top" width="8.300000000000002%">            <p>是否必填</p></th>          </tr>         </thead>                   <tbody><tr>           <td class="cellrowborder" valign="top" width="39.13%">            <p>appgallery_privacy_hosted</p></td>           <td class="cellrowborder" valign="top" width="52.57000000000001%">            <p>是否启用隐私弹框，1表示启用，其他值均表示不启用</p></td>           <td class="cellrowborder" valign="top" width="8.300000000000002%">            <p>是</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="39.13%">            <p>appgallery_privacy_link_privacy_statement</p></td>           <td class="cellrowborder" valign="top" width="52.57000000000001%">            <p>隐私协议url（https），在隐私弹框中作为隐私协议的内容</p></td>           <td class="cellrowborder" valign="top" width="8.300000000000002%">            <p>是</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="39.13%">            <p>appgallery_privacy_link_user_agreement</p></td>           <td class="cellrowborder" valign="top" width="52.57000000000001%">            <p>用户协议url（https），在隐私弹框中作为用户协议的内容</p></td>           <td class="cellrowborder" valign="top" width="8.300000000000002%">            <p>否</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="39.13%">            <p>appgallery_privacy_link_user_agreements</p></td>           <td class="cellrowborder" valign="top" width="52.57000000000001%">            <p>多个用户协议url（https），在隐私弹框中作为多个用户协议的内容。</p>            <p>该值直接引用一个json文件，json文件存放在module的type为entry模块的resources/rawfile文件夹下。</p>            <p>有多个用户协议链接时，优先取appgallery_privacy_link_user_agreements字段，appgallery_privacy_link_user_agreement配置的单个用户协议链接无效。</p>            <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">              <p><strong>起始版本</strong>：5.0.2(14)</p>             </div></div></div></td>           <td class="cellrowborder" valign="top" width="8.300000000000002%">            <p>否</p></td>          </tr>                 </tbody></table></div>       </div>       <p></p></li>     </ol>     <p>在华为应用市场可以正常使用、并且网络连通的情况下，使用<strong>hdc</strong>命令从本地文件安装应用，即可使用预置的隐私链接信息测试隐私弹框、调试隐私管理服务接口。</p>     <p>示例配置：</p>     <div _ngcontent-hup-c106="" class="highlight-div"><div _ngcontent-hup-c106="" class="highlight-div-header"><div _ngcontent-hup-c106="" class="highlight-div-header-left"><div _ngcontent-hup-c106="" class="handle-button expand-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hup-c106="" class="highlight-div-header-right"><div _ngcontent-hup-c106="" class="handle-button ai-button"></div><div _ngcontent-hup-c106="" class="handle-button line-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hup-c106="" class="handle-button theme-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hup-c106="" class="handle-button copy-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hup-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// module.json5</span></li><li>{</li><li>  <span class="hljs-string">"module"</span>: {</li><li>    <span class="hljs-string">"name"</span>: <span class="hljs-string">"entry"</span>,</li><li>    <span class="hljs-string">"type"</span>: <span class="hljs-string">"entry"</span>,</li><li>    <span class="hljs-string">"description"</span>: <span class="hljs-string">"$string:module_desc"</span>,</li><li>    <span class="hljs-string">"metadata"</span>: [</li><li>      {</li><li>        <span class="hljs-string">"name"</span>: <span class="hljs-string">"appgallery_privacy_hosted"</span>,</li><li>        <span class="hljs-string">"value"</span>: <span class="hljs-string">"1"</span></li><li>      },</li><li>      {</li><li>        <span class="hljs-string">"name"</span>: <span class="hljs-string">"appgallery_privacy_link_privacy_statement"</span>,</li><li>        <span class="hljs-string">"value"</span>: <span class="hljs-string">"https://www.example.com/"</span> <span class="hljs-comment">// 必须是https网址</span></li><li>      },</li><li>      {</li><li>        <span class="hljs-string">"name"</span>: <span class="hljs-string">"appgallery_privacy_link_user_agreement"</span>,</li><li>        <span class="hljs-string">"value"</span>: <span class="hljs-string">"https://www.example.com/"</span> <span class="hljs-comment">// 必须是https网址</span></li><li>      },</li><li>      {</li><li>        <span class="hljs-string">"name"</span>: <span class="hljs-string">"appgallery_privacy_link_user_agreements"</span>,</li><li>        <span class="hljs-string">"value"</span>: <span class="hljs-string">"link_user_agreements.json"</span> <span class="hljs-comment">// 配置json文件名称，示例配置见下文</span></li><li>      }</li><li>    ],</li><li>    <span class="hljs-comment">// 其他内容</span></li><li>  }</li><li>}</li></ol></pre></div></div>     <p>link_user_agreements.json示例配置：</p>     <div _ngcontent-hup-c106="" class="highlight-div"><div _ngcontent-hup-c106="" class="highlight-div-header"><div _ngcontent-hup-c106="" class="highlight-div-header-left"><div _ngcontent-hup-c106="" class="handle-button expand-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hup-c106="" class="highlight-div-header-right"><div _ngcontent-hup-c106="" class="handle-button ai-button"></div><div _ngcontent-hup-c106="" class="handle-button line-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hup-c106="" class="handle-button theme-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hup-c106="" class="handle-button copy-button"><div _ngcontent-hup-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hup-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li>{</li><li>    <span class="hljs-string">"user_agreement_Infos"</span>: [</li><li>        {</li><li>            <span class="hljs-string">"name"</span>: <span class="hljs-string">"用户协议1"</span>,       <span class="hljs-comment">// 需要展示的用户协议名字1</span></li><li>            <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://xxxx"</span>     <span class="hljs-comment">// 用户协议链接地址</span></li><li>        },</li><li>        {</li><li>            <span class="hljs-string">"name"</span>: <span class="hljs-string">"用户协议2"</span>,       <span class="hljs-comment">// 需要展示的用户协议名字2</span></li><li>            <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://xxxx"</span>     <span class="hljs-comment">// 用户协议链接地址</span></li><li>        }</li><li>    ]</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>