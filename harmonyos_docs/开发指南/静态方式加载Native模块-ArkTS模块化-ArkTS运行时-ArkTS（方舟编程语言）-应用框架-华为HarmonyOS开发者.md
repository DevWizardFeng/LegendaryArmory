<h1 _ngcontent-wjj-c119="" class="doc-title ng-star-inserted" title="静态方式加载Native模块"> 静态方式加载Native模块 </h1>

<div _ngcontent-wjj-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>在ES6(ECMAScript 6.0)模块设计中，使用import语法加载其他文件导出的内容是ECMA规范所定义的语法规则。为支持开发者使用该功能导入Native模块（so）导出的内容，ArkTS进行了相关适配，并提供了以下几种支持写法。</p>  <div class="tiledSection"><h2 id="直接导入">直接导入<i class="anchor-icon anchor-icon-link" anchorid="直接导入" tips="复制节点链接"></i></h2><p>在Native模块的index.d.ts文件中导出，并在文件内直接导入。</p> </div>  <div class="tiledSection"><h3 id="具名导入" class="firsth2">具名导入<i class="anchor-icon anchor-icon-link" anchorid="具名导入" tips="复制节点链接"></i></h3><div _ngcontent-wjj-c106="" class="highlight-div"><div _ngcontent-wjj-c106="" class="highlight-div-header"><div _ngcontent-wjj-c106="" class="highlight-div-header-left"><div _ngcontent-wjj-c106="" class="handle-button expand-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wjj-c106="" class="highlight-div-header-right"><div _ngcontent-wjj-c106="" class="handle-button ai-button"></div><div _ngcontent-wjj-c106="" class="handle-button line-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wjj-c106="" class="handle-button theme-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wjj-c106="" class="handle-button copy-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wjj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// libentry.so对应的index.d.ts</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">add</span>: <span class="hljs-function">(<span class="hljs-params">a: <span class="hljs-built_in">number</span>, b: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">number</span>;</li></ol></pre></div></div> <div _ngcontent-wjj-c106="" class="highlight-div"><div _ngcontent-wjj-c106="" class="highlight-div-header"><div _ngcontent-wjj-c106="" class="highlight-div-header-left"><div _ngcontent-wjj-c106="" class="handle-button expand-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wjj-c106="" class="highlight-div-header-right"><div _ngcontent-wjj-c106="" class="handle-button ai-button"></div><div _ngcontent-wjj-c106="" class="handle-button line-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wjj-c106="" class="handle-button theme-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wjj-c106="" class="handle-button copy-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wjj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// test.ets</span></li><li><span class="hljs-keyword">import</span> { add } <span class="hljs-keyword">from</span> <span class="hljs-string">'libentry.so'</span></li><li><span class="hljs-title function_">add</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="默认导入">默认导入<i class="anchor-icon anchor-icon-link" anchorid="默认导入" tips="复制节点链接"></i></h3><div _ngcontent-wjj-c106="" class="highlight-div"><div _ngcontent-wjj-c106="" class="highlight-div-header"><div _ngcontent-wjj-c106="" class="highlight-div-header-left"><div _ngcontent-wjj-c106="" class="handle-button expand-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wjj-c106="" class="highlight-div-header-right"><div _ngcontent-wjj-c106="" class="handle-button ai-button"></div><div _ngcontent-wjj-c106="" class="handle-button line-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wjj-c106="" class="handle-button theme-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wjj-c106="" class="handle-button copy-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wjj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// libentry.so对应的index.d.ts</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">add</span>: <span class="hljs-function">(<span class="hljs-params">a: <span class="hljs-built_in">number</span>, b: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">number</span>;</li></ol></pre></div></div> <div _ngcontent-wjj-c106="" class="highlight-div"><div _ngcontent-wjj-c106="" class="highlight-div-header"><div _ngcontent-wjj-c106="" class="highlight-div-header-left"><div _ngcontent-wjj-c106="" class="handle-button expand-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wjj-c106="" class="highlight-div-header-right"><div _ngcontent-wjj-c106="" class="handle-button ai-button"></div><div _ngcontent-wjj-c106="" class="handle-button line-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wjj-c106="" class="handle-button theme-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wjj-c106="" class="handle-button copy-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wjj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// test.ets</span></li><li><span class="hljs-keyword">import</span> entry <span class="hljs-keyword">from</span> <span class="hljs-string">'libentry.so'</span></li><li>entry.<span class="hljs-title function_">add</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="命名空间导入">命名空间导入<i class="anchor-icon anchor-icon-link" anchorid="命名空间导入" tips="复制节点链接"></i></h3><div _ngcontent-wjj-c106="" class="highlight-div"><div _ngcontent-wjj-c106="" class="highlight-div-header"><div _ngcontent-wjj-c106="" class="highlight-div-header-left"><div _ngcontent-wjj-c106="" class="handle-button expand-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wjj-c106="" class="highlight-div-header-right"><div _ngcontent-wjj-c106="" class="handle-button ai-button"></div><div _ngcontent-wjj-c106="" class="handle-button line-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wjj-c106="" class="handle-button theme-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wjj-c106="" class="handle-button copy-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wjj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// libentry.so对应的index.d.ts</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">add</span>: <span class="hljs-function">(<span class="hljs-params">a: <span class="hljs-built_in">number</span>, b: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">number</span>;</li></ol></pre></div></div> <div _ngcontent-wjj-c106="" class="highlight-div"><div _ngcontent-wjj-c106="" class="highlight-div-header"><div _ngcontent-wjj-c106="" class="highlight-div-header-left"><div _ngcontent-wjj-c106="" class="handle-button expand-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wjj-c106="" class="highlight-div-header-right"><div _ngcontent-wjj-c106="" class="handle-button ai-button"></div><div _ngcontent-wjj-c106="" class="handle-button line-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wjj-c106="" class="handle-button theme-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wjj-c106="" class="handle-button copy-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wjj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// test.ets</span></li><li><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> entry <span class="hljs-keyword">from</span> <span class="hljs-string">'libentry.so'</span></li><li>entry.<span class="hljs-title function_">add</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="间接导入">间接导入<i class="anchor-icon anchor-icon-link" anchorid="间接导入" tips="复制节点链接"></i></h2></div>  <div class="tiledSection"><h3 id="转为具名变量导出再导入" class="firsth2">转为具名变量导出再导入<i class="anchor-icon anchor-icon-link" anchorid="转为具名变量导出再导入" tips="复制节点链接"></i></h3><div _ngcontent-wjj-c106="" class="highlight-div"><div _ngcontent-wjj-c106="" class="highlight-div-header"><div _ngcontent-wjj-c106="" class="highlight-div-header-left"><div _ngcontent-wjj-c106="" class="handle-button expand-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wjj-c106="" class="highlight-div-header-right"><div _ngcontent-wjj-c106="" class="handle-button ai-button"></div><div _ngcontent-wjj-c106="" class="handle-button line-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wjj-c106="" class="handle-button theme-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wjj-c106="" class="handle-button copy-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wjj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// libentry.so对应的index.d.ts</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">add</span>: <span class="hljs-function">(<span class="hljs-params">a: <span class="hljs-built_in">number</span>, b: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">number</span>;</li></ol></pre></div></div> <div _ngcontent-wjj-c106="" class="highlight-div"><div _ngcontent-wjj-c106="" class="highlight-div-header"><div _ngcontent-wjj-c106="" class="highlight-div-header-left"><div _ngcontent-wjj-c106="" class="handle-button expand-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wjj-c106="" class="highlight-div-header-right"><div _ngcontent-wjj-c106="" class="handle-button ai-button"></div><div _ngcontent-wjj-c106="" class="handle-button line-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wjj-c106="" class="handle-button theme-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wjj-c106="" class="handle-button copy-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wjj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// test1.ets</span></li><li><span class="hljs-comment">// 将libentry.so的API封装后导出</span></li><li><span class="hljs-keyword">import</span> { add } <span class="hljs-keyword">from</span> <span class="hljs-string">'libentry.so'</span>;</li><li><span class="hljs-keyword">export</span> { add };</li></ol></pre></div></div> <div _ngcontent-wjj-c106="" class="highlight-div"><div _ngcontent-wjj-c106="" class="highlight-div-header"><div _ngcontent-wjj-c106="" class="highlight-div-header-left"><div _ngcontent-wjj-c106="" class="handle-button expand-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wjj-c106="" class="highlight-div-header-right"><div _ngcontent-wjj-c106="" class="handle-button ai-button"></div><div _ngcontent-wjj-c106="" class="handle-button line-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wjj-c106="" class="handle-button theme-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wjj-c106="" class="handle-button copy-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wjj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// test2.ets</span></li><li><span class="hljs-comment">// 从中间模块导入API</span></li><li><span class="hljs-keyword">import</span> { add } <span class="hljs-keyword">from</span> <span class="hljs-string">'./test1'</span>;</li><li><span class="hljs-keyword">const</span> result = <span class="hljs-title function_">add</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="转为命名空间导出再导入">转为命名空间导出再导入<i class="anchor-icon anchor-icon-link" anchorid="转为命名空间导出再导入" tips="复制节点链接"></i></h3><div _ngcontent-wjj-c106="" class="highlight-div"><div _ngcontent-wjj-c106="" class="highlight-div-header"><div _ngcontent-wjj-c106="" class="highlight-div-header-left"><div _ngcontent-wjj-c106="" class="handle-button expand-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wjj-c106="" class="highlight-div-header-right"><div _ngcontent-wjj-c106="" class="handle-button ai-button"></div><div _ngcontent-wjj-c106="" class="handle-button line-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wjj-c106="" class="handle-button theme-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wjj-c106="" class="handle-button copy-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wjj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// libentry.so对应的index.d.ts</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">add</span>: <span class="hljs-function">(<span class="hljs-params">a: <span class="hljs-built_in">number</span>, b: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">number</span>;</li></ol></pre></div></div> <div _ngcontent-wjj-c106="" class="highlight-div"><div _ngcontent-wjj-c106="" class="highlight-div-header"><div _ngcontent-wjj-c106="" class="highlight-div-header-left"><div _ngcontent-wjj-c106="" class="handle-button expand-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wjj-c106="" class="highlight-div-header-right"><div _ngcontent-wjj-c106="" class="handle-button ai-button"></div><div _ngcontent-wjj-c106="" class="handle-button line-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wjj-c106="" class="handle-button theme-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wjj-c106="" class="handle-button copy-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wjj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// test1.ets</span></li><li><span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'libentry.so'</span></li></ol></pre></div></div> <div _ngcontent-wjj-c106="" class="highlight-div"><div _ngcontent-wjj-c106="" class="highlight-div-header"><div _ngcontent-wjj-c106="" class="highlight-div-header-left"><div _ngcontent-wjj-c106="" class="handle-button expand-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wjj-c106="" class="highlight-div-header-right"><div _ngcontent-wjj-c106="" class="handle-button ai-button"></div><div _ngcontent-wjj-c106="" class="handle-button line-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wjj-c106="" class="handle-button theme-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wjj-c106="" class="handle-button copy-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wjj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// test2.ets</span></li><li><span class="hljs-keyword">import</span> { add } <span class="hljs-keyword">from</span> <span class="hljs-string">'./test1'</span></li><li><span class="hljs-title function_">add</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>);</li></ol></pre></div></div> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"> <p>不支持Native模块导出和导入同时使用命名空间。</p>  </div></div></div> <p><strong>反例：</strong></p> <div _ngcontent-wjj-c106="" class="highlight-div"><div _ngcontent-wjj-c106="" class="highlight-div-header"><div _ngcontent-wjj-c106="" class="highlight-div-header-left"><div _ngcontent-wjj-c106="" class="handle-button expand-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wjj-c106="" class="highlight-div-header-right"><div _ngcontent-wjj-c106="" class="handle-button ai-button"></div><div _ngcontent-wjj-c106="" class="handle-button line-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wjj-c106="" class="handle-button theme-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wjj-c106="" class="handle-button copy-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wjj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// test1.ets</span></li><li><span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'libentry.so'</span></li></ol></pre></div></div> <div _ngcontent-wjj-c106="" class="highlight-div"><div _ngcontent-wjj-c106="" class="highlight-div-header"><div _ngcontent-wjj-c106="" class="highlight-div-header-left"><div _ngcontent-wjj-c106="" class="handle-button expand-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wjj-c106="" class="highlight-div-header-right"><div _ngcontent-wjj-c106="" class="handle-button ai-button"></div><div _ngcontent-wjj-c106="" class="handle-button line-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wjj-c106="" class="handle-button theme-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wjj-c106="" class="handle-button copy-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wjj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// test2.ets</span></li><li><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> add <span class="hljs-keyword">from</span> <span class="hljs-string">'./test1'</span></li><li><span class="hljs-comment">// 无法获取add对象</span></li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="动态导入">动态导入<i class="anchor-icon anchor-icon-link" anchorid="动态导入" tips="复制节点链接"></i></h2></div>  <div class="tiledSection"><h3 id="直接导入-1" class="firsth2">直接导入<i class="anchor-icon anchor-icon-link" anchorid="直接导入-1" tips="复制节点链接"></i></h3><div _ngcontent-wjj-c106="" class="highlight-div"><div _ngcontent-wjj-c106="" class="highlight-div-header"><div _ngcontent-wjj-c106="" class="highlight-div-header-left"><div _ngcontent-wjj-c106="" class="handle-button expand-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wjj-c106="" class="highlight-div-header-right"><div _ngcontent-wjj-c106="" class="handle-button ai-button"></div><div _ngcontent-wjj-c106="" class="handle-button line-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wjj-c106="" class="handle-button theme-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wjj-c106="" class="handle-button copy-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wjj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// libentry.so对应的index.d.ts</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">add</span>: <span class="hljs-function">(<span class="hljs-params">a: <span class="hljs-built_in">number</span>, b: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">number</span>;</li></ol></pre></div></div> <div _ngcontent-wjj-c106="" class="highlight-div"><div _ngcontent-wjj-c106="" class="highlight-div-header"><div _ngcontent-wjj-c106="" class="highlight-div-header-left"><div _ngcontent-wjj-c106="" class="handle-button expand-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wjj-c106="" class="highlight-div-header-right"><div _ngcontent-wjj-c106="" class="handle-button ai-button"></div><div _ngcontent-wjj-c106="" class="handle-button line-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wjj-c106="" class="handle-button theme-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wjj-c106="" class="handle-button copy-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wjj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// test.ets</span></li><li><span class="hljs-keyword">import</span>(<span class="hljs-string">'libentry.so'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">entry:ESObject</span>) =&gt;</span> {</li><li>    entry.<span class="hljs-property">default</span>.<span class="hljs-title function_">add</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>);</li><li>})</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="间接导入-1">间接导入<i class="anchor-icon anchor-icon-link" anchorid="间接导入-1" tips="复制节点链接"></i></h3><div _ngcontent-wjj-c106="" class="highlight-div"><div _ngcontent-wjj-c106="" class="highlight-div-header"><div _ngcontent-wjj-c106="" class="highlight-div-header-left"><div _ngcontent-wjj-c106="" class="handle-button expand-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wjj-c106="" class="highlight-div-header-right"><div _ngcontent-wjj-c106="" class="handle-button ai-button"></div><div _ngcontent-wjj-c106="" class="handle-button line-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wjj-c106="" class="handle-button theme-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wjj-c106="" class="handle-button copy-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wjj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// test1.ets</span></li><li><span class="hljs-keyword">import</span> entry <span class="hljs-keyword">from</span> <span class="hljs-string">'libentry.so'</span></li><li><span class="hljs-keyword">export</span> { entry }</li><li>
</li><li><span class="hljs-comment">// test2.ets</span></li><li><span class="hljs-keyword">import</span>(<span class="hljs-string">'./test1'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">ns:ESObject</span>) =&gt;</span> {</li><li>    ns.<span class="hljs-property">entry</span>.<span class="hljs-title function_">add</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>);</li><li>})</li></ol></pre></div></div> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"> <p>不支持动态加载时，导出文件使用命名空间。</p>  </div></div></div> <p><strong>反例：</strong></p> <div _ngcontent-wjj-c106="" class="highlight-div"><div _ngcontent-wjj-c106="" class="highlight-div-header"><div _ngcontent-wjj-c106="" class="highlight-div-header-left"><div _ngcontent-wjj-c106="" class="handle-button expand-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wjj-c106="" class="highlight-div-header-right"><div _ngcontent-wjj-c106="" class="handle-button ai-button"></div><div _ngcontent-wjj-c106="" class="handle-button line-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wjj-c106="" class="handle-button theme-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wjj-c106="" class="handle-button copy-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wjj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// test1.ets</span></li><li><span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'libentry.so'</span></li></ol></pre></div></div> <div _ngcontent-wjj-c106="" class="highlight-div"><div _ngcontent-wjj-c106="" class="highlight-div-header"><div _ngcontent-wjj-c106="" class="highlight-div-header-left"><div _ngcontent-wjj-c106="" class="handle-button expand-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wjj-c106="" class="highlight-div-header-right"><div _ngcontent-wjj-c106="" class="handle-button ai-button"></div><div _ngcontent-wjj-c106="" class="handle-button line-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wjj-c106="" class="handle-button theme-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wjj-c106="" class="handle-button copy-button"><div _ngcontent-wjj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wjj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// test2.ets</span></li><li><span class="hljs-keyword">import</span>(<span class="hljs-string">'./test1'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">ns:ESObject</span>) =&gt;</span> {</li><li>    <span class="hljs-comment">// 无法获取ns对象</span></li><li>})</li></ol></pre></div></div> </div> </div> <div></div></div>