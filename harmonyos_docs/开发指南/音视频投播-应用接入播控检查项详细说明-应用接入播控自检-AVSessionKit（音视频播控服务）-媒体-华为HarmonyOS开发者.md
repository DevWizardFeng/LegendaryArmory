<h1 _ngcontent-fab-c119="" class="doc-title ng-star-inserted" title="音视频投播"> 音视频投播 </h1>

<div _ngcontent-fab-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>针对音视频类应用，播控中心提供系统级设备切换、投播能力选择入口，提供音视频发声设备统一投播组件。应用通过接入统一投播组件，可以实现在应用内及系统播控中心，将应用音视频资源通过Cast+协议/DLNA协议投播到远端设备。应用需先按自检要求接入<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/basic-playback-control">基础播控</a>，才可正常接入音视频投播组件。</p> <p><span><img height="605.154389" originheight="1560" originwidth="720" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114449.34392812287151707762702941861973:50001231000000:2800:638662CD6FB787ECC971D845358764C79AD5C00D7D6FE198C0C16E4E59E59FC6.png" title="点击放大" width="279.3"></span>     <span><img height="609.526365" originheight="3120" originwidth="1440" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114449.30887678149457637079801355748695:50001231000000:2800:8393875554004BCA42F5D613ADA2909E345FB08ABCA0AA7CBCCB1513E9CD948A.png" title="点击放大" width="281.295"></span></p> <div class="tiledSection"><h2 id="section64531448155611">基础投播能力<i class="anchor-icon anchor-icon-link" anchorid="section64531448155611" tips="复制节点链接"></i></h2><p></p> </div> <div class="tiledSection"><h3 id="section1978316399215" class="firsth2">Cast+协议音视频投播/DLNA协议音视频投播<i class="anchor-icon anchor-icon-link" anchorid="section1978316399215" tips="复制节点链接"></i></h3><div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p><strong>自验证关注点：</strong>播放可投播的音视频资源，点击投播至3.1以上的华为智慧屏/DLNA协议的设备，查看投播功能是否正常可用，且在应用内及系统播控中心内能控制远端投播。</p> <ol><li>界面是否正确显示Picker。<p>如不显示，排查是否按自检要求正确适配了<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/basic-playback-control">基础播控</a>。</p> </li><li>双端设备联网后，是否可以在应用内及播控中心显示可投播设备列表。<p>如不显示，排查是否设置了setExtras({requireAbilityList: ['url-cast']})，具体参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/distributed-playback-guide" target="_blank">投播开发指南</a>。</p> </li><li>点击可投播设备后，对端设备是否可以正常播放。<p>如对端黑屏/不显示播放内容，应用自排查是否正确设置了资源链接，正确调用prepare及start接口，具体参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/distributed-playback-guide" target="_blank">投播开发指南</a>。</p> </li><li>投播后，在系统播控中心是否可正常控制远端投播的播放暂停、上下一集、进度控制、音量调节等。<p>应用按照实际功能的有无，参照自检表注册必需的控制指令，例如on(type: 'playbackStateChange')来监听播控及远端设备的播放暂停指令，具体控制指令的开发参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/distributed-playback-guide" target="_blank">投播开发指南</a>。</p> </li></ol> </div></div></div> </div> <div class="tiledSection"><h3 id="section35562115314">DRM数字加密视频投播<i class="anchor-icon anchor-icon-link" anchorid="section35562115314" tips="复制节点链接"></i></h3><div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p><strong>自验证关注点：</strong>播放可投播的DRM数字加密视频资源，点击投播至3.1以上的华为智慧屏，或支持DRM硬件解码的大屏设备，查看投播功能是否正常可用。</p> </div></div></div> </div> <div class="tiledSection"><h2 id="section12593165325618">投播能力增强<i class="anchor-icon anchor-icon-link" anchorid="section12593165325618" tips="复制节点链接"></i></h2><p></p> </div> <div class="tiledSection"><h3 id="section131361791025" class="firsth2">镜像投屏自动切换资源投播<i class="anchor-icon anchor-icon-link" anchorid="section131361791025" tips="复制节点链接"></i></h3><div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p><strong>自验证关注点：</strong>在控制中心发起无线投屏后，在应用内播放可投播的音视频资源，查看是否自动切换为资源投播模式（Cast+协议音视频投播/DLNA协议音视频投播）。</p> </div></div></div> <p>用户通过“无线投屏”功能实现手机等设备和大屏等的镜像投屏，然后打开视频应用进入视频播放，此时应用需切换到资源投播。具体实现可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/distributed-playback-guide#section15717184018447" target="_blank">镜像投屏自动切换资源投播</a>。</p> </div> </div> <div></div></div>