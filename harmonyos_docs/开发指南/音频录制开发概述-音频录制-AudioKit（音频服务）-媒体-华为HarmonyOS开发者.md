<h1 _ngcontent-nbb-c119="" class="doc-title ng-star-inserted" title="音频录制开发概述"> 音频录制开发概述 </h1>

<div _ngcontent-nbb-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="如何选择音频录制开发方式">如何选择音频录制开发方式<i class="anchor-icon anchor-icon-link" anchorid="如何选择音频录制开发方式" tips="复制节点链接"></i></h2>          <p>系统提供了多样化的API，来帮助开发者完成音频录制的开发，不同的API适用于不同录音输出格式、音频使用场景或不同开发语言。因此，选择合适的音频录制API，有助于降低开发工作量，实现更佳的音频录制效果。</p>     <ul>      <li>       <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/using-audiocapturer-for-recording">AudioCapturer</a>：用于音频输入的ArkTS/JS API，仅支持PCM格式，需要应用持续读取音频数据进行工作。应用可以在音频输出后添加数据处理，要求开发者具备音频处理的基础知识，适用于更专业、更多样化的媒体录制应用开发。</p></li>      <li>       <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/using-ohaudio-for-recording">OHAudio</a>：用于音频输入的Native API，此API在设计上实现归一，同时支持普通音频通路和低时延通路。仅支持PCM格式，适用于依赖Native层实现音频输入功能的场景。</p></li>     </ul>     <p>除上述方式外，也可以通过Media Kit中的AVRecorder实现音频录制。</p>     <ul>      <li><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/using-avrecorder-for-recording">AVRecorder</a>：用于音频录制的ArkTS/JS API，集成了音频输入录制、音频编码和媒体封装的功能。开发者可以直接调用设备硬件如麦克风录音，并生成m4a音频文件。</li>     </ul>    </div>    <div class="tiledSection">     <h2 id="开发音频录制应用须知">开发音频录制应用须知<i class="anchor-icon anchor-icon-link" anchorid="开发音频录制应用须知" tips="复制节点链接"></i></h2>          <ul>      <li>       <p>应用可以调用麦克风录制音频，但该行为属于隐私敏感行为，在调用麦克风前，需要先<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/request-user-authorization">向用户申请权限</a>：ohos.permission.MICROPHONE。</p>       <p>如何使用和管理麦克风请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/mic-management">管理麦克风</a>。</p></li>      <li>       <p>如果需要持续录制或后台录制，请申请长时任务避免进入挂起（Suspend）状态。具体参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/continuous-task">长时任务开发指导</a>。</p></li>      <li>       <p>录制需要在前台启动，启动后可以退后台。在后台启动录制将会失败。</p></li>      <li>       <p>应用录制音频时需要使用合适的录制流类型，请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/using-right-streamusage-and-sourcetype">使用合适的音频流类型</a>。</p></li>      <li>       <p>如果开发者需要实现屏幕录制功能，可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/using-avscreencapture-arkts">使用AVScreenCaptureRecorder录屏写文件(ArkTs)</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/using-avscreencapture-for-file">使用AVScreenCapture录屏写文件(C/C++)</a>。</p></li>     </ul>    </div>   </div>   <div></div></div>