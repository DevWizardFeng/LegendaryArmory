<h1 _ngcontent-wvf-c119="" class="doc-title ng-star-inserted" title="页面路由"> 页面路由 </h1>

<div _ngcontent-wvf-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>很多应用由多个页面组成，比如用户可以从音乐列表页面点击歌曲，跳转到该歌曲的播放界面。开发者需要通过页面路由将这些页面串联起来，按需实现跳转。</p> <p>页面路由router根据页面的uri找到目标页面，从而实现跳转。以最基础的两个页面之间的跳转为例，具体实现步骤如下：</p> <ol><li><p>在“Project“窗口，打开src &gt; main &gt;js &gt;MainAbility，右键点击pages文件夹，选择NewJS Page，创建一个详情页。</p>  </li><li><p>调用router.push()路由到详情页。</p>  </li><li><p>调用router.back()回到首页。</p>  </li></ol>  <div class="tiledSection"><h2 id="构建页面布局">构建页面布局<i class="anchor-icon anchor-icon-link" anchorid="构建页面布局" tips="复制节点链接"></i></h2><p>index和detail这两个页面均包含一个text组件和button组件：text组件用来指明当前页面，button组件用来实现两个页面之间的相互跳转。hml文件代码示例如下：</p> <div _ngcontent-wvf-c106="" class="highlight-div"><div _ngcontent-wvf-c106="" class="highlight-div-header"><div _ngcontent-wvf-c106="" class="highlight-div-header-left"><div _ngcontent-wvf-c106="" class="handle-button expand-button"><div _ngcontent-wvf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvf-c106="" class="highlight-div-header-right"><div _ngcontent-wvf-c106="" class="handle-button ai-button"></div><div _ngcontent-wvf-c106="" class="handle-button line-button"><div _ngcontent-wvf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvf-c106="" class="handle-button theme-button"><div _ngcontent-wvf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvf-c106="" class="handle-button copy-button"><div _ngcontent-wvf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvf-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- index.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"title"</span>&gt;</span>This is the index page.<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"capsule"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Go to the second page"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"launch"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div> <div _ngcontent-wvf-c106="" class="highlight-div"><div _ngcontent-wvf-c106="" class="highlight-div-header"><div _ngcontent-wvf-c106="" class="highlight-div-header-left"><div _ngcontent-wvf-c106="" class="handle-button expand-button"><div _ngcontent-wvf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvf-c106="" class="highlight-div-header-right"><div _ngcontent-wvf-c106="" class="handle-button ai-button"></div><div _ngcontent-wvf-c106="" class="handle-button line-button"><div _ngcontent-wvf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvf-c106="" class="handle-button theme-button"><div _ngcontent-wvf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvf-c106="" class="handle-button copy-button"><div _ngcontent-wvf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvf-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- detail.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"title"</span>&gt;</span>This is the detail page.<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"capsule"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Go back"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"launch"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="构建页面样式">构建页面样式<i class="anchor-icon anchor-icon-link" anchorid="构建页面样式" tips="复制节点链接"></i></h2><p>构建index和detail页面的页面样式，text组件和button组件居中显示，两个组件之间间距为50px。css代码如下（两个页面样式代码一致）：</p> <div _ngcontent-wvf-c106="" class="highlight-div"><div _ngcontent-wvf-c106="" class="highlight-div-header"><div _ngcontent-wvf-c106="" class="highlight-div-header-left"><div _ngcontent-wvf-c106="" class="handle-button expand-button"><div _ngcontent-wvf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvf-c106="" class="highlight-div-header-right"><div _ngcontent-wvf-c106="" class="handle-button ai-button"></div><div _ngcontent-wvf-c106="" class="handle-button line-button"><div _ngcontent-wvf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvf-c106="" class="handle-button theme-button"><div _ngcontent-wvf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvf-c106="" class="handle-button copy-button"><div _ngcontent-wvf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvf-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* index.css */</span></li><li><span class="hljs-comment">/* detail.css */</span></li><li><span class="hljs-selector-class">.container</span> {</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">flex-direction</span>: column;</li><li>  <span class="hljs-attribute">justify-content</span>: center;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>}</li><li>
</li><li><span class="hljs-selector-class">.title</span> {</li><li>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">50px</span>;</li><li>  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">50px</span>;</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="实现跳转">实现跳转<i class="anchor-icon anchor-icon-link" anchorid="实现跳转" tips="复制节点链接"></i></h2><p>为了使button组件的launch方法生效，需要在页面的js文件中实现跳转逻辑。调用router.push()接口将uri指定的页面添加到路由栈中，即跳转到uri指定的页面。在调用router方法之前，需要导入router模块。代码示例如下：</p> <div _ngcontent-wvf-c106="" class="highlight-div"><div _ngcontent-wvf-c106="" class="highlight-div-header"><div _ngcontent-wvf-c106="" class="highlight-div-header-left"><div _ngcontent-wvf-c106="" class="handle-button expand-button"><div _ngcontent-wvf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvf-c106="" class="highlight-div-header-right"><div _ngcontent-wvf-c106="" class="handle-button ai-button"></div><div _ngcontent-wvf-c106="" class="handle-button line-button"><div _ngcontent-wvf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvf-c106="" class="handle-button theme-button"><div _ngcontent-wvf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvf-c106="" class="handle-button copy-button"><div _ngcontent-wvf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvf-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// index.js</span></li><li><span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.router'</span>;</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-title function_">launch</span>(<span class="hljs-params"></span>) {</li><li>    router.<span class="hljs-property">push</span> ({</li><li>      <span class="hljs-attr">url</span>: <span class="hljs-string">'pages/detail/detail'</span>,</li><li>    });</li><li>  },</li><li>}</li></ol></pre></div></div> <div _ngcontent-wvf-c106="" class="highlight-div"><div _ngcontent-wvf-c106="" class="highlight-div-header"><div _ngcontent-wvf-c106="" class="highlight-div-header-left"><div _ngcontent-wvf-c106="" class="handle-button expand-button"><div _ngcontent-wvf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvf-c106="" class="highlight-div-header-right"><div _ngcontent-wvf-c106="" class="handle-button ai-button"></div><div _ngcontent-wvf-c106="" class="handle-button line-button"><div _ngcontent-wvf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvf-c106="" class="handle-button theme-button"><div _ngcontent-wvf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvf-c106="" class="handle-button copy-button"><div _ngcontent-wvf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvf-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// detail.js</span></li><li><span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.router'</span>;</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-title function_">launch</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getRouter</span>().<span class="hljs-title function_">back</span>();</li><li>  },</li><li>}</li></ol></pre></div></div> <p>运行效果如下图所示：</p> <p><span><img originheight="450" originwidth="524" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114853.97410371260599065365041435001866:50001231000000:2800:E30B49493EE8502BF6C277E681126E0753DD3384661ABC7704FD8758638F8B02.png" width="524" height="450"></span></p> </div> </div> <div></div></div>