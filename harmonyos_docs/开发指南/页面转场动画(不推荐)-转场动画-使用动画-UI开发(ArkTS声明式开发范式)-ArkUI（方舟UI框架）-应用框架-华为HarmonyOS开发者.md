<h1 _ngcontent-pci-c119="" class="doc-title ng-star-inserted" title="页面转场动画 (不推荐)"> 页面转场动画 (不推荐) </h1>

<div _ngcontent-pci-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>为了实现更好的转场效果，推荐使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-navigation-navigation">组件导航(Navigation)</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-modal-transition">模态转场</a>。</p>    <p>两个页面间发生跳转，一个页面消失，另一个页面出现，这时可以配置各自页面的页面转场参数实现自定义的页面转场效果。<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-page-transition-animation" target="_blank">页面转场</a>效果写在pageTransition函数中，通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-page-transition-animation#pagetransitionenter" target="_blank">PageTransitionEnter</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-page-transition-animation#pagetransitionexit" target="_blank">PageTransitionExit</a>指定页面进入和退出的动画效果。</p>    <p>pageTransition的函数为：</p>    <div _ngcontent-pci-c106="" class="highlight-div"><div _ngcontent-pci-c106="" class="highlight-div-header"><div _ngcontent-pci-c106="" class="highlight-div-header-left"><div _ngcontent-pci-c106="" class="handle-button expand-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pci-c106="" class="highlight-div-header-right"><div _ngcontent-pci-c106="" class="handle-button ai-button"></div><div _ngcontent-pci-c106="" class="handle-button line-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pci-c106="" class="handle-button theme-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pci-c106="" class="handle-button copy-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title function_">pageTransition</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title class_">PageTransitionEnter</span>()</li><li>  <span class="hljs-title class_">PageTransitionExit</span>()</li><li>}</li></ol></pre></div></div>    <p>PageTransitionEnter的接口为：</p>    <div _ngcontent-pci-c106="" class="highlight-div"><div _ngcontent-pci-c106="" class="highlight-div-header"><div _ngcontent-pci-c106="" class="highlight-div-header-left"><div _ngcontent-pci-c106="" class="handle-button expand-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pci-c106="" class="highlight-div-header-right"><div _ngcontent-pci-c106="" class="handle-button ai-button"></div><div _ngcontent-pci-c106="" class="handle-button line-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pci-c106="" class="handle-button theme-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pci-c106="" class="handle-button copy-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">PageTransitionEnter</span>({<span class="hljs-keyword">type</span>?: <span class="hljs-title class_">RouteType</span>,duration?: <span class="hljs-built_in">number</span>,curve?: <span class="hljs-title class_">Curve</span> | <span class="hljs-built_in">string</span>,delay?: <span class="hljs-built_in">number</span>})</li></ol></pre></div></div>    <p>PageTransitionExit的接口为：</p>    <div _ngcontent-pci-c106="" class="highlight-div"><div _ngcontent-pci-c106="" class="highlight-div-header"><div _ngcontent-pci-c106="" class="highlight-div-header-left"><div _ngcontent-pci-c106="" class="handle-button expand-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pci-c106="" class="highlight-div-header-right"><div _ngcontent-pci-c106="" class="handle-button ai-button"></div><div _ngcontent-pci-c106="" class="handle-button line-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pci-c106="" class="handle-button theme-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pci-c106="" class="handle-button copy-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">PageTransitionExit</span>({<span class="hljs-keyword">type</span>?: <span class="hljs-title class_">RouteType</span>,duration?: <span class="hljs-built_in">number</span>,curve?: <span class="hljs-title class_">Curve</span> | <span class="hljs-built_in">string</span>,delay?: <span class="hljs-built_in">number</span>})</li></ol></pre></div></div>    <p>上述接口定义了PageTransitionEnter和PageTransitionExit组件，可通过slide、translate、scale、opacity属性定义不同的页面转场效果。对于PageTransitionEnter而言，这些效果表示入场时起点值，对于PageTransitionExit而言，这些效果表示退场的终点值，这一点与组件转场transition配置方法类似。此外，PageTransitionEnter提供了onEnter接口进行自定义页面入场动画的回调，PageTransitionExit提供了onExit接口进行自定义页面退场动画的回调。</p>    <p>上述接口中的参数type，表示路由生效的类型，这一点开发者容易混淆其含义。页面转场的两个页面，必定有一个页面退出，一个页面进入。如果通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-router#pushurl" target="_blank">pushUrl</a>操作从页面A跳转到页面B，则页面A退出，做页面退场动画，页面B进入，做页面入场动画。如果通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-router#back" target="_blank">back</a>操作从页面B返回到页面A，则页面B退出，做页面退场动画，页面A进入，做页面入场动画。即页面的PageTransitionEnter既可能是由于新增页面(push，入栈)引起的新页面的入场动画，也可能是由于页面返回(back，或pop，出栈)引起的页面栈中老页面的入场动画，为了能区分这两种形式的入场动画，提供了type参数，这样开发者能完全定义所有类型的页面转场效果。</p>    <div class="tiledSection">     <h2 id="type配置为routetypenone">type配置为RouteType.None<i class="anchor-icon anchor-icon-link" anchorid="type配置为routetypenone" tips="复制节点链接"></i></h2>          <p>type为RouteType.None表示对页面栈的push、pop操作均生效，type的默认值为RouteType.None。</p>     <div _ngcontent-pci-c106="" class="highlight-div"><div _ngcontent-pci-c106="" class="highlight-div-header"><div _ngcontent-pci-c106="" class="highlight-div-header-left"><div _ngcontent-pci-c106="" class="handle-button expand-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pci-c106="" class="highlight-div-header-right"><div _ngcontent-pci-c106="" class="handle-button ai-button"></div><div _ngcontent-pci-c106="" class="handle-button line-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pci-c106="" class="handle-button theme-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pci-c106="" class="handle-button copy-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// page A</span></li><li><span class="hljs-title function_">pageTransition</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-comment">// 定义页面进入时的效果，从左侧滑入，时长为1200ms，无论页面栈发生push还是pop操作均可生效</span></li><li>  <span class="hljs-title class_">PageTransitionEnter</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">RouteType</span>.<span class="hljs-property">None</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">1200</span> })</li><li>    .<span class="hljs-title function_">slide</span>(<span class="hljs-title class_">SlideEffect</span>.<span class="hljs-property">Left</span>)</li><li>  <span class="hljs-comment">// 定义页面退出时的效果，向左侧滑出，时长为1000ms，无论页面栈发生push还是pop操作均可生效</span></li><li>  <span class="hljs-title class_">PageTransitionExit</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">RouteType</span>.<span class="hljs-property">None</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span> })</li><li>    .<span class="hljs-title function_">slide</span>(<span class="hljs-title class_">SlideEffect</span>.<span class="hljs-property">Left</span>)</li><li>}</li></ol></pre></div></div>     <div _ngcontent-pci-c106="" class="highlight-div"><div _ngcontent-pci-c106="" class="highlight-div-header"><div _ngcontent-pci-c106="" class="highlight-div-header-left"><div _ngcontent-pci-c106="" class="handle-button expand-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pci-c106="" class="highlight-div-header-right"><div _ngcontent-pci-c106="" class="handle-button ai-button"></div><div _ngcontent-pci-c106="" class="handle-button line-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pci-c106="" class="handle-button theme-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pci-c106="" class="handle-button copy-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// page B</span></li><li><span class="hljs-title function_">pageTransition</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-comment">// 定义页面进入时的效果，从右侧滑入，时长为1000ms，无论页面栈发生push还是pop操作均可生效</span></li><li>  <span class="hljs-title class_">PageTransitionEnter</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">RouteType</span>.<span class="hljs-property">None</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span> })</li><li>    .<span class="hljs-title function_">slide</span>(<span class="hljs-title class_">SlideEffect</span>.<span class="hljs-property">Right</span>)</li><li>  <span class="hljs-comment">// 定义页面退出时的效果，向右侧滑出，时长为1200ms，无论页面栈发生push还是pop操作均可生效</span></li><li>  <span class="hljs-title class_">PageTransitionExit</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">RouteType</span>.<span class="hljs-property">None</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">1200</span> })</li><li>    .<span class="hljs-title function_">slide</span>(<span class="hljs-title class_">SlideEffect</span>.<span class="hljs-property">Right</span>)</li><li>}</li></ol></pre></div></div>     <p>假设页面跳转配置为多实例模式，即页面栈中允许存在重复的页面。可能会有4种场景，对应的页面转场效果如下表。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.4.1.1" valign="top" width="33.33333333333333%">路由操作</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.4.1.2" valign="top" width="33.33333333333333%">页面A转场效果</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.4.1.3" valign="top" width="33.33333333333333%">页面B转场效果</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">pushUrl，从页面A跳转到新增的页面B</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">页面退出，PageTransitionExit生效，向左侧滑出屏幕</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">页面进入，PageTransitionEnter生效，从右侧滑入屏幕</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">back，从页面B返回到页面A</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">页面进入，PageTransitionEnter生效，从左侧滑入屏幕</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">页面退出，PageTransitionExit生效，向右侧滑出屏幕</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">pushUrl，从页面B跳转到新增的页面A</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">页面进入，PageTransitionEnter生效，从左侧滑入屏幕</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">页面退出，PageTransitionExit生效，向右侧滑出屏幕</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">back，从页面A返回到页面B</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">页面退出，PageTransitionExit生效，向左侧滑出屏幕</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">页面进入，PageTransitionEnter生效，从右侧滑入屏幕</td>        </tr>             </tbody></table></div>     </div>     <p>如果希望pushUrl进入的页面总是从右侧滑入，back时退出的页面总是从右侧滑出，则上表中的第3、4种情况不满足要求，那么需要完整的定义4个页面转场效果。</p>    </div>    <div class="tiledSection">     <h2 id="type配置为routetypepush或routetypepop">type配置为RouteType.Push或RouteType.Pop<i class="anchor-icon anchor-icon-link" anchorid="type配置为routetypepush或routetypepop" tips="复制节点链接"></i></h2>          <p>type为RouteType.Push表示仅对页面栈的push操作生效，type为RouteType.Pop表示仅对页面栈的pop操作生效。</p>     <div _ngcontent-pci-c106="" class="highlight-div"><div _ngcontent-pci-c106="" class="highlight-div-header"><div _ngcontent-pci-c106="" class="highlight-div-header-left"><div _ngcontent-pci-c106="" class="handle-button expand-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pci-c106="" class="highlight-div-header-right"><div _ngcontent-pci-c106="" class="handle-button ai-button"></div><div _ngcontent-pci-c106="" class="handle-button line-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pci-c106="" class="handle-button theme-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pci-c106="" class="handle-button copy-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// page A</span></li><li><span class="hljs-title function_">pageTransition</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-comment">// 定义页面进入时的效果，从右侧滑入，时长为1200ms，页面栈发生push操作时该效果才生效</span></li><li>  <span class="hljs-title class_">PageTransitionEnter</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">RouteType</span>.<span class="hljs-property">Push</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">1200</span> })</li><li>    .<span class="hljs-title function_">slide</span>(<span class="hljs-title class_">SlideEffect</span>.<span class="hljs-property">Right</span>)</li><li>  <span class="hljs-comment">// 定义页面进入时的效果，从左侧滑入，时长为1200ms，页面栈发生pop操作时该效果才生效</span></li><li>  <span class="hljs-title class_">PageTransitionEnter</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">RouteType</span>.<span class="hljs-property">Pop</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">1200</span> })</li><li>    .<span class="hljs-title function_">slide</span>(<span class="hljs-title class_">SlideEffect</span>.<span class="hljs-property">Left</span>)</li><li>  <span class="hljs-comment">// 定义页面退出时的效果，向左侧滑出，时长为1000ms，页面栈发生push操作时该效果才生效</span></li><li>  <span class="hljs-title class_">PageTransitionExit</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">RouteType</span>.<span class="hljs-property">Push</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span> })</li><li>    .<span class="hljs-title function_">slide</span>(<span class="hljs-title class_">SlideEffect</span>.<span class="hljs-property">Left</span>)</li><li>  <span class="hljs-comment">// 定义页面退出时的效果，向右侧滑出，时长为1000ms，页面栈发生pop操作时该效果才生效</span></li><li>  <span class="hljs-title class_">PageTransitionExit</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">RouteType</span>.<span class="hljs-property">Pop</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span> })</li><li>    .<span class="hljs-title function_">slide</span>(<span class="hljs-title class_">SlideEffect</span>.<span class="hljs-property">Right</span>)</li><li>}</li></ol></pre></div></div>     <div _ngcontent-pci-c106="" class="highlight-div"><div _ngcontent-pci-c106="" class="highlight-div-header"><div _ngcontent-pci-c106="" class="highlight-div-header-left"><div _ngcontent-pci-c106="" class="handle-button expand-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pci-c106="" class="highlight-div-header-right"><div _ngcontent-pci-c106="" class="handle-button ai-button"></div><div _ngcontent-pci-c106="" class="handle-button line-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pci-c106="" class="handle-button theme-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pci-c106="" class="handle-button copy-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// page B</span></li><li><span class="hljs-title function_">pageTransition</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-comment">// 定义页面进入时的效果，从右侧滑入，时长为1000ms，页面栈发生push操作时该效果才生效</span></li><li>  <span class="hljs-title class_">PageTransitionEnter</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">RouteType</span>.<span class="hljs-property">Push</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span> })</li><li>    .<span class="hljs-title function_">slide</span>(<span class="hljs-title class_">SlideEffect</span>.<span class="hljs-property">Right</span>)</li><li>  <span class="hljs-comment">// 定义页面进入时的效果，从左侧滑入，时长为1000ms，页面栈发生pop操作时该效果才生效</span></li><li>  <span class="hljs-title class_">PageTransitionEnter</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">RouteType</span>.<span class="hljs-property">Pop</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span> })</li><li>    .<span class="hljs-title function_">slide</span>(<span class="hljs-title class_">SlideEffect</span>.<span class="hljs-property">Left</span>)</li><li>  <span class="hljs-comment">// 定义页面退出时的效果，向左侧滑出，时长为1200ms，页面栈发生push操作时该效果才生效</span></li><li>  <span class="hljs-title class_">PageTransitionExit</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">RouteType</span>.<span class="hljs-property">Push</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">1200</span> })</li><li>    .<span class="hljs-title function_">slide</span>(<span class="hljs-title class_">SlideEffect</span>.<span class="hljs-property">Left</span>)</li><li>  <span class="hljs-comment">// 定义页面退出时的效果，向右侧滑出，时长为1200ms，页面栈发生pop操作时该效果才生效</span></li><li>  <span class="hljs-title class_">PageTransitionExit</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">RouteType</span>.<span class="hljs-property">Pop</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">1200</span> })</li><li>    .<span class="hljs-title function_">slide</span>(<span class="hljs-title class_">SlideEffect</span>.<span class="hljs-property">Right</span>)</li><li>}</li></ol></pre></div></div>     <p>以上代码则完整的定义了所有可能的页面转场样式。假设页面跳转配置为多实例模式，即页面栈中允许存在重复的页面。可能会有4种场景，对应的页面转场效果如下表。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.4.1.1" valign="top" width="33.33333333333333%">路由操作</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.4.1.2" valign="top" width="33.33333333333333%">页面A转场效果</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.4.1.3" valign="top" width="33.33333333333333%">页面B转场效果</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">pushUrl，从页面A跳转到新增的页面B</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">页面退出，PageTransitionExit且type为RouteType.Push的转场样式生效，向左侧滑出屏幕</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">页面进入，PageTransitionEnter且type为RouteType.Push的转场样式生效，从右侧滑入屏幕</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">back，从页面B返回到页面A</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">页面进入，PageTransitionEnter且type为RouteType.Pop的转场样式生效，从左侧滑入屏幕</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">页面退出，PageTransitionExit且type为RouteType.Pop的转场样式生效，向右侧滑出屏幕</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">pushUrl，从页面B跳转到新增的页面A</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">页面进入，PageTransitionEnter且type为RouteType.Push的转场样式生效，从右侧滑入屏幕</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">页面退出，PageTransitionExit且type为RouteType.Push的转场样式生效，向左侧滑出屏幕</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="33.33333333333333%">back，从页面A返回到页面B</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">页面退出，PageTransitionExit且type为RouteType.Pop的转场样式生效，向右侧滑出屏幕</td>         <td class="cellrowborder" valign="top" width="33.33333333333333%">页面进入，PageTransitionEnter且type为RouteType.Pop的转场样式生效，从左侧滑入屏幕</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ol>        <li>         <p>由于每个页面的页面转场样式都可由开发者独立配置，而页面转场涉及到两个页面，开发者应考虑两个页面的页面转场效果的衔接，如时长尽量保持一致。</p></li>        <li>         <p>如果没有定义匹配的页面转场样式，则该页面使用系统默认的页面转场样式。</p></li>       </ol>      </div></div></div>    </div>    <div class="tiledSection">     <h2 id="禁用某页面的页面转场">禁用某页面的页面转场<i class="anchor-icon anchor-icon-link" anchorid="禁用某页面的页面转场" tips="复制节点链接"></i></h2>          <div _ngcontent-pci-c106="" class="highlight-div"><div _ngcontent-pci-c106="" class="highlight-div-header"><div _ngcontent-pci-c106="" class="highlight-div-header-left"><div _ngcontent-pci-c106="" class="handle-button expand-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pci-c106="" class="highlight-div-header-right"><div _ngcontent-pci-c106="" class="handle-button ai-button"></div><div _ngcontent-pci-c106="" class="handle-button line-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pci-c106="" class="handle-button theme-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pci-c106="" class="handle-button copy-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title function_">pageTransition</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title class_">PageTransitionEnter</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">RouteType</span>.<span class="hljs-property">None</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">0</span> })</li><li>  <span class="hljs-title class_">PageTransitionExit</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">RouteType</span>.<span class="hljs-property">None</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">0</span> })</li><li>}</li></ol></pre></div></div>     <p>通过设置页面转场的时长为0，可使该页面无页面转场动画。</p>    </div>    <div class="tiledSection">     <h2 id="场景示例">场景示例<i class="anchor-icon anchor-icon-link" anchorid="场景示例" tips="复制节点链接"></i></h2>          <p>下面介绍了利用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-router#pushurl" target="_blank">pushUrl</a>跳转能力定义了所有的四种页面转场样式的页面转场动画示例。</p>     <div _ngcontent-pci-c106="" class="highlight-div"><div _ngcontent-pci-c106="" class="highlight-div-header"><div _ngcontent-pci-c106="" class="highlight-div-header-left"><div _ngcontent-pci-c106="" class="handle-button expand-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pci-c106="" class="highlight-div-header-right"><div _ngcontent-pci-c106="" class="handle-button ai-button"></div><div _ngcontent-pci-c106="" class="handle-button line-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pci-c106="" class="handle-button theme-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pci-c106="" class="handle-button copy-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// PageTransitionSrc1</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">PageTransitionSrc1</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.mountain'</span>))</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'80%'</span>)</li><li>        .<span class="hljs-title function_">objectFit</span>(<span class="hljs-title class_">ImageFit</span>.<span class="hljs-property">Fill</span>)</li><li>        .<span class="hljs-title function_">syncLoad</span>(<span class="hljs-literal">true</span>) <span class="hljs-comment">// 同步加载图片，使页面出现时图片已经加载完成</span></li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">30</span>)</li><li>
</li><li>      <span class="hljs-title class_">Row</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"pushUrl"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// 路由到下一个页面，push操作</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getRouter</span>().<span class="hljs-title function_">pushUrl</span>({ <span class="hljs-attr">url</span>: <span class="hljs-string">'pages/myTest/pageTransitionDst1'</span> });</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"back"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// 返回到上一页面，相当于pop操作</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getRouter</span>().<span class="hljs-title function_">back</span>();</li><li>          })</li><li>      }.<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>)</li><li>    .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Center</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">pageTransition</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// 定义页面进入时的效果，从右侧滑入，时长为1000ms，页面栈发生push操作时该效果才生效</span></li><li>    <span class="hljs-title class_">PageTransitionEnter</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">RouteType</span>.<span class="hljs-property">Push</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span> })</li><li>      .<span class="hljs-title function_">slide</span>(<span class="hljs-title class_">SlideEffect</span>.<span class="hljs-property">Right</span>)</li><li>    <span class="hljs-comment">// 定义页面进入时的效果，从左侧滑入，时长为1000ms，页面栈发生pop操作时该效果才生效</span></li><li>    <span class="hljs-title class_">PageTransitionEnter</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">RouteType</span>.<span class="hljs-property">Pop</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span> })</li><li>      .<span class="hljs-title function_">slide</span>(<span class="hljs-title class_">SlideEffect</span>.<span class="hljs-property">Left</span>)</li><li>    <span class="hljs-comment">// 定义页面退出时的效果，向左侧滑出，时长为1000ms，页面栈发生push操作时该效果才生效</span></li><li>    <span class="hljs-title class_">PageTransitionExit</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">RouteType</span>.<span class="hljs-property">Push</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span> })</li><li>      .<span class="hljs-title function_">slide</span>(<span class="hljs-title class_">SlideEffect</span>.<span class="hljs-property">Left</span>)</li><li>    <span class="hljs-comment">// 定义页面退出时的效果，向右侧滑出，时长为1000ms，页面栈发生pop操作时该效果才生效</span></li><li>    <span class="hljs-title class_">PageTransitionExit</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">RouteType</span>.<span class="hljs-property">Pop</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span> })</li><li>      .<span class="hljs-title function_">slide</span>(<span class="hljs-title class_">SlideEffect</span>.<span class="hljs-property">Right</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <div _ngcontent-pci-c106="" class="highlight-div"><div _ngcontent-pci-c106="" class="highlight-div-header"><div _ngcontent-pci-c106="" class="highlight-div-header-left"><div _ngcontent-pci-c106="" class="handle-button expand-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pci-c106="" class="highlight-div-header-right"><div _ngcontent-pci-c106="" class="handle-button ai-button"></div><div _ngcontent-pci-c106="" class="handle-button line-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pci-c106="" class="handle-button theme-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pci-c106="" class="handle-button copy-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// PageTransitionDst1</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">PageTransitionDst1</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.forest'</span>))</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'80%'</span>)</li><li>        .<span class="hljs-title function_">objectFit</span>(<span class="hljs-title class_">ImageFit</span>.<span class="hljs-property">Fill</span>)</li><li>        .<span class="hljs-title function_">syncLoad</span>(<span class="hljs-literal">true</span>) <span class="hljs-comment">// 同步加载图片，使页面出现时图片已经加载完成</span></li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">30</span>)</li><li>
</li><li>      <span class="hljs-title class_">Row</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"pushUrl"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// 路由到下一页面，push操作</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getRouter</span>().<span class="hljs-title function_">pushUrl</span>({ <span class="hljs-attr">url</span>: <span class="hljs-string">'pages/myTest/pageTransitionSrc1'</span> });</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"back"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// 返回到上一页面，相当于pop操作</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getRouter</span>().<span class="hljs-title function_">back</span>();</li><li>          })</li><li>      }.<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>)</li><li>    .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Center</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">pageTransition</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// 定义页面进入时的效果，从右侧滑入，时长为1000ms，页面栈发生push操作时该效果才生效</span></li><li>    <span class="hljs-title class_">PageTransitionEnter</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">RouteType</span>.<span class="hljs-property">Push</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span> })</li><li>      .<span class="hljs-title function_">slide</span>(<span class="hljs-title class_">SlideEffect</span>.<span class="hljs-property">Right</span>)</li><li>    <span class="hljs-comment">// 定义页面进入时的效果，从左侧滑入，时长为1000ms，页面栈发生pop操作时该效果才生效</span></li><li>    <span class="hljs-title class_">PageTransitionEnter</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">RouteType</span>.<span class="hljs-property">Pop</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span> })</li><li>      .<span class="hljs-title function_">slide</span>(<span class="hljs-title class_">SlideEffect</span>.<span class="hljs-property">Left</span>)</li><li>    <span class="hljs-comment">// 定义页面退出时的效果，向左侧滑出，时长为1000ms，页面栈发生push操作时该效果才生效</span></li><li>    <span class="hljs-title class_">PageTransitionExit</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">RouteType</span>.<span class="hljs-property">Push</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span> })</li><li>      .<span class="hljs-title function_">slide</span>(<span class="hljs-title class_">SlideEffect</span>.<span class="hljs-property">Left</span>)</li><li>    <span class="hljs-comment">// 定义页面退出时的效果，向右侧滑出，时长为1000ms，页面栈发生pop操作时该效果才生效</span></li><li>    <span class="hljs-title class_">PageTransitionExit</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">RouteType</span>.<span class="hljs-property">Pop</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span> })</li><li>      .<span class="hljs-title function_">slide</span>(<span class="hljs-title class_">SlideEffect</span>.<span class="hljs-property">Right</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="886" originwidth="480" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114945.85956209336887559587120891135539:50001231000000:2800:B0E395C913A324BD1B860256BD75F26DDC8071E7E520C2536DC9D91A1DD0B61D.gif" width="480" height="886"></span></p>     <p>下面介绍使用了type为None的页面转场动画示例。</p>     <div _ngcontent-pci-c106="" class="highlight-div"><div _ngcontent-pci-c106="" class="highlight-div-header"><div _ngcontent-pci-c106="" class="highlight-div-header-left"><div _ngcontent-pci-c106="" class="handle-button expand-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pci-c106="" class="highlight-div-header-right"><div _ngcontent-pci-c106="" class="handle-button ai-button"></div><div _ngcontent-pci-c106="" class="handle-button line-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pci-c106="" class="handle-button theme-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pci-c106="" class="handle-button copy-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// PageTransitionSrc2</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">PageTransitionSrc2</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.mountain'</span>))</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'80%'</span>)</li><li>        .<span class="hljs-title function_">objectFit</span>(<span class="hljs-title class_">ImageFit</span>.<span class="hljs-property">Fill</span>)</li><li>        .<span class="hljs-title function_">syncLoad</span>(<span class="hljs-literal">true</span>) <span class="hljs-comment">// 同步加载图片，使页面出现时图片已经加载完成</span></li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">30</span>)</li><li>
</li><li>      <span class="hljs-title class_">Row</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"pushUrl"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// 路由到下一页面，push操作</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getRouter</span>().<span class="hljs-title function_">pushUrl</span>({ <span class="hljs-attr">url</span>: <span class="hljs-string">'pages/myTest/pageTransitionDst2'</span> });</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"back"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// 返回到上一页面，相当于pop操作</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getRouter</span>().<span class="hljs-title function_">back</span>();</li><li>          })</li><li>      }.<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>)</li><li>    .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Center</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">pageTransition</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// 定义页面进入时的效果，从左侧滑入，时长为1000ms，无论页面栈发生push还是pop操作均可生效</span></li><li>    <span class="hljs-title class_">PageTransitionEnter</span>({ <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span> })</li><li>      .<span class="hljs-title function_">slide</span>(<span class="hljs-title class_">SlideEffect</span>.<span class="hljs-property">Left</span>)</li><li>    <span class="hljs-comment">// 定义页面退出时的效果，相对于正常页面位置x方向平移100vp，y方向平移100vp，透明度变为0，时长为1200ms，无论页面栈发生push还是pop操作均可生效</span></li><li>    <span class="hljs-title class_">PageTransitionExit</span>({ <span class="hljs-attr">duration</span>: <span class="hljs-number">1200</span> })</li><li>      .<span class="hljs-title function_">translate</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">100.0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">100.0</span> })</li><li>      .<span class="hljs-title function_">opacity</span>(<span class="hljs-number">0</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <div _ngcontent-pci-c106="" class="highlight-div"><div _ngcontent-pci-c106="" class="highlight-div-header"><div _ngcontent-pci-c106="" class="highlight-div-header-left"><div _ngcontent-pci-c106="" class="handle-button expand-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pci-c106="" class="highlight-div-header-right"><div _ngcontent-pci-c106="" class="handle-button ai-button"></div><div _ngcontent-pci-c106="" class="handle-button line-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pci-c106="" class="handle-button theme-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pci-c106="" class="handle-button copy-button"><div _ngcontent-pci-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pci-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// PageTransitionDst2</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">PageTransitionDst2</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.forest'</span>))</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'80%'</span>)</li><li>        .<span class="hljs-title function_">objectFit</span>(<span class="hljs-title class_">ImageFit</span>.<span class="hljs-property">Fill</span>)</li><li>        .<span class="hljs-title function_">syncLoad</span>(<span class="hljs-literal">true</span>) <span class="hljs-comment">// 同步加载图片，使页面出现时图片已经加载完成</span></li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">30</span>)</li><li>
</li><li>      <span class="hljs-title class_">Row</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"pushUrl"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// 路由到下一页面，push操作</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getRouter</span>().<span class="hljs-title function_">pushUrl</span>({ <span class="hljs-attr">url</span>: <span class="hljs-string">'pages/myTest/pageTransitionSrc2'</span> });</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"back"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// 返回到上一页面，相当于pop操作</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getRouter</span>().<span class="hljs-title function_">back</span>();</li><li>          })</li><li>      }.<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>)</li><li>    .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Center</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">pageTransition</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// 定义页面进入时的效果，从左侧滑入，时长为1200ms，无论页面栈发生push还是pop操作均可生效</span></li><li>    <span class="hljs-title class_">PageTransitionEnter</span>({ <span class="hljs-attr">duration</span>: <span class="hljs-number">1200</span> })</li><li>      .<span class="hljs-title function_">slide</span>(<span class="hljs-title class_">SlideEffect</span>.<span class="hljs-property">Left</span>)</li><li>    <span class="hljs-comment">// 定义页面退出时的效果，相对于正常页面位置x方向平移100vp，y方向平移100vp，透明度变为0，时长为1000ms，无论页面栈发生push还是pop操作均可生效</span></li><li>    <span class="hljs-title class_">PageTransitionExit</span>({ <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span> })</li><li>      .<span class="hljs-title function_">translate</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">100.0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">100.0</span> })</li><li>      .<span class="hljs-title function_">opacity</span>(<span class="hljs-number">0</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="886" originwidth="480" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114945.55641542846265011146118569861676:50001231000000:2800:C21343F88EC6078CA9EB88DDCEE7B50CB14D6F582775FA3BF7A97E52D95D9301.gif" width="480" height="886"></span></p>    </div>   </div>   <div></div></div>