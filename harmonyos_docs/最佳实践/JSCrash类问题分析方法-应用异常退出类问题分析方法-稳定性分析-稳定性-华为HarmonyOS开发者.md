<h1 _ngcontent-xfe-c119="" class="doc-title ng-star-inserted" title="JS Crash类问题分析方法"> JS Crash类问题分析方法 </h1>

<div _ngcontent-xfe-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>当未处理的JS异常导致应用意外退出时，应用会在抛出未处理的异常时崩溃并且会生成对应的JS Crash崩溃日志文件。开发者可通过错误日志查看引起崩溃的代码位置及分析应用崩溃的原因，可参看<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/jscrash-guidelines#日志规格" target="_blank">JS Crash日志规格</a>。</p> <div class="tiledSection"><h2 id="section854401763414">问题定位思路<i class="anchor-icon anchor-icon-link" anchorid="section854401763414" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section1176915576391" class="firsth2">获取日志<i class="anchor-icon anchor-icon-link" anchorid="section1176915576391" tips="复制节点链接"></i></h3><p>进程崩溃日志是一种故障日志，具体可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/jscrash-guidelines#日志获取" target="_blank">日志获取</a>。</p> </div> <div class="tiledSection"><h3 id="section88111820402">根因分析<i class="anchor-icon anchor-icon-link" anchorid="section88111820402" tips="复制节点链接"></i></h3></div> <p>分析JS Crash问题通过异常场景，结合错误信息和调用栈定位源码，从而得出基本的分析结论。调用栈的分析有以下几种情况：</p> <p><strong>StackTrace 场景分类</strong></p> <p>JS Crash故障日志中的StackTrace字段存放了JS Crash异常的调用栈信息，StackTrace的显示分为以下几种场景。</p> <ol><li>JS调用栈可直接通过超链接跳转到对应错误代码行，栈顶即为问题第一现场，如下样例所示。<div _ngcontent-xfe-c106="" class="highlight-div"><div _ngcontent-xfe-c106="" class="highlight-div-header"><div _ngcontent-xfe-c106="" class="highlight-div-header-left"><div _ngcontent-xfe-c106="" class="handle-button expand-button"><div _ngcontent-xfe-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xfe-c106="" class="highlight-div-header-right"><div _ngcontent-xfe-c106="" class="handle-button ai-button"></div><div _ngcontent-xfe-c106="" class="handle-button line-button"><div _ngcontent-xfe-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xfe-c106="" class="handle-button theme-button"><div _ngcontent-xfe-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xfe-c106="" class="handle-button copy-button"><div _ngcontent-xfe-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xfe-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">Device</span> <span class="hljs-variable">info</span>:<span class="hljs-title class_">xxx</span></li><li><span class="hljs-variable">Build</span> <span class="hljs-variable">info</span>:<span class="hljs-title class_">xxx</span>-<span class="hljs-title class_">xxx</span> <span class="hljs-title class_">x</span>.<span class="hljs-title class_">x</span>.<span class="hljs-title class_">x</span>.<span class="hljs-title class_">xxx</span>(<span class="hljs-title class_">xxxx</span>)</li><li><span class="hljs-variable">Fingerprint</span>:<span class="hljs-title class_">d1ad53b47ce339f2e21aec4b8ac5e8bda70dcb241bc684448ddf7eab7ff19860</span></li><li><span class="hljs-variable">Timestamp</span>:<span class="hljs-title class_">xxxx</span>-<span class="hljs-title class_">xx</span>-<span class="hljs-title class_">xx</span> <span class="hljs-title class_">xx</span>:<span class="hljs-title class_">xx</span>:<span class="hljs-title class_">xx</span>.<span class="hljs-title class_">xxx</span></li><li><span class="hljs-variable">Module</span> <span class="hljs-variable">name</span>:<span class="hljs-title class_">com</span>.<span class="hljs-title class_">xxx</span>.<span class="hljs-title class_">xxx</span></li><li><span class="hljs-variable">Version</span>:<span class="hljs-number">1.0</span><span class="hljs-number">.0</span></li><li><span class="hljs-variable">VersionCode</span>:<span class="hljs-number">1000000</span></li><li><span class="hljs-variable">PreInstalled</span>:<span class="hljs-title class_">No</span></li><li><span class="hljs-variable">Foreground</span>:<span class="hljs-title class_">Yes</span></li><li><span class="hljs-variable">Pid</span>:<span class="hljs-number">52148</span></li><li><span class="hljs-variable">Uid</span>:<span class="hljs-number">20020199</span></li><li><span class="hljs-variable">Process</span> <span class="hljs-title function_">Memory</span>(<span class="hljs-variable">kB</span>): <span class="hljs-number">147873</span>(<span class="hljs-title class_">Rss</span>)</li><li><span class="hljs-variable">Device</span> <span class="hljs-title function_">Memory</span>(<span class="hljs-variable">kB</span>): <span class="hljs-title class_">Total</span> <span class="hljs-number">11679208</span>, <span class="hljs-variable">Free</span> <span class="hljs-number">577272</span>, <span class="hljs-variable">Available</span> <span class="hljs-number">5079040</span></li><li><span class="hljs-variable">Page</span> <span class="hljs-variable">switch</span> <span class="hljs-variable">history</span>:</li><li>  <span class="hljs-variable">xx</span>:<span class="hljs-title class_">xx</span>:<span class="hljs-title class_">xx</span>.<span class="hljs-title class_">xxx</span> :<span class="hljs-title class_">enters</span> <span class="hljs-title class_">foreground</span></li><li><span class="hljs-variable">Reason</span>:<span class="hljs-title class_">Error</span></li><li><span class="hljs-variable">Error</span> <span class="hljs-variable">name</span>:<span class="hljs-title class_">Error</span></li><li><span class="hljs-variable">Error</span> <span class="hljs-variable">message</span>:<span class="hljs-title class_">JSERROR</span></li><li><span class="hljs-variable">Stacktrace</span>:</li><li>    <span class="hljs-variable">at</span> <span class="hljs-variable">anonymous</span> <span class="hljs-variable">entry</span> (<span class="hljs-variable">entry</span>/<span class="hljs-variable">src</span>/<span class="hljs-keyword">main</span>/<span class="hljs-variable">ets</span>/<span class="hljs-variable">pages</span>/<span class="hljs-variable">Index</span>.<span class="hljs-variable">ets</span>:<span class="hljs-number">18</span>:<span class="hljs-number">11</span>) <span class="hljs-comment">//在DevEco Studio可直接点跳转到对应源码</span></li></ol></pre></div></div> </li><li>异常代码调用栈包含Cannot get SourceMap info, dump raw stack，表示SourceMap转换失败，仅展示ets栈对应编译产物的代码行号，需要通过SourceMap还原对应错误代码行。如下样例所示。<div _ngcontent-xfe-c106="" class="highlight-div"><div _ngcontent-xfe-c106="" class="highlight-div-header"><div _ngcontent-xfe-c106="" class="highlight-div-header-left"><div _ngcontent-xfe-c106="" class="handle-button expand-button"><div _ngcontent-xfe-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xfe-c106="" class="highlight-div-header-right"><div _ngcontent-xfe-c106="" class="handle-button ai-button"></div><div _ngcontent-xfe-c106="" class="handle-button line-button"><div _ngcontent-xfe-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xfe-c106="" class="handle-button theme-button"><div _ngcontent-xfe-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xfe-c106="" class="handle-button copy-button"><div _ngcontent-xfe-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xfe-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">Device</span> <span class="hljs-variable">info</span>:<span class="hljs-title class_">xxx</span></li><li><span class="hljs-variable">Build</span> <span class="hljs-variable">info</span>:<span class="hljs-title class_">xxx</span>-<span class="hljs-title class_">xxx</span> <span class="hljs-title class_">x</span>.<span class="hljs-title class_">x</span>.<span class="hljs-title class_">x</span>.<span class="hljs-title class_">xxx</span>(<span class="hljs-title class_">xxxx</span>)</li><li><span class="hljs-variable">Fingerprint</span>:<span class="hljs-title class_">a370fceb59011d96e41e97bda139b1851c911012ab8c386d1a2d63986d6d226d</span></li><li><span class="hljs-variable">Module</span> <span class="hljs-variable">name</span>:<span class="hljs-title class_">com</span>.<span class="hljs-title class_">xxx</span>.<span class="hljs-title class_">xxx</span></li><li><span class="hljs-variable">Version</span>:<span class="hljs-number">1.0</span><span class="hljs-number">.0</span></li><li><span class="hljs-variable">VersionCode</span>:<span class="hljs-number">1000000</span></li><li><span class="hljs-variable">PreInstalled</span>:<span class="hljs-title class_">No</span></li><li><span class="hljs-variable">Foreground</span>:<span class="hljs-title class_">Yes</span></li><li><span class="hljs-variable">Pid</span>:<span class="hljs-number">39185</span></li><li><span class="hljs-variable">Uid</span>:<span class="hljs-number">20020145</span></li><li><span class="hljs-variable">Reason</span>:<span class="hljs-title class_">Error</span></li><li><span class="hljs-variable">Error</span> <span class="hljs-variable">name</span>:<span class="hljs-title class_">Error</span></li><li><span class="hljs-variable">Error</span> <span class="hljs-variable">message</span>:<span class="hljs-title class_">JSERROR</span></li><li><span class="hljs-variable">Stacktrace</span>:</li><li><span class="hljs-variable">Cannot</span> <span class="hljs-variable">get</span> <span class="hljs-variable">SourceMap</span> <span class="hljs-variable">info</span>, <span class="hljs-variable">dump</span> <span class="hljs-variable">raw</span> <span class="hljs-variable">stack</span>:</li><li>    <span class="hljs-variable">at</span> <span class="hljs-variable">anonymous</span> (<span class="hljs-variable">entry</span>/<span class="hljs-variable">src</span>/<span class="hljs-keyword">main</span>/<span class="hljs-variable">ets</span>/<span class="hljs-variable">pages</span>/<span class="hljs-variable">Index</span>.<span class="hljs-variable">ts</span>:<span class="hljs-number">49</span>:<span class="hljs-number">49</span>)</li></ol></pre></div></div> </li><li>异常代码调用栈包含SourceMap is not initialized yet，表示SourceMap没初始化完成就有异常产生的情况，一般是由于在系统侧进行SourceMap初始化和转换非常耗时导致的。ets栈对应编译产物的代码行号，需要通过SourceMap还原对应错误代码行。如下样例所示。<div _ngcontent-xfe-c106="" class="highlight-div"><div _ngcontent-xfe-c106="" class="highlight-div-header"><div _ngcontent-xfe-c106="" class="highlight-div-header-left"><div _ngcontent-xfe-c106="" class="handle-button expand-button"><div _ngcontent-xfe-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xfe-c106="" class="highlight-div-header-right"><div _ngcontent-xfe-c106="" class="handle-button ai-button"></div><div _ngcontent-xfe-c106="" class="handle-button line-button"><div _ngcontent-xfe-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xfe-c106="" class="handle-button theme-button"><div _ngcontent-xfe-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xfe-c106="" class="handle-button copy-button"><div _ngcontent-xfe-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xfe-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">Device</span> <span class="hljs-variable">info</span>:<span class="hljs-title class_">xxx</span></li><li><span class="hljs-variable">Build</span> <span class="hljs-variable">info</span>:<span class="hljs-title class_">xxx</span>-<span class="hljs-title class_">xxx</span> <span class="hljs-title class_">x</span>.<span class="hljs-title class_">x</span>.<span class="hljs-title class_">x</span>.<span class="hljs-title class_">xxx</span>(<span class="hljs-title class_">xxxx</span>)</li><li><span class="hljs-variable">Fingerprint</span>:<span class="hljs-number">377</span><span class="hljs-title class_">ef8529301363f373ce837d0bf83aacfc46112502143237e2f4026e86a0510</span></li><li><span class="hljs-variable">Module</span> <span class="hljs-variable">name</span>:<span class="hljs-title class_">com</span>.<span class="hljs-title class_">xxx</span>.<span class="hljs-title class_">xxx</span></li><li><span class="hljs-variable">Version</span>:<span class="hljs-number">1.0</span><span class="hljs-number">.0</span></li><li><span class="hljs-variable">VersionCode</span>:<span class="hljs-number">1000000</span></li><li><span class="hljs-variable">PreInstalled</span>:<span class="hljs-title class_">No</span></li><li><span class="hljs-variable">Foreground</span>:<span class="hljs-title class_">Yes</span></li><li><span class="hljs-variable">Pid</span>:<span class="hljs-number">6042</span></li><li><span class="hljs-variable">Uid</span>:<span class="hljs-number">20020145</span></li><li><span class="hljs-variable">Reason</span>:<span class="hljs-title class_">Error</span></li><li><span class="hljs-variable">Error</span> <span class="hljs-variable">name</span>:<span class="hljs-title class_">Error</span></li><li><span class="hljs-variable">Error</span> <span class="hljs-variable">message</span>:<span class="hljs-title class_">JSERROR</span></li><li><span class="hljs-variable">Stacktrace</span>:</li><li><span class="hljs-variable">SourceMap</span> <span class="hljs-keyword">is</span> <span class="hljs-variable">not</span> <span class="hljs-variable">initialized</span> <span class="hljs-variable">yet</span></li><li><span class="hljs-variable">at</span> <span class="hljs-variable">anonymous</span> (<span class="hljs-variable">entry</span>/<span class="hljs-variable">src</span>/<span class="hljs-keyword">main</span>/<span class="hljs-variable">ets</span>/<span class="hljs-variable">pages</span>/<span class="hljs-variable">Index</span>.<span class="hljs-variable">ts</span>:<span class="hljs-number">49</span>:<span class="hljs-number">49</span>)</li></ol></pre></div></div> </li><li>异常代码调用栈栈顶libark_jsruntime.so动态库的场景一般是业务调用NAPI函数后出现了异常。因为JS异常都是由虚拟机抛出，因此基于调用栈从上往下找，libace_napi.z.so的下一帧一般是抛出异常的现场。在ARM64架构下，如果debug版本应用开启异步线程栈跟踪维测，当异步线程发生崩溃，故障日志不仅会包含当前调用栈，还会附带异步线程调用栈。这两个调用栈通过SubmitterStacktrace字符串分隔，SubmitterStacktrace下方即为异步线程调用栈。以下是一份具体的崩溃日志示例。<div _ngcontent-xfe-c106="" class="highlight-div"><div _ngcontent-xfe-c106="" class="highlight-div-header"><div _ngcontent-xfe-c106="" class="highlight-div-header-left"><div _ngcontent-xfe-c106="" class="handle-button expand-button"><div _ngcontent-xfe-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xfe-c106="" class="highlight-div-header-right"><div _ngcontent-xfe-c106="" class="handle-button ai-button"></div><div _ngcontent-xfe-c106="" class="handle-button line-button"><div _ngcontent-xfe-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xfe-c106="" class="handle-button theme-button"><div _ngcontent-xfe-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xfe-c106="" class="handle-button copy-button"><div _ngcontent-xfe-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xfe-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-rust" data-highlighted="yes"><ol class="linenums"><li>Device info:xxx</li><li>Build info:xxx-xxx x.x.x.<span class="hljs-title function_ invoke__">xxx</span>(xxxx)</li><li>Fingerprint:<span class="hljs-number">89</span>f2b64b24d642b0fc64e3a7cf68ca39fecaa580ff5736bb9d6706ea4cdf2c93</li><li>Module name:com.xxx.xxx</li><li>Version:<span class="hljs-number">1.0</span>.<span class="hljs-number">0</span></li><li>VersionCode:<span class="hljs-number">1000000</span></li><li>PreInstalled:No</li><li>Foreground:No</li><li>Pid:<span class="hljs-number">14325</span></li><li>Uid:<span class="hljs-number">20020145</span></li><li>Reason:ReferenceError</li><li>Error name:ReferenceError</li><li>Reason:Error</li><li>Error name:Error</li><li>Error message:test error</li><li>Error code:<span class="hljs-number">10</span></li><li>Stacktrace:</li><li>#<span class="hljs-number">00</span> pc <span class="hljs-number">00000000004</span>d9d4c /system/lib64/platformsdk/libark_jsruntime.<span class="hljs-title function_ invoke__">so</span>(panda::ecmascript::<span class="hljs-title function_ invoke__">Backtrace</span>(std::__h::basic_ostringstream&lt;<span class="hljs-type">char</span>, std::__h::char_traits&lt;<span class="hljs-type">char</span>&gt;, std::__h::allocator&lt;<span class="hljs-type">char</span>&gt;&gt;&amp;, <span class="hljs-type">bool</span>)+<span class="hljs-number">92</span>)(<span class="hljs-number">723</span>d1618fe2567539bed3038ccfe92d8)</li><li>#<span class="hljs-number">01</span> pc <span class="hljs-number">000000000038</span>ddcc /system/lib64/platformsdk/libark_jsruntime.<span class="hljs-title function_ invoke__">so</span>(panda::ecmascript::JsStackInfo::<span class="hljs-title function_ invoke__">BuildJsStackTrace</span>(panda::ecmascript::JSThread*, <span class="hljs-type">bool</span>, panda::ecmascript::JSHandle&lt;panda::ecmascript::JSObject&gt; <span class="hljs-keyword">const</span>&amp;, <span class="hljs-type">bool</span>, unsigned int)+<span class="hljs-number">2952</span>)(<span class="hljs-number">723</span>d1618fe2567539bed3038ccfe92d8)</li><li>#<span class="hljs-number">02</span> pc <span class="hljs-number">000000000038</span>c70c /system/lib64/platformsdk/libark_jsruntime.<span class="hljs-title function_ invoke__">so</span>(panda::ecmascript::base::ErrorHelper::<span class="hljs-title function_ invoke__">ErrorCommonConstructor</span>(panda::ecmascript::EcmaRuntimeCallInfo*, panda::ecmascript::base::ErrorType <span class="hljs-keyword">const</span>&amp;)+<span class="hljs-number">1704</span>)(<span class="hljs-number">723</span>d1618fe2567539bed3038ccfe92d8)</li><li>#<span class="hljs-number">03</span> pc <span class="hljs-number">000000000038</span>c03c /system/lib64/platformsdk/libark_jsruntime.<span class="hljs-title function_ invoke__">so</span>(panda::ecmascript::builtins::BuiltinsError::<span class="hljs-title function_ invoke__">ErrorConstructor</span>(panda::ecmascript::EcmaRuntimeCallInfo*)+<span class="hljs-number">40</span>)(<span class="hljs-number">723</span>d1618fe2567539bed3038ccfe92d8)</li><li>#<span class="hljs-number">04</span> pc <span class="hljs-number">00000000001</span>b5d90 /system/lib64/platformsdk/libark_jsruntime.<span class="hljs-title function_ invoke__">so</span>(panda::ecmascript::ObjectFactory::<span class="hljs-title function_ invoke__">NewJSError</span>(panda::ecmascript::JSHandle&lt;panda::ecmascript::GlobalEnv&gt; <span class="hljs-keyword">const</span>&amp;, panda::ecmascript::base::ErrorType <span class="hljs-keyword">const</span>&amp;, panda::ecmascript::JSHandle&lt;panda::ecmascript::EcmaString&gt; <span class="hljs-keyword">const</span>&amp;, panda::ecmascript::StackCheck)+<span class="hljs-number">984</span>)(<span class="hljs-number">723</span>d1618fe2567539bed3038ccfe92d8)</li><li>#<span class="hljs-number">05</span> pc <span class="hljs-number">000000000093274</span>c /system/lib64/platformsdk/libark_jsruntime.<span class="hljs-title function_ invoke__">so</span>(panda::Exception::<span class="hljs-title function_ invoke__">Error</span>(panda::ecmascript::EcmaVM <span class="hljs-keyword">const</span>*, panda::Local&lt;panda::StringRef&gt;)+<span class="hljs-number">244</span>)(<span class="hljs-number">723</span>d1618fe2567539bed3038ccfe92d8)</li><li>#<span class="hljs-number">06</span> pc <span class="hljs-number">0000000000066398</span> /system/lib64/platformsdk/libace_napi.z.<span class="hljs-title function_ invoke__">so</span>(napi_throw_error+<span class="hljs-number">152</span>)(c91850afe3629242ed12712b76be08f1)</li><li>#<span class="hljs-number">07</span> pc <span class="hljs-number">00000000000020</span>fc /data/storage/el1/bundle/libs/arm64/libentry.<span class="hljs-title function_ invoke__">so</span>(<span class="hljs-number">02</span>cecfd8fd280aeaa1af7b9d1227afeac0ec4356)   &lt;- 异常抛出位置</li><li>#<span class="hljs-number">08</span> pc <span class="hljs-number">00000000000890</span>c0 /system/lib64/platformsdk/libruntime.z.<span class="hljs-title function_ invoke__">so</span>(std::__h::__function::__func&lt;OHOS::AbilityRuntime::OHOSJsEnvironmentImpl::<span class="hljs-title function_ invoke__">PostTaskToHandler</span>(<span class="hljs-type">char</span> <span class="hljs-keyword">const</span>*, <span class="hljs-title function_ invoke__">void</span> (*)(void*, int), void*, int, int)::$_0, std::__h::allocator&lt;OHOS::AbilityRuntime::OHOSJsEnvironmentImpl::<span class="hljs-title function_ invoke__">PostTaskToHandler</span>(<span class="hljs-type">char</span> <span class="hljs-keyword">const</span>*, <span class="hljs-title function_ invoke__">void</span> (*)(void*, int), void*, int, int)::$_0&gt;, <span class="hljs-title function_ invoke__">void</span> ()&gt;::<span class="hljs-title function_ invoke__">operator</span>()() (.<span class="hljs-number">3</span>ec3b6b3a88f13b2aa6c613a7afa022b)+<span class="hljs-number">128</span>)(<span class="hljs-number">50</span>df26f49d9c067da9cf79b804f136ec)</li><li>========SubmitterStacktrace========    &lt;- 当异步线程发生崩溃后，把提交该异步任务的线程的栈也打印出来</li><li>#<span class="hljs-number">00</span> pc <span class="hljs-number">0000000000012</span>cd0 /system/lib64/platformsdk/libuv.<span class="hljs-title function_ invoke__">so</span>(uv_queue_work+<span class="hljs-number">456</span>)(e077582fac1bf7463ca5539c0a2b678a)</li><li>#<span class="hljs-number">01</span> pc <span class="hljs-number">0000000000001</span>fd0 /data/storage/el1/bundle/libs/arm64/libentry.<span class="hljs-title function_ invoke__">so</span>(<span class="hljs-number">02</span>cecfd8fd280aeaa1af7b9d1227afeac0ec4356)</li><li>#<span class="hljs-number">02</span> pc <span class="hljs-number">000000000004</span>d69c /system/lib64/platformsdk/libace_napi.z.<span class="hljs-title function_ invoke__">so</span>(panda::JSValueRef ArkNativeFunctionCallBack&lt;<span class="hljs-literal">true</span>&gt;(panda::JsiRuntimeCallInfo*)+<span class="hljs-number">220</span>)(c91850afe3629242ed12712b76be08f1)</li><li>#<span class="hljs-number">03</span> pc <span class="hljs-number">0000000000</span>d08e90 /system/lib64/module/arkcompiler/stub.<span class="hljs-title function_ invoke__">an</span>(RTStub_PushCallArgsAndDispatchNative+<span class="hljs-number">44</span>)</li><li>#<span class="hljs-number">04</span> pc <span class="hljs-number">000000000036</span>ae70 /system/lib64/module/arkcompiler/stub.<span class="hljs-title function_ invoke__">an</span>(BCStub_HandleCallthis2Imm8V8V8V8StwCopy+<span class="hljs-number">436</span>)</li><li>#<span class="hljs-number">05</span> at <span class="hljs-title function_ invoke__">anonymous</span> (entry|entry|<span class="hljs-number">1.0</span>.<span class="hljs-number">0</span>|src/main/ets/pages/Index.ts:<span class="hljs-number">57</span>:<span class="hljs-number">79</span>)</li><li>#<span class="hljs-number">06</span> pc <span class="hljs-number">000000000029e144</span> /system/lib64/platformsdk/libark_jsruntime.<span class="hljs-title function_ invoke__">so</span>(panda::ecmascript::InterpreterAssembly::<span class="hljs-title function_ invoke__">Execute</span>(panda::ecmascript::EcmaRuntimeCallInfo*)+<span class="hljs-number">540</span>)(<span class="hljs-number">723</span>d1618fe2567539bed3038ccfe92d8)</li><li>#<span class="hljs-number">07</span> pc <span class="hljs-number">0000000000327</span>eac /system/lib64/platformsdk/libark_jsruntime.<span class="hljs-title function_ invoke__">so</span>(panda::ecmascript::JSFunction::<span class="hljs-title function_ invoke__">Call</span>(panda::ecmascript::EcmaRuntimeCallInfo*) (.<span class="hljs-number">419</span>.extracted)+<span class="hljs-number">452</span>)(<span class="hljs-number">723</span>d1618fe2567539bed3038ccfe92d8)</li><li>#<span class="hljs-number">08</span> pc <span class="hljs-number">0000000000940</span>c18 /system/lib64/platformsdk/libark_jsruntime.<span class="hljs-title function_ invoke__">so</span>(panda::FunctionRef::<span class="hljs-title function_ invoke__">Call</span>(panda::ecmascript::EcmaVM <span class="hljs-keyword">const</span>*, panda::Local&lt;panda::JSValueRef&gt;, panda::Local&lt;panda::JSValueRef&gt; <span class="hljs-keyword">const</span>*, int)+<span class="hljs-number">1988</span>)(<span class="hljs-number">723</span>d1618fe2567539bed3038ccfe92d8)</li><li>#<span class="hljs-number">09</span> pc <span class="hljs-number">00000000009</span>ce8d8 /system/lib64/platformsdk/libace_compatible.z.<span class="hljs-title function_ invoke__">so</span>(OHOS::Ace::Framework::JsiFunction::<span class="hljs-title function_ invoke__">Call</span>(OHOS::Ace::Framework::JsiRef&lt;OHOS::Ace::Framework::JsiValue&gt;, int, OHOS::Ace::Framework::JsiRef&lt;OHOS::Ace::Framework::JsiValue&gt;*, <span class="hljs-type">bool</span>) <span class="hljs-keyword">const</span>+<span class="hljs-number">700</span>)(cdb4712f9d1d7fda83faae9d393a244e)</li><li>#<span class="hljs-number">10</span> pc <span class="hljs-number">0000000000972</span>a38 /system/lib64/platformsdk/libace_compatible.z.<span class="hljs-title function_ invoke__">so</span>(OHOS::Ace::Framework::JsFunction::<span class="hljs-title function_ invoke__">ExecuteJS</span>(int, OHOS::Ace::Framework::JsiRef&lt;OHOS::Ace::Framework::JsiValue&gt;*, <span class="hljs-type">bool</span>)+<span class="hljs-number">384</span>)(cdb4712f9d1d7fda83faae9d393a244e)</li><li>#<span class="hljs-number">11</span> pc <span class="hljs-number">0000000000e1</span>f590 /system/lib64/platformsdk/libace_compatible.z.<span class="hljs-title function_ invoke__">so</span>(OHOS::Ace::Framework::JsClickFunction::<span class="hljs-title function_ invoke__">Execute</span>(OHOS::Ace::GestureEvent&amp;)+<span class="hljs-number">3396</span>)(cdb4712f9d1d7fda83faae9d393a244e)</li><li>#<span class="hljs-number">12</span> pc <span class="hljs-number">0000000001079384</span> /system/lib64/platformsdk/libace_compatible.z.<span class="hljs-title function_ invoke__">so</span>(cdb4712f9d1d7fda83faae9d393a244e)</li><li>#<span class="hljs-number">13</span> pc <span class="hljs-number">00000000026e1</span>b28 /system/lib64/platformsdk/libace_compatible.z.<span class="hljs-title function_ invoke__">so</span>(cdb4712f9d1d7fda83faae9d393a244e)</li><li>#<span class="hljs-number">14</span> pc <span class="hljs-number">0000000000</span>f435a8 /system/lib64/platformsdk/libace_compatible.z.<span class="hljs-title function_ invoke__">so</span>(OHOS::Ace::NG::TextPattern::<span class="hljs-title function_ invoke__">ActTextOnClick</span>(OHOS::Ace::GestureEvent&amp;)+<span class="hljs-number">164</span>)(cdb4712f9d1d7fda83faae9d393a244e)</li><li>#<span class="hljs-number">15</span> pc <span class="hljs-number">0000000002751134</span> /system/lib64/platformsdk/libace_compatible.z.<span class="hljs-title function_ invoke__">so</span>(cdb4712f9d1d7fda83faae9d393a244e)</li><li>
</li></ol></pre></div></div> </li></ol> <p><strong>调用栈分析</strong></p> <p>调用栈分析会有如下两种情况：</p> <ul><li>情况一：可跳转至引起错误的代码行<p>如果FaultLog的堆栈信息中的链接或偏移地址指向的是当前工程中的某行代码，该段信息将被转换为超链接形式，在DevEco Studio中点击后跳转至对应代码行。</p> </li><li>情况二：不可跳转至引起错误的代码行或者跳转代码位置不存在<p>如出现Cannot get Source Map info, dump raw stack信息代表js栈转换ets行列号失败，在DevEco Studio中点击链接会跳转到不正确的代码位置或不存在的代码行位置。可参考：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-release-app-stack-analysis" target="_blank">堆栈轨迹分析</a>。</p> </li></ul> </div> <div></div></div>