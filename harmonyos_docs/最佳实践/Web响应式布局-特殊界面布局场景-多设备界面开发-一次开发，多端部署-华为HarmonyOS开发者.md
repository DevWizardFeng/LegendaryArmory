<h1 _ngcontent-hrv-c119="" class="doc-title ng-star-inserted" title="Web响应式布局"> Web响应式布局 </h1>

<div _ngcontent-hrv-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="section16635204594211">概述<i class="anchor-icon anchor-icon-link" anchorid="section16635204594211" tips="复制节点链接"></i></h2></div> <p>本文介绍Web侧如何进行多设备适配，结合Web组件实现在不同设备上的定制体验。内容涵盖相对单位、媒体查询、监听窗口变化事件等多设备适配能力，并针对宫格布局、自定义弹窗、轮播布局等前端布局介绍适配的实现思路与方案。</p> <div class="tiledSection"><h2 id="section7443131674416">实现原理<i class="anchor-icon anchor-icon-link" anchorid="section7443131674416" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section13791174412139" class="firsth2">相对单位<i class="anchor-icon anchor-icon-link" anchorid="section13791174412139" tips="复制节点链接"></i></h3><p>在Web开发中，经常需要控制元素尺寸、边距等属性来调整页面效果。定义这些属性时，需要用到CSS提供的元素尺寸单位，主要分为绝对单位和相对单位。</p> <ul><li>绝对单位：不依赖于其他值或元素属性的固定值。常见的绝对单位如像素（px），适用于页面中尺寸固定不变的元素。</li><li>相对单位：依赖其他值或元素属性来确定元素尺寸。当依赖的元素值变化时，相对单位定义的值也会随之变化。由于其动态特性，相对单位常用于前端页面的响应式开发。以下为常见的相对单位列表。</li></ul>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><caption><b>表1 </b>常用相对单位表</caption><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.4.2.5.1.1" valign="top" width="8.64913508649135%"><p>单位</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.4.2.5.1.2" valign="top" width="24.437556244375564%"><p>相对元素</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.4.2.5.1.3" valign="top" width="31.236876312368768%"><p>使用场景</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.4.2.5.1.4" valign="top" width="35.67643235676432%"><p>示例代码</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="8.64913508649135%"><p>%</p> </td> <td class="cellrowborder" valign="top" width="24.437556244375564%"><p>百分比单位，相对于包含块（通常是父元素）的尺寸。</p> </td> <td class="cellrowborder" valign="top" width="31.236876312368768%"><p>常用于响应式设计中，使元素的大小相对于其父元素调整。</p> </td> <td class="cellrowborder" valign="top" width="35.67643235676432%"><div _ngcontent-hrv-c106="" class="highlight-div"><div _ngcontent-hrv-c106="" class="highlight-div-header"><div _ngcontent-hrv-c106="" class="highlight-div-header-left"><div _ngcontent-hrv-c106="" class="handle-button expand-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hrv-c106="" class="highlight-div-header-right"><div _ngcontent-hrv-c106="" class="handle-button ai-button"></div><div _ngcontent-hrv-c106="" class="handle-button line-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hrv-c106="" class="handle-button theme-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hrv-c106="" class="handle-button copy-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hrv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-selector-class">.parent</span> {</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">400px</span>;</li><li>}</li><li><span class="hljs-selector-class">.child</span> {</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">50%</span>; <span class="hljs-comment">/* 200px */</span></li><li>}</li></ol></pre></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="8.64913508649135%"><p>em</p> </td> <td class="cellrowborder" valign="top" width="24.437556244375564%"><p>相对于当前元素的字体大小。如果当前元素的字体大小未设置，则相对于其父元素的字体大小。</p> </td> <td class="cellrowborder" valign="top" width="31.236876312368768%"><p>用于文本大小和基于文本的间距，便于通过调整字体大小来改变布局。</p> </td> <td class="cellrowborder" valign="top" width="35.67643235676432%"><div _ngcontent-hrv-c106="" class="highlight-div"><div _ngcontent-hrv-c106="" class="highlight-div-header"><div _ngcontent-hrv-c106="" class="highlight-div-header-left"><div _ngcontent-hrv-c106="" class="handle-button expand-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hrv-c106="" class="highlight-div-header-right"><div _ngcontent-hrv-c106="" class="handle-button ai-button"></div><div _ngcontent-hrv-c106="" class="handle-button line-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hrv-c106="" class="handle-button theme-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hrv-c106="" class="handle-button copy-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hrv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-selector-tag">p</span> {</li><li>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;</li><li>}</li><li><span class="hljs-selector-tag">span</span> {</li><li>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.5em</span>; <span class="hljs-comment">/* 24px */</span></li><li>}</li></ol></pre></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="8.64913508649135%"><p>rem</p> </td> <td class="cellrowborder" valign="top" width="24.437556244375564%"><p>相对于根元素（html元素）的字体大小。</p> </td> <td class="cellrowborder" valign="top" width="31.236876312368768%"><p>与em类似，但更加一致，因为所有rem值都基于同一个根元素的大小，易于全局调整。</p> </td> <td class="cellrowborder" valign="top" width="35.67643235676432%"><div _ngcontent-hrv-c106="" class="highlight-div"><div _ngcontent-hrv-c106="" class="highlight-div-header"><div _ngcontent-hrv-c106="" class="highlight-div-header-left"><div _ngcontent-hrv-c106="" class="handle-button expand-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hrv-c106="" class="highlight-div-header-right"><div _ngcontent-hrv-c106="" class="handle-button ai-button"></div><div _ngcontent-hrv-c106="" class="handle-button line-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hrv-c106="" class="handle-button theme-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hrv-c106="" class="handle-button copy-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hrv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-selector-tag">html</span> {</li><li>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;</li><li>}</li><li><span class="hljs-selector-tag">p</span> {</li><li>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1rem</span>; <span class="hljs-comment">/* 16px */</span></li><li>}</li><li><span class="hljs-selector-tag">span</span> {</li><li>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.5rem</span>; <span class="hljs-comment">/* 24px */</span></li><li>}</li></ol></pre></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="8.64913508649135%"><p>vw/vh</p> </td> <td class="cellrowborder" valign="top" width="24.437556244375564%"><p>相对于视窗（浏览器窗口）尺寸，vw相对于浏览器窗口宽度，vh相对于浏览器窗口高度。</p> </td> <td class="cellrowborder" valign="top" width="31.236876312368768%"><p>元素尺寸完全基于视窗宽度，例如弹窗遮罩层。</p> </td> <td class="cellrowborder" valign="top" width="35.67643235676432%"><div _ngcontent-hrv-c106="" class="highlight-div"><div _ngcontent-hrv-c106="" class="highlight-div-header"><div _ngcontent-hrv-c106="" class="highlight-div-header-left"><div _ngcontent-hrv-c106="" class="handle-button expand-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hrv-c106="" class="highlight-div-header-right"><div _ngcontent-hrv-c106="" class="handle-button ai-button"></div><div _ngcontent-hrv-c106="" class="handle-button line-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hrv-c106="" class="handle-button theme-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hrv-c106="" class="handle-button copy-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hrv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-selector-class">.overlay</span> {</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100vw</span>; <span class="hljs-comment">/* equal to the width of the viewport */</span></li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>; <span class="hljs-comment">/* equal to the height of the viewport */</span></li><li>}</li></ol></pre></div></div> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>CSS中设置的px单位会自动通过设备像素比（devicePixelRatio）进行换算，这使得px单位在视觉效果上与HarmonyOS中的vp单位相同。此特性可以消除设备物理像素的差异，便于Web应用迁移到HarmonyOS。</p> </div></div></div> </div> <div class="tiledSection"><h3 id="section767285571317">媒体查询<i class="anchor-icon anchor-icon-link" anchorid="section767285571317" tips="复制节点链接"></i></h3><p>媒体查询允许开发者根据设备特性（如屏幕尺寸、分辨率、方向等）应用不同的样式规则。这确保了网页在不同设备和屏幕尺寸下都能有良好的显示效果，从而提升用户体验。在Web页面适配HarmonyOS侧一多时，横纵向断点对应的尺寸范围与HarmonyOS侧<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section186821126131515">推荐的断点划分范围</a>保持一致。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>在使用HarmonyOS侧纵向断点时，需要注意Web侧区分纵向断点时使用宽高比。而HarmonyOS侧定义的纵向断点使用高宽比。</p> </div></div></div> <p>例如以下媒体查询代码，当视口宽度满足不小于840px时，应用了article的类样式的字体大小将变为20px。当视口宽度满足大于等于320px且小于600px，视口宽高比大于等于1/1.2且小于等于1/0.8时，符合手机上下分屏的小窗口，字体大小将变为14px。</p> <div class="screenLinkPre"><div _ngcontent-hrv-c106="" class="highlight-div"><div _ngcontent-hrv-c106="" class="highlight-div-header"><div _ngcontent-hrv-c106="" class="highlight-div-header-left"><div _ngcontent-hrv-c106="" class="handle-button expand-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hrv-c106="" class="highlight-div-header-right"><div _ngcontent-hrv-c106="" class="handle-button ai-button"></div><div _ngcontent-hrv-c106="" class="handle-button line-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hrv-c106="" class="handle-button theme-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hrv-c106="" class="handle-button copy-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hrv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/MultiWeb/blob/master/WebProject/src/components/CustomDialog/article.css#L23-L33" data-highlighted="yes"><ol class="linenums"><li>@<span class="hljs-title function_">media</span> (<span class="hljs-number">840</span><span class="hljs-variable">px</span>&lt;=<span class="hljs-title class_">width</span>) {</li><li>  .<span class="hljs-variable">article</span> {</li><li>    <span class="hljs-variable">font</span>-<span class="hljs-variable">size</span>: <span class="hljs-number">20</span><span class="hljs-title class_">px</span>;</li><li>  }</li><li>}</li><li>
</li><li>@<span class="hljs-title function_">media</span> (<span class="hljs-number">320</span><span class="hljs-variable">px</span>&lt;=<span class="hljs-title class_">width</span>&lt;<span class="hljs-number">600</span><span class="hljs-title class_">px</span> ) <span class="hljs-title class_">and</span> (<span class="hljs-variable">min</span><span class="hljs-variable">-aspect</span><span class="hljs-variable">-ratio</span>: <span class="hljs-number">1</span>/<span class="hljs-number">1.2</span>) <span class="hljs-title class_">and</span> (<span class="hljs-variable">max</span><span class="hljs-variable">-aspect</span><span class="hljs-variable">-ratio</span>: <span class="hljs-number">1</span>/<span class="hljs-number">0.8</span>){</li><li>  .<span class="hljs-title class_">article</span> {</li><li>    <span class="hljs-variable">font</span>-<span class="hljs-variable">size</span>: <span class="hljs-number">14</span><span class="hljs-title class_">px</span>;</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/MultiWeb/blob/master/WebProject/src/components/CustomDialog/article.css#L23-L33" target="_blank">article.css</a></div></div></div></div> </div> <p><strong>场景一：修改字体大小</strong></p> <p>实现原理：利用CSS中的媒体查询@media，设置不同断点尺寸下的字体大小，实现响应式布局。以下以常见的sm、md、lg为例进行适配。</p> <ul><li>当屏幕尺寸位于sm断点时，应用了title类样式的元素字体大小为16px。</li><li>当屏幕尺寸位于md断点时，应用了title类样式的元素字体大小为18px。</li><li>当屏幕尺寸位于lg断点及以上时，应用了title类样式的元素字体大小为20px。</li><li>当屏幕尺寸不满足上述范围，应用了title类样式的元素字体大小为14px。<div class="screenLinkPre"><div _ngcontent-hrv-c106="" class="highlight-div"><div _ngcontent-hrv-c106="" class="highlight-div-header"><div _ngcontent-hrv-c106="" class="highlight-div-header-left"><div _ngcontent-hrv-c106="" class="handle-button expand-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hrv-c106="" class="highlight-div-header-right"><div _ngcontent-hrv-c106="" class="handle-button ai-button"></div><div _ngcontent-hrv-c106="" class="handle-button line-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hrv-c106="" class="handle-button theme-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hrv-c106="" class="handle-button copy-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hrv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/MultiWeb/blob/master/WebProject/src/components/CustomDialog/title.css#L19-L36" data-highlighted="yes"><ol class="linenums"><li>.<span class="hljs-variable">title</span> {</li><li>  <span class="hljs-variable">font</span>-<span class="hljs-variable">size</span>: <span class="hljs-number">14</span><span class="hljs-title class_">px</span>;</li><li>}</li><li>@<span class="hljs-title function_">media</span> (<span class="hljs-number">320</span><span class="hljs-variable">px</span>&lt;=<span class="hljs-title class_">width</span>&lt;<span class="hljs-number">600</span><span class="hljs-title class_">px</span>) {</li><li>  .<span class="hljs-title class_">title</span> {</li><li>    <span class="hljs-variable">font</span>-<span class="hljs-variable">size</span>: <span class="hljs-number">16</span><span class="hljs-title class_">px</span>;</li><li>  }</li><li>}</li><li>@<span class="hljs-title function_">media</span> (<span class="hljs-number">600</span><span class="hljs-variable">px</span>&lt;=<span class="hljs-title class_">width</span>&lt;<span class="hljs-number">840</span><span class="hljs-title class_">px</span>) {</li><li>  .<span class="hljs-title class_">title</span> {</li><li>    <span class="hljs-variable">font</span>-<span class="hljs-variable">size</span>: <span class="hljs-number">18</span><span class="hljs-title class_">px</span>;</li><li>  }</li><li>}</li><li>@<span class="hljs-title function_">media</span> (<span class="hljs-number">840</span><span class="hljs-variable">px</span>&lt;=<span class="hljs-title class_">width</span>) {</li><li>  .<span class="hljs-variable">title</span> {</li><li>    <span class="hljs-variable">font</span>-<span class="hljs-variable">size</span>: <span class="hljs-number">20</span><span class="hljs-title class_">px</span>;</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/MultiWeb/blob/master/WebProject/src/components/CustomDialog/title.css#L19-L36" target="_blank">title.css</a></div></div></div></div> </li></ul> <p>由此可以实现在不同屏幕尺寸上，拥有不同的字体大小。</p> <p><strong>场景二：修改图片宽度</strong></p> <p>实现原理：通过CSS的媒体查询@media能力，设置不同断点下的图片宽度实现响应式布局，下文以常见的sm、md、lg为例进行适配。</p> <ul><li>当屏幕尺寸位于sm断点时，应用了cover类样式的元素尺寸为120px。</li><li>当屏幕尺寸位于md断点时，应用了cover类样式的元素尺寸为160px。</li><li>当屏幕尺寸位于lg断点及以上时，应用了cover类样式的元素尺寸为240px。</li><li>当屏幕尺寸不满足上述范围，应用了cover类样式的元素尺寸为100px。<div class="screenLinkPre"><div _ngcontent-hrv-c106="" class="highlight-div"><div _ngcontent-hrv-c106="" class="highlight-div-header"><div _ngcontent-hrv-c106="" class="highlight-div-header-left"><div _ngcontent-hrv-c106="" class="handle-button expand-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hrv-c106="" class="highlight-div-header-right"><div _ngcontent-hrv-c106="" class="handle-button ai-button"></div><div _ngcontent-hrv-c106="" class="handle-button line-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hrv-c106="" class="handle-button theme-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hrv-c106="" class="handle-button copy-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hrv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/MultiWeb/blob/master/WebProject/src/components/CustomDialog/cover.css#L18-L39" data-highlighted="yes"><ol class="linenums"><li>.<span class="hljs-variable">cover</span> {</li><li>  <span class="hljs-variable">width</span>: <span class="hljs-number">100</span><span class="hljs-title class_">px</span>;</li><li>  <span class="hljs-variable">height</span>: <span class="hljs-number">100</span><span class="hljs-title class_">px</span>;</li><li>}</li><li>@<span class="hljs-title function_">media</span> (<span class="hljs-number">320</span><span class="hljs-variable">px</span>&lt;=<span class="hljs-title class_">width</span>&lt;<span class="hljs-number">600</span><span class="hljs-title class_">px</span>) {</li><li>  .<span class="hljs-title class_">cover</span> {</li><li>    <span class="hljs-variable">width</span>: <span class="hljs-number">120</span><span class="hljs-title class_">px</span>;</li><li>    <span class="hljs-variable">height</span>: <span class="hljs-number">120</span><span class="hljs-title class_">px</span>;</li><li>  }</li><li>}</li><li>@<span class="hljs-title function_">media</span> (<span class="hljs-number">600</span><span class="hljs-variable">px</span>&lt;=<span class="hljs-title class_">width</span>&lt;<span class="hljs-number">840</span><span class="hljs-title class_">px</span>) {</li><li>  .<span class="hljs-title class_">cover</span> {</li><li>    <span class="hljs-variable">width</span>: <span class="hljs-number">160</span><span class="hljs-title class_">px</span>;</li><li>    <span class="hljs-variable">height</span>: <span class="hljs-number">160</span><span class="hljs-title class_">px</span>;</li><li>  }</li><li>}</li><li>@<span class="hljs-title function_">media</span> (<span class="hljs-number">840</span><span class="hljs-variable">px</span>&lt;=<span class="hljs-title class_">width</span>) {</li><li>  .<span class="hljs-variable">cover</span> {</li><li>    <span class="hljs-variable">width</span>: <span class="hljs-number">240</span><span class="hljs-title class_">px</span>;</li><li>    <span class="hljs-variable">height</span>: <span class="hljs-number">240</span><span class="hljs-title class_">px</span>;</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/MultiWeb/blob/master/WebProject/src/components/CustomDialog/cover.css#L18-L39" target="_blank">cover.css</a></div></div></div></div> </li></ul> <p>由此可以实现在不同屏幕尺寸上，拥有不同的元素尺寸。</p> <div class="tiledSection"><h3 id="section1596042141816">添加窗口事件<i class="anchor-icon anchor-icon-link" anchorid="section1596042141816" tips="复制节点链接"></i></h3><p>window对象提供了resize事件注册，该事件在文档视图（窗口）调整大小时触发。当无法使用相对单位或媒体查询实现多设备体验时，可以通过JavaScript注册resize事件，使用window.innerHeight获取窗口高度，使用window.innerWidth获取窗口宽度。结合CSS与HTML，根据获取到的窗口尺寸完成多设备体验适配。本章节以等比例修改字体大小为例，根据窗口宽度动态计算字体大小变化。</p> <div class="screenLinkPre"><div _ngcontent-hrv-c106="" class="highlight-div"><div _ngcontent-hrv-c106="" class="highlight-div-header"><div _ngcontent-hrv-c106="" class="highlight-div-header-left"><div _ngcontent-hrv-c106="" class="handle-button expand-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hrv-c106="" class="highlight-div-header-right"><div _ngcontent-hrv-c106="" class="handle-button ai-button"></div><div _ngcontent-hrv-c106="" class="handle-button line-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hrv-c106="" class="handle-button theme-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hrv-c106="" class="handle-button copy-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hrv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-php-template" codehub="https://gitee.com/harmonyos_samples/MultiWeb/blob/master/WebProject/src/components/CustomDialog/innerWidth.html#L2-L37" data-highlighted="yes"><ol class="linenums"><li><span class="language-xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span></span></li><li><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span></span></li><li><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span></li><li><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span></span></li><li><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span></li><li><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Responsive Font Size on Resize<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span></li><li><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span></span></li><li><span class="language-xml">    <span class="hljs-selector-tag">html</span> {</span></li><li><span class="language-xml">        <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;</span></li><li><span class="language-xml">    }</span></li><li><span class="language-xml">    <span class="hljs-selector-class">.content</span> {</span></li><li><span class="language-xml">        <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;</span></li><li><span class="language-xml">    }</span></li><li><span class="language-xml">    <span class="hljs-selector-class">.content</span> <span class="hljs-selector-tag">h1</span>,</span></li><li><span class="language-xml">    <span class="hljs-selector-class">.content</span> <span class="hljs-selector-tag">p</span> {</span></li><li><span class="language-xml">        <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">1em</span>;</span></li><li><span class="language-xml">    }</span></li><li><span class="language-xml">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></li><li><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span></li><li><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span></li><li><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span>&gt;</span></span></li><li><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Responsive Font Size Example<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></li><li><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Resize the window to see the font size change.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></li><li><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></li><li><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span></li><li><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span></li><li><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span></li><li><span class="language-xml">  <span class="hljs-keyword">const</span> root = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>;</span></li><li><span class="language-xml">  <span class="hljs-keyword">const</span> initialScale = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / <span class="hljs-number">1920</span>;</span></li><li><span class="language-xml">  root.<span class="hljs-property">style</span>.<span class="hljs-property">fontSize</span> = <span class="hljs-string">`<span class="hljs-subst">${initialScale * <span class="hljs-number">16</span>}</span>px`</span>;</span></li><li><span class="language-xml">  <span class="hljs-comment">// Listen for window size change events</span></span></li><li><span class="language-xml">  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-function">() =&gt;</span> {</span></li><li><span class="language-xml">      <span class="hljs-keyword">const</span> newScale = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / <span class="hljs-number">1920</span>;</span></li><li><span class="language-xml">      root.<span class="hljs-property">style</span>.<span class="hljs-property">fontSize</span> = <span class="hljs-string">`<span class="hljs-subst">${newScale * <span class="hljs-number">16</span>}</span>px`</span>;</span></li><li><span class="language-xml">  });</span></li><li><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/MultiWeb/blob/master/WebProject/src/components/CustomDialog/innerWidth.html#L2-L37" target="_blank">innerWidth.html</a></div></div></div></div> </div> <div class="tiledSection"><h2 id="section108111240151817">布局设计<i class="anchor-icon anchor-icon-link" anchorid="section108111240151817" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section11134174991811" class="firsth2">宫格布局<i class="anchor-icon anchor-icon-link" anchorid="section11134174991811" tips="复制节点链接"></i></h3><p>CSS中提供了grid布局，与<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-layout-development-grid-layout" target="_blank">栅格布局</a>类似，它将网页内容划分成一个一个的网格，通过任意组合不同的网格，从而做出各种各样的布局。</p> <div class="fignone"><span class="figcap"><b>图1 </b>宫格布局示意图</span><br><span><img height="397.005" originheight="619" originwidth="1187" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163149.71621245196378641367857395261535:50001231000000:2800:E5618F8BBDB5C393670A48B5A697438E72023DCA921E2EBA50D378EF27A2572D.png" title="点击放大" width="761.29998"></span></div> <p>关于宫格布局，有几个关键概念需要了解。更多详细信息，开发者可以查阅CSS Grid的相关资料。</p> <ul><li>容器和项目：采用网格布局的区域称为容器。容器内部采用网格定位的子元素称为项目。</li><li>行与列：水平区域称为行，垂直区域称为列。</li><li>行间距与列间距：两行之间或者两列之间存在的空白区域部分。</li></ul> <p>使用宫格布局，需参考以下步骤：</p> <ol><li>设置容器属性：首先要将容器的display属性设置为grid。</li><li>确定元素的排列方式：<ol><li>确定列宽与行高：列宽通过grid-template-columns定义，参数个数为列数，参数大小为列宽；行高通过grid-template-rows定义，方式类似。</li><li>确定行列间距：行间距用row-gap控制，列间距用column-gap控制。若间距相等，用gap属性控制。</li></ol> </li></ol> <p>例如，宫格元素按两行三列排列，列宽和行高均为100px，行列间距为20px。代码如下所示：</p> <div class="screenLinkPre"><div _ngcontent-hrv-c106="" class="highlight-div"><div _ngcontent-hrv-c106="" class="highlight-div-header"><div _ngcontent-hrv-c106="" class="highlight-div-header-left"><div _ngcontent-hrv-c106="" class="handle-button expand-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hrv-c106="" class="highlight-div-header-right"><div _ngcontent-hrv-c106="" class="handle-button ai-button"></div><div _ngcontent-hrv-c106="" class="handle-button line-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hrv-c106="" class="handle-button theme-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hrv-c106="" class="handle-button copy-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hrv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-php-template" codehub="https://gitee.com/harmonyos_samples/MultiWeb/blob/master/WebProject/src/components/CustomDialog/gridtemplatecolumns.html#L2-L32" data-highlighted="yes"><ol class="linenums"><li><span class="language-xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span></span></li><li><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span></span></li><li><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span></li><li><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span> /&gt;</span></span></li><li><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span></li><li><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Demo<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span></li><li><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span></li><li><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span></span></li><li><span class="language-xml">  <span class="hljs-selector-class">.container</span> {</span></li><li><span class="language-xml">    <span class="hljs-attribute">display</span>: grid;</span></li><li><span class="language-xml">    <span class="hljs-attribute">gap</span>: <span class="hljs-number">20px</span>;</span></li><li><span class="language-xml">    <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">100px</span> <span class="hljs-number">100px</span> <span class="hljs-number">100px</span>;</span></li><li><span class="language-xml">    <span class="hljs-attribute">grid-template-rows</span>: <span class="hljs-number">100px</span> <span class="hljs-number">100px</span>;</span></li><li><span class="language-xml">  }</span></li><li><span class="language-xml">  <span class="hljs-selector-class">.container</span> <span class="hljs-selector-class">.grid-item</span> {</span></li><li><span class="language-xml">    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f6fdf5</span>;</span></li><li><span class="language-xml">    <span class="hljs-attribute">text-align</span>: center;</span></li><li><span class="language-xml">    <span class="hljs-attribute">line-height</span>: <span class="hljs-number">100px</span>;</span></li><li><span class="language-xml">  }</span></li><li><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></li><li><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span></li><li><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></span></li><li><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"grid-item"</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></li><li><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"grid-item"</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></li><li><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"grid-item"</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></li><li><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"grid-item"</span>&gt;</span>4<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></li><li><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"grid-item"</span>&gt;</span>5<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></li><li><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"grid-item"</span>&gt;</span>6<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></li><li><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></li><li><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span></li><li><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span></li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/MultiWeb/blob/master/WebProject/src/components/CustomDialog/gridtemplatecolumns.html#L2-L32" target="_blank">gridtemplatecolumns.html</a></div></div></div></div> <div class="fignone"><span class="figcap"><b>图2 </b>示例代码效果图</span></div> <p><span><img originheight="219" originwidth="342" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163149.42049981141263822559989738405151:50001231000000:2800:98C22EF2E9C5BEF3565C57C7AE80C2A41DF1CEC7BC9436EFFA344ECFC6C5E6A6.png" width="342" height="219"></span></p> <p>当元素个数较少时，可以通过逐个书写（如grid-template-columns: 100px 100px 100px）的方式进行排列指定。然而，当元素数量较多，例如一行有十列时，这种写法的可读性会变差。此时，可以使用repeat()函数来简化书写。该函数接收两个参数：第一个参数为重复的次数，第二个参数为要重复的值。例如，上述写法可以改写为grid-template-columns: repeat(3, 100px)，效果相同。在多列情况下，repeat()函数能显著提高代码的可读性和简洁性。</p> <p>宫格布局可结合媒体查询，以实现不同设备上的最佳体验。通过设置不同尺寸范围的排列方式，达到在不同屏幕尺寸上显示不同效果的目的。例如，实现以下宫格效果。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><caption><b>表2 </b>宫格布局效果图</caption><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.16.14.2.5.1.1" valign="top" width="7.64%"><p>断点</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.14.2.5.1.2" valign="top" width="20.01%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.14.2.5.1.3" valign="top" width="27.450000000000003%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.14.2.5.1.4" valign="top" width="44.9%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="7.64%"><p>效果图</p> </td> <td class="cellrowborder" valign="top" width="20.01%"><p><span><img height="332.38301040000005" originheight="1607" originwidth="774" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163149.85920594779517365363444798371496:50001231000000:2800:783CCB9267686288C2C5BD84425984F7A63A1A137DE372EAA3268365FF8A4515.png" title="点击放大" width="160.092"></span></p> </td> <td class="cellrowborder" valign="top" width="27.450000000000003%"><p><span><img height="254.6570433333334" originheight="639" originwidth="573" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163149.09420008596040408329305722217462:50001231000000:2800:09D5DA50608E112E32AE4F11C0A48CE9AA9BA46B7B3F22243A1CE930DC0EBA3A.png" title="点击放大" width="228.54000000000005"></span></p> </td> <td class="cellrowborder" valign="top" width="44.9%"><p><span><img height="264.26313600000003" originheight="559" originwidth="823" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163149.60264297982216075583945888064839:50001231000000:2800:6028F5009CC504E06631BB65C336F5FD7F858669975B02B554984D023B7BADB1.png" title="点击放大" width="389.08"></span></p> </td> </tr>  </tbody></table></div> </div> <ul><li>在sm断点下，宫格以4列进行显示，同时行间距为12px。<div class="screenLinkPre"><div _ngcontent-hrv-c106="" class="highlight-div"><div _ngcontent-hrv-c106="" class="highlight-div-header"><div _ngcontent-hrv-c106="" class="highlight-div-header-left"><div _ngcontent-hrv-c106="" class="handle-button expand-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hrv-c106="" class="highlight-div-header-right"><div _ngcontent-hrv-c106="" class="handle-button ai-button"></div><div _ngcontent-hrv-c106="" class="handle-button line-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hrv-c106="" class="handle-button theme-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hrv-c106="" class="handle-button copy-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hrv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/MultiWeb/blob/master/WebProject/src/components/QuickFunction/gridFunction.css#L17-L22" data-highlighted="yes"><ol class="linenums"><li>@<span class="hljs-title function_">media</span> (<span class="hljs-number">320</span><span class="hljs-variable">px</span>&lt;=<span class="hljs-title class_">width</span>&lt;<span class="hljs-number">600</span><span class="hljs-title class_">px</span>) {</li><li>  .<span class="hljs-title class_">grid</span>-<span class="hljs-title class_">functions</span> {</li><li>    <span class="hljs-variable">grid</span>-<span class="hljs-variable">template</span>-<span class="hljs-variable">columns</span>: <span class="hljs-title class_">repeat</span>(<span class="hljs-number">4</span>, <span class="hljs-number">48</span><span class="hljs-title class_">px</span>);</li><li>    <span class="hljs-variable">row</span>-<span class="hljs-variable">gap</span>: <span class="hljs-number">12</span><span class="hljs-title class_">px</span>;</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/MultiWeb/blob/master/WebProject/src/components/QuickFunction/gridFunction.css#L17-L22" target="_blank">gridFunction.css</a></div></div></div></div> </li><li>在md断点下，宫格以6列进行显示，同时行间距为20px。<div class="screenLinkPre"><div _ngcontent-hrv-c106="" class="highlight-div"><div _ngcontent-hrv-c106="" class="highlight-div-header"><div _ngcontent-hrv-c106="" class="highlight-div-header-left"><div _ngcontent-hrv-c106="" class="handle-button expand-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hrv-c106="" class="highlight-div-header-right"><div _ngcontent-hrv-c106="" class="handle-button ai-button"></div><div _ngcontent-hrv-c106="" class="handle-button line-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hrv-c106="" class="handle-button theme-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hrv-c106="" class="handle-button copy-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hrv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/MultiWeb/blob/master/WebProject/src/components/QuickFunction/gridFunction.css#L26-L31" data-highlighted="yes"><ol class="linenums"><li>@<span class="hljs-title function_">media</span> (<span class="hljs-number">600</span><span class="hljs-variable">px</span>&lt;=<span class="hljs-title class_">width</span>&lt;<span class="hljs-number">840</span><span class="hljs-title class_">px</span>) {</li><li>  .<span class="hljs-title class_">grid</span>-<span class="hljs-title class_">functions</span> {</li><li>    <span class="hljs-variable">grid</span>-<span class="hljs-variable">template</span>-<span class="hljs-variable">columns</span>: <span class="hljs-title class_">repeat</span>(<span class="hljs-number">6</span>, <span class="hljs-number">48</span><span class="hljs-title class_">px</span>);</li><li>    <span class="hljs-variable">row</span>-<span class="hljs-variable">gap</span>: <span class="hljs-number">20</span><span class="hljs-title class_">px</span>;</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/MultiWeb/blob/master/WebProject/src/components/QuickFunction/gridFunction.css#L26-L31" target="_blank">gridFunction.css</a></div></div></div></div> </li><li>在lg断点下，宫格以8列进行显示，同时行间距为24px。<div class="screenLinkPre"><div _ngcontent-hrv-c106="" class="highlight-div"><div _ngcontent-hrv-c106="" class="highlight-div-header"><div _ngcontent-hrv-c106="" class="highlight-div-header-left"><div _ngcontent-hrv-c106="" class="handle-button expand-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hrv-c106="" class="highlight-div-header-right"><div _ngcontent-hrv-c106="" class="handle-button ai-button"></div><div _ngcontent-hrv-c106="" class="handle-button line-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hrv-c106="" class="handle-button theme-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hrv-c106="" class="handle-button copy-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hrv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-css" codehub="https://gitee.com/harmonyos_samples/MultiWeb/blob/master/WebProject/src/components/QuickFunction/gridFunction.css#L35-L40" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">@media</span> (<span class="hljs-number">840px</span>&lt;=<span class="hljs-attribute">width</span>) {</li><li>  <span class="hljs-selector-class">.grid-functions</span> {</li><li>    <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(<span class="hljs-number">8</span>, <span class="hljs-number">48px</span>);</li><li>    <span class="hljs-attribute">row-gap</span>: <span class="hljs-number">24px</span>;</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/MultiWeb/blob/master/WebProject/src/components/QuickFunction/gridFunction.css#L35-L40" target="_blank">gridFunction.css</a></div></div></div></div> </li></ul> </div> <div class="tiledSection"><h3 id="section152579341913">自定义弹窗<i class="anchor-icon anchor-icon-link" anchorid="section152579341913" tips="复制节点链接"></i></h3><p>在大尺寸设备上，使用更大的弹窗展示，以避免内容过小、不易看清。通过CSS的媒体查询@media能力，设置不同断点下的弹窗尺寸。例如：</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.17.3.1.5.1.1" valign="top" width="7.630000000000001%"><p>断点</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.3.1.5.1.2" valign="top" width="20.06%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.3.1.5.1.3" valign="top" width="27.32%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.3.1.5.1.4" valign="top" width="44.99%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="7.630000000000001%"><p>效果图</p> </td> <td class="cellrowborder" valign="top" width="20.06%"><p><span><img height="333.64311119999996" originheight="2259" originwidth="1087" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163149.20354647794054568145289612232442:50001231000000:2800:8B9B527AF5DE4D73CDA74506D1350B2BD14D0906407B423BCBE77125D723B63D.png" title="点击放大" width="160.55199999999996"></span></p> </td> <td class="cellrowborder" valign="top" width="27.32%"><p><span><img height="253.32436711111114" originheight="2475" originwidth="2221" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163149.74671241743681882754916344486671:50001231000000:2800:EAD152C0AAF3557BD700CCB1D0DAB432C632F3CD94F76E2EF181E4A4EAA080B1.png" title="点击放大" width="227.34400000000002"></span></p> </td> <td class="cellrowborder" valign="top" width="44.99%"><p><span><img height="247.201672" originheight="2235" originwidth="3525" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163149.78400383827934003780045214175415:50001231000000:2800:32C15EE0625E04EEB55206D1BCB82DBAD5251DE3027CEF8075A7E495E8975FC4.png" title="点击放大" width="389.908"></span></p> </td> </tr>  </tbody></table></div> </div> <ul><li>在sm断点下，设置弹窗尺寸为328px*344px。<div class="screenLinkPre"><div _ngcontent-hrv-c106="" class="highlight-div"><div _ngcontent-hrv-c106="" class="highlight-div-header"><div _ngcontent-hrv-c106="" class="highlight-div-header-left"><div _ngcontent-hrv-c106="" class="handle-button expand-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hrv-c106="" class="highlight-div-header-right"><div _ngcontent-hrv-c106="" class="handle-button ai-button"></div><div _ngcontent-hrv-c106="" class="handle-button line-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hrv-c106="" class="handle-button theme-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hrv-c106="" class="handle-button copy-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hrv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/MultiWeb/blob/master/WebProject/src/components/CustomDialog/index.css#L58-L63" data-highlighted="yes"><ol class="linenums"><li>@<span class="hljs-title function_">media</span> (<span class="hljs-number">320</span><span class="hljs-variable">px</span>&lt;=<span class="hljs-title class_">width</span>&lt;<span class="hljs-number">600</span><span class="hljs-title class_">px</span>) {</li><li>  .<span class="hljs-title class_">custom</span>-<span class="hljs-title class_">dialog</span> {</li><li>    <span class="hljs-variable">width</span>: <span class="hljs-number">328</span><span class="hljs-title class_">px</span>;</li><li>    <span class="hljs-variable">height</span>: <span class="hljs-number">344</span><span class="hljs-title class_">px</span>;</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/MultiWeb/blob/master/WebProject/src/components/CustomDialog/index.css#L58-L63" target="_blank">index.css</a></div></div></div></div> </li><li>在md断点下，设置弹窗尺寸为360px*378px。<div class="screenLinkPre"><div _ngcontent-hrv-c106="" class="highlight-div"><div _ngcontent-hrv-c106="" class="highlight-div-header"><div _ngcontent-hrv-c106="" class="highlight-div-header-left"><div _ngcontent-hrv-c106="" class="handle-button expand-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hrv-c106="" class="highlight-div-header-right"><div _ngcontent-hrv-c106="" class="handle-button ai-button"></div><div _ngcontent-hrv-c106="" class="handle-button line-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hrv-c106="" class="handle-button theme-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hrv-c106="" class="handle-button copy-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hrv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/MultiWeb/blob/master/WebProject/src/components/CustomDialog/index.css#L66-L71" data-highlighted="yes"><ol class="linenums"><li>@<span class="hljs-title function_">media</span> (<span class="hljs-number">600</span><span class="hljs-variable">px</span>&lt;=<span class="hljs-title class_">width</span>&lt;<span class="hljs-number">800</span><span class="hljs-title class_">px</span>) {</li><li>  .<span class="hljs-title class_">custom</span>-<span class="hljs-title class_">dialog</span> {</li><li>    <span class="hljs-variable">width</span>: <span class="hljs-number">360</span><span class="hljs-title class_">px</span>;</li><li>    <span class="hljs-variable">height</span>: <span class="hljs-number">378</span><span class="hljs-title class_">px</span>;</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/MultiWeb/blob/master/WebProject/src/components/CustomDialog/index.css#L66-L71" target="_blank">index.css</a></div></div></div></div> </li><li>在lg断点下，设置弹窗尺寸为393px*412px。<div class="screenLinkPre"><div _ngcontent-hrv-c106="" class="highlight-div"><div _ngcontent-hrv-c106="" class="highlight-div-header"><div _ngcontent-hrv-c106="" class="highlight-div-header-left"><div _ngcontent-hrv-c106="" class="handle-button expand-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hrv-c106="" class="highlight-div-header-right"><div _ngcontent-hrv-c106="" class="handle-button ai-button"></div><div _ngcontent-hrv-c106="" class="handle-button line-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hrv-c106="" class="handle-button theme-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hrv-c106="" class="handle-button copy-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hrv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-css" codehub="https://gitee.com/harmonyos_samples/MultiWeb/blob/master/WebProject/src/components/CustomDialog/index.css#L74-L79" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">@media</span> (<span class="hljs-number">800px</span>&lt;=<span class="hljs-attribute">width</span>) {</li><li>  <span class="hljs-selector-class">.custom-dialog</span> {</li><li>    <span class="hljs-attribute">width</span>: <span class="hljs-number">393px</span>;</li><li>    <span class="hljs-attribute">height</span>: <span class="hljs-number">412px</span>;</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/MultiWeb/blob/master/WebProject/src/components/CustomDialog/index.css#L74-L79" target="_blank">index.css</a></div></div></div></div> </li></ul> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>需要注意的是，不仅需要对弹窗的尺寸进行响应式适配，还需要对弹窗的内容进行响应式适配。由于弹窗内容高度定制，难以提供统一的适配方式，因此需要开发者根据弹窗内容采用合适的适配方案自行适配。</p> </div></div></div> <div class="tiledSection"><h3 id="section1955733061915">轮播布局<i class="anchor-icon anchor-icon-link" anchorid="section1955733061915" tips="复制节点链接"></i></h3><p>轮播布局，即轮播图，提供了多张图片轮流播放的功能。虽然原生Web未提供直接实现轮播图的组件，但可以通过一些技巧或复用第三方组件库来实现轮播图的效果。轮播布局的一多适配关键点如下：</p> <ul><li>控制轮播元素的尺寸：使用媒体查询和断点，或窗口事件，设置每个断点下的轮播图尺寸样式。</li><li>控制轮播元素的间距：根据轮播元素的排列方式选择合适的方法。使用flex布局时，推荐使用gap属性定义元素间距；其他情况下，使用margin属性控制间距。</li><li>控制每次轮播的位移距离：根据轮播的实现方案选择。如果使用translateX()，需控制每次增加的步长；如果使用绝对定位，需根据对应的位移属性进行控制。</li></ul> <p>此处只提供如下常见的轮播图一多效果并以react语言为例进行实现。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><caption><b>表3 </b>轮播布局效果图</caption><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.19.5.2.5.1.1" valign="top" width="7.630000000000001%"><p>断点</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.5.2.5.1.2" valign="top" width="20.16%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.5.2.5.1.3" valign="top" width="27.37%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.5.2.5.1.4" valign="top" width="44.84%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="7.630000000000001%"><p>效果图</p> </td> <td class="cellrowborder" valign="top" width="20.16%"><p><span><img height="335.24816640000006" originheight="1607" originwidth="774" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163150.70560694545306120445205769356024:50001231000000:2800:9A84854DBA3A9436DFAFDA3C295D0C8E070949E2D745FE2F4A9DAD0A71F8D5E1.png" title="点击放大" width="161.472"></span></p> </td> <td class="cellrowborder" valign="top" width="27.37%"><p><span><img height="253.40663844444444" originheight="639" originwidth="574" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163150.31395006487802708620942428214382:50001231000000:2800:F0648745A3E3ECDE0BA3957012DF162BD2436319C9B2FCD91441AD151B2BA3E0.png" title="点击放大" width="227.804"></span></p> </td> <td class="cellrowborder" valign="top" width="44.84%"><p><span><img height="263.8882176000001" originheight="559" originwidth="823" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163150.16459497950308010858174369690055:50001231000000:2800:C3FAA10D175DC781D0E0D56C9BBD0E68401FCEAF891617E6B7B66F01D17F01A4.png" title="点击放大" width="388.528"></span></p> </td> </tr>  </tbody></table></div> </div> <div class="screenLinkPre"><div _ngcontent-hrv-c106="" class="highlight-div"><div _ngcontent-hrv-c106="" class="highlight-div-header"><div _ngcontent-hrv-c106="" class="highlight-div-header-left"><div _ngcontent-hrv-c106="" class="handle-button expand-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hrv-c106="" class="highlight-div-header-right"><div _ngcontent-hrv-c106="" class="handle-button ai-button"></div><div _ngcontent-hrv-c106="" class="handle-button line-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hrv-c106="" class="handle-button theme-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hrv-c106="" class="handle-button copy-button"><div _ngcontent-hrv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hrv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" codehub="https://gitee.com/harmonyos_samples/MultiWeb/blob/master/WebProject/src/components/Banner/index.tsx#L19-L130" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">Banner</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-keyword">const</span> banner = [</li><li>    { <span class="hljs-attr">id</span>: <span class="hljs-string">"001"</span>, <span class="hljs-attr">url</span>: <span class="hljs-string">"assets/banner01.png"</span> },</li><li>    { <span class="hljs-attr">id</span>: <span class="hljs-string">"002"</span>, <span class="hljs-attr">url</span>: <span class="hljs-string">"assets/banner02.png"</span> },</li><li>    { <span class="hljs-attr">id</span>: <span class="hljs-string">"003"</span>, <span class="hljs-attr">url</span>: <span class="hljs-string">"assets/banner03.png"</span> },</li><li>    { <span class="hljs-attr">id</span>: <span class="hljs-string">"004"</span>, <span class="hljs-attr">url</span>: <span class="hljs-string">"assets/banner04.png"</span> },</li><li>  ];</li><li>
</li><li>  <span class="hljs-keyword">const</span> [currentIndex, setCurrentIndex] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">1</span>);</li><li>  <span class="hljs-keyword">const</span> [currentDot, setCurrentDot] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);</li><li>  <span class="hljs-keyword">const</span> [width, setWidth] = useState&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-number">0</span>);</li><li>  <span class="hljs-keyword">const</span> [singleOffset, setSingleOffset] = useState&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-number">0</span>);</li><li>  <span class="hljs-keyword">const</span> [initOffset, setInitOffset] = useState&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-number">0</span>);</li><li>  <span class="hljs-keyword">const</span> [gap, setGap] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">16</span>);</li><li>  <span class="hljs-keyword">const</span> [animate, setAnimate] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">"transform 0.5s ease"</span>);</li><li>  <span class="hljs-keyword">const</span> [dotVisible, setDotVisible] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);</li><li>  <span class="hljs-keyword">const</span> wrapperRef = useRef&lt;<span class="hljs-title class_">HTMLDivElement</span>&gt;(<span class="hljs-literal">null</span>);</li><li>  <span class="hljs-keyword">const</span> totalItems = banner.<span class="hljs-property">length</span>;</li><li>
</li><li>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-title function_">updateLayout</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>      <span class="hljs-keyword">const</span> winWidth = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>;</li><li>      <span class="hljs-keyword">if</span> (winWidth &lt; <span class="hljs-number">600</span>) {</li><li>        <span class="hljs-title function_">setGap</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// set the distance between elements under the sm breakpoint.</span></li><li>        <span class="hljs-title function_">setWidth</span>(winWidth - <span class="hljs-number">32</span>); <span class="hljs-comment">// set the element width under the sm breakpoint.</span></li><li>        <span class="hljs-title function_">setSingleOffset</span>(winWidth - <span class="hljs-number">32</span>); <span class="hljs-comment">// set the single displacement under the sm breakpoint.</span></li><li>        <span class="hljs-title function_">setInitOffset</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// set the initial offset under the sm breakpoint.</span></li><li>        <span class="hljs-title function_">setDotVisible</span>(<span class="hljs-literal">true</span>);</li><li>      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (winWidth &lt; <span class="hljs-number">840</span>) {</li><li>        <span class="hljs-title function_">setGap</span>(<span class="hljs-number">12</span>); <span class="hljs-comment">// set the distance between elements under the md breakpoint.</span></li><li>        <span class="hljs-title function_">setWidth</span>((winWidth - <span class="hljs-number">48</span> - gap) / <span class="hljs-number">2</span>); <span class="hljs-comment">// set the element width under the md breakpoint.</span></li><li>        <span class="hljs-title function_">setSingleOffset</span>(width + gap); <span class="hljs-comment">// set the single displacement under the md breakpoint.</span></li><li>        <span class="hljs-title function_">setInitOffset</span>(<span class="hljs-number">24</span>); <span class="hljs-comment">// set the initial offset under the md breakpoint.</span></li><li>        <span class="hljs-title function_">setDotVisible</span>(<span class="hljs-literal">false</span>);</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-title function_">setGap</span>(<span class="hljs-number">16</span>); <span class="hljs-comment">// set the distance between elements under the lg breakpoint.</span></li><li>        <span class="hljs-title function_">setWidth</span>((winWidth - <span class="hljs-number">250</span> - gap) / <span class="hljs-number">2</span>); <span class="hljs-comment">// set the element width under the lg breakpoint.</span></li><li>        <span class="hljs-title function_">setSingleOffset</span>(width + gap); <span class="hljs-comment">// set the single displacement under the lg breakpoint.</span></li><li>        <span class="hljs-title function_">setInitOffset</span>(<span class="hljs-number">125</span>); <span class="hljs-comment">// set the initial offset under the lg breakpoint.</span></li><li>        <span class="hljs-title function_">setDotVisible</span>(<span class="hljs-literal">false</span>);</li><li>      }</li><li>    };</li><li>
</li><li>    <span class="hljs-title function_">updateLayout</span>();</li><li>    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"resize"</span>, updateLayout);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">"resize"</span>, updateLayout);</li><li>  }, [gap, width]);</li><li>
</li><li>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-keyword">const</span> interval = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-title function_">setCurrentIndex</span>(<span class="hljs-function">(<span class="hljs-params">prev</span>) =&gt;</span> prev + <span class="hljs-number">1</span>);</li><li>      <span class="hljs-title function_">setCurrentDot</span>(<span class="hljs-function">(<span class="hljs-params">p</span>) =&gt;</span> (p + <span class="hljs-number">1</span>) % banner.<span class="hljs-property">length</span>);</li><li>    }, <span class="hljs-number">3000</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">clearInterval</span>(interval);</li><li>  });</li><li>
</li><li>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (currentIndex === totalItems + <span class="hljs-number">1</span>) {</li><li>      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-title function_">setAnimate</span>(<span class="hljs-string">"none"</span>);</li><li>        <span class="hljs-title function_">setCurrentIndex</span>(<span class="hljs-number">1</span>);</li><li>        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-title function_">setAnimate</span>(<span class="hljs-string">"transform 0.5s ease"</span>);</li><li>        }, <span class="hljs-number">50</span>);</li><li>      }, <span class="hljs-number">550</span>);</li><li>    }</li><li>  }, [currentIndex, totalItems]);</li><li>
</li><li>  <span class="hljs-keyword">return</span> (</li><li>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"banner-container"</span>&gt;</span></span></li><li><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span></span></span></li><li><span class="language-xml">        <span class="hljs-attr">className</span>=<span class="hljs-string">"banner-wrapper"</span></span></li><li><span class="language-xml">        <span class="hljs-attr">ref</span>=<span class="hljs-string">{wrapperRef}</span></span></li><li><span class="language-xml">        <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span></span></li><li><span class="language-xml">          <span class="hljs-attr">transform:</span> `<span class="hljs-attr">translateX</span>(<span class="hljs-attr">-</span>${</span></li><li><span class="language-xml">            <span class="hljs-attr">currentIndex</span> * <span class="hljs-attr">singleOffset</span> <span class="hljs-attr">-</span> <span class="hljs-attr">initOffset</span></span></li><li><span class="language-xml">          }<span class="hljs-attr">px</span>)`,</span></li><li><span class="language-xml">          <span class="hljs-attr">transition:</span> <span class="hljs-attr">animate</span>,</span></li><li><span class="language-xml">          <span class="hljs-attr">gap:</span> `${<span class="hljs-attr">gap</span>}<span class="hljs-attr">px</span>`,</span></li><li><span class="language-xml">        }}</span></li><li><span class="language-xml">      &gt;</span></li><li><span class="language-xml">        {[banner[banner.length - 1], ...banner, ...banner].map(</span></li><li><span class="language-xml">          (item, index) =&gt; (</span></li><li><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">div</span></span></span></li><li><span class="language-xml">              <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span></span></li><li><span class="language-xml">                <span class="hljs-attr">width</span>,</span></li><li><span class="language-xml">              }}</span></li><li><span class="language-xml">              <span class="hljs-attr">key</span>=<span class="hljs-string">{</span>`${<span class="hljs-attr">item.id</span>}<span class="hljs-attr">-</span>${<span class="hljs-attr">index</span>}`}</span></li><li><span class="language-xml">              <span class="hljs-attr">className</span>=<span class="hljs-string">"banner-item"</span></span></li><li><span class="language-xml">            &gt;</span></li><li><span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{item.url}</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">banner-</span>${<span class="hljs-attr">item.id</span>}`} /&gt;</span></span></li><li><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></li><li><span class="language-xml">          )</span></li><li><span class="language-xml">        )}</span></li><li><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></li><li><span class="language-xml">      {dotVisible ? (</span></li><li><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"swiper-dot"</span>&gt;</span></span></li><li><span class="language-xml">          {banner.map((item, index) =&gt; (</span></li><li><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">div</span></span></span></li><li><span class="language-xml">              <span class="hljs-attr">key</span>=<span class="hljs-string">{item.id}</span></span></li><li><span class="language-xml">              <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">dot</span>${<span class="hljs-attr">currentDot</span> === <span class="hljs-string">index</span> ? " <span class="hljs-attr">dot-active</span>" <span class="hljs-attr">:</span> ""}`}</span></li><li><span class="language-xml">            &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li><span class="language-xml">          ))}</span></li><li><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></li><li><span class="language-xml">      ) : (</span></li><li><span class="language-xml">        <span class="hljs-tag">&lt;&gt;</span><span class="hljs-tag">&lt;/&gt;</span></span></li><li>      )}</li><li>    &lt;/div&gt;</li><li>  );</li><li>};</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Banner</span>;</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/MultiWeb/blob/master/WebProject/src/components/Banner/index.tsx#L19-L130" target="_blank">index.tsx</a></div></div></div></div> </div> <div class="tiledSection"><h2 id="section24551616910">示例代码<i class="anchor-icon anchor-icon-link" anchorid="section24551616910" tips="复制节点链接"></i></h2><ul><li><a href="https://gitee.com/harmonyos_samples/MultiWeb" target="_blank">基于Web响应式能力实现一多布局</a></li></ul> </div> </div> <div></div></div>