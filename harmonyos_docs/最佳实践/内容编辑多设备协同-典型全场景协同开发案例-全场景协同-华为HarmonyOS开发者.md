<h1 _ngcontent-ruo-c119="" class="doc-title ng-star-inserted" title="内容编辑多设备协同"> 内容编辑多设备协同 </h1>

<div _ngcontent-ruo-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="section1218173022815">概述<i class="anchor-icon anchor-icon-link" anchorid="section1218173022815" tips="复制节点链接"></i></h2>          <p>在办公、创作和社区交友等应用中，内容发布是用户互动与交流的核心，它允许用户创作并分享包含图片、文字等多媒体信息，从而增强用户间的连接与互动。随着手机、平板、PC/2in1等多设备的普及，用户对在不同设备间无缝切换、跨设备处理图片和文字及接续编辑内容的需求日益增长。本文介绍如何通过应用接续功能（实现不同设备间的快速切换）和跨设备互通功能，提升内容发布的便利性。</p>     <p>本文主要包含以下几个方面内容：</p>     <ul>      <li><a href="/consumer/cn/doc/best-practices/bpta-continue#section81333710289">跨设备互通</a>：基于分布式协同框架，面向跨设备拍照等业务场景，提供<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/servicecollaboration-collaborationservice#section1633482912443" target="_blank">createCollaborationServiceMenuItems()</a>（相机设备列表组件）和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/servicecollaboration-collaborationservice#section158671330145417" target="_blank">CollaborationServiceStateDialog()</a>（远端相机状态弹窗组件）两个组件。应用只需要调用这两个组件，即可实现跨设备调用相机、拍照、扫描及访问图库的功能。</li>      <li><a href="/consumer/cn/doc/best-practices/bpta-continue#section103557271407">跨设备拖拽图片/文字</a>：支持跨设备拖拽场景，系统自动完成键鼠穿越和跨设备的数据传递，应用可根据实际需求，使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-drag-drop" target="_blank">拖拽控制</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-events-drag-drop" target="_blank">拖拽事件</a>能力，实现在平板或PC/2in1类型的任意两台设备间拖拽文件和文本的功能。</li>      <li><a href="/consumer/cn/doc/best-practices/bpta-continue#section1838716271127">跨设备剪贴图片/文字</a>：基于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-pasteboard" target="_blank">剪贴板</a>能力，支持系统复制、粘贴功能，实现本地剪贴板和跨设备剪贴板的业务场景。本地剪贴板提供设备内的内容复制粘贴，跨设备剪贴板提供跨设备的内容复制粘贴。</li>      <li><a href="/consumer/cn/doc/best-practices/bpta-continue#section181890343316">跨设备应用接续</a>：基于UIAbility应用组件，通过在本端使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability#oncontinue" target="_blank">onContinue()</a>接口保存迁移数据，在目的端使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability#oncreate" target="_blank">onCreate()</a>或<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability#onnewwant" target="_blank">onNewWant()</a>接口恢复迁移数据，实现应用接续的场景。即当用户在一个设备上操作某个应用时，可以在另一个设备的同一个应用中快速切换，并无缝衔接上一个设备的应用体验。</li>     </ul>    </div>    <div class="tiledSection">     <h2 id="section1964252074114">用户体验<i class="anchor-icon anchor-icon-link" anchorid="section1964252074114" tips="复制节点链接"></i></h2>          <p>      </p><div class="video-box" style="width: 920px; height: 517.5px;"><div id="wise_player_0" videodata="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163246.65609629415394303458008776005668:50001231000000:2800:9F1828C0605C8979015288B8D0455A3A17B21DF57F988F1536E85A5C4336DD7B.mp4" preload="none" class="edui-upload-video vjs-fluid vjs-default-skin video-js vjs-paused vjs_video_3-dimensions vjs-controls-enabled vjs-workinghover vjs-v7 vjs-user-active wise_player_0-dimensions vjs-v8" tabindex="-1" role="region" lang="cn" translate="no" aria-label="Video Player"><video class="vjs-tech" preload="none" videodata="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163246.65609629415394303458008776005668:50001231000000:2800:9F1828C0605C8979015288B8D0455A3A17B21DF57F988F1536E85A5C4336DD7B.mp4" id="wise_player_0_html5_api" tabindex="-1" role="application" loop="" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163246.65609629415394303458008776005668:50001231000000:2800:9F1828C0605C8979015288B8D0455A3A17B21DF57F988F1536E85A5C4336DD7B.mp4"></video><div class="vjs-poster vjs-hidden" aria-disabled="false"></div><div class="vjs-title-bar vjs-hidden"><div class="vjs-title-bar-title" id="vjs-title-bar-title-1144"></div><div class="vjs-title-bar-description" id="vjs-title-bar-description-1145"></div></div><div class="vjs-text-track-display" translate="yes" aria-live="off" aria-atomic="true"><div style="position: absolute; inset: 0px; margin: 1.5%;"></div></div><div class="vjs-loading-spinner" dir="ltr"><span class="vjs-control-text">Video Player is loading.</span></div><button class="vjs-big-play-button" type="button" title="Play Video" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Play Video</span></button><div class="vjs-control-bar" dir="ltr"><button class="vjs-play-control vjs-control vjs-button" type="button" title="Play" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Play</span></button><div class="vjs-current-time vjs-time-control vjs-control"><span class="vjs-control-text" role="presentation">Current Time&nbsp;</span><span class="vjs-current-time-display" role="presentation">0:00</span></div><div class="vjs-progress-control vjs-control"><div tabindex="0" class="vjs-progress-holder vjs-slider vjs-slider-horizontal" role="slider" aria-valuenow="0.00" aria-valuemin="0" aria-valuemax="100" aria-label="Progress Bar" aria-valuetext="0:00 of 1:04"><div class="vjs-load-progress" style="width: 3.61%;"><span class="vjs-control-text"><span>Loaded</span>: <span class="vjs-control-text-loaded-percentage">3.61%</span></span><div data-start="0" data-end="2.315" style="left: 0%; width: 100%;"></div></div><div class="vjs-mouse-display"><div class="vjs-time-tooltip" aria-hidden="true"></div></div><div class="vjs-play-progress vjs-slider-bar" aria-hidden="true" style="width: 0%;"><div class="vjs-time-tooltip" aria-hidden="true" style="right: 0px;">0:00</div></div></div></div><div class="vjs-duration vjs-time-control vjs-control"><span class="vjs-control-text" role="presentation">Duration&nbsp;</span><span class="vjs-duration-display" role="presentation">1:04</span></div><div class="vjs-volume-panel vjs-control vjs-volume-panel-vertical"><button class="vjs-mute-control vjs-control vjs-button vjs-vol-3" type="button" title="Mute" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Mute</span></button><div class="vjs-volume-control vjs-control vjs-volume-vertical"><div tabindex="0" class="vjs-volume-bar vjs-slider-bar vjs-slider vjs-slider-vertical" role="slider" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" aria-label="Volume Level" aria-live="polite" aria-valuetext="100%"><div class="vjs-mouse-display"><div class="vjs-volume-tooltip" aria-hidden="true"></div></div><div class="vjs-volume-level"><span class="vjs-control-text"></span></div></div></div></div><div class="vjs-playback-rate vjs-menu-button vjs-menu-button-popup vjs-control vjs-button"><div class="vjs-playback-rate-value" id="vjs-playback-rate-value-label-wise_player_0_component_1329">1x</div><button class="vjs-playback-rate vjs-menu-button vjs-menu-button-popup vjs-button" type="button" aria-disabled="false" title="Playback Rate" aria-haspopup="true" aria-expanded="false" aria-describedby="vjs-playback-rate-value-label-wise_player_0_component_1329"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Playback Rate</span></button><div class="vjs-menu"><ul class="vjs-menu-content" role="menu"><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">2x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.8x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.5x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.2x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item vjs-selected" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="true"><span class="vjs-menu-item-text">1x</span><span class="vjs-control-text" aria-live="polite">, selected</span></li></ul></div></div><button class="vjs-fullscreen-control vjs-control vjs-button" type="button" title="Fullscreen" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Fullscreen</span></button></div><div class="vjs-error-display vjs-modal-dialog vjs-hidden " tabindex="-1" aria-describedby="wise_player_0_component_1436_description" aria-hidden="true" aria-label="Modal Window" role="dialog" aria-live="polite"><p class="vjs-modal-dialog-description vjs-control-text" id="wise_player_0_component_1436_description">This is a modal window.</p><div class="vjs-modal-dialog-content" role="document"></div></div><div class="vjs-modal-dialog vjs-hidden  vjs-text-track-settings" tabindex="-1" aria-describedby="wise_player_0_component_1442_description" aria-hidden="true" aria-label="Caption Settings Dialog" role="dialog" aria-live="polite"><p class="vjs-modal-dialog-description vjs-control-text" id="wise_player_0_component_1442_description">Beginning of dialog window. Escape will cancel and close the window.</p><div class="vjs-modal-dialog-content" role="document"><div class="vjs-track-settings-colors"><fieldset class="vjs-fg vjs-track-setting"><legend id="captions-text-legend-wise_player_0_component_1442">Text</legend><span class="vjs-text-color"><label id="captions-foreground-color-wise_player_0_component_1442" for="vjs_select_1468" class="vjs-label">Color</label><select aria-labelledby="captions-text-legend-wise_player_0_component_1442 captions-foreground-color-wise_player_0_component_1442" id="vjs_select_1468"><option id="captions-foreground-color-wise_player_0_component_1442-White" value="#FFF" aria-labelledby="captions-text-legend-wise_player_0_component_1442 captions-foreground-color-wise_player_0_component_1442 captions-foreground-color-wise_player_0_component_1442-White">White</option><option id="captions-foreground-color-wise_player_0_component_1442-Black" value="#000" aria-labelledby="captions-text-legend-wise_player_0_component_1442 captions-foreground-color-wise_player_0_component_1442 captions-foreground-color-wise_player_0_component_1442-Black">Black</option><option id="captions-foreground-color-wise_player_0_component_1442-Red" value="#F00" aria-labelledby="captions-text-legend-wise_player_0_component_1442 captions-foreground-color-wise_player_0_component_1442 captions-foreground-color-wise_player_0_component_1442-Red">Red</option><option id="captions-foreground-color-wise_player_0_component_1442-Green" value="#0F0" aria-labelledby="captions-text-legend-wise_player_0_component_1442 captions-foreground-color-wise_player_0_component_1442 captions-foreground-color-wise_player_0_component_1442-Green">Green</option><option id="captions-foreground-color-wise_player_0_component_1442-Blue" value="#00F" aria-labelledby="captions-text-legend-wise_player_0_component_1442 captions-foreground-color-wise_player_0_component_1442 captions-foreground-color-wise_player_0_component_1442-Blue">Blue</option><option id="captions-foreground-color-wise_player_0_component_1442-Yellow" value="#FF0" aria-labelledby="captions-text-legend-wise_player_0_component_1442 captions-foreground-color-wise_player_0_component_1442 captions-foreground-color-wise_player_0_component_1442-Yellow">Yellow</option><option id="captions-foreground-color-wise_player_0_component_1442-Magenta" value="#F0F" aria-labelledby="captions-text-legend-wise_player_0_component_1442 captions-foreground-color-wise_player_0_component_1442 captions-foreground-color-wise_player_0_component_1442-Magenta">Magenta</option><option id="captions-foreground-color-wise_player_0_component_1442-Cyan" value="#0FF" aria-labelledby="captions-text-legend-wise_player_0_component_1442 captions-foreground-color-wise_player_0_component_1442 captions-foreground-color-wise_player_0_component_1442-Cyan">Cyan</option></select></span><span class="vjs-text-opacity vjs-opacity"><label id="captions-foreground-opacity-wise_player_0_component_1442" for="vjs_select_1469" class="vjs-label">Opacity</label><select aria-labelledby="captions-text-legend-wise_player_0_component_1442 captions-foreground-opacity-wise_player_0_component_1442" id="vjs_select_1469"><option id="captions-foreground-opacity-wise_player_0_component_1442-Opaque" value="1" aria-labelledby="captions-text-legend-wise_player_0_component_1442 captions-foreground-opacity-wise_player_0_component_1442 captions-foreground-opacity-wise_player_0_component_1442-Opaque">Opaque</option><option id="captions-foreground-opacity-wise_player_0_component_1442-SemiTransparent" value="0.5" aria-labelledby="captions-text-legend-wise_player_0_component_1442 captions-foreground-opacity-wise_player_0_component_1442 captions-foreground-opacity-wise_player_0_component_1442-SemiTransparent">Semi-Transparent</option></select></span></fieldset><fieldset class="vjs-bg vjs-track-setting"><legend id="captions-background-wise_player_0_component_1442">Text Background</legend><span class="vjs-bg-color"><label id="captions-background-color-wise_player_0_component_1442" for="vjs_select_1470" class="vjs-label">Color</label><select aria-labelledby="captions-background-wise_player_0_component_1442 captions-background-color-wise_player_0_component_1442" id="vjs_select_1470"><option id="captions-background-color-wise_player_0_component_1442-Black" value="#000" aria-labelledby="captions-background-wise_player_0_component_1442 captions-background-color-wise_player_0_component_1442 captions-background-color-wise_player_0_component_1442-Black">Black</option><option id="captions-background-color-wise_player_0_component_1442-White" value="#FFF" aria-labelledby="captions-background-wise_player_0_component_1442 captions-background-color-wise_player_0_component_1442 captions-background-color-wise_player_0_component_1442-White">White</option><option id="captions-background-color-wise_player_0_component_1442-Red" value="#F00" aria-labelledby="captions-background-wise_player_0_component_1442 captions-background-color-wise_player_0_component_1442 captions-background-color-wise_player_0_component_1442-Red">Red</option><option id="captions-background-color-wise_player_0_component_1442-Green" value="#0F0" aria-labelledby="captions-background-wise_player_0_component_1442 captions-background-color-wise_player_0_component_1442 captions-background-color-wise_player_0_component_1442-Green">Green</option><option id="captions-background-color-wise_player_0_component_1442-Blue" value="#00F" aria-labelledby="captions-background-wise_player_0_component_1442 captions-background-color-wise_player_0_component_1442 captions-background-color-wise_player_0_component_1442-Blue">Blue</option><option id="captions-background-color-wise_player_0_component_1442-Yellow" value="#FF0" aria-labelledby="captions-background-wise_player_0_component_1442 captions-background-color-wise_player_0_component_1442 captions-background-color-wise_player_0_component_1442-Yellow">Yellow</option><option id="captions-background-color-wise_player_0_component_1442-Magenta" value="#F0F" aria-labelledby="captions-background-wise_player_0_component_1442 captions-background-color-wise_player_0_component_1442 captions-background-color-wise_player_0_component_1442-Magenta">Magenta</option><option id="captions-background-color-wise_player_0_component_1442-Cyan" value="#0FF" aria-labelledby="captions-background-wise_player_0_component_1442 captions-background-color-wise_player_0_component_1442 captions-background-color-wise_player_0_component_1442-Cyan">Cyan</option></select></span><span class="vjs-bg-opacity vjs-opacity"><label id="captions-background-opacity-wise_player_0_component_1442" for="vjs_select_1471" class="vjs-label">Opacity</label><select aria-labelledby="captions-background-wise_player_0_component_1442 captions-background-opacity-wise_player_0_component_1442" id="vjs_select_1471"><option id="captions-background-opacity-wise_player_0_component_1442-Opaque" value="1" aria-labelledby="captions-background-wise_player_0_component_1442 captions-background-opacity-wise_player_0_component_1442 captions-background-opacity-wise_player_0_component_1442-Opaque">Opaque</option><option id="captions-background-opacity-wise_player_0_component_1442-SemiTransparent" value="0.5" aria-labelledby="captions-background-wise_player_0_component_1442 captions-background-opacity-wise_player_0_component_1442 captions-background-opacity-wise_player_0_component_1442-SemiTransparent">Semi-Transparent</option><option id="captions-background-opacity-wise_player_0_component_1442-Transparent" value="0" aria-labelledby="captions-background-wise_player_0_component_1442 captions-background-opacity-wise_player_0_component_1442 captions-background-opacity-wise_player_0_component_1442-Transparent">Transparent</option></select></span></fieldset><fieldset class="vjs-window vjs-track-setting"><legend id="captions-window-wise_player_0_component_1442">Caption Area Background</legend><span class="vjs-window-color"><label id="captions-window-color-wise_player_0_component_1442" for="vjs_select_1472" class="vjs-label">Color</label><select aria-labelledby="captions-window-wise_player_0_component_1442 captions-window-color-wise_player_0_component_1442" id="vjs_select_1472"><option id="captions-window-color-wise_player_0_component_1442-Black" value="#000" aria-labelledby="captions-window-wise_player_0_component_1442 captions-window-color-wise_player_0_component_1442 captions-window-color-wise_player_0_component_1442-Black">Black</option><option id="captions-window-color-wise_player_0_component_1442-White" value="#FFF" aria-labelledby="captions-window-wise_player_0_component_1442 captions-window-color-wise_player_0_component_1442 captions-window-color-wise_player_0_component_1442-White">White</option><option id="captions-window-color-wise_player_0_component_1442-Red" value="#F00" aria-labelledby="captions-window-wise_player_0_component_1442 captions-window-color-wise_player_0_component_1442 captions-window-color-wise_player_0_component_1442-Red">Red</option><option id="captions-window-color-wise_player_0_component_1442-Green" value="#0F0" aria-labelledby="captions-window-wise_player_0_component_1442 captions-window-color-wise_player_0_component_1442 captions-window-color-wise_player_0_component_1442-Green">Green</option><option id="captions-window-color-wise_player_0_component_1442-Blue" value="#00F" aria-labelledby="captions-window-wise_player_0_component_1442 captions-window-color-wise_player_0_component_1442 captions-window-color-wise_player_0_component_1442-Blue">Blue</option><option id="captions-window-color-wise_player_0_component_1442-Yellow" value="#FF0" aria-labelledby="captions-window-wise_player_0_component_1442 captions-window-color-wise_player_0_component_1442 captions-window-color-wise_player_0_component_1442-Yellow">Yellow</option><option id="captions-window-color-wise_player_0_component_1442-Magenta" value="#F0F" aria-labelledby="captions-window-wise_player_0_component_1442 captions-window-color-wise_player_0_component_1442 captions-window-color-wise_player_0_component_1442-Magenta">Magenta</option><option id="captions-window-color-wise_player_0_component_1442-Cyan" value="#0FF" aria-labelledby="captions-window-wise_player_0_component_1442 captions-window-color-wise_player_0_component_1442 captions-window-color-wise_player_0_component_1442-Cyan">Cyan</option></select></span><span class="vjs-window-opacity vjs-opacity"><label id="captions-window-opacity-wise_player_0_component_1442" for="vjs_select_1473" class="vjs-label">Opacity</label><select aria-labelledby="captions-window-wise_player_0_component_1442 captions-window-opacity-wise_player_0_component_1442" id="vjs_select_1473"><option id="captions-window-opacity-wise_player_0_component_1442-Transparent" value="0" aria-labelledby="captions-window-wise_player_0_component_1442 captions-window-opacity-wise_player_0_component_1442 captions-window-opacity-wise_player_0_component_1442-Transparent">Transparent</option><option id="captions-window-opacity-wise_player_0_component_1442-SemiTransparent" value="0.5" aria-labelledby="captions-window-wise_player_0_component_1442 captions-window-opacity-wise_player_0_component_1442 captions-window-opacity-wise_player_0_component_1442-SemiTransparent">Semi-Transparent</option><option id="captions-window-opacity-wise_player_0_component_1442-Opaque" value="1" aria-labelledby="captions-window-wise_player_0_component_1442 captions-window-opacity-wise_player_0_component_1442 captions-window-opacity-wise_player_0_component_1442-Opaque">Opaque</option></select></span></fieldset></div><div class="vjs-track-settings-font"><fieldset class="vjs-font-percent vjs-track-setting"><legend id="captions-font-size-wise_player_0_component_1442">Font Size</legend><select aria-labelledby="captions-font-size-wise_player_0_component_1442" id="vjs_select_1474"><option id="captions-font-size-wise_player_0_component_1442-50" value="0.50" aria-labelledby="captions-font-size-wise_player_0_component_1442 captions-font-size-wise_player_0_component_1442-50">50%</option><option id="captions-font-size-wise_player_0_component_1442-75" value="0.75" aria-labelledby="captions-font-size-wise_player_0_component_1442 captions-font-size-wise_player_0_component_1442-75">75%</option><option id="captions-font-size-wise_player_0_component_1442-100" value="1.00" aria-labelledby="captions-font-size-wise_player_0_component_1442 captions-font-size-wise_player_0_component_1442-100">100%</option><option id="captions-font-size-wise_player_0_component_1442-125" value="1.25" aria-labelledby="captions-font-size-wise_player_0_component_1442 captions-font-size-wise_player_0_component_1442-125">125%</option><option id="captions-font-size-wise_player_0_component_1442-150" value="1.50" aria-labelledby="captions-font-size-wise_player_0_component_1442 captions-font-size-wise_player_0_component_1442-150">150%</option><option id="captions-font-size-wise_player_0_component_1442-175" value="1.75" aria-labelledby="captions-font-size-wise_player_0_component_1442 captions-font-size-wise_player_0_component_1442-175">175%</option><option id="captions-font-size-wise_player_0_component_1442-200" value="2.00" aria-labelledby="captions-font-size-wise_player_0_component_1442 captions-font-size-wise_player_0_component_1442-200">200%</option><option id="captions-font-size-wise_player_0_component_1442-300" value="3.00" aria-labelledby="captions-font-size-wise_player_0_component_1442 captions-font-size-wise_player_0_component_1442-300">300%</option><option id="captions-font-size-wise_player_0_component_1442-400" value="4.00" aria-labelledby="captions-font-size-wise_player_0_component_1442 captions-font-size-wise_player_0_component_1442-400">400%</option></select></fieldset><fieldset class="vjs-edge-style vjs-track-setting"><legend id="wise_player_0_component_1442">Text Edge Style</legend><select aria-labelledby="wise_player_0_component_1442" id="vjs_select_1475"><option id="wise_player_0_component_1442-None" value="none" aria-labelledby="wise_player_0_component_1442 wise_player_0_component_1442-None">None</option><option id="wise_player_0_component_1442-Raised" value="raised" aria-labelledby="wise_player_0_component_1442 wise_player_0_component_1442-Raised">Raised</option><option id="wise_player_0_component_1442-Depressed" value="depressed" aria-labelledby="wise_player_0_component_1442 wise_player_0_component_1442-Depressed">Depressed</option><option id="wise_player_0_component_1442-Uniform" value="uniform" aria-labelledby="wise_player_0_component_1442 wise_player_0_component_1442-Uniform">Uniform</option><option id="wise_player_0_component_1442-Dropshadow" value="dropshadow" aria-labelledby="wise_player_0_component_1442 wise_player_0_component_1442-Dropshadow">Drop shadow</option></select></fieldset><fieldset class="vjs-font-family vjs-track-setting"><legend id="captions-font-family-wise_player_0_component_1442">Font Family</legend><select aria-labelledby="captions-font-family-wise_player_0_component_1442" id="vjs_select_1476"><option id="captions-font-family-wise_player_0_component_1442-ProportionalSansSerif" value="proportionalSansSerif" aria-labelledby="captions-font-family-wise_player_0_component_1442 captions-font-family-wise_player_0_component_1442-ProportionalSansSerif">Proportional Sans-Serif</option><option id="captions-font-family-wise_player_0_component_1442-MonospaceSansSerif" value="monospaceSansSerif" aria-labelledby="captions-font-family-wise_player_0_component_1442 captions-font-family-wise_player_0_component_1442-MonospaceSansSerif">Monospace Sans-Serif</option><option id="captions-font-family-wise_player_0_component_1442-ProportionalSerif" value="proportionalSerif" aria-labelledby="captions-font-family-wise_player_0_component_1442 captions-font-family-wise_player_0_component_1442-ProportionalSerif">Proportional Serif</option><option id="captions-font-family-wise_player_0_component_1442-MonospaceSerif" value="monospaceSerif" aria-labelledby="captions-font-family-wise_player_0_component_1442 captions-font-family-wise_player_0_component_1442-MonospaceSerif">Monospace Serif</option><option id="captions-font-family-wise_player_0_component_1442-Casual" value="casual" aria-labelledby="captions-font-family-wise_player_0_component_1442 captions-font-family-wise_player_0_component_1442-Casual">Casual</option><option id="captions-font-family-wise_player_0_component_1442-Script" value="script" aria-labelledby="captions-font-family-wise_player_0_component_1442 captions-font-family-wise_player_0_component_1442-Script">Script</option><option id="captions-font-family-wise_player_0_component_1442-SmallCaps" value="small-caps" aria-labelledby="captions-font-family-wise_player_0_component_1442 captions-font-family-wise_player_0_component_1442-SmallCaps">Small Caps</option></select></fieldset></div><div class="vjs-track-settings-controls"><button type="button" class="vjs-default-button" title="restore all settings to the default values">Reset<span class="vjs-control-text"> restore all settings to the default values</span></button><button type="button" class="vjs-done-button">Done</button></div></div><button class="vjs-close-button vjs-control vjs-button" type="button" title="Close Modal Dialog" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Close Modal Dialog</span></button><p class="vjs-control-text">End of dialog window.</p></div><div wiseplayerindex="0" class="wiseplayershaw"></div></div></div><p></p>    </div>    <div class="tiledSection">     <h3 id="section1948183415619" class="firsth2">使用限制<i class="anchor-icon anchor-icon-link" anchorid="section1948183415619" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.6.1.1" valign="top" width="22.189999999999998%">          <p>限制\场景</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.6.1.2" valign="top" width="24.41%">          <p>跨设备互通</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.6.1.3" valign="top" width="16.900000000000002%">          <p>跨设备拖拽</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.6.1.4" valign="top" width="17.18%">          <p>跨设备剪贴</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.6.1.5" valign="top" width="19.32%">          <p>跨设备应用接续</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="22.189999999999998%">          <p>HarmonyOS NEXT及以上版本的设备</p></td>         <td class="cellrowborder" valign="top" width="24.41%">          <p>√</p></td>         <td class="cellrowborder" valign="top" width="16.900000000000002%">          <p>√</p></td>         <td class="cellrowborder" valign="top" width="17.18%">          <p>√</p></td>         <td class="cellrowborder" valign="top" width="19.32%">          <p>√</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="22.189999999999998%">          <p>登录同一个华为账号</p></td>         <td class="cellrowborder" valign="top" width="24.41%">          <p>√</p></td>         <td class="cellrowborder" valign="top" width="16.900000000000002%">          <p>√</p></td>         <td class="cellrowborder" valign="top" width="17.18%">          <p>√</p></td>         <td class="cellrowborder" valign="top" width="19.32%">          <p>√</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="22.189999999999998%">          <p>打开Wi-Fi和蓝牙开关</p></td>         <td class="cellrowborder" valign="top" width="24.41%">          <p>√</p></td>         <td class="cellrowborder" valign="top" width="16.900000000000002%">          <p>√</p></td>         <td class="cellrowborder" valign="top" width="17.18%">          <p>√</p></td>         <td class="cellrowborder" valign="top" width="19.32%">          <p>√</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="22.189999999999998%">          <p>打开键鼠穿越开关</p></td>         <td class="cellrowborder" valign="top" width="24.41%">          <p>NA</p></td>         <td class="cellrowborder" valign="top" width="16.900000000000002%">          <p>√</p></td>         <td class="cellrowborder" valign="top" width="17.18%">          <p>NA</p></td>         <td class="cellrowborder" valign="top" width="19.32%">          <p>NA</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="22.189999999999998%">          <p>设备需解锁、亮屏</p></td>         <td class="cellrowborder" valign="top" width="24.41%">          <p>NA</p></td>         <td class="cellrowborder" valign="top" width="16.900000000000002%">          <p>NA</p></td>         <td class="cellrowborder" valign="top" width="17.18%">          <p>√</p></td>         <td class="cellrowborder" valign="top" width="19.32%">          <p>NA</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="22.189999999999998%">          <p>非同类型设备操作</p></td>         <td class="cellrowborder" valign="top" width="24.41%">          <p>√（调用策略：PC/2in1设备可以调用平板和手机，平板可以调用手机，不可反向调用）</p></td>         <td class="cellrowborder" valign="top" width="16.900000000000002%">          <p>NA</p></td>         <td class="cellrowborder" valign="top" width="17.18%">          <p>NA</p></td>         <td class="cellrowborder" valign="top" width="19.32%">          <p>NA</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="22.189999999999998%">          <p>只能在同应用（UIAbility）之间触发</p></td>         <td class="cellrowborder" valign="top" width="24.41%">          <p>NA</p></td>         <td class="cellrowborder" valign="top" width="16.900000000000002%">          <p>NA</p></td>         <td class="cellrowborder" valign="top" width="17.18%">          <p>NA</p></td>         <td class="cellrowborder" valign="top" width="19.32%">          <p>√</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="22.189999999999998%">          <p>开启“多设备协同 &gt; 接续”功能</p></td>         <td class="cellrowborder" valign="top" width="24.41%">          <p>NA</p></td>         <td class="cellrowborder" valign="top" width="16.900000000000002%">          <p>NA</p></td>         <td class="cellrowborder" valign="top" width="17.18%">          <p>NA</p></td>         <td class="cellrowborder" valign="top" width="19.32%">          <p>√</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="22.189999999999998%">          <p>应用在安装前的HAP包中已经存在的资源文件不能跨端</p></td>         <td class="cellrowborder" valign="top" width="24.41%">          <p>NA</p></td>         <td class="cellrowborder" valign="top" width="16.900000000000002%">          <p>√</p></td>         <td class="cellrowborder" valign="top" width="17.18%">          <p>NA</p></td>         <td class="cellrowborder" valign="top" width="19.32%">          <p>NA</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section81333710289">跨设备互通<i class="anchor-icon anchor-icon-link" anchorid="section81333710289" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="section2096353116330" class="firsth2">场景描述<i class="anchor-icon anchor-icon-link" anchorid="section2096353116330" tips="复制节点链接"></i></h3>          <p>当用户在平板或PC/2in1设备上使用文本编辑应用（如备忘录、邮件、笔记等）时，若需拍摄照片作为素材，当设备操作不便时，可利用跨设备互通功能解决。用户可在当前设备的应用中选择平板或手机，启动其相机拍摄所需素材，或从图库中选取所需图片。使用手机或平板拍摄具备更高的灵活性和取景便利性，以及更强大的相机功能。所选照片将迅速传输至平板或PC/2in1设备的应用中，助力用户高效完成图文编辑任务。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该功能的使用需满足设备限制和使用限制，具体约束与限制可参考：跨设备互通开发指导中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/servicecollaboration-dev-guides#section17575828642" target="_blank">约束与限制</a>章节。</p>      </div></div></div>    </div>    <p><strong>实现效果</strong></p>    <p>     </p><div class="video-box" style="width: 920px; height: 517.507px;"><div id="wise_player_1" videodata="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163247.96587788176570746169543289192152:50001231000000:2800:E50C33AB4D8B7910F1D5D08CADD765155FA5F5658ACF989C0EB000E7BA8FAF3F.mp4" preload="none" class="edui-upload-video vjs-fluid vjs-default-skin video-js vjs-paused vjs_video_3-dimensions vjs-controls-enabled vjs-workinghover vjs-v7 vjs-user-active wise_player_1-dimensions vjs-v8" tabindex="-1" role="region" lang="cn" translate="no" aria-label="Video Player"><video class="vjs-tech" preload="none" videodata="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163247.96587788176570746169543289192152:50001231000000:2800:E50C33AB4D8B7910F1D5D08CADD765155FA5F5658ACF989C0EB000E7BA8FAF3F.mp4" id="wise_player_1_html5_api" tabindex="-1" role="application" loop="" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163247.96587788176570746169543289192152:50001231000000:2800:E50C33AB4D8B7910F1D5D08CADD765155FA5F5658ACF989C0EB000E7BA8FAF3F.mp4"></video><div class="vjs-poster vjs-hidden" aria-disabled="false"></div><div class="vjs-title-bar vjs-hidden"><div class="vjs-title-bar-title" id="vjs-title-bar-title-1512"></div><div class="vjs-title-bar-description" id="vjs-title-bar-description-1513"></div></div><div class="vjs-text-track-display" translate="yes" aria-live="off" aria-atomic="true"><div style="position: absolute; inset: 0px; margin: 1.5%;"></div></div><div class="vjs-loading-spinner" dir="ltr"><span class="vjs-control-text">Video Player is loading.</span></div><button class="vjs-big-play-button" type="button" title="Play Video" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Play Video</span></button><div class="vjs-control-bar" dir="ltr"><button class="vjs-play-control vjs-control vjs-button" type="button" title="Play" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Play</span></button><div class="vjs-current-time vjs-time-control vjs-control"><span class="vjs-control-text" role="presentation">Current Time&nbsp;</span><span class="vjs-current-time-display" role="presentation">0:00</span></div><div class="vjs-progress-control vjs-control"><div tabindex="0" class="vjs-progress-holder vjs-slider vjs-slider-horizontal" role="slider" aria-valuenow="0.00" aria-valuemin="0" aria-valuemax="100" aria-label="Progress Bar" aria-valuetext="0:00 of 0:21"><div class="vjs-load-progress" style="width: 3.14%;"><span class="vjs-control-text"><span>Loaded</span>: <span class="vjs-control-text-loaded-percentage">3.14%</span></span><div data-start="0" data-end="0.675" style="left: 0%; width: 100%;"></div></div><div class="vjs-mouse-display"><div class="vjs-time-tooltip" aria-hidden="true"></div></div><div class="vjs-play-progress vjs-slider-bar" aria-hidden="true" style="width: 0%;"><div class="vjs-time-tooltip" aria-hidden="true" style="right: 0px;">0:00</div></div></div></div><div class="vjs-duration vjs-time-control vjs-control"><span class="vjs-control-text" role="presentation">Duration&nbsp;</span><span class="vjs-duration-display" role="presentation">0:21</span></div><div class="vjs-volume-panel vjs-control vjs-volume-panel-vertical"><button class="vjs-mute-control vjs-control vjs-button vjs-vol-3" type="button" title="Mute" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Mute</span></button><div class="vjs-volume-control vjs-control vjs-volume-vertical"><div tabindex="0" class="vjs-volume-bar vjs-slider-bar vjs-slider vjs-slider-vertical" role="slider" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" aria-label="Volume Level" aria-live="polite" aria-valuetext="100%"><div class="vjs-mouse-display"><div class="vjs-volume-tooltip" aria-hidden="true"></div></div><div class="vjs-volume-level"><span class="vjs-control-text"></span></div></div></div></div><div class="vjs-playback-rate vjs-menu-button vjs-menu-button-popup vjs-control vjs-button"><div class="vjs-playback-rate-value" id="vjs-playback-rate-value-label-wise_player_1_component_1697">1x</div><button class="vjs-playback-rate vjs-menu-button vjs-menu-button-popup vjs-button" type="button" aria-disabled="false" title="Playback Rate" aria-haspopup="true" aria-expanded="false" aria-describedby="vjs-playback-rate-value-label-wise_player_1_component_1697"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Playback Rate</span></button><div class="vjs-menu"><ul class="vjs-menu-content" role="menu"><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">2x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.8x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.5x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.2x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item vjs-selected" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="true"><span class="vjs-menu-item-text">1x</span><span class="vjs-control-text" aria-live="polite">, selected</span></li></ul></div></div><button class="vjs-fullscreen-control vjs-control vjs-button" type="button" title="Fullscreen" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Fullscreen</span></button></div><div class="vjs-error-display vjs-modal-dialog vjs-hidden " tabindex="-1" aria-describedby="wise_player_1_component_1804_description" aria-hidden="true" aria-label="Modal Window" role="dialog" aria-live="polite"><p class="vjs-modal-dialog-description vjs-control-text" id="wise_player_1_component_1804_description">This is a modal window.</p><div class="vjs-modal-dialog-content" role="document"></div></div><div class="vjs-modal-dialog vjs-hidden  vjs-text-track-settings" tabindex="-1" aria-describedby="wise_player_1_component_1810_description" aria-hidden="true" aria-label="Caption Settings Dialog" role="dialog" aria-live="polite"><p class="vjs-modal-dialog-description vjs-control-text" id="wise_player_1_component_1810_description">Beginning of dialog window. Escape will cancel and close the window.</p><div class="vjs-modal-dialog-content" role="document"><div class="vjs-track-settings-colors"><fieldset class="vjs-fg vjs-track-setting"><legend id="captions-text-legend-wise_player_1_component_1810">Text</legend><span class="vjs-text-color"><label id="captions-foreground-color-wise_player_1_component_1810" for="vjs_select_1836" class="vjs-label">Color</label><select aria-labelledby="captions-text-legend-wise_player_1_component_1810 captions-foreground-color-wise_player_1_component_1810" id="vjs_select_1836"><option id="captions-foreground-color-wise_player_1_component_1810-White" value="#FFF" aria-labelledby="captions-text-legend-wise_player_1_component_1810 captions-foreground-color-wise_player_1_component_1810 captions-foreground-color-wise_player_1_component_1810-White">White</option><option id="captions-foreground-color-wise_player_1_component_1810-Black" value="#000" aria-labelledby="captions-text-legend-wise_player_1_component_1810 captions-foreground-color-wise_player_1_component_1810 captions-foreground-color-wise_player_1_component_1810-Black">Black</option><option id="captions-foreground-color-wise_player_1_component_1810-Red" value="#F00" aria-labelledby="captions-text-legend-wise_player_1_component_1810 captions-foreground-color-wise_player_1_component_1810 captions-foreground-color-wise_player_1_component_1810-Red">Red</option><option id="captions-foreground-color-wise_player_1_component_1810-Green" value="#0F0" aria-labelledby="captions-text-legend-wise_player_1_component_1810 captions-foreground-color-wise_player_1_component_1810 captions-foreground-color-wise_player_1_component_1810-Green">Green</option><option id="captions-foreground-color-wise_player_1_component_1810-Blue" value="#00F" aria-labelledby="captions-text-legend-wise_player_1_component_1810 captions-foreground-color-wise_player_1_component_1810 captions-foreground-color-wise_player_1_component_1810-Blue">Blue</option><option id="captions-foreground-color-wise_player_1_component_1810-Yellow" value="#FF0" aria-labelledby="captions-text-legend-wise_player_1_component_1810 captions-foreground-color-wise_player_1_component_1810 captions-foreground-color-wise_player_1_component_1810-Yellow">Yellow</option><option id="captions-foreground-color-wise_player_1_component_1810-Magenta" value="#F0F" aria-labelledby="captions-text-legend-wise_player_1_component_1810 captions-foreground-color-wise_player_1_component_1810 captions-foreground-color-wise_player_1_component_1810-Magenta">Magenta</option><option id="captions-foreground-color-wise_player_1_component_1810-Cyan" value="#0FF" aria-labelledby="captions-text-legend-wise_player_1_component_1810 captions-foreground-color-wise_player_1_component_1810 captions-foreground-color-wise_player_1_component_1810-Cyan">Cyan</option></select></span><span class="vjs-text-opacity vjs-opacity"><label id="captions-foreground-opacity-wise_player_1_component_1810" for="vjs_select_1837" class="vjs-label">Opacity</label><select aria-labelledby="captions-text-legend-wise_player_1_component_1810 captions-foreground-opacity-wise_player_1_component_1810" id="vjs_select_1837"><option id="captions-foreground-opacity-wise_player_1_component_1810-Opaque" value="1" aria-labelledby="captions-text-legend-wise_player_1_component_1810 captions-foreground-opacity-wise_player_1_component_1810 captions-foreground-opacity-wise_player_1_component_1810-Opaque">Opaque</option><option id="captions-foreground-opacity-wise_player_1_component_1810-SemiTransparent" value="0.5" aria-labelledby="captions-text-legend-wise_player_1_component_1810 captions-foreground-opacity-wise_player_1_component_1810 captions-foreground-opacity-wise_player_1_component_1810-SemiTransparent">Semi-Transparent</option></select></span></fieldset><fieldset class="vjs-bg vjs-track-setting"><legend id="captions-background-wise_player_1_component_1810">Text Background</legend><span class="vjs-bg-color"><label id="captions-background-color-wise_player_1_component_1810" for="vjs_select_1838" class="vjs-label">Color</label><select aria-labelledby="captions-background-wise_player_1_component_1810 captions-background-color-wise_player_1_component_1810" id="vjs_select_1838"><option id="captions-background-color-wise_player_1_component_1810-Black" value="#000" aria-labelledby="captions-background-wise_player_1_component_1810 captions-background-color-wise_player_1_component_1810 captions-background-color-wise_player_1_component_1810-Black">Black</option><option id="captions-background-color-wise_player_1_component_1810-White" value="#FFF" aria-labelledby="captions-background-wise_player_1_component_1810 captions-background-color-wise_player_1_component_1810 captions-background-color-wise_player_1_component_1810-White">White</option><option id="captions-background-color-wise_player_1_component_1810-Red" value="#F00" aria-labelledby="captions-background-wise_player_1_component_1810 captions-background-color-wise_player_1_component_1810 captions-background-color-wise_player_1_component_1810-Red">Red</option><option id="captions-background-color-wise_player_1_component_1810-Green" value="#0F0" aria-labelledby="captions-background-wise_player_1_component_1810 captions-background-color-wise_player_1_component_1810 captions-background-color-wise_player_1_component_1810-Green">Green</option><option id="captions-background-color-wise_player_1_component_1810-Blue" value="#00F" aria-labelledby="captions-background-wise_player_1_component_1810 captions-background-color-wise_player_1_component_1810 captions-background-color-wise_player_1_component_1810-Blue">Blue</option><option id="captions-background-color-wise_player_1_component_1810-Yellow" value="#FF0" aria-labelledby="captions-background-wise_player_1_component_1810 captions-background-color-wise_player_1_component_1810 captions-background-color-wise_player_1_component_1810-Yellow">Yellow</option><option id="captions-background-color-wise_player_1_component_1810-Magenta" value="#F0F" aria-labelledby="captions-background-wise_player_1_component_1810 captions-background-color-wise_player_1_component_1810 captions-background-color-wise_player_1_component_1810-Magenta">Magenta</option><option id="captions-background-color-wise_player_1_component_1810-Cyan" value="#0FF" aria-labelledby="captions-background-wise_player_1_component_1810 captions-background-color-wise_player_1_component_1810 captions-background-color-wise_player_1_component_1810-Cyan">Cyan</option></select></span><span class="vjs-bg-opacity vjs-opacity"><label id="captions-background-opacity-wise_player_1_component_1810" for="vjs_select_1839" class="vjs-label">Opacity</label><select aria-labelledby="captions-background-wise_player_1_component_1810 captions-background-opacity-wise_player_1_component_1810" id="vjs_select_1839"><option id="captions-background-opacity-wise_player_1_component_1810-Opaque" value="1" aria-labelledby="captions-background-wise_player_1_component_1810 captions-background-opacity-wise_player_1_component_1810 captions-background-opacity-wise_player_1_component_1810-Opaque">Opaque</option><option id="captions-background-opacity-wise_player_1_component_1810-SemiTransparent" value="0.5" aria-labelledby="captions-background-wise_player_1_component_1810 captions-background-opacity-wise_player_1_component_1810 captions-background-opacity-wise_player_1_component_1810-SemiTransparent">Semi-Transparent</option><option id="captions-background-opacity-wise_player_1_component_1810-Transparent" value="0" aria-labelledby="captions-background-wise_player_1_component_1810 captions-background-opacity-wise_player_1_component_1810 captions-background-opacity-wise_player_1_component_1810-Transparent">Transparent</option></select></span></fieldset><fieldset class="vjs-window vjs-track-setting"><legend id="captions-window-wise_player_1_component_1810">Caption Area Background</legend><span class="vjs-window-color"><label id="captions-window-color-wise_player_1_component_1810" for="vjs_select_1840" class="vjs-label">Color</label><select aria-labelledby="captions-window-wise_player_1_component_1810 captions-window-color-wise_player_1_component_1810" id="vjs_select_1840"><option id="captions-window-color-wise_player_1_component_1810-Black" value="#000" aria-labelledby="captions-window-wise_player_1_component_1810 captions-window-color-wise_player_1_component_1810 captions-window-color-wise_player_1_component_1810-Black">Black</option><option id="captions-window-color-wise_player_1_component_1810-White" value="#FFF" aria-labelledby="captions-window-wise_player_1_component_1810 captions-window-color-wise_player_1_component_1810 captions-window-color-wise_player_1_component_1810-White">White</option><option id="captions-window-color-wise_player_1_component_1810-Red" value="#F00" aria-labelledby="captions-window-wise_player_1_component_1810 captions-window-color-wise_player_1_component_1810 captions-window-color-wise_player_1_component_1810-Red">Red</option><option id="captions-window-color-wise_player_1_component_1810-Green" value="#0F0" aria-labelledby="captions-window-wise_player_1_component_1810 captions-window-color-wise_player_1_component_1810 captions-window-color-wise_player_1_component_1810-Green">Green</option><option id="captions-window-color-wise_player_1_component_1810-Blue" value="#00F" aria-labelledby="captions-window-wise_player_1_component_1810 captions-window-color-wise_player_1_component_1810 captions-window-color-wise_player_1_component_1810-Blue">Blue</option><option id="captions-window-color-wise_player_1_component_1810-Yellow" value="#FF0" aria-labelledby="captions-window-wise_player_1_component_1810 captions-window-color-wise_player_1_component_1810 captions-window-color-wise_player_1_component_1810-Yellow">Yellow</option><option id="captions-window-color-wise_player_1_component_1810-Magenta" value="#F0F" aria-labelledby="captions-window-wise_player_1_component_1810 captions-window-color-wise_player_1_component_1810 captions-window-color-wise_player_1_component_1810-Magenta">Magenta</option><option id="captions-window-color-wise_player_1_component_1810-Cyan" value="#0FF" aria-labelledby="captions-window-wise_player_1_component_1810 captions-window-color-wise_player_1_component_1810 captions-window-color-wise_player_1_component_1810-Cyan">Cyan</option></select></span><span class="vjs-window-opacity vjs-opacity"><label id="captions-window-opacity-wise_player_1_component_1810" for="vjs_select_1841" class="vjs-label">Opacity</label><select aria-labelledby="captions-window-wise_player_1_component_1810 captions-window-opacity-wise_player_1_component_1810" id="vjs_select_1841"><option id="captions-window-opacity-wise_player_1_component_1810-Transparent" value="0" aria-labelledby="captions-window-wise_player_1_component_1810 captions-window-opacity-wise_player_1_component_1810 captions-window-opacity-wise_player_1_component_1810-Transparent">Transparent</option><option id="captions-window-opacity-wise_player_1_component_1810-SemiTransparent" value="0.5" aria-labelledby="captions-window-wise_player_1_component_1810 captions-window-opacity-wise_player_1_component_1810 captions-window-opacity-wise_player_1_component_1810-SemiTransparent">Semi-Transparent</option><option id="captions-window-opacity-wise_player_1_component_1810-Opaque" value="1" aria-labelledby="captions-window-wise_player_1_component_1810 captions-window-opacity-wise_player_1_component_1810 captions-window-opacity-wise_player_1_component_1810-Opaque">Opaque</option></select></span></fieldset></div><div class="vjs-track-settings-font"><fieldset class="vjs-font-percent vjs-track-setting"><legend id="captions-font-size-wise_player_1_component_1810">Font Size</legend><select aria-labelledby="captions-font-size-wise_player_1_component_1810" id="vjs_select_1842"><option id="captions-font-size-wise_player_1_component_1810-50" value="0.50" aria-labelledby="captions-font-size-wise_player_1_component_1810 captions-font-size-wise_player_1_component_1810-50">50%</option><option id="captions-font-size-wise_player_1_component_1810-75" value="0.75" aria-labelledby="captions-font-size-wise_player_1_component_1810 captions-font-size-wise_player_1_component_1810-75">75%</option><option id="captions-font-size-wise_player_1_component_1810-100" value="1.00" aria-labelledby="captions-font-size-wise_player_1_component_1810 captions-font-size-wise_player_1_component_1810-100">100%</option><option id="captions-font-size-wise_player_1_component_1810-125" value="1.25" aria-labelledby="captions-font-size-wise_player_1_component_1810 captions-font-size-wise_player_1_component_1810-125">125%</option><option id="captions-font-size-wise_player_1_component_1810-150" value="1.50" aria-labelledby="captions-font-size-wise_player_1_component_1810 captions-font-size-wise_player_1_component_1810-150">150%</option><option id="captions-font-size-wise_player_1_component_1810-175" value="1.75" aria-labelledby="captions-font-size-wise_player_1_component_1810 captions-font-size-wise_player_1_component_1810-175">175%</option><option id="captions-font-size-wise_player_1_component_1810-200" value="2.00" aria-labelledby="captions-font-size-wise_player_1_component_1810 captions-font-size-wise_player_1_component_1810-200">200%</option><option id="captions-font-size-wise_player_1_component_1810-300" value="3.00" aria-labelledby="captions-font-size-wise_player_1_component_1810 captions-font-size-wise_player_1_component_1810-300">300%</option><option id="captions-font-size-wise_player_1_component_1810-400" value="4.00" aria-labelledby="captions-font-size-wise_player_1_component_1810 captions-font-size-wise_player_1_component_1810-400">400%</option></select></fieldset><fieldset class="vjs-edge-style vjs-track-setting"><legend id="wise_player_1_component_1810">Text Edge Style</legend><select aria-labelledby="wise_player_1_component_1810" id="vjs_select_1843"><option id="wise_player_1_component_1810-None" value="none" aria-labelledby="wise_player_1_component_1810 wise_player_1_component_1810-None">None</option><option id="wise_player_1_component_1810-Raised" value="raised" aria-labelledby="wise_player_1_component_1810 wise_player_1_component_1810-Raised">Raised</option><option id="wise_player_1_component_1810-Depressed" value="depressed" aria-labelledby="wise_player_1_component_1810 wise_player_1_component_1810-Depressed">Depressed</option><option id="wise_player_1_component_1810-Uniform" value="uniform" aria-labelledby="wise_player_1_component_1810 wise_player_1_component_1810-Uniform">Uniform</option><option id="wise_player_1_component_1810-Dropshadow" value="dropshadow" aria-labelledby="wise_player_1_component_1810 wise_player_1_component_1810-Dropshadow">Drop shadow</option></select></fieldset><fieldset class="vjs-font-family vjs-track-setting"><legend id="captions-font-family-wise_player_1_component_1810">Font Family</legend><select aria-labelledby="captions-font-family-wise_player_1_component_1810" id="vjs_select_1844"><option id="captions-font-family-wise_player_1_component_1810-ProportionalSansSerif" value="proportionalSansSerif" aria-labelledby="captions-font-family-wise_player_1_component_1810 captions-font-family-wise_player_1_component_1810-ProportionalSansSerif">Proportional Sans-Serif</option><option id="captions-font-family-wise_player_1_component_1810-MonospaceSansSerif" value="monospaceSansSerif" aria-labelledby="captions-font-family-wise_player_1_component_1810 captions-font-family-wise_player_1_component_1810-MonospaceSansSerif">Monospace Sans-Serif</option><option id="captions-font-family-wise_player_1_component_1810-ProportionalSerif" value="proportionalSerif" aria-labelledby="captions-font-family-wise_player_1_component_1810 captions-font-family-wise_player_1_component_1810-ProportionalSerif">Proportional Serif</option><option id="captions-font-family-wise_player_1_component_1810-MonospaceSerif" value="monospaceSerif" aria-labelledby="captions-font-family-wise_player_1_component_1810 captions-font-family-wise_player_1_component_1810-MonospaceSerif">Monospace Serif</option><option id="captions-font-family-wise_player_1_component_1810-Casual" value="casual" aria-labelledby="captions-font-family-wise_player_1_component_1810 captions-font-family-wise_player_1_component_1810-Casual">Casual</option><option id="captions-font-family-wise_player_1_component_1810-Script" value="script" aria-labelledby="captions-font-family-wise_player_1_component_1810 captions-font-family-wise_player_1_component_1810-Script">Script</option><option id="captions-font-family-wise_player_1_component_1810-SmallCaps" value="small-caps" aria-labelledby="captions-font-family-wise_player_1_component_1810 captions-font-family-wise_player_1_component_1810-SmallCaps">Small Caps</option></select></fieldset></div><div class="vjs-track-settings-controls"><button type="button" class="vjs-default-button" title="restore all settings to the default values">Reset<span class="vjs-control-text"> restore all settings to the default values</span></button><button type="button" class="vjs-done-button">Done</button></div></div><button class="vjs-close-button vjs-control vjs-button" type="button" title="Close Modal Dialog" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Close Modal Dialog</span></button><p class="vjs-control-text">End of dialog window.</p></div><div wiseplayerindex="1" class="wiseplayershaw"></div></div></div><p></p>    <div class="tiledSection">     <h3 id="section172721438152218">实现原理<i class="anchor-icon anchor-icon-link" anchorid="section172721438152218" tips="复制节点链接"></i></h3>          <p><strong>场景分析</strong></p>     <ol>      <li>用户在本端（平板或PC/2in1）应用界面操作，选择使用远端设备的拍照、扫描或图库功能，向远端发起请求。</li>      <li>系统将自动唤醒远端设备上的相机、图库或扫描功能，进入相应的界面。</li>      <li>使用远端设备完成拍照或选择图片并确认，远端拍摄状态信息实时回传到本端，并将数据插入到本端设备的应用中。</li>     </ol>     <p><span><img height="319.20000000000005" originheight="2988" originwidth="4888" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163246.56762603100586032227319809403753:50001231000000:2800:1BFCC0ED07FB3297DDDBAFB7086033FE68D38479C69F263B753FEB68D4CCE663.jpg" title="点击放大" width="523.6875"></span></p>     <p><strong>关键技术</strong></p>     <p>在分布式协同框架下，针对跨设备互通图片信息的业务场景，应用只需要调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/servicecollaboration-collaborationservice#section1633482912443" target="_blank">createCollaborationServiceMenuItems()</a>（相机设备列表组件）和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/servicecollaboration-collaborationservice#section158671330145417" target="_blank">CollaborationServiceStateDialog()</a>（远端相机状态弹窗组件）两个组件，即可完成跨端拍照、扫描、图库访问能力，开发者无需关注分布式场景下的数据传输和指令控制等细节，具体运作机制可参考：跨设备互通特性简介中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/servicecollaboration-service-overview#section7984237153619" target="_blank">运作机制</a>章节。</p>    </div>    <div class="tiledSection">     <h3 id="section7840160102318">实现方案<i class="anchor-icon anchor-icon-link" anchorid="section7840160102318" tips="复制节点链接"></i></h3>          <ul>      <li>拉取远端菜单，选择远端设备        <p>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/servicecollaboration-collaborationservice#section1633482912443" target="_blank">createCollaborationServiceMenuItems()</a>组件，获取组网内具有对应能力的设备列表。当用户选择特定的设备功能后，系统将自动激活远端设备的相机或图库，并使设备屏幕自动点亮。可设置传输照片的最大数量，范围为1至50张；若设置数量小于或等于0，则不会触发设备的相应功能；若设置数量超过50，则默认为50张。</p>       <div class="screenLinkPre"><div _ngcontent-ruo-c106="" class="highlight-div"><div _ngcontent-ruo-c106="" class="highlight-div-header"><div _ngcontent-ruo-c106="" class="highlight-div-header-left"><div _ngcontent-ruo-c106="" class="handle-button expand-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruo-c106="" class="highlight-div-header-right"><div _ngcontent-ruo-c106="" class="handle-button ai-button"></div><div _ngcontent-ruo-c106="" class="handle-button line-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruo-c106="" class="handle-button theme-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruo-c106="" class="handle-button copy-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruo-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/ContinuePublish/blob/master/entry/src/main/ets/view/AddPic.ets#L412-L430" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Remote menu.</span></li><li>@<span class="hljs-title function_">Builder</span></li><li><span class="hljs-title function_">MyTestMenu</span>() {</li><li>  <span class="hljs-title function_">Menu</span>() {</li><li>    <span class="hljs-title function_">MenuItem</span>({</li><li>      <span class="hljs-variable">symbolStartIcon</span>: <span class="hljs-title class_">new</span> <span class="hljs-title class_">SymbolGlyphModifier</span>($<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">symbol</span>.<span class="hljs-title class_">picture_2</span>')),</li><li>      <span class="hljs-variable">content</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">string</span>.<span class="hljs-title class_">local_device</span>')</li><li>    })</li><li>      .<span class="hljs-title function_">onClick</span>(() =&gt; {</li><li>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.<span class="hljs-variable">imageUriArray</span>.<span class="hljs-variable">length</span> &lt; <span class="hljs-title class_">CommonConstants</span>.<span class="hljs-title class_">MAX_ADD_PIC</span>) {</li><li>          <span class="hljs-keyword">this</span>.<span class="hljs-title function_">selectImage</span>();</li><li>        } <span class="hljs-keyword">else</span> {</li><li>          <span class="hljs-keyword">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">showToast</span>({ <span class="hljs-variable">message</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">string</span>.<span class="hljs-title class_">add_picture_prompt</span>') });</li><li>        }</li><li>      })</li><li>    <span class="hljs-title function_">createCollaborationServiceMenuItems</span>([<span class="hljs-variable">CollaborationServiceFilter</span>.<span class="hljs-variable">ALL</span>], <span class="hljs-number">9</span>)</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/ContinuePublish/blob/master/entry/src/main/ets/view/AddPic.ets#L412-L430" target="_blank">AddPic.ets</a></div></div></div></div></li>      <li>将远端拍摄状态信息实时回传        <p>应用将弹出提示框，实时回传远端拍摄状态信息到组件<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/servicecollaboration-collaborationservice#section158671330145417" target="_blank">CollaborationServiceStateDialog()</a>（远端相机状态弹窗组件），为弹窗组件绑定和实现<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/servicecollaboration-collaborationservice#section33027582114" target="_blank">onState()</a>方法，在业务开始后，此方法将被协同框架调用，用于接收和处理数据。该回调函数接收的数据中，stateCode表示完成状态，bufferType表示回传的数据类型，buffer则是回传的图片数据。</p>       <div class="screenLinkPre"><div _ngcontent-ruo-c106="" class="highlight-div"><div _ngcontent-ruo-c106="" class="highlight-div-header"><div _ngcontent-ruo-c106="" class="highlight-div-header-left"><div _ngcontent-ruo-c106="" class="handle-button expand-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruo-c106="" class="highlight-div-header-right"><div _ngcontent-ruo-c106="" class="handle-button ai-button"></div><div _ngcontent-ruo-c106="" class="handle-button line-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruo-c106="" class="handle-button theme-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruo-c106="" class="handle-button copy-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruo-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" codehub="https://gitee.com/harmonyos_samples/ContinuePublish/blob/master/entry/src/main/ets/view/AddPic.ets#L244-L306" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-built_in">build</span>() {</li><li>  <span class="hljs-built_in">Column</span>() {</li><li>    <span class="hljs-built_in">CollaborationServiceStateDialog</span>({</li><li>      onState: (stateCode: number, bufferType: string, buffer: ArrayBuffer): void =&gt; this.<span class="hljs-built_in">doInsertPicture</span>(stateCode,</li><li>        bufferType, buffer)</li><li>    })</li><li>    <span class="hljs-comment">// ...</span></li><li>  }</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/ContinuePublish/blob/master/entry/src/main/ets/view/AddPic.ets#L244-L306" target="_blank">AddPic.ets</a></div></div></div></div></li>      <li>将回传数据写入页面        <p>用户使用远端设备完成拍照或选择图库照片后，通过自定义方法将返回的图片数据写入本端设备的页面。远端设备将自动退出相机或图库界面，恢复到初始状态。</p>       <div class="screenLinkPre"><div _ngcontent-ruo-c106="" class="highlight-div"><div _ngcontent-ruo-c106="" class="highlight-div-header"><div _ngcontent-ruo-c106="" class="highlight-div-header-left"><div _ngcontent-ruo-c106="" class="handle-button expand-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruo-c106="" class="highlight-div-header-right"><div _ngcontent-ruo-c106="" class="handle-button ai-button"></div><div _ngcontent-ruo-c106="" class="handle-button line-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruo-c106="" class="handle-button theme-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruo-c106="" class="handle-button copy-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruo-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/ContinuePublish/blob/master/entry/src/main/ets/view/AddPic.ets#L147-L163" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Remote images fall into.</span></li><li><span class="hljs-title function_">doInsertPicture</span>(<span class="hljs-variable">stateCode</span>: <span class="hljs-title class_">number</span>, <span class="hljs-variable">bufferType</span>: <span class="hljs-title class_">string</span>, <span class="hljs-variable">buffer</span>: <span class="hljs-title class_">ArrayBuffer</span>): <span class="hljs-title class_">void</span> {</li><li>  <span class="hljs-keyword">this</span>.<span class="hljs-variable">dialogController</span>.<span class="hljs-title function_">close</span>();</li><li>  <span class="hljs-keyword">if</span> (<span class="hljs-variable">stateCode</span> != <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">if</span> (<span class="hljs-variable">bufferType</span> === <span class="hljs-string">'general.image'</span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-variable">imageSource</span> = <span class="hljs-variable">image</span>.<span class="hljs-title function_">createImageSource</span>(<span class="hljs-variable">buffer</span>);</li><li>    <span class="hljs-variable">imageSource</span>.<span class="hljs-title function_">createPixelMap</span>().<span class="hljs-title function_">then</span>((<span class="hljs-variable">pixelMap</span>) =&gt; {</li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.<span class="hljs-variable">imageUriArray</span>.<span class="hljs-variable">length</span> &lt; <span class="hljs-title class_">CommonConstants</span>.<span class="hljs-title class_">MAX_ADD_PIC</span>) {</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-variable">uuid</span> = <span class="hljs-variable">util</span>.<span class="hljs-title function_">generateRandomUUID</span>();</li><li>        <span class="hljs-keyword">this</span>.<span class="hljs-title function_">PixelMapToBuffer</span>(<span class="hljs-variable">pixelMap</span>, <span class="hljs-variable">uuid</span>);</li><li>        <span class="hljs-keyword">this</span>.<span class="hljs-variable">imageUriArray</span>.<span class="hljs-title function_">push</span>({ <span class="hljs-variable">imagePixelMap</span>: <span class="hljs-title class_">pixelMap</span>, <span class="hljs-variable">imageName</span>: <span class="hljs-title class_">uuid</span> });</li><li>      }</li><li>    })</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/ContinuePublish/blob/master/entry/src/main/ets/view/AddPic.ets#L147-L163" target="_blank">AddPic.ets</a></div></div></div></div></li>     </ul>    </div>    <div class="tiledSection">     <h2 id="section103557271407">跨设备拖拽图片/文字<i class="anchor-icon anchor-icon-link" anchorid="section103557271407" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="section25431755143315" class="firsth2">场景描述<i class="anchor-icon anchor-icon-link" anchorid="section25431755143315" tips="复制节点链接"></i></h3>          <p>当用户拥有多台设备时，开启键鼠共享功能，可以实现键鼠在不同设备间的自由移动。通过跨设备拖拽，用户可以轻松地将本端上的素材拖拽到远端，快速完成内容创作，享受高效的跨设备协同工作体验。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该功能的使用需满足设备限制和使用限制，具体约束与限制可参考：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/distributed-drag-guide#section17575828642" target="_blank">跨设备拖拽约束与限制</a>。</p>      </div></div></div>     <p><strong>实现效果</strong></p>     <p>      </p><div class="video-box" style="width: 920px; height: 517.509px;"><div id="wise_player_2" videodata="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163247.30346563662489989334290463891744:50001231000000:2800:5A4B6F859FB54742CF9187DDAF69CA4D2A1FFCD632DF942F6E53CE992528E5C8.mp4" preload="none" class="edui-upload-video vjs-fluid vjs-default-skin video-js vjs-paused vjs_video_3-dimensions vjs-controls-enabled vjs-workinghover vjs-v7 vjs-user-active wise_player_2-dimensions vjs-v8" tabindex="-1" role="region" lang="cn" translate="no" aria-label="Video Player"><video class="vjs-tech" preload="none" videodata="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163247.30346563662489989334290463891744:50001231000000:2800:5A4B6F859FB54742CF9187DDAF69CA4D2A1FFCD632DF942F6E53CE992528E5C8.mp4" id="wise_player_2_html5_api" tabindex="-1" role="application" loop="" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163247.30346563662489989334290463891744:50001231000000:2800:5A4B6F859FB54742CF9187DDAF69CA4D2A1FFCD632DF942F6E53CE992528E5C8.mp4"></video><div class="vjs-poster vjs-hidden" aria-disabled="false"></div><div class="vjs-title-bar vjs-hidden"><div class="vjs-title-bar-title" id="vjs-title-bar-title-27"></div><div class="vjs-title-bar-description" id="vjs-title-bar-description-28"></div></div><div class="vjs-text-track-display" translate="yes" aria-live="off" aria-atomic="true"><div style="position: absolute; inset: 0px; margin: 1.5%;"></div></div><div class="vjs-loading-spinner" dir="ltr"><span class="vjs-control-text">Video Player is loading.</span></div><button class="vjs-big-play-button" type="button" title="Play Video" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Play Video</span></button><div class="vjs-control-bar" dir="ltr"><button class="vjs-play-control vjs-control vjs-button" type="button" title="Play" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Play</span></button><div class="vjs-current-time vjs-time-control vjs-control"><span class="vjs-control-text" role="presentation">Current Time&nbsp;</span><span class="vjs-current-time-display" role="presentation">0:00</span></div><div class="vjs-progress-control vjs-control"><div tabindex="0" class="vjs-progress-holder vjs-slider vjs-slider-horizontal" role="slider" aria-valuenow="0.00" aria-valuemin="0" aria-valuemax="100" aria-label="Progress Bar" aria-valuetext="0:00 of 0:17"><div class="vjs-load-progress" style="width: 13.65%;"><span class="vjs-control-text"><span>Loaded</span>: <span class="vjs-control-text-loaded-percentage">13.65%</span></span><div data-start="0" data-end="2.443" style="left: 0%; width: 100%;"></div></div><div class="vjs-mouse-display"><div class="vjs-time-tooltip" aria-hidden="true"></div></div><div class="vjs-play-progress vjs-slider-bar" aria-hidden="true" style="width: 0%;"><div class="vjs-time-tooltip" aria-hidden="true" style="right: 0px;">0:00</div></div></div></div><div class="vjs-duration vjs-time-control vjs-control"><span class="vjs-control-text" role="presentation">Duration&nbsp;</span><span class="vjs-duration-display" role="presentation">0:17</span></div><div class="vjs-volume-panel vjs-control vjs-volume-panel-vertical"><button class="vjs-mute-control vjs-control vjs-button vjs-vol-3" type="button" title="Mute" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Mute</span></button><div class="vjs-volume-control vjs-control vjs-volume-vertical"><div tabindex="0" class="vjs-volume-bar vjs-slider-bar vjs-slider vjs-slider-vertical" role="slider" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" aria-label="Volume Level" aria-live="polite" aria-valuetext="100%"><div class="vjs-mouse-display"><div class="vjs-volume-tooltip" aria-hidden="true"></div></div><div class="vjs-volume-level"><span class="vjs-control-text"></span></div></div></div></div><div class="vjs-playback-rate vjs-menu-button vjs-menu-button-popup vjs-control vjs-button"><div class="vjs-playback-rate-value" id="vjs-playback-rate-value-label-wise_player_2_component_225">1x</div><button class="vjs-playback-rate vjs-menu-button vjs-menu-button-popup vjs-button" type="button" aria-disabled="false" title="Playback Rate" aria-haspopup="true" aria-expanded="false" aria-describedby="vjs-playback-rate-value-label-wise_player_2_component_225"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Playback Rate</span></button><div class="vjs-menu"><ul class="vjs-menu-content" role="menu"><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">2x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.8x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.5x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.2x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item vjs-selected" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="true"><span class="vjs-menu-item-text">1x</span><span class="vjs-control-text" aria-live="polite">, selected</span></li></ul></div></div><button class="vjs-fullscreen-control vjs-control vjs-button" type="button" title="Fullscreen" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Fullscreen</span></button></div><div class="vjs-error-display vjs-modal-dialog vjs-hidden " tabindex="-1" aria-describedby="wise_player_2_component_332_description" aria-hidden="true" aria-label="Modal Window" role="dialog" aria-live="polite"><p class="vjs-modal-dialog-description vjs-control-text" id="wise_player_2_component_332_description">This is a modal window.</p><div class="vjs-modal-dialog-content" role="document"></div></div><div class="vjs-modal-dialog vjs-hidden  vjs-text-track-settings" tabindex="-1" aria-describedby="wise_player_2_component_338_description" aria-hidden="true" aria-label="Caption Settings Dialog" role="dialog" aria-live="polite"><p class="vjs-modal-dialog-description vjs-control-text" id="wise_player_2_component_338_description">Beginning of dialog window. Escape will cancel and close the window.</p><div class="vjs-modal-dialog-content" role="document"><div class="vjs-track-settings-colors"><fieldset class="vjs-fg vjs-track-setting"><legend id="captions-text-legend-wise_player_2_component_338">Text</legend><span class="vjs-text-color"><label id="captions-foreground-color-wise_player_2_component_338" for="vjs_select_364" class="vjs-label">Color</label><select aria-labelledby="captions-text-legend-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338" id="vjs_select_364"><option id="captions-foreground-color-wise_player_2_component_338-White" value="#FFF" aria-labelledby="captions-text-legend-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338-White">White</option><option id="captions-foreground-color-wise_player_2_component_338-Black" value="#000" aria-labelledby="captions-text-legend-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338-Black">Black</option><option id="captions-foreground-color-wise_player_2_component_338-Red" value="#F00" aria-labelledby="captions-text-legend-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338-Red">Red</option><option id="captions-foreground-color-wise_player_2_component_338-Green" value="#0F0" aria-labelledby="captions-text-legend-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338-Green">Green</option><option id="captions-foreground-color-wise_player_2_component_338-Blue" value="#00F" aria-labelledby="captions-text-legend-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338-Blue">Blue</option><option id="captions-foreground-color-wise_player_2_component_338-Yellow" value="#FF0" aria-labelledby="captions-text-legend-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338-Yellow">Yellow</option><option id="captions-foreground-color-wise_player_2_component_338-Magenta" value="#F0F" aria-labelledby="captions-text-legend-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338-Magenta">Magenta</option><option id="captions-foreground-color-wise_player_2_component_338-Cyan" value="#0FF" aria-labelledby="captions-text-legend-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338-Cyan">Cyan</option></select></span><span class="vjs-text-opacity vjs-opacity"><label id="captions-foreground-opacity-wise_player_2_component_338" for="vjs_select_365" class="vjs-label">Opacity</label><select aria-labelledby="captions-text-legend-wise_player_2_component_338 captions-foreground-opacity-wise_player_2_component_338" id="vjs_select_365"><option id="captions-foreground-opacity-wise_player_2_component_338-Opaque" value="1" aria-labelledby="captions-text-legend-wise_player_2_component_338 captions-foreground-opacity-wise_player_2_component_338 captions-foreground-opacity-wise_player_2_component_338-Opaque">Opaque</option><option id="captions-foreground-opacity-wise_player_2_component_338-SemiTransparent" value="0.5" aria-labelledby="captions-text-legend-wise_player_2_component_338 captions-foreground-opacity-wise_player_2_component_338 captions-foreground-opacity-wise_player_2_component_338-SemiTransparent">Semi-Transparent</option></select></span></fieldset><fieldset class="vjs-bg vjs-track-setting"><legend id="captions-background-wise_player_2_component_338">Text Background</legend><span class="vjs-bg-color"><label id="captions-background-color-wise_player_2_component_338" for="vjs_select_366" class="vjs-label">Color</label><select aria-labelledby="captions-background-wise_player_2_component_338 captions-background-color-wise_player_2_component_338" id="vjs_select_366"><option id="captions-background-color-wise_player_2_component_338-Black" value="#000" aria-labelledby="captions-background-wise_player_2_component_338 captions-background-color-wise_player_2_component_338 captions-background-color-wise_player_2_component_338-Black">Black</option><option id="captions-background-color-wise_player_2_component_338-White" value="#FFF" aria-labelledby="captions-background-wise_player_2_component_338 captions-background-color-wise_player_2_component_338 captions-background-color-wise_player_2_component_338-White">White</option><option id="captions-background-color-wise_player_2_component_338-Red" value="#F00" aria-labelledby="captions-background-wise_player_2_component_338 captions-background-color-wise_player_2_component_338 captions-background-color-wise_player_2_component_338-Red">Red</option><option id="captions-background-color-wise_player_2_component_338-Green" value="#0F0" aria-labelledby="captions-background-wise_player_2_component_338 captions-background-color-wise_player_2_component_338 captions-background-color-wise_player_2_component_338-Green">Green</option><option id="captions-background-color-wise_player_2_component_338-Blue" value="#00F" aria-labelledby="captions-background-wise_player_2_component_338 captions-background-color-wise_player_2_component_338 captions-background-color-wise_player_2_component_338-Blue">Blue</option><option id="captions-background-color-wise_player_2_component_338-Yellow" value="#FF0" aria-labelledby="captions-background-wise_player_2_component_338 captions-background-color-wise_player_2_component_338 captions-background-color-wise_player_2_component_338-Yellow">Yellow</option><option id="captions-background-color-wise_player_2_component_338-Magenta" value="#F0F" aria-labelledby="captions-background-wise_player_2_component_338 captions-background-color-wise_player_2_component_338 captions-background-color-wise_player_2_component_338-Magenta">Magenta</option><option id="captions-background-color-wise_player_2_component_338-Cyan" value="#0FF" aria-labelledby="captions-background-wise_player_2_component_338 captions-background-color-wise_player_2_component_338 captions-background-color-wise_player_2_component_338-Cyan">Cyan</option></select></span><span class="vjs-bg-opacity vjs-opacity"><label id="captions-background-opacity-wise_player_2_component_338" for="vjs_select_367" class="vjs-label">Opacity</label><select aria-labelledby="captions-background-wise_player_2_component_338 captions-background-opacity-wise_player_2_component_338" id="vjs_select_367"><option id="captions-background-opacity-wise_player_2_component_338-Opaque" value="1" aria-labelledby="captions-background-wise_player_2_component_338 captions-background-opacity-wise_player_2_component_338 captions-background-opacity-wise_player_2_component_338-Opaque">Opaque</option><option id="captions-background-opacity-wise_player_2_component_338-SemiTransparent" value="0.5" aria-labelledby="captions-background-wise_player_2_component_338 captions-background-opacity-wise_player_2_component_338 captions-background-opacity-wise_player_2_component_338-SemiTransparent">Semi-Transparent</option><option id="captions-background-opacity-wise_player_2_component_338-Transparent" value="0" aria-labelledby="captions-background-wise_player_2_component_338 captions-background-opacity-wise_player_2_component_338 captions-background-opacity-wise_player_2_component_338-Transparent">Transparent</option></select></span></fieldset><fieldset class="vjs-window vjs-track-setting"><legend id="captions-window-wise_player_2_component_338">Caption Area Background</legend><span class="vjs-window-color"><label id="captions-window-color-wise_player_2_component_338" for="vjs_select_368" class="vjs-label">Color</label><select aria-labelledby="captions-window-wise_player_2_component_338 captions-window-color-wise_player_2_component_338" id="vjs_select_368"><option id="captions-window-color-wise_player_2_component_338-Black" value="#000" aria-labelledby="captions-window-wise_player_2_component_338 captions-window-color-wise_player_2_component_338 captions-window-color-wise_player_2_component_338-Black">Black</option><option id="captions-window-color-wise_player_2_component_338-White" value="#FFF" aria-labelledby="captions-window-wise_player_2_component_338 captions-window-color-wise_player_2_component_338 captions-window-color-wise_player_2_component_338-White">White</option><option id="captions-window-color-wise_player_2_component_338-Red" value="#F00" aria-labelledby="captions-window-wise_player_2_component_338 captions-window-color-wise_player_2_component_338 captions-window-color-wise_player_2_component_338-Red">Red</option><option id="captions-window-color-wise_player_2_component_338-Green" value="#0F0" aria-labelledby="captions-window-wise_player_2_component_338 captions-window-color-wise_player_2_component_338 captions-window-color-wise_player_2_component_338-Green">Green</option><option id="captions-window-color-wise_player_2_component_338-Blue" value="#00F" aria-labelledby="captions-window-wise_player_2_component_338 captions-window-color-wise_player_2_component_338 captions-window-color-wise_player_2_component_338-Blue">Blue</option><option id="captions-window-color-wise_player_2_component_338-Yellow" value="#FF0" aria-labelledby="captions-window-wise_player_2_component_338 captions-window-color-wise_player_2_component_338 captions-window-color-wise_player_2_component_338-Yellow">Yellow</option><option id="captions-window-color-wise_player_2_component_338-Magenta" value="#F0F" aria-labelledby="captions-window-wise_player_2_component_338 captions-window-color-wise_player_2_component_338 captions-window-color-wise_player_2_component_338-Magenta">Magenta</option><option id="captions-window-color-wise_player_2_component_338-Cyan" value="#0FF" aria-labelledby="captions-window-wise_player_2_component_338 captions-window-color-wise_player_2_component_338 captions-window-color-wise_player_2_component_338-Cyan">Cyan</option></select></span><span class="vjs-window-opacity vjs-opacity"><label id="captions-window-opacity-wise_player_2_component_338" for="vjs_select_369" class="vjs-label">Opacity</label><select aria-labelledby="captions-window-wise_player_2_component_338 captions-window-opacity-wise_player_2_component_338" id="vjs_select_369"><option id="captions-window-opacity-wise_player_2_component_338-Transparent" value="0" aria-labelledby="captions-window-wise_player_2_component_338 captions-window-opacity-wise_player_2_component_338 captions-window-opacity-wise_player_2_component_338-Transparent">Transparent</option><option id="captions-window-opacity-wise_player_2_component_338-SemiTransparent" value="0.5" aria-labelledby="captions-window-wise_player_2_component_338 captions-window-opacity-wise_player_2_component_338 captions-window-opacity-wise_player_2_component_338-SemiTransparent">Semi-Transparent</option><option id="captions-window-opacity-wise_player_2_component_338-Opaque" value="1" aria-labelledby="captions-window-wise_player_2_component_338 captions-window-opacity-wise_player_2_component_338 captions-window-opacity-wise_player_2_component_338-Opaque">Opaque</option></select></span></fieldset></div><div class="vjs-track-settings-font"><fieldset class="vjs-font-percent vjs-track-setting"><legend id="captions-font-size-wise_player_2_component_338">Font Size</legend><select aria-labelledby="captions-font-size-wise_player_2_component_338" id="vjs_select_370"><option id="captions-font-size-wise_player_2_component_338-50" value="0.50" aria-labelledby="captions-font-size-wise_player_2_component_338 captions-font-size-wise_player_2_component_338-50">50%</option><option id="captions-font-size-wise_player_2_component_338-75" value="0.75" aria-labelledby="captions-font-size-wise_player_2_component_338 captions-font-size-wise_player_2_component_338-75">75%</option><option id="captions-font-size-wise_player_2_component_338-100" value="1.00" aria-labelledby="captions-font-size-wise_player_2_component_338 captions-font-size-wise_player_2_component_338-100">100%</option><option id="captions-font-size-wise_player_2_component_338-125" value="1.25" aria-labelledby="captions-font-size-wise_player_2_component_338 captions-font-size-wise_player_2_component_338-125">125%</option><option id="captions-font-size-wise_player_2_component_338-150" value="1.50" aria-labelledby="captions-font-size-wise_player_2_component_338 captions-font-size-wise_player_2_component_338-150">150%</option><option id="captions-font-size-wise_player_2_component_338-175" value="1.75" aria-labelledby="captions-font-size-wise_player_2_component_338 captions-font-size-wise_player_2_component_338-175">175%</option><option id="captions-font-size-wise_player_2_component_338-200" value="2.00" aria-labelledby="captions-font-size-wise_player_2_component_338 captions-font-size-wise_player_2_component_338-200">200%</option><option id="captions-font-size-wise_player_2_component_338-300" value="3.00" aria-labelledby="captions-font-size-wise_player_2_component_338 captions-font-size-wise_player_2_component_338-300">300%</option><option id="captions-font-size-wise_player_2_component_338-400" value="4.00" aria-labelledby="captions-font-size-wise_player_2_component_338 captions-font-size-wise_player_2_component_338-400">400%</option></select></fieldset><fieldset class="vjs-edge-style vjs-track-setting"><legend id="wise_player_2_component_338">Text Edge Style</legend><select aria-labelledby="wise_player_2_component_338" id="vjs_select_371"><option id="wise_player_2_component_338-None" value="none" aria-labelledby="wise_player_2_component_338 wise_player_2_component_338-None">None</option><option id="wise_player_2_component_338-Raised" value="raised" aria-labelledby="wise_player_2_component_338 wise_player_2_component_338-Raised">Raised</option><option id="wise_player_2_component_338-Depressed" value="depressed" aria-labelledby="wise_player_2_component_338 wise_player_2_component_338-Depressed">Depressed</option><option id="wise_player_2_component_338-Uniform" value="uniform" aria-labelledby="wise_player_2_component_338 wise_player_2_component_338-Uniform">Uniform</option><option id="wise_player_2_component_338-Dropshadow" value="dropshadow" aria-labelledby="wise_player_2_component_338 wise_player_2_component_338-Dropshadow">Drop shadow</option></select></fieldset><fieldset class="vjs-font-family vjs-track-setting"><legend id="captions-font-family-wise_player_2_component_338">Font Family</legend><select aria-labelledby="captions-font-family-wise_player_2_component_338" id="vjs_select_372"><option id="captions-font-family-wise_player_2_component_338-ProportionalSansSerif" value="proportionalSansSerif" aria-labelledby="captions-font-family-wise_player_2_component_338 captions-font-family-wise_player_2_component_338-ProportionalSansSerif">Proportional Sans-Serif</option><option id="captions-font-family-wise_player_2_component_338-MonospaceSansSerif" value="monospaceSansSerif" aria-labelledby="captions-font-family-wise_player_2_component_338 captions-font-family-wise_player_2_component_338-MonospaceSansSerif">Monospace Sans-Serif</option><option id="captions-font-family-wise_player_2_component_338-ProportionalSerif" value="proportionalSerif" aria-labelledby="captions-font-family-wise_player_2_component_338 captions-font-family-wise_player_2_component_338-ProportionalSerif">Proportional Serif</option><option id="captions-font-family-wise_player_2_component_338-MonospaceSerif" value="monospaceSerif" aria-labelledby="captions-font-family-wise_player_2_component_338 captions-font-family-wise_player_2_component_338-MonospaceSerif">Monospace Serif</option><option id="captions-font-family-wise_player_2_component_338-Casual" value="casual" aria-labelledby="captions-font-family-wise_player_2_component_338 captions-font-family-wise_player_2_component_338-Casual">Casual</option><option id="captions-font-family-wise_player_2_component_338-Script" value="script" aria-labelledby="captions-font-family-wise_player_2_component_338 captions-font-family-wise_player_2_component_338-Script">Script</option><option id="captions-font-family-wise_player_2_component_338-SmallCaps" value="small-caps" aria-labelledby="captions-font-family-wise_player_2_component_338 captions-font-family-wise_player_2_component_338-SmallCaps">Small Caps</option></select></fieldset></div><div class="vjs-track-settings-controls"><button type="button" class="vjs-default-button" title="restore all settings to the default values">Reset<span class="vjs-control-text"> restore all settings to the default values</span></button><button type="button" class="vjs-done-button">Done</button></div></div><button class="vjs-close-button vjs-control vjs-button" type="button" title="Close Modal Dialog" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Close Modal Dialog</span></button><p class="vjs-control-text">End of dialog window.</p></div><div wiseplayerindex="2" class="wiseplayershaw"></div></div></div><p></p>    </div>    <div class="tiledSection">     <h3 id="section1281516718116">实现原理<i class="anchor-icon anchor-icon-link" anchorid="section1281516718116" tips="复制节点链接"></i></h3>          <p><strong>场景分析</strong></p>     <ol>      <li>用户通过长按鼠标触发拖拽事件，可以从本端编辑页面将图片或文字拖拽到远端的编辑页面。</li>      <li>在此过程中，系统自动处理跨设备的数据传输，开发者无需介入。</li>      <li>当用户释放鼠标时，触发拖拽松手事件，远端应用处理接收到的拖拽数据，并将其写入远端编辑页面。</li>     </ol>     <p><span><img height="328.1775" originheight="2988" originwidth="4756" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163246.79222166849258066501773823262521:50001231000000:2800:7B1277D7F41029D52FB37FFA9F7F0F73207E6ABD8EFB2E26651BE47A2A1E3194.jpg" title="点击放大" width="523.6875"></span></p>     <p><strong>关键技术</strong></p>     <p>在开发跨设备拖拽功能时，系统会自动处理鼠标和键盘的跨设备操作及数据传递。应用可以根据实际需求，实现组件的拖入或拖出，完成拖拽事件的开发。具体运作机制可参考：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/distributed-drag-overview#section159119429237" target="_blank">跨设备拖拽运作机制</a>。</p>    </div>    <div class="tiledSection">     <h3 id="section178710521118">实现方案<i class="anchor-icon anchor-icon-link" anchorid="section178710521118" tips="复制节点链接"></i></h3>          <ul>      <li>设置组件允许拖拽        <p>将需要触发拖拽事件和松手事件的Image组件、TextInput组件及TextArea组件设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-drag-drop#draggable" target="_blank">draggable()</a>为true，以允许拖拽。</p></li>      <li>设置组件允许落入的类型        <p>使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-drag-drop#allowdrop" target="_blank">allowDrop()</a>方法设置组件允许拖入的数据类型，包括PLAIN_TEXT、IMAGE、OPENHARMONY_PIXEL_MAP等。</p></li>      <li>定义<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-events-drag-drop" target="_blank">拖拽事件</a>       <p>将允许拖入的组件绑定<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-events-drag-drop#ondrop" target="_blank">onDrop()</a>事件作为释放目标。当在该组件范围内停止拖拽操作时，将触发回调函数，实现图片的拖出和写入页面的功能。</p>       <div class="screenLinkPre"><div _ngcontent-ruo-c106="" class="highlight-div"><div _ngcontent-ruo-c106="" class="highlight-div-header"><div _ngcontent-ruo-c106="" class="highlight-div-header-left"><div _ngcontent-ruo-c106="" class="handle-button expand-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruo-c106="" class="highlight-div-header-right"><div _ngcontent-ruo-c106="" class="handle-button ai-button"></div><div _ngcontent-ruo-c106="" class="handle-button line-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruo-c106="" class="handle-button theme-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruo-c106="" class="handle-button copy-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruo-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" codehub="https://gitee.com/harmonyos_samples/ContinuePublish/blob/master/entry/src/main/ets/view/AddPic.ets#L243-L408" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title class_">Column</span>() {</li><li>    <span class="hljs-comment">// ...</span></li><li>  }</li><li>  .<span class="hljs-title function_">draggable</span>(<span class="hljs-literal">true</span>)</li><li>  .<span class="hljs-title function_">allowDrop</span>([uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">IMAGE</span>,</li><li>    uniformTypeDescriptor.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">OPENHARMONY_PIXEL_MAP</span>])</li><li>  .<span class="hljs-title function_">onDrop</span>(<span class="hljs-function">(<span class="hljs-params">dragEvent?: DragEvent</span>) =&gt;</span> {</li><li>    <span class="hljs-comment">// The logic behind the image falling in, achieving image writing.</span></li><li>    <span class="hljs-comment">// ...</span></li><li>    })</li><li>  })</li><li>
</li><li>}</li><li>
</li><li>
</li><li><span class="hljs-comment">// ...</span></li><li>
</li><li><span class="hljs-comment">/*</span></li><li><span class="hljs-comment"> *  Adding an image.</span></li><li><span class="hljs-comment"> */</span></li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-title function_">addPic</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title class_">Row</span>() {</li><li>    <span class="hljs-title class_">List</span>({ <span class="hljs-attr">space</span>: <span class="hljs-title class_">CommonConstants</span>.<span class="hljs-property">LIST_COMM_SPACE</span> }) {</li><li>      <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">imageUriArray</span>, <span class="hljs-function">(<span class="hljs-params">item: ImageInfo</span>) =&gt;</span> {</li><li>        <span class="hljs-title class_">ListItem</span>() {</li><li>          <span class="hljs-title class_">Image</span>(item.<span class="hljs-property">imagePixelMap</span>)<span class="hljs-comment">// ...</span></li><li>            .<span class="hljs-title function_">draggable</span>(<span class="hljs-literal">true</span>)</li><li>            .<span class="hljs-title function_">onDragEnd</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {</li><li>              <span class="hljs-comment">// The logic after dragging and dropping is completed.</span></li><li>              <span class="hljs-comment">// ...</span></li><li>            })<span class="hljs-comment">// ...</span></li><li>        }</li><li>      }, <span class="hljs-function">(<span class="hljs-params">item: ImageInfo, index: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(item) + index)</li><li>      <span class="hljs-comment">// ...</span></li><li>    }</li><li>    <span class="hljs-comment">// ...</span></li><li>  }</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/ContinuePublish/blob/master/entry/src/main/ets/view/AddPic.ets#L243-L408" target="_blank">AddPic.ets</a></div></div></div></div>       <p>当在TextInput()和TextArea()组件范围内停止拖放行为时，将触发回调，实现文字拖出和写入页面的效果。</p>       <div class="screenLinkPre"><div _ngcontent-ruo-c106="" class="highlight-div"><div _ngcontent-ruo-c106="" class="highlight-div-header"><div _ngcontent-ruo-c106="" class="highlight-div-header-left"><div _ngcontent-ruo-c106="" class="handle-button expand-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruo-c106="" class="highlight-div-header-right"><div _ngcontent-ruo-c106="" class="handle-button ai-button"></div><div _ngcontent-ruo-c106="" class="handle-button line-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruo-c106="" class="handle-button theme-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruo-c106="" class="handle-button copy-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruo-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/ContinuePublish/blob/master/entry/src/main/ets/view/EditorComponent.ets#L60-L142" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title function_">build</span>() {</li><li>  <span class="hljs-title function_">Flex</span>({ <span class="hljs-variable">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-title class_">Column</span> }) {</li><li>    <span class="hljs-title function_">TextInput</span>({ <span class="hljs-variable">text</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">mainTitle</span>, <span class="hljs-variable">placeholder</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">string</span>.<span class="hljs-title class_">text_input_placeholder</span>') })<span class="hljs-comment">// ...</span></li><li>      .<span class="hljs-title function_">draggable</span>(<span class="hljs-keyword">true</span>)</li><li>      .<span class="hljs-title function_">allowDrop</span>([<span class="hljs-variable">uniformTypeDescriptor</span>.<span class="hljs-variable">UniformDataType</span>.<span class="hljs-variable">PLAIN_TEXT</span>])</li><li>      .<span class="hljs-title function_">onDrop</span>((<span class="hljs-variable">dragEvent</span>?: <span class="hljs-title class_">DragEvent</span>) =&gt; {</li><li>        <span class="hljs-comment">// The logic after the text falls in, realizing the writing of text.</span></li><li>        <span class="hljs-comment">// ...</span></li><li>      })</li><li>
</li><li>    <span class="hljs-title function_">TextArea</span>({ <span class="hljs-variable">text</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">textContent</span>, <span class="hljs-variable">placeholder</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">string</span>.<span class="hljs-title class_">richEditor_placeholder</span>') })<span class="hljs-comment">// ...</span></li><li>      .<span class="hljs-title function_">draggable</span>(<span class="hljs-keyword">true</span>)</li><li>      .<span class="hljs-title function_">allowDrop</span>([<span class="hljs-variable">uniformTypeDescriptor</span>.<span class="hljs-variable">UniformDataType</span>.<span class="hljs-variable">PLAIN_TEXT</span>])</li><li>      .<span class="hljs-title function_">onDrop</span>((<span class="hljs-variable">dragEvent</span>?: <span class="hljs-title class_">DragEvent</span>) =&gt; {</li><li>        <span class="hljs-comment">// The logic after the text falls in, realizing the writing of text.</span></li><li>        <span class="hljs-comment">// ...</span></li><li>      })</li><li>  }</li><li>  .<span class="hljs-title function_">backgroundColor</span>($<span class="hljs-title function_">r</span>(<span class="hljs-string">'sys.color.background_primary'</span>))</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/ContinuePublish/blob/master/entry/src/main/ets/view/EditorComponent.ets#L60-L142" target="_blank">EditorComponent.ets</a></div></div></div></div></li>     </ul>    </div>    <div class="tiledSection">     <h2 id="section1838716271127">跨设备剪贴图片/文字<i class="anchor-icon anchor-icon-link" anchorid="section1838716271127" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="section0874756183314" class="firsth2">场景描述<i class="anchor-icon anchor-icon-link" anchorid="section0874756183314" tips="复制节点链接"></i></h3>          <p>当用户拥有多台设备时，可以利用跨设备剪贴板的功能，在本端的应用中复制文本或图片，并在远端的应用中粘贴，实现高效的内容共享。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该功能的使用需满足设备限制和使用限制，具体约束与限制可参考：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/distributed-pasteboard-guide#section17575828642" target="_blank">跨设备剪贴板约束与限制</a>。</p>      </div></div></div>     <p><strong>实现效果</strong></p>     <p>      </p><div class="video-box" style="width: 920px; height: 517.505px;"><div id="wise_player_3" videodata="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163247.94061803587243265810147121845846:50001231000000:2800:EC9B3F130FF9C7266205A42C46261841E601BB5A7AB7B5DE3F62FD9C177DEA0B.mp4" preload="none" class="edui-upload-video vjs-fluid vjs-default-skin video-js vjs-paused vjs_video_3-dimensions vjs-controls-enabled vjs-workinghover vjs-v7 vjs-user-active wise_player_3-dimensions vjs-v8" tabindex="-1" role="region" lang="cn" translate="no" aria-label="Video Player"><video class="vjs-tech" preload="none" videodata="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163247.94061803587243265810147121845846:50001231000000:2800:EC9B3F130FF9C7266205A42C46261841E601BB5A7AB7B5DE3F62FD9C177DEA0B.mp4" id="wise_player_3_html5_api" tabindex="-1" role="application" loop="" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163247.94061803587243265810147121845846:50001231000000:2800:EC9B3F130FF9C7266205A42C46261841E601BB5A7AB7B5DE3F62FD9C177DEA0B.mp4"></video><div class="vjs-poster vjs-hidden" aria-disabled="false"></div><div class="vjs-title-bar vjs-hidden"><div class="vjs-title-bar-title" id="vjs-title-bar-title-408"></div><div class="vjs-title-bar-description" id="vjs-title-bar-description-409"></div></div><div class="vjs-text-track-display" translate="yes" aria-live="off" aria-atomic="true"><div style="position: absolute; inset: 0px; margin: 1.5%;"></div></div><div class="vjs-loading-spinner" dir="ltr"><span class="vjs-control-text">Video Player is loading.</span></div><button class="vjs-big-play-button" type="button" title="Play Video" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Play Video</span></button><div class="vjs-control-bar" dir="ltr"><button class="vjs-play-control vjs-control vjs-button" type="button" title="Play" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Play</span></button><div class="vjs-current-time vjs-time-control vjs-control"><span class="vjs-control-text" role="presentation">Current Time&nbsp;</span><span class="vjs-current-time-display" role="presentation">0:00</span></div><div class="vjs-progress-control vjs-control"><div tabindex="0" class="vjs-progress-holder vjs-slider vjs-slider-horizontal" role="slider" aria-valuenow="0.00" aria-valuemin="0" aria-valuemax="100" aria-label="Progress Bar" aria-valuetext="0:00 of 0:19"><div class="vjs-load-progress" style="width: 100%;"><span class="vjs-control-text"><span>Loaded</span>: <span class="vjs-control-text-loaded-percentage">100.00%</span></span><div data-start="0" data-end="3.012" style="left: 0%; width: 15.5%;"></div><div data-start="19.063" data-end="19.4333" style="left: 98.09%; width: 1.91%;"></div></div><div class="vjs-mouse-display"><div class="vjs-time-tooltip" aria-hidden="true"></div></div><div class="vjs-play-progress vjs-slider-bar" aria-hidden="true" style="width: 0%;"><div class="vjs-time-tooltip" aria-hidden="true" style="right: 0px;">0:00</div></div></div></div><div class="vjs-duration vjs-time-control vjs-control"><span class="vjs-control-text" role="presentation">Duration&nbsp;</span><span class="vjs-duration-display" role="presentation">0:19</span></div><div class="vjs-volume-panel vjs-control vjs-volume-panel-vertical"><button class="vjs-mute-control vjs-control vjs-button vjs-vol-3" type="button" title="Mute" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Mute</span></button><div class="vjs-volume-control vjs-control vjs-volume-vertical"><div tabindex="0" class="vjs-volume-bar vjs-slider-bar vjs-slider vjs-slider-vertical" role="slider" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" aria-label="Volume Level" aria-live="polite" aria-valuetext="100%"><div class="vjs-mouse-display"><div class="vjs-volume-tooltip" aria-hidden="true"></div></div><div class="vjs-volume-level"><span class="vjs-control-text"></span></div></div></div></div><div class="vjs-playback-rate vjs-menu-button vjs-menu-button-popup vjs-control vjs-button"><div class="vjs-playback-rate-value" id="vjs-playback-rate-value-label-wise_player_3_component_593">1x</div><button class="vjs-playback-rate vjs-menu-button vjs-menu-button-popup vjs-button" type="button" aria-disabled="false" title="Playback Rate" aria-haspopup="true" aria-expanded="false" aria-describedby="vjs-playback-rate-value-label-wise_player_3_component_593"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Playback Rate</span></button><div class="vjs-menu"><ul class="vjs-menu-content" role="menu"><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">2x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.8x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.5x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.2x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item vjs-selected" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="true"><span class="vjs-menu-item-text">1x</span><span class="vjs-control-text" aria-live="polite">, selected</span></li></ul></div></div><button class="vjs-fullscreen-control vjs-control vjs-button" type="button" title="Fullscreen" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Fullscreen</span></button></div><div class="vjs-error-display vjs-modal-dialog vjs-hidden " tabindex="-1" aria-describedby="wise_player_3_component_700_description" aria-hidden="true" aria-label="Modal Window" role="dialog" aria-live="polite"><p class="vjs-modal-dialog-description vjs-control-text" id="wise_player_3_component_700_description">This is a modal window.</p><div class="vjs-modal-dialog-content" role="document"></div></div><div class="vjs-modal-dialog vjs-hidden  vjs-text-track-settings" tabindex="-1" aria-describedby="wise_player_3_component_706_description" aria-hidden="true" aria-label="Caption Settings Dialog" role="dialog" aria-live="polite"><p class="vjs-modal-dialog-description vjs-control-text" id="wise_player_3_component_706_description">Beginning of dialog window. Escape will cancel and close the window.</p><div class="vjs-modal-dialog-content" role="document"><div class="vjs-track-settings-colors"><fieldset class="vjs-fg vjs-track-setting"><legend id="captions-text-legend-wise_player_3_component_706">Text</legend><span class="vjs-text-color"><label id="captions-foreground-color-wise_player_3_component_706" for="vjs_select_732" class="vjs-label">Color</label><select aria-labelledby="captions-text-legend-wise_player_3_component_706 captions-foreground-color-wise_player_3_component_706" id="vjs_select_732"><option id="captions-foreground-color-wise_player_3_component_706-White" value="#FFF" aria-labelledby="captions-text-legend-wise_player_3_component_706 captions-foreground-color-wise_player_3_component_706 captions-foreground-color-wise_player_3_component_706-White">White</option><option id="captions-foreground-color-wise_player_3_component_706-Black" value="#000" aria-labelledby="captions-text-legend-wise_player_3_component_706 captions-foreground-color-wise_player_3_component_706 captions-foreground-color-wise_player_3_component_706-Black">Black</option><option id="captions-foreground-color-wise_player_3_component_706-Red" value="#F00" aria-labelledby="captions-text-legend-wise_player_3_component_706 captions-foreground-color-wise_player_3_component_706 captions-foreground-color-wise_player_3_component_706-Red">Red</option><option id="captions-foreground-color-wise_player_3_component_706-Green" value="#0F0" aria-labelledby="captions-text-legend-wise_player_3_component_706 captions-foreground-color-wise_player_3_component_706 captions-foreground-color-wise_player_3_component_706-Green">Green</option><option id="captions-foreground-color-wise_player_3_component_706-Blue" value="#00F" aria-labelledby="captions-text-legend-wise_player_3_component_706 captions-foreground-color-wise_player_3_component_706 captions-foreground-color-wise_player_3_component_706-Blue">Blue</option><option id="captions-foreground-color-wise_player_3_component_706-Yellow" value="#FF0" aria-labelledby="captions-text-legend-wise_player_3_component_706 captions-foreground-color-wise_player_3_component_706 captions-foreground-color-wise_player_3_component_706-Yellow">Yellow</option><option id="captions-foreground-color-wise_player_3_component_706-Magenta" value="#F0F" aria-labelledby="captions-text-legend-wise_player_3_component_706 captions-foreground-color-wise_player_3_component_706 captions-foreground-color-wise_player_3_component_706-Magenta">Magenta</option><option id="captions-foreground-color-wise_player_3_component_706-Cyan" value="#0FF" aria-labelledby="captions-text-legend-wise_player_3_component_706 captions-foreground-color-wise_player_3_component_706 captions-foreground-color-wise_player_3_component_706-Cyan">Cyan</option></select></span><span class="vjs-text-opacity vjs-opacity"><label id="captions-foreground-opacity-wise_player_3_component_706" for="vjs_select_733" class="vjs-label">Opacity</label><select aria-labelledby="captions-text-legend-wise_player_3_component_706 captions-foreground-opacity-wise_player_3_component_706" id="vjs_select_733"><option id="captions-foreground-opacity-wise_player_3_component_706-Opaque" value="1" aria-labelledby="captions-text-legend-wise_player_3_component_706 captions-foreground-opacity-wise_player_3_component_706 captions-foreground-opacity-wise_player_3_component_706-Opaque">Opaque</option><option id="captions-foreground-opacity-wise_player_3_component_706-SemiTransparent" value="0.5" aria-labelledby="captions-text-legend-wise_player_3_component_706 captions-foreground-opacity-wise_player_3_component_706 captions-foreground-opacity-wise_player_3_component_706-SemiTransparent">Semi-Transparent</option></select></span></fieldset><fieldset class="vjs-bg vjs-track-setting"><legend id="captions-background-wise_player_3_component_706">Text Background</legend><span class="vjs-bg-color"><label id="captions-background-color-wise_player_3_component_706" for="vjs_select_734" class="vjs-label">Color</label><select aria-labelledby="captions-background-wise_player_3_component_706 captions-background-color-wise_player_3_component_706" id="vjs_select_734"><option id="captions-background-color-wise_player_3_component_706-Black" value="#000" aria-labelledby="captions-background-wise_player_3_component_706 captions-background-color-wise_player_3_component_706 captions-background-color-wise_player_3_component_706-Black">Black</option><option id="captions-background-color-wise_player_3_component_706-White" value="#FFF" aria-labelledby="captions-background-wise_player_3_component_706 captions-background-color-wise_player_3_component_706 captions-background-color-wise_player_3_component_706-White">White</option><option id="captions-background-color-wise_player_3_component_706-Red" value="#F00" aria-labelledby="captions-background-wise_player_3_component_706 captions-background-color-wise_player_3_component_706 captions-background-color-wise_player_3_component_706-Red">Red</option><option id="captions-background-color-wise_player_3_component_706-Green" value="#0F0" aria-labelledby="captions-background-wise_player_3_component_706 captions-background-color-wise_player_3_component_706 captions-background-color-wise_player_3_component_706-Green">Green</option><option id="captions-background-color-wise_player_3_component_706-Blue" value="#00F" aria-labelledby="captions-background-wise_player_3_component_706 captions-background-color-wise_player_3_component_706 captions-background-color-wise_player_3_component_706-Blue">Blue</option><option id="captions-background-color-wise_player_3_component_706-Yellow" value="#FF0" aria-labelledby="captions-background-wise_player_3_component_706 captions-background-color-wise_player_3_component_706 captions-background-color-wise_player_3_component_706-Yellow">Yellow</option><option id="captions-background-color-wise_player_3_component_706-Magenta" value="#F0F" aria-labelledby="captions-background-wise_player_3_component_706 captions-background-color-wise_player_3_component_706 captions-background-color-wise_player_3_component_706-Magenta">Magenta</option><option id="captions-background-color-wise_player_3_component_706-Cyan" value="#0FF" aria-labelledby="captions-background-wise_player_3_component_706 captions-background-color-wise_player_3_component_706 captions-background-color-wise_player_3_component_706-Cyan">Cyan</option></select></span><span class="vjs-bg-opacity vjs-opacity"><label id="captions-background-opacity-wise_player_3_component_706" for="vjs_select_735" class="vjs-label">Opacity</label><select aria-labelledby="captions-background-wise_player_3_component_706 captions-background-opacity-wise_player_3_component_706" id="vjs_select_735"><option id="captions-background-opacity-wise_player_3_component_706-Opaque" value="1" aria-labelledby="captions-background-wise_player_3_component_706 captions-background-opacity-wise_player_3_component_706 captions-background-opacity-wise_player_3_component_706-Opaque">Opaque</option><option id="captions-background-opacity-wise_player_3_component_706-SemiTransparent" value="0.5" aria-labelledby="captions-background-wise_player_3_component_706 captions-background-opacity-wise_player_3_component_706 captions-background-opacity-wise_player_3_component_706-SemiTransparent">Semi-Transparent</option><option id="captions-background-opacity-wise_player_3_component_706-Transparent" value="0" aria-labelledby="captions-background-wise_player_3_component_706 captions-background-opacity-wise_player_3_component_706 captions-background-opacity-wise_player_3_component_706-Transparent">Transparent</option></select></span></fieldset><fieldset class="vjs-window vjs-track-setting"><legend id="captions-window-wise_player_3_component_706">Caption Area Background</legend><span class="vjs-window-color"><label id="captions-window-color-wise_player_3_component_706" for="vjs_select_736" class="vjs-label">Color</label><select aria-labelledby="captions-window-wise_player_3_component_706 captions-window-color-wise_player_3_component_706" id="vjs_select_736"><option id="captions-window-color-wise_player_3_component_706-Black" value="#000" aria-labelledby="captions-window-wise_player_3_component_706 captions-window-color-wise_player_3_component_706 captions-window-color-wise_player_3_component_706-Black">Black</option><option id="captions-window-color-wise_player_3_component_706-White" value="#FFF" aria-labelledby="captions-window-wise_player_3_component_706 captions-window-color-wise_player_3_component_706 captions-window-color-wise_player_3_component_706-White">White</option><option id="captions-window-color-wise_player_3_component_706-Red" value="#F00" aria-labelledby="captions-window-wise_player_3_component_706 captions-window-color-wise_player_3_component_706 captions-window-color-wise_player_3_component_706-Red">Red</option><option id="captions-window-color-wise_player_3_component_706-Green" value="#0F0" aria-labelledby="captions-window-wise_player_3_component_706 captions-window-color-wise_player_3_component_706 captions-window-color-wise_player_3_component_706-Green">Green</option><option id="captions-window-color-wise_player_3_component_706-Blue" value="#00F" aria-labelledby="captions-window-wise_player_3_component_706 captions-window-color-wise_player_3_component_706 captions-window-color-wise_player_3_component_706-Blue">Blue</option><option id="captions-window-color-wise_player_3_component_706-Yellow" value="#FF0" aria-labelledby="captions-window-wise_player_3_component_706 captions-window-color-wise_player_3_component_706 captions-window-color-wise_player_3_component_706-Yellow">Yellow</option><option id="captions-window-color-wise_player_3_component_706-Magenta" value="#F0F" aria-labelledby="captions-window-wise_player_3_component_706 captions-window-color-wise_player_3_component_706 captions-window-color-wise_player_3_component_706-Magenta">Magenta</option><option id="captions-window-color-wise_player_3_component_706-Cyan" value="#0FF" aria-labelledby="captions-window-wise_player_3_component_706 captions-window-color-wise_player_3_component_706 captions-window-color-wise_player_3_component_706-Cyan">Cyan</option></select></span><span class="vjs-window-opacity vjs-opacity"><label id="captions-window-opacity-wise_player_3_component_706" for="vjs_select_737" class="vjs-label">Opacity</label><select aria-labelledby="captions-window-wise_player_3_component_706 captions-window-opacity-wise_player_3_component_706" id="vjs_select_737"><option id="captions-window-opacity-wise_player_3_component_706-Transparent" value="0" aria-labelledby="captions-window-wise_player_3_component_706 captions-window-opacity-wise_player_3_component_706 captions-window-opacity-wise_player_3_component_706-Transparent">Transparent</option><option id="captions-window-opacity-wise_player_3_component_706-SemiTransparent" value="0.5" aria-labelledby="captions-window-wise_player_3_component_706 captions-window-opacity-wise_player_3_component_706 captions-window-opacity-wise_player_3_component_706-SemiTransparent">Semi-Transparent</option><option id="captions-window-opacity-wise_player_3_component_706-Opaque" value="1" aria-labelledby="captions-window-wise_player_3_component_706 captions-window-opacity-wise_player_3_component_706 captions-window-opacity-wise_player_3_component_706-Opaque">Opaque</option></select></span></fieldset></div><div class="vjs-track-settings-font"><fieldset class="vjs-font-percent vjs-track-setting"><legend id="captions-font-size-wise_player_3_component_706">Font Size</legend><select aria-labelledby="captions-font-size-wise_player_3_component_706" id="vjs_select_738"><option id="captions-font-size-wise_player_3_component_706-50" value="0.50" aria-labelledby="captions-font-size-wise_player_3_component_706 captions-font-size-wise_player_3_component_706-50">50%</option><option id="captions-font-size-wise_player_3_component_706-75" value="0.75" aria-labelledby="captions-font-size-wise_player_3_component_706 captions-font-size-wise_player_3_component_706-75">75%</option><option id="captions-font-size-wise_player_3_component_706-100" value="1.00" aria-labelledby="captions-font-size-wise_player_3_component_706 captions-font-size-wise_player_3_component_706-100">100%</option><option id="captions-font-size-wise_player_3_component_706-125" value="1.25" aria-labelledby="captions-font-size-wise_player_3_component_706 captions-font-size-wise_player_3_component_706-125">125%</option><option id="captions-font-size-wise_player_3_component_706-150" value="1.50" aria-labelledby="captions-font-size-wise_player_3_component_706 captions-font-size-wise_player_3_component_706-150">150%</option><option id="captions-font-size-wise_player_3_component_706-175" value="1.75" aria-labelledby="captions-font-size-wise_player_3_component_706 captions-font-size-wise_player_3_component_706-175">175%</option><option id="captions-font-size-wise_player_3_component_706-200" value="2.00" aria-labelledby="captions-font-size-wise_player_3_component_706 captions-font-size-wise_player_3_component_706-200">200%</option><option id="captions-font-size-wise_player_3_component_706-300" value="3.00" aria-labelledby="captions-font-size-wise_player_3_component_706 captions-font-size-wise_player_3_component_706-300">300%</option><option id="captions-font-size-wise_player_3_component_706-400" value="4.00" aria-labelledby="captions-font-size-wise_player_3_component_706 captions-font-size-wise_player_3_component_706-400">400%</option></select></fieldset><fieldset class="vjs-edge-style vjs-track-setting"><legend id="wise_player_3_component_706">Text Edge Style</legend><select aria-labelledby="wise_player_3_component_706" id="vjs_select_739"><option id="wise_player_3_component_706-None" value="none" aria-labelledby="wise_player_3_component_706 wise_player_3_component_706-None">None</option><option id="wise_player_3_component_706-Raised" value="raised" aria-labelledby="wise_player_3_component_706 wise_player_3_component_706-Raised">Raised</option><option id="wise_player_3_component_706-Depressed" value="depressed" aria-labelledby="wise_player_3_component_706 wise_player_3_component_706-Depressed">Depressed</option><option id="wise_player_3_component_706-Uniform" value="uniform" aria-labelledby="wise_player_3_component_706 wise_player_3_component_706-Uniform">Uniform</option><option id="wise_player_3_component_706-Dropshadow" value="dropshadow" aria-labelledby="wise_player_3_component_706 wise_player_3_component_706-Dropshadow">Drop shadow</option></select></fieldset><fieldset class="vjs-font-family vjs-track-setting"><legend id="captions-font-family-wise_player_3_component_706">Font Family</legend><select aria-labelledby="captions-font-family-wise_player_3_component_706" id="vjs_select_740"><option id="captions-font-family-wise_player_3_component_706-ProportionalSansSerif" value="proportionalSansSerif" aria-labelledby="captions-font-family-wise_player_3_component_706 captions-font-family-wise_player_3_component_706-ProportionalSansSerif">Proportional Sans-Serif</option><option id="captions-font-family-wise_player_3_component_706-MonospaceSansSerif" value="monospaceSansSerif" aria-labelledby="captions-font-family-wise_player_3_component_706 captions-font-family-wise_player_3_component_706-MonospaceSansSerif">Monospace Sans-Serif</option><option id="captions-font-family-wise_player_3_component_706-ProportionalSerif" value="proportionalSerif" aria-labelledby="captions-font-family-wise_player_3_component_706 captions-font-family-wise_player_3_component_706-ProportionalSerif">Proportional Serif</option><option id="captions-font-family-wise_player_3_component_706-MonospaceSerif" value="monospaceSerif" aria-labelledby="captions-font-family-wise_player_3_component_706 captions-font-family-wise_player_3_component_706-MonospaceSerif">Monospace Serif</option><option id="captions-font-family-wise_player_3_component_706-Casual" value="casual" aria-labelledby="captions-font-family-wise_player_3_component_706 captions-font-family-wise_player_3_component_706-Casual">Casual</option><option id="captions-font-family-wise_player_3_component_706-Script" value="script" aria-labelledby="captions-font-family-wise_player_3_component_706 captions-font-family-wise_player_3_component_706-Script">Script</option><option id="captions-font-family-wise_player_3_component_706-SmallCaps" value="small-caps" aria-labelledby="captions-font-family-wise_player_3_component_706 captions-font-family-wise_player_3_component_706-SmallCaps">Small Caps</option></select></fieldset></div><div class="vjs-track-settings-controls"><button type="button" class="vjs-default-button" title="restore all settings to the default values">Reset<span class="vjs-control-text"> restore all settings to the default values</span></button><button type="button" class="vjs-done-button">Done</button></div></div><button class="vjs-close-button vjs-control vjs-button" type="button" title="Close Modal Dialog" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Close Modal Dialog</span></button><p class="vjs-control-text">End of dialog window.</p></div><div wiseplayerindex="3" class="wiseplayershaw"></div></div></div><p></p>    </div>    <div class="tiledSection">     <h3 id="section202910411022">实现原理<i class="anchor-icon anchor-icon-link" anchorid="section202910411022" tips="复制节点链接"></i></h3>          <p><strong>场景分析</strong></p>     <p>1. 用户在本端复制数据，写入到系统剪贴板服务。</p>     <p>2. 系统剪贴板服务处理数据并完成同步，此过程开发者不感知。</p>     <p>3. 用户在远端读取系统剪贴板内容，粘贴来自本端的数据。</p>     <p><span><img height="323.19" originheight="2988" originwidth="4831" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163246.87428439939997013823528453447478:50001231000000:2800:CEAEA1969B7E7C4A50954F304135BE2304C4E1900CEAD171A1E3C307EB90368F.jpg" title="点击放大" width="523.6875"></span></p>     <p><strong>关键技术</strong></p>     <p>在开发跨设备剪贴板功能时，系统会自动处理设备间的数据传输，应用程序可根据实际需求接入跨设备剪贴板，实现跨设备间的数据共享。具体运作机制可参考：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/distributed-pasteboard-overview#section1047015015477" target="_blank">跨设备剪贴板运作机制</a>。</p>    </div>    <div class="tiledSection">     <h3 id="section9433144614213">实现方案<i class="anchor-icon anchor-icon-link" anchorid="section9433144614213" tips="复制节点链接"></i></h3>          <ul>      <li>本端复制数据，写入到剪贴板服务        <p>使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-pasteboard#systempasteboard" target="_blank">SystemPasteboard</a>(系统剪贴板对象)的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-pasteboard#setdata9" target="_blank">setData()</a>方法将本端复制的数据写入剪贴板服务。</p>       <div class="screenLinkPre"><div _ngcontent-ruo-c106="" class="highlight-div"><div _ngcontent-ruo-c106="" class="highlight-div-header"><div _ngcontent-ruo-c106="" class="highlight-div-header-left"><div _ngcontent-ruo-c106="" class="handle-button expand-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruo-c106="" class="highlight-div-header-right"><div _ngcontent-ruo-c106="" class="handle-button ai-button"></div><div _ngcontent-ruo-c106="" class="handle-button line-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruo-c106="" class="handle-button theme-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruo-c106="" class="handle-button copy-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruo-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/ContinuePublish/blob/master/entry/src/main/ets/view/AddPic.ets#L198-L206" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Copy picture.</span></li><li><span class="hljs-variable">async</span> <span class="hljs-title function_">setPasteDataTest</span>(<span class="hljs-variable">pixelMap</span>: <span class="hljs-title class_">image</span>.<span class="hljs-title class_">PixelMap</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">void</span>&gt; {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-variable">pasteData</span>: <span class="hljs-title class_">pasteboard</span>.<span class="hljs-title class_">PasteData</span> = <span class="hljs-variable">pasteboard</span>.<span class="hljs-title function_">createData</span>(<span class="hljs-variable">pasteboard</span>.<span class="hljs-variable">MIMETYPE_PIXELMAP</span>, <span class="hljs-variable">pixelMap</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-variable">systemPasteBoard</span>: <span class="hljs-title class_">pasteboard</span>.<span class="hljs-title class_">SystemPasteboard</span> = <span class="hljs-variable">pasteboard</span>.<span class="hljs-title function_">getSystemPasteboard</span>();</li><li>  <span class="hljs-variable">await</span> <span class="hljs-variable">systemPasteBoard</span>.<span class="hljs-title function_">setData</span>(<span class="hljs-variable">pasteData</span>).<span class="hljs-keyword">catch</span>((<span class="hljs-variable">err</span>: <span class="hljs-title class_">BusinessError</span>) =&gt; {</li><li>    <span class="hljs-variable">hilog</span>.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[AddPic]'</span>, `<span class="hljs-variable">Failed</span> <span class="hljs-variable">to</span> <span class="hljs-variable">set</span> <span class="hljs-variable">pastedata</span>. <span class="hljs-variable">Code</span>: ${<span class="hljs-variable">err</span>.<span class="hljs-variable">code</span>}, <span class="hljs-variable">message</span>: ${<span class="hljs-variable">err</span>.<span class="hljs-variable">message</span>}`);</li><li>  });</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/ContinuePublish/blob/master/entry/src/main/ets/view/AddPic.ets#L198-L206" target="_blank">AddPic.ets</a></div></div></div></div></li>      <li>远端粘贴数据，读取剪贴板内容        <p>在远端设备上粘贴数据时，使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-pasteboard#systempasteboard" target="_blank">SystemPasteboard</a>（系统剪贴板对象）的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-pasteboard#getdata9" target="_blank">getData()</a>方法读取剪贴板中的内容，并将数据展示在页面上。</p>       <div class="screenLinkPre"><div _ngcontent-ruo-c106="" class="highlight-div"><div _ngcontent-ruo-c106="" class="highlight-div-header"><div _ngcontent-ruo-c106="" class="highlight-div-header-left"><div _ngcontent-ruo-c106="" class="handle-button expand-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruo-c106="" class="highlight-div-header-right"><div _ngcontent-ruo-c106="" class="handle-button ai-button"></div><div _ngcontent-ruo-c106="" class="handle-button line-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruo-c106="" class="handle-button theme-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruo-c106="" class="handle-button copy-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruo-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/ContinuePublish/blob/master/entry/src/main/ets/view/AddPic.ets#L210-L239" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Paste picture.</span></li><li><span class="hljs-variable">async</span> <span class="hljs-title function_">getPasteDataTest</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">void</span>&gt; {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-variable">systemPasteBoard</span>: <span class="hljs-title class_">pasteboard</span>.<span class="hljs-title class_">SystemPasteboard</span> = <span class="hljs-variable">pasteboard</span>.<span class="hljs-title function_">getSystemPasteboard</span>();</li><li>  <span class="hljs-variable">systemPasteBoard</span>.<span class="hljs-title function_">getData</span>((<span class="hljs-variable">err</span>: <span class="hljs-title class_">BusinessError</span>, <span class="hljs-variable">data</span>: <span class="hljs-title class_">pasteboard</span>.<span class="hljs-title class_">PasteData</span>) =&gt; {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable">err</span>) {</li><li>      <span class="hljs-variable">hilog</span>.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[AddPic]'</span>, `<span class="hljs-variable">Failed</span> <span class="hljs-variable">to</span> <span class="hljs-variable">get</span> <span class="hljs-variable">pastedata</span>. <span class="hljs-variable">Code</span>: ${<span class="hljs-variable">err</span>.<span class="hljs-variable">code</span>}, <span class="hljs-variable">message</span>: ${<span class="hljs-variable">err</span>.<span class="hljs-variable">message</span>}`);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-comment">// Process pasteData, obtain type, number, etc</span></li><li>    <span class="hljs-comment">// Retrieve the number of records in the clipboard.</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-variable">recordCount</span>: <span class="hljs-title class_">number</span> = <span class="hljs-variable">data</span>.<span class="hljs-title function_">getRecordCount</span>();</li><li>    <span class="hljs-comment">// Retrieve the type of data from the clipboard.</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-variable">types</span>: <span class="hljs-title class_">string</span> = <span class="hljs-variable">data</span>.<span class="hljs-title function_">getPrimaryMimeType</span>();</li><li>    <span class="hljs-variable">hilog</span>.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[AddPic]'</span>, `<span class="hljs-variable">recordCount</span>: ${<span class="hljs-variable">recordCount</span>}, <span class="hljs-variable">types</span>: ${<span class="hljs-variable">types</span>}`);</li><li>    <span class="hljs-comment">// Retrieve the content of data from the clipboard.</span></li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable">types</span> === <span class="hljs-string">'pixelMap'</span>) {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-variable">primaryPixelMap</span>: <span class="hljs-title class_">image</span>.<span class="hljs-title class_">PixelMap</span> = <span class="hljs-variable">data</span>.<span class="hljs-title function_">getPrimaryPixelMap</span>();</li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.<span class="hljs-variable">imageUriArray</span>.<span class="hljs-variable">length</span> &lt; <span class="hljs-title class_">CommonConstants</span>.<span class="hljs-title class_">MAX_ADD_PIC</span>) {</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-variable">uuid</span> = <span class="hljs-variable">util</span>.<span class="hljs-title function_">generateRandomUUID</span>();</li><li>        <span class="hljs-keyword">this</span>.<span class="hljs-title function_">PixelMapToBuffer</span>(<span class="hljs-variable">primaryPixelMap</span>, <span class="hljs-variable">uuid</span>);</li><li>        <span class="hljs-keyword">this</span>.<span class="hljs-variable">imageUriArray</span>.<span class="hljs-title function_">push</span>({ <span class="hljs-variable">imagePixelMap</span>: <span class="hljs-title class_">primaryPixelMap</span>, <span class="hljs-variable">imageName</span>: <span class="hljs-title class_">uuid</span> });</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-keyword">this</span>.<span class="hljs-variable">toastShow</span> = <span class="hljs-keyword">true</span>;</li><li>      }</li><li>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable">types</span> === <span class="hljs-string">'text/uri'</span>) {</li><li>      <span class="hljs-keyword">this</span>.<span class="hljs-title function_">uri2pixelMap</span>(<span class="hljs-variable">data</span>.<span class="hljs-title function_">getPrimaryUri</span>());</li><li>    }</li><li>  });</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/ContinuePublish/blob/master/entry/src/main/ets/view/AddPic.ets#L210-L239" target="_blank">AddPic.ets</a></div></div></div></div></li>     </ul>    </div>    <div class="tiledSection">     <h2 id="section181890343316">跨设备应用接续<i class="anchor-icon anchor-icon-link" anchorid="section181890343316" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="section2610141220411" class="firsth2">场景描述<i class="anchor-icon anchor-icon-link" anchorid="section2610141220411" tips="复制节点链接"></i></h3>          <p>在用户使用过程中，使用情景发生了变化，之前使用的设备不再适合继续当前任务，或者周围有更合适的设备，此时用户可以选择使用新的设备来继续当前的任务。接续完成后，之前设备的应用可退出或保留，用户可以将注意力集中在被拉起的设备上，继续执行任务。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该功能的使用需满足设备限制和使用限制，具体约束与限制可参考：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-continuation-guide#section17575828642" target="_blank">应用接续约束与限制</a>。</p>      </div></div></div>     <p><strong>实现效果</strong></p>     <p>      </p><div class="video-box" style="width: 920px; height: 517.5px;"><div id="wise_player_4" videodata="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163247.64974994364213860339407134031423:50001231000000:2800:E6728118199F0B626B0A161AA7F65866F1DF4B2850E59C604E3253F61F819B03.mp4" preload="none" class="edui-upload-video vjs-fluid vjs-default-skin video-js vjs-paused vjs_video_3-dimensions vjs-controls-enabled vjs-workinghover vjs-v7 vjs-user-active wise_player_4-dimensions vjs-v8" tabindex="-1" role="region" lang="cn" translate="no" aria-label="Video Player"><video class="vjs-tech" preload="none" videodata="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163247.64974994364213860339407134031423:50001231000000:2800:E6728118199F0B626B0A161AA7F65866F1DF4B2850E59C604E3253F61F819B03.mp4" id="wise_player_4_html5_api" tabindex="-1" role="application" loop="" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163247.64974994364213860339407134031423:50001231000000:2800:E6728118199F0B626B0A161AA7F65866F1DF4B2850E59C604E3253F61F819B03.mp4"></video><div class="vjs-poster vjs-hidden" aria-disabled="false"></div><div class="vjs-title-bar vjs-hidden"><div class="vjs-title-bar-title" id="vjs-title-bar-title-776"></div><div class="vjs-title-bar-description" id="vjs-title-bar-description-777"></div></div><div class="vjs-text-track-display" translate="yes" aria-live="off" aria-atomic="true"><div style="position: absolute; inset: 0px; margin: 1.5%;"></div></div><div class="vjs-loading-spinner" dir="ltr"><span class="vjs-control-text">Video Player is loading.</span></div><button class="vjs-big-play-button" type="button" title="Play Video" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Play Video</span></button><div class="vjs-control-bar" dir="ltr"><button class="vjs-play-control vjs-control vjs-button" type="button" title="Play" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Play</span></button><div class="vjs-current-time vjs-time-control vjs-control"><span class="vjs-control-text" role="presentation">Current Time&nbsp;</span><span class="vjs-current-time-display" role="presentation">0:00</span></div><div class="vjs-progress-control vjs-control"><div tabindex="0" class="vjs-progress-holder vjs-slider vjs-slider-horizontal" role="slider" aria-valuenow="0.00" aria-valuemin="0" aria-valuemax="100" aria-label="Progress Bar" aria-valuetext="0:00 of 0:02"><div class="vjs-load-progress" style="width: 100%;"><span class="vjs-control-text"><span>Loaded</span>: <span class="vjs-control-text-loaded-percentage">100.00%</span></span><div data-start="0" data-end="0.419" style="left: 0%; width: 14.62%;"></div><div data-start="2.827" data-end="2.866633" style="left: 98.62%; width: 1.38%;"></div></div><div class="vjs-mouse-display"><div class="vjs-time-tooltip" aria-hidden="true"></div></div><div class="vjs-play-progress vjs-slider-bar" aria-hidden="true" style="width: 0%;"><div class="vjs-time-tooltip" aria-hidden="true" style="right: 0px;">0:00</div></div></div></div><div class="vjs-duration vjs-time-control vjs-control"><span class="vjs-control-text" role="presentation">Duration&nbsp;</span><span class="vjs-duration-display" role="presentation">0:02</span></div><div class="vjs-volume-panel vjs-control vjs-volume-panel-vertical"><button class="vjs-mute-control vjs-control vjs-button vjs-vol-3" type="button" title="Mute" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Mute</span></button><div class="vjs-volume-control vjs-control vjs-volume-vertical"><div tabindex="0" class="vjs-volume-bar vjs-slider-bar vjs-slider vjs-slider-vertical" role="slider" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" aria-label="Volume Level" aria-live="polite" aria-valuetext="100%"><div class="vjs-mouse-display"><div class="vjs-volume-tooltip" aria-hidden="true"></div></div><div class="vjs-volume-level"><span class="vjs-control-text"></span></div></div></div></div><div class="vjs-playback-rate vjs-menu-button vjs-menu-button-popup vjs-control vjs-button"><div class="vjs-playback-rate-value" id="vjs-playback-rate-value-label-wise_player_4_component_961">1x</div><button class="vjs-playback-rate vjs-menu-button vjs-menu-button-popup vjs-button" type="button" aria-disabled="false" title="Playback Rate" aria-haspopup="true" aria-expanded="false" aria-describedby="vjs-playback-rate-value-label-wise_player_4_component_961"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Playback Rate</span></button><div class="vjs-menu"><ul class="vjs-menu-content" role="menu"><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">2x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.8x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.5x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.2x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item vjs-selected" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="true"><span class="vjs-menu-item-text">1x</span><span class="vjs-control-text" aria-live="polite">, selected</span></li></ul></div></div><button class="vjs-fullscreen-control vjs-control vjs-button" type="button" title="Fullscreen" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Fullscreen</span></button></div><div class="vjs-error-display vjs-modal-dialog vjs-hidden " tabindex="-1" aria-describedby="wise_player_4_component_1068_description" aria-hidden="true" aria-label="Modal Window" role="dialog" aria-live="polite"><p class="vjs-modal-dialog-description vjs-control-text" id="wise_player_4_component_1068_description">This is a modal window.</p><div class="vjs-modal-dialog-content" role="document"></div></div><div class="vjs-modal-dialog vjs-hidden  vjs-text-track-settings" tabindex="-1" aria-describedby="wise_player_4_component_1074_description" aria-hidden="true" aria-label="Caption Settings Dialog" role="dialog" aria-live="polite"><p class="vjs-modal-dialog-description vjs-control-text" id="wise_player_4_component_1074_description">Beginning of dialog window. Escape will cancel and close the window.</p><div class="vjs-modal-dialog-content" role="document"><div class="vjs-track-settings-colors"><fieldset class="vjs-fg vjs-track-setting"><legend id="captions-text-legend-wise_player_4_component_1074">Text</legend><span class="vjs-text-color"><label id="captions-foreground-color-wise_player_4_component_1074" for="vjs_select_1100" class="vjs-label">Color</label><select aria-labelledby="captions-text-legend-wise_player_4_component_1074 captions-foreground-color-wise_player_4_component_1074" id="vjs_select_1100"><option id="captions-foreground-color-wise_player_4_component_1074-White" value="#FFF" aria-labelledby="captions-text-legend-wise_player_4_component_1074 captions-foreground-color-wise_player_4_component_1074 captions-foreground-color-wise_player_4_component_1074-White">White</option><option id="captions-foreground-color-wise_player_4_component_1074-Black" value="#000" aria-labelledby="captions-text-legend-wise_player_4_component_1074 captions-foreground-color-wise_player_4_component_1074 captions-foreground-color-wise_player_4_component_1074-Black">Black</option><option id="captions-foreground-color-wise_player_4_component_1074-Red" value="#F00" aria-labelledby="captions-text-legend-wise_player_4_component_1074 captions-foreground-color-wise_player_4_component_1074 captions-foreground-color-wise_player_4_component_1074-Red">Red</option><option id="captions-foreground-color-wise_player_4_component_1074-Green" value="#0F0" aria-labelledby="captions-text-legend-wise_player_4_component_1074 captions-foreground-color-wise_player_4_component_1074 captions-foreground-color-wise_player_4_component_1074-Green">Green</option><option id="captions-foreground-color-wise_player_4_component_1074-Blue" value="#00F" aria-labelledby="captions-text-legend-wise_player_4_component_1074 captions-foreground-color-wise_player_4_component_1074 captions-foreground-color-wise_player_4_component_1074-Blue">Blue</option><option id="captions-foreground-color-wise_player_4_component_1074-Yellow" value="#FF0" aria-labelledby="captions-text-legend-wise_player_4_component_1074 captions-foreground-color-wise_player_4_component_1074 captions-foreground-color-wise_player_4_component_1074-Yellow">Yellow</option><option id="captions-foreground-color-wise_player_4_component_1074-Magenta" value="#F0F" aria-labelledby="captions-text-legend-wise_player_4_component_1074 captions-foreground-color-wise_player_4_component_1074 captions-foreground-color-wise_player_4_component_1074-Magenta">Magenta</option><option id="captions-foreground-color-wise_player_4_component_1074-Cyan" value="#0FF" aria-labelledby="captions-text-legend-wise_player_4_component_1074 captions-foreground-color-wise_player_4_component_1074 captions-foreground-color-wise_player_4_component_1074-Cyan">Cyan</option></select></span><span class="vjs-text-opacity vjs-opacity"><label id="captions-foreground-opacity-wise_player_4_component_1074" for="vjs_select_1101" class="vjs-label">Opacity</label><select aria-labelledby="captions-text-legend-wise_player_4_component_1074 captions-foreground-opacity-wise_player_4_component_1074" id="vjs_select_1101"><option id="captions-foreground-opacity-wise_player_4_component_1074-Opaque" value="1" aria-labelledby="captions-text-legend-wise_player_4_component_1074 captions-foreground-opacity-wise_player_4_component_1074 captions-foreground-opacity-wise_player_4_component_1074-Opaque">Opaque</option><option id="captions-foreground-opacity-wise_player_4_component_1074-SemiTransparent" value="0.5" aria-labelledby="captions-text-legend-wise_player_4_component_1074 captions-foreground-opacity-wise_player_4_component_1074 captions-foreground-opacity-wise_player_4_component_1074-SemiTransparent">Semi-Transparent</option></select></span></fieldset><fieldset class="vjs-bg vjs-track-setting"><legend id="captions-background-wise_player_4_component_1074">Text Background</legend><span class="vjs-bg-color"><label id="captions-background-color-wise_player_4_component_1074" for="vjs_select_1102" class="vjs-label">Color</label><select aria-labelledby="captions-background-wise_player_4_component_1074 captions-background-color-wise_player_4_component_1074" id="vjs_select_1102"><option id="captions-background-color-wise_player_4_component_1074-Black" value="#000" aria-labelledby="captions-background-wise_player_4_component_1074 captions-background-color-wise_player_4_component_1074 captions-background-color-wise_player_4_component_1074-Black">Black</option><option id="captions-background-color-wise_player_4_component_1074-White" value="#FFF" aria-labelledby="captions-background-wise_player_4_component_1074 captions-background-color-wise_player_4_component_1074 captions-background-color-wise_player_4_component_1074-White">White</option><option id="captions-background-color-wise_player_4_component_1074-Red" value="#F00" aria-labelledby="captions-background-wise_player_4_component_1074 captions-background-color-wise_player_4_component_1074 captions-background-color-wise_player_4_component_1074-Red">Red</option><option id="captions-background-color-wise_player_4_component_1074-Green" value="#0F0" aria-labelledby="captions-background-wise_player_4_component_1074 captions-background-color-wise_player_4_component_1074 captions-background-color-wise_player_4_component_1074-Green">Green</option><option id="captions-background-color-wise_player_4_component_1074-Blue" value="#00F" aria-labelledby="captions-background-wise_player_4_component_1074 captions-background-color-wise_player_4_component_1074 captions-background-color-wise_player_4_component_1074-Blue">Blue</option><option id="captions-background-color-wise_player_4_component_1074-Yellow" value="#FF0" aria-labelledby="captions-background-wise_player_4_component_1074 captions-background-color-wise_player_4_component_1074 captions-background-color-wise_player_4_component_1074-Yellow">Yellow</option><option id="captions-background-color-wise_player_4_component_1074-Magenta" value="#F0F" aria-labelledby="captions-background-wise_player_4_component_1074 captions-background-color-wise_player_4_component_1074 captions-background-color-wise_player_4_component_1074-Magenta">Magenta</option><option id="captions-background-color-wise_player_4_component_1074-Cyan" value="#0FF" aria-labelledby="captions-background-wise_player_4_component_1074 captions-background-color-wise_player_4_component_1074 captions-background-color-wise_player_4_component_1074-Cyan">Cyan</option></select></span><span class="vjs-bg-opacity vjs-opacity"><label id="captions-background-opacity-wise_player_4_component_1074" for="vjs_select_1103" class="vjs-label">Opacity</label><select aria-labelledby="captions-background-wise_player_4_component_1074 captions-background-opacity-wise_player_4_component_1074" id="vjs_select_1103"><option id="captions-background-opacity-wise_player_4_component_1074-Opaque" value="1" aria-labelledby="captions-background-wise_player_4_component_1074 captions-background-opacity-wise_player_4_component_1074 captions-background-opacity-wise_player_4_component_1074-Opaque">Opaque</option><option id="captions-background-opacity-wise_player_4_component_1074-SemiTransparent" value="0.5" aria-labelledby="captions-background-wise_player_4_component_1074 captions-background-opacity-wise_player_4_component_1074 captions-background-opacity-wise_player_4_component_1074-SemiTransparent">Semi-Transparent</option><option id="captions-background-opacity-wise_player_4_component_1074-Transparent" value="0" aria-labelledby="captions-background-wise_player_4_component_1074 captions-background-opacity-wise_player_4_component_1074 captions-background-opacity-wise_player_4_component_1074-Transparent">Transparent</option></select></span></fieldset><fieldset class="vjs-window vjs-track-setting"><legend id="captions-window-wise_player_4_component_1074">Caption Area Background</legend><span class="vjs-window-color"><label id="captions-window-color-wise_player_4_component_1074" for="vjs_select_1104" class="vjs-label">Color</label><select aria-labelledby="captions-window-wise_player_4_component_1074 captions-window-color-wise_player_4_component_1074" id="vjs_select_1104"><option id="captions-window-color-wise_player_4_component_1074-Black" value="#000" aria-labelledby="captions-window-wise_player_4_component_1074 captions-window-color-wise_player_4_component_1074 captions-window-color-wise_player_4_component_1074-Black">Black</option><option id="captions-window-color-wise_player_4_component_1074-White" value="#FFF" aria-labelledby="captions-window-wise_player_4_component_1074 captions-window-color-wise_player_4_component_1074 captions-window-color-wise_player_4_component_1074-White">White</option><option id="captions-window-color-wise_player_4_component_1074-Red" value="#F00" aria-labelledby="captions-window-wise_player_4_component_1074 captions-window-color-wise_player_4_component_1074 captions-window-color-wise_player_4_component_1074-Red">Red</option><option id="captions-window-color-wise_player_4_component_1074-Green" value="#0F0" aria-labelledby="captions-window-wise_player_4_component_1074 captions-window-color-wise_player_4_component_1074 captions-window-color-wise_player_4_component_1074-Green">Green</option><option id="captions-window-color-wise_player_4_component_1074-Blue" value="#00F" aria-labelledby="captions-window-wise_player_4_component_1074 captions-window-color-wise_player_4_component_1074 captions-window-color-wise_player_4_component_1074-Blue">Blue</option><option id="captions-window-color-wise_player_4_component_1074-Yellow" value="#FF0" aria-labelledby="captions-window-wise_player_4_component_1074 captions-window-color-wise_player_4_component_1074 captions-window-color-wise_player_4_component_1074-Yellow">Yellow</option><option id="captions-window-color-wise_player_4_component_1074-Magenta" value="#F0F" aria-labelledby="captions-window-wise_player_4_component_1074 captions-window-color-wise_player_4_component_1074 captions-window-color-wise_player_4_component_1074-Magenta">Magenta</option><option id="captions-window-color-wise_player_4_component_1074-Cyan" value="#0FF" aria-labelledby="captions-window-wise_player_4_component_1074 captions-window-color-wise_player_4_component_1074 captions-window-color-wise_player_4_component_1074-Cyan">Cyan</option></select></span><span class="vjs-window-opacity vjs-opacity"><label id="captions-window-opacity-wise_player_4_component_1074" for="vjs_select_1105" class="vjs-label">Opacity</label><select aria-labelledby="captions-window-wise_player_4_component_1074 captions-window-opacity-wise_player_4_component_1074" id="vjs_select_1105"><option id="captions-window-opacity-wise_player_4_component_1074-Transparent" value="0" aria-labelledby="captions-window-wise_player_4_component_1074 captions-window-opacity-wise_player_4_component_1074 captions-window-opacity-wise_player_4_component_1074-Transparent">Transparent</option><option id="captions-window-opacity-wise_player_4_component_1074-SemiTransparent" value="0.5" aria-labelledby="captions-window-wise_player_4_component_1074 captions-window-opacity-wise_player_4_component_1074 captions-window-opacity-wise_player_4_component_1074-SemiTransparent">Semi-Transparent</option><option id="captions-window-opacity-wise_player_4_component_1074-Opaque" value="1" aria-labelledby="captions-window-wise_player_4_component_1074 captions-window-opacity-wise_player_4_component_1074 captions-window-opacity-wise_player_4_component_1074-Opaque">Opaque</option></select></span></fieldset></div><div class="vjs-track-settings-font"><fieldset class="vjs-font-percent vjs-track-setting"><legend id="captions-font-size-wise_player_4_component_1074">Font Size</legend><select aria-labelledby="captions-font-size-wise_player_4_component_1074" id="vjs_select_1106"><option id="captions-font-size-wise_player_4_component_1074-50" value="0.50" aria-labelledby="captions-font-size-wise_player_4_component_1074 captions-font-size-wise_player_4_component_1074-50">50%</option><option id="captions-font-size-wise_player_4_component_1074-75" value="0.75" aria-labelledby="captions-font-size-wise_player_4_component_1074 captions-font-size-wise_player_4_component_1074-75">75%</option><option id="captions-font-size-wise_player_4_component_1074-100" value="1.00" aria-labelledby="captions-font-size-wise_player_4_component_1074 captions-font-size-wise_player_4_component_1074-100">100%</option><option id="captions-font-size-wise_player_4_component_1074-125" value="1.25" aria-labelledby="captions-font-size-wise_player_4_component_1074 captions-font-size-wise_player_4_component_1074-125">125%</option><option id="captions-font-size-wise_player_4_component_1074-150" value="1.50" aria-labelledby="captions-font-size-wise_player_4_component_1074 captions-font-size-wise_player_4_component_1074-150">150%</option><option id="captions-font-size-wise_player_4_component_1074-175" value="1.75" aria-labelledby="captions-font-size-wise_player_4_component_1074 captions-font-size-wise_player_4_component_1074-175">175%</option><option id="captions-font-size-wise_player_4_component_1074-200" value="2.00" aria-labelledby="captions-font-size-wise_player_4_component_1074 captions-font-size-wise_player_4_component_1074-200">200%</option><option id="captions-font-size-wise_player_4_component_1074-300" value="3.00" aria-labelledby="captions-font-size-wise_player_4_component_1074 captions-font-size-wise_player_4_component_1074-300">300%</option><option id="captions-font-size-wise_player_4_component_1074-400" value="4.00" aria-labelledby="captions-font-size-wise_player_4_component_1074 captions-font-size-wise_player_4_component_1074-400">400%</option></select></fieldset><fieldset class="vjs-edge-style vjs-track-setting"><legend id="wise_player_4_component_1074">Text Edge Style</legend><select aria-labelledby="wise_player_4_component_1074" id="vjs_select_1107"><option id="wise_player_4_component_1074-None" value="none" aria-labelledby="wise_player_4_component_1074 wise_player_4_component_1074-None">None</option><option id="wise_player_4_component_1074-Raised" value="raised" aria-labelledby="wise_player_4_component_1074 wise_player_4_component_1074-Raised">Raised</option><option id="wise_player_4_component_1074-Depressed" value="depressed" aria-labelledby="wise_player_4_component_1074 wise_player_4_component_1074-Depressed">Depressed</option><option id="wise_player_4_component_1074-Uniform" value="uniform" aria-labelledby="wise_player_4_component_1074 wise_player_4_component_1074-Uniform">Uniform</option><option id="wise_player_4_component_1074-Dropshadow" value="dropshadow" aria-labelledby="wise_player_4_component_1074 wise_player_4_component_1074-Dropshadow">Drop shadow</option></select></fieldset><fieldset class="vjs-font-family vjs-track-setting"><legend id="captions-font-family-wise_player_4_component_1074">Font Family</legend><select aria-labelledby="captions-font-family-wise_player_4_component_1074" id="vjs_select_1108"><option id="captions-font-family-wise_player_4_component_1074-ProportionalSansSerif" value="proportionalSansSerif" aria-labelledby="captions-font-family-wise_player_4_component_1074 captions-font-family-wise_player_4_component_1074-ProportionalSansSerif">Proportional Sans-Serif</option><option id="captions-font-family-wise_player_4_component_1074-MonospaceSansSerif" value="monospaceSansSerif" aria-labelledby="captions-font-family-wise_player_4_component_1074 captions-font-family-wise_player_4_component_1074-MonospaceSansSerif">Monospace Sans-Serif</option><option id="captions-font-family-wise_player_4_component_1074-ProportionalSerif" value="proportionalSerif" aria-labelledby="captions-font-family-wise_player_4_component_1074 captions-font-family-wise_player_4_component_1074-ProportionalSerif">Proportional Serif</option><option id="captions-font-family-wise_player_4_component_1074-MonospaceSerif" value="monospaceSerif" aria-labelledby="captions-font-family-wise_player_4_component_1074 captions-font-family-wise_player_4_component_1074-MonospaceSerif">Monospace Serif</option><option id="captions-font-family-wise_player_4_component_1074-Casual" value="casual" aria-labelledby="captions-font-family-wise_player_4_component_1074 captions-font-family-wise_player_4_component_1074-Casual">Casual</option><option id="captions-font-family-wise_player_4_component_1074-Script" value="script" aria-labelledby="captions-font-family-wise_player_4_component_1074 captions-font-family-wise_player_4_component_1074-Script">Script</option><option id="captions-font-family-wise_player_4_component_1074-SmallCaps" value="small-caps" aria-labelledby="captions-font-family-wise_player_4_component_1074 captions-font-family-wise_player_4_component_1074-SmallCaps">Small Caps</option></select></fieldset></div><div class="vjs-track-settings-controls"><button type="button" class="vjs-default-button" title="restore all settings to the default values">Reset<span class="vjs-control-text"> restore all settings to the default values</span></button><button type="button" class="vjs-done-button">Done</button></div></div><button class="vjs-close-button vjs-control vjs-button" type="button" title="Close Modal Dialog" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Close Modal Dialog</span></button><p class="vjs-control-text">End of dialog window.</p></div><div wiseplayerindex="4" class="wiseplayershaw"></div></div></div><p></p>    </div>    <div class="tiledSection">     <h3 id="section12387522834">实现原理<i class="anchor-icon anchor-icon-link" anchorid="section12387522834" tips="复制节点链接"></i></h3>          <p><strong>场景分析</strong></p>     <ol>      <li>输入数据：用户在本端设备的编辑页面上选择照片、输入标题和正文等文字信息。</li>      <li>用户点击远端设备Dock栏图标后，本端设备发起接续，数据进行传输。</li>      <li>远端设备接收接续数据并显示。</li>     </ol>     <p>场景核心在于应用接续的过程中如何传递数据。对于文字信息可使用分布式数据对象保存，对于图片可以拷贝到分布式文件目录下，使用分布式数据资产作为分布式数据对象的根属性保存。</p>     <p><span><img height="289.27500000000003" originheight="1699" originwidth="3075" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163246.38783345250784278303110503124498:50001231000000:2800:BDEA49B1E342F529A7A0CF368CD9660F4F85A5A5CE0B8A56C0E4A00A666FA43B.png" title="点击放大" width="523.6875"></span></p>     <p><strong>关键技术</strong></p>     <p>将发起接续的设备称为本端设备，接收数据的设备称为远端设备，运作机制如图，接续过程底层依赖分布式框架和软总线，开发者只需要启用接续、保存数据和恢复数据，具体运作机制可参考：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-continuation-overview#section13558148125311" target="_blank">应用接续运作机制</a>。</p>    </div>    <div class="tiledSection">     <h3 id="section146610231533">实现方案<i class="anchor-icon anchor-icon-link" anchorid="section146610231533" tips="复制节点链接"></i></h3>         </div>    <ul>     <li>启用应用接续能力       <p>在module.json5文件的abilities中，将continuable标签配置为“true”，表示该UIAbility可被迁移。配置为false的UIAbility将被系统识别为无法迁移且该配置默认值为false。</p>      <div class="screenLinkPre"><div _ngcontent-ruo-c106="" class="highlight-div"><div _ngcontent-ruo-c106="" class="highlight-div-header"><div _ngcontent-ruo-c106="" class="highlight-div-header-left"><div _ngcontent-ruo-c106="" class="handle-button expand-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruo-c106="" class="highlight-div-header-right"><div _ngcontent-ruo-c106="" class="handle-button ai-button"></div><div _ngcontent-ruo-c106="" class="handle-button line-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruo-c106="" class="handle-button theme-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruo-c106="" class="handle-button copy-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruo-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/ContinuePublish/blob/master/entry/src/main/module.json5#L2-L81" data-highlighted="yes"><ol class="linenums"><li>{</li><li>  <span class="hljs-string">"module"</span>: {</li><li>    <span class="hljs-comment">// ...</span></li><li>    <span class="hljs-string">"abilities"</span>: [</li><li>      {</li><li>        <span class="hljs-comment">// ...</span></li><li>        <span class="hljs-string">"continuable"</span>: <span class="hljs-keyword">true</span>,</li><li>        <span class="hljs-comment">// ...</span></li><li>      }</li><li>    ],</li><li>    <span class="hljs-comment">// ...</span></li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/ContinuePublish/blob/master/entry/src/main/module.json5#L2-L81" target="_blank">module.json5</a></div></div></div></div></li>     <li>基础数据&amp;文件资产迁移       <p>对于图片、文档等文件类数据，可以转化成ArrayBuffer类型，保存在分布式文件目录下。</p>      <div class="screenLinkPre"><div _ngcontent-ruo-c106="" class="highlight-div"><div _ngcontent-ruo-c106="" class="highlight-div-header"><div _ngcontent-ruo-c106="" class="highlight-div-header-left"><div _ngcontent-ruo-c106="" class="handle-button expand-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruo-c106="" class="highlight-div-header-right"><div _ngcontent-ruo-c106="" class="handle-button ai-button"></div><div _ngcontent-ruo-c106="" class="handle-button line-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruo-c106="" class="handle-button theme-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruo-c106="" class="handle-button copy-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruo-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/ContinuePublish/blob/master/entry/src/main/ets/view/AddPic.ets#L95-L116" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title function_">writeDistributedFile</span>(<span class="hljs-variable">buf</span>: <span class="hljs-title class_">ArrayBuffer</span>, <span class="hljs-variable">displayName</span>: <span class="hljs-title class_">string</span>): <span class="hljs-title class_">void</span> {</li><li>  <span class="hljs-comment">// The asset is written to the distributed file directory.</span></li><li>  <span class="hljs-comment">// Obtain the distributed file directory path.</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-variable">distributedDir</span>: <span class="hljs-title class_">string</span> = <span class="hljs-keyword">this</span>.<span class="hljs-variable">context</span>.<span class="hljs-variable">distributedFilesDir</span>;</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-variable">fileName</span>: <span class="hljs-title class_">string</span> = <span class="hljs-string">'/'</span> + <span class="hljs-variable">displayName</span>;</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-variable">filePath</span>: <span class="hljs-title class_">string</span> = <span class="hljs-variable">distributedDir</span> + <span class="hljs-variable">fileName</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// Create a file in a distributed directory.</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-variable">file</span> = <span class="hljs-variable">fs</span>.<span class="hljs-title function_">openSync</span>(<span class="hljs-variable">filePath</span>, <span class="hljs-variable">fs</span>.<span class="hljs-variable">OpenMode</span>.<span class="hljs-variable">READ_WRITE</span> | <span class="hljs-variable">fs</span>.<span class="hljs-variable">OpenMode</span>.<span class="hljs-variable">CREATE</span>);</li><li>    <span class="hljs-variable">hilog</span>.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[AddPic]'</span>, <span class="hljs-string">'Create file success.'</span>);</li><li>    <span class="hljs-comment">// Write content to a file (if the asset is a picture, the picture can be converted to a buffer to write)</span></li><li>    <span class="hljs-variable">fs</span>.<span class="hljs-title function_">writeSync</span>(<span class="hljs-variable">file</span>.<span class="hljs-variable">fd</span>, <span class="hljs-variable">buf</span>);</li><li>    <span class="hljs-comment">// closed file.</span></li><li>    <span class="hljs-variable">fs</span>.<span class="hljs-title function_">closeSync</span>(<span class="hljs-variable">file</span>.<span class="hljs-variable">fd</span>);</li><li>  } <span class="hljs-keyword">catch</span> (<span class="hljs-variable">error</span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-variable">err</span>: <span class="hljs-title class_">BusinessError</span> = <span class="hljs-variable">error</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">BusinessError</span>;</li><li>    <span class="hljs-variable">hilog</span>.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[AddPic]'</span>,</li><li>      `<span class="hljs-variable">Failed</span> <span class="hljs-variable">to</span> <span class="hljs-variable">openSync</span> / <span class="hljs-variable">writeSync</span> / <span class="hljs-variable">closeSync</span>. <span class="hljs-variable">Code</span>: ${<span class="hljs-variable">err</span>.<span class="hljs-variable">code</span>}, <span class="hljs-variable">message</span>: ${<span class="hljs-variable">err</span>.<span class="hljs-variable">message</span>}`);</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/ContinuePublish/blob/master/entry/src/main/ets/view/AddPic.ets#L95-L116" target="_blank">AddPic.ets</a></div></div></div></div>      <p>使用分布式数据对象时，需要在本端onContinue()接口中进行数据保存。在本端UIAbility的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability#oncontinue" target="_blank">onContinue()</a>接口中，创建分布式数据对象并保存数据，执行流程如下：</p>      <ol>       <li>在onContinue()接口中使用create()接口创建分布式数据对象，将所要迁移的数据填充到分布式数据对象数据中。</li>       <li>如果有图片、文档等文件类数据要迁移，需要先将其转换为资产commonType.Asset类型，再封装到分布式数据对象中进行迁移。</li>       <li>调用genSessionId()接口生成数据对象组网id，并使用该id调用setSessionId()加入组网，激活分布式数据对象。</li>       <li>使用save()接口将已激活的分布式数据对象持久化，确保本端退出后远端依然可以获取到数据。</li>       <li>将生成的sessionId通过want传递到远端，供远端激活同步使用。</li>      </ol>      <div class="screenLinkPre"><div _ngcontent-ruo-c106="" class="highlight-div"><div _ngcontent-ruo-c106="" class="highlight-div-header"><div _ngcontent-ruo-c106="" class="highlight-div-header-left"><div _ngcontent-ruo-c106="" class="handle-button expand-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruo-c106="" class="highlight-div-header-right"><div _ngcontent-ruo-c106="" class="handle-button ai-button"></div><div _ngcontent-ruo-c106="" class="handle-button line-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruo-c106="" class="handle-button theme-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruo-c106="" class="handle-button copy-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruo-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" codehub="https://gitee.com/harmonyos_samples/ContinuePublish/blob/master/entry/src/main/ets/entryability/EntryAbility.ets#L112-L151" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">async</span> <span class="hljs-title function_">onContinue</span>(<span class="hljs-attr">wantParam</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">Object</span> | <span class="hljs-literal">undefined</span>&gt;): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">OnContinueResult</span>&gt; {</li><li>  wantParam.<span class="hljs-property">imageUriArray</span> = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-title class_">AppStorage</span>.<span class="hljs-property">get</span>&lt;<span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">PixelMap</span>&gt;&gt;(<span class="hljs-string">'imageUriArray'</span>));</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// Generate the session ID of the distributed data object.</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">sessionId</span>: <span class="hljs-built_in">string</span> = distributedDataObject.<span class="hljs-title function_">genSessionId</span>();</li><li>    wantParam.<span class="hljs-property">distributedSessionId</span> = sessionId;</li><li>
</li><li>    <span class="hljs-keyword">let</span> imageUriArray = <span class="hljs-title class_">AppStorage</span>.<span class="hljs-property">get</span>&lt;<span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">ImageInfo</span>&gt;&gt;(<span class="hljs-string">'imageUriArray'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">assets</span>: commonType.<span class="hljs-property">Assets</span> = [];</li><li>    <span class="hljs-keyword">if</span> (imageUriArray) {</li><li>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; imageUriArray.<span class="hljs-property">length</span>; i++) {</li><li>        <span class="hljs-keyword">let</span> append = imageUriArray[i];</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">attachment</span>: commonType.<span class="hljs-property">Asset</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getAssetInfo</span>(append);</li><li>        assets.<span class="hljs-title function_">push</span>(attachment);</li><li>      }</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">contentInfo</span>: <span class="hljs-title class_">ContentInfo</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ContentInfo</span>(</li><li>      <span class="hljs-title class_">AppStorage</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'mainTitle'</span>),</li><li>      <span class="hljs-title class_">AppStorage</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'textContent'</span>),</li><li>      <span class="hljs-title class_">AppStorage</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'imageUriArray'</span>),</li><li>      <span class="hljs-title class_">AppStorage</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'isShowLocalInfo'</span>),</li><li>      <span class="hljs-title class_">AppStorage</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'isAddLocalInfo'</span>),</li><li>      <span class="hljs-title class_">AppStorage</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'selectLocalInfo'</span>),</li><li>      assets</li><li>    );</li><li>    <span class="hljs-keyword">let</span> source = contentInfo.<span class="hljs-title function_">flatAssets</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">distributedObject</span> = distributedDataObject.<span class="hljs-title function_">create</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, source);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">distributedObject</span>.<span class="hljs-title function_">setSessionId</span>(sessionId);</li><li>    <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">distributedObject</span>.<span class="hljs-title function_">save</span>(wantParam.<span class="hljs-property">targetDevice</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[EntryAbility]'</span>, <span class="hljs-string">`Failed to save. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[EntryAbility]'</span>, <span class="hljs-string">'distributedDataObject failed'</span>, <span class="hljs-string">`code <span class="hljs-subst">${(error <span class="hljs-keyword">as</span> BusinessError).code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">OnContinueResult</span>.<span class="hljs-property">AGREE</span>;</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/ContinuePublish/blob/master/entry/src/main/ets/entryability/EntryAbility.ets#L112-L151" target="_blank">EntryAbility.ets</a></div></div></div></div></li>     <li>基础数据&amp;文件资产恢复       <p>在远端设备UIAbility的onCreate()/onNewWant()中调用restoreDistributedObject()方法，通过加入与本端一致的分布式数据对象组网进行数据恢复，执行流程如下：</p>      <ol>       <li>在restoreDistributedObject()方法中创建空的分布式数据对象，用于接收恢复的数据。</li>       <li>从want中读取分布式数据对象组网id。</li>       <li>注册on()接口监听数据变更。在收到status为restore的事件的回调中，实现数据恢复完毕时需要进行的业务操作。由于恢复的数据中有图片文件，调用fileCopy()方法从分布式文件中读取ArrayBuffer，然后把ArrayBuffer转化成图片类型数据进行存储。</li>       <li>调用setSessionId()加入组网，激活分布式数据对象。</li>       <li>打开远端设备，点击接续图标，应用打开，页面数据恢复。</li>      </ol>      <div class="screenLinkPre"><div _ngcontent-ruo-c106="" class="highlight-div"><div _ngcontent-ruo-c106="" class="highlight-div-header"><div _ngcontent-ruo-c106="" class="highlight-div-header-left"><div _ngcontent-ruo-c106="" class="handle-button expand-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruo-c106="" class="highlight-div-header-right"><div _ngcontent-ruo-c106="" class="handle-button ai-button"></div><div _ngcontent-ruo-c106="" class="handle-button line-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruo-c106="" class="handle-button theme-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruo-c106="" class="handle-button copy-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruo-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-kotlin" codehub="https://gitee.com/harmonyos_samples/ContinuePublish/blob/master/entry/src/main/ets/entryability/EntryAbility.ets#L36-L108" data-highlighted="yes"><ol class="linenums"><li>onCreate(want: Want, launchParam: AbilityConstant.LaunchParam): void {</li><li>  hilog.info(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[EntryAbility]'</span>, <span class="hljs-string">'Ability onCreate'</span>);</li><li>  <span class="hljs-keyword">this</span>.restoreDistributedObject(want, launchParam);</li><li>  AppStorage.setOrCreate(<span class="hljs-string">'systemColorMode'</span>, <span class="hljs-keyword">this</span>.context.config.colorMode);</li><li>  <span class="hljs-keyword">this</span>.context.getApplicationContext().setColorMode(ConfigurationConstant.ColorMode.COLOR_MODE_NOT_SET);</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>
</li><li>onNewWant(want: Want, launchParam: AbilityConstant.LaunchParam): void {</li><li>  hilog.info(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[EntryAbility]'</span>, <span class="hljs-string">'Ability onNewWant'</span>);</li><li>  <span class="hljs-keyword">this</span>.restoreDistributedObject(want, launchParam);</li><li>}</li><li>
</li><li><span class="hljs-comment">/*</span></li><li><span class="hljs-comment"> * The peer device receives data.</span></li><li><span class="hljs-comment"> * @param want</span></li><li><span class="hljs-comment"> * @param launchParam</span></li><li><span class="hljs-comment"> * @returns</span></li><li><span class="hljs-comment"> */</span></li><li>async restoreDistributedObject(want: Want, launchParam: AbilityConstant.LaunchParam): Promise&lt;void&gt; {</li><li>  <span class="hljs-keyword">if</span> (launchParam.launchReason !== AbilityConstant.LaunchReason.CONTINUATION) {</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>
</li><li>  let mailInfo: ContentInfo = new ContentInfo(undefined, undefined, [], undefined, undefined, undefined, undefined);</li><li>  <span class="hljs-keyword">this</span>.distributedObject = distributedDataObject.create(<span class="hljs-keyword">this</span>.context, mailInfo);</li><li>  <span class="hljs-comment">// Add a data restored listener.</span></li><li>  <span class="hljs-keyword">this</span>.distributedObject.on(<span class="hljs-string">'status'</span>,</li><li>    (sessionId: string, networkId: string, status: <span class="hljs-string">'online'</span> | <span class="hljs-string">'offline'</span> | <span class="hljs-string">'restored'</span>) =&gt; {</li><li>      hilog.info(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[EntryAbility]'</span>, `status changed, sessionId: ${sessionId}`);</li><li>      hilog.info(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[EntryAbility]'</span>, `status changed, status: ${status}`);</li><li>      hilog.info(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[EntryAbility]'</span>, `status changed, networkId: ${networkId}`);</li><li>      <span class="hljs-keyword">if</span> (status === <span class="hljs-string">'restored'</span>) {</li><li>        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.distributedObject) {</li><li>          <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        AppStorage.setOrCreate(<span class="hljs-string">'mainTitle'</span>, <span class="hljs-keyword">this</span>.distributedObject[<span class="hljs-string">'mainTitle'</span>]);</li><li>        AppStorage.setOrCreate(<span class="hljs-string">'textContent'</span>, <span class="hljs-keyword">this</span>.distributedObject[<span class="hljs-string">'textContent'</span>]);</li><li>        AppStorage.setOrCreate(<span class="hljs-string">'isShowLocalInfo'</span>, <span class="hljs-keyword">this</span>.distributedObject[<span class="hljs-string">'isShowLocalInfo'</span>]);</li><li>        AppStorage.setOrCreate(<span class="hljs-string">'isAddLocalInfo'</span>, <span class="hljs-keyword">this</span>.distributedObject[<span class="hljs-string">'isAddLocalInfo'</span>]);</li><li>        AppStorage.setOrCreate(<span class="hljs-string">'selectLocalInfo'</span>, <span class="hljs-keyword">this</span>.distributedObject[<span class="hljs-string">'selectLocalInfo'</span>]);</li><li>        AppStorage.setOrCreate(<span class="hljs-string">'attachments'</span>, <span class="hljs-keyword">this</span>.distributedObject[<span class="hljs-string">'attachments'</span>]);</li><li>        let attachments = <span class="hljs-keyword">this</span>.distributedObject[<span class="hljs-string">'attachments'</span>] <span class="hljs-keyword">as</span> commonType.Assets;</li><li>        hilog.info(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[EntryAbility]'</span>, `attachments: ${JSON.stringify(<span class="hljs-keyword">this</span>.distributedObject[<span class="hljs-string">'attachments'</span>])}`);</li><li>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> attachment of attachments) {</li><li>          <span class="hljs-keyword">this</span>.fileCopy(attachment);</li><li>        }</li><li>        AppStorage.setOrCreate&lt;Array&lt;ImageInfo&gt;&gt;(<span class="hljs-string">'imageUriArray'</span>, <span class="hljs-keyword">this</span>.imageUriArray);</li><li>      }</li><li>    });</li><li>  let sessionId: string = want.parameters?.distributedSessionId <span class="hljs-keyword">as</span> string;</li><li>  <span class="hljs-keyword">this</span>.distributedObject.setSessionId(sessionId);</li><li>  <span class="hljs-keyword">this</span>.context.restoreWindowStage(new LocalStorage());</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/ContinuePublish/blob/master/entry/src/main/ets/entryability/EntryAbility.ets#L36-L108" target="_blank">EntryAbility.ets</a></div></div></div></div>      <p>接续过来的图片，需要从分布式文件目录路径下读取所需的文件，经处理后，转化成需要的数据类型。</p>      <div class="screenLinkPre"><div _ngcontent-ruo-c106="" class="highlight-div"><div _ngcontent-ruo-c106="" class="highlight-div-header"><div _ngcontent-ruo-c106="" class="highlight-div-header-left"><div _ngcontent-ruo-c106="" class="handle-button expand-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ruo-c106="" class="highlight-div-header-right"><div _ngcontent-ruo-c106="" class="handle-button ai-button"></div><div _ngcontent-ruo-c106="" class="handle-button line-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ruo-c106="" class="handle-button theme-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ruo-c106="" class="handle-button copy-button"><div _ngcontent-ruo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ruo-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/ContinuePublish/blob/master/entry/src/main/ets/entryability/EntryAbility.ets#L155-L200" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/*</span></li><li><span class="hljs-comment"> * Copy distributed files.</span></li><li><span class="hljs-comment"> * @param attachmentRecord</span></li><li><span class="hljs-comment"> * @param key</span></li><li><span class="hljs-comment"> */</span></li><li><span class="hljs-keyword">private</span> <span class="hljs-title function_">fileCopy</span>(<span class="hljs-variable">attachment</span>: <span class="hljs-title class_">commonType</span>.<span class="hljs-title class_">Asset</span>): <span class="hljs-title class_">void</span> {</li><li>  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">canIUse</span>(<span class="hljs-string">'SystemCapability.DistributedDataManager.CommonType'</span>)) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-variable">filePath</span>: <span class="hljs-title class_">string</span> = <span class="hljs-keyword">this</span>.<span class="hljs-variable">context</span>.<span class="hljs-variable">distributedFilesDir</span> + <span class="hljs-string">'/'</span> + <span class="hljs-variable">attachment</span>.<span class="hljs-variable">name</span>;</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-variable">savePath</span>: <span class="hljs-title class_">string</span> = <span class="hljs-keyword">this</span>.<span class="hljs-variable">context</span>.<span class="hljs-variable">filesDir</span> + <span class="hljs-string">'/'</span> + <span class="hljs-variable">attachment</span>.<span class="hljs-variable">name</span>;</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-variable">fs</span>.<span class="hljs-title function_">accessSync</span>(<span class="hljs-variable">filePath</span>)) {</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-variable">saveFile</span> = <span class="hljs-variable">fs</span>.<span class="hljs-title function_">openSync</span>(<span class="hljs-variable">savePath</span>, <span class="hljs-variable">fs</span>.<span class="hljs-variable">OpenMode</span>.<span class="hljs-variable">READ_WRITE</span> | <span class="hljs-variable">fs</span>.<span class="hljs-variable">OpenMode</span>.<span class="hljs-variable">CREATE</span>);</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-variable">file</span> = <span class="hljs-variable">fs</span>.<span class="hljs-title function_">openSync</span>(<span class="hljs-variable">filePath</span>, <span class="hljs-variable">fs</span>.<span class="hljs-variable">OpenMode</span>.<span class="hljs-variable">READ_WRITE</span>);</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-variable">buf</span>: <span class="hljs-title class_">ArrayBuffer</span> = <span class="hljs-variable">new</span> <span class="hljs-title function_">ArrayBuffer</span>(<span class="hljs-title function_">Number</span>(<span class="hljs-variable">attachment</span>.<span class="hljs-variable">size</span>));</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-variable">readSize</span> = <span class="hljs-number">0</span>;</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-variable">readLen</span> = <span class="hljs-variable">fs</span>.<span class="hljs-title function_">readSync</span>(<span class="hljs-variable">file</span>.<span class="hljs-variable">fd</span>, <span class="hljs-variable">buf</span>, {</li><li>          <span class="hljs-variable">offset</span>: <span class="hljs-title class_">readSize</span></li><li>        });</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-variable">sourceOptions</span>: <span class="hljs-title class_">image</span>.<span class="hljs-title class_">SourceOptions</span> = {</li><li>          <span class="hljs-variable">sourceDensity</span>: <span class="hljs-number">120</span></li><li>        };</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-variable">imageSourceApi</span>: <span class="hljs-title class_">image</span>.<span class="hljs-title class_">ImageSource</span> = <span class="hljs-variable">image</span>.<span class="hljs-title function_">createImageSource</span>(<span class="hljs-variable">buf</span>, <span class="hljs-variable">sourceOptions</span>);</li><li>        <span class="hljs-keyword">this</span>.<span class="hljs-variable">imageUriArray</span>.<span class="hljs-title function_">push</span>({</li><li>          <span class="hljs-variable">imagePixelMap</span>: <span class="hljs-title class_">imageSourceApi</span>.<span class="hljs-title class_">createPixelMapSync</span>(),</li><li>          <span class="hljs-variable">imageName</span>: <span class="hljs-title class_">attachment</span>.<span class="hljs-title class_">name</span></li><li>        });</li><li>        <span class="hljs-keyword">while</span> (<span class="hljs-variable">readLen</span> &gt; <span class="hljs-number">0</span>) {</li><li>          <span class="hljs-variable">readSize</span> += <span class="hljs-variable">readLen</span>;</li><li>          <span class="hljs-variable">fs</span>.<span class="hljs-title function_">writeSync</span>(<span class="hljs-variable">saveFile</span>.<span class="hljs-variable">fd</span>, <span class="hljs-variable">buf</span>);</li><li>          <span class="hljs-variable">readLen</span> = <span class="hljs-variable">fs</span>.<span class="hljs-title function_">readSync</span>(<span class="hljs-variable">file</span>.<span class="hljs-variable">fd</span>, <span class="hljs-variable">buf</span>, {</li><li>            <span class="hljs-variable">offset</span>: <span class="hljs-title class_">readSize</span></li><li>          });</li><li>        }</li><li>        <span class="hljs-variable">fs</span>.<span class="hljs-title function_">closeSync</span>(<span class="hljs-variable">file</span>);</li><li>        <span class="hljs-variable">fs</span>.<span class="hljs-title function_">closeSync</span>(<span class="hljs-variable">saveFile</span>);</li><li>        <span class="hljs-variable">hilog</span>.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[EntryAbility]'</span>, <span class="hljs-variable">attachment</span>.<span class="hljs-variable">name</span> + <span class="hljs-string">'synchronized successfully.'</span>);</li><li>      }</li><li>    } <span class="hljs-keyword">catch</span> (<span class="hljs-variable">error</span>) {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-variable">err</span>: <span class="hljs-title class_">BusinessError</span> = <span class="hljs-variable">error</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">BusinessError</span>;</li><li>      <span class="hljs-variable">hilog</span>.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[EntryAbility]'</span>, `<span class="hljs-variable">DocumentViewPicker</span> <span class="hljs-variable">failed</span> <span class="hljs-variable">with</span> <span class="hljs-variable">err</span>: ${<span class="hljs-variable">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable">err</span>)}`);</li><li>    }</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/ContinuePublish/blob/master/entry/src/main/ets/entryability/EntryAbility.ets#L155-L200" target="_blank">EntryAbility.ets</a></div></div></div></div></li>    </ul>    <div class="tiledSection">     <h2 id="section19201163412321">示例代码<i class="anchor-icon anchor-icon-link" anchorid="section19201163412321" tips="复制节点链接"></i></h2>          <ul>      <li><a href="https://gitee.com/harmonyos_samples/ContinuePublish" target="_blank">基于应用接续及跨设备互通功能实现内容发布功能</a></li>     </ul>    </div>   </div>   <div></div></div>