<h1 _ngcontent-rld-c119="" class="doc-title ng-star-inserted" title="响应式布局"> 响应式布局 </h1>

<div _ngcontent-rld-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="section19798119123019">概述<i class="anchor-icon anchor-icon-link" anchorid="section19798119123019" tips="复制节点链接"></i></h2><p>响应式设计（Responsive Web Design，简称RWD）在Web网站设计领域是一种网页设计方法论，旨在让网站在不同设备和屏幕尺寸上都能提供良好的阅读和交互体验，而无需为每一个新设备或屏幕尺寸创建单独的版本。这种设计方法的核心在于页面布局和内容可以根据用户所使用的设备特性（如屏幕尺寸、分辨率、方向等）进行灵活调整。</p> <p>响应式设计在HarmonyOS中的应用主要体现在UI开发上，目的是确保应用能够在搭载HarmonyOS的多种设备上，包括不同屏幕尺寸和分辨率的设备，提供一致且优秀的用户体验。HarmonyOS为此提供了一系列的响应式布局能力和工具，用来实现多端布局。</p> <p>响应式布局是基于响应式设计方法论进行布局的方法，核心思想是页面根据不同屏幕尺寸自动调整布局，提供更舒适的界面和更好的用户体验。响应式布局页面的效果图如下：</p> <div class="fignone"><span class="figcap"><b>图1 </b>响应式布局示意图1</span><br><span><img height="203.49" originheight="1751" originwidth="4500" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163110.95852340852312423248662394582541:50001231000000:2800:45D32B7FF4740323540521AA6E3BF8269017C80755DFCB97A9087D4FF2BB2A79.png" title="点击放大" width="523.6875"></span></div> <div class="fignone"><span class="figcap"><b>图2 </b>响应式布局示意图2</span><br><span><img height="208.47750000000002" originheight="1272" originwidth="3189" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163111.64554945402623134834624923229118:50001231000000:2800:9C21F4700B958EEBDC0F6302BF21D5098B23AA04B337B78DBF188B8CDDEA5D3A.png" title="点击放大" width="523.6875"></span></div> <p>本文将详细介绍实现响应式布局的四种响应式布局能力，帮助开发者实现响应式布局效果。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.1.8.1.3.1.1" valign="top" width="50%"><p>响应式布局能力</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.1.8.1.3.1.2" valign="top" width="50%"><p>简介</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="50%"><p><a href="/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1532120147301">断点</a></p> </td> <td class="cellrowborder" valign="top" width="50%"><p>将窗口宽度划分为不同的范围（即断点），监听窗口尺寸变化，当断点改变时同步调整页面布局。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="50%"><p><a href="/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1950102518311">媒体查询</a></p> </td> <td class="cellrowborder" valign="top" width="50%"><p>媒体查询支持监听窗口宽度、横竖屏、深浅色、设备类型等多种媒体特征，当媒体特征发生改变时同步调整页面布局。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="50%"><p><a href="/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1061332817545">栅格</a></p> </td> <td class="cellrowborder" valign="top" width="50%"><p>栅格组件将其所在的区域划分为有规律的多列，通过调整不同断点下的栅格组件的参数以及其子组件占据的列数等，实现不同的布局效果。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="50%"><p><a href="/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1914110349546">响应式组件</a></p> </td> <td class="cellrowborder" valign="top" width="50%"><p>HarmonyOS提供的一些组件支持响应式布局，例如： Tabs、Swiper、Grid、List、GridRow，通过断点设置可以实现不同的展示效果。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section1532120147301">断点<i class="anchor-icon anchor-icon-link" anchorid="section1532120147301" tips="复制节点链接"></i></h2><p>响应式布局是指页面内的元素可以根据特定的特征（如窗口宽度、屏幕方向等）自动变化以适应外部容器变化的布局能力。响应式布局中最常使用的特征是窗口宽度及窗口高宽比，可以将窗口宽度及窗口高宽比划分为不同的范围，称之为“断点”。当窗口宽度及窗口高宽比从一个断点变化到另一个断点时，改变页面布局（如将页面内容从单列排布调整为双列排布甚至三列排布等）以获得更好的显示效果。</p> <p>本章节将通过详细介绍断点的设计原理、定义以及使用，帮助开发者掌握通过断点实现响应式布局。</p> </div> <div class="tiledSection"><h3 id="section191481952131414" class="firsth2">断点的设计原理<i class="anchor-icon anchor-icon-link" anchorid="section191481952131414" tips="复制节点链接"></i></h3><p>提升全场景体验，需考虑多设备连续性。应用页面布局设计时推荐遵循以下原则：</p> <ul><li>原则一：两个宽度相近的窗口，页面布局相同，断点归一。</li><li>原则二：高度相对宽度较小的窗口，呈现横向窗口或类方形窗口时，页面布局进行差异化设计，增加断点。</li></ul> <p>因此，系统设计了横向和纵向断点分别代表窗口的不同特征，作为判断页面布局和交互体验的条件：</p> <ul><li>横向断点以窗口宽度值区分，代表窗口宽度。</li><li>纵向断点以窗口高宽比区分，代表窗口相对高度，表示横向、方形或纵向窗口。</li></ul> <p>下文<a href="/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section565041813314">横向断点的使用案例</a>章节将介绍如何使用横向断点实现原则一，<a href="/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section8955133118444">纵向断点的使用案例</a>章节将介绍如何结合横向和纵向断点实现原则二。</p> </div> <div class="tiledSection"><h3 id="section186821126131515">断点的定义<i class="anchor-icon anchor-icon-link" anchorid="section186821126131515" tips="复制节点链接"></i></h3><p>横向断点以应用窗口宽度为判断条件，建议划分为如下几个区间：</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.3.1.3.1.1" valign="top" width="50%"><p>断点名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.1.3.1.2" valign="top" width="50%"><p>窗口宽度（vp）</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="50%"><p>xs</p> </td> <td class="cellrowborder" valign="top" width="50%"><p>(0, 320）</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="50%"><p>sm</p> </td> <td class="cellrowborder" valign="top" width="50%"><p>[320, 600)</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="50%"><p>md</p> </td> <td class="cellrowborder" valign="top" width="50%"><p>[600, 840)</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="50%"><p>lg</p> </td> <td class="cellrowborder" valign="top" width="50%"><p>[840, 1440)</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="50%"><p>xl</p> </td> <td class="cellrowborder" valign="top" width="50%"><p>[1440, +∞)</p> </td> </tr>  </tbody></table></div> </div> <p>纵向断点根据应用窗口的高宽比进行判断，建议划分为如下几个区间：</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.5.1.3.1.1" valign="top" width="50%"><p>断点名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.3.1.2" valign="top" width="50%"><p>高宽比</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="50%"><p>sm</p> </td> <td class="cellrowborder" valign="top" width="50%"><p>(0, 0.8)</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="50%"><p>md</p> </td> <td class="cellrowborder" valign="top" width="50%"><p>[0.8, 1.2)</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="50%"><p>lg</p> </td> <td class="cellrowborder" valign="top" width="50%"><p>[1.2, +∞)</p> </td> </tr>  </tbody></table></div> </div> <p>下图为HarmonyOS常用设备断点区间表：</p> <div class="fignone"><span class="figcap"><b>图3 </b>HarmonyOS常用设备断点区间表</span></div> <p><span><img height="506.43700000000007" originheight="1517" originwidth="2752" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163111.50706223640560499527244447464855:50001231000000:2800:92C0C1D7E9613A53A3747CBA4207A53E7469A1357A617988210C14B43F75C9FA.png" title="点击放大" width="920"></span></p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ol><li>断点面向窗口而非设备类型，相同断点区间的窗口展示相同的页面布局。同一设备上的不同窗口形态（例如全屏显示、分屏显示、自由窗口等）可能落入不同的断点区间，展示不同布局。</li><li>部分手机、小折叠屏机型横屏/反向横屏时横向断点会落入lg，包括Pura70 Pro和Pocket2。</li><li>开发者可以根据实际使用场景决定适配哪些断点。如xs断点对应的一般是智能穿戴类设备，如果确定某页面不会在智能穿戴设备上显示，则可以不适配xs断点。</li><li>可以根据实际业务场景需要在lg断点后面新增xl、xxl等断点。</li></ol> </div></div></div> <p>当前HarmonyOS主流设备窗口全屏时尺寸和横纵断点区间如下表所示。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.11.1.6.1.1" valign="top" width="8.81%"><p>产品类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.11.1.6.1.2" valign="top" width="19.46%"><p>常见产品型号</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.11.1.6.1.3" valign="top" width="20.87%"><p>窗口全屏时尺寸（以产品型号第一款举例，单位为vp）</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.11.1.6.1.4" valign="top" width="24.29%"><p>横向断点</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.11.1.6.1.5" valign="top" width="26.57%"><p>纵向断点</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="8.81%"><p>手机（竖屏/反向竖屏）</p> </td> <td class="cellrowborder" valign="top" width="19.46%"><p>Mate60、Mate60 Pro、Mate70、Mate70 Pro、Pura60、Pura60 Pro、Pura70、Pura70 Pro</p> </td> <td class="cellrowborder" valign="top" width="20.87%"><p>827 * 374</p> </td> <td class="cellrowborder" valign="top" width="24.29%"><p>sm</p> </td> <td class="cellrowborder" valign="top" width="26.57%"><p>lg</p> </td> </tr> <tr><td class="cellrowborder" rowspan="2" valign="top" width="8.81%"><p>阔折叠</p> <p></p> </td> <td class="cellrowborder" rowspan="2" valign="top" width="19.46%"><p>Pura X</p> <p></p> </td> <td class="cellrowborder" valign="top" width="20.87%"><p>内屏（竖屏/反向竖屏）：707 * 440</p> </td> <td class="cellrowborder" valign="top" width="24.29%"><p>内屏：sm</p> </td> <td class="cellrowborder" valign="top" width="26.57%"><p>内屏：lg</p> </td> </tr> <tr><td class="cellrowborder" valign="top"><p>外屏（反向横屏）：326 * 326</p> </td> <td class="cellrowborder" valign="top"><p>外屏：sm</p> </td> <td class="cellrowborder" valign="top"><p>外屏：md</p> </td> </tr> <tr><td class="cellrowborder" rowspan="2" valign="top" width="8.81%"><p>小折叠</p> <p></p> </td> <td class="cellrowborder" rowspan="2" valign="top" width="19.46%"><p>Pocket 2</p> <p></p> </td> <td class="cellrowborder" valign="top" width="20.87%"><p>内屏（竖屏/反向竖屏）：860 * 364</p> </td> <td class="cellrowborder" valign="top" width="24.29%"><p>内屏：sm</p> </td> <td class="cellrowborder" valign="top" width="26.57%"><p>内屏：lg</p> </td> </tr> <tr><td class="cellrowborder" valign="top"><p>外屏：/</p> </td> <td class="cellrowborder" valign="top"><p>外屏：/</p> </td> <td class="cellrowborder" valign="top"><p>外屏：/</p> </td> </tr> <tr><td class="cellrowborder" rowspan="2" valign="top" width="8.81%"><p>双折叠</p> <p></p> </td> <td class="cellrowborder" rowspan="2" valign="top" width="19.46%"><p>Mate X5、Mate X6</p> <p></p> </td> <td class="cellrowborder" valign="top" width="20.87%"><p>内屏（竖屏/反向竖屏）：798 * 711</p> </td> <td class="cellrowborder" valign="top" width="24.29%"><p>内屏：md</p> </td> <td class="cellrowborder" valign="top" width="26.57%"><p>内屏：md</p> </td> </tr> <tr><td class="cellrowborder" valign="top"><p>外屏（竖屏/反向竖屏）：801 * 345</p> </td> <td class="cellrowborder" valign="top"><p>外屏：sm</p> </td> <td class="cellrowborder" valign="top"><p>外屏：lg</p> </td> </tr> <tr><td class="cellrowborder" rowspan="3" valign="top" width="8.81%"><p>三折叠</p> <p></p> <p></p> </td> <td class="cellrowborder" rowspan="3" valign="top" width="19.46%"><p>Mate XT</p> <p></p> <p></p> </td> <td class="cellrowborder" valign="top" width="20.87%"><p>F态（单屏显示，竖屏/反向竖屏）：776 * 350</p> </td> <td class="cellrowborder" valign="top" width="24.29%"><p>F态（单屏显示）：sm</p> </td> <td class="cellrowborder" valign="top" width="26.57%"><p>F态（单屏显示）：lg</p> </td> </tr> <tr><td class="cellrowborder" valign="top"><p>M态（双屏显示，竖屏/反向竖屏）：776 * 712</p> </td> <td class="cellrowborder" valign="top"><p>M态（双屏显示）：md</p> </td> <td class="cellrowborder" valign="top"><p>M态（双屏显示）：md</p> </td> </tr> <tr><td class="cellrowborder" valign="top"><p>G态（三屏显示，横屏/反向横屏）：1107 * 776</p> </td> <td class="cellrowborder" valign="top"><p>G态（三屏显示）：lg</p> </td> <td class="cellrowborder" valign="top"><p>G态（三屏显示）：sm</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="8.81%"><p>平板（横屏/反向横屏）</p> </td> <td class="cellrowborder" valign="top" width="19.46%"><p>MatePad、MatePad Pro</p> </td> <td class="cellrowborder" valign="top" width="20.87%"><p>1137 * 711</p> </td> <td class="cellrowborder" valign="top" width="24.29%"><p>lg</p> </td> <td class="cellrowborder" valign="top" width="26.57%"><p>sm</p> </td> </tr> <tr><td class="cellrowborder" rowspan="2" valign="top" width="8.81%"><p>电脑</p> <p></p> </td> <td class="cellrowborder" valign="top" width="19.46%"><p>MateBook Pro（横屏）</p> </td> <td class="cellrowborder" valign="top" width="20.87%"><p>1642 * 1094</p> </td> <td class="cellrowborder" valign="top" width="24.29%"><p>xl</p> </td> <td class="cellrowborder" valign="top" width="26.57%"><p>sm</p> </td> </tr> <tr><td class="cellrowborder" valign="top"><p>MateBook Fold（展开态横屏）</p> </td> <td class="cellrowborder" valign="top"><p>1831 * 1307</p> </td> <td class="cellrowborder" valign="top"><p>xl</p> </td> <td class="cellrowborder" valign="top"><p>sm</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="section175001836203617">通过断点刷新UI<i class="anchor-icon anchor-icon-link" anchorid="section175001836203617" tips="复制节点链接"></i></h3><ol><li><span>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#getwindowwidthbreakpoint13" target="_blank">getWindowWidthBreakpoint()</a>与<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#getwindowheightbreakpoint13" target="_blank">getWindowHeightBreakpoint()</a>获取当前窗口横向断点与纵向断点。</span><p></p><div class="screenLinkPre"><div _ngcontent-rld-c106="" class="highlight-div"><div _ngcontent-rld-c106="" class="highlight-div-header"><div _ngcontent-rld-c106="" class="highlight-div-header-left"><div _ngcontent-rld-c106="" class="handle-button expand-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rld-c106="" class="highlight-div-header-right"><div _ngcontent-rld-c106="" class="handle-button ai-button"></div><div _ngcontent-rld-c106="" class="handle-button line-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rld-c106="" class="handle-button theme-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rld-c106="" class="handle-button copy-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rld-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" codehub="https://gitee.com/harmonyos_samples/ResponsiveLayout/blob/master/entry/src/main/ets/utils/WindowUtil.ets#L184-L239" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title function_">updateWindowInfo</span>(): <span class="hljs-keyword">void</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// ...</span></li><li>    <span class="hljs-comment">// First time get width/height breakpoint.</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">mainWindowInfo</span>.<span class="hljs-property">widthBp</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>!.<span class="hljs-title function_">getWindowWidthBreakpoint</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">mainWindowInfo</span>.<span class="hljs-property">heightBp</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>!.<span class="hljs-title function_">getWindowHeightBreakpoint</span>();</li><li>    <span class="hljs-comment">// ...</span></li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">`TestLog`</span>, <span class="hljs-string">`Failed to update window info. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/ResponsiveLayout/blob/master/entry/src/main/ets/utils/WindowUtil.ets#L184-L239" target="_blank">WindowUtil.ets</a></div></div></div></div> <p></p></li><li><span>将窗口断点信息保存在自定义窗口信息类WindowInfo对象中，并存储在AppStorage以同步刷新UI布局。</span><p></p><div class="screenLinkPre"><div _ngcontent-rld-c106="" class="highlight-div"><div _ngcontent-rld-c106="" class="highlight-div-header"><div _ngcontent-rld-c106="" class="highlight-div-header-left"><div _ngcontent-rld-c106="" class="handle-button expand-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rld-c106="" class="highlight-div-header-right"><div _ngcontent-rld-c106="" class="handle-button ai-button"></div><div _ngcontent-rld-c106="" class="handle-button line-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rld-c106="" class="handle-button theme-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rld-c106="" class="handle-button copy-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rld-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/ResponsiveLayout/blob/master/entry/src/main/ets/utils/WindowUtil.ets#L356-L375" data-highlighted="yes"><ol class="linenums"><li>@<span class="hljs-title function_">Observed</span></li><li><span class="hljs-variable">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WindowInfo</span> {</li><li>  <span class="hljs-comment">// Window status.</span></li><li>  <span class="hljs-keyword">public</span> <span class="hljs-variable">windowStatusType</span>: <span class="hljs-title class_">window</span>.<span class="hljs-title class_">WindowStatusType</span> = <span class="hljs-variable">window</span>.<span class="hljs-variable">WindowStatusType</span>.<span class="hljs-variable">UNDEFINED</span>;</li><li>  <span class="hljs-comment">// Is the window an immersive layout.</span></li><li>  <span class="hljs-keyword">public</span> <span class="hljs-variable">isImmersive</span>: <span class="hljs-title class_">ImmersiveType</span> = <span class="hljs-variable">ImmersiveType</span>.<span class="hljs-variable">NORMAL</span>;</li><li>  <span class="hljs-comment">// Window orientation.</span></li><li>  <span class="hljs-keyword">public</span> <span class="hljs-variable">orientation</span>: <span class="hljs-title class_">window</span>.<span class="hljs-title class_">Orientation</span> = <span class="hljs-variable">window</span>.<span class="hljs-variable">Orientation</span>.<span class="hljs-variable">UNSPECIFIED</span>;</li><li>  <span class="hljs-comment">// Window size.</span></li><li>  <span class="hljs-keyword">public</span> <span class="hljs-variable">windowSize</span>: <span class="hljs-title class_">window</span>.<span class="hljs-title class_">Size</span> = { <span class="hljs-variable">width</span>: <span class="hljs-number">0</span>, <span class="hljs-variable">height</span>: <span class="hljs-number">0</span> };</li><li>  <span class="hljs-comment">// Width/height breakpoint.</span></li><li>  <span class="hljs-keyword">public</span> <span class="hljs-variable">widthBp</span>: <span class="hljs-title class_">WidthBreakpoint</span> = <span class="hljs-variable">WidthBreakpoint</span>.<span class="hljs-variable">WIDTH_XS</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-variable">heightBp</span>: <span class="hljs-title class_">HeightBreakpoint</span> = <span class="hljs-variable">HeightBreakpoint</span>.<span class="hljs-variable">HEIGHT_SM</span>;</li><li>  <span class="hljs-comment">// Avoid area infos.</span></li><li>  <span class="hljs-keyword">public</span> <span class="hljs-variable">AvoidSystem</span>?: <span class="hljs-title class_">window</span>.<span class="hljs-title class_">AvoidArea</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-variable">AvoidNavigationIndicator</span>?: <span class="hljs-title class_">window</span>.<span class="hljs-title class_">AvoidArea</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-variable">AvoidCutout</span>?: <span class="hljs-title class_">window</span>.<span class="hljs-title class_">AvoidArea</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-variable">AvoidSystemGesture</span>?: <span class="hljs-title class_">window</span>.<span class="hljs-title class_">AvoidArea</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-variable">AvoidKeyboard</span>?: <span class="hljs-title class_">window</span>.<span class="hljs-title class_">AvoidArea</span>;</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/ResponsiveLayout/blob/master/entry/src/main/ets/utils/WindowUtil.ets#L356-L375" target="_blank">WindowUtil.ets</a></div></div></div></div> <p></p> <p></p></li><li><span>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#onwindowsizechange7" target="_blank">on('windowSizeChange')</a>开启窗口尺寸变化的监听，并在监听回调中重新获取断点，以达到窗口尺寸变化依旧有良好的体验。</span><p></p><div class="screenLinkPre"><div _ngcontent-rld-c106="" class="highlight-div"><div _ngcontent-rld-c106="" class="highlight-div-header"><div _ngcontent-rld-c106="" class="highlight-div-header-left"><div _ngcontent-rld-c106="" class="handle-button expand-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rld-c106="" class="highlight-div-header-right"><div _ngcontent-rld-c106="" class="handle-button ai-button"></div><div _ngcontent-rld-c106="" class="handle-button line-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rld-c106="" class="handle-button theme-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rld-c106="" class="handle-button copy-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rld-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" codehub="https://gitee.com/harmonyos_samples/ResponsiveLayout/blob/master/entry/src/main/ets/utils/WindowUtil.ets#L40-L240" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">public</span> <span class="hljs-attr">onWindowSizeChange</span>: <span class="hljs-function">(<span class="hljs-params">windowSize: <span class="hljs-variable language_">window</span>.Size</span>) =&gt;</span> <span class="hljs-built_in">void</span> = <span class="hljs-function">(<span class="hljs-params">windowSize: <span class="hljs-variable language_">window</span>.Size</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">mainWindowInfo</span>.<span class="hljs-property">windowSize</span> = windowSize;</li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">mainWindowInfo</span>.<span class="hljs-property">widthBp</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>!.<span class="hljs-title function_">getWindowWidthBreakpoint</span>();</li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">mainWindowInfo</span>.<span class="hljs-property">heightBp</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>!.<span class="hljs-title function_">getWindowHeightBreakpoint</span>();</li><li>};</li><li><span class="hljs-comment">// ...</span></li><li><span class="hljs-title function_">updateWindowInfo</span>(): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// ...</span></li><li>    <span class="hljs-comment">// Register for window size change monitoring, update window size and width/height breakpoint.</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">mainWindow</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'windowSizeChange'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">onWindowSizeChange</span>);</li><li>    <span class="hljs-comment">// ...</span></li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">`TestLog`</span>, <span class="hljs-string">`Failed to update window info. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/ResponsiveLayout/blob/master/entry/src/main/ets/utils/WindowUtil.ets#L40-L240" target="_blank">WindowUtil.ets</a></div></div></div></div> <p></p></li><li><span>根据AppStorage中存储的窗口信息，对不同断点区间进行针对性布局。</span><p></p><div class="screenLinkPre"><div _ngcontent-rld-c106="" class="highlight-div"><div _ngcontent-rld-c106="" class="highlight-div-header"><div _ngcontent-rld-c106="" class="highlight-div-header-left"><div _ngcontent-rld-c106="" class="handle-button expand-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rld-c106="" class="highlight-div-header-right"><div _ngcontent-rld-c106="" class="handle-button ai-button"></div><div _ngcontent-rld-c106="" class="handle-button line-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rld-c106="" class="handle-button theme-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rld-c106="" class="handle-button copy-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rld-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" codehub="https://gitee.com/harmonyos_samples/ResponsiveLayout/blob/master/entry/src/main/ets/views/GridView.ets#L52-L69" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">Grid</span>() {</li><li>  <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">infoArray</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">WidthBreakpointType</span>(<span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>).<span class="hljs-title function_">getValue</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">mainWindowInfo</span>.<span class="hljs-property">widthBp</span>)),</li><li>    <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>      <span class="hljs-comment">// ...</span></li><li>    }, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">number</span>, index: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(item) + index)</li><li>}</li><li>.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>.<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-string">`repeat(<span class="hljs-subst">${<span class="hljs-keyword">new</span> WidthBreakpointType(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>).getValue(<span class="hljs-variable language_">this</span>.mainWindowInfo.widthBp)}</span>, 1fr)`</span>)</li><li>.<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">12</span>)</li><li>.<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">12</span>)</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/ResponsiveLayout/blob/master/entry/src/main/ets/views/GridView.ets#L52-L69" target="_blank">GridView.ets</a></div></div></div></div> <p></p></li><li><span>在EntryAbility的onWindowStageCreate()生命周期中，获取应用窗口实例，对WindowUtil进行初始化操作。</span><p></p><div class="screenLinkPre"><div _ngcontent-rld-c106="" class="highlight-div"><div _ngcontent-rld-c106="" class="highlight-div-header"><div _ngcontent-rld-c106="" class="highlight-div-header-left"><div _ngcontent-rld-c106="" class="handle-button expand-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rld-c106="" class="highlight-div-header-right"><div _ngcontent-rld-c106="" class="handle-button ai-button"></div><div _ngcontent-rld-c106="" class="handle-button line-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rld-c106="" class="handle-button theme-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rld-c106="" class="handle-button copy-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rld-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" codehub="https://gitee.com/harmonyos_samples/ResponsiveLayout/blob/master/entry/src/main/ets/entryability/EntryAbility.ets#L46-L51" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">windowUtil</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WindowUtil</span>(windowStage.<span class="hljs-title function_">getMainWindowSync</span>());</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'TestLog'</span>, <span class="hljs-string">`Failed to get main window. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/ResponsiveLayout/blob/master/entry/src/main/ets/entryability/EntryAbility.ets#L46-L51" target="_blank">EntryAbility.ets</a></div></div></div></div> <p></p></li><li><span>在页面loadContent加载完成后，完成断点监听注册、断点更新等操作。当窗口尺寸发生变化时，更新横纵断点，在页面使用断点处，会自动触发相应的UI更新。</span><p></p><div class="screenLinkPre"><div _ngcontent-rld-c106="" class="highlight-div"><div _ngcontent-rld-c106="" class="highlight-div-header"><div _ngcontent-rld-c106="" class="highlight-div-header-left"><div _ngcontent-rld-c106="" class="handle-button expand-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rld-c106="" class="highlight-div-header-right"><div _ngcontent-rld-c106="" class="handle-button ai-button"></div><div _ngcontent-rld-c106="" class="handle-button line-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rld-c106="" class="handle-button theme-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rld-c106="" class="handle-button copy-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rld-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-kotlin" codehub="https://gitee.com/harmonyos_samples/ResponsiveLayout/blob/master/entry/src/main/ets/entryability/EntryAbility.ets#L67-L69" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">this</span>.windowUtil!.setUIContext();</li><li><span class="hljs-keyword">this</span>.windowUtil!.setImmersiveType(ImmersiveType.IMMERSIVE);</li><li><span class="hljs-keyword">this</span>.windowUtil!.updateWindowInfo();</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/ResponsiveLayout/blob/master/entry/src/main/ets/entryability/EntryAbility.ets#L67-L69" target="_blank">EntryAbility.ets</a></div></div></div></div> <p></p></li></ol> </div> <div class="tiledSection"><h3 id="section565041813314">横向断点的使用案例<i class="anchor-icon anchor-icon-link" anchorid="section565041813314" tips="复制节点链接"></i></h3><p>针对布局拉通（两个宽度相近的窗口，页面布局应保持一致），本章节介绍实际开发中横向断点的使用。</p> <p>实现多设备应用时，首先根据不同设备类型对应的横向断点集合，规划多种设计方案。例如，应用需要支持手机、双折叠（Mate X系列）和平板，需要考虑的三个横向断点分别是sm、md和lg，并设计相应页面布局。设计效果图如下：</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.4.1.4.1.1" valign="top" width="15.75%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.4.1.2" valign="top" width="22.78%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.4.1.3" valign="top" width="61.47%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="15.75%"><p><span><img height="252.47547000000006" originheight="804" originwidth="385" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163111.95261340864255992402181218637543:50001231000000:2800:2C24E02CE92134CA378EAAE51DFDFC1EA398A92B5E81334CEA08760AF10F58D2.png" title="点击放大" width="120.9"></span></p> </td> <td class="cellrowborder" valign="top" width="22.78%"><p><span><img height="207.13890022222225" originheight="787" originwidth="705" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163111.55827642194854500122217404176164:50001231000000:2800:3E4FF207BF1C1F46DAB0B673AA37918E05A09D424E76E0FEA9A02A6AEB8F1667.png" title="点击放大" width="185.57600000000002"></span></p> </td> <td class="cellrowborder" valign="top" width="61.47%"><p><span><img height="338.15250000000003" originheight="869" originwidth="1344" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163111.23726430931117739666093001336583:50001231000000:2800:FB1DC6440D375E80D210C5E00F0E82F9F4EC1F8BB360C0842A56635BFDAE5E45.png" title="点击放大" width="523.6875"></span></p> </td> </tr>  </tbody></table></div> </div> <p>在实际应用开发中，可能不会涉及到全部的横向断点。开发者可以根据应用的实际需求，灵活选用并整理工具类，为响应式布局的属性赋值。例如，如果应用仅需适配手机、双折叠和平板设备，可以设计工具类 “WidthBreakpointType”，覆盖三个横向断点下的成员变量，从而实现具体的响应式布局。</p> <div class="screenLinkPre"><div _ngcontent-rld-c106="" class="highlight-div"><div _ngcontent-rld-c106="" class="highlight-div-header"><div _ngcontent-rld-c106="" class="highlight-div-header-left"><div _ngcontent-rld-c106="" class="handle-button expand-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rld-c106="" class="highlight-div-header-right"><div _ngcontent-rld-c106="" class="handle-button ai-button"></div><div _ngcontent-rld-c106="" class="handle-button line-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rld-c106="" class="handle-button theme-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rld-c106="" class="handle-button copy-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rld-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-kotlin" codehub="https://gitee.com/harmonyos_samples/ResponsiveLayout/blob/master/entry/src/main/ets/utils/WidthBreakpointType.ets#L17-L43" data-highlighted="yes"><ol class="linenums"><li>export <span class="hljs-keyword">class</span> <span class="hljs-title class_">WidthBreakpointType</span>&lt;<span class="hljs-type">T</span>&gt; {</li><li>  sm: T;</li><li>  md: T;</li><li>  lg: T;</li><li>  xl: T;</li><li>
</li><li>  <span class="hljs-keyword">constructor</span>(sm: T, md: T, lg: T, xl: T) {</li><li>    <span class="hljs-keyword">this</span>.sm = sm;</li><li>    <span class="hljs-keyword">this</span>.md = md;</li><li>    <span class="hljs-keyword">this</span>.lg = lg;</li><li>    <span class="hljs-keyword">this</span>.xl = xl</li><li>  }</li><li>
</li><li>  getValue(widthBp: WidthBreakpoint): T {</li><li>    <span class="hljs-keyword">if</span> (widthBp === WidthBreakpoint.WIDTH_XS || widthBp === WidthBreakpoint.WIDTH_SM) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.sm;</li><li>    }</li><li>    <span class="hljs-keyword">if</span> (widthBp === WidthBreakpoint.WIDTH_MD) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.md;</li><li>    }</li><li>    <span class="hljs-keyword">if</span> (widthBp === WidthBreakpoint.WIDTH_LG) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.lg;</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.xl;</li><li>    }</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/ResponsiveLayout/blob/master/entry/src/main/ets/utils/WidthBreakpointType.ets#L17-L43" target="_blank">WidthBreakpointType.ets</a></div></div></div></div> <p>在实际开发中，设置不同断点下的字体大小。例如，在sm、md、lg横向断点下，字体大小分别为14fp、16fp、18fp，通过工具类BreakpointType为属性赋值。</p> <div class="screenLinkPre"><div _ngcontent-rld-c106="" class="highlight-div"><div _ngcontent-rld-c106="" class="highlight-div-header"><div _ngcontent-rld-c106="" class="highlight-div-header-left"><div _ngcontent-rld-c106="" class="handle-button expand-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rld-c106="" class="highlight-div-header-right"><div _ngcontent-rld-c106="" class="handle-button ai-button"></div><div _ngcontent-rld-c106="" class="handle-button line-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rld-c106="" class="handle-button theme-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rld-c106="" class="handle-button copy-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rld-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-csharp" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/ResponsiveLayout/entry/src/main/ets/pages/VideoExample.ets#L87-L88" data-highlighted="yes"><ol class="linenums"><li>Text(<span class="hljs-string">'Test'</span>)</li><li>  .fontSize(<span class="hljs-keyword">new</span> BreakpointType(<span class="hljs-string">'14fp'</span>, <span class="hljs-string">'16fp'</span>, <span class="hljs-string">'18fp'</span>).getValue(<span class="hljs-keyword">this</span>.currentWidthBreakpoint))</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/ResponsiveLayout/entry/src/main/ets/pages/VideoExample.ets#L87-L88" target="_blank">VideoExample.ets</a></div></div></div></div> <p>在sm和md横向断点下，字体大小为14fp；在lg断点下，字体大小为16fp。使用三元表达式结合横向断点为属性赋值。</p> <div class="screenLinkPre"><div _ngcontent-rld-c106="" class="highlight-div"><div _ngcontent-rld-c106="" class="highlight-div-header"><div _ngcontent-rld-c106="" class="highlight-div-header-left"><div _ngcontent-rld-c106="" class="handle-button expand-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rld-c106="" class="highlight-div-header-right"><div _ngcontent-rld-c106="" class="handle-button ai-button"></div><div _ngcontent-rld-c106="" class="handle-button line-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rld-c106="" class="handle-button theme-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rld-c106="" class="handle-button copy-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rld-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-kotlin" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/ResponsiveLayout/entry/src/main/ets/pages/UpdateWidthExample.ets#L23-L24" data-highlighted="yes"><ol class="linenums"><li>Text(<span class="hljs-string">'Test'</span>)</li><li>  .fontSize(<span class="hljs-keyword">this</span>.currentWidthBreakpoint === WidthBreakpoint.WIDTH_LG ? <span class="hljs-string">'16fp'</span> : <span class="hljs-string">'14fp'</span>)</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/ResponsiveLayout/entry/src/main/ets/pages/UpdateWidthExample.ets#L23-L24" target="_blank">UpdateWidthExample.ets</a></div></div></div></div> </div> <div class="tiledSection"><h3 id="section8955133118444">纵向断点的使用案例<i class="anchor-icon anchor-icon-link" anchorid="section8955133118444" tips="复制节点链接"></i></h3><p>针对高度相对宽度较小的窗口（如横向窗口或类方形窗口），本章节将介绍如何在实际开发中结合使用横向断点和纵向断点进行特殊布局设计。</p> <p>系统推荐以下方式判断横向窗口或类方形窗口，并展示特殊页面布局。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.4.1.4.1.1" valign="top" width="7.5200000000000005%"><p>窗口类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.4.1.2" valign="top" width="46.239999999999995%"><p>横向窗口</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.4.1.3" valign="top" width="46.239999999999995%"><p>类方形窗口</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="7.5200000000000005%"><p>效果图</p> </td> <td class="cellrowborder" valign="top" width="46.239999999999995%"><p><span><img height="188.85290666666666" originheight="1093" originwidth="2317" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163111.90181436786043626826930923029324:50001231000000:2800:DE1AEAEB2697D42945447DBCDF9B190C3BFB502301922931A664A2D0FC161773.png" title="点击放大" width="401.40799999999996"></span></p> </td> <td class="cellrowborder" valign="top" width="46.239999999999995%"><p><span><img originheight="394" originwidth="320" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163111.37827112856322099485429608571926:50001231000000:2800:8D35E6859F44A69869159FE3C944B6ADDD105A22C99459E05FF576B7CF858DB8.png" width="320" height="394"></span></p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="7.5200000000000005%"><p>判断条件</p> </td> <td class="cellrowborder" valign="top" width="46.239999999999995%"><p>纵向断点为sm或窗口高宽比小于0.8</p> </td> <td class="cellrowborder" valign="top" width="46.239999999999995%"><p>纵向断点为md或窗口高宽比在[0.8, 1.2)之间</p> </td> </tr>  </tbody></table></div> </div> <div class="screenLinkPre"><div _ngcontent-rld-c106="" class="highlight-div"><div _ngcontent-rld-c106="" class="highlight-div-header"><div _ngcontent-rld-c106="" class="highlight-div-header-left"><div _ngcontent-rld-c106="" class="handle-button expand-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rld-c106="" class="highlight-div-header-right"><div _ngcontent-rld-c106="" class="handle-button ai-button"></div><div _ngcontent-rld-c106="" class="handle-button line-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rld-c106="" class="handle-button theme-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rld-c106="" class="handle-button copy-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rld-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-kotlin" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/ResponsiveLayout/entry/src/main/ets/pages/VideoExample.ets#L39-L48" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Judgment of the horizontal window. (The actual application may need to be combined with other conditions, for example, determine the horizontal breakpoint)</span></li><li><span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.currentHeightBreakpoint === HeightBreakpoint.HEIGHT_SM &amp;&amp;</li><li>  <span class="hljs-keyword">this</span>.currentWidthBreakpoint === WidthBreakpoint.WIDTH_MD) {</li><li>  <span class="hljs-comment">// Horizontal window page layout.</span></li><li>}</li><li><span class="hljs-comment">// Judgment of the square window. (The actual use may need to be combined with other conditions, such as determining horizontal breakpoints)</span></li><li><span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.currentHeightBreakpoint === HeightBreakpoint.HEIGHT_MD &amp;&amp;</li><li>  <span class="hljs-keyword">this</span>.currentWidthBreakpoint === WidthBreakpoint.WIDTH_SM) {</li><li>  <span class="hljs-comment">// Square-like window page layout.</span></li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/ResponsiveLayout/entry/src/main/ets/pages/VideoExample.ets#L39-L48" target="_blank">VideoExample.ets</a></div></div></div></div> <p><strong>独特的小窗口布局</strong></p> <p>为了提供独特的用户体验，类方形小窗口设计为独特布局。常见场景为手机上下1:1分屏或Pura X外屏，可使用横向断点为sm，纵向断点为md进行区分，示意图如下。更多详情和示例代码请参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-purax-guide" target="_blank">Pura X阔折叠</a>。</p> <p><span><img originheight="394" originwidth="320" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163111.26810266720144558604031582074496:50001231000000:2800:E86271B25CEC8E773A4EF7DBED73F1DF8EB2DB37AC1B423374430A02F34EAC0D.png" width="320" height="394"></span></p> <p><strong>类方屏旋转方案</strong></p> <p>在Mate X5内屏等类方屏窗口场景中，设计应用窗口支持旋转，以满足不同用户的体验需求。</p> <p>判断纵向断点为md时，通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setpreferredorientation9" target="_blank">window.setPreferredOrientation()</a>设置窗口支持旋转。</p> <div class="screenLinkPre"><div _ngcontent-rld-c106="" class="highlight-div"><div _ngcontent-rld-c106="" class="highlight-div-header"><div _ngcontent-rld-c106="" class="highlight-div-header-left"><div _ngcontent-rld-c106="" class="handle-button expand-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rld-c106="" class="highlight-div-header-right"><div _ngcontent-rld-c106="" class="handle-button ai-button"></div><div _ngcontent-rld-c106="" class="handle-button line-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rld-c106="" class="handle-button theme-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rld-c106="" class="handle-button copy-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rld-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/ResponsiveLayout/entry/src/main/ets/pages/VideoExample.ets#L52-L58" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">currentHeightBreakpoint</span>: <span class="hljs-title class_">HeightBreakpoint</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-title class_">AppStorage</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'currentHeightBreakpoint'</span>);</li><li><span class="hljs-keyword">if</span> (currentHeightBreakpoint === <span class="hljs-title class_">HeightBreakpoint</span>.<span class="hljs-property">HEIGHT_MD</span>) {</li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">mainWindowClass</span>?.<span class="hljs-title function_">setPreferredOrientation</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">Orientation</span>.<span class="hljs-property">AUTO_ROTATION_RESTRICTED</span>).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'VideoExample'</span>,</li><li>      <span class="hljs-string">`setPreferredOrientation failed. code=<span class="hljs-subst">${error.code}</span>, message = <span class="hljs-subst">${error.message}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/ResponsiveLayout/entry/src/main/ets/pages/VideoExample.ets#L52-L58" target="_blank">VideoExample.ets</a></div></div></div></div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul><li>应用设置窗口旋转方案需要结合多种条件一起判断，详情可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-window-direction#section16257518182319">兼容多设备上的旋转策略</a>。</li><li>Pura X外屏默认不支持窗口旋转。</li></ul> </div></div></div> <p><strong>其他特殊场景</strong></p> <p>除了独特的小窗口布局和类方屏旋转方案外，在开发过程中存在特殊场景，仅使用横向断点无法区分，需要结合横向断点和纵向断点进行判断。</p> <p>本章节以视频类应用的全屏播放页为例。在手机横屏时，不支持旋转；在双折叠展开态和平板竖屏时，支持旋转。由于这三种场景的横向断点都在md范围内，无法区分，因此需要结合横向断点和纵向断点进行区分，以兼容多种设备的全屏播放窗口旋转方案。</p> <p><span><img height="264.761504" originheight="2160" originwidth="6404" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163111.49651748508390933338456741116802:50001231000000:2800:B3035CA406451E0CD5A66C3ADCC61821E363822D012A99F505661EE97214B36D.jpg" title="点击放大" width="785.0325"></span></p> <ol><li><span>确保已完成<a href="/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section175001836203617">通过断点刷新UI</a>中步骤5和步骤6的初始化操作。</span></li><li><span>使用@Watch装饰器监听状态变量isFullScreen的变化，以判断视频是否全屏播放，并在显示或隐藏时同步修改窗口方向。全屏播放时，未使用断点的窗口设置逻辑如下：需要将窗口设置为AUTO_ROTATION_LANDSCAPE属性的情况包括手机、双折叠屏（X 系列）的折叠态与半折态。</span><p></p><div class="fignone"><span class="figcap"><b>图4 </b><strong>手机效果图</strong></span><br><span><img height="249.375" originheight="768" originwidth="1608" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163112.95008329416394860173591987196803:50001231000000:2800:394E2CF147F3B7BCBCD6535755489324428814C5BE83FB51C0F99C78298A9C08.jpg" title="点击放大" width="523.6875"></span></div> <div class="fignone"><span class="figcap"><b>图5 </b><strong>双折叠屏（X系列）半折态</strong></span><br><span><img height="354.1125" originheight="1252" originwidth="1850" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163112.42424145298929585732701690368320:50001231000000:2800:F2667061CE655BDBE2A51CB630FC206BB38EAB440FF4B188FB9E73ADED170566.jpg" title="点击放大" width="523.6875"></span></div> <p><strong>反例：</strong></p> <div class="screenLinkPre"><div _ngcontent-rld-c106="" class="highlight-div"><div _ngcontent-rld-c106="" class="highlight-div-header"><div _ngcontent-rld-c106="" class="highlight-div-header-left"><div _ngcontent-rld-c106="" class="handle-button expand-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rld-c106="" class="highlight-div-header-right"><div _ngcontent-rld-c106="" class="handle-button ai-button"></div><div _ngcontent-rld-c106="" class="handle-button line-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rld-c106="" class="handle-button theme-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rld-c106="" class="handle-button copy-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rld-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/ResponsiveLayout/entry/src/main/ets/pages/VideoExample.ets#L61-L80" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">isFullScreen</span>) {</li><li>  <span class="hljs-keyword">if</span> (deviceInfo.<span class="hljs-property">deviceType</span> !== <span class="hljs-string">'2in1'</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">windowUtil</span>!.<span class="hljs-title function_">disableWindowSystemBar</span>();</li><li>  }</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">if</span> ((!display.<span class="hljs-title function_">isFoldable</span>() &amp;&amp; deviceInfo.<span class="hljs-property">deviceType</span> === <span class="hljs-string">'phone'</span>) ||</li><li>      display.<span class="hljs-title function_">getFoldStatus</span>() === display.<span class="hljs-property">FoldStatus</span>.<span class="hljs-property">FOLD_STATUS_FOLDED</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">windowUtil</span>!.<span class="hljs-title function_">setMainWindowOrientation</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">Orientation</span>.<span class="hljs-property">AUTO_ROTATION_LANDSCAPE</span>);</li><li>    }</li><li>    <span class="hljs-keyword">if</span> (display.<span class="hljs-title function_">isFoldable</span>()) {</li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">isHalfFolded</span>) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">windowUtil</span>!.<span class="hljs-title function_">setMainWindowOrientation</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">Orientation</span>.<span class="hljs-property">AUTO_ROTATION_LANDSCAPE</span>);</li><li>      }</li><li>    }</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span></li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'VideoExample'</span>,</li><li>      <span class="hljs-string">`setMainWindowOrientation failed. code=<span class="hljs-subst">${err.code}</span>, message = <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/ResponsiveLayout/entry/src/main/ets/pages/VideoExample.ets#L61-L80" target="_blank">VideoExample.ets</a></div></div></div></div> <p>在进入全屏页时，通过isFoldable、deviceType和getFoldStatus三个值共同判断，这种方式可读性和维护性较差。随着鸿蒙生态的拓展，不同设备上可能会出现各种异常情况。</p> <p><strong>正例：</strong></p> <ul><li>双折叠屏（X系列）展开态与平板，支持旋转。双折叠屏（X系列）的横向断点为md，纵向断点为md；平板横向持握时横向断点为lg，竖向持握时横向断点为md，纵向断点为lg。将窗口显示方向设置为AUTO_ROTATION_RESTRICTED。</li><li>手机与双折叠屏（X系列）折叠态竖屏时的横向断点为sm，纵向断点为lg，全屏播放时支持横向旋转。将窗口显示方向设置为AUTO_ROTATION_LANDSCAPE_RESTRICTED。</li><li>手机与双折叠屏（X系列）折叠态横屏时的横向断点为md，纵向断点为sm，此时如果退出全屏播放，则竖屏展示布局。将窗口显示方向设置为PORTRAIT。<div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>本案例未覆盖部分手机（如Pocket 2、Pura 70Pro）横屏时横向断点落入lg的情况。</p> </div></div></div> <div class="screenLinkPre"><div _ngcontent-rld-c106="" class="highlight-div"><div _ngcontent-rld-c106="" class="highlight-div-header"><div _ngcontent-rld-c106="" class="highlight-div-header-left"><div _ngcontent-rld-c106="" class="handle-button expand-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rld-c106="" class="highlight-div-header-right"><div _ngcontent-rld-c106="" class="handle-button ai-button"></div><div _ngcontent-rld-c106="" class="handle-button line-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rld-c106="" class="handle-button theme-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rld-c106="" class="handle-button copy-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rld-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-kotlin" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/ResponsiveLayout/entry/src/main/ets/pages/VideoExample.ets#L120-L156" data-highlighted="yes"><ol class="linenums"><li>  <span class="hljs-comment">// entry/src/main/ets/page/VideoExample.ets</span></li><li>  <span class="hljs-keyword">private</span> onFullScreenChange(): void {</li><li>    <span class="hljs-comment">// Large folding screen (X series) in unfolded state and tablet state, supporting rotation &amp;&amp; large folding screen (X series) in hover state requires landscape display and does not support rotation.</span></li><li>    <span class="hljs-keyword">if</span> (((<span class="hljs-keyword">this</span>.currentWidthBreakpoint === WidthBreakpoint.WIDTH_MD &amp;&amp; <span class="hljs-keyword">this</span>.currentHeightBreakpoint !==</li><li>    HeightBreakpoint.HEIGHT_SM) || <span class="hljs-keyword">this</span>.currentWidthBreakpoint === WidthBreakpoint.WIDTH_LG) &amp;&amp;</li><li>      !<span class="hljs-keyword">this</span>.isHalfFolded) {</li><li>      <span class="hljs-keyword">this</span>.windowUtil?.setMainWindowOrientation(window.Orientation.AUTO_ROTATION_RESTRICTED);</li><li>    }</li><li>    <span class="hljs-comment">// Phone and large folding screen (X series) in portrait mode.</span></li><li>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.currentWidthBreakpoint === WidthBreakpoint.WIDTH_SM &amp;&amp; <span class="hljs-keyword">this</span>.currentHeightBreakpoint ===</li><li>    HeightBreakpoint.HEIGHT_LG) {</li><li>      <span class="hljs-comment">// In full-screen mode, the layout is displayed in landscape mode. Otherwise, the layout is displayed in portrait mode.</span></li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isFullScreen) {</li><li>        <span class="hljs-keyword">this</span>.windowUtil?.setMainWindowOrientation(window.Orientation.AUTO_ROTATION_LANDSCAPE_RESTRICTED);</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-keyword">this</span>.windowUtil?.setMainWindowOrientation(window.Orientation.PORTRAIT);</li><li>      }</li><li>    }</li><li>    <span class="hljs-comment">// When the mobile phone and large folding screen (X series) are folded in landscape mode and the playback is not in full screen mode, the vertical display layout is displayed.</span></li><li>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.currentWidthBreakpoint === WidthBreakpoint.WIDTH_MD &amp;&amp; <span class="hljs-keyword">this</span>.currentHeightBreakpoint ===</li><li>    HeightBreakpoint.HEIGHT_SM &amp;&amp; !<span class="hljs-keyword">this</span>.isFullScreen) {</li><li>      <span class="hljs-keyword">this</span>.windowUtil?.setMainWindowOrientation(window.Orientation.PORTRAIT);</li><li>    }</li><li>    <span class="hljs-comment">// The navigation bar is not hidden on a 2in1 device.</span></li><li>    <span class="hljs-keyword">if</span> (deviceInfo.deviceType !== <span class="hljs-string">'2in1'</span>) {</li><li>      <span class="hljs-comment">// The navigation bar is hidden in full-screen playback. Otherwise, the navigation bar is displayed.</span></li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isFullScreen) {</li><li>        <span class="hljs-keyword">this</span>.windowUtil!.disableWindowSystemBar();</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-keyword">this</span>.windowUtil!.enableWindowSystemBar();</li><li>      }</li><li>    }</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/ResponsiveLayout/entry/src/main/ets/pages/VideoExample.ets#L120-L156" target="_blank">VideoExample.ets</a></div></div></div></div> </li></ul> <p></p></li></ol> <p>通过纵向和横向断点替换之前的逻辑，开发者只需维护一套方案。这实现了“全屏播放”页在多设备上的兼容。在实际开发中，多设备兼容均可采用此方案进行适配。</p> </div> <div class="tiledSection"><h2 id="section1950102518311">媒体查询<i class="anchor-icon anchor-icon-link" anchorid="section1950102518311" tips="复制节点链接"></i></h2><p>在实际应用开发过程中，开发者常常需要针对不同类型设备或同一类型设备的不同状态来修改应用的样式。媒体查询提供了丰富的媒体特征监听能力，可以监听应用显示区域变化、横竖屏、深浅色、设备类型等，因此在应用开发过程中使用的非常广泛。</p> <p>本小节主要介绍媒体查询跟断点的结合，即如何借助媒体查询能力，监听断点的变化，关于媒体查询的相关介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-layout-development-media-query" target="_blank">媒体查询</a>。</p> <p><strong>示例：</strong></p> <p>通过媒体查询，监听应用窗口宽度变化，获取当前应用所处的断点值。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.6.1.4.1.1" valign="top" width="33.33333333333333%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.4.1.2" valign="top" width="33.33333333333333%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.4.1.3" valign="top" width="33.33333333333333%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p><span><img height="159.60000000000002" originheight="158" originwidth="209" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163112.14344807827351841921790275020804:50001231000000:2800:9C0CF3EC591CDECA6B82358E34FBF31F1E81B78C17A4EE4908AAF4C6634BB42E.jpg" width="211.1109" class="notEnlarge"></span></p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p><span><img height="106.58957357885804" originheight="158" originwidth="419" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163112.43524500053122267312807138464556:50001231000000:2800:C764E8C8876E66F9BEC201B0B16A0A64484F38128D8BC67D985727B243FB96F6.jpg" title="点击放大" width="282.66666666666663"></span></p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p><span><img height="82.37808432096367" originheight="160" originwidth="548" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163112.15488745446021755992547071855771:50001231000000:2800:BDF4985A5239E87E8C67320DEA6D6511BD2EC977EDBD1C15C36E4410B50F38ED.jpg" title="点击放大" width="282.66666666666663"></span></p> </td> </tr>  </tbody></table></div> </div> <ol><li>对通过媒体查询监听<a href="/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1532120147301">断点</a>的功能做简单的封装，方便后续使用。<div class="screenLinkPre"><div _ngcontent-rld-c106="" class="highlight-div"><div _ngcontent-rld-c106="" class="highlight-div-header"><div _ngcontent-rld-c106="" class="highlight-div-header-left"><div _ngcontent-rld-c106="" class="handle-button expand-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rld-c106="" class="highlight-div-header-right"><div _ngcontent-rld-c106="" class="handle-button ai-button"></div><div _ngcontent-rld-c106="" class="handle-button line-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rld-c106="" class="handle-button theme-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rld-c106="" class="handle-button copy-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rld-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/AdaptiveCapabilities/entry/src/main/ets/pages/responsiveLayout/breakpoint/Breakpoint.ets#L19-L129" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">BreakpointType</span> = <span class="hljs-string">'xs'</span> | <span class="hljs-string">'sm'</span> | <span class="hljs-string">'md'</span> | <span class="hljs-string">'lg'</span> | <span class="hljs-string">'xl'</span> | <span class="hljs-string">'xxl'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Breakpoint</span> {</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-title class_">BreakpointType</span></li><li>  <span class="hljs-attr">size</span>: <span class="hljs-built_in">number</span></li><li>  mediaQueryListener?: mediaquery.<span class="hljs-property">MediaQueryListener</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BreakpointSystem</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-attr">instance</span>: <span class="hljs-title class_">BreakpointSystem</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-attr">breakpoints</span>: <span class="hljs-title class_">Breakpoint</span>[] = [</li><li>    { <span class="hljs-attr">name</span>: <span class="hljs-string">'xs'</span>, <span class="hljs-attr">size</span>: <span class="hljs-number">0</span> },</li><li>    { <span class="hljs-attr">name</span>: <span class="hljs-string">'sm'</span>, <span class="hljs-attr">size</span>: <span class="hljs-number">320</span> },</li><li>    { <span class="hljs-attr">name</span>: <span class="hljs-string">'md'</span>, <span class="hljs-attr">size</span>: <span class="hljs-number">600</span> },</li><li>    { <span class="hljs-attr">name</span>: <span class="hljs-string">'lg'</span>, <span class="hljs-attr">size</span>: <span class="hljs-number">840</span> }</li><li>  ]</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">states</span>: <span class="hljs-title class_">Set</span>&lt;<span class="hljs-title class_">BreakpointState</span>&lt;<span class="hljs-title class_">Object</span>&gt;&gt;;</li><li>
</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">states</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-title function_">getInstance</span>(): <span class="hljs-title class_">BreakpointSystem</span> {</li><li>    <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">BreakpointSystem</span>.<span class="hljs-property">instance</span>) {</li><li>      <span class="hljs-title class_">BreakpointSystem</span>.<span class="hljs-property">instance</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BreakpointSystem</span>();</li><li>    }</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">BreakpointSystem</span>.<span class="hljs-property">instance</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">attach</span>(<span class="hljs-attr">state</span>: <span class="hljs-title class_">BreakpointState</span>&lt;<span class="hljs-title class_">Object</span>&gt;): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">states</span>.<span class="hljs-title function_">add</span>(state);</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">detach</span>(<span class="hljs-attr">state</span>: <span class="hljs-title class_">BreakpointState</span>&lt;<span class="hljs-title class_">Object</span>&gt;): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">states</span>.<span class="hljs-title function_">delete</span>(state);</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">start</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">breakpoints</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">breakpoint: Breakpoint, index</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">condition</span>: <span class="hljs-built_in">string</span>;</li><li>      <span class="hljs-keyword">if</span> (index === <span class="hljs-variable language_">this</span>.<span class="hljs-property">breakpoints</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>) {</li><li>        condition = <span class="hljs-string">`(<span class="hljs-subst">${breakpoint.size}</span>vp&lt;=width)`</span>;</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        condition = <span class="hljs-string">`(<span class="hljs-subst">${breakpoint.size}</span>vp&lt;=width&lt;<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.breakpoints[index + <span class="hljs-number">1</span>].size}</span>vp)`</span>;</li><li>      }</li><li>      <span class="hljs-keyword">let</span> uiContext = <span class="hljs-title class_">AppStorage</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'uiContext'</span>) <span class="hljs-keyword">as</span> <span class="hljs-title class_">UIContext</span>;</li><li>      breakpoint.<span class="hljs-property">mediaQueryListener</span> = uiContext.<span class="hljs-title function_">getMediaQuery</span>().<span class="hljs-title function_">matchMediaSync</span>(condition);</li><li>      <span class="hljs-keyword">if</span> (breakpoint.<span class="hljs-property">mediaQueryListener</span>.<span class="hljs-property">matches</span>) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updateAllState</span>(breakpoint.<span class="hljs-property">name</span>);</li><li>      }</li><li>      breakpoint.<span class="hljs-property">mediaQueryListener</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'change'</span>, <span class="hljs-function">(<span class="hljs-params">mediaQueryResult</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (mediaQueryResult.<span class="hljs-property">matches</span>) {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updateAllState</span>(breakpoint.<span class="hljs-property">name</span>);</li><li>        }</li><li>      })</li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-title function_">updateAllState</span>(<span class="hljs-attr">type</span>: <span class="hljs-title class_">BreakpointType</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">states</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.<span class="hljs-title function_">update</span>(<span class="hljs-keyword">type</span>));</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">stop</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">breakpoints</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">breakpoint: Breakpoint, index</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (breakpoint.<span class="hljs-property">mediaQueryListener</span>) {</li><li>        breakpoint.<span class="hljs-property">mediaQueryListener</span>.<span class="hljs-title function_">off</span>(<span class="hljs-string">'change'</span>);</li><li>      }</li><li>    })</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">states</span>.<span class="hljs-title function_">clear</span>();</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">BreakpointOptions</span>&lt;T&gt; {</li><li>  xs?: T;</li><li>  sm?: T;</li><li>  md?: T;</li><li>  lg?: T;</li><li>  xl?: T;</li><li>  xxl?: T;</li><li>}</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BreakpointState</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Object</span>&gt; {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">value</span>: T | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">options</span>: <span class="hljs-title class_">BreakpointOptions</span>&lt;T&gt;;</li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">options: BreakpointOptions&lt;T&gt;</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = options;</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">static</span> <span class="hljs-keyword">of</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Object</span>&gt;(<span class="hljs-attr">options</span>: <span class="hljs-title class_">BreakpointOptions</span>&lt;T&gt;): <span class="hljs-title class_">BreakpointState</span>&lt;T&gt; {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BreakpointState</span>(options);</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">update</span>(<span class="hljs-attr">type</span>: <span class="hljs-title class_">BreakpointType</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">type</span> === <span class="hljs-string">'xs'</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">xs</span>;</li><li>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">type</span> === <span class="hljs-string">'sm'</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">sm</span>;</li><li>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">type</span> === <span class="hljs-string">'md'</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">md</span>;</li><li>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">type</span> === <span class="hljs-string">'lg'</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">lg</span>;</li><li>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">type</span> === <span class="hljs-string">'xl'</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">xl</span>;</li><li>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">type</span> === <span class="hljs-string">'xxl'</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">xxl</span>;</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = <span class="hljs-literal">undefined</span>;</li><li>    }</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/AdaptiveCapabilities/entry/src/main/ets/pages/responsiveLayout/breakpoint/Breakpoint.ets#L19-L129" target="_blank">Breakpoint.ets</a></div></div></div></div> </li><li>在页面中，通过媒体查询，监听应用窗口宽度变化，获取当前应用所处的断点值。<div class="screenLinkPre"><div _ngcontent-rld-c106="" class="highlight-div"><div _ngcontent-rld-c106="" class="highlight-div-header"><div _ngcontent-rld-c106="" class="highlight-div-header-left"><div _ngcontent-rld-c106="" class="handle-button expand-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rld-c106="" class="highlight-div-header-right"><div _ngcontent-rld-c106="" class="handle-button ai-button"></div><div _ngcontent-rld-c106="" class="handle-button line-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rld-c106="" class="handle-button theme-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rld-c106="" class="handle-button copy-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rld-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/AdaptiveCapabilities/entry/src/main/ets/pages/responsiveLayout/breakpoint/BreakpointSample.ets#L17-L57" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">BreakpointSystem</span>, <span class="hljs-variable">BreakpointState</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./Breakpoint'</span>;</li><li>
</li><li>@<span class="hljs-title function_">Entry</span></li><li>@<span class="hljs-title function_">Component</span></li><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">BreakpointSample</span> {</li><li>  @<span class="hljs-title function_">State</span> <span class="hljs-variable">compStr</span>: <span class="hljs-title class_">BreakpointState</span>&lt;<span class="hljs-title class_">string</span>&gt; = <span class="hljs-variable">BreakpointState</span>.<span class="hljs-title function_">of</span>({ <span class="hljs-variable">sm</span>: <span class="hljs-string">"sm"</span>, <span class="hljs-variable">md</span>: <span class="hljs-string">"md"</span>, <span class="hljs-variable">lg</span>: <span class="hljs-string">"lg"</span> })</li><li>  @<span class="hljs-title function_">State</span> <span class="hljs-variable">compImg</span>: <span class="hljs-title class_">BreakpointState</span>&lt;<span class="hljs-title class_">Resource</span>&gt; = <span class="hljs-variable">BreakpointState</span>.<span class="hljs-title function_">of</span>({</li><li>    <span class="hljs-variable">sm</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">media</span>.<span class="hljs-title class_">sm_new</span>'),</li><li>    <span class="hljs-variable">md</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">media</span>.<span class="hljs-title class_">md_new</span>'),</li><li>    <span class="hljs-variable">lg</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">media</span>.<span class="hljs-title class_">lg_new</span>')</li><li>  });</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>() {</li><li>    <span class="hljs-variable">BreakpointSystem</span>.<span class="hljs-title function_">getInstance</span>().<span class="hljs-title function_">attach</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">compStr</span>);</li><li>    <span class="hljs-variable">BreakpointSystem</span>.<span class="hljs-title function_">getInstance</span>().<span class="hljs-title function_">attach</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">compImg</span>);</li><li>    <span class="hljs-variable">BreakpointSystem</span>.<span class="hljs-title function_">getInstance</span>().<span class="hljs-title function_">start</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">aboutToDisappear</span>() {</li><li>    <span class="hljs-variable">BreakpointSystem</span>.<span class="hljs-title function_">getInstance</span>().<span class="hljs-title function_">detach</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">compStr</span>);</li><li>    <span class="hljs-variable">BreakpointSystem</span>.<span class="hljs-title function_">getInstance</span>().<span class="hljs-title function_">detach</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">compImg</span>);</li><li>    <span class="hljs-variable">BreakpointSystem</span>.<span class="hljs-title function_">getInstance</span>().<span class="hljs-title function_">stop</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>() {</li><li>    <span class="hljs-title function_">Flex</span>({ <span class="hljs-variable">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-title class_">Column</span>, <span class="hljs-variable">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-title class_">Center</span>, <span class="hljs-variable">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-title class_">Center</span> }) {</li><li>      <span class="hljs-title function_">Column</span>()</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">backgroundImage</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">compImg</span>.<span class="hljs-variable">value</span>)</li><li>        .<span class="hljs-title function_">backgroundImagePosition</span>(<span class="hljs-variable">Alignment</span>.<span class="hljs-variable">Center</span>)</li><li>        .<span class="hljs-title function_">backgroundImageSize</span>(<span class="hljs-variable">ImageSize</span>.<span class="hljs-variable">Contain</span>)</li><li>
</li><li>      <span class="hljs-title function_">Text</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">compStr</span>.<span class="hljs-variable">value</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">24</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/AdaptiveCapabilities/entry/src/main/ets/pages/responsiveLayout/breakpoint/BreakpointSample.ets#L17-L57" target="_blank">BreakpointSample.ets</a></div></div></div></div> </li></ol> </div> <div class="tiledSection"><h2 id="section1061332817545">栅格<i class="anchor-icon anchor-icon-link" anchorid="section1061332817545" tips="复制节点链接"></i></h2><p>栅格系统是一种用于页面布局的二维网格结构，多设备场景下通用的辅助定位工具。它将页面水平方向划分为等宽的列，通过设置内容占据的列数来实现灵活的布局。</p> <p>栅格可以显著降低适配不同屏幕尺寸的设计及开发成本，使得整体设计和开发流程更有秩序和节奏感，同时也保证多设备上应用显示的协调性和一致性，提升用户体验。</p> <p>HarmonyOS的栅格系统采用了12列设计，因为12可以被2、3、4、6整除，提供了更灵活的布局可能性。栅格布局主要优势包括：</p> </div> <ol><li>提供可循的规律：栅格布局可以为布局提供规律性的结构，解决多尺寸多设备的动态布局问题。通过将页面划分为等宽的列数和行数，可以方便地对页面元素进行定位和排版。</li><li>统一的定位标注：栅格布局可以为系统提供一种统一的定位标注，保证不同设备上各个模块的布局一致性。这可以减少设计和开发的复杂度，提高工作效率。</li><li>灵活的间距调整方法：栅格布局可以提供一种灵活的间距调整方法，满足特殊场景布局调整的需求。通过调整列与列之间和行与行之间的间距，可以控制整个页面的排版效果。</li><li>自动换行和自适应：栅格布局可以完成一对多布局的自动换行和自适应。当页面元素的数量超出了一行或一列的容量时，他们会自动换到下一行或下一列，并且在不同的设备上自适应排版，使得页面布局更加灵活和适应性强。</li></ol> <div class="fignone"><span class="figcap"><b>图6 </b>栅格示意图</span><br><span><img height="230.4225" originheight="759" originwidth="1722" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163112.51044607522958085181692533739211:50001231000000:2800:FC2BB8193394F722FD583C4E31A948F34D97A5AFD3BC24FD4F9BD8C845327017.png" title="点击放大" width="523.6875"></span></div> <p>栅格的样式由Margin、Gutter、Columns三个属性决定。</p> <ul><li>Margin是相对应用窗口、父容器的左右边缘的距离，决定了内容可展示的整体宽度。</li><li>Gutter是相邻的两个Column之间的距离，决定内容间的紧密程度。</li><li>Columns是栅格中的列数，其数值决定了内容的布局复杂度。</li></ul> <p>单个Column的宽度是系统结合Margin、Gutter和Columns自动计算的，不需要也不允许开发者手动配置。</p> <p>以竖屏手机的栅格宽度计算为例：</p> <p>屏幕宽度：360vp</p> <p>Margin： 24vp</p> <p>Gutter： 24vp</p> <p>栅格数： 4个（含3个Gutter）</p> <p>计算公式如下：</p> <p>1个栅格的宽度 = (屏幕宽度 - Margin x 2 - Gutter x 3)/4 = (360 - 24 x 2 - 24 x 3)/4 = 60(vp)</p> <p>2个栅格的宽度 = 1个栅格的宽度 + Gutter + 1个栅格的宽度 = 60 + 24 + 60 = 144(vp)</p> <p>3个栅格的宽度 = 2个栅格的宽度 + Gutter + 1个栅格的宽度 = 144 + 24 + 60 = 228(vp)</p> <p>4个栅格的宽度 = 3个栅格的宽度 + Gutter + 1个栅格的宽度 = 228 + 24 + 60 = 312(vp)</p> <p></p> <p>综合权衡各类设备的屏幕特征，基于 8vp 为网格的基本单位可以对界面上元素的大小、位置、对齐方式进行更好的规划，构建更有层次感、秩序感，以及多设备上一致的布局效果。一些更小的控件（例如图标）大小也可以对齐 4vp 的网格大小。栅格化布局中的Margin和Gutter的值参考8vp/4vp网格系统设置。如，手机设备上的栅格化设计，基础栅格Margin为24vp，等于3个8vp的宽度；卡片栅格Margin为12vp，等于一个8vp加上一个4vp的宽度。</p> <p>各类设备的栅格数、Margin、Gutter的参数，如下表所示：</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.28.1.7.1.1" valign="top" width="16.666666666666664%"><p>参数项</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.28.1.7.1.2" valign="top" width="16.666666666666664%"><p>手机</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.28.1.7.1.3" valign="top" width="16.666666666666664%"><p>折叠屏</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.28.1.7.1.4" valign="top" width="16.666666666666664%"><p>平板</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.28.1.7.1.5" valign="top" width="16.666666666666664%"><p>车机</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.28.1.7.1.6" valign="top" width="16.666666666666664%"><p>智慧屏</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="16.666666666666664%"><p>竖屏栅格数（个）</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>4</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>8</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>8</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>-</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>-</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="16.666666666666664%"><p>横屏栅格数（个）</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>8</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>8</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>12</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>12</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>12</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="16.666666666666664%"><p>基础栅格Margin（vp）</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>24</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>24</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>24</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>24</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>48</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="16.666666666666664%"><p>基础栅格Gutter（vp）</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>24</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>24</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>24</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>24</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>24</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="16.666666666666664%"><p>卡片栅格Margin（vp）</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>12</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>12</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>12</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>12</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>48</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="16.666666666666664%"><p>卡片栅格Gutter（vp）</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>12</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>12</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>12</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>12</p> </td> <td class="cellrowborder" valign="top" width="16.666666666666664%"><p>24</p> </td> </tr>  </tbody></table></div> </div> <p>栅格布局就是栅格结合了断点，实现栅格布局能力的组件叫栅格组件。在实际使用场景中，可以根据需要配置不同断点下栅格组件中元素占据的列数，同时也可以调整Margin、Gutter、Columns的取值，从而实现不同的布局效果。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.30.1.3.1.1" valign="top" width="33.57%"><p>sm断点</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.30.1.3.1.2" valign="top" width="66.43%"><p>md断点</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="33.57%"><p><span><img originheight="560" originwidth="374" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163112.76199066690358858499304678721814:50001231000000:2800:0AD1A2C273ABC2850B0CD17AE586997866AB5AA19837CA8E1D466FE2DEC2FCBD.jpg" width="284.844" height="426.50438502673796"></span></p> </td> <td class="cellrowborder" valign="top" width="66.43%"><p><span><img height="523.6875" originheight="560" originwidth="560" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163112.55711384782881750386987046618165:50001231000000:2800:F4A58CB8B6141229C72BF3DF2A9F811DFDA39D350A6025AD4C0FC19450A7B3F4.jpg" title="点击放大" width="523.6875"></span></p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul><li>ArkUI在API 9对栅格组件做了重构，推出了新的栅格组件<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-gridrow" target="_blank">GridRow</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-gridcol" target="_blank">GridCol</a>，同时原有的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-gridcontainer" target="_blank">GridContainer组件</a>及<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-grid" target="_blank">栅格设置</a>已经废弃。</li><li>本文中提到的栅格组件，如无特别说明，都是指GridRow和GridCol组件。</li></ul> </div></div></div> <div class="tiledSection"><h3 id="section178811229162210" class="firsth2">栅格组件的断点<i class="anchor-icon anchor-icon-link" anchorid="section178811229162210" tips="复制节点链接"></i></h3><p>栅格组件提供了丰富的断点定制能力。</p> <p><strong>（一）开发者可以修改断点的取值范围，支持启用最多6个断点。</strong></p> <ul><li>基于本文断点小节介绍的推荐值，栅格组件默认提供xs、sm、md、lg四个断点。</li><li>栅格组件支持开发者修改断点的取值范围，除了默认的四个断点，还支持开发者启用xl和xxl两个额外的断点。<div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>断点并非越多越好，通常每个断点都需要开发者“精心适配”以达到最佳显示效果。</p> </div></div></div> </li></ul> <p><strong>示例1：</strong></p> <p>修改默认的断点范围，同时启用xl和xxl断点。</p> <p>图片左下角显示了当前设备屏幕的尺寸（即应用窗口尺寸），可以看到随着窗口尺寸发生变化，栅格的断点也相应发生了改变（为了便于理解，下图中将设备的DPI设置为160，此时1vp=1px）。</p> <p><span><img height="312.21750000000003" originheight="832" originwidth="1392" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163112.97359165368009361585483048029265:50001231000000:2800:0B71A2CEFE57E2BB2449DB40FCC22DD478E02C7ABB6526EB569C336CD3D2B38A.gif" title="点击放大" width="523.6875"></span></p> <div class="screenLinkPre"><div _ngcontent-rld-c106="" class="highlight-div"><div _ngcontent-rld-c106="" class="highlight-div-header"><div _ngcontent-rld-c106="" class="highlight-div-header-left"><div _ngcontent-rld-c106="" class="handle-button expand-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rld-c106="" class="highlight-div-header-right"><div _ngcontent-rld-c106="" class="handle-button ai-button"></div><div _ngcontent-rld-c106="" class="handle-button line-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rld-c106="" class="handle-button theme-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rld-c106="" class="handle-button copy-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rld-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/AdaptiveCapabilities/entry/src/main/ets/pages/gridRow/gridRow/GridRowSample1.ets#L17-L50" data-highlighted="yes"><ol class="linenums"><li>@<span class="hljs-title function_">Entry</span></li><li>@<span class="hljs-title function_">Preview</span></li><li>@<span class="hljs-title function_">Component</span></li><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">GridRowSample1</span> {</li><li>  @<span class="hljs-title function_">State</span> <span class="hljs-variable">currentBreakpoint</span>: <span class="hljs-title class_">string</span> = <span class="hljs-string">'md'</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>() {</li><li>    <span class="hljs-title function_">GridRow</span>({ <span class="hljs-variable">breakpoints</span>: { <span class="hljs-variable">value</span>: [<span class="hljs-string">'600vp'</span>, <span class="hljs-string">'700vp'</span>, <span class="hljs-string">'800vp'</span>, <span class="hljs-string">'900vp'</span>, <span class="hljs-string">'1000vp'</span>] } }) {</li><li>      <span class="hljs-title function_">GridCol</span>({</li><li>        <span class="hljs-variable">span</span>: {</li><li>          <span class="hljs-variable">xs</span>: <span class="hljs-number">12</span>,</li><li>          <span class="hljs-variable">sm</span>: <span class="hljs-number">12</span>,</li><li>          <span class="hljs-variable">md</span>: <span class="hljs-number">12</span>,</li><li>          <span class="hljs-variable">lg</span>: <span class="hljs-number">12</span>,</li><li>          <span class="hljs-variable">xl</span>: <span class="hljs-number">12</span>,</li><li>          <span class="hljs-variable">xxl</span>: <span class="hljs-number">12</span></li><li>        }</li><li>      }) {</li><li>        <span class="hljs-title function_">Row</span>() {</li><li>          <span class="hljs-title function_">Text</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">currentBreakpoint</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">100</span>)</li><li>            .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-variable">FontWeight</span>.<span class="hljs-variable">Bolder</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">alignItems</span>(<span class="hljs-variable">VerticalAlign</span>.<span class="hljs-variable">Center</span>)</li><li>        .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-variable">FlexAlign</span>.<span class="hljs-variable">Center</span>)</li><li>      }</li><li>    }</li><li>    .<span class="hljs-title function_">onBreakpointChange</span>((<span class="hljs-variable">breakPoint</span>: <span class="hljs-title class_">string</span>) =&gt; {</li><li>      <span class="hljs-keyword">this</span>.<span class="hljs-variable">currentBreakpoint</span> = <span class="hljs-variable">breakPoint</span>;</li><li>    })</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/AdaptiveCapabilities/entry/src/main/ets/pages/gridRow/gridRow/GridRowSample1.ets#L17-L50" target="_blank">GridRowSample1.ets</a></div></div></div></div> <p><strong>（二）栅格断点默认以窗口宽度为参照物，同时还允许开发者配置为以栅格组件本身的宽度为参照物。</strong></p> <p>栅格既可以用于页面整体布局的场景，也可以用于页面局部布局的场景。考虑到在实际场景中，存在应用窗口尺寸不变但是局部区域尺寸发生了变化的情况，栅格组件支持以自身宽度为参照物响应断点变化具有更大的灵活性。</p> <p><strong>示例2：</strong></p> <p>以栅格组件宽度为参考物响应断点变化。满足窗口尺寸不变，而部分内容区需要做响应式变化的场景。</p> <p>为了便于理解，可将自定义预览器的设备屏幕宽度设置为650vp。示例代码中将侧边栏的变化范围控制在[100vp, 600vp]，那么右侧的栅格组件宽度相对应在[550vp, 50vp]之间变化。根据代码中对栅格断点的配置，栅格组件宽度发生变化时，其断点相应的发生改变。</p> <div class="screenLinkPre"><div _ngcontent-rld-c106="" class="highlight-div"><div _ngcontent-rld-c106="" class="highlight-div-header"><div _ngcontent-rld-c106="" class="highlight-div-header-left"><div _ngcontent-rld-c106="" class="handle-button expand-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rld-c106="" class="highlight-div-header-right"><div _ngcontent-rld-c106="" class="handle-button ai-button"></div><div _ngcontent-rld-c106="" class="handle-button line-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rld-c106="" class="handle-button theme-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rld-c106="" class="handle-button copy-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rld-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/AdaptiveCapabilities/entry/src/main/ets/pages/gridRow/gridRow/GridRowSample2.ets#L17-L73" data-highlighted="yes"><ol class="linenums"><li>@<span class="hljs-title function_">Entry</span></li><li>@<span class="hljs-title function_">Component</span></li><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">GridRowSample2</span> {</li><li>  @<span class="hljs-title function_">State</span> <span class="hljs-variable">currentBreakpoint</span>: <span class="hljs-title class_">string</span> = <span class="hljs-string">'md'</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>() {</li><li>    <span class="hljs-comment">// Users can adjust the width of the sidebar and content area by dragging the divider in the sidebar component.</span></li><li>    <span class="hljs-title function_">SideBarContainer</span>(<span class="hljs-variable">SideBarContainerType</span>.<span class="hljs-variable">Embed</span>) {</li><li>      <span class="hljs-comment">// Sidebar, with a resizable range of [100vp, 600vp].</span></li><li>      <span class="hljs-title function_">Column</span>() {</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#19000000'</span>)</li><li>
</li><li>      <span class="hljs-comment">// Content area, resizable range: [550vp, 50vp].</span></li><li>      <span class="hljs-title function_">GridRow</span>({</li><li>        <span class="hljs-variable">breakpoints</span>: {</li><li>          <span class="hljs-variable">value</span>: [<span class="hljs-string">'100vp'</span>, <span class="hljs-string">'200vp'</span>, <span class="hljs-string">'300vp'</span>, <span class="hljs-string">'400vp'</span>, <span class="hljs-string">'500vp'</span>],</li><li>          <span class="hljs-variable">reference</span>: <span class="hljs-title class_">BreakpointsReference</span>.<span class="hljs-title class_">ComponentSize</span></li><li>        }</li><li>      }) {</li><li>        <span class="hljs-title function_">GridCol</span>({</li><li>          <span class="hljs-variable">span</span>: {</li><li>            <span class="hljs-variable">xs</span>: <span class="hljs-number">12</span>,</li><li>            <span class="hljs-variable">sm</span>: <span class="hljs-number">12</span>,</li><li>            <span class="hljs-variable">md</span>: <span class="hljs-number">12</span>,</li><li>            <span class="hljs-variable">lg</span>: <span class="hljs-number">12</span>,</li><li>            <span class="hljs-variable">xl</span>: <span class="hljs-number">12</span>,</li><li>            <span class="hljs-variable">xxl</span>: <span class="hljs-number">12</span></li><li>          }</li><li>        }) {</li><li>          <span class="hljs-title function_">Row</span>() {</li><li>            <span class="hljs-title function_">Text</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">currentBreakpoint</span>)</li><li>              .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>              .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-variable">FontWeight</span>.<span class="hljs-variable">Bolder</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-variable">FlexAlign</span>.<span class="hljs-variable">Center</span>)</li><li>          .<span class="hljs-title function_">alignItems</span>(<span class="hljs-variable">VerticalAlign</span>.<span class="hljs-variable">Center</span>)</li><li>        }</li><li>      }</li><li>      .<span class="hljs-title function_">onBreakpointChange</span>((<span class="hljs-variable">currentBreakpoint</span>: <span class="hljs-title class_">string</span>) =&gt; {</li><li>        <span class="hljs-keyword">this</span>.<span class="hljs-variable">currentBreakpoint</span> = <span class="hljs-variable">currentBreakpoint</span></li><li>      })</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    <span class="hljs-comment">// The sidebar does not auto-hide when dragged to its minimum width.</span></li><li>    .<span class="hljs-title function_">autoHide</span>(<span class="hljs-keyword">false</span>)</li><li>    .<span class="hljs-title function_">sideBarWidth</span>(<span class="hljs-number">100</span>)</li><li>    <span class="hljs-comment">// Minimum width of the sidebar.</span></li><li>    .<span class="hljs-title function_">minSideBarWidth</span>(<span class="hljs-number">100</span>)</li><li>    <span class="hljs-comment">// Maximum width of the sidebar.</span></li><li>    .<span class="hljs-title function_">maxSideBarWidth</span>(<span class="hljs-number">600</span>)</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/AdaptiveCapabilities/entry/src/main/ets/pages/gridRow/gridRow/GridRowSample2.ets#L17-L73" target="_blank">GridRowSample2.ets</a></div></div></div></div> <p><strong>（三）栅格组件的断点发生变化时，会通过onBreakPointChange事件通知开发者。</strong></p> <p>在之前的两个例子中，已经演示了onBreakpointChange事件的用法，此处不再赘述。</p> </div> <div class="tiledSection"><h3 id="section11317503378">栅格组件的columns、gutter和margin<i class="anchor-icon anchor-icon-link" anchorid="section11317503378" tips="复制节点链接"></i></h3><p>栅格组件columns默认为12列，gutter默认为0，同时支持开发者根据实际需要定义不同断点下的columns数量以及gutter长度。特别的，在栅格组件实际使用过程中，常常会发生多个元素占据的列数相加超过总列数而折行的场景。栅格组件还允许开发者分别定义水平方向的gutter（相邻两列之间的间距）和垂直方向的gutter（折行时相邻两行之间的间距）。</p> <p>考虑到<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-component-general-attributes" target="_blank">组件通用属性</a>中已经有margin和padding，栅格组件不再单独提供额外的margin属性，直接使用通用属性即可。借助margin或者padding属性，均可以控制栅格组件与父容器左右边缘的距离，但是二者也存在一些差异：</p> <ul><li>margin区域在栅格组件的边界外，padding区域在栅格组件的边界内。</li><li>栅格组件的backgroundColor会影响padding区域，但不会影响margin区域。</li></ul> <p>总的来讲，margin在组件外而padding在组件内，开发者可以根据实际需要进行选择及实现目标效果。</p> <p><strong>示例3：</strong></p> <p>不同断点下，定义不同的columns和gutter。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.33.8.1.4.1.1" valign="top" width="33.33333333333333%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.4.1.2" valign="top" width="33.33333333333333%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.4.1.3" valign="top" width="33.33333333333333%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p><span><img height="159.60000000000002" originheight="158" originwidth="255" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163112.47337156141230201545389023303587:50001231000000:2800:772E2B2253D62184117F2C5EFAF6CBCF172239A39C470C4954CBB5E0C7FA5376.jpg" width="257.5811" class="notEnlarge"></span></p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p><span><img height="105.83133131571559" originheight="158" originwidth="422" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163113.41064040798237917561505151328713:50001231000000:2800:37572B8D00E9E0505491458631EFC94F9B252318C634E1BF9E224811E0F03884.jpg" title="点击放大" width="282.66666666666663"></span></p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p><span><img height="75.91593742306574" originheight="151" originwidth="560" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163113.93263942715396778812612028748904:50001231000000:2800:D4506AFE1442EF272AE62D3DA6498BC76DEF58D7039B4EDCA3E717584D04A890.jpg" title="点击放大" width="282.66666666666663"></span></p> </td> </tr>  </tbody></table></div> </div> <div class="screenLinkPre"><div _ngcontent-rld-c106="" class="highlight-div"><div _ngcontent-rld-c106="" class="highlight-div-header"><div _ngcontent-rld-c106="" class="highlight-div-header-left"><div _ngcontent-rld-c106="" class="handle-button expand-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rld-c106="" class="highlight-div-header-right"><div _ngcontent-rld-c106="" class="handle-button ai-button"></div><div _ngcontent-rld-c106="" class="handle-button line-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rld-c106="" class="handle-button theme-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rld-c106="" class="handle-button copy-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rld-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-php" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/AdaptiveCapabilities/entry/src/main/ets/pages/gridRow/gridRow/GridRowSample3.ets#L17-L45" data-highlighted="yes"><ol class="linenums"><li>@Entry</li><li>@Component</li><li>struct GridRowSample3 {</li><li>  <span class="hljs-keyword">private</span> bgColors: ResourceColor[] = [</li><li>    <span class="hljs-variable">$r</span>(<span class="hljs-string">'sys.color.ohos_id_color_palette_aux1'</span>),</li><li>    <span class="hljs-variable">$r</span>(<span class="hljs-string">'sys.color.ohos_id_color_palette_aux2'</span>),</li><li>    <span class="hljs-variable">$r</span>(<span class="hljs-string">'sys.color.ohos_id_color_palette_aux3'</span>),</li><li>    <span class="hljs-variable">$r</span>(<span class="hljs-string">'sys.color.ohos_id_color_palette_aux4'</span>),</li><li>    <span class="hljs-variable">$r</span>(<span class="hljs-string">'sys.color.ohos_id_color_palette_aux5'</span>),</li><li>    <span class="hljs-variable">$r</span>(<span class="hljs-string">'sys.color.ohos_id_color_palette_aux6'</span>)</li><li>  ];</li><li>
</li><li>  <span class="hljs-title function_ invoke__">build</span>() {</li><li>    <span class="hljs-comment">// Config the values of columns and gutter at different breakpoints.</span></li><li>    <span class="hljs-title function_ invoke__">GridRow</span>({</li><li>      <span class="hljs-attr">columns</span>: { <span class="hljs-attr">sm</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">md</span>: <span class="hljs-number">8</span>, <span class="hljs-attr">lg</span>: <span class="hljs-number">12</span> },</li><li>      <span class="hljs-attr">gutter</span>: { <span class="hljs-attr">x</span>: { <span class="hljs-attr">sm</span>: <span class="hljs-number">8</span>, <span class="hljs-attr">md</span>: <span class="hljs-number">16</span>, <span class="hljs-attr">lg</span>: <span class="hljs-number">24</span> }, <span class="hljs-attr">y</span>: { <span class="hljs-attr">sm</span>: <span class="hljs-number">8</span>, <span class="hljs-attr">md</span>: <span class="hljs-number">16</span>, <span class="hljs-attr">lg</span>: <span class="hljs-number">24</span> } }</li><li>    }) {</li><li>      <span class="hljs-title function_ invoke__">ForEach</span>(this.bgColors, (<span class="hljs-attr">bgColor</span>: ResourceColor) =&gt; {</li><li>        <span class="hljs-title function_ invoke__">GridCol</span>({ <span class="hljs-attr">span</span>: { <span class="hljs-attr">sm</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">md</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">lg</span>: <span class="hljs-number">2</span> } }) {</li><li>          <span class="hljs-title function_ invoke__">Row</span>()</li><li>            .<span class="hljs-title function_ invoke__">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_ invoke__">backgroundColor</span>(bgColor)</li><li>            .<span class="hljs-title function_ invoke__">height</span>(<span class="hljs-number">30</span>)</li><li>        }</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/AdaptiveCapabilities/entry/src/main/ets/pages/gridRow/gridRow/GridRowSample3.ets#L17-L45" target="_blank">GridRowSample3.ets</a></div></div></div></div> <p><strong>示例4：</strong></p> <p>通过通用属性margin或者padding，均可以控制栅格组件与其父容器左右两侧的距离，但padding区域计算在栅格组件内而margin区域计算在栅格组件外。此外，借助onBreakpointChange事件，还可以改变不同断点下margin或padding值。</p> <p><span><img height="159.60000000000002" originheight="247" originwidth="821" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163113.24683074490780730745558583659811:50001231000000:2800:8209208D87C7E0640570915308BD4F54F87066EE787227A2F011EE93BC0A1F70.png" title="点击放大" width="533.6891"></span></p> <div class="screenLinkPre"><div _ngcontent-rld-c106="" class="highlight-div"><div _ngcontent-rld-c106="" class="highlight-div-header"><div _ngcontent-rld-c106="" class="highlight-div-header-left"><div _ngcontent-rld-c106="" class="handle-button expand-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rld-c106="" class="highlight-div-header-right"><div _ngcontent-rld-c106="" class="handle-button ai-button"></div><div _ngcontent-rld-c106="" class="handle-button line-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rld-c106="" class="handle-button theme-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rld-c106="" class="handle-button copy-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rld-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/AdaptiveCapabilities/entry/src/main/ets/pages/gridRow/gridRow/GridRowSample4.ets#L17-L81" data-highlighted="yes"><ol class="linenums"><li>@<span class="hljs-title function_">Entry</span></li><li>@<span class="hljs-title function_">Component</span></li><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">GridRowSample4</span> {</li><li>  @<span class="hljs-title function_">State</span> <span class="hljs-variable">gridMargin</span>: <span class="hljs-title class_">number</span> = <span class="hljs-number">0</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>() {</li><li>    <span class="hljs-title function_">Column</span>() {</li><li>      <span class="hljs-title function_">Row</span>()</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>)</li><li>
</li><li>      <span class="hljs-comment">// Control the left and right spacing of the grid using padding.</span></li><li>      <span class="hljs-title function_">GridRow</span>() {</li><li>        <span class="hljs-title function_">GridCol</span>({ <span class="hljs-variable">span</span>: { <span class="hljs-variable">sm</span>: <span class="hljs-number">12</span>, <span class="hljs-variable">md</span>: <span class="hljs-number">12</span>, <span class="hljs-variable">lg</span>: <span class="hljs-number">12</span> } }) {</li><li>          <span class="hljs-title function_">Row</span>() {</li><li>            <span class="hljs-title function_">Text</span>(<span class="hljs-string">'padding'</span>)</li><li>              .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">24</span>)</li><li>              .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-variable">FontWeight</span>.<span class="hljs-variable">Medium</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">alignItems</span>(<span class="hljs-variable">VerticalAlign</span>.<span class="hljs-variable">Center</span>)</li><li>          .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-variable">FlexAlign</span>.<span class="hljs-variable">Center</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#19000000'</span>)</li><li>        }</li><li>      }</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">2</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-string">'#F1CCB8'</span>)</li><li>      .<span class="hljs-title function_">padding</span>({ <span class="hljs-variable">left</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">gridMargin</span>, <span class="hljs-variable">right</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">gridMargin</span> })</li><li>      <span class="hljs-comment">// Configure the left and right spacing values of grid components at different breakpoints using breakpoint change events.</span></li><li>      .<span class="hljs-title function_">onBreakpointChange</span>((<span class="hljs-variable">currentBreakpoint</span>: <span class="hljs-title class_">string</span>) =&gt; {</li><li>        <span class="hljs-keyword">if</span> (<span class="hljs-variable">currentBreakpoint</span> === <span class="hljs-string">'lg'</span> || <span class="hljs-variable">currentBreakpoint</span> === <span class="hljs-string">'md'</span>) {</li><li>          <span class="hljs-keyword">this</span>.<span class="hljs-variable">gridMargin</span> = <span class="hljs-number">24</span>;</li><li>        } <span class="hljs-keyword">else</span> {</li><li>          <span class="hljs-keyword">this</span>.<span class="hljs-variable">gridMargin</span> = <span class="hljs-number">12</span>;</li><li>        }</li><li>      })</li><li>
</li><li>      <span class="hljs-title function_">Row</span>()</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>)</li><li>
</li><li>      <span class="hljs-comment">// Control the left and right spacing of the grid using margin.</span></li><li>      <span class="hljs-title function_">GridRow</span>() {</li><li>        <span class="hljs-title function_">GridCol</span>({ <span class="hljs-variable">span</span>: { <span class="hljs-variable">sm</span>: <span class="hljs-number">12</span>, <span class="hljs-variable">md</span>: <span class="hljs-number">12</span>, <span class="hljs-variable">lg</span>: <span class="hljs-number">12</span> } }) {</li><li>          <span class="hljs-title function_">Row</span>() {</li><li>            <span class="hljs-title function_">Text</span>(<span class="hljs-string">'margin'</span>)</li><li>              .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">24</span>)</li><li>              .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-variable">FontWeight</span>.<span class="hljs-variable">Medium</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">alignItems</span>(<span class="hljs-variable">VerticalAlign</span>.<span class="hljs-variable">Center</span>)</li><li>          .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-variable">FlexAlign</span>.<span class="hljs-variable">Center</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#19000000'</span>)</li><li>        }</li><li>      }</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">2</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-string">'#F1CCB8'</span>)</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-variable">left</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">gridMargin</span>, <span class="hljs-variable">right</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">gridMargin</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/AdaptiveCapabilities/entry/src/main/ets/pages/gridRow/gridRow/GridRowSample4.ets#L17-L81" target="_blank">GridRowSample4.ets</a></div></div></div></div> </div> <div class="tiledSection"><h3 id="section15550132444314">栅格组件的span、offset和order<i class="anchor-icon anchor-icon-link" anchorid="section15550132444314" tips="复制节点链接"></i></h3><p>栅格组件（GridRow）的直接孩子节点只可以是栅格子组件（GridCol），GridCol组件支持配置span、offset和order三个参数。这三个参数的取值按照"xs -&gt; sm -&gt; md -&gt; lg -&gt; xl -&gt; xxl"的向后方向具有继承性（不支持向前方向的继承性），例如将sm断点下span的值配置为3，不配置md断点下span的值，则md断点下span的取值也是3。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.34.3.1.6.1.1" valign="top" width="20%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.34.3.1.6.1.2" valign="top" width="20%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.34.3.1.6.1.3" valign="top" width="20%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.34.3.1.6.1.4" valign="top" width="20%"><p>默认值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.34.3.1.6.1.5" valign="top" width="20%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="20%"><p>span</p> </td> <td class="cellrowborder" valign="top" width="20%"><p>{xs?: number, sm?: number, md?: number, lg?: number, xl?: number, xxl?:number}</p> </td> <td class="cellrowborder" valign="top" width="20%"><p>是</p> </td> <td class="cellrowborder" valign="top" width="20%"><p>-</p> </td> <td class="cellrowborder" valign="top" width="20%"><p>在栅格中占据的列数。span为0，意味着该元素既不参与布局计算，也不会被渲染。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="20%"><p>offset</p> </td> <td class="cellrowborder" valign="top" width="20%"><p>{xs?: number, sm?: number, md?: number, lg?: number, xl?: number, xxl?:number}</p> </td> <td class="cellrowborder" valign="top" width="20%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="20%"><p>0</p> </td> <td class="cellrowborder" valign="top" width="20%"><p>相对于前一个栅格子组件偏移的列数。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="20%"><p>order</p> </td> <td class="cellrowborder" valign="top" width="20%"><p>{xs?: number, sm?: number, md?: number, lg?: number, xl?: number, xxl?:number}</p> </td> <td class="cellrowborder" valign="top" width="20%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="20%"><p>0</p> </td> <td class="cellrowborder" valign="top" width="20%"><p>元素的序号，根据栅格子组件的序号，从小到大对栅格子组件做排序。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例5：</strong></p> <p>通过span参数配置GridCol在不同断点下占据不同的列数。特别的，将md断点下3和6的span配置为0，这样在md断点下3和6不会渲染和显示。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.34.6.1.4.1.1" valign="top" width="33.33333333333333%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.34.6.1.4.1.2" valign="top" width="33.33333333333333%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.34.6.1.4.1.3" valign="top" width="33.33333333333333%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p><span><img height="159.60000000000002" originheight="159" originwidth="270" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163113.42418091372631697009462436393952:50001231000000:2800:9CC0411770886C7FBED29107AB7E7ED9B9191A790B38CBB421DA5CD1D28B7B2C.jpg" width="271.01410000000004" class="notEnlarge"></span></p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p><span><img originheight="160" originwidth="415" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163113.38990570586503165837346341244645:50001231000000:2800:ACDAB0E1635035CFDD437276F0541828D59382F2E2793022F25E4843FD3BB451.jpg" width="282.66666666666663" height="108.97991967871484"></span></p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p><span><img height="81.30003355543835" originheight="158" originwidth="547" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163113.04571203907484736303724330658344:50001231000000:2800:D81E19218F4FB22CD23F578AF74236630F84F7F01B9DAD26D962465E41009A60.jpg" title="点击放大" width="282.66666666666663"></span></p> </td> </tr>  </tbody></table></div> </div> <div class="screenLinkPre"><div _ngcontent-rld-c106="" class="highlight-div"><div _ngcontent-rld-c106="" class="highlight-div-header"><div _ngcontent-rld-c106="" class="highlight-div-header-left"><div _ngcontent-rld-c106="" class="handle-button expand-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rld-c106="" class="highlight-div-header-right"><div _ngcontent-rld-c106="" class="handle-button ai-button"></div><div _ngcontent-rld-c106="" class="handle-button line-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rld-c106="" class="handle-button theme-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rld-c106="" class="handle-button copy-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rld-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/AdaptiveCapabilities/entry/src/main/ets/pages/gridRow/gridRow/GridRowSample5.ets#L19-L45" data-highlighted="yes"><ol class="linenums"><li>@<span class="hljs-title function_">Entry</span></li><li>@<span class="hljs-title function_">Component</span></li><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">GridRowSample5</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-variable">elements</span>: <span class="hljs-title class_">ColorArr</span>[] = [</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">1</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux1</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">2</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux2</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">3</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux3</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">4</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux4</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">5</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux5</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">6</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux6</span>') }</li><li>  ];</li><li>
</li><li>  <span class="hljs-title function_">build</span>() {</li><li>    <span class="hljs-title function_">GridRow</span>() {</li><li>      <span class="hljs-title function_">ForEach</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">elements</span>, (<span class="hljs-variable">item</span>: <span class="hljs-title class_">ColorArr</span>) =&gt; {</li><li>        <span class="hljs-title function_">GridCol</span>({ <span class="hljs-variable">span</span>: { <span class="hljs-variable">sm</span>: <span class="hljs-number">6</span>, <span class="hljs-variable">md</span>: <span class="hljs-title class_">item</span>.<span class="hljs-title class_">index</span> % <span class="hljs-number">3</span> === <span class="hljs-number">0</span> ? <span class="hljs-number">0</span> : <span class="hljs-number">4</span>, <span class="hljs-variable">lg</span>: <span class="hljs-number">3</span> } }) {</li><li>          <span class="hljs-title function_">Row</span>() {</li><li>            <span class="hljs-title function_">Text</span>(`${<span class="hljs-variable">item</span>.<span class="hljs-variable">index</span>}`).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">24</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-variable">FlexAlign</span>.<span class="hljs-variable">Center</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-variable">item</span>.<span class="hljs-variable">color</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>)</li><li>        }</li><li>      }, (<span class="hljs-variable">item</span>: <span class="hljs-title class_">ColorArr</span>, <span class="hljs-variable">index</span>: <span class="hljs-title class_">number</span>) =&gt; <span class="hljs-variable">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable">item</span>) + <span class="hljs-variable">index</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/AdaptiveCapabilities/entry/src/main/ets/pages/gridRow/gridRow/GridRowSample5.ets#L19-L45" target="_blank">GridRowSample5.ets</a></div></div></div></div> <p><strong>示例6：</strong></p> <p>通过offset参数，配置GridCol相对其前一个兄弟间隔的列数。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.34.10.1.4.1.1" valign="top" width="33.33333333333333%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.4.1.2" valign="top" width="33.33333333333333%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.4.1.3" valign="top" width="33.33333333333333%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p><span><img height="159.60000000000002" originheight="158" originwidth="270" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163113.57492294810085183278879838406315:50001231000000:2800:262771F90A476D73E9B2C202160AF4ECCA423C9640C668813C0496F1DEBDDA2A.jpg" width="272.7298" class="notEnlarge"></span></p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p><span><img height="108.23919841725699" originheight="157" originwidth="410" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163113.64356558502512468370380111089827:50001231000000:2800:903B2959095D45B8943321A08BC631713EBDC564B602ABB9AF4DFFB9B940D71C.jpg" title="点击放大" width="282.66666666666663"></span></p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p><span><img height="81.30003355543835" originheight="158" originwidth="546" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163113.13029122292936577210525755480670:50001231000000:2800:D9144698D5EE969AE374513C882ACD943D2607B591539B43F45C76C11AA051C2.jpg" title="点击放大" width="282.66666666666663"></span></p> </td> </tr>  </tbody></table></div> </div> <div class="screenLinkPre"><div _ngcontent-rld-c106="" class="highlight-div"><div _ngcontent-rld-c106="" class="highlight-div-header"><div _ngcontent-rld-c106="" class="highlight-div-header-left"><div _ngcontent-rld-c106="" class="handle-button expand-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rld-c106="" class="highlight-div-header-right"><div _ngcontent-rld-c106="" class="handle-button ai-button"></div><div _ngcontent-rld-c106="" class="handle-button line-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rld-c106="" class="handle-button theme-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rld-c106="" class="handle-button copy-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rld-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/AdaptiveCapabilities/entry/src/main/ets/pages/gridRow/gridRow/GridRowSample6.ets#L19-L49" data-highlighted="yes"><ol class="linenums"><li>@<span class="hljs-title function_">Entry</span></li><li>@<span class="hljs-title function_">Component</span></li><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">GridRowSample6</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-variable">elements</span>: <span class="hljs-title class_">ColorArr</span>[] = [</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">1</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux1</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">2</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux2</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">3</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux3</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">4</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux4</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">5</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux5</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">6</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux6</span>') }</li><li>  ];</li><li>
</li><li>  <span class="hljs-title function_">build</span>() {</li><li>    <span class="hljs-title function_">GridRow</span>() {</li><li>      <span class="hljs-title function_">ForEach</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">elements</span>, (<span class="hljs-variable">item</span>: <span class="hljs-title class_">ColorArr</span>) =&gt; {</li><li>        <span class="hljs-title function_">GridCol</span>({</li><li>          <span class="hljs-variable">span</span>: { <span class="hljs-variable">sm</span>: <span class="hljs-number">6</span>, <span class="hljs-variable">md</span>: <span class="hljs-number">4</span>, <span class="hljs-variable">lg</span>: <span class="hljs-number">3</span> },</li><li>          <span class="hljs-variable">offset</span>: { <span class="hljs-variable">sm</span>: <span class="hljs-number">0</span>, <span class="hljs-variable">md</span>: <span class="hljs-number">2</span>, <span class="hljs-variable">lg</span>: <span class="hljs-number">1</span> }</li><li>        }) {</li><li>          <span class="hljs-title function_">Row</span>() {</li><li>            <span class="hljs-title function_">Text</span>(`${<span class="hljs-variable">item</span>.<span class="hljs-variable">index</span>}`)</li><li>              .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">24</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-variable">FlexAlign</span>.<span class="hljs-variable">Center</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-variable">item</span>.<span class="hljs-variable">color</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>)</li><li>        }</li><li>      }, (<span class="hljs-variable">item</span>: <span class="hljs-title class_">ColorArr</span>, <span class="hljs-variable">index</span>: <span class="hljs-title class_">number</span>) =&gt; <span class="hljs-variable">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable">item</span>) + <span class="hljs-variable">index</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/AdaptiveCapabilities/entry/src/main/ets/pages/gridRow/gridRow/GridRowSample6.ets#L19-L49" target="_blank">GridRowSample6.ets</a></div></div></div></div> <p><strong>示例7：</strong></p> <p>通过order属性，控制GridCol的顺序。在sm和md断点下，按照1至6的顺序排列显示；在lg断点下，按照6至1的顺序排列显示。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.34.14.1.4.1.1" valign="top" width="33.33333333333333%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.34.14.1.4.1.2" valign="top" width="33.33333333333333%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.34.14.1.4.1.3" valign="top" width="33.33333333333333%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p><span><img height="159.60000000000002" originheight="158" originwidth="276" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163113.01718311218628858413255737272029:50001231000000:2800:BF4AF57F25CB3440057382F87597204E7C63E47D113796713D93B8700B5D53EB.jpg" width="278.7946" class="notEnlarge"></span></p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p><span><img height="107.61762746280023" originheight="158" originwidth="415" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163113.73348984274664712275282922629660:50001231000000:2800:8F65791B750A256AA23CA33750E31438EFD60B0052A28A86BB2766F15BADA7E7.jpg" title="点击放大" width="282.66666666666663"></span></p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p><span><img height="82.37808432096367" originheight="160" originwidth="546" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163113.55658003247823753087796902446506:50001231000000:2800:AF38D5BCCCE6CEF8A1FAE8F45059DE29BB3E8D9923E54378902A78FAA054DEED.jpg" title="点击放大" width="282.66666666666663"></span></p> </td> </tr>  </tbody></table></div> </div> <div class="screenLinkPre"><div _ngcontent-rld-c106="" class="highlight-div"><div _ngcontent-rld-c106="" class="highlight-div-header"><div _ngcontent-rld-c106="" class="highlight-div-header-left"><div _ngcontent-rld-c106="" class="handle-button expand-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rld-c106="" class="highlight-div-header-right"><div _ngcontent-rld-c106="" class="handle-button ai-button"></div><div _ngcontent-rld-c106="" class="handle-button line-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rld-c106="" class="handle-button theme-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rld-c106="" class="handle-button copy-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rld-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/AdaptiveCapabilities/entry/src/main/ets/pages/gridRow/gridRow/GridRowSample7.ets#L19-L49" data-highlighted="yes"><ol class="linenums"><li>@<span class="hljs-title function_">Entry</span></li><li>@<span class="hljs-title function_">Component</span></li><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">GridRowSample7</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-variable">elements</span>: <span class="hljs-title class_">ColorArr</span>[] = [</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">1</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux1</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">2</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux2</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">3</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux3</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">4</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux4</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">5</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux5</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">6</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux6</span>') }</li><li>  ];</li><li>
</li><li>  <span class="hljs-title function_">build</span>() {</li><li>    <span class="hljs-title function_">GridRow</span>() {</li><li>      <span class="hljs-title function_">ForEach</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">elements</span>, (<span class="hljs-variable">item</span>: <span class="hljs-title class_">ColorArr</span>) =&gt; {</li><li>        <span class="hljs-title function_">GridCol</span>({</li><li>          <span class="hljs-variable">span</span>: { <span class="hljs-variable">sm</span>: <span class="hljs-number">6</span>, <span class="hljs-variable">md</span>: <span class="hljs-number">4</span>, <span class="hljs-variable">lg</span>: <span class="hljs-number">3</span> },</li><li>          <span class="hljs-variable">order</span>: { <span class="hljs-variable">lg</span>: (<span class="hljs-number">6</span> <span class="hljs-variable">- item</span>.<span class="hljs-title class_">index</span>) }</li><li>        }) {</li><li>          <span class="hljs-title function_">Row</span>() {</li><li>            <span class="hljs-title function_">Text</span>(`${<span class="hljs-variable">item</span>.<span class="hljs-variable">index</span>}`)</li><li>              .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">24</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-variable">FlexAlign</span>.<span class="hljs-variable">Center</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-variable">item</span>.<span class="hljs-variable">color</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>)</li><li>        }</li><li>      }, (<span class="hljs-variable">item</span>: <span class="hljs-title class_">ColorArr</span>, <span class="hljs-variable">index</span>: <span class="hljs-title class_">number</span>) =&gt; <span class="hljs-variable">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable">item</span>) + <span class="hljs-variable">index</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/AdaptiveCapabilities/entry/src/main/ets/pages/gridRow/gridRow/GridRowSample7.ets#L19-L49" target="_blank">GridRowSample7.ets</a></div></div></div></div> <p><strong>示例8：</strong></p> <p>仅配置sm和lg断点下span、offset和order参数的值，则md断点下这三个参数的取值与sm断点相同（按照“sm-&gt;md-&gt;lg”的向后方向继承）。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.34.18.1.4.1.1" valign="top" width="33.33333333333333%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.34.18.1.4.1.2" valign="top" width="33.33333333333333%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.34.18.1.4.1.3" valign="top" width="33.33333333333333%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p><span><img height="159.60000000000002" originheight="158" originwidth="254" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163113.58356160212171011290384427511191:50001231000000:2800:48FB94F65BB565C18394951C889E3232035F42FC968352C15C00DD8A69A3DF9A.jpg" width="256.57030000000003" class="notEnlarge"></span></p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p><span><img height="108.4017768687482" originheight="158" originwidth="412" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163113.50720874518013323746914845285056:50001231000000:2800:0FE909FD4101C8876E3D92A7B4E481A6EBD5F979FA2F7EC19B92170E93A0F02C.jpg" title="点击放大" width="282.66666666666663"></span></p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p><span><img height="76.45494297434972" originheight="152" originwidth="560" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163113.71250548532102147756096801511168:50001231000000:2800:842577DBE5A46C247D7DA79859227F1667B92E28B3D08ED42AE8EEC11253A418.jpg" title="点击放大" width="282.66666666666663"></span></p> </td> </tr>  </tbody></table></div> </div> <div class="screenLinkPre"><div _ngcontent-rld-c106="" class="highlight-div"><div _ngcontent-rld-c106="" class="highlight-div-header"><div _ngcontent-rld-c106="" class="highlight-div-header-left"><div _ngcontent-rld-c106="" class="handle-button expand-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rld-c106="" class="highlight-div-header-right"><div _ngcontent-rld-c106="" class="handle-button ai-button"></div><div _ngcontent-rld-c106="" class="handle-button line-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rld-c106="" class="handle-button theme-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rld-c106="" class="handle-button copy-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rld-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/AdaptiveCapabilities/entry/src/main/ets/pages/gridRow/gridRow/GridRowSample8.ets#L19-L51" data-highlighted="yes"><ol class="linenums"><li>@<span class="hljs-title function_">Entry</span></li><li>@<span class="hljs-title function_">Component</span></li><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">GridRowSample8</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-variable">elements</span>: <span class="hljs-title class_">ColorArr</span>[] = [</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">1</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux1</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">2</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux2</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">3</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux3</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">4</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux4</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">5</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux5</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">6</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux6</span>') }</li><li>  ];</li><li>
</li><li>  <span class="hljs-title function_">build</span>() {</li><li>    <span class="hljs-title function_">GridRow</span>() {</li><li>      <span class="hljs-title function_">ForEach</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">elements</span>, (<span class="hljs-variable">item</span>: <span class="hljs-title class_">ColorArr</span>) =&gt; {</li><li>        <span class="hljs-comment">// If the values of the three parameters are not configured at the md breakpoint, they will inherit the values from the sm breakpoint.</span></li><li>        <span class="hljs-title function_">GridCol</span>({</li><li>          <span class="hljs-variable">span</span>: { <span class="hljs-variable">sm</span>: <span class="hljs-number">4</span>, <span class="hljs-variable">lg</span>: <span class="hljs-number">3</span> },</li><li>          <span class="hljs-variable">offset</span>: { <span class="hljs-variable">sm</span>: <span class="hljs-number">2</span>, <span class="hljs-variable">lg</span>: <span class="hljs-number">1</span> },</li><li>          <span class="hljs-variable">order</span>: { <span class="hljs-variable">sm</span>: (<span class="hljs-number">6</span> <span class="hljs-variable">- item</span>.<span class="hljs-title class_">index</span>), <span class="hljs-variable">lg</span>: <span class="hljs-title class_">item</span>.<span class="hljs-title class_">index</span> }</li><li>        }) {</li><li>          <span class="hljs-title function_">Row</span>() {</li><li>            <span class="hljs-title function_">Text</span>(`${<span class="hljs-variable">item</span>.<span class="hljs-variable">index</span>}`)</li><li>              .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">24</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-variable">FlexAlign</span>.<span class="hljs-variable">Center</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-variable">item</span>.<span class="hljs-variable">color</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>)</li><li>        }</li><li>      }, (<span class="hljs-variable">item</span>: <span class="hljs-title class_">ColorArr</span>, <span class="hljs-variable">index</span>: <span class="hljs-title class_">number</span>) =&gt; <span class="hljs-variable">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable">item</span>) + <span class="hljs-variable">index</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/AdaptiveCapabilities/entry/src/main/ets/pages/gridRow/gridRow/GridRowSample8.ets#L19-L51" target="_blank">GridRowSample8.ets</a></div></div></div></div> </div> <div class="tiledSection"><h3 id="section9699952125913">栅格组件的嵌套使用<i class="anchor-icon anchor-icon-link" anchorid="section9699952125913" tips="复制节点链接"></i></h3><p>栅格组件可以嵌套使用以满足复杂场景的需要。</p> <p><strong>示例9：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.35.4.1.4.1.1" valign="top" width="33.33333333333333%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.35.4.1.4.1.2" valign="top" width="33.33333333333333%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.35.4.1.4.1.3" valign="top" width="33.33333333333333%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p><span><img height="151.83527305282004" originheight="159" originwidth="296" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163114.95166972902446745050231837793516:50001231000000:2800:CF385DB8797B53D21819B7B19AF74FDA1F7891DCE8AC93DC4AAB0F018C44E556.jpg" width="282.66666666666663" class="notEnlarge"></span></p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p><span><img height="101.6847532825709" originheight="159" originwidth="442" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163114.66333941819247672875749379103327:50001231000000:2800:B1856DD1D2C1EF52C48E92A1D4F4623330764405CD7CC2A7C12BB792F64AE924.jpg" title="点击放大" width="282.66666666666663"></span></p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p><span><img height="78.60768000741581" originheight="156" originwidth="560" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163114.22798653688541869585548456716772:50001231000000:2800:817E6E6864B73BAF0DAA09E14275677A7A461CD9E8FED4B9A145CFB1158186B8.jpg" title="点击放大" width="282.66666666666663"></span></p> </td> </tr>  </tbody></table></div> </div> <div class="screenLinkPre"><div _ngcontent-rld-c106="" class="highlight-div"><div _ngcontent-rld-c106="" class="highlight-div-header"><div _ngcontent-rld-c106="" class="highlight-div-header-left"><div _ngcontent-rld-c106="" class="handle-button expand-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rld-c106="" class="highlight-div-header-right"><div _ngcontent-rld-c106="" class="handle-button ai-button"></div><div _ngcontent-rld-c106="" class="handle-button line-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rld-c106="" class="handle-button theme-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rld-c106="" class="handle-button copy-button"><div _ngcontent-rld-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rld-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/AdaptiveCapabilities/entry/src/main/ets/pages/gridRow/gridRow/GridRowSample9.ets#L19-L55" data-highlighted="yes"><ol class="linenums"><li>@<span class="hljs-title function_">Entry</span></li><li>@<span class="hljs-title function_">Component</span></li><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">GridRowSample9</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-variable">elements</span>: <span class="hljs-title class_">ColorArr</span>[] = [</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">1</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux1</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">2</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux2</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">3</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux3</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">4</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux4</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">5</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux5</span>') },</li><li>    { <span class="hljs-variable">index</span>: <span class="hljs-number">6</span>, <span class="hljs-variable">color</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">ohos_id_color_palette_aux6</span>') }</li><li>  ];</li><li>
</li><li>  <span class="hljs-title function_">build</span>() {</li><li>    <span class="hljs-title function_">GridRow</span>() {</li><li>      <span class="hljs-title function_">GridCol</span>({</li><li>        <span class="hljs-variable">span</span>: { <span class="hljs-variable">sm</span>: <span class="hljs-number">12</span>, <span class="hljs-variable">md</span>: <span class="hljs-number">10</span>, <span class="hljs-variable">lg</span>: <span class="hljs-number">8</span> },</li><li>        <span class="hljs-variable">offset</span>: { <span class="hljs-variable">sm</span>: <span class="hljs-number">0</span>, <span class="hljs-variable">md</span>: <span class="hljs-number">1</span>, <span class="hljs-variable">lg</span>: <span class="hljs-number">2</span> }</li><li>      }) {</li><li>        <span class="hljs-title function_">GridRow</span>() {</li><li>          <span class="hljs-title function_">ForEach</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">elements</span>, (<span class="hljs-variable">item</span> : <span class="hljs-title class_">ColorArr</span>) =&gt; {</li><li>            <span class="hljs-title function_">GridCol</span>({ <span class="hljs-variable">span</span>: { <span class="hljs-variable">sm</span>: <span class="hljs-number">6</span>, <span class="hljs-variable">md</span>: <span class="hljs-number">4</span>, <span class="hljs-variable">lg</span>: <span class="hljs-number">3</span> } }) {</li><li>              <span class="hljs-title function_">Row</span>() {</li><li>                <span class="hljs-title function_">Text</span>(`${<span class="hljs-variable">item</span>.<span class="hljs-variable">index</span>}`)</li><li>                  .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">24</span>)</li><li>              }</li><li>              .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-variable">FlexAlign</span>.<span class="hljs-variable">Center</span>)</li><li>              .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-variable">item</span>.<span class="hljs-variable">color</span>)</li><li>              .<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>)</li><li>            }</li><li>          }, (<span class="hljs-variable">item</span>: <span class="hljs-title class_">ColorArr</span>, <span class="hljs-variable">index</span>: <span class="hljs-title class_">number</span>) =&gt; <span class="hljs-variable">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable">item</span>) + <span class="hljs-variable">index</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#19000000'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>      }</li><li>    }</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/AdaptiveCapabilities/entry/src/main/ets/pages/gridRow/gridRow/GridRowSample9.ets#L19-L55" target="_blank">GridRowSample9.ets</a></div></div></div></div> </div> <div class="tiledSection"><h2 id="section1914110349546">响应式组件<i class="anchor-icon anchor-icon-link" anchorid="section1914110349546" tips="复制节点链接"></i></h2><p>HarmonyOS提供的一些组件支持响应式布局，例如： Tabs、Swiper、Grid、List、GridRow，通过断点设置可以实现不同的展示效果。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>响应式组件的实现原理与开发步骤，可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-component-layout">组件布局场景</a>。</p> </div></div></div> </div> <div class="tiledSection"><h2 id="section459462333113">响应式布局样式<i class="anchor-icon anchor-icon-link" anchorid="section459462333113" tips="复制节点链接"></i></h2><p>当基本的自适应布局无法满足多终端上屏幕的体验要求时，我们需要针对不同终端的屏幕特点进行响应式的布局。常见的响应式布局样式有：分栏布局、重复布局、挪移布局和缩进布局。</p> </div> <div class="tiledSection"><h3 id="section5617155173513" class="firsth2">分栏布局<i class="anchor-icon anchor-icon-link" anchorid="section5617155173513" tips="复制节点链接"></i></h3><p>利用屏幕的宽度优势，将有上下级层级的界面同时左右显示。</p> <p>当同时满足水平vp大于等于 600，可以响应分栏布局。</p> <p><span><img height="214.4625" originheight="1832" originwidth="4464" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163114.70517329109457967274556398222378:50001231000000:2800:C6196E6EFEC8084F759ECC065997E9174DEDBC8EC20112FD0626CE3FEE9BED4D.png" title="点击放大" width="523.6875"></span></p> <p></p> </div> <div class="tiledSection"><h3 id="section1653271133613">重复布局<i class="anchor-icon anchor-icon-link" anchorid="section1653271133613" tips="复制节点链接"></i></h3><p>利用屏幕的宽度优势，将相同属性的组件横向并列排布。</p> <p>重复布局适用于对宽高比敏感的图片和组合内容，当内容放大以后导致原图放大超过150%的场景。</p> <p><span><img height="217.455" originheight="1832" originwidth="4402" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163114.90008474497907749326474008221638:50001231000000:2800:C00924345237D3D45227B59B78E6BD07AA0BA822E7D5A825ADCA0A03AA351F34.png" title="点击放大" width="523.6875"></span></p> <p></p> </div> <div class="tiledSection"><h3 id="section1153210192360">挪移布局<i class="anchor-icon anchor-icon-link" anchorid="section1153210192360" tips="复制节点链接"></i></h3><p>利用屏幕的宽度优势，将原先的上下布局切换成左右布局。</p> <p>挪移布局适用于横竖屏切换，以及类似的宽高比明显变化 (大于 200%) ，同时希望保证内容完整的场景。</p> <p>例如上下布局的插画和文字，横屏后左右布局。</p> <p><span><img height="378.0525" originheight="2475" originwidth="3426" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163114.04386849159458574989376195687478:50001231000000:2800:B162515A8D1AABE4DC858113212BA017FDA45FEE1D181DF9C7ED9C16E29406B4.png" title="点击放大" width="523.6875"></span></p> <p></p> </div> <div class="tiledSection"><h3 id="section12757142518366">缩进布局<i class="anchor-icon anchor-icon-link" anchorid="section12757142518366" tips="复制节点链接"></i></h3><p>为了在宽屏上内容显示有更好的效果，在不同宽度的设备上进行不同缩进效果。</p> <p>缩进布局适用于纯段落文本/上图下段落文本/卡片的布局结构的场景，在其对应的栅格规格下，缩进的规则占用栅格数量进行布局。</p> <p><span><img height="217.455" originheight="4396" originwidth="10560" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163114.37927422205397710683650020131011:50001231000000:2800:650C2C8738DA726D57035C173FF2157D8FA6258F22B7C3BE7D8E42E2B5C5EA1F.png" title="点击放大" width="523.6875"></span></p> <p>当栅格为8column或12column时可以使用6column和8column的缩进布局。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>关于响应式布局样式的UX设计，可参考<a href="https://developer.huawei.com/consumer/cn/doc/design-guides/design-responsive-layout-method-0000001795698449" target="_blank">响应式布局方法</a>。</p> <p>关于响应式布局样式的开发实现，可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout">页面布局场景</a>。</p> </div></div></div> </div> <div class="tiledSection"><h2 id="section1376810373319">常见问题<i class="anchor-icon anchor-icon-link" anchorid="section1376810373319" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section1094182111362" class="firsth2">常见的触发断点变化的场景有哪些？<i class="anchor-icon anchor-icon-link" anchorid="section1094182111362" tips="复制节点链接"></i></h3><p><strong>问题现象</strong></p> <p>什么场景会触发断点变化？</p> <p><strong>解决方案</strong></p> <p>常见的触发断点变化的场景包括以下几点：</p> <ul><li>设备旋转</li><li>折叠屏开合</li><li>窗口模式改变</li><li>自由窗口模式调节窗口大小</li></ul> </div> <div class="tiledSection"><h3 id="section677963818362">显示缩放对断点的影响<i class="anchor-icon anchor-icon-link" anchorid="section677963818362" tips="复制节点链接"></i></h3><p><strong>问题现象</strong></p> <p>系统修改显示缩放会影响页面布局</p> <p><strong>可能原因</strong></p> <p>vp具体计算公式为：vp= px/（DPI/160）</p> <p>在用户变更缩放比例后dpi会随之变化，从而导致vp会发生变化，需要考虑vp变化后对断点区间的影响。</p> <p>以Mate60手机为例，设置显示缩放后，dpi变化以及vp变化如下表所示：</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.44.8.1.4.1.1" valign="top" width="12.811281128112812%"><p>显示缩放模式</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.4.1.2" valign="top" width="25.762576257625764%"><p>dpi</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.4.1.3" valign="top" width="61.42614261426142%"><p>vp（宽度）</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="12.811281128112812%"><p>小</p> </td> <td class="cellrowborder" valign="top" width="25.762576257625764%"><p>2.7625</p> </td> <td class="cellrowborder" valign="top" width="61.42614261426142%"><p>440</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="12.811281128112812%"><p>默认</p> </td> <td class="cellrowborder" valign="top" width="25.762576257625764%"><p>3.25</p> </td> <td class="cellrowborder" valign="top" width="61.42614261426142%"><p>374</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="12.811281128112812%"><p>大</p> </td> <td class="cellrowborder" valign="top" width="25.762576257625764%"><p>3.8</p> </td> <td class="cellrowborder" valign="top" width="61.42614261426142%"><p>319</p> </td> </tr>  </tbody></table></div> </div> <p>因此，可能会出现显示缩放改变导致断点前后不一致的情况。</p> <p><strong>解决方案</strong></p> <p>若开发者需要应用随dpi改变刷新布局，可使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uiobserver#ondensityupdate12" target="_blank">on('densityUpdate')</a>监听屏幕像素密度变化，并在监听回调中重新获取断点并刷新UI。</p> <p>若开发者不希望应用受显示缩放影响布局，可以使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-windowstage#setdefaultdensityenabled12" target="_blank">setDefaultDensityEnabled()</a>设置应用是否使用系统默认Density，true表示使用系统默认Density，窗口不跟随系统显示大小变化重新布局；false表示不使用系统默认Density，窗口跟随系统显示大小变化重新布局。</p> </div> <div class="tiledSection"><h3 id="section134655542365">像素转换<i class="anchor-icon anchor-icon-link" anchorid="section134655542365" tips="复制节点链接"></i></h3><p><strong>问题现象</strong></p> <p>应用开发中，像素之间的转换是非常常见的场景，需要常见像素的转换方案。</p> <p><strong>解决方案</strong></p> <p>应用开发中，像素之间的转换是非常常见的场景，常见的像素单位如下：</p> <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#px10" target="_blank">屏幕像素单位</a>：px，屏幕上的实际像素：1px代表手机屏幕上的一个像素点。</p> <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#vp10" target="_blank">虚拟像素单位</a>：vp，屏幕密度相关像素，根据屏幕像素密度转换为屏幕物理像素，当数值不带单位时，默认单位vp。vp与px的比例与屏幕像素密度有关。</p> <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#fp10" target="_blank">字体像素单位</a>：fp，字体像素大小默认情况下与vp相同，即默认情况下1fp = 1vp。如果用户在设置中选择了更大的字体，字体的实际显示大小就会在vp的基础上乘以scale系数，即 1fp = 1vp * scale。</p> <p>常见像素单位之间的转化请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-pixel-units" target="_blank">像素单位转换</a>。</p> </div> <div class="tiledSection"><h3 id="section151711571185">如何区分手机/折叠屏/平板/电脑/智慧屏/智能穿戴<i class="anchor-icon anchor-icon-link" anchorid="section151711571185" tips="复制节点链接"></i></h3><p><strong>解决方案</strong></p> <ul><li>手机/折叠屏/平板/电脑设备，可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section186821126131515" target="_blank">断点区间图</a>进行区分。</li></ul> <ul><li>智慧屏设备，可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-matetv-guide#section6168122172416" target="_blank">如何判断当前设备是智慧屏</a>进行区分。</li></ul> <ul><li>智能穿戴设备，可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-smartwatch#section1748314426272" target="_blank">一多应用中如何区分智能穿戴设备</a>进行区分。</li></ul> </div> </div> <div></div></div>