<h1 _ngcontent-ret-c119="" class="doc-title ng-star-inserted" title="场景功耗测试"> 场景功耗测试 </h1>

<div _ngcontent-ret-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>场景功耗测试用于评估应用在静态场景（如界面静置，不进行任何操作）和动态场景（如视频播放、页面滑动浏览）下的功耗水平。该测试旨在衡量应用在实际使用中的耗电情况，为开发者提供持续优化应用功耗的依据，从而提升用户的续航体验。此外，通过在相似场景下进行对比测试，有助于开发出更具竞争力的产品。本节将详细介绍两种常用的功耗及热影响检测工具。</p> <div class="tiledSection"><h2 id="section1701321935">HiSmartPerf功耗检测<i class="anchor-icon anchor-icon-link" anchorid="section1701321935" tips="复制节点链接"></i></h2></div> <p><a href="https://developer.huawei.com/consumer/cn/agconnect/huawei-smartperf/" target="_blank">HiSmartPerf工具</a>能够快速采集应用帧率、整机功耗及温度等关键信息，并在测试结束后生成测试报告。该工具主要适用于开发人员和测试人员所开展的场景功耗测试。具体操作步骤如下图所示。</p> <p><span><img originheight="494" originwidth="1492" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163439.39726510091787070178680805039167:50001231000000:2800:EAC0EDF5B50D03B04DDBDAEAA6AA132CC66E7C2E0DAF47E067A4BA8AFA17A7EF.png" width="920" height="304.6112600536193"></span></p> <p>手动设置预置条件：</p> <ol><li>点击“设置”→“显示和亮度”，将“自动调节”设为“关闭”，将“休眠”设为“10分钟后”。</li><li>如果需要进行多次测试，网络环境需保持一致（确保都使用Wi-Fi或者数据业务）。</li></ol> <p>测试完毕后，在HiSmartPerf的测试报告页面查看温度上升及电流数据（参考下表典型值）。</p> <p>下表是基于华为Mate 60Pro典型场景的整机电流参考值（屏幕亮度固定为最大亮度的50%，连接Wi-Fi），若偏差超过100mA，建议重点关注。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><tbody><tr><td class="cellrowborder" valign="top" width="56.68%"><p>场景</p> </td> <td class="cellrowborder" valign="top" width="43.32%"><p>电流参考值</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="56.68%"><p>亮屏音乐播放</p> </td> <td class="cellrowborder" valign="top" width="43.32%"><p>270mA~300mA。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="56.68%"><p>视频全屏播放</p> </td> <td class="cellrowborder" valign="top" width="43.32%"><p>350mA~400mA。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="56.68%"><p>新闻滑动（5s滑动一次）</p> </td> <td class="cellrowborder" valign="top" width="43.32%"><p>350mA~400mA。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="56.68%"><p>小视频播放</p> </td> <td class="cellrowborder" valign="top" width="43.32%"><p>300mA~350mA。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="56.68%"><p>使用相机场景</p> </td> <td class="cellrowborder" valign="top" width="43.32%"><p>700mA~800mA。</p> </td> </tr>  </tbody></table></div> </div> <div class="tiledSection"><h2 id="section2779154791312">Profiler功耗检测<i class="anchor-icon anchor-icon-link" anchorid="section2779154791312" tips="复制节点链接"></i></h2><p>DevEco Profiler工具是<a href="https://developer.huawei.com/consumer/cn/deveco-studio/" target="_blank">DevEco Studio</a>内置的场景化分析工具。它提供了实时监控（Realtime Monitor）和录制后分析的功能，主要适用于开发人员对应用功耗进行度量与优化的场景。</p> <p>使用Profiler工具时，通常需要通过USB连接手机。为减少USB充电对数据准确性的影响，建议启用“开发者选项”中的“关闭充电”功能（插拔USB可能会影响该设置）。具体操作路径如下：“设置”→“系统”→“开发者选项”（若系统中未显示“开发者选项”，可点击“设置”→“关于本机”→“软件版本”，直到提示“开启开发者选项”）。</p> <ol><li>实时监控界面：可以在实时监控界面实时查看应用在静态（无操作）或者操作过程中的温度、整机电流、应用耗电以及各器件的功耗数据，如下图所示。<p><span><img originheight="667" originwidth="1916" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163440.00619437381562832995042226095043:50001231000000:2800:B7417CB40100F79CFE2CE80F992058366608AB2B0EF62A1767AC190D4478A632.png" width="920" height="320.2713987473904"></span></p> <ul><li>Temperature（温度）：用于检测应用运行时的设备温度，采集周期为3s。若功耗过高，可能会导致温度上升和设备发热，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-thermal#thermallevel" target="_blank">不同热等级系统进行相应的热管控</a>，从而影响应用的整体使用体验。</li><li>Device Current（设备电流）：显示当前设备的最大电流、平均电流以及最新的电流值（若出现负数，则表明设备正在充电）。</li><li>Energy（功耗）：展示各项部件（重点关注CPU、Display、GPU）在周期内的平均功耗占比，采集周期为3s。</li></ul> </li><li>通过场景化模板先录制后分析：Profiler工具提供了Energy、 Frame等场景化模板，支持录制功耗等相关的数据，同时可集成hitrace、hiperf等信息，便于开发者进行深入分析，Energy泳道如下图所示。<p><span><img originheight="1197" originwidth="2185" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163440.34770634579365580064407064120531:50001231000000:2800:926BFB28134F8BC03B8A143274BF4BDFABE9A6A87F3DD4E14B2466ED0C61A521.png" width="920" height="504"></span></p> </li></ol> </div> </div> <div></div></div>