<h1 _ngcontent-ful-c119="" class="doc-title ng-star-inserted" title="多设备移动支付界面"> 多设备移动支付界面 </h1>

<div _ngcontent-ful-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="section3515131298">概述<i class="anchor-icon anchor-icon-link" anchorid="section3515131298" tips="复制节点链接"></i></h2><p>本文从目前流行的垂类市场中，选择移动支付应用作为典型案例详细介绍“一多”在实际开发中的应用，同时提供该垂类应用在多设备上的界面设计与实现参考。本文选择移动支付首页作为典型页面进行开发，涉及的核心功能包括支付、收款、扫码等。</p> <p>本文重点内容如下：</p> <ul><li>扫一扫功能实现。</li><li>收付款功能实现。</li></ul> <p>下面的章节将分别从<a href="/consumer/cn/doc/best-practices/multi-mobile-payment#section329281918912">UX设计</a>、<a href="/consumer/cn/doc/best-practices/multi-mobile-payment#section197441250917">架构设计</a>、<a href="/consumer/cn/doc/best-practices/multi-mobile-payment#section189941330999">页面开发</a>三个角度给出推荐的参考样例，介绍“一多”移动支付应用在开发过程中的最佳实践。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>阅读本文前，读者需熟悉<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkui-overview" target="_blank">方舟开发框架（ArkUI框架）</a>和页面开发的<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-overview">“一多”能力</a>。下文将详细介绍它们在“一多”开发实践中如何使用。</p> </div></div></div> </div> <div class="tiledSection"><h2 id="section329281918912">UX设计<i class="anchor-icon anchor-icon-link" anchorid="section329281918912" tips="复制节点链接"></i></h2><p>移动支付类的多设备响应式设计指南，<a href="https://developer.huawei.com/consumer/cn/doc/design-guides/mobile-payment-0000001957421613" target="_blank">点击访问</a>。</p> </div> <div class="tiledSection"><h2 id="section197441250917">架构设计<i class="anchor-icon anchor-icon-link" anchorid="section197441250917" tips="复制节点链接"></i></h2><p>HarmonyOS应用的分层架构主要包括三个层次：产品定制层、基础特性层和公共能力层，为开发者构建了一个清晰、高效、可扩展的设计架构。更多详细信息，请参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-layered-architecture-design" target="_blank">分层架构设计</a>的逻辑设计。</p> </div> <div class="tiledSection"><h2 id="section189941330999">页面开发<i class="anchor-icon anchor-icon-link" anchorid="section189941330999" tips="复制节点链接"></i></h2><p>本章介绍移动支付应用中如何使用“一多”的布局能力，完成页面层级的一套代码、多端适配。下文将从不同页面展开，介绍每个页面区域使用到具体的布局能力，帮助开发者从零到一进行移动支付应用的开发。</p> </div> <div class="tiledSection"><h3 id="section9219763204" class="firsth2">首页<i class="anchor-icon anchor-icon-link" anchorid="section9219763204" tips="复制节点链接"></i></h3><p>移动应用首页主要涉及扫一扫、支付、收付款等能力。观察首页在多设备上的UX设计图，可以进行如下设计：</p> <ul><li>将首页划分为6个部分，效果图如下： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.3.1.1.1.5.1.1" valign="top" width="6.840613700772014%"><p>示意图</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.3.1.1.1.5.1.2" valign="top" width="19.7596012899443%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.3.1.1.1.5.1.3" valign="top" width="28.241962278901596%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.3.1.1.1.5.1.4" valign="top" width="45.1578227303821%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="6.840613700772014%"><p>效果图</p> </td> <td class="cellrowborder" valign="top" width="19.7596012899443%"><p><span><img height="329.4028663148636" originheight="1612" originwidth="772" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163232.78541433062249900893808856283230:50001231000000:2800:E65DF44469174AF96E740F1419636749675E4CD07D36E97E25B0AF79FB2EFB2F.png" title="点击放大" width="157.78833186748753"></span></p> </td> <td class="cellrowborder" valign="top" width="28.241962278901596%"><p><span><img height="263.6731793869508" originheight="1578" originwidth="1410" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163233.93404306795137820281161888079166:50001231000000:2800:9C078BAB313F498118B8A485F4D662B78C66E2ED14C4F0FAB9FE49A70B612FA9.png" title="点击放大" width="235.8260529658947"></span></p> </td> <td class="cellrowborder" valign="top" width="45.1578227303821%"><p><span><img height="253.51081940128344" originheight="1740" originwidth="2684" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163233.47149844923311902960211445113401:50001231000000:2800:797442EB6E49E76191B014426C73FDAB4C8B59C08BFD2F75BFE78C896D1463F8.png" title="点击放大" width="391.45196911951535"></span></p> </td> </tr>  </tbody></table></div> </div>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.3.1.2.1.4.1.1" valign="top" width="5.390539053905391%"><p>区域编号</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.3.1.2.1.4.1.2" valign="top" width="9.160916091609161%"><p>简介</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.3.1.2.1.4.1.3" valign="top" width="85.44854485448545%"><p>实现方案</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="5.390539053905391%"><p>1</p> </td> <td class="cellrowborder" valign="top" width="9.160916091609161%"><p>底部/侧边页签</p> </td> <td class="cellrowborder" valign="top" width="85.44854485448545%"><p>借助<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1061332817545">栅格布局</a>监听断点变化改变位置。同<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/multi-video-app#zh-cn_topic_0000001744653537_li1346175796">多设备长视频界面 顶部页签及搜索框</a>。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="5.390539053905391%"><p>2</p> </td> <td class="cellrowborder" valign="top" width="9.160916091609161%"><p>城市及搜索框</p> </td> <td class="cellrowborder" valign="top" width="85.44854485448545%"><p>使用<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-adaptive-layout#拉伸能力">拉伸能力</a>结合断点控制元素尺寸，同时采用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-blank" target="_blank">Blank组件</a>填充中间空白区域。同<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/multi-video-app#zh-cn_topic_0000001744653537_li311217374149">多设备长视频界面 搜索发现</a>。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="5.390539053905391%"><p>3</p> </td> <td class="cellrowborder" valign="top" width="9.160916091609161%"><p>金刚区</p> </td> <td class="cellrowborder" valign="top" width="85.44854485448545%"><p>使用<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1061332817545">栅格布局</a>结合断点变化改变快捷功能的形态。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="5.390539053905391%"><p>4</p> </td> <td class="cellrowborder" valign="top" width="9.160916091609161%"><p>功能入口合集</p> </td> <td class="cellrowborder" valign="top" width="85.44854485448545%"><p>采用<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1653271133613">重复布局</a>，在更大尺寸设备上显示更多的功能入口。同<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/multi-community-app#zh-cn_topic_0000001758831130_li118141522111817">多设备社区评论界面 列表重复布局</a>。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="5.390539053905391%"><p>5</p> </td> <td class="cellrowborder" valign="top" width="9.160916091609161%"><p>服务卡片</p> </td> <td class="cellrowborder" valign="top" width="85.44854485448545%"><p>采用<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1653271133613">重复布局</a>，手机上的单列信息，在折叠屏和PC/2in1上重复布局。同<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/multi-community-app#zh-cn_topic_0000001758831130_li118141522111817">多设备社区评论界面 列表重复布局</a>。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="5.390539053905391%"><p>6</p> </td> <td class="cellrowborder" valign="top" width="9.160916091609161%"><p>财富精选</p> </td> <td class="cellrowborder" valign="top" width="85.44854485448545%"><p>采用<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1061332817545">栅格布局</a>，在更大尺寸设备上显示更多列数。</p> </td> </tr>  </tbody></table></div> </div> </li></ul> <ul><li>金刚区<div class="p">使用栅格布局配合断点控制对应的快捷功能的显示形态，在sm断点下按钮显示为圆形图标且上图标下文字的形式，在md、lg断点下显示为圆角矩形且左图标右文字形式。 <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.4.1.1.1.1.5.1.1" valign="top" width="6.848644946678408%"><p>示意图</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.1.1.1.5.1.2" valign="top" width="20.281772820663342%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.1.1.1.5.1.3" valign="top" width="27.75657959103806%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.1.1.1.5.1.4" valign="top" width="45.11300264162019%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="6.848644946678408%"><p>效果图</p> </td> <td class="cellrowborder" valign="top" width="20.281772820663342%"><p><span><img originheight="89" originwidth="320" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163233.92425018803851432425657538814618:50001231000000:2800:6D2ACC117188A0597E1FFD2DA231CE60FE4940A7DF69D6DAE056B02B6A54C83A.png" width="162.59230995010276" height="45.22098620487233"></span></p> </td> <td class="cellrowborder" valign="top" width="27.75657959103806%"><p><span><img originheight="59" originwidth="480" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163233.24102175850756982081697882782062:50001231000000:2800:EE389F6244C9E818362C6BC5916FED0745323AD45EBCBA941739A43666D2ED47.png" width="231.3605322375502" height="28.438065420865545"></span></p> </td> <td class="cellrowborder" valign="top" width="45.11300264162019%"><p><span><img originheight="79" originwidth="800" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163233.79054642132130833659041900218241:50001231000000:2800:E89726519561F438F56E89BC4E386D92E1033EA050B301A741FB889134138E1A.png" width="391.0396243029058" height="38.615162899911944"></span></p> </td> </tr>  </tbody></table></div> </div> <div class="screenLinkPre"><div _ngcontent-ful-c106="" class="highlight-div"><div _ngcontent-ful-c106="" class="highlight-div-header"><div _ngcontent-ful-c106="" class="highlight-div-header-left"><div _ngcontent-ful-c106="" class="handle-button expand-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ful-c106="" class="highlight-div-header-right"><div _ngcontent-ful-c106="" class="handle-button ai-button"></div><div _ngcontent-ful-c106="" class="handle-button line-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ful-c106="" class="handle-button theme-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ful-c106="" class="handle-button copy-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ful-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/multi-mobile-payment/blob/master/entry/src/main/ets/pages/Home.ets#L211-L236" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title function_">GridRow</span>({</li><li>  <span class="hljs-variable">gutter</span>: {</li><li>    <span class="hljs-variable">x</span>: {</li><li>      <span class="hljs-variable">sm</span>: <span class="hljs-string">'30vp'</span>,</li><li>      <span class="hljs-variable">md</span>: <span class="hljs-string">'41vp'</span>,</li><li>      <span class="hljs-variable">lg</span>: <span class="hljs-string">'58vp'</span></li><li>    }</li><li>  }</li><li>}) {</li><li>  <span class="hljs-title function_">ForEach</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">quickFunctions</span>, (<span class="hljs-variable">item</span>: <span class="hljs-title class_">QuickFunctionItem</span>) =&gt; {</li><li>    <span class="hljs-title function_">GridCol</span>({ <span class="hljs-variable">span</span>: <span class="hljs-number">3</span> }) {</li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.<span class="hljs-variable">curBp</span> === <span class="hljs-string">'sm'</span>) {</li><li>        <span class="hljs-title function_">QuickFunctionCardCircle</span>({ <span class="hljs-variable">quickFunctionItem</span>: <span class="hljs-title class_">item</span> })</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-title function_">QuickFunctionCardSquare</span>({ <span class="hljs-variable">quickFunctionItem</span>: <span class="hljs-title class_">item</span> })</li><li>      }</li><li>    }</li><li>    <span class="hljs-comment">// ...</span></li><li>  }, (<span class="hljs-variable">item</span>: <span class="hljs-title class_">QuickFunctionItem</span>, <span class="hljs-variable">index</span>: <span class="hljs-title class_">number</span>) =&gt; <span class="hljs-variable">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable">item</span>.<span class="hljs-title function_">getText</span>()) + <span class="hljs-variable">index</span>)</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/multi-mobile-payment/blob/master/entry/src/main/ets/pages/Home.ets#L211-L236" target="_blank">Home.ets</a></div></div></div></div> </div> </li></ul> <ul><li>功能入口合集<div class="p">使用重复布局，配合栅格布局控制不同设备上设备的显示列数。在sm断点下设置GridRow的columns属性为4，在md断点下设置GridRow的columns属性为6，在lg断点下设置GridRow的columns属性为8。同时通过GridRow的onBreakpointChange()回调控制渲染数据源的条数，在sm、md、lg断点下分别渲染8、12、16条数据。 <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.5.1.1.1.1.5.1.1" valign="top" width="6.844626967830254%"><p>示意图</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.1.1.1.5.1.2" valign="top" width="20.211205632150193%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.1.1.1.5.1.3" valign="top" width="27.798963527916303%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.1.1.1.5.1.4" valign="top" width="45.14520387210326%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top"><p>设计能力点</p> </td> <td class="cellrowborder" colspan="3" valign="top"><p><span><img originheight="273" originwidth="324" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163233.98324451750083296931541492446166:50001231000000:2800:4ED018857F7E6224C633BADD997F9ABA9BB8DE182E7E66D902DE9EBF21B5F21A.png" width="324" height="273"></span></p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.844626967830254%"><p>效果图</p> </td> <td class="cellrowborder" valign="top" width="20.211205632150193%"><p><span><img originheight="103" originwidth="320" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163233.09002136131935957018213385707955:50001231000000:2800:47425E7C736C618D250B3C14D379192C640CBE3C6FC9F262F0CE660FDEA10606.png" width="161.94309181578177" height="52.12543267820476"></span></p> </td> <td class="cellrowborder" valign="top" width="27.798963527916303%"><p><span><img originheight="89" originwidth="480" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163233.80310131115296864850667809119711:50001231000000:2800:76101E3B32D2C9E7D91828790804434BFA1E2FB65B9BEF22AF57207AA4FDC549.png" width="231.75046445682997" height="42.97039861803722"></span></p> </td> <td class="cellrowborder" valign="top" width="45.14520387210326%"><p><span><img originheight="96" originwidth="800" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163233.20447851439044527247087784165043:50001231000000:2800:38FEAEDA91BD913B42077D8BA91946DA099665F379A946F461617D68C6C6E76B.png" width="391.33587562335" height="46.960305074802"></span></p> </td> </tr>  </tbody></table></div> </div> <div class="screenLinkPre"><div _ngcontent-ful-c106="" class="highlight-div"><div _ngcontent-ful-c106="" class="highlight-div-header"><div _ngcontent-ful-c106="" class="highlight-div-header-left"><div _ngcontent-ful-c106="" class="handle-button expand-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ful-c106="" class="highlight-div-header-right"><div _ngcontent-ful-c106="" class="handle-button ai-button"></div><div _ngcontent-ful-c106="" class="handle-button line-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ful-c106="" class="handle-button theme-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ful-c106="" class="handle-button copy-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ful-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/multi-mobile-payment/blob/master/entry/src/main/ets/pages/Home.ets#L265-L301" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title function_">GridRow</span>({</li><li>  <span class="hljs-variable">columns</span>: {</li><li>    <span class="hljs-variable">sm</span>: <span class="hljs-number">4</span>,</li><li>    <span class="hljs-variable">md</span>: <span class="hljs-number">6</span>,</li><li>    <span class="hljs-variable">lg</span>: <span class="hljs-number">8</span></li><li>  },</li><li>  <span class="hljs-variable">gutter</span>: {</li><li>    <span class="hljs-variable">x</span>: {</li><li>      <span class="hljs-variable">sm</span>: <span class="hljs-string">'45vp'</span>,</li><li>      <span class="hljs-variable">md</span>: <span class="hljs-string">'50vp'</span>,</li><li>      <span class="hljs-variable">lg</span>: <span class="hljs-string">'55vp'</span></li><li>    },</li><li>    <span class="hljs-variable">y</span>: {</li><li>      <span class="hljs-variable">sm</span>: <span class="hljs-string">'16vp'</span>,</li><li>      <span class="hljs-variable">md</span>: <span class="hljs-string">'24vp'</span>,</li><li>      <span class="hljs-variable">lg</span>: <span class="hljs-string">'28vp'</span></li><li>    }</li><li>  }</li><li>}) {</li><li>  <span class="hljs-title function_">ForEach</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">functions</span>, (<span class="hljs-variable">item</span>: <span class="hljs-title class_">QuickFunctionItem</span>) =&gt; {</li><li>    <span class="hljs-title function_">GridCol</span>() {</li><li>      <span class="hljs-title function_">FunctionCard</span>({ <span class="hljs-variable">data</span>: <span class="hljs-title class_">item</span> })</li><li>    }</li><li>  }, (<span class="hljs-variable">item</span>: <span class="hljs-title class_">QuickFunctionItem</span>, <span class="hljs-variable">index</span>: <span class="hljs-title class_">number</span>) =&gt; <span class="hljs-variable">index</span> + <span class="hljs-variable">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable">item</span>))</li><li>}</li><li><span class="hljs-comment">// ...</span></li><li>.<span class="hljs-title function_">onBreakpointChange</span>((<span class="hljs-variable">breakpoints</span>: <span class="hljs-title class_">string</span>) =&gt; {</li><li>  <span class="hljs-keyword">this</span>.<span class="hljs-variable">functions</span> = <span class="hljs-variable">new</span> <span class="hljs-title function_">PayHubViewModel</span>().<span class="hljs-title function_">getFunctionsByBreakpoints</span>(<span class="hljs-variable">breakpoints</span>);</li><li>  <span class="hljs-comment">// close dialog.</span></li><li>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.<span class="hljs-variable">isDialogOpen</span>) {</li><li>    <span class="hljs-keyword">this</span>.<span class="hljs-variable">isDialogOpen</span> = <span class="hljs-keyword">false</span>;</li><li>  }</li><li>})</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/multi-mobile-payment/blob/master/entry/src/main/ets/pages/Home.ets#L265-L301" target="_blank">Home.ets</a></div></div></div></div> </div> </li></ul> <ul><li>服务卡片<div class="p">使用重复布局配合栅格布局控制不同设备尺寸下的显示列数。在sm断点下设置GridCol的span属性为12，在md断点下设置GridCol的span属性为6，在lg断点下设置GridCol的span属性为3。同时配合GridRow的onBreakpointChange()回调控制渲染的数据条数，使得在sm、md、lg断点下分别渲染1、2、4条数据。 <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.6.1.1.1.1.5.1.1" valign="top" width="6.847974955977304%"><p>示意图</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.1.1.1.5.1.2" valign="top" width="20.201526120133046%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.1.1.1.5.1.3" valign="top" width="27.890823713558994%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.1.1.1.5.1.4" valign="top" width="45.05967521033066%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top"><p>设计能力点</p> </td> <td class="cellrowborder" colspan="3" valign="top"><p><span><img originheight="273" originwidth="324" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163233.42688983999479287229715024015982:50001231000000:2800:637DB2493086A02AD3A7BF46AAC4B948176835ED27BDECC21501D89C81700217.png" width="324" height="273"></span></p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.847974955977304%"><p>效果图</p> </td> <td class="cellrowborder" valign="top" width="20.201526120133046%"><p><span><img originheight="137" originwidth="320" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163233.10712185017514639508592345734767:50001231000000:2800:8B9CDF5B2E6552071C37097AAB9971AE3BF075EA7E206F22BA0430239FFAB382.png" width="161.854040305224" height="69.29376100567401"></span></p> </td> <td class="cellrowborder" valign="top" width="27.890823713558994%"><p><span><img originheight="94" originwidth="480" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163233.27514395954136308449023596277438:50001231000000:2800:9D67B4AF6A3AB4B86F30C01FFBF7694AA7609D29467BF08FC342ECD2A5EE956F.png" width="232.5955781647428" height="45.54996739059546"></span></p> </td> <td class="cellrowborder" valign="top" width="45.05967521033066%"><p><span><img originheight="96" originwidth="800" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163233.17829324888812139223712729566412:50001231000000:2800:3ABF96D617DFCD618514C6FA68A01081A846AB34946C2A45D793E0287CF97C7F.png" width="390.5490119350421" height="46.86588143220504"></span></p> </td> </tr>  </tbody></table></div> </div> <div class="screenLinkPre"><div _ngcontent-ful-c106="" class="highlight-div"><div _ngcontent-ful-c106="" class="highlight-div-header"><div _ngcontent-ful-c106="" class="highlight-div-header-left"><div _ngcontent-ful-c106="" class="handle-button expand-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ful-c106="" class="highlight-div-header-right"><div _ngcontent-ful-c106="" class="handle-button ai-button"></div><div _ngcontent-ful-c106="" class="handle-button line-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ful-c106="" class="handle-button theme-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ful-c106="" class="handle-button copy-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ful-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/multi-mobile-payment/blob/master/entry/src/main/ets/pages/Home.ets#L327-L355" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title function_">GridRow</span>({</li><li>  <span class="hljs-variable">gutter</span>: { <span class="hljs-variable">x</span>: { <span class="hljs-variable">sm</span>: <span class="hljs-string">'15vp'</span> } }</li><li>}) {</li><li>  <span class="hljs-title function_">ForEach</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">sampleImages</span>, (<span class="hljs-variable">item</span>: <span class="hljs-title class_">Resource</span>) =&gt; {</li><li>    <span class="hljs-title function_">GridCol</span>({</li><li>      <span class="hljs-variable">span</span>: {</li><li>        <span class="hljs-variable">sm</span>: <span class="hljs-number">12</span>,</li><li>        <span class="hljs-variable">md</span>: <span class="hljs-number">6</span>,</li><li>        <span class="hljs-variable">lg</span>: <span class="hljs-number">3</span></li><li>      }</li><li>    }) {</li><li>      <span class="hljs-title function_">Image</span>(<span class="hljs-variable">item</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>  }, (<span class="hljs-variable">item</span>: <span class="hljs-title class_">Resource</span>, <span class="hljs-variable">index</span>: <span class="hljs-title class_">number</span>) =&gt; <span class="hljs-variable">index</span> + <span class="hljs-variable">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable">item</span>))</li><li>}</li><li><span class="hljs-comment">// ...</span></li><li>.<span class="hljs-title function_">onBreakpointChange</span>((<span class="hljs-variable">breakpoints</span>: <span class="hljs-title class_">string</span>) =&gt; {</li><li>  <span class="hljs-keyword">this</span>.<span class="hljs-variable">sampleImages</span> = <span class="hljs-variable">new</span> <span class="hljs-title function_">ServiceCardViewModel</span>().<span class="hljs-title function_">getImagesByBreakpoints</span>(<span class="hljs-variable">breakpoints</span>);</li><li>})</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/multi-mobile-payment/blob/master/entry/src/main/ets/pages/Home.ets#L327-L355" target="_blank">Home.ets</a></div></div></div></div> </div> </li></ul> <ul><li>财富精选<p>使用栅格布局控制不同设备尺寸下显示列数，在sm断点下设置GridCol的span属性为12，在md断点下设置GridCol的span属性为6，在lg断点下设置GridCol的span属性为3。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.7.1.2.1.5.1.1" valign="top" width="6.848644946678408%"><p>示意图</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.2.1.5.1.2" valign="top" width="20.2035025927013%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.2.1.5.1.3" valign="top" width="27.67830936307602%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.2.1.5.1.4" valign="top" width="45.26954309754427%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="6.848644946678408%"><p>效果图</p> </td> <td class="cellrowborder" valign="top" width="20.2035025927013%"><p><span><img originheight="181" originwidth="320" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163233.05326993359756106825761393120904:50001231000000:2800:E058C9647A9B0FC308638C040E5A640A55DE3DBE82C435E29C60F6F9FFBE6C9E.png" width="161.87222385285196" height="91.55897661676939"></span></p> </td> <td class="cellrowborder" valign="top" width="27.67830936307602%"><p><span><img originheight="130" originwidth="480" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163234.98408644666708471966434360750338:50001231000000:2800:3E674D123EEE5921A16A51081ADC9136D74268C45C7E90F3C67ED2E508B052F2.png" width="230.6404461402994" height="62.465120829664414"></span></p> </td> <td class="cellrowborder" valign="top" width="45.26954309754427%"><p><span><img originheight="111" originwidth="800" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163234.14276801209619746051259937941136:50001231000000:2800:889E5FF17518C1BD6C3287AD1DFF53AD949577A359FF5904D66E38127CDFAED1.png" width="392.4797964974073" height="54.456571764015266"></span></p> </td> </tr>  </tbody></table></div> </div> <div class="screenLinkPre"><div _ngcontent-ful-c106="" class="highlight-div"><div _ngcontent-ful-c106="" class="highlight-div-header"><div _ngcontent-ful-c106="" class="highlight-div-header-left"><div _ngcontent-ful-c106="" class="handle-button expand-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ful-c106="" class="highlight-div-header-right"><div _ngcontent-ful-c106="" class="handle-button ai-button"></div><div _ngcontent-ful-c106="" class="handle-button line-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ful-c106="" class="handle-button theme-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ful-c106="" class="handle-button copy-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ful-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/multi-mobile-payment/blob/master/entry/src/main/ets/pages/Home.ets#L369-L385" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title function_">GridRow</span>({</li><li>  <span class="hljs-variable">gutter</span>: { <span class="hljs-variable">x</span>: { <span class="hljs-variable">sm</span>: <span class="hljs-string">'15vp'</span> }, <span class="hljs-variable">y</span>: { <span class="hljs-variable">sm</span>: <span class="hljs-string">'15vp'</span> } }</li><li>}) {</li><li>  <span class="hljs-title function_">ForEach</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">fortunePicks</span>, (<span class="hljs-variable">item</span>: <span class="hljs-title class_">Resource</span>) =&gt; {</li><li>    <span class="hljs-title function_">GridCol</span>({</li><li>      <span class="hljs-variable">span</span>: {</li><li>        <span class="hljs-variable">sm</span>: <span class="hljs-number">12</span>,</li><li>        <span class="hljs-variable">md</span>: <span class="hljs-number">6</span>,</li><li>        <span class="hljs-variable">lg</span>: <span class="hljs-number">3</span></li><li>      }</li><li>    }) {</li><li>      <span class="hljs-title function_">Image</span>(<span class="hljs-variable">item</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>  }, (<span class="hljs-variable">item</span>: <span class="hljs-title class_">Resource</span>, <span class="hljs-variable">index</span>: <span class="hljs-title class_">number</span>) =&gt; <span class="hljs-variable">index</span> + <span class="hljs-variable">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable">item</span>))</li><li>
</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/multi-mobile-payment/blob/master/entry/src/main/ets/pages/Home.ets#L369-L385" target="_blank">Home.ets</a></div></div></div></div> </li></ul> <ul><li id="li9776152192816">收付款功能<p>收付款功能在手机设备上以单独的界面进行呈现，而在折叠屏及更大尺寸设备上以弹窗的方式进行呈现。UX设计图如下：</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.8.1.2.1.5.1.1" valign="top" width="6.852667645619187%"><p>示意图</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.2.1.5.1.2" valign="top" width="20.22515907978463%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.2.1.5.1.3" valign="top" width="27.156142927068032%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.2.1.5.1.4" valign="top" width="45.766030347528144%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="6.852667645619187%"><p>效果图</p> </td> <td class="cellrowborder" valign="top" width="20.22515907978463%"><p><span><img height="338.3444390602055" originheight="1612" originwidth="772" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163234.55896031206391685957410048591250:50001231000000:2800:0B171817FF65732859D2D6688E284E0732D395AC29ADBAF1807861C7EF194A52.png" title="点击放大" width="162.0714635340186"></span></p> </td> <td class="cellrowborder" valign="top" width="27.156142927068032%"><p><span><img height="252.50404340022837" originheight="1578" originwidth="1410" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163234.96865384012965692262677722140875:50001231000000:2800:587276C47C1C503D7894F19E8667FCB6F05B5534C8695150DBE1AC63E0A82B07.png" title="点击放大" width="225.8365149290259"></span></p> </td> <td class="cellrowborder" valign="top" width="45.766030347528144%"><p><span><img height="257.1345649861315" originheight="1740" originwidth="2684" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163234.70243173888463315746734568964042:50001231000000:2800:054CF6B2956389B3B9D8C17333CB64B3620539CEFACC134D3E19B4370E8A6D0D.png" title="点击放大" width="397.04747919725895"></span></p> </td> </tr>  </tbody></table></div> </div> <p>收付款功能在实现上，需要根据当前设备的断点尺寸，来决定是使用路由跳转到收付款页，还是以弹窗的方式弹出收付款对话框，代码参考如下：</p> <div class="screenLinkPre"><div _ngcontent-ful-c106="" class="highlight-div"><div _ngcontent-ful-c106="" class="highlight-div-header"><div _ngcontent-ful-c106="" class="highlight-div-header-left"><div _ngcontent-ful-c106="" class="handle-button expand-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ful-c106="" class="highlight-div-header-right"><div _ngcontent-ful-c106="" class="handle-button ai-button"></div><div _ngcontent-ful-c106="" class="handle-button line-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ful-c106="" class="handle-button theme-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ful-c106="" class="handle-button copy-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ful-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-kotlin" codehub="https://gitee.com/harmonyos_samples/multi-mobile-payment/blob/master/entry/src/main/ets/pages/Home.ets#L57-L63" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">private</span> receivePayment = () =&gt; {</li><li>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.curBp === <span class="hljs-string">'sm'</span>) {</li><li>    <span class="hljs-keyword">this</span>.pathInfos.pushPath({ name: <span class="hljs-string">'ReceivePaymentPage'</span> });</li><li>  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isDialogOpen) {</li><li>    <span class="hljs-keyword">this</span>.isDialogOpen = <span class="hljs-literal">true</span>;</li><li>  }</li><li>};</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/multi-mobile-payment/blob/master/entry/src/main/ets/pages/Home.ets#L57-L63" target="_blank">Home.ets</a></div></div></div></div> <p>自定义收款码生成需要使用到Scan Kit中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scan-barcodegenerate" target="_blank">码图生成能力</a>，关键为使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/scan-generatebarcode#section1841142919352" target="_blank">createBarcode()</a>接口依照收款所需的关键信息生成对应的二维码。参考代码如下：</p> <div class="screenLinkPre"><div _ngcontent-ful-c106="" class="highlight-div"><div _ngcontent-ful-c106="" class="highlight-div-header"><div _ngcontent-ful-c106="" class="highlight-div-header-left"><div _ngcontent-ful-c106="" class="handle-button expand-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ful-c106="" class="highlight-div-header-right"><div _ngcontent-ful-c106="" class="handle-button ai-button"></div><div _ngcontent-ful-c106="" class="handle-button line-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ful-c106="" class="handle-button theme-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ful-c106="" class="handle-button copy-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ful-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/multi-mobile-payment/blob/master/entry/src/main/ets/pages/Home.ets#L438-L450" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-variable">content</span>: <span class="hljs-title class_">string</span> = <span class="hljs-keyword">this</span>.<span class="hljs-title function_">getQRCode</span>();</li><li><span class="hljs-keyword">const</span> <span class="hljs-variable">options</span>: <span class="hljs-title class_">generateBarcode</span>.<span class="hljs-title class_">CreateOptions</span> = {</li><li>  <span class="hljs-variable">scanType</span>: <span class="hljs-title class_">scanCore</span>.<span class="hljs-title class_">ScanType</span>.<span class="hljs-title class_">QR_CODE</span>,</li><li>  <span class="hljs-variable">height</span>: <span class="hljs-title class_">Constants</span>.<span class="hljs-title class_">QRCODE_SIZE</span>,</li><li>  <span class="hljs-variable">width</span>: <span class="hljs-title class_">Constants</span>.<span class="hljs-title class_">QRCODE_SIZE</span></li><li>};</li><li><span class="hljs-variable">generateBarcode</span>.<span class="hljs-title function_">createBarcode</span>(<span class="hljs-variable">content</span>, <span class="hljs-variable">options</span>, (<span class="hljs-variable">error</span>: <span class="hljs-title class_">BusinessError</span>, <span class="hljs-variable">pixelMap</span>: <span class="hljs-title class_">image</span>.<span class="hljs-title class_">PixelMap</span>) =&gt; {</li><li>  <span class="hljs-keyword">if</span> (<span class="hljs-variable">error</span>) {</li><li>    <span class="hljs-variable">Logger</span>.<span class="hljs-title function_">error</span>(`<span class="hljs-variable">Callback</span> <span class="hljs-variable">error</span>: ${<span class="hljs-variable">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable">error</span>)}`);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">this</span>.<span class="hljs-variable">pixelMap</span> = <span class="hljs-variable">pixelMap</span>;</li><li>});</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/multi-mobile-payment/blob/master/entry/src/main/ets/pages/Home.ets#L438-L450" target="_blank">Home.ets</a></div></div></div></div> <p>收付款界面开发时常见的问题如下：</p> <p>第一个问题是二维码定时动态刷新。解决方案为在组件展示或弹窗开启时，启动一个定时器并在回调中传入一个更新二维码的函数，定时地向服务端发起请求获取最新的二维码并对本地二维码进行更新，在组件销毁或弹窗关闭时需要销毁定时器。组件情况下解决二维码定时动态刷新可参考如下代码：</p> <div class="screenLinkPre"><div _ngcontent-ful-c106="" class="highlight-div"><div _ngcontent-ful-c106="" class="highlight-div-header"><div _ngcontent-ful-c106="" class="highlight-div-header-left"><div _ngcontent-ful-c106="" class="handle-button expand-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ful-c106="" class="highlight-div-header-right"><div _ngcontent-ful-c106="" class="handle-button ai-button"></div><div _ngcontent-ful-c106="" class="handle-button line-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ful-c106="" class="handle-button theme-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ful-c106="" class="handle-button copy-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ful-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" codehub="https://gitee.com/harmonyos_samples/multi-mobile-payment/blob/master/entry/src/main/ets/pages/ReceivePaymentPage.ets#L31-L65" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">private</span> <span class="hljs-attr">timer</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li><span class="hljs-keyword">private</span> getQRCode = <span class="hljs-function">() =&gt;</span> (<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()).<span class="hljs-title function_">valueOf</span>().<span class="hljs-title function_">toString</span>();</li><li>
</li><li><span class="hljs-keyword">private</span> <span class="hljs-title function_">getAndUpdateQRCode</span>(): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>
</li><li><span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getAndUpdateQRCode</span>();</li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span> = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getAndUpdateQRCode</span>();</li><li>  }, <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>);</li><li>}</li><li>
</li><li><span class="hljs-title function_">aboutToDisappear</span>(): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span> = <span class="hljs-literal">null</span>;</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/multi-mobile-payment/blob/master/entry/src/main/ets/pages/ReceivePaymentPage.ets#L31-L65" target="_blank">ReceivePaymentPage.ets</a></div></div></div></div> <p>弹窗情况下解决二维码定时动态刷新可参考如下代码：</p> <div class="screenLinkPre"><div _ngcontent-ful-c106="" class="highlight-div"><div _ngcontent-ful-c106="" class="highlight-div-header"><div _ngcontent-ful-c106="" class="highlight-div-header-left"><div _ngcontent-ful-c106="" class="handle-button expand-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ful-c106="" class="highlight-div-header-right"><div _ngcontent-ful-c106="" class="handle-button ai-button"></div><div _ngcontent-ful-c106="" class="handle-button line-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ful-c106="" class="handle-button theme-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ful-c106="" class="handle-button copy-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ful-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" codehub="https://gitee.com/harmonyos_samples/multi-mobile-payment/blob/master/entry/src/main/ets/pages/Home.ets#L425-L458" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">private</span> <span class="hljs-attr">timer</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li><span class="hljs-keyword">private</span> getQRCode = <span class="hljs-function">() =&gt;</span> (<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()).<span class="hljs-title function_">valueOf</span>().<span class="hljs-title function_">toString</span>();</li><li>
</li><li><span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getAndUpdateQRCode</span>();</li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span> = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getAndUpdateQRCode</span>();</li><li>  }, <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>);</li><li>}</li><li>
</li><li><span class="hljs-keyword">private</span> <span class="hljs-title function_">getAndUpdateQRCode</span>(): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>
</li><li><span class="hljs-title function_">aboutToDisappear</span>(): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelMap</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span> = <span class="hljs-literal">null</span>;</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/multi-mobile-payment/blob/master/entry/src/main/ets/pages/Home.ets#L425-L458" target="_blank">Home.ets</a></div></div></div></div> <p>第二个问题是折叠屏在折叠态与展开态变化时，页面切换流畅。如果应用处在收付款界面，折叠屏从折叠态到展开态，如果不做特殊操作，应用将仍然处在收付款的界面，只是整体尺寸被拉大，同样的，在从展开态到折叠态如果已有弹窗，也会导致整个界面错乱。解决方案为在断点变化时，监听当前路由状态并且控制弹出框的显示与关闭。</p> <div class="screenLinkPre"><div _ngcontent-ful-c106="" class="highlight-div"><div _ngcontent-ful-c106="" class="highlight-div-header"><div _ngcontent-ful-c106="" class="highlight-div-header-left"><div _ngcontent-ful-c106="" class="handle-button expand-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ful-c106="" class="highlight-div-header-right"><div _ngcontent-ful-c106="" class="handle-button ai-button"></div><div _ngcontent-ful-c106="" class="handle-button line-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ful-c106="" class="handle-button theme-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ful-c106="" class="handle-button copy-button"><div _ngcontent-ful-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ful-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-kotlin" codehub="https://gitee.com/harmonyos_samples/multi-mobile-payment/blob/master/entry/src/main/ets/pages/Home.ets#L38-L140" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@StorageProp(<span class="hljs-string">'currentBreakpoint'</span>)</span> <span class="hljs-meta">@Watch(<span class="hljs-string">'onBreakpointChange'</span>)</span> curBp: string = <span class="hljs-string">'sm'</span>;</li><li><span class="hljs-meta">@State</span> <span class="hljs-meta">@Watch(<span class="hljs-string">'onDialogStatusChange'</span>)</span> isDialogOpen: boolean = <span class="hljs-literal">false</span>;</li><li><span class="hljs-comment">// ...</span></li><li>onDialogStatusChange() {</li><li>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isDialogOpen) {</li><li>    <span class="hljs-keyword">this</span>.dialogController.<span class="hljs-keyword">open</span>();</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-keyword">this</span>.dialogController.close();</li><li>  }</li><li>}</li><li>
</li><li>onScanDialogStatusChange() {</li><li>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isScanDialogOpen) {</li><li>    <span class="hljs-keyword">this</span>.scanDialogController.<span class="hljs-keyword">open</span>();</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-keyword">this</span>.scanDialogController.close();</li><li>  }</li><li>}</li><li>
</li><li>onBreakpointChange() {</li><li>  <span class="hljs-keyword">const</span> allPath = <span class="hljs-keyword">this</span>.pathInfos.getAllPathName();</li><li>  <span class="hljs-keyword">const</span> currentName: string = allPath[<span class="hljs-keyword">this</span>.pathInfos.size() - <span class="hljs-number">1</span>];</li><li>
</li><li>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.curBp !== <span class="hljs-string">'sm'</span> &amp;&amp; currentName === <span class="hljs-string">'ReceivePaymentPage'</span>) {</li><li>    <span class="hljs-keyword">this</span>.pathInfos.clear();</li><li>    setTimeout(() =&gt; {</li><li>      <span class="hljs-keyword">this</span>.isDialogOpen = <span class="hljs-literal">true</span>;</li><li>    }, <span class="hljs-number">1000</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isDialogOpen &amp;&amp; <span class="hljs-keyword">this</span>.curBp === <span class="hljs-string">'sm'</span>) {</li><li>    <span class="hljs-keyword">this</span>.isDialogOpen = <span class="hljs-literal">false</span>;</li><li>    <span class="hljs-keyword">this</span>.pathInfos.pushPath({ name: <span class="hljs-string">'ReceivePaymentPage'</span> });</li><li>  }</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/multi-mobile-payment/blob/master/entry/src/main/ets/pages/Home.ets#L38-L140" target="_blank">Home.ets</a></div></div></div></div> <p>第三个问题是应用窗口尺寸动态变化的时候防止二维码变形。解决方案为可以设置二维码的大小为固定百分比或者使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-layout-constraints#aspectratio" target="_blank">aspectRatio</a>固定宽高比保证图片不变形。</p> <p>点击<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/scan-generatebarcode#section1841142919352" target="_blank">createBarcode()</a>获取更多该接口使用指导。</p> </li><li>扫一扫 <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.8.2.1.1.5.1.1" valign="top" width="6.75%"><p>示意图</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.2.1.1.5.1.2" valign="top" width="20.26%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.2.1.1.5.1.3" valign="top" width="27.16%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.2.1.1.5.1.4" valign="top" width="45.83%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="6.75%"><p>效果图</p> </td> <td class="cellrowborder" valign="top" width="20.26%"><p><span><img height="339.01359899999994" originheight="1612" originwidth="772" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163234.20746098463928848589031019981540:50001231000000:2800:DE836DD28906617C0C40C1DFA19C745CA53081CBBEDBB1306AF55AB9B503D8A6.png" title="点击放大" width="162.392"></span></p> </td> <td class="cellrowborder" valign="top" width="27.16%"><p><span><img height="252.54371866666668" originheight="1578" originwidth="1410" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163234.61708091619322872010113286134788:50001231000000:2800:AD29376405D3786C9DA1589CB071B966B5A98979805E1799F79B42C821B5C16E.png" title="点击放大" width="225.872"></span></p> </td> <td class="cellrowborder" valign="top" width="45.83%"><p><span><img height="257.51570086666663" originheight="1740" originwidth="2684" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163234.76645660652615974885383321188614:50001231000000:2800:21657A61248F8B7C3134CCF26056A28BDD20FC5A692CDA459FB6728C0B480958.png" title="点击放大" width="397.63599999999997"></span></p> </td> </tr>  </tbody></table></div> </div> <p>扫一扫功能主要使用Scan Kit中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scan-customscan" target="_blank">自定义界面扫码能力</a>来自定义扫码的界面设计。具体实现可以参考：<a href="/consumer/cn/doc/best-practices/multi-mobile-payment#li9776152192816">多设备移动支付界面 收付款功能</a>。</p> </li><li>第三方支付链接 <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.8.3.1.1.5.1.1" valign="top" width="6.852667645619187%"><p>示意图</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.3.1.1.5.1.2" valign="top" width="20.22515907978463%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.3.1.1.5.1.3" valign="top" width="27.156142927068032%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.3.1.1.5.1.4" valign="top" width="45.766030347528144%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="6.852667645619187%"><p>效果图</p> </td> <td class="cellrowborder" valign="top" width="20.22515907978463%"><p><span><img height="338.3444390602055" originheight="1612" originwidth="772" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163234.61783707518501520545524602587478:50001231000000:2800:53250A6EC45C257851E588451859710E421F2342DEFB72D684D610EC1792E73C.png" title="点击放大" width="162.0714635340186"></span></p> </td> <td class="cellrowborder" valign="top" width="27.156142927068032%"><p><span><img height="252.50404340022837" originheight="1578" originwidth="1410" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163235.60185494133718669728560985611720:50001231000000:2800:B26B41F6609A1122346D45F894306B67C7FBFF8D61FE53A752F53A918FDF9C04.png" title="点击放大" width="225.8365149290259"></span></p> </td> <td class="cellrowborder" valign="top" width="45.766030347528144%"><p><span><img height="257.1345649861315" originheight="1740" originwidth="2684" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163235.63906995554206086139694362351349:50001231000000:2800:4CCCAEB78C0C445D6A4A071F6F890A46829DD30138FF876D6A0C36ED75B15C15.png" title="点击放大" width="397.04747919725895"></span></p> </td> </tr>  </tbody></table></div> </div> <p>第三方支付页面使用断点控制不同的付款展示方式，在sm断点下以单独付款界面展示，在md、lg断点下以弹窗的方式展示。具体实现可以参考<a href="/consumer/cn/doc/best-practices/multi-mobile-payment#li9776152192816">多设备移动支付界面 收付款功能</a>。</p> </li><li>卡包 <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.8.4.1.1.5.1.1" valign="top" width="6.852667645619187%"><p>示意图</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.4.1.1.5.1.2" valign="top" width="20.22515907978463%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.4.1.1.5.1.3" valign="top" width="27.156142927068032%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.4.1.1.5.1.4" valign="top" width="45.766030347528144%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="6.852667645619187%"><p>效果图</p> </td> <td class="cellrowborder" valign="top" width="20.22515907978463%"><p><span><img height="338.3444390602055" originheight="1612" originwidth="772" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163235.58799090757575695078203120247203:50001231000000:2800:ABD945A2FA6E963685B63149742A2956F948A2D559B173E1A430C209CC025506.png" title="点击放大" width="162.0714635340186"></span></p> </td> <td class="cellrowborder" valign="top" width="27.156142927068032%"><p><span><img height="252.50404340022837" originheight="1578" originwidth="1410" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163235.52386187530142323257925312985390:50001231000000:2800:CBE8726BA2783D5BDB4A3FA62D90155D90CD9D9AE63BA76151F44DE4BDCEAC47.png" title="点击放大" width="225.8365149290259"></span></p> </td> <td class="cellrowborder" valign="top" width="45.766030347528144%"><p><span><img height="257.1345649861315" originheight="1740" originwidth="2684" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163235.40126810570046250327822578401112:50001231000000:2800:FE229B84EB76E7C82A5009CC68C1C9251F19BE39AD9C35FA4697C66E64DC263E.png" title="点击放大" width="397.04747919725895"></span></p> </td> </tr>  </tbody></table></div> </div> <p>使用<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1061332817545">栅格布局</a>，控制卡片在不同设备上的span占用，在sm断点下span占用为12，在md断点下span占用为6，在lg断点下span占用为4，使其分别在sm、md、lg断点下显示1、2、3列。具体实现可以参考：<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/multi-video-app#zh-cn_topic_0000001744653537_li19261618201020">多设备长视频界面 推荐视频</a>。</p> </li><li>银行卡 <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.8.5.1.1.5.1.1" valign="top" width="6.852667645619187%"><p>示意图</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.5.1.1.5.1.2" valign="top" width="20.22515907978463%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.5.1.1.5.1.3" valign="top" width="27.156142927068032%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.5.1.1.5.1.4" valign="top" width="45.766030347528144%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="6.852667645619187%"><p>效果图</p> </td> <td class="cellrowborder" valign="top" width="20.22515907978463%"><p><span><img height="338.3444390602055" originheight="1612" originwidth="772" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163235.85423696216409238631723954411215:50001231000000:2800:BE600C5992D3C9947BDBAE23515735CF9C12AD684A821032B3F2DF6931E39240.png" title="点击放大" width="162.0714635340186"></span></p> </td> <td class="cellrowborder" valign="top" width="27.156142927068032%"><p><span><img height="252.50404340022837" originheight="1578" originwidth="1410" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163235.87513699113685108808669789507084:50001231000000:2800:5F93A7A0F9E9A20FCCF5EBA1BF6B24E3E0A18C53D5E069DF5288371A87BF42D5.png" title="点击放大" width="225.8365149290259"></span></p> </td> <td class="cellrowborder" valign="top" width="45.766030347528144%"><p><span><img height="257.1345649861315" originheight="1740" originwidth="2684" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163235.39954125548281822260472424983739:50001231000000:2800:D17DB1CB3D412FBE2080F7B9FD0B11AE43B2F70E08249E3540C3BA800A5FAB9D.png" title="点击放大" width="397.04747919725895"></span></p> </td> </tr>  </tbody></table></div> </div>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.8.5.2.1.4.1.1" valign="top" width="6.62066206620662%"><p>区域编号</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.5.2.1.4.1.2" valign="top" width="10.441044104410443%"><p>简介</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.5.2.1.4.1.3" valign="top" width="82.93829382938294%"><p>实现方案</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="6.62066206620662%"><p>1</p> </td> <td class="cellrowborder" valign="top" width="10.441044104410443%"><p>顶部栏</p> </td> <td class="cellrowborder" valign="top" width="82.93829382938294%"><p>顶部栏空白区域使用Blank组件实现拉伸能力。同<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/multi-video-app#zh-cn_topic_0000001744653537_li311217374149">多设备长视频界面 搜索发现</a>。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.62066206620662%"><p>2</p> </td> <td class="cellrowborder" valign="top" width="10.441044104410443%"><p>卡片集合</p> </td> <td class="cellrowborder" valign="top" width="82.93829382938294%"><p>使用栅格布局，在sm、md、lg设备尺寸下分别显示1、2、3列。同<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/multi-video-app#zh-cn_topic_0000001744653537_li1926174391914">多设备长视频界面 搜索页</a>。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.62066206620662%"><p>3</p> </td> <td class="cellrowborder" valign="top" width="10.441044104410443%"><p>功能入口</p> </td> <td class="cellrowborder" valign="top" width="82.93829382938294%"><p>使用栅格布局实现<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1653271133613">重复布局</a>，在sm设备上显示4列，在md设备上显示7列，在lg设备上显示9列。同<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/multi-community-app#zh-cn_topic_0000001758831130_li118141522111817">多设备社区评论界面 列表重复布局</a>。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.62066206620662%"><p>4</p> </td> <td class="cellrowborder" valign="top" width="10.441044104410443%"><p>银行卡优惠</p> </td> <td class="cellrowborder" valign="top" width="82.93829382938294%"><p>使用栅格布局实现<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1653271133613">重复布局</a>，在sm设备上显示1列，在md设备上显示2列，在lg设备上显示3列。同<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/multi-community-app#zh-cn_topic_0000001758831130_li118141522111817">多设备社区评论界面 列表重复布局</a>。</p> </td> </tr>  </tbody></table></div> </div> </li><li>添加银行卡 <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.8.6.1.1.5.1.1" valign="top" width="6.852667645619187%"><p>示意图</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.6.1.1.5.1.2" valign="top" width="20.22515907978463%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.6.1.1.5.1.3" valign="top" width="27.156142927068032%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.6.1.1.5.1.4" valign="top" width="45.766030347528144%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="6.852667645619187%"><p>效果图</p> </td> <td class="cellrowborder" valign="top" width="20.22515907978463%"><p><span><img height="338.3444390602055" originheight="1612" originwidth="772" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163236.28359049443457271370703850907355:50001231000000:2800:09B44B60B9A9829C87E6A6E4F9E2E079A28309793FB0DECA090561D5834C4EED.png" title="点击放大" width="162.0714635340186"></span></p> </td> <td class="cellrowborder" valign="top" width="27.156142927068032%"><p><span><img height="252.50404340022837" originheight="1578" originwidth="1410" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163236.73891318465706071199793377188456:50001231000000:2800:DB76F3DC53899976043B86BCD46E26FCFA9D50F2D4E4E94281218FE70003567B.png" title="点击放大" width="225.8365149290259"></span></p> </td> <td class="cellrowborder" valign="top" width="45.766030347528144%"><p><span><img height="257.7102838309675" originheight="1740" originwidth="2684" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163236.66165508152811230649785549440533:50001231000000:2800:5FE26D9CEE0715699461CCAC3075477339A54FA5F33F9B024B85EB9E88CB0920.png" title="点击放大" width="397.04747919725895"></span></p> </td> </tr>  </tbody></table></div> </div> <p>添加银行卡功能可以使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-sheet-transition" target="_blank">半模态转场</a>，默认情况下在sm设备下可以自动从底部进行弹窗，在sm断点以上不包括sm断点以居中弹窗方式显示内容。</p> </li></ul> </div> <div class="tiledSection"><h2 id="section85613785113">示例代码<i class="anchor-icon anchor-icon-link" anchorid="section85613785113" tips="复制节点链接"></i></h2><ul><li><a href="https://gitee.com/harmonyos_samples/multi-mobile-payment" target="_blank">多设备移动支付界面</a></li></ul> </div> </div> <div></div></div>