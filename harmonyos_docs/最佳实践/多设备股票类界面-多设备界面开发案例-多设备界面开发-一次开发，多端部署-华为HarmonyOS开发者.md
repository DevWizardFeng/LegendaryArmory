<h1 _ngcontent-twj-c119="" class="doc-title ng-star-inserted" title="多设备股票类界面"> 多设备股票类界面 </h1>

<div _ngcontent-twj-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="section9991841123315">概述<i class="anchor-icon anchor-icon-link" anchorid="section9991841123315" tips="复制节点链接"></i></h2><p>本文以目前流行的垂类市场中的股票类应用作为典型案例，详细介绍“一多”在实际开发中的应用，主要涵盖自选股和个股详情两个典型页面，展示其在手机、双折叠、三折叠、阔折叠、平板五种产品形态上的“一次开发，多端部署”。下文将从<a href="/consumer/cn/doc/best-practices/multi-ticket-class#section18423159193410">UX设计</a>、<a href="/consumer/cn/doc/best-practices/multi-ticket-class#section251720249266">工程管理</a>、<a href="/consumer/cn/doc/best-practices/multi-ticket-class#section824510452191">窗口适配</a>、<a href="/consumer/cn/doc/best-practices/multi-ticket-class#section1350915119215">界面开发</a>四个角度，介绍“一多”股票类应用在开发过程中的最佳实践。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>阅读本文前，开发者需熟悉<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkui-overview" target="_blank">方舟开发框架（ArkUI框架）</a>和页面开发的<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-overview" target="_blank">“一多”能力</a>。下文将详细介绍它们在“一多”开发实践中如何使用。</p> </div></div></div> </div> <div class="tiledSection"><h2 id="section18423159193410">UX设计<i class="anchor-icon anchor-icon-link" anchorid="section18423159193410" tips="复制节点链接"></i></h2><p>股票类应用的目的是让用户更加便捷地办理金融业务。常见的有银行理财、股票、基金等类型的应用和业务场景，核心场景有数据查看、股票交易等。</p> <p>股票类应用有以下特点：</p> <ul><li>丰富的信息聚合。</li><li>图表数据高效展示。</li><li>便捷高效的交互方式。</li></ul> <p>此类型的应用在多端设备的使用过程中，不仅要保障用户在办理金融业务的过程中正常使用，还要尽可能提升大屏幕的交互效率。</p> <p>以下是股票界面在手机、阔折叠、双折叠设备及平板上的UX设计图。</p> <p><strong>自选股页面</strong></p> <p>页面主要包含：页面底部/侧边页签、标题、股票指数、股票列表-工具栏、股票列表。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.2.9.1.6.1.1" valign="top" width="7.020702070207021%"><p>横向(/纵向)断点</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.2.9.1.6.1.2" valign="top" width="20.332033203320332%"><p>sm/md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.2.9.1.6.1.3" valign="top" width="14.84148414841484%"><p>sm/lg</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.2.9.1.6.1.4" valign="top" width="23.152315231523154%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.2.9.1.6.1.5" valign="top" width="34.65346534653465%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="7.020702070207021%"><p>自选股页面</p> </td> <td class="cellrowborder" valign="top" width="20.332033203320332%"><p><span><img height="201.2586237177734" originheight="2338" originwidth="1892" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163137.32311411494042980701623897012696:50001231000000:2800:CC04CAD5A04C6225FFFF699C93E29423AB9D9027EB5B934E360332FD9A3F199F.png" title="点击放大" width="163.05470547054705"></span></p> </td> <td class="cellrowborder" valign="top" width="14.84148414841484%"><p><span><img height="232.7924116411641" originheight="1026" originwidth="496" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163138.61678416808020553195391887385853:50001231000000:2800:2C9EBA0D7A4BAC223002FB8C7E272DFA0E2A5232703855079D1FE928C9D35401.png" title="点击放大" width="112.54165416541653"></span></p> </td> <td class="cellrowborder" valign="top" width="23.152315231523154%"><p><span><img height="210.8047001144559" originheight="1102" originwidth="988" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163138.27522252457506997487044936558529:50001231000000:2800:A471C5449C2D231F8ED7AC7533971F6AF230AE1EFC90470B927D5EAC5D77079D.png" title="点击放大" width="189.001300130013"></span></p> </td> <td class="cellrowborder" valign="top" width="34.65346534653465%"><p><span><img height="190.46812937293728" originheight="1035" originwidth="1602" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163138.13801374017974868178387646497678:50001231000000:2800:E800EE1480223E9D29F8B6C46C12F827D011D62F27A478F7BD6626F818ADAD5E.png" title="点击放大" width="294.8118811881188"></span></p> </td> </tr>  </tbody></table></div> </div> <p><strong>个股详情页</strong></p> <p>页面主要包含：顶部标题、行情列表数据、分时Tab、曲线图和柱状图以及股票实时交易列表、讨论Tab、底部交易操作行。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.2.12.1.6.1.1" valign="top" width="7.06%"><p>横向(/纵向)断点</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.2.12.1.6.1.2" valign="top" width="20.48%"><p>sm/md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.2.12.1.6.1.3" valign="top" width="14.7%"><p>sm/lg</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.2.12.1.6.1.4" valign="top" width="23.11%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.2.12.1.6.1.5" valign="top" width="34.65%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="7.06%"><p>个股详情页</p> </td> <td class="cellrowborder" valign="top" width="20.48%"><p><span><img height="203.0579226874151" originheight="2475" originwidth="2003" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163138.96890122186503220514642263976108:50001231000000:2800:C4673786533363A40BD51242EF532095D1F659B0D3B8EE7BDC01B73E45C6ACFF.png" title="点击放大" width="164.41600000000003"></span></p> </td> <td class="cellrowborder" valign="top" width="14.7%"><p><span><img height="230.09994000000003" originheight="1026" originwidth="496" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163138.70259028423922749473003259224306:50001231000000:2800:82A890DF33769AC99CD19B056946F54A4884DA85B9B48A931172659407AFD6B1.png" title="点击放大" width="111.24000000000001"></span></p> </td> <td class="cellrowborder" valign="top" width="23.11%"><p><span><img height="210.3704898888889" originheight="1102" originwidth="988" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163138.32080117842058686209009586191175:50001231000000:2800:8F7BE1C7A083803A1584FC574B48EE2D6C60593653155A046DBCB42B2829B5AD.png" title="点击放大" width="188.612"></span></p> </td> <td class="cellrowborder" valign="top" width="34.65%"><p><span><img height="190.44753199999997" originheight="1035" originwidth="1602" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163138.32608176867794595332738078595216:50001231000000:2800:3327437AD0DF71C1520BDF0B51A20420AA1BA6421D7F74A9C6EF72152AF3D027.png" title="点击放大" width="294.78"></span></p> </td> </tr>  </tbody></table></div> </div> <p><strong>半模态-股票交易弹窗</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.2.14.1.6.1.1" valign="top" width="6.95930406959304%"><p>横向(/纵向)断点</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.2.14.1.6.1.2" valign="top" width="20.76792320767923%"><p>sm/md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.2.14.1.6.1.3" valign="top" width="14.528547145285472%"><p>sm/lg</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.2.14.1.6.1.4" valign="top" width="22.96770322967703%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.2.14.1.6.1.5" valign="top" width="34.77652234776522%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="6.95930406959304%"><p>半模态-股票买入弹窗</p> </td> <td class="cellrowborder" valign="top" width="20.76792320767923%"><p><span><img height="206.32937323780283" originheight="2475" originwidth="2003" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163138.09432775709020859402071931052243:50001231000000:2800:B5E4F82EB49094723A1DF694C117671621C4BB1164FD0D03E0C6ECABE3FC62F3.png" title="点击放大" width="167.06489351064894"></span></p> </td> <td class="cellrowborder" valign="top" width="14.528547145285472%"><p><span><img height="226.8371578842116" originheight="1026" originwidth="496" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163139.74808131059004981898208008185915:50001231000000:2800:569729C2C3D9AB69BD4FB583B24A33BBB124FA1643F0F82A047A1147ADB186F0.png" title="点击放大" width="109.66263373662633"></span></p> </td> <td class="cellrowborder" valign="top" width="22.96770322967703%"><p><span><img height="208.9103368774234" originheight="1102" originwidth="988" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163139.64339801111965383973397906594950:50001231000000:2800:5ABE1156ED36B749BD47CB31891FCE50EA6D677C1218C48E448D72E10B9B13EF.png" title="点击放大" width="187.3028697130287"></span></p> </td> <td class="cellrowborder" valign="top" width="34.77652234776522%"><p><span><img height="191.19955721761158" originheight="1035" originwidth="1602" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163139.05779575062439544446903896306979:50001231000000:2800:8E49A479BD6BC29FDE16D8E74D492A433D2B163C5130FABB1EE9833FF08482B5.png" title="点击放大" width="295.94400559944006"></span></p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.95930406959304%"><p>半模态-确认买入股票弹窗</p> </td> <td class="cellrowborder" valign="top" width="20.76792320767923%"><p><span><img height="206.32937323780283" originheight="2475" originwidth="2003" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163139.62299864493487666501907681664874:50001231000000:2800:D5BD73B9549525974B4BF5CD12956BCEEC70D86EC0723D2ED7CEF7BF5CBBEDFB.png" title="点击放大" width="167.06489351064894"></span></p> </td> <td class="cellrowborder" valign="top" width="14.528547145285472%"><p><span><img height="226.8371578842116" originheight="1026" originwidth="496" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163139.26432313427599649656621657880602:50001231000000:2800:9F2320A17AE1B59F79C4E667CC7A15418AC29F5CB6862C7AF081F9AE59D9C296.png" title="点击放大" width="109.66263373662633"></span></p> </td> <td class="cellrowborder" valign="top" width="22.96770322967703%"><p><span><img height="208.9103368774234" originheight="1102" originwidth="988" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163139.88058079735352216836952056702936:50001231000000:2800:0DBBAB673CA13925B3B9C4D060AC87A6F6419B9B9E96D72F7AF162930A85C41C.png" title="点击放大" width="187.3028697130287"></span></p> </td> <td class="cellrowborder" valign="top" width="34.77652234776522%"><p><span><img height="191.19955721761158" originheight="1035" originwidth="1602" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163139.03072831893138478565538192330345:50001231000000:2800:BD21EC9BA99FB7930AC8EEB799E7DC5A5DD2C3FD14A055D575DC1A20DA954AD7.png" title="点击放大" width="295.94400559944006"></span></p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="section1170392414340" class="firsth2">断点设计<i class="anchor-icon anchor-icon-link" anchorid="section1170392414340" tips="复制节点链接"></i></h3><p>股票类应用通常用于手机、双折叠、三折叠、阔折叠和平板设备。以下为这些常用设备和屏幕尺寸（横向/纵向断点）的股票类应用适配策略：</p> <ol><li>阔折叠外屏（sm/md）、手机（sm/lg）<p>基础视图。</p> </li><li>双折叠展开态、阔折叠横向展开（md）<p>推荐做法：</p> <ul><li>相较于手机，双折叠在展开状态下，开发者可利用更大的屏幕空间扩展股票图表显示内容，以增强应用的沉浸感和信息显示，例如股票详情、股票K线图。</li></ul> </li><li>平板、三折叠展开态（lg）<div class="p">推荐做法：<ul><li>相较于手机，平板设备在横向模式下能够显示更多内容。默认为双栏显示，左侧栏主要用于显示股票列表，右侧栏则展示股票详情信息，例如股票K线图。当点击全屏按钮时，页面切换至单栏显示，页面主要展示股票详情信息，此时股票K线图会占据更大比例，显示内容更加丰富。</li></ul> </div> </li></ol> <p>不同设备对应的断点区间，请参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1532120147301" target="_blank">一多断点</a>。</p> </div> <div class="tiledSection"><h3 id="section12920123833411">设计指南<i class="anchor-icon anchor-icon-link" anchorid="section12920123833411" tips="复制节点链接"></i></h3><p>金融理财类的多设备响应式设计指南，请参考<a href="https://developer.huawei.com/consumer/cn/doc/design-guides/responsive-design-examples6-0000001793536905" target="_blank">金融理财类</a>。</p> </div> <div class="tiledSection"><h2 id="section251720249266">工程管理<i class="anchor-icon anchor-icon-link" anchorid="section251720249266" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section1795416572146" class="firsth2">工程结构<i class="anchor-icon anchor-icon-link" anchorid="section1795416572146" tips="复制节点链接"></i></h3><p>在创建“一多”工程时，开发者会面临工程结构目录的划分问题。考虑到复用性和可维护性，本文以股票类应用为例，提供推荐的参考方案。</p> <p>HarmonyOS的分层架构包括产品定制层、基础特性层和公共能力层，为开发者提供清晰、高效、可扩展的设计架构。详细请参见<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-layered-architecture-design" target="_blank">分层架构设计</a>。</p> <p>股票类应用根据一多推荐的commons、features、products的“三层工程架构”划分目录。其中四个页面功能不同，互不依赖，根据页面划分为两个features（基础特性层）：首页-home、股票详情页-stockdetail。公共常量、媒体播放工具以及窗口管理工具等需要被不同页面依赖引用的内容，划分为一个commons（公共能力层）：基础能力-base。products（产品定制层）定制了程序标准启动流程和多场景协同场景的入口能力。</p> <p>工程结构如下：</p> </div> <div _ngcontent-twj-c106="" class="highlight-div"><div _ngcontent-twj-c106="" class="highlight-div-header"><div _ngcontent-twj-c106="" class="highlight-div-header-left"><div _ngcontent-twj-c106="" class="handle-button expand-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twj-c106="" class="highlight-div-header-right"><div _ngcontent-twj-c106="" class="handle-button ai-button"></div><div _ngcontent-twj-c106="" class="handle-button line-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twj-c106="" class="handle-button theme-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twj-c106="" class="handle-button copy-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-less" data-highlighted="yes"><ol class="linenums"><li>├──<span class="hljs-selector-tag">commons</span>                   </li><li>│  └──<span class="hljs-selector-tag">base</span>/<span class="hljs-selector-tag">src</span>/<span class="hljs-selector-tag">main</span>/<span class="hljs-selector-tag">ets</span></li><li>│     ├──<span class="hljs-selector-tag">constants</span>                        <span class="hljs-comment">// 公共常量</span></li><li>│     └──<span class="hljs-selector-tag">utils</span>                            <span class="hljs-comment">// 公共工具</span></li><li>├──<span class="hljs-selector-tag">features</span></li><li>│  ├──<span class="hljs-selector-tag">home</span>/<span class="hljs-selector-tag">src</span>/<span class="hljs-selector-tag">main</span>                   </li><li>│  │  ├──<span class="hljs-selector-tag">ets</span></li><li>│  │  │  ├──<span class="hljs-selector-tag">models</span>                        <span class="hljs-comment">// 股票类数据</span></li><li>│  │  │  ├──<span class="hljs-selector-tag">pages</span>                         <span class="hljs-comment">// 应用首页内容</span></li><li>│  │  │  └──<span class="hljs-selector-tag">views</span>                         <span class="hljs-comment">// 首页视图组件</span></li><li>│  │  └──<span class="hljs-selector-tag">resources</span>                        <span class="hljs-comment">// 应用静态资源目录</span></li><li>│  └──<span class="hljs-selector-tag">stockdetail</span>/<span class="hljs-selector-tag">src</span>/<span class="hljs-selector-tag">main</span>               </li><li>│     ├──<span class="hljs-selector-tag">ets</span></li><li>│     │  ├──<span class="hljs-selector-tag">chartmodels</span>                   <span class="hljs-comment">// 图标组件</span></li><li>│     │  ├──<span class="hljs-selector-tag">models</span>                        <span class="hljs-comment">// 股票类数据</span></li><li>│     │  ├──<span class="hljs-selector-tag">pages</span>                         <span class="hljs-comment">// 股票详情页</span></li><li>│     │  └──<span class="hljs-selector-tag">views</span>                         <span class="hljs-comment">// 股票视图组件</span></li><li>│     └──<span class="hljs-selector-tag">resources</span>                        <span class="hljs-comment">// 应用静态资源目录</span></li><li>└──<span class="hljs-selector-tag">products</span></li><li>   ├──<span class="hljs-selector-tag">phone</span>/<span class="hljs-selector-tag">src</span>/<span class="hljs-selector-tag">main</span>/<span class="hljs-selector-tag">ets</span></li><li>   │  ├──<span class="hljs-selector-tag">entryability</span>                     <span class="hljs-comment">// 程序入口</span></li><li>   │  ├──<span class="hljs-selector-tag">entrybackupability</span>  </li><li>   │  ├──<span class="hljs-selector-tag">pages</span>                            <span class="hljs-comment">// 首页</span></li><li>   │  ├──<span class="hljs-selector-tag">splitScreenAbility</span>               <span class="hljs-comment">// 分屏入口</span></li><li>   │  └──<span class="hljs-selector-tag">splitScreenBackupAbility</span></li><li>   └──<span class="hljs-selector-tag">phone</span>/<span class="hljs-selector-tag">src</span>/<span class="hljs-selector-tag">main</span>/<span class="hljs-selector-tag">resources</span>            <span class="hljs-comment">// 应用静态资源目录</span></li></ol></pre></div></div> <div class="tiledSection"><h2 id="section824510452191">窗口适配<i class="anchor-icon anchor-icon-link" anchorid="section824510452191" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section166341140570" class="firsth2">窗口模式<i class="anchor-icon anchor-icon-link" anchorid="section166341140570" tips="复制节点链接"></i></h3><p><a href="https://gitee.com/harmonyos_samples/multi-ticket-class" target="_blank">多设备股票类界面</a>示例，根据适配的设备，涉及全屏模式、分屏模式、悬浮窗模式、自由窗口模式，可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-window-mode" target="_blank">窗口模式</a>。其中分屏模式与悬浮窗通常无特殊设计，可通过系统方式进入。应用监听窗口尺寸变化，<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section175001836203617" target="_blank">通过断点刷新UI</a>，将自动适配全屏、分屏、悬浮窗、自由窗口模式下的布局。</p> <p>使用系统UI组件进入全景多窗，实现一个应用多个窗口并行运行的体验，可参考<a href="/consumer/cn/doc/best-practices/multi-ticket-class#section12800182173311">功能开发：应用多实例-多股比价</a>。</p> </div> <div class="tiledSection"><h3 id="section174414227518">窗口方向<i class="anchor-icon anchor-icon-link" anchorid="section174414227518" tips="复制节点链接"></i></h3><p>通过设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setpreferredorientation9" target="_blank">window.setPreferredOrientation()</a>使应用跟随传感器自动旋转，可旋转至竖屏、横屏、反向竖屏、反向横屏四个方向。本示例使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-rotation#其他方向类型" target="_blank">跟随桌面的旋转模式</a>。</p> </div> <div class="tiledSection"><h3 id="section5421512104510">窗口沉浸式<i class="anchor-icon anchor-icon-link" anchorid="section5421512104510" tips="复制节点链接"></i></h3><p>根据UX设计，实现不同窗口模式（全屏、分屏、悬浮窗）下窗口的沉浸式，可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-window-immersive#section14198114410189" target="_blank">窗口沉浸式</a>。全屏、分屏和悬浮窗的沉浸式均可通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowlayoutfullscreen9" target="_blank">setWindowLayoutFullscreen()</a>实现，并进行动态安全区避让。</p> </div> <div class="tiledSection"><h2 id="section1350915119215">界面开发<i class="anchor-icon anchor-icon-link" anchorid="section1350915119215" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h2 id="section7318163817529">自选股页面<i class="anchor-icon anchor-icon-link" anchorid="section7318163817529" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section173371279155" class="firsth2">页面布局<i class="anchor-icon anchor-icon-link" anchorid="section173371279155" tips="复制节点链接"></i></h3><ul><li>将自选股页划分为四个部分，效果图如下： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.14.2.1.1.1.6.1.1" valign="top" width="6.239999999999999%"><p>横向(/纵向)断点</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.2.1.1.1.6.1.2" valign="top" width="20.18%"><p>sm/md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.2.1.1.1.6.1.3" valign="top" width="14.01%"><p>sm/lg</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.2.1.1.1.6.1.4" valign="top" width="21.89%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.2.1.1.1.6.1.5" valign="top" width="37.68%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="6.239999999999999%"><p>自选股页</p> </td> <td class="cellrowborder" valign="top" width="20.18%"><p><span><img height="199.5321998333693" originheight="2338" originwidth="1892" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163139.92706141621062311093981888800898:50001231000000:2800:4B0FC6AFA64BC1DB671529EE76F0E4BF6F6FB5C3211B9F4602EFA09F002BF12E.png" title="点击放大" width="161.65599999999998"></span></p> </td> <td class="cellrowborder" valign="top" width="14.01%"><p><span><img height="216.77505179999997" originheight="2052" originwidth="992" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163140.65960582654698983516461282982498:50001231000000:2800:3DEAF795D9AF57D93A3CF162E765BA1490CD9E97FCF4EEC83BB6B63A8C17BCB3.png" title="点击放大" width="104.892"></span></p> </td> <td class="cellrowborder" valign="top" width="21.89%"><p><span><img height="197.65950644444447" originheight="2204" originwidth="1976" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163140.89278782745724880324891684878177:50001231000000:2800:32442B4675C51210064E3368F5E239238B5692513A030EE25405869921E8D87F.png" title="点击放大" width="177.388"></span></p> </td> <td class="cellrowborder" valign="top" width="37.68%"><p><span><img height="208.34435680000004" originheight="2070" originwidth="3204" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163140.37179531508011675597596385739030:50001231000000:2800:C23C3F073B0048BDF92B14A0DB950E3B48E1A0A92A04DDCA0C5474FF04610E34.png" title="点击放大" width="322.656"></span></p> </td> </tr>  </tbody></table></div> </div> </li><li>对各个区域使用的多种能力进行分析，实现方案如下表： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.14.2.2.1.1.4.1.1" valign="top" width="6.07060706070607%"><p>区域编号</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.2.2.1.1.4.1.2" valign="top" width="8.670867086708672%"><p>简介</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.2.2.1.1.4.1.3" valign="top" width="85.25852585258527%"><p>实现方案</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="6.07060706070607%"><p>1</p> </td> <td class="cellrowborder" valign="top" width="8.670867086708672%"><p>底部/侧边页签</p> </td> <td class="cellrowborder" valign="top" width="85.25852585258527%"><p>借助<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1914110349546" target="_blank">响应式组件</a>Tabs实现。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.07060706070607%"><p>2</p> </td> <td class="cellrowborder" valign="top" width="8.670867086708672%"><p>指数</p> </td> <td class="cellrowborder" valign="top" width="85.25852585258527%"><p>最后一个组件固定，其他组件使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list" target="_blank">List组件</a>实现延伸能力，随着设备宽度变大，页签间距变大，页面能够展示更多页签内容。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.07060706070607%"><p>3</p> </td> <td class="cellrowborder" valign="top" width="8.670867086708672%"><p>股票列表-工具栏</p> </td> <td class="cellrowborder" valign="top" width="85.25852585258527%"><p>文字和功能按钮中间增加<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-blank" target="_blank">Blank组件</a>，实现拉伸能力。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.07060706070607%"><p>4</p> </td> <td class="cellrowborder" valign="top" width="8.670867086708672%"><p>股票列表</p> </td> <td class="cellrowborder" valign="top" width="85.25852585258527%"><p>通过使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list" target="_blank">List组件</a>设置固定宽度和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll" target="_blank">Scroll组件</a>，可实现股票列表数据的上下或左右滑动。同时，支持对不同列设置不同的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-column#justifycontent8" target="_blank">justifyContent</a>，以便实现各列的不同对齐方式。</p> </td> </tr>  </tbody></table></div> </div> </li></ul> <ul><li>整个页面使用的是<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout#section631723412132" target="_blank">分栏布局</a>，在股票列表区域，点击某一股票时，平板上会分栏显示该股票的详细信息。</li></ul> </div> <div class="tiledSection"><h3 id="section168392301294">交互开发<i class="anchor-icon anchor-icon-link" anchorid="section168392301294" tips="复制节点链接"></i></h3></div> <p>页签切换、自选股查看和跳转等交互均为简单的点击事件，开发过程可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-interaction" target="_blank">多设备交互</a>。</p> <div class="tiledSection"><h2 id="section1460824513173">股票详情页<i class="anchor-icon anchor-icon-link" anchorid="section1460824513173" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section12593315181710" class="firsth2">页面布局<i class="anchor-icon anchor-icon-link" anchorid="section12593315181710" tips="复制节点链接"></i></h3></div> <ul><li>将个股详情页划分为六个部分，效果图如下： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.19.1.1.1.6.1.1" valign="top" width="6.23%"><p>横向(/纵向)断点</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.1.1.1.6.1.2" valign="top" width="21.310000000000002%"><p>sm/md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.1.1.1.6.1.3" valign="top" width="14.11%"><p>sm/lg</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.1.1.1.6.1.4" valign="top" width="21.29%"><p>md</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.1.1.1.6.1.5" valign="top" width="37.059999999999995%"><p>lg</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="6.23%"><p>个股详情页</p> </td> <td class="cellrowborder" valign="top" width="21.310000000000002%"><p><span><img height="212.48857601580835" originheight="2475" originwidth="2003" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163140.64196317274531034601040927579261:50001231000000:2800:500E68E8F67E10EAAB0C6BD8AC7956088E599687DBCB2322CDE537EE8220D331.png" title="点击放大" width="172.05200000000002"></span></p> </td> <td class="cellrowborder" valign="top" width="14.11%"><p><span><img height="218.67636979999995" originheight="2052" originwidth="992" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163140.72815719433561664575043844451218:50001231000000:2800:22A22ADC79B5086270F8A1A1CD9504540C6D1DF482E445E2A76038EA8209BD39.png" title="点击放大" width="105.81199999999998"></span></p> </td> <td class="cellrowborder" valign="top" width="21.29%"><p><span><img height="191.5086931111111" originheight="2204" originwidth="1976" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163140.23362939747628849026792969539608:50001231000000:2800:615371E2C6BF4529966692D264DC36EA3D9C1925FA6E1BD1079EADFC2B42DA90.png" title="点击放大" width="171.868"></span></p> </td> <td class="cellrowborder" valign="top" width="37.059999999999995%"><p><span><img height="204.66118893333336" originheight="2070" originwidth="3204" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163141.86246490880488717895993591523757:50001231000000:2800:04370528411F639063CCB3640576D0069967817FE338BF7642DB759444952DF5.png" title="点击放大" width="316.952"></span></p> </td> </tr>  </tbody></table></div> </div> </li><li>对各区域使用的能力进行分析，实现方案如表所示： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.19.2.1.1.4.1.1" valign="top" width="6.851996867658575%"><p>区域编号</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.2.1.1.4.1.2" valign="top" width="9.602584181675802%"><p>简介</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.2.1.1.4.1.3" valign="top" width="83.54541895066562%"><p>实现方案</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="6.851996867658575%"><p>1</p> </td> <td class="cellrowborder" valign="top" width="9.602584181675802%"><p>交易操作行</p> </td> <td class="cellrowborder" valign="top" width="83.54541895066562%"><p>通过为“去交易”按钮设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-size#layoutweight" target="_blank">layoutWeight</a>布局权重，并使用Blank组件结合断点，实现该按钮的自适应拉伸。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.851996867658575%"><p>2</p> </td> <td class="cellrowborder" valign="top" width="9.602584181675802%"><p>标题</p> </td> <td class="cellrowborder" valign="top" width="83.54541895066562%"><p>居中显示，其他操作两端对齐，空白空间使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-blank" target="_blank">Blank组件</a>实现自适应布局拉伸能力。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.851996867658575%"><p>3</p> </td> <td class="cellrowborder" valign="top" width="9.602584181675802%"><p>行情列表数据</p> </td> <td class="cellrowborder" valign="top" width="83.54541895066562%"><p>通过<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1061332817545" target="_blank">栅格布局</a>并结合断点，控制在不同断点下显示不同的列数，列表自适应两列变多列。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.851996867658575%"><p>4</p> </td> <td class="cellrowborder" valign="top" width="9.602584181675802%"><p>中间Tab</p> </td> <td class="cellrowborder" valign="top" width="83.54541895066562%"><p>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list" target="_blank">List组件</a>的space属性并结合断点，控制在不同断点下ListItem之间的间距。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.851996867658575%"><p>5</p> </td> <td class="cellrowborder" valign="top" width="9.602584181675802%"><p>曲线图和柱状图</p> </td> <td class="cellrowborder" valign="top" width="83.54541895066562%"><p>使用layoutWeight属性实现拉伸能力。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.851996867658575%"><p>6</p> </td> <td class="cellrowborder" valign="top" width="9.602584181675802%"><p>讨论的Tab</p> </td> <td class="cellrowborder" valign="top" width="83.54541895066562%"><p>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list" target="_blank">List组件</a>的space属性并结合断点，控制在不同断点下ListItem之间的间距。</p> </td> </tr>  </tbody></table></div> </div> </li></ul> <div class="tiledSection"><h3 id="section1632101622014">交互开发<i class="anchor-icon anchor-icon-link" anchorid="section1632101622014" tips="复制节点链接"></i></h3><p>图表切换、股票交易等交互均为简单的点击事件，开发过程可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-interaction" target="_blank">多设备交互</a>。</p> </div> <div class="tiledSection"><h3 id="section12800182173311">功能开发：应用多实例-多股比价<i class="anchor-icon anchor-icon-link" anchorid="section12800182173311" tips="复制节点链接"></i></h3><p>应用通过系统提供的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ui-design-multiwindowentryinapp-api" target="_blank">MultiWindowEntryInAPP</a>组件，配置需拉起的bundleName与UIAbility（仅限本应用，无法拉起其他应用），单击组件页面进入分屏（双股对比），在分屏状态下，在点击组件进入全景多窗（三股对比）。</p> <p>下表以Mate X5设备为例，展示应用在分屏及全景多窗模式下的效果。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.21.4.1.4.1.1" valign="top" width="13.501350135013501%">&nbsp;&nbsp;</th> <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.4.1.2" valign="top" width="43.92439243924392%"><p>折叠屏分屏-双股<strong>比价</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.21.4.1.4.1.3" valign="top" width="42.57425742574258%"><p>折叠屏全景多窗-三股<strong>比价</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="13.501350135013501%"><p>个股详情页-多股比价</p> </td> <td class="cellrowborder" valign="top" width="43.92439243924392%"><p><span><img height="423.59469006900684" originheight="2425" originwidth="2176" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163141.67623291477156270762747308687989:50001231000000:2800:E485E3C3E248EBB3E797AF826F7E31AF3952E0F5E7F0977C0958CF461930095A.png" title="点击放大" width="380.104410441044"></span></p> </td> <td class="cellrowborder" valign="top" width="42.57425742574258%"><p><span><img height="409.75225082508257" originheight="2425" originwidth="2176" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163141.29769213856389804408210511854917:50001231000000:2800:0CCA5517ACE3B68D72266C8EA2C21FC0522506BA7652BD83B5C5F8D137E1A480.png" title="点击放大" width="367.6831683168317"></span></p> </td> </tr>  </tbody></table></div> </div> </div> <p><strong>约束条件</strong></p> <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ui-design-multiwindowentryinapp-api" target="_blank">MultiWindowEntryInAPP</a>组件依赖全景多窗特性，只有当前设备及屏幕状态支持全景多窗，才支持设置此功能。目前支持全景多窗的设备型态有：</p> <ul><li>双折叠：展开态。</li><li>三折叠：双屏态，三屏态的横屏态。</li><li>平板：横屏态。</li></ul> <p>对于不支持的设备型态，该组件不可交互，不响应点击事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>建议开发者在分屏副窗口左上角设置<strong>关闭按钮</strong>以直接关闭副窗口，本案例使用返回按钮，是股票比价场景需返回上级页面的特定需求。</p> </div></div></div> <p><strong>开发步骤</strong></p> <p>应用使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ui-design-multiwindowentryinapp-api" target="_blank">MultiWindowEntryInAPP</a>组件主动分屏或进入全景多窗。具体开发步骤如下：</p> <ol><li>导入模块。<div class="screenLinkPre"><div _ngcontent-twj-c106="" class="highlight-div"><div _ngcontent-twj-c106="" class="highlight-div-header"><div _ngcontent-twj-c106="" class="highlight-div-header-left"><div _ngcontent-twj-c106="" class="handle-button expand-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twj-c106="" class="highlight-div-header-right"><div _ngcontent-twj-c106="" class="handle-button ai-button"></div><div _ngcontent-twj-c106="" class="handle-button line-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twj-c106="" class="handle-button theme-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twj-c106="" class="handle-button copy-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" codehub="https://gitee.com/harmonyos_samples/multi-ticket-class/blob/master/features/stockdetail/src/main/ets/views/MultiWindowEntryComponent.ets#L16-L18" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">MultiWindowEntryInAPP</span>, <span class="hljs-title class_">MultiWindowEntryInAPPAttribute</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.UIDesignKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">TextModifier</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/multi-ticket-class/blob/master/features/stockdetail/src/main/ets/views/MultiWindowEntryComponent.ets#L16-L18" target="_blank">MultiWindowEntryComponent.ets</a></div></div></div></div> </li><li>使用MultiWindowEntryInAPP组件，并且设置组件参数。<div class="screenLinkPre"><div _ngcontent-twj-c106="" class="highlight-div"><div _ngcontent-twj-c106="" class="highlight-div-header"><div _ngcontent-twj-c106="" class="highlight-div-header-left"><div _ngcontent-twj-c106="" class="handle-button expand-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twj-c106="" class="highlight-div-header-right"><div _ngcontent-twj-c106="" class="handle-button ai-button"></div><div _ngcontent-twj-c106="" class="handle-button line-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twj-c106="" class="handle-button theme-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twj-c106="" class="handle-button copy-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/multi-ticket-class/blob/master/features/stockdetail/src/main/ets/views/MultiWindowEntryComponent.ets#L23-L75" data-highlighted="yes"><ol class="linenums"><li>@<span class="hljs-title function_">Component</span></li><li><span class="hljs-variable">export</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">MultiWindowEntryComponent</span> {</li><li>  @<span class="hljs-title function_">Link</span> <span class="hljs-variable">textModifier</span>: <span class="hljs-title class_">TextModifier</span>;</li><li>  @<span class="hljs-title function_">Link</span> <span class="hljs-variable">want</span>: <span class="hljs-title class_">Want</span>;</li><li>  @<span class="hljs-title function_">State</span> <span class="hljs-variable">isShowMultiWindowEntry</span>: <span class="hljs-title class_">boolean</span> = <span class="hljs-keyword">false</span>;</li><li>  <span class="hljs-comment">// ...</span></li><li>
</li><li>  <span class="hljs-title function_">build</span>() {</li><li>    <span class="hljs-title function_">Row</span>() {</li><li>      <span class="hljs-title function_">MultiWindowEntryInAPP</span>({</li><li>        <span class="hljs-variable">want</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">want</span>,</li><li>        <span class="hljs-variable">isShowSubtitle</span>: <span class="hljs-keyword">false</span>,</li><li>        <span class="hljs-variable">multiWindowEntryInAPPStyle</span>: {</li><li>          <span class="hljs-variable">iconOptions</span>: {</li><li>            <span class="hljs-variable">iconSize</span>: <span class="hljs-number">24</span>,</li><li>            <span class="hljs-variable">iconColor</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">font_primary</span>'),</li><li>            <span class="hljs-variable">iconWeight</span>: <span class="hljs-title class_">FontWeight</span>.<span class="hljs-title class_">Normal</span>,</li><li>            <span class="hljs-variable">backgroundColor</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">sys</span>.<span class="hljs-title class_">color</span>.<span class="hljs-title class_">comp_background_tertiary</span>')</li><li>          },</li><li>          <span class="hljs-variable">subtitleOptions</span>: {</li><li>            <span class="hljs-variable">modifier</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">textModifier</span>.<span class="hljs-title class_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-title class_">Black</span>)</li><li>          }</li><li>        }</li><li>      })</li><li>        .<span class="hljs-title function_">id</span>(<span class="hljs-string">"MultiWindowEntryInAPP"</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">visibility</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">isShowMultiWindowEntry</span> ? <span class="hljs-variable">Visibility</span>.<span class="hljs-variable">Visible</span> : <span class="hljs-title class_">Visibility</span>.<span class="hljs-title class_">None</span>)</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/multi-ticket-class/blob/master/features/stockdetail/src/main/ets/views/MultiWindowEntryComponent.ets#L23-L75" target="_blank">MultiWindowEntryComponent.ets</a></div></div></div></div> </li><li>导入封装好的MultiWindowEntryComponent组件，并且设置组件参数。<div class="screenLinkPre"><div _ngcontent-twj-c106="" class="highlight-div"><div _ngcontent-twj-c106="" class="highlight-div-header"><div _ngcontent-twj-c106="" class="highlight-div-header-left"><div _ngcontent-twj-c106="" class="handle-button expand-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twj-c106="" class="highlight-div-header-right"><div _ngcontent-twj-c106="" class="handle-button ai-button"></div><div _ngcontent-twj-c106="" class="handle-button line-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twj-c106="" class="handle-button theme-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twj-c106="" class="handle-button copy-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/multi-ticket-class/blob/master/features/stockdetail/src/main/ets/views/TopTitleBar.ets#L25-L158" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">MultiWindowEntryComponent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./MultiWindowEntryComponent'</span>;</li><li>@<span class="hljs-title function_">Component</span></li><li><span class="hljs-variable">export</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">TopTitleBar</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  @<span class="hljs-title function_">State</span> <span class="hljs-variable">textModifier</span>: <span class="hljs-title class_">TextModifier</span> = <span class="hljs-variable">new</span> <span class="hljs-title function_">TextModifier</span>();</li><li>  @<span class="hljs-title function_">State</span> <span class="hljs-variable">splitScreenWant</span>: <span class="hljs-title class_">Want</span> = {</li><li>    <span class="hljs-comment">// Modify the bundleName, moduleName and abilityName of the current application, and launch the UIAbility within the application.</span></li><li>    <span class="hljs-variable">bundleName</span>: <span class="hljs-string">'com.example.multiticketclass'</span>,</li><li>    <span class="hljs-variable">moduleName</span>: <span class="hljs-string">'phone'</span>,</li><li>    <span class="hljs-variable">abilityName</span>: <span class="hljs-string">'SplitScreenAbility'</span>,</li><li>  };</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">build</span>() {</li><li>    <span class="hljs-title function_">Row</span>() {</li><li>      <span class="hljs-comment">// ...</span></li><li>      <span class="hljs-comment">// The area displayed by the icon on the right side</span></li><li>      <span class="hljs-title function_">Row</span>({ <span class="hljs-variable">space</span>: <span class="hljs-number">16</span> }) {</li><li>        <span class="hljs-comment">// split screen</span></li><li>        <span class="hljs-title function_">Row</span>() {</li><li>          <span class="hljs-title function_">MultiWindowEntryComponent</span>({</li><li>            <span class="hljs-comment">// mainWindowInfo: this.windowUtil?.mainWindowInfo,</span></li><li>            <span class="hljs-variable">textModifier</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">textModifier</span>,</li><li>            <span class="hljs-variable">want</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">splitScreenWant</span></li><li>          })</li><li>        }</li><li>        <span class="hljs-comment">// ...</span></li><li>      }</li><li>    }</li><li>    <span class="hljs-comment">// ...</span></li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/multi-ticket-class/blob/master/features/stockdetail/src/main/ets/views/TopTitleBar.ets#L25-L158" target="_blank">TopTitleBar.ets</a></div></div></div></div> </li></ol> <p><strong>应用内分屏高阶组件窗口路由方案</strong></p> <p>建议开发者采用应用级多实例来实现分屏页面的路由管理。以下是页面级多实例与应用级多实例的主要区别，多股比价场景的分屏路由管理采用应用级多实例：</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.32.1.5.1.1" valign="top" width="14.78%"><p>场景</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.32.1.5.1.2" valign="top" width="27.36%"><p>路由栈特点</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.32.1.5.1.3" valign="top" width="15.22%"><p>是否需要路由改造</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.32.1.5.1.4" valign="top" width="42.64%"><p>核心方案</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="14.78%"><p>页面级多实例</p> </td> <td class="cellrowborder" valign="top" width="27.36%"><p>每个UI Abli<span>i</span>ty创建后，基于当前节点改造路由栈</p> </td> <td class="cellrowborder" valign="top" width="15.22%"><p>需要</p> </td> <td class="cellrowborder" valign="top" width="42.64%"><p>以当前路由节点生成路由表，开发者手动定义路由方案。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.78%"><p>应用级多实例（<strong>推荐</strong>）</p> </td> <td class="cellrowborder" valign="top" width="27.36%"><p>每个UI Ability创建独立的相同路由栈</p> </td> <td class="cellrowborder" valign="top" width="15.22%"><p>不需要</p> </td> <td class="cellrowborder" valign="top" width="42.64%"><p>每个窗口启动时创建独立路由栈（路由表相同）。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>应用内分屏高阶组件窗口路由退栈方案</strong></p> <div class="p">在多股比价场景中，当在应用内进行分屏操作时，新增窗口应保留当前浏览的股票信息，而主窗口则应回到股票列表。为实现这一功能，建议在新窗口的启动生命周期中触发事件，原窗口通过监听该事件并执行退栈操作。<ol><li>在分屏程序的入口SplitScreenAbility.ets中的onCreate()和onNewWant()生命周期中进行事件触发。<div class="screenLinkPre"><div _ngcontent-twj-c106="" class="highlight-div"><div _ngcontent-twj-c106="" class="highlight-div-header"><div _ngcontent-twj-c106="" class="highlight-div-header-left"><div _ngcontent-twj-c106="" class="handle-button expand-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twj-c106="" class="highlight-div-header-right"><div _ngcontent-twj-c106="" class="handle-button ai-button"></div><div _ngcontent-twj-c106="" class="handle-button line-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twj-c106="" class="handle-button theme-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twj-c106="" class="handle-button copy-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/multi-ticket-class/blob/master/products/phone/src/main/ets/splitScreenAbility/SplitScreenAbility.ets#L24-L167" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-variable">eventData</span>: <span class="hljs-title class_">emitter</span>.<span class="hljs-title class_">EventData</span> = {</li><li>  <span class="hljs-variable">data</span>: {</li><li>    <span class="hljs-string">'isStart'</span>: <span class="hljs-number">1</span>,</li><li>    <span class="hljs-string">'id'</span>: <span class="hljs-number">1</span></li><li>  }</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">innerEvent</span>: <span class="hljs-title class_">emitter</span>.<span class="hljs-title class_">InnerEvent</span> = {</li><li>  <span class="hljs-variable">eventId</span>: <span class="hljs-number">1</span>,</li><li>  <span class="hljs-variable">priority</span>: <span class="hljs-title class_">emitter</span>.<span class="hljs-title class_">EventPriority</span>.<span class="hljs-title class_">HIGH</span></li><li>};</li><li>
</li><li><span class="hljs-variable">export</span> <span class="hljs-variable">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SplitScreenAbility</span> <span class="hljs-variable">extends</span> <span class="hljs-variable">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>
</li><li>  <span class="hljs-title function_">onCreate</span>(): <span class="hljs-title class_">void</span> {</li><li>    <span class="hljs-comment">// ...</span></li><li>    <span class="hljs-variable">emitter</span>.<span class="hljs-title function_">emit</span>(<span class="hljs-variable">innerEvent</span>, <span class="hljs-variable">eventData</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onNewWant</span>(): <span class="hljs-title class_">void</span> {</li><li>    <span class="hljs-comment">// ...</span></li><li>    <span class="hljs-variable">emitter</span>.<span class="hljs-title function_">emit</span>(<span class="hljs-variable">innerEvent</span>, <span class="hljs-variable">eventData</span>);</li><li>  }</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/multi-ticket-class/blob/master/products/phone/src/main/ets/splitScreenAbility/SplitScreenAbility.ets#L24-L167" target="_blank">SplitScreenAbility.ets</a></div></div></div></div> </li><li>在原窗口进行事件监听并做退栈处理。<div class="screenLinkPre"><div _ngcontent-twj-c106="" class="highlight-div"><div _ngcontent-twj-c106="" class="highlight-div-header"><div _ngcontent-twj-c106="" class="highlight-div-header-left"><div _ngcontent-twj-c106="" class="handle-button expand-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twj-c106="" class="highlight-div-header-right"><div _ngcontent-twj-c106="" class="handle-button ai-button"></div><div _ngcontent-twj-c106="" class="handle-button line-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twj-c106="" class="handle-button theme-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twj-c106="" class="handle-button copy-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-kotlin" codehub="https://gitee.com/harmonyos_samples/multi-ticket-class/blob/master/features/stockdetail/src/main/ets/views/TopTitleBar.ets#L27-L157" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Component</span></li><li>export struct TopTitleBar {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-keyword">private</span> innerEvent: emitter.InnerEvent = { eventId: <span class="hljs-number">1</span> };</li><li>  <span class="hljs-keyword">private</span> callBack: Callback&lt;emitter.EventData&gt; = (eventData: emitter.EventData) =&gt; {</li><li>    Logger.info(`eventData:${eventData}`);</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.pageInfos?.pop) {</li><li>      <span class="hljs-keyword">this</span>.pageInfos.pop();</li><li>    }</li><li>  };</li><li>  aboutToAppear(): void {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.context.abilityInfo.name === <span class="hljs-string">'EntryAbility'</span>) {</li><li>      emitter.on(<span class="hljs-keyword">this</span>.innerEvent, <span class="hljs-keyword">this</span>.callBack);</li><li>    }</li><li>  }</li><li>  dispose(): void {</li><li>    emitter.off(<span class="hljs-keyword">this</span>.innerEvent.eventId, <span class="hljs-keyword">this</span>.callBack);</li><li>  }</li><li>  <span class="hljs-comment">// ...</span></li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/multi-ticket-class/blob/master/features/stockdetail/src/main/ets/views/TopTitleBar.ets#L27-L157" target="_blank">TopTitleBar.ets</a></div></div></div></div> </li></ol> </div> <p><strong>应用内分屏高阶组件按钮显隐策略</strong></p> <p>在应用内分屏高阶组件时，对不支持全景多窗的设备隐藏分屏按钮。方案的主要逻辑为：</p> <ol><li>监听窗口尺寸变化。<div class="screenLinkPre"><div _ngcontent-twj-c106="" class="highlight-div"><div _ngcontent-twj-c106="" class="highlight-div-header"><div _ngcontent-twj-c106="" class="highlight-div-header-left"><div _ngcontent-twj-c106="" class="handle-button expand-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twj-c106="" class="highlight-div-header-right"><div _ngcontent-twj-c106="" class="handle-button ai-button"></div><div _ngcontent-twj-c106="" class="handle-button line-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twj-c106="" class="handle-button theme-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twj-c106="" class="handle-button copy-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" codehub="https://gitee.com/harmonyos_samples/multi-ticket-class/blob/master/commons/base/src/main/ets/utils/WindowUtil.ets#L39-L239" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">public</span> <span class="hljs-attr">onWindowSizeChange</span>: <span class="hljs-function">(<span class="hljs-params">windowSize: <span class="hljs-variable language_">window</span>.Size</span>) =&gt;</span> <span class="hljs-built_in">void</span> = <span class="hljs-function">(<span class="hljs-params">windowSize: <span class="hljs-variable language_">window</span>.Size</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">mainWindowInfo</span>.<span class="hljs-property">windowSize</span> = windowSize;</li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">mainWindowInfo</span>.<span class="hljs-property">widthBp</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>!.<span class="hljs-title function_">getWindowWidthBreakpoint</span>();</li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">mainWindowInfo</span>.<span class="hljs-property">heightBp</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>!.<span class="hljs-title function_">getWindowHeightBreakpoint</span>();</li><li>};</li><li><span class="hljs-comment">// ...</span></li><li><span class="hljs-title function_">updateWindowInfo</span>(): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// ...</span></li><li>    <span class="hljs-comment">// Register for window size change monitoring, update window size and width/height breakpoint.</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">mainWindow</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'windowSizeChange'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">onWindowSizeChange</span>);</li><li>    <span class="hljs-comment">// ...</span></li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">`TestLog`</span>, <span class="hljs-string">`Failed to update window info. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/multi-ticket-class/blob/master/commons/base/src/main/ets/utils/WindowUtil.ets#L39-L239" target="_blank">WindowUtil.ets</a></div></div></div></div> </li><li>尺寸变化时获取按钮节点，查询其enabled属性。<div class="screenLinkPre"><div _ngcontent-twj-c106="" class="highlight-div"><div _ngcontent-twj-c106="" class="highlight-div-header"><div _ngcontent-twj-c106="" class="highlight-div-header-left"><div _ngcontent-twj-c106="" class="handle-button expand-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twj-c106="" class="highlight-div-header-right"><div _ngcontent-twj-c106="" class="handle-button ai-button"></div><div _ngcontent-twj-c106="" class="handle-button line-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twj-c106="" class="handle-button theme-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twj-c106="" class="handle-button copy-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" codehub="https://gitee.com/harmonyos_samples/multi-ticket-class/blob/master/features/stockdetail/src/main/ets/views/MultiWindowEntryComponent.ets#L30-L44" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@StorageLink</span>(<span class="hljs-string">'mainWindowInfo'</span>) <span class="hljs-meta">@Watch</span>(<span class="hljs-string">'watchWindow'</span>) <span class="hljs-attr">mainWindowInfo</span>: <span class="hljs-title class_">WindowInfo</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WindowInfo</span>();</li><li><span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">watchWindow</span>()</li><li>}</li><li>
</li><li><span class="hljs-keyword">private</span> <span class="hljs-title function_">watchWindow</span>(): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span> {</li><li>    <span class="hljs-keyword">let</span> nodeStr = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>()?.<span class="hljs-title function_">getFrameNodeById</span>(<span class="hljs-string">"MultiWindowEntryInAPP"</span>)?.<span class="hljs-title function_">getInspectorInfo</span>())</li><li>    <span class="hljs-keyword">if</span> (nodeStr?.<span class="hljs-title function_">search</span>(<span class="hljs-string">'"enabled":true'</span>) &amp;&amp; nodeStr?.<span class="hljs-title function_">search</span>(<span class="hljs-string">'"enabled":true'</span>) !== -<span class="hljs-number">1</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isShowMultiWindowEntry</span> = <span class="hljs-literal">true</span></li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isShowMultiWindowEntry</span> = <span class="hljs-literal">false</span></li><li>    }</li><li>  })</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/multi-ticket-class/blob/master/features/stockdetail/src/main/ets/views/MultiWindowEntryComponent.ets#L30-L44" target="_blank">MultiWindowEntryComponent.ets</a></div></div></div></div> </li><li>根据enabled属性通过visibility控制组件的显隐。<div class="screenLinkPre"><div _ngcontent-twj-c106="" class="highlight-div"><div _ngcontent-twj-c106="" class="highlight-div-header"><div _ngcontent-twj-c106="" class="highlight-div-header-left"><div _ngcontent-twj-c106="" class="handle-button expand-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-twj-c106="" class="highlight-div-header-right"><div _ngcontent-twj-c106="" class="handle-button ai-button"></div><div _ngcontent-twj-c106="" class="handle-button line-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-twj-c106="" class="handle-button theme-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-twj-c106="" class="handle-button copy-button"><div _ngcontent-twj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-twj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/multi-ticket-class/blob/master/features/stockdetail/src/main/ets/views/MultiWindowEntryComponent.ets#L51-L72" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title function_">Row</span>() {</li><li>  <span class="hljs-title function_">MultiWindowEntryInAPP</span>({</li><li>    <span class="hljs-variable">want</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">want</span>,</li><li>    <span class="hljs-variable">isShowSubtitle</span>: <span class="hljs-keyword">false</span>,</li><li>    <span class="hljs-variable">multiWindowEntryInAPPStyle</span>: {</li><li>      <span class="hljs-comment">// ...</span></li><li>    }</li><li>  })</li><li>    .<span class="hljs-title function_">id</span>(<span class="hljs-string">"MultiWindowEntryInAPP"</span>)</li><li>}</li><li>.<span class="hljs-title function_">visibility</span>(<span class="hljs-keyword">this</span>.<span class="hljs-variable">isShowMultiWindowEntry</span> ? <span class="hljs-variable">Visibility</span>.<span class="hljs-variable">Visible</span> : <span class="hljs-title class_">Visibility</span>.<span class="hljs-title class_">None</span>)</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/multi-ticket-class/blob/master/features/stockdetail/src/main/ets/views/MultiWindowEntryComponent.ets#L51-L72" target="_blank">MultiWindowEntryComponent.ets</a></div></div></div></div> </li></ol> <div class="tiledSection"><h2 id="section5440102310355">示例代码<i class="anchor-icon anchor-icon-link" anchorid="section5440102310355" tips="复制节点链接"></i></h2><ul><li><a href="https://gitee.com/harmonyos_samples/multi-ticket-class" target="_blank">多设备股票类界面</a></li></ul> </div> </div> <div></div></div>