<h1 _ngcontent-mwf-c119="" class="doc-title ng-star-inserted" title="折叠屏应用开发"> 折叠屏应用开发 </h1>

<div _ngcontent-mwf-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="section17793104172910">概述<i class="anchor-icon anchor-icon-link" anchorid="section17793104172910" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section152264061715" class="firsth2">折叠屏设备特点<i class="anchor-icon anchor-icon-link" anchorid="section152264061715" tips="复制节点链接"></i></h3><p>相对于直板机，折叠屏设备有以下明显特点：</p> <ul><li>设备屏幕尺寸可变，具有不同大小和形态的UX界面。</li><li>具有特殊的折叠状态和交互事件。包含三种状态：折叠态，展开态和悬停态。<ul><li>展开态：折叠屏设备完全展开后的形态。有更大的屏幕尺寸，可充分显示应用内容。</li><li>折叠态：折叠屏设备折叠后的形态。折叠后屏幕尺寸变小。</li><li>悬停态：折叠屏设备处于完全展开和折叠的中间状态，可平稳放置。</li></ul> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>三折叠屏的更多折叠状态，请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#foldstatus10" target="_blank">折叠状态枚举</a>和<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-matext-guide#section152802181518" target="_blank">三折叠特有能力</a>。</p> </div></div></div> </li><li>不同折叠状态下，可用的相机，相机的位置会发生变化。</li></ul> </div> <div class="tiledSection"><h3 id="section15127165631812">折叠屏主要型号<i class="anchor-icon anchor-icon-link" anchorid="section15127165631812" tips="复制节点链接"></i></h3><p>折叠屏目前包括Mate X双折叠、Mate XT三折叠、Pura X阔折叠、Pocket小折叠，示意图如下。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.3.1.3.1.1" valign="top" width="26.16%"><p>产品名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.3.1.3.1.2" valign="top" width="73.83999999999999%"><p>示意图</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="26.16%"><p>双折叠：Mate X系列</p> </td> <td class="cellrowborder" valign="top" width="73.83999999999999%"><p><span><img height="199.5" originheight="4112" originwidth="10464" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163259.01127024247492006844690258081025:50001231000000:2800:13C6B030394ECAEA62C032E033A6A0159E7FE713E8ECC064DE74F3A69E2E2DF0.jpg" title="点击放大" width="508.4324"></span></p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="26.16%"><p>三折叠：Mate XT系列</p> </td> <td class="cellrowborder" valign="top" width="73.83999999999999%"><p><span><img height="199.5" originheight="3930" originwidth="10000" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163259.58812398983706222083436344702854:50001231000000:2800:7FFA5E3DAD3D1B3F6895E4B36CEADB2A887E929AA16B4341C304F274F4F5D6F1.png" title="点击放大" width="507.1556"></span></p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="26.16%"><p>阔折叠：Pura X系列</p> </td> <td class="cellrowborder" valign="top" width="73.83999999999999%"><p><span><img height="199.5" originheight="3930" originwidth="10000" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163300.18347966271960205337560710935942:50001231000000:2800:A04E7D7CE15F6DEC17FC08EE035D1D407CAB17AF27DF35303B12C1CEC0D668E7.png" title="点击放大" width="507.1556"></span></p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="26.16%"><p>小折叠：Pocket系列</p> </td> <td class="cellrowborder" valign="top" width="73.83999999999999%"><p><span><img height="199.20873000000003" originheight="4112" originwidth="10464" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163301.61231652113771025360772815169413:50001231000000:2800:56DBF6E3A54C46D40F74F33A502B00ABB0EC3B761AB1B73140939E13B16187DB.png" title="点击放大" width="507.7275"></span></p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section127915358619">硬件说明<i class="anchor-icon anchor-icon-link" anchorid="section127915358619" tips="复制节点链接"></i></h2><p>本章将介绍折叠屏的屏幕方向、屏幕尺寸以及相机硬件参数等信息。</p> </div> <div class="tiledSection"><h3 id="section634311111483" class="firsth2">屏幕规格信息<i class="anchor-icon anchor-icon-link" anchorid="section634311111483" tips="复制节点链接"></i></h3><p>以下是典型双折叠屏在折叠和展开状态下的硬件参数。</p> <p><strong>折叠态屏幕规格信息</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><tbody><tr><th class="firstcol" id="mcps1.3.5.4.1.6.1.1" valign="top" width="15.55%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#属性" target="_blank">屏幕旋转角度（rotation）</a></p> </th> <td align="center" class="cellrowborder" valign="top" width="19.96%"><p>0(0度)</p> </td> <td align="center" class="cellrowborder" valign="top" width="23.01%"><p>1(90度)</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.46%"><p>2(180度)</p> </td> <td align="center" class="cellrowborder" valign="top" width="21.02%"><p>3(270度)</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.5.4.1.6.2.1" valign="top" width="15.55%"><p>折叠态示意图</p> </th> <td align="center" class="cellrowborder" valign="top" width="19.96%"><p><span><img height="326.8475" originheight="555" originwidth="271" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163301.01987880201132835500265998005364:50001231000000:2800:9CBA54C59014AF14D3D3A75E79E26C606402D72F9B65033D5475692BB74A165C.png" width="159.60000000000002" class="notEnlarge"></span></p> </td> <td align="center" class="cellrowborder" valign="top" width="23.01%"><p><span><img height="91.5198699715563" originheight="271" originwidth="555" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163302.98311058660478240491603681051648:50001231000000:2800:E3D2EDC3A4439E745D7CB2F70355EA8847ED94E081AEF5808F875BFAEA19C5BD.png" title="点击放大" width="187.692"></span></p> </td> <td align="center" class="cellrowborder" valign="top" width="20.46%"><p><span><img height="326.8475" originheight="555" originwidth="271" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163302.54443475340108338547961755744764:50001231000000:2800:E47B8E3202BC047C4B259AE7AE6BC5AD71EBD98D654A3E51FB18BEBC67D4953E.png" width="159.60000000000002" class="notEnlarge"></span></p> </td> <td align="center" class="cellrowborder" valign="top" width="21.02%"><p><span><img height="82.59276716781797" originheight="271" originwidth="555" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163302.15282149730220546295817736482539:50001231000000:2800:659DD21BFC25A6CFF6A2F755A74C2117E24318ADA8840F0B110C8C871EEF07AE.png" title="点击放大" width="169.384"></span></p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.5.4.1.6.3.1" valign="top" width="15.55%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#orientation10" target="_blank">屏幕方向Orientation</a></p> </th> <td align="center" class="cellrowborder" valign="top" width="19.96%"><p>竖屏PORTRAIT</p> </td> <td align="center" class="cellrowborder" valign="top" width="23.01%"><p>横屏LANDSCAPE</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.46%"><p>反向竖屏PORTRAIT_INVERTED</p> </td> <td align="center" class="cellrowborder" valign="top" width="21.02%"><p>反向横屏LANDSCAPE_INVERTED</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.5.4.1.6.4.1" valign="top" width="15.55%"><p>屏幕ID</p> </th> <td align="center" class="cellrowborder" valign="top" width="19.96%"><p>0</p> </td> <td align="center" class="cellrowborder" valign="top" width="23.01%"><p>0</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.46%"><p>0</p> </td> <td align="center" class="cellrowborder" valign="top" width="21.02%"><p>0</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.5.4.1.6.5.1" valign="top" width="15.55%"><p>分辨率(vp) (向下取整)</p> </th> <td align="center" class="cellrowborder" valign="top" width="19.96%"><p>801 * 345 (Mate X5)</p> </td> <td align="center" class="cellrowborder" valign="top" width="23.01%"><p>345 * 801 (Mate X5)</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.46%"><p>801 * 345 (Mate X5)</p> </td> <td align="center" class="cellrowborder" valign="top" width="21.02%"><p>345 * 801 (Mate X5)</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.5.4.1.6.6.1" valign="top" width="15.55%"><p>分辨率(px)</p> </th> <td align="center" class="cellrowborder" valign="top" width="19.96%"><p>2504 * 1080 (Mate X5)</p> </td> <td align="center" class="cellrowborder" valign="top" width="23.01%"><p>1080 * 2504 (Mate X5)</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.46%"><p>2504 * 1080 (Mate X5)</p> </td> <td align="center" class="cellrowborder" valign="top" width="21.02%"><p>1080 * 2504 (Mate X5)</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.5.4.1.6.7.1" valign="top" width="15.55%"><p>横纵断点</p> </th> <td align="center" class="cellrowborder" valign="top" width="19.96%"><p>横向断点sm，纵向断点lg</p> </td> <td align="center" class="cellrowborder" valign="top" width="23.01%"><p>横向断点md，纵向断点sm</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.46%"><p>横向断点sm，纵向断点lg</p> </td> <td align="center" class="cellrowborder" valign="top" width="21.02%"><p>横向断点md，纵向断点sm</p> </td> </tr>  </tbody></table></div> </div> <p><strong>展开态屏幕规格信息</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><tbody><tr><th class="firstcol" id="mcps1.3.5.6.1.6.1.1" valign="top" width="15.57%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#属性" target="_blank">屏幕旋转角度（rotation）</a></p> </th> <td align="center" class="cellrowborder" valign="top" width="20.31%"><p>0(0度)</p> </td> <td align="center" class="cellrowborder" valign="top" width="22.79%"><p>1(90度)</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.59%"><p>2(180度)</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.74%"><p>3(270度)</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.5.6.1.6.2.1" valign="top" width="15.57%"><p>展开态示意图</p> </th> <td align="center" class="cellrowborder" valign="top" width="20.31%"><p><span><img height="176.10001019999999" originheight="505" originwidth="467" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163302.59178646266542519981691435578625:50001231000000:2800:0829CED695D2AC8422A849EE668C742AED51EA5066F5865C756BB1A0416BFCCA.png" title="点击放大" width="162.85199999999998"></span></p> </td> <td align="center" class="cellrowborder" valign="top" width="22.79%"><p><span><img height="171.7001895778425" originheight="467" originwidth="505" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163302.49931197763640213184604410254404:50001231000000:2800:08E038D0C5E130B675ED077F4FA6CB5865225B1DC45CF737A85D512CA2BF7FDA.png" title="点击放大" width="185.668"></span></p> </td> <td align="center" class="cellrowborder" valign="top" width="20.59%"><p><span><img height="178.88556780000002" originheight="505" originwidth="467" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163302.56361023421110391955274327016412:50001231000000:2800:3DAFC7D2C108C2A096F3DCD169C8D6F68AA8DAE87A5326C68C9AEF8CC55F2C57.png" title="点击放大" width="165.428"></span></p> </td> <td align="center" class="cellrowborder" valign="top" width="20.74%"><p><span><img height="154.25902806676837" originheight="467" originwidth="505" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163302.73902006364485871589810510746280:50001231000000:2800:D2AEAF52F12AA678B428E348A95C49E5C762C5AACA18505034237A937575A31E.png" title="点击放大" width="166.808"></span></p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.5.6.1.6.3.1" valign="top" width="15.57%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#orientation10" target="_blank">屏幕方向Orientation</a></p> </th> <td align="center" class="cellrowborder" valign="top" width="20.31%"><p>竖屏PORTRAIT</p> </td> <td align="center" class="cellrowborder" valign="top" width="22.79%"><p>横屏LANDSCAPE</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.59%"><p>反向竖屏PORTRAIT_INVERTED</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.74%"><p>反向横屏LANDSCAPE_INVERTED</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.5.6.1.6.4.1" valign="top" width="15.57%"><p>屏幕ID</p> </th> <td align="center" class="cellrowborder" valign="top" width="20.31%"><p>0</p> </td> <td align="center" class="cellrowborder" valign="top" width="22.79%"><p>0</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.59%"><p>0</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.74%"><p>0</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.5.6.1.6.5.1" valign="top" width="15.57%"><p>分辨率(vp) (向下取整)</p> </th> <td align="center" class="cellrowborder" valign="top" width="20.31%"><p>798 * 711 (Mate X5)</p> </td> <td align="center" class="cellrowborder" valign="top" width="22.79%"><p>711 * 798 (Mate X5)</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.59%"><p>798 * 711 (Mate X5)</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.74%"><p>711 * 798 (Mate X5)</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.5.6.1.6.6.1" valign="top" width="15.57%"><p>分辨率(px)</p> </th> <td align="center" class="cellrowborder" valign="top" width="20.31%"><p>2496 * 2224 (Mate X5)</p> </td> <td align="center" class="cellrowborder" valign="top" width="22.79%"><p>2224 * 2496 (Mate X5)</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.59%"><p>2496 * 2224 (Mate X5)</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.74%"><p>2224 * 2496 (Mate X5)</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.5.6.1.6.7.1" valign="top" width="15.57%"><p>横纵断点</p> </th> <td align="center" class="cellrowborder" valign="top" width="20.31%"><p>横向断点md，纵向断点md</p> </td> <td align="center" class="cellrowborder" valign="top" width="22.79%"><p>横向断点md，纵向断点md</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.59%"><p>横向断点md，纵向断点md</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.74%"><p>横向断点md，纵向断点md</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul><li>上述Mate X系列屏幕尺寸参数以Mate X5为例展示属性，系列其它产品可通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display" target="_blank">display</a>的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#displaygetdefaultdisplaysync9" target="_blank">getDefaultDisplaySync()</a>方法获取设备屏幕分辨率(px)，通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#px2vp12" target="_blank">px2vp()</a>方法得到分辨率的vp值。</li><li>悬停态在不同旋转角度下的硬件参数和展开态一致，适配悬停态可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-folded-hover" target="_blank">折叠屏悬停态</a>。</li><li>Pocket系列以Pocket 2为例，折叠态下无屏幕需适配，竖屏展开态下分辨率vp值为860 * 363， px值为2690 * 1136，其它参数与Mate X折叠态一致，不在此赘述。</li><li>Mate XT系列产品属性和开发见<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-matext-guide" target="_blank">Mate XT三折叠</a>，Pura X系列产品属性和开发见<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-purax-guide" target="_blank">Pura X阔折叠</a>。</li><li>设备屏幕和窗口方向详细信息可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-window-direction" target="_blank">窗口方向</a>。</li></ul> </div></div></div> </div> <div class="tiledSection"><h3 id="section455016297473">其他硬件信息<i class="anchor-icon anchor-icon-link" anchorid="section455016297473" tips="复制节点链接"></i></h3><p><strong>相机硬件信息</strong></p> <p>相机有默认的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/camera-rotation-term#section1283585910517" target="_blank">镜头安装角度</a>，在使用时需要考虑镜头角度和设备的旋转角度，具体定义可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/camera-rotation-term#section11826104333019" target="_blank">预览旋转角度</a>。折叠屏相机前置和后置镜头角度以及需要设置的预览流旋转角度如下，折叠态和展开态下的相机参数一致。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><tbody><tr><th class="firstcol" id="mcps1.3.6.4.1.6.1.1" valign="top" width="17.62%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#属性" target="_blank">屏幕旋转角度（rotation）</a></p> </th> <td align="center" class="cellrowborder" valign="top" width="21.48%"><p>0(0度)</p> </td> <td align="center" class="cellrowborder" valign="top" width="19.939999999999998%"><p>1(90度)</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.68%"><p>2(180度)</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.28%"><p>3(270度)</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.6.4.1.6.2.1" valign="top" width="17.62%"><p>示意图</p> </th> <td align="center" class="cellrowborder" valign="top" width="21.48%"><p><span><img height="187.73966160000003" originheight="505" originwidth="467" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163302.03362527798268822972588258328992:50001231000000:2800:198BB6C0C02AE5707E24F36E62A6AA3C3394AD5743C783C2D439226DE2B22BE2.png" title="点击放大" width="173.616"></span></p> </td> <td align="center" class="cellrowborder" valign="top" width="19.939999999999998%"><p><span><img height="147.45272113561748" originheight="467" originwidth="505" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163302.91956304900829595225603805730664:50001231000000:2800:A5C22615F44C4404059ED1A6C21CF966279C5F640F2D0B05277CDDE06659B9F0.png" title="点击放大" width="159.44799999999998"></span></p> </td> <td align="center" class="cellrowborder" valign="top" width="20.68%"><p><span><img height="179.78092560000002" originheight="505" originwidth="467" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163302.75654483154297270287147759029374:50001231000000:2800:1D54703235A569B040D13F04BAA24E54C8AF4054E3DF337C16C05BB09417391D.png" title="点击放大" width="166.25599999999997"></span></p> </td> <td align="center" class="cellrowborder" valign="top" width="20.28%"><p><span><img height="150.34540158135664" originheight="467" originwidth="505" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163302.34562697578319388846296206050635:50001231000000:2800:1076C4858EA7EAF69E87FEE67995438E911AC10269E4148D2953183AEDA41171.png" title="点击放大" width="162.57600000000002"></span></p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.6.4.1.6.3.1" valign="top" width="17.62%"><p>后置相机镜头角度</p> </th> <td align="center" class="cellrowborder" valign="top" width="21.48%"><p>90度</p> </td> <td align="center" class="cellrowborder" valign="top" width="19.939999999999998%"><p>90度</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.68%"><p>90度</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.28%"><p>90度</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.6.4.1.6.4.1" valign="top" width="17.62%"><p>后置相机拍摄预览流旋转角度</p> </th> <td align="center" class="cellrowborder" valign="top" width="21.48%"><p>90度</p> </td> <td align="center" class="cellrowborder" valign="top" width="19.939999999999998%"><p>180度</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.68%"><p>270度</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.28%"><p>0度</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.6.4.1.6.5.1" valign="top" width="17.62%"><p>前置相机镜头角度</p> </th> <td align="center" class="cellrowborder" valign="top" width="21.48%"><p>270度</p> </td> <td align="center" class="cellrowborder" valign="top" width="19.939999999999998%"><p>270度</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.68%"><p>270度</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.28%"><p>270度</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.6.4.1.6.6.1" valign="top" width="17.62%"><p>前置相机拍摄预览流旋转角度</p> </th> <td align="center" class="cellrowborder" valign="top" width="21.48%"><p>270度</p> </td> <td align="center" class="cellrowborder" valign="top" width="19.939999999999998%"><p>0度</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.68%"><p>90度</p> </td> <td align="center" class="cellrowborder" valign="top" width="20.28%"><p>180度</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul><li>折叠屏后置相机安装角度为90°，前置相机安装角度为270°，和折叠状态无关。可通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#cameradevice" target="_blank">CameraDevice</a>接口获取相机安装角度cameraOrientation。</li><li>更多相机硬件差异和开发详情可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-camera" target="_blank">相机硬件差异</a>。</li></ul> </div></div></div> </div> <div class="tiledSection"><h3 id="section20810193310206">设备特有能力<i class="anchor-icon anchor-icon-link" anchorid="section20810193310206" tips="复制节点链接"></i></h3><p>折叠屏设备有着独特的折叠能力，在不同的折叠状态下有着不同的折叠属性，Mate X系列产品折叠状态和属性如下。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.3.1.5.1.1" valign="top" width="11.219999999999999%">&nbsp;&nbsp;</th> <th align="left" class="cellrowborder" id="mcps1.3.7.3.1.5.1.2" valign="top" width="21.52%"><p>折叠态</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.3.1.5.1.3" valign="top" width="32.58%"><p>悬停态</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.3.1.5.1.4" valign="top" width="34.68%"><p>展开态</p> </th> </tr> </thead> <tbody><tr><td align="center" class="cellrowborder" valign="top" width="11.219999999999999%"><p>效果图</p> </td> <td align="center" class="cellrowborder" valign="top" width="21.52%"><p><span><img height="349.53257438056056" originheight="673" originwidth="335" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163302.41137146417749923608863181227565:50001231000000:2800:F4160AA7DEF4D4155AB0C430859C3DFDC5826DBCFCCA6B855631A62BD1E72177.png" title="点击放大" width="173.98399999999998"></span></p> </td> <td align="center" class="cellrowborder" valign="top" width="32.58%"><p><span><img height="198.52991999999998" originheight="482" originwidth="668" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163302.50486305649673001306500102535937:50001231000000:2800:E5E7B769DF3C3455627C08FF7EE71D01C1B19CE4BEABEF6069B20BC403863B55.png" title="点击放大" width="275.736"></span></p> </td> <td align="center" class="cellrowborder" valign="top" width="34.68%"><p><span><img height="314.1650917028242" originheight="673" originwidth="631" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163302.76901395144729989039775762842382:50001231000000:2800:743293755C6D09CE4C3F40B20459D8B856A730BE2004E1AFE2A0DF4024DE53BA.png" title="点击放大" width="295.056"></span></p> </td> </tr> <tr><td align="center" class="cellrowborder" valign="top"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#displayisfoldable10" target="_blank">isFoldable</a></p> </td> <td align="center" class="cellrowborder" colspan="3" valign="top"><p>true</p> </td> </tr> <tr><td align="center" class="cellrowborder" valign="top" width="11.219999999999999%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#foldstatus10" target="_blank">FoldStatus</a></p> </td> <td align="center" class="cellrowborder" valign="top" width="21.52%"><p>FOLD_STATUS_FOLDED</p> </td> <td align="center" class="cellrowborder" valign="top" width="32.58%"><p>FOLD_STATUS_HALF_FOLDED</p> </td> <td align="center" class="cellrowborder" valign="top" width="34.68%"><p>FOLD_STATUS_EXPANDED</p> </td> </tr> <tr><td align="center" class="cellrowborder" valign="top" width="11.219999999999999%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#folddisplaymode10" target="_blank">FoldDisplayMode</a></p> </td> <td align="center" class="cellrowborder" valign="top" width="21.52%"><p>FOLD_DISPLAY_MODE_MAIN</p> </td> <td align="center" class="cellrowborder" valign="top" width="32.58%"><p>FOLD_DISPLAY_MODE_FULL</p> </td> <td align="center" class="cellrowborder" valign="top" width="34.68%"><p>FOLD_DISPLAY_MODE_FULL</p> </td> </tr>  </tbody></table></div> </div> <p>Pocket系列产品折叠状态属性如下。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.5.1.5.1.1" valign="top" width="11.3%">&nbsp;&nbsp;</th> <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.5.1.2" valign="top" width="25.779999999999998%"><p>折叠态</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.5.1.3" valign="top" width="28.22%"><p>悬停态</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.5.1.4" valign="top" width="34.699999999999996%"><p>展开态</p> </th> </tr> </thead> <tbody><tr><td align="center" class="cellrowborder" valign="top" width="11.3%"><p>效果图</p> </td> <td align="center" class="cellrowborder" valign="top" width="25.779999999999998%"><p><span><img height="276.78454921691144" originheight="644" originwidth="496" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163303.72653024987768357606519917048480:50001231000000:2800:DD2AE016DEEE68D29B1FBA5411370274018936EEAF3E643E010C7FA61A53A38A.png" title="点击放大" width="213.176"></span></p> </td> <td align="center" class="cellrowborder" valign="top" width="28.22%"><p><span><img height="374.82796757821376" originheight="692" originwidth="435" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163303.71749907753564876474525904419335:50001231000000:2800:1510C02B0B7E4E3B552059822A90AF786533A0DB033E80E61EDA077841F0CA47.png" title="点击放大" width="235.62399999999997"></span></p> </td> <td align="center" class="cellrowborder" valign="top" width="34.699999999999996%"><p><span><img height="547.0784434836318" originheight="706" originwidth="381" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163303.29972845950081783696572364284250:50001231000000:2800:06F97BA74AA3996D4A9A4C2B286609D274BE5BF73F5EF3225D19FE01A46345CC.png" title="点击放大" width="295.23999999999995"></span></p> </td> </tr> <tr><td align="center" class="cellrowborder" valign="top"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#displayisfoldable10" target="_blank">isFoldable</a></p> </td> <td align="center" class="cellrowborder" colspan="3" valign="top"><p>false</p> </td> </tr> <tr><td align="center" class="cellrowborder" valign="top" width="11.3%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#foldstatus10" target="_blank">FoldStatus</a></p> </td> <td align="center" class="cellrowborder" valign="top" width="25.779999999999998%"><p>FOLD_STATUS_FOLDED</p> </td> <td align="center" class="cellrowborder" valign="top" width="28.22%"><p>FOLD_STATUS_HALF_FOLDED</p> </td> <td align="center" class="cellrowborder" valign="top" width="34.699999999999996%"><p>FOLD_STATUS_EXPANDED</p> </td> </tr> <tr><td align="center" class="cellrowborder" valign="top" width="11.3%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#folddisplaymode10" target="_blank">FoldDisplayMode</a></p> </td> <td align="center" class="cellrowborder" valign="top" width="25.779999999999998%"><p>FOLD_DISPLAY_MODE_SUB</p> </td> <td align="center" class="cellrowborder" valign="top" width="28.22%"><p>FOLD_DISPLAY_MODE_MAIN</p> </td> <td align="center" class="cellrowborder" valign="top" width="34.699999999999996%"><p>FOLD_DISPLAY_MODE_MAIN</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul><li>Pocket系列产品isFoldable接口返回false，应用无法自定义外屏页面，不需要额外适配其它尺寸屏幕，本文后续折叠屏特性均以Mate X系列产品为例介绍。</li></ul> </div></div></div> </div> <div class="tiledSection"><h2 id="section1711663314290">体验标准<i class="anchor-icon anchor-icon-link" anchorid="section1711663314290" tips="复制节点链接"></i></h2></div> <p>应用体验建议分为功能与兼容性、稳定性、性能、功耗、安全和UX六个部分，详细信息如下所示。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.10.1.3.1.1" valign="top" width="27.169999999999998%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.1.3.1.2" valign="top" width="72.83%"><p>简介</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="27.169999999999998%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/experience-suggestions-compatibility" target="_blank">应用基础功能和兼容性体验建议</a></p> </td> <td class="cellrowborder" valign="top" width="72.83%"><p>应用与OS兼容、应用与设备兼容、应用升级兼容、功能体验相关等</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="27.169999999999998%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/experience-suggestions-stability" target="_blank">应用稳定性体验建议</a></p> </td> <td class="cellrowborder" valign="top" width="72.83%"><p>长时间运行故障率（崩溃、冻屏等）、长时间运行内存资源异常</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="27.169999999999998%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/performance-experience-suggestions" target="_blank">应用性能体验建议</a></p> </td> <td class="cellrowborder" valign="top" width="72.83%"><p>时延、帧率流畅体验和内存占用、CPU占用、线程数等资源占用约束</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="27.169999999999998%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-power-experience-standards" target="_blank">应用功耗体验建议</a></p> </td> <td class="cellrowborder" valign="top" width="72.83%"><p>后台任务使用、后台硬件器件资源/软件系统资源占用管控，分布式资源占用等</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="27.169999999999998%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/security-privacy-experience-standards" target="_blank">应用安全隐私体验建议</a></p> </td> <td class="cellrowborder" valign="top" width="72.83%"><p>基础安全、恶意软件、应用安全、隐私合规等</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="27.169999999999998%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/experience-suggestions-ux" target="_blank">应用UX体验建议</a></p> </td> <td class="cellrowborder" valign="top" width="72.83%"><p>设计规范、设计约束的符合性，UX精致体验要求等</p> </td> </tr>  </tbody></table></div> </div> <p>折叠屏设备主要在UX上有着特殊的适配体验和建议，下文主要介绍折叠屏的UX体验建议。</p> <div class="tiledSection"><h3 id="section20707105915314" class="firsth2">UX体验建议<i class="anchor-icon anchor-icon-link" anchorid="section20707105915314" tips="复制节点链接"></i></h3><p><strong>体验设计标准</strong></p> <p>折叠屏设备的三种形态分别为折叠态、展开态和悬停态。折叠态便于随身携带和单手操作，适合移动场景下的便捷使用；展开态能够充分展示应用内容，适合多任务处理和沉浸式体验；悬停态可稳定放置，让用户解放双手。详细的UX设计标准可参考<a href="https://developer.huawei.com/consumer/cn/doc/design-guides/foldable-0000002352875141" target="_blank">双折叠设计指南</a>和<a href="https://developer.huawei.com/consumer/cn/doc/design-guides/ux-guidelines-foldable-screen-0000001807866557" target="_blank">折叠屏应用UX体验标准</a>。折叠屏的主要体验标准如下：</p> <ul><li>响应式布局：随着屏幕状态的变化，界面中应用内容进行适配变化，常见的响应式布局的表现形式为：相对拉伸、相对缩放、延伸布局、挪移布局、重复布局、瀑布布局等。</li><li>多窗口交互：折叠屏设备因其大屏特性，具备多窗口适配的优势，例如分屏和悬浮窗。</li><li>开合连续性：应用在设备折叠/展开后不应出现操作步骤增加，操作更复杂等体验下降的情况。例如：如页面切换到其他页面、页面滚动位置发生偏移、输入内容丢失、图片模糊、播放进度变化。</li><li>开合流畅：设备在折叠/展开时，变化过程有连续动效，而不是硬切换。</li><li>悬停态适配：长视频、短视频、直播、通话、会议、拍摄类应用需针对折叠屏的悬停态进行单独适配。下半屏区域内可放置交互操作，上半屏区域内进行信息显示，呈现浏览型内容。交互型控件，例如弹出框、半模态，在下半屏显示；跟随上下文的控件，例如菜单，跟随触发元素所在侧的屏幕显示。</li><li>折痕避让：悬停态时，中间弯折区域难以操作且显示内容会变形。长视频、短视频、直播、通话、会议、拍摄类应用需针对折痕区域进行避让适配。</li></ul> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>不同尺寸屏幕下的页面布局应通过<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1532120147301" target="_blank">断点</a>进行划分和设计实现，页面布局的判断条件不推荐使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-resource-manager#devicetype" target="_blank">deviceType</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#displayisfoldable10" target="_blank">isFoldable</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#foldstatus10" target="_blank">foldStatus</a>接口，否则会导致不同屏幕尺寸折叠屏下的布局混乱问题。</p> </div></div></div> <p><strong>体验设计差异点</strong></p> <p>折叠屏设备主要设计差异点体现在折叠状态变化上，主要为开合连续和悬停态适配以及页面的响应式布局。开合连续需要确保应用状态在开合前后状态一致，可参考<a href="/consumer/cn/doc/best-practices/bpta-foldable-guide#section186893019118">适配应用界面开合连续</a>章节。悬停态需对上下半屏进行合理的布局和折痕避让，可参考<a href="/consumer/cn/doc/best-practices/bpta-foldable-guide#section1223242181220">适配设备悬停态</a>章节。折叠屏设备的显示尺寸会随着设备的开合而变化，应用能够响应这些变化自动调整布局，可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout" target="_blank">响应式布局</a>。</p> <p><strong>应用设计最佳实践</strong></p> <p>根据上述UX体验标准和设计差异点，各垂域应用可根据功能和场景特点进行折叠屏UX设计，例如影音娱乐类应用主要体验为沉浸式视频播放和互动，需要考虑不同折叠状态的沉浸式视频播放布局和交互设计。更多垂域设计信息和方案可参考<a href="https://developer.huawei.com/consumer/cn/doc/design-guides/practices-overview-0000001746498066" target="_blank">应用设计最佳实践</a>。</p> </div> <div class="tiledSection"><h2 id="section173243217915">工程管理<i class="anchor-icon anchor-icon-link" anchorid="section173243217915" tips="复制节点链接"></i></h2><p>在折叠屏设备上运行的应用，需要在module.json5配置文件的module字段中包含"phone"，新建工程默认包含该字段。更多详情可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#devicetypes标签" target="_blank">deviceTypes标签</a>。</p> </div> <div class="tiledSection"><h2 id="section1539912145618">窗口适配<i class="anchor-icon anchor-icon-link" anchorid="section1539912145618" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section1040165416447" class="firsth2">适配设备窗口模式<i class="anchor-icon anchor-icon-link" anchorid="section1040165416447" tips="复制节点链接"></i></h3><p>当前折叠屏设备支持的窗口模式有全屏窗口模式、分屏窗口模式以及悬浮窗口模式，各模式的详细信息见<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-window-mode" target="_blank">窗口模式</a>。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>分屏、悬浮窗窗口模式均默认已配置，开发者可以调整在module.json5配置文件中<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#abilities标签" target="_blank">abilities标签</a>下的supportWindowMode属性，设置需要的窗口能力。</p> </div></div></div> <p>折叠屏支持分屏窗口模式和悬浮窗口模式。分屏一般用于两个应用长时间并行使用的场景，例如边看购物攻略边购物的场景；应用也可以主动实现应用内分屏。折叠屏支持上下分屏和左右分屏，双折叠分屏窗口参数如下（以Mate X5为例）。具体适配方案和代码可见<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-window-mode#section579413164399" target="_blank">分屏窗口模式适配</a>。</p> <p><strong>折叠态分屏窗口参数</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.15.6.1.6.1.1" valign="top" width="17.160000000000004%"><p>分屏方式</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.6.1.2" valign="top" width="15.800000000000002%"><p>分屏比例</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.6.1.3" valign="top" width="20.8%"><p>旋转状态</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.6.1.4" valign="top" width="23.12%"><p>分屏窗口尺寸(vp)</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.6.1.5" valign="top" width="23.12%"><p>分屏窗口断点</p> </th> </tr> </thead> <tbody><tr><td align="left" class="cellrowborder" valign="top" width="17.160000000000004%"><p>左右分屏</p> </td> <td class="cellrowborder" valign="top" width="15.800000000000002%"><p>1:1</p> </td> <td class="cellrowborder" valign="top" width="20.8%"><p>横屏</p> </td> <td class="cellrowborder" valign="top" width="23.12%"><p>345 * 378</p> </td> <td class="cellrowborder" valign="top" width="23.12%"><p>横向断点sm，纵向断点md</p> </td> </tr> <tr><td align="left" class="cellrowborder" rowspan="3" valign="top" width="17.160000000000004%"><p>上下分屏</p> </td> <td class="cellrowborder" valign="top" width="15.800000000000002%"><p>1:1</p> </td> <td class="cellrowborder" rowspan="3" valign="top" width="20.8%"><p>竖屏</p> </td> <td class="cellrowborder" valign="top" width="23.12%"><p>378 * 345</p> </td> <td class="cellrowborder" valign="top" width="23.12%"><p>横向断点sm，纵向断点md</p> </td> </tr> <tr><td class="cellrowborder" valign="top"><p>2:1</p> </td> <td class="cellrowborder" valign="top"><p>504 * 345</p> </td> <td class="cellrowborder" valign="top"><p>横向断点sm，纵向断点lg</p> </td> </tr> <tr><td class="cellrowborder" valign="top"><p>1:2</p> </td> <td class="cellrowborder" valign="top"><p>252 * 345</p> </td> <td class="cellrowborder" valign="top"><p>横向断点sm，纵向断点sm</p> </td> </tr>  </tbody></table></div> </div> <p><strong>展开态分屏窗口参数</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.15.8.1.6.1.1" valign="top" width="17.160000000000004%"><p>分屏方式</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.6.1.2" valign="top" width="15.800000000000002%"><p>分屏比例</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.6.1.3" valign="top" width="20.8%"><p>旋转状态</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.6.1.4" valign="top" width="23.12%"><p>分屏窗口尺寸(vp)</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.6.1.5" valign="top" width="23.12%"><p>分屏窗口断点</p> </th> </tr> </thead> <tbody><tr><td align="left" class="cellrowborder" rowspan="2" valign="top" width="17.160000000000004%"><p>左右分屏</p> </td> <td class="cellrowborder" rowspan="2" valign="top" width="15.800000000000002%"><p>1:1</p> </td> <td class="cellrowborder" valign="top" width="20.8%"><p>竖屏</p> </td> <td class="cellrowborder" valign="top" width="23.12%"><p>798 * 352</p> </td> <td class="cellrowborder" valign="top" width="23.12%"><p>横向断点sm，纵向断点lg</p> </td> </tr> <tr><td class="cellrowborder" valign="top"><p>横屏</p> </td> <td class="cellrowborder" valign="top"><p>711 * 395</p> </td> <td class="cellrowborder" valign="top"><p>横向断点sm，纵向断点lg</p> </td> </tr> <tr><td align="left" class="cellrowborder" rowspan="2" valign="top" width="17.160000000000004%"><p>上下分屏</p> </td> <td class="cellrowborder" rowspan="2" valign="top" width="15.800000000000002%"><p>1:1</p> </td> <td class="cellrowborder" valign="top" width="20.8%"><p>竖屏</p> </td> <td class="cellrowborder" valign="top" width="23.12%"><p>376 * 711</p> </td> <td class="cellrowborder" valign="top" width="23.12%"><p>横向断点md，纵向断点sm</p> </td> </tr> <tr><td class="cellrowborder" valign="top"><p>横屏</p> </td> <td class="cellrowborder" valign="top"><p>333 * 798</p> </td> <td class="cellrowborder" valign="top"><p>横向断点md，纵向断点sm</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul><li>折叠态下，左右分屏仅支持横屏，上下分屏仅支持竖屏。左右分屏仅支持1:1分屏。</li><li>展开态下，设备仅支持1:1分屏。</li></ul> </div></div></div> <p><span><img height="270.3225" originheight="3351" originwidth="6480" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163303.95465156393849631744086719053580:50001231000000:2800:6BFC65C51A0BC9DE3FB86F90233238306F2CAB2A1380631A167C3374DB5666C1.png" title="点击放大" width="523.6875"></span></p> <p>悬浮窗一般用于阅读新闻资讯、购物等场景，应用可根据需要在折叠屏上实现竖向悬浮窗和横向悬浮窗，双折叠悬浮窗口参数如下（以Mate X5为例）。应用界面适配悬浮窗可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-window-mode#section8433735123611" target="_blank">悬浮窗口模式适配</a>。</p> <p><strong>折叠态悬浮窗参数</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.15.13.1.4.1.1" valign="top" width="27.06729327067293%"><p>悬浮窗类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.13.1.4.1.2" valign="top" width="36.46635336466353%"><p>悬浮窗口尺寸(vp)</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.13.1.4.1.3" valign="top" width="36.46635336466353%"><p>悬浮窗口断点</p> </th> </tr> </thead> <tbody><tr><td align="left" class="cellrowborder" valign="top" width="27.06729327067293%"><p>纵向悬浮窗</p> </td> <td class="cellrowborder" valign="top" width="36.46635336466353%"><p>567 * 345</p> </td> <td class="cellrowborder" valign="top" width="36.46635336466353%"><p>横向断点sm，纵向断点lg</p> </td> </tr> <tr><td align="left" class="cellrowborder" valign="top" width="27.06729327067293%"><p>横向悬浮窗</p> </td> <td class="cellrowborder" valign="top" width="36.46635336466353%"><p>194 * 345</p> </td> <td class="cellrowborder" valign="top" width="36.46635336466353%"><p>横向断点sm，纵向断点sm</p> </td> </tr>  </tbody></table></div> </div> <p><strong>展开态悬浮窗参数</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.15.15.1.4.1.1" valign="top" width="27.06729327067293%"><p>悬浮窗类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.15.1.4.1.2" valign="top" width="36.46635336466353%"><p>悬浮窗口尺寸(vp)</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.15.1.4.1.3" valign="top" width="36.46635336466353%"><p>悬浮窗口断点</p> </th> </tr> </thead> <tbody><tr><td align="left" class="cellrowborder" valign="top" width="27.06729327067293%"><p>纵向悬浮窗</p> </td> <td class="cellrowborder" valign="top" width="36.46635336466353%"><p>648 * 345</p> </td> <td class="cellrowborder" valign="top" width="36.46635336466353%"><p>横向断点sm，纵向断点lg</p> </td> </tr> <tr><td align="left" class="cellrowborder" valign="top" width="27.06729327067293%"><p>横向悬浮窗</p> </td> <td class="cellrowborder" valign="top" width="36.46635336466353%"><p>194 * 345</p> </td> <td class="cellrowborder" valign="top" width="36.46635336466353%"><p>横向断点sm，纵向断点sm</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>设备在不同旋转状态下悬浮窗参数一致。</p> </div></div></div> <p><span><img height="281.295" originheight="2100" originwidth="3906" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163303.55364830265890851890282709288848:50001231000000:2800:04049DCCF1827AAEBDD81DE9D0224AC33D8F95E506837DB930AB6279FD2F8791.png" title="点击放大" width="523.6875"></span></p> </div> <div class="tiledSection"><h3 id="section11419410457">适配设备显示方向<i class="anchor-icon anchor-icon-link" anchorid="section11419410457" tips="复制节点链接"></i></h3><p>可以通过设置窗口旋转策略（<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#orientation9" target="_blank">orientation</a>）的方式控制应用的显示方向。窗口旋转策略（orientation）与屏幕旋转角度的关系请参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-window-direction#section11774145414383" target="_blank">窗口的Orientation和屏幕rotation的关系</a>。折叠屏开发的横竖屏旋转策略以及适配方案可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-window-direction" target="_blank">窗口方向</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><tbody><tr><th class="firstcol" id="mcps1.3.16.3.1.6.1.1" valign="top" width="11.52%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#属性" target="_blank">屏幕旋转角度（rotation）</a></p> </th> <td align="center" class="cellrowborder" valign="top" width="21.86%"><p>0(0度)</p> </td> <td align="center" class="cellrowborder" valign="top" width="24.610000000000003%"><p>1(90度)</p> </td> <td align="center" class="cellrowborder" valign="top" width="22.41%"><p>2(180度)</p> </td> <td align="center" class="cellrowborder" valign="top" width="19.6%"><p>3(270度)</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.16.3.1.6.2.1" valign="top" width="11.52%"><p>旋转状态</p> </th> <td align="center" class="cellrowborder" valign="top" width="21.86%"><p><span><img height="191.52006120000004" originheight="505" originwidth="467" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163303.20823630946824397187162037411965:50001231000000:2800:337A0168B249CE1646709A007DE3C3E3A6CF2F7BB0AE92D56007C55B8C712129.png" title="点击放大" width="177.112"></span></p> </td> <td align="center" class="cellrowborder" valign="top" width="24.610000000000003%"><p><span><img height="187.18453784621076" originheight="467" originwidth="505" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163304.17469274083536754690494362360695:50001231000000:2800:482DE42A477105798159F2815945ADE9D4EC22646AF47AC8B908D26B25E3CC67.png" title="点击放大" width="202.41200000000003"></span></p> </td> <td align="center" class="cellrowborder" valign="top" width="22.41%"><p><span><img height="196.99169220000002" originheight="505" originwidth="467" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163304.67601404164982584872458238028259:50001231000000:2800:B0525A69ED9A5FF0583A1C7E5BDD860789D5A874106B042AD43A187C02784F30.png" title="点击放大" width="182.172"></span></p> </td> <td align="center" class="cellrowborder" valign="top" width="19.6%"><p><span><img height="144.56004068987835" originheight="467" originwidth="505" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163304.92948451646891251128970057553364:50001231000000:2800:2467BB81C0BBF9E1FE16AE682160406CEBD896822E16E4AE8DE57671B10912A4.png" title="点击放大" width="156.32"></span></p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.16.3.1.6.3.1" valign="top" width="11.52%"><p>窗口旋转策略(Orientation)</p> </th> <td align="center" class="cellrowborder" valign="top" width="21.86%"><p>自动旋转AUTO_ROTATION</p> </td> <td align="center" class="cellrowborder" valign="top" width="24.610000000000003%"><p>自动旋转AUTO_ROTATION</p> </td> <td align="center" class="cellrowborder" valign="top" width="22.41%"><p>自动旋转AUTO_ROTATION</p> </td> <td align="center" class="cellrowborder" valign="top" width="19.6%"><p>自动旋转AUTO_ROTATION</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul><li>表格中的参数表示<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#属性" target="_blank">屏幕属性</a>中顺时针旋转角度（rotation）对应的窗口旋转策略。</li></ul> </div></div></div> <p>建议双折叠展开态界面支持横竖屏旋转，展开态界面有足够的空间来适应变化前后的横竖屏布局，无论横屏还是竖屏，窗口均有足够的显示区域，具体适配逻辑可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-window-direction#section16257518182319" target="_blank">兼容多设备上的旋转策略</a>。</p> <p><span><img height="261.345" originheight="2160" originwidth="4320" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163304.05145521787206336559349281210360:50001231000000:2800:8C6849280F274394CB1D020E141B8AC693608C5098462B375E6EC4F561DE4AF7.png" title="点击放大" width="523.6875"></span></p> <p>双折叠推荐的旋转逻辑如下。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.1" valign="top" width="9.84%"><p>折叠状态</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.2" valign="top" width="19.34%"><p>窗口全屏时尺寸（vp）</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.3" valign="top" width="33.269999999999996%"><p>是否支持横竖屏旋转（以348vp为阈值）</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.4" valign="top" width="37.55%"><p>系统是否默认支持横竖屏旋转</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="9.84%"><p>折叠态</p> </td> <td class="cellrowborder" valign="top" width="19.34%"><p>801 * 345</p> </td> <td class="cellrowborder" valign="top" width="33.269999999999996%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="37.55%"><p>否</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="9.84%"><p>展开态</p> </td> <td class="cellrowborder" valign="top" width="19.34%"><p>798 * 711</p> </td> <td class="cellrowborder" valign="top" width="33.269999999999996%"><p>是</p> </td> <td class="cellrowborder" valign="top" width="37.55%"><p>否</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="section12981117457">适配设备沉浸式<i class="anchor-icon anchor-icon-link" anchorid="section12981117457" tips="复制节点链接"></i></h3><p><strong>建议适配不同窗口模式的沉浸式</strong></p> <p>折叠屏支持的三种窗口模式：全屏、分屏、悬浮窗。应用可根据支持的窗口模式进行沉浸式适配，详情可参考窗口沉浸式的<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-window-immersive#section14198114410189" target="_blank">支持不同窗口模式</a>章节。</p> <p><span><img height="315.21000000000004" originheight="2100" originwidth="3488" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163304.28526321095886193828930429105224:50001231000000:2800:A2391E81DE329397B4730002C7F7C9A99265C9484334FEB1BE1241193956FC7C.png" title="点击放大" width="523.6875"></span></p> <p>注意在折叠屏全屏模式下，除顶部状态栏和底部导航栏需避让外，两侧在折叠态下避让16vp，展开态下避让24vp。</p> <p><span><img height="341.14500000000004" originheight="1134" originwidth="1740" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163304.93865178983464175776462117037586:50001231000000:2800:975B0DF8AE7D1A5909367675F6B298E7F27765B25D2805D9E06C318D6630B8B3.png" title="点击放大" width="523.6875"></span></p> <p><strong>建议适配不同窗口方向的沉浸式</strong></p> <p>折叠屏在折叠态和展开态时避让区（例如挖孔区）不一样，在不同旋转状态下避让区也会变化。窗口方向的变化引起避让区的变化的适配方案可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-window-immersive#section19755816161920" target="_blank">支持不同窗口方向</a>。</p> <p><span><img height="261.345" originheight="2160" originwidth="4320" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163304.50580589153925965559413606519837:50001231000000:2800:794260E631ACBA7F731EB966BE79D4CF56D2604F5C4090B841CFA2BC4728B04F.png" title="点击放大" width="523.6875"></span></p> </div> <div class="tiledSection"><h2 id="section15248485296">界面开发<i class="anchor-icon anchor-icon-link" anchorid="section15248485296" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section125751424144716" class="firsth2">典型布局场景<i class="anchor-icon anchor-icon-link" anchorid="section125751424144716" tips="复制节点链接"></i></h3><p>折叠屏上典型的响应式布局方式有分栏布局、重复布局、挪移布局和缩进布局。应用可以利用不同的UI组件和断点来实现多样的布局，从而打造丰富的布局场景。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.19.3.1.6.1.1" valign="top" width="9.610000000000001%"><p>响应式布局方式</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.3.1.6.1.2" valign="top" width="9.85%"><p>典型布局场景</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.3.1.6.1.3" valign="top" width="17.65%"><p>实现方案</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.3.1.6.1.4" valign="top" width="23.44%"><p>折叠态效果</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.3.1.6.1.5" valign="top" width="39.45%"><p>展开态效果</p> </th> </tr> </thead> <tbody><tr><td align="center" class="cellrowborder" rowspan="4" valign="top" width="9.610000000000001%"><p>重复布局</p> </td> <td class="cellrowborder" valign="top" width="9.85%"><p><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout#section122004555383" target="_blank">列表布局</a></p> </td> <td class="cellrowborder" valign="top" width="17.65%"><p>List组件+断点</p> </td> <td align="center" class="cellrowborder" valign="top" width="23.44%"><p><span><img height="395.70520800000014" originheight="2258" originwidth="1093" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163305.12167436634794825362457452576041:50001231000000:2800:1956122455523F14BBF03BBF6B0702378ACB302198CB72759F924614CD67CA25.png" title="点击放大" width="191.64800000000002"></span></p> </td> <td align="center" class="cellrowborder" valign="top" width="39.45%"><p><span><img height="377.67331" originheight="2425" originwidth="2176" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163305.06756693529254392920118806146152:50001231000000:2800:4677487F221D973BC90FD6E187FF1C0D87D7A8FC2AB84677314EB13F6A90DC86.png" title="点击放大" width="338.94"></span></p> </td> </tr> <tr><td class="cellrowborder" valign="top"><p><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout#section4502451713" target="_blank">瀑布流布局</a></p> </td> <td class="cellrowborder" valign="top"><p>WaterFlow组件+断点</p> </td> <td align="center" class="cellrowborder" valign="top"><p><span><img height="285.720105" originheight="2258" originwidth="1093" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163305.26788821518111599724429448846026:50001231000000:2800:EBB596403D92BB7EBA5CF30937BEDDCD32CC98F4FDB63BC2189B937B2BB4F980.png" title="点击放大" width="138.38"></span></p> </td> <td align="center" class="cellrowborder" valign="top"><p><span><img height="213.5491075555556" originheight="2425" originwidth="2176" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163305.54836313685928876238466733684832:50001231000000:2800:481E4DEA9C4DAD6B0F0CD56F189D43F1CFEAD57C88E3DF08B434C71DDE13F55F.png" title="点击放大" width="191.64800000000002"></span></p> </td> </tr> <tr><td class="cellrowborder" valign="top"><p><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout#section17659141914012" target="_blank">轮播布局</a></p> </td> <td class="cellrowborder" valign="top"><p>Swiper组件+断点</p> </td> <td align="center" class="cellrowborder" valign="top"><p><span><img height="285.720105" originheight="2258" originwidth="1093" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163305.40479700967437091220482283286801:50001231000000:2800:E2B4D9E6DC64407CDF974D36557F622E3398B96618F90EA069E516783BAE6C97.png" title="点击放大" width="138.38"></span></p> </td> <td align="center" class="cellrowborder" valign="top"><p><span><img height="213.5491075555556" originheight="2425" originwidth="2176" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163305.18054916224050471757039029471195:50001231000000:2800:3F8484BA0012DD1F959A5109809CF0FBE64EFF7DB24C301D8AA5A7069DA01087.png" title="点击放大" width="191.64800000000002"></span></p> </td> </tr> <tr><td class="cellrowborder" valign="top"><p><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout#section1373617413916" target="_blank">网格布局</a></p> </td> <td class="cellrowborder" valign="top"><p>Grid组件+断点</p> </td> <td align="center" class="cellrowborder" valign="top"><p><span><img height="285.720105" originheight="2258" originwidth="1093" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163305.43780044814031119622098202368075:50001231000000:2800:D99C1E2FA530A3E69F05926852AD227EB49CCAD6C7B4F1F3576731B7E4D0B05F.png" title="点击放大" width="138.38"></span></p> </td> <td align="center" class="cellrowborder" valign="top"><p><span><img height="213.5491075555556" originheight="2425" originwidth="2176" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163306.69801329586137417150298878549170:50001231000000:2800:8800B527E93B6CC9BD8422658B1B4C282A88E1B66C80367A72F55C94E5BC041C.png" title="点击放大" width="191.64800000000002"></span></p> </td> </tr> <tr><td align="center" class="cellrowborder" rowspan="3" valign="top" width="9.610000000000001%"><p>分栏布局</p> </td> <td class="cellrowborder" valign="top" width="9.85%"><p><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout#section10393142415418" target="_blank">侧边栏</a></p> </td> <td class="cellrowborder" valign="top" width="17.65%"><p>SideBarContainer组件+断点</p> </td> <td align="center" class="cellrowborder" valign="top" width="23.44%"><p><span><img height="395.9160208000001" originheight="2258" originwidth="1093" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163306.66944683156770038301267842826485:50001231000000:2800:7A07A908B73B41ED673F087A99A048060B2F3A87B0B6791B4BEAE0AB99B2BF0D.png" title="点击放大" width="191.64800000000002"></span><span><img height="395.9160208000001" originheight="2258" originwidth="1093" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163306.72384075086731103618651461925578:50001231000000:2800:F437086B5C960413D29BABB8B0C5203E0168C1CA0DBAC6A7279DC7B515C8D1C7.png" title="点击放大" width="191.64800000000002"></span></p> </td> <td align="center" class="cellrowborder" valign="top" width="39.45%"><p><span><img height="377.720385" originheight="2425" originwidth="2176" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163306.49192646557623345985872640004383:50001231000000:2800:0446889E45F8DE350D014DFDD42CE62D9934FEEAAA979F11884F4F55BAB46748.png" title="点击放大" width="338.94"></span></p> </td> </tr> <tr><td class="cellrowborder" valign="top"><p><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout#section631723412132" target="_blank">单/双栏</a></p> </td> <td class="cellrowborder" valign="top"><p>Navigation组件+断点</p> </td> <td align="center" class="cellrowborder" valign="top"><p><span><img height="285.872323" originheight="2258" originwidth="1093" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163306.45862382728686777762379850608541:50001231000000:2800:8B340AFD3838F105F52D506E18259F4973EC238C9FE3F13CAC396ECC4140FE97.png" title="点击放大" width="138.38"></span><span><img height="285.872323" originheight="2258" originwidth="1093" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163306.21941778060814207795013241422492:50001231000000:2800:602D634614DA4996BDD72D76D287332B1535F1DA341ADB938CAC9421E4EAD000.png" title="点击放大" width="138.38"></span></p> </td> <td align="center" class="cellrowborder" valign="top"><p><span><img height="213.57572533333337" originheight="2425" originwidth="2176" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163306.82560553693327546954206435528023:50001231000000:2800:657900EBB9C7EBCBB88010F391741C86302FF60B9708AE62E7FFD54875E2CA08.png" title="点击放大" width="191.64800000000002"></span></p> </td> </tr> <tr><td class="cellrowborder" valign="top"><p><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout#section5436540101314" target="_blank">三分栏</a></p> </td> <td class="cellrowborder" valign="top"><p>SideBarContainer组件+Navigation组件+断点</p> </td> <td align="center" class="cellrowborder" valign="top"><p><span><img height="285.872323" originheight="2258" originwidth="1093" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163306.58594284220183198909147473032509:50001231000000:2800:ACEA5E8D2EBDC8C59A53B9EB08745E8E585437EE4322E25967C120B263C39A7D.png" title="点击放大" width="138.38"></span><span><img height="285.872323" originheight="2258" originwidth="1093" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163306.26250288145077067163446788416842:50001231000000:2800:F167333FA9D0AE61AE180E81E8CD8A1338A7E2DD326A61B9827B0FEF6D5709F2.png" title="点击放大" width="138.38"></span><span><img height="285.872323" originheight="2258" originwidth="1093" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163307.78822930332616774111151534418706:50001231000000:2800:A482E8FDB083B04455788DC14CBE9B344D0FCBC007B3D44A26347371367B7457.png" title="点击放大" width="138.38"></span></p> </td> <td align="center" class="cellrowborder" valign="top"><p><span><img height="213.57572533333337" originheight="2425" originwidth="2176" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163307.20535055798870894607517169673463:50001231000000:2800:6D82B908F5B1292510FB5D3EA877F3D91E6C4DEF81DEF9450201EDA4E68F637A.png" title="点击放大" width="191.64800000000002"></span><span><img height="213.57572533333337" originheight="2425" originwidth="2176" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163307.00524675711857499625087795106158:50001231000000:2800:E4F3CC0AFAAA4527595888A4CA388018FD32515C24C1F25C0674C531F6379AD2.png" title="点击放大" width="191.64800000000002"></span></p> </td> </tr> <tr><td align="center" class="cellrowborder" rowspan="2" valign="top" width="9.610000000000001%"><p>挪移布局</p> </td> <td class="cellrowborder" valign="top" width="9.85%"><p><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout#section12847170175118" target="_blank">插图和文字组合布局</a></p> </td> <td class="cellrowborder" valign="top" width="17.65%"><p>GridRow/GridCol组件+断点+栅格</p> </td> <td align="center" class="cellrowborder" valign="top" width="23.44%"><p><span><img height="395.9160208000001" originheight="2258" originwidth="1093" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163307.28160449944466896882183818020062:50001231000000:2800:CDE1BC98CCF47806E83F93AF5D4C045E2DE228F51FB80373A5B055DD76D59862.png" title="点击放大" width="191.64800000000002"></span></p> </td> <td align="center" class="cellrowborder" valign="top" width="39.45%"><p><span><img height="377.720385" originheight="2425" originwidth="2176" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163307.07688347382115897104378748265543:50001231000000:2800:059008A59E3A849E1CC2889CB8ACA5C0F167DFF021325C1A1EFC2D9FF1034862.png" title="点击放大" width="338.94"></span></p> </td> </tr> <tr><td class="cellrowborder" valign="top"><p><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout#section498443175014" target="_blank">底部/侧边导航</a></p> </td> <td class="cellrowborder" valign="top"><p>Tabs组件+断点</p> </td> <td align="center" class="cellrowborder" valign="top"><p><span><img height="285.872323" originheight="2258" originwidth="1093" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163307.62686640316454144047105919748476:50001231000000:2800:13A54A8A4358B134F3F1D381B3B9FC00A59C731A5D12A3366E6360DB55BC5AA4.png" title="点击放大" width="138.38"></span></p> </td> <td align="center" class="cellrowborder" valign="top"><p><span><img height="213.57808311977718" originheight="2425" originwidth="2176" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163307.73676003359439801935530264685066:50001231000000:2800:EF0EBB15B34A415FD64B85CBEF1BBF3540A3A885BB4BE3AECA744ADF19CB4A6D.png" title="点击放大" width="191.64800000000002"></span></p> </td> </tr> <tr><td align="center" class="cellrowborder" valign="top" width="9.610000000000001%"><p>缩进布局</p> </td> <td class="cellrowborder" valign="top" width="9.85%"><p><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout#section1182411101519" target="_blank">单列列表布局</a></p> </td> <td class="cellrowborder" valign="top" width="17.65%"><p>GridRow/GridCol组件+断点+栅格</p> </td> <td align="center" class="cellrowborder" valign="top" width="23.44%"><p><span><img height="395.9160208000001" originheight="2258" originwidth="1093" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163307.55627266396823328968628411314844:50001231000000:2800:FDF3F1BEF45334FFB35241D68BCBAF748C8BE1F4D4277C3EA8F682DA6B46C105.png" title="点击放大" width="191.64800000000002"></span></p> </td> <td align="center" class="cellrowborder" valign="top" width="39.45%"><p><span><img height="377.720385" originheight="2425" originwidth="2176" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163307.89187851863487634167709467198998:50001231000000:2800:26BB8FCB265CCA75D566F5D80F8AA8576434BF794FC55BD4BD41A8CDC05410A7.png" title="点击放大" width="338.94"></span></p> </td> </tr>  </tbody></table></div> </div> <p>上述典型布局场景的实现方式可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout" target="_blank">页面布局场景</a>。复杂的分栏布局，例如单双栏形态变化时的路由跳转，可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout#section11897247142110" target="_blank">分栏布局</a>。</p> </div> <div class="tiledSection"><h3 id="section65421151174120">大方形屏适配建议<i class="anchor-icon anchor-icon-link" anchorid="section65421151174120" tips="复制节点链接"></i></h3><p>双折叠展开态纵向断点为md，屏幕比例近似1：1，呈现出对称且均衡的视觉效果，横向分辨率超过 600vp，是典型的大方形屏。大方形屏非常适合多任务处理、内容分屏展示以及创作类应用，能够显著提升用户的操作效率与交互体验。大方形屏的布局设计与实现可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-screen-layout#section12921201325714" target="_blank">大方形屏</a>。</p> <p><span><img height="534.4339" originheight="1574" originwidth="1410" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163308.20563043614561544680305046303360:50001231000000:2800:9C5B905F6652896C1E1C2D16E82FFA0BD789368D47F202CFD672CC88C3BA26B3.png" title="点击放大" width="478.8"></span></p> </div> <div class="tiledSection"><h3 id="section1223242181220">适配设备悬停态<i class="anchor-icon anchor-icon-link" anchorid="section1223242181220" tips="复制节点链接"></i></h3><p>折叠屏的悬停态可以在桌面平稳放置，实现免手持体验，常用于视频通话、播放视频、拍照和听歌等不需要频繁交互的场景。这种状态下，应用需要对中间折痕区域进行避让，并且对上下两个界面进行悬停适配，重新布局。悬停态的实现方案可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-folded-hover" target="_blank">折叠屏悬停态</a>。</p> <p><span><img height="386.35170000000005" originheight="1924" originwidth="3974" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163308.19377173586270500432601683796194:50001231000000:2800:0411C731E409257B6562D92CC7C2CA816DC1FC4A54F1F43AB80EB959F86DAB27.png" title="点击放大" width="798"></span></p> </div> <div class="tiledSection"><h3 id="section186893019118">适配应用界面开合连续<i class="anchor-icon anchor-icon-link" anchorid="section186893019118" tips="复制节点链接"></i></h3><p>开合连续指应用在各种屏幕和窗口状态间切换时页面内容连续，切换之前的任务和相关状态能保存、延续，或能够快速恢复，给用户提供连续的体验。主要标准有页面不发生改变和焦点不发生偏移，具体可参考<a href="https://developer.huawei.com/consumer/cn/doc/design-guides/foldable-0000002352875141#section5560057912" target="_blank">折叠屏开合接续UX设计指南</a>。应用页面和功能相关的开合连续能力建议使用断点实现，并通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#onwindowsizechange7" target="_blank">window.on('windowSizeChange')</a>接口监听。</p> <p>display提供了折叠状态监听的接口，这些接口建议使用在某些应用功能的适配上，比如<a href="/consumer/cn/doc/best-practices/bpta-foldable-guide#section1223242181220">悬停态</a>、<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-camera#section882216138497" target="_blank">设置相机开合前后预览画面</a>，但不能用于页面布局的开合连续适配。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul><li><strong>不推荐使用折叠状态监听接口实现页面布局的响应式布局和接续，避免在窗口变化但折叠状态未改变的场景下布局未能及时调整，出现页面异常。</strong></li><li>在折叠屏开合过程中，各种监听回调的触发时序如下。<ul><li>展开态-&gt;折叠态：foldStatusChange(悬停态) -&gt;  foldStatusChange(折叠态) -&gt; foldDisplayModeChange -&gt; windowSizeChange</li><li>折叠态-&gt;展开态：foldStatusChange(悬停态) -&gt; foldDisplayModeChange -&gt; windowSizeChange -&gt;  foldStatusChange(展开态)</li></ul> </li></ul> </div></div></div> <p>常见的接口汇总如下。</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.22.6.1.3.1.1" valign="top" width="49.97%"><p>API</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.3.1.2" valign="top" width="50.029999999999994%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="49.97%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#getwindowwidthbreakpoint13" target="_blank">getWindowWidthBreakpoint</a></p> </td> <td class="cellrowborder" valign="top" width="50.029999999999994%"><p>获取当前实例所在窗口的宽度断点</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="49.97%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#getwindowheightbreakpoint13" target="_blank">getWindowHeightBreakpoint</a></p> </td> <td class="cellrowborder" valign="top" width="50.029999999999994%"><p>获取当前实例所在窗口的高度断点</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="49.97%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#onwindowsizechange7" target="_blank">window.on('windowSizeChange')</a></p> </td> <td class="cellrowborder" valign="top" width="50.029999999999994%"><p>开启窗口尺寸变化的监听</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="49.97%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#offwindowsizechange7" target="_blank">window.off('windowSizeChange')</a></p> </td> <td class="cellrowborder" valign="top" width="50.029999999999994%"><p>关闭窗口尺寸变化的监听</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="49.97%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#displayisfoldable10" target="_blank">display.isFoldable</a></p> </td> <td class="cellrowborder" valign="top" width="50.029999999999994%"><p>检查设备是否可折叠</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="49.97%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#displaygetcurrentfoldcreaseregion10" target="_blank">display.getCurrentFoldCreaseRegion</a></p> </td> <td class="cellrowborder" valign="top" width="50.029999999999994%"><p>在当前模式下获取折叠折痕区域</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="49.97%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#displaygetfoldstatus10" target="_blank">display.getFoldStatus</a></p> </td> <td class="cellrowborder" valign="top" width="50.029999999999994%"><p>获取可折叠设备的当前折叠状态</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="49.97%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#displaygetfolddisplaymode10" target="_blank">display.getFoldDisplayMode</a></p> </td> <td class="cellrowborder" valign="top" width="50.029999999999994%"><p>获取可折叠设备的显示模式</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="49.97%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#displayonfoldstatuschange10" target="_blank">display.on('foldStatusChange')</a></p> </td> <td class="cellrowborder" valign="top" width="50.029999999999994%"><p>开启折叠设备折叠状态变化的监听</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="49.97%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#displayofffoldstatuschange10" target="_blank">display.off('foldStatusChange')</a></p> </td> <td class="cellrowborder" valign="top" width="50.029999999999994%"><p>关闭折叠设备折叠状态变化的监听</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="49.97%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#displayonfolddisplaymodechange10" target="_blank">display.on('foldDisplayModeChange')</a></p> </td> <td class="cellrowborder" valign="top" width="50.029999999999994%"><p>开启折叠设备屏幕显示模式变化的监听</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="49.97%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#displayofffolddisplaymodechange10" target="_blank">display.off('foldDisplayModeChange')</a></p> </td> <td class="cellrowborder" valign="top" width="50.029999999999994%"><p>关闭折叠设备屏幕显示模式变化的监听</p> </td> </tr>  </tbody></table></div> </div> <p><strong>开合页面后刷新UI布局效果</strong></p> <p>折叠屏开合状态变化时会伴随着窗口尺寸的变化，可通过注册on('windowSizeChange')事件监听器来捕获窗口尺寸变化，在回调函数中重新计算当前断点，通过断点变化更新UI布局，确保界面始终与当前窗口尺寸保持同步。这一机制能够有效处理设备展开/折叠、分屏模式切换以及屏幕旋转等多种场景下的界面适配需求，为用户提供流畅的折叠屏使用体验。</p> <div class="screenLinkPre"><div _ngcontent-mwf-c106="" class="highlight-div"><div _ngcontent-mwf-c106="" class="highlight-div-header"><div _ngcontent-mwf-c106="" class="highlight-div-header-left"><div _ngcontent-mwf-c106="" class="handle-button expand-button"><div _ngcontent-mwf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mwf-c106="" class="highlight-div-header-right"><div _ngcontent-mwf-c106="" class="handle-button ai-button"></div><div _ngcontent-mwf-c106="" class="handle-button line-button"><div _ngcontent-mwf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mwf-c106="" class="handle-button theme-button"><div _ngcontent-mwf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mwf-c106="" class="handle-button copy-button"><div _ngcontent-mwf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mwf-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" codehub="https://gitee.com/harmonyos_samples/SmallWindowScene/blob/master/entry/src/main/ets/entryability/EntryAbility.ets#L36-L39" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">private</span> <span class="hljs-attr">onWindowSizeChange</span>: <span class="hljs-function">(<span class="hljs-params">windowSize: <span class="hljs-variable language_">window</span>.Size</span>) =&gt;</span> <span class="hljs-built_in">void</span> = <span class="hljs-function">(<span class="hljs-params">windowSize: <span class="hljs-variable language_">window</span>.Size</span>) =&gt;</span> {</li><li>  <span class="hljs-title class_">AppStorage</span>.<span class="hljs-title function_">setOrCreate</span>(<span class="hljs-string">'currentWidthBreakpoint'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>!.<span class="hljs-title function_">getWindowWidthBreakpoint</span>());</li><li>  <span class="hljs-title class_">AppStorage</span>.<span class="hljs-title function_">setOrCreate</span>(<span class="hljs-string">'currentHeightBreakpoint'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>!.<span class="hljs-title function_">getWindowHeightBreakpoint</span>());</li><li>};</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/SmallWindowScene/blob/master/entry/src/main/ets/entryability/EntryAbility.ets#L36-L39" target="_blank">EntryAbility.ets</a></div></div></div></div> <p>触发断点变化回调后，需要通过断点更新UI布局实现折叠屏开合前后布局连续，具体可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section175001836203617" target="_blank">通过断点刷新UI布局</a>。</p> <p><strong>可滑动组件的阅读焦点不偏移</strong></p> <p>对于折叠屏开合连续使用场景，应用在完成折叠状态切换操作后，需确保<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list" target="_blank">List 组件</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-waterflow" target="_blank">WaterFlow 组件</a>以及 <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll" target="_blank">Scroll 组件</a>等可滑动组件的阅读焦点不发生偏移。目前，这些组件依据折叠状态改变前的滑动偏移量来维持阅读焦点位置，然而，由于折叠状态切换前后，组件内部高度可能发生变化，即便滑动相同的偏移量，也难以达成阅读焦点不偏移的目标。因此，有必要针对上述可滑动组件采取特殊处理措施。</p> <p><span><img height="261.345" originheight="2160" originwidth="4320" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163308.83337920329126917368719320292169:50001231000000:2800:3052932389ED6D51426502F46A1C611CA8997BE8B8F150251686D7C3F537BD80.png" title="点击放大" width="523.6875"></span></p> <ul><li>List组件<p>List组件可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list#onscrollindex" target="_blank">onScrollIndex()</a>来监听子组件划入或划出List显示区域，可以获取到当前处于List显示区域头部的索引值。获取到头部索引值后，在监听折叠屏状态变化的回调中，利用Scroller控制器提供的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#scrolltoindex" target="_blank">scrollToIndex()</a>方法，使列表滑动到指定索引值的位置，从而保证阅读焦点不偏移，示例如下。</p> <p>在aboutToAppear中注册监听索引值变化的回调，触发刷新。</p> <div class="screenLinkPre"><div _ngcontent-mwf-c106="" class="highlight-div"><div _ngcontent-mwf-c106="" class="highlight-div-header"><div _ngcontent-mwf-c106="" class="highlight-div-header-left"><div _ngcontent-mwf-c106="" class="handle-button expand-button"><div _ngcontent-mwf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mwf-c106="" class="highlight-div-header-right"><div _ngcontent-mwf-c106="" class="handle-button ai-button"></div><div _ngcontent-mwf-c106="" class="handle-button line-button"><div _ngcontent-mwf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mwf-c106="" class="handle-button theme-button"><div _ngcontent-mwf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mwf-c106="" class="handle-button copy-button"><div _ngcontent-mwf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mwf-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" codehub="https://gitee.com/harmonyos_samples/SmallWindowScene/blob/master/entry/src/main/ets/pages/Index.ets#L52-L69" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-keyword">void</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">callback</span>: <span class="hljs-title class_">Callback</span>&lt;display.<span class="hljs-property">FoldStatus</span>&gt; = <span class="hljs-function">(<span class="hljs-params">data: display.FoldStatus</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (data === display.<span class="hljs-property">FoldStatus</span>.<span class="hljs-property">FOLD_STATUS_EXPANDED</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">barOpacity</span> = <span class="hljs-number">1</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">listScroller</span>.<span class="hljs-title function_">scrollToIndex</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentIndex</span>);</li><li>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (data === display.<span class="hljs-property">FoldStatus</span>.<span class="hljs-property">FOLD_STATUS_FOLDED</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">listScroller</span>.<span class="hljs-title function_">scrollToIndex</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentIndex</span>);</li><li>    }</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'Listening enabled. Data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>  };</li><li>  <span class="hljs-keyword">try</span> {</li><li>    display.<span class="hljs-title function_">on</span>(<span class="hljs-string">'foldStatusChange'</span>, callback);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'TestLog'</span>, <span class="hljs-string">`Failed to update fold status. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/SmallWindowScene/blob/master/entry/src/main/ets/pages/Index.ets#L52-L69" target="_blank">Index.ets</a></div></div></div></div> <p>在List组件scrollToIndex()方法中更新索引值。</p> <div class="screenLinkPre"><div _ngcontent-mwf-c106="" class="highlight-div"><div _ngcontent-mwf-c106="" class="highlight-div-header"><div _ngcontent-mwf-c106="" class="highlight-div-header-left"><div _ngcontent-mwf-c106="" class="handle-button expand-button"><div _ngcontent-mwf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mwf-c106="" class="highlight-div-header-right"><div _ngcontent-mwf-c106="" class="handle-button ai-button"></div><div _ngcontent-mwf-c106="" class="handle-button line-button"><div _ngcontent-mwf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mwf-c106="" class="handle-button theme-button"><div _ngcontent-mwf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mwf-c106="" class="handle-button copy-button"><div _ngcontent-mwf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mwf-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/SmallWindowScene/blob/master/entry/src/main/ets/pages/Index.ets#L146-L194" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title function_">List</span>({</li><li>  <span class="hljs-variable">space</span>: <span class="hljs-title class_">CommonConstants</span>.<span class="hljs-title class_">LIST_SPACE</span>[<span class="hljs-number">0</span>],</li><li>  <span class="hljs-variable">scroller</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">listScroller</span>,</li><li>}) {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>.<span class="hljs-title function_">onScrollIndex</span>((<span class="hljs-variable">start</span>: <span class="hljs-title class_">number</span>) =&gt; {</li><li>  <span class="hljs-keyword">this</span>.<span class="hljs-variable">currentIndex</span> = <span class="hljs-variable">start</span>;</li><li>})</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/SmallWindowScene/blob/master/entry/src/main/ets/pages/Index.ets#L146-L194" target="_blank">Index.ets</a></div></div></div></div> </li><li>WaterFlow组件<p>WaterFlow组件需要根据场景进行特殊的判断，若折叠屏状态改变前后，WaterFlow未改变展示列数，则系统默认使用改变前的滑动偏移量，以确保阅读焦点不发生偏移；若折叠屏状态改变前后，WaterFlow改变了列数，则需要将<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-waterflow#waterflowlayoutmode12枚举说明" target="_blank">WaterFlowLayoutMode</a>改为SLIDING_WINDOW。修改后，系统将根据WaterFlow可展示区域的最小索引值，自动调整以确保阅读焦点不偏移。</p> <div class="screenLinkPre"><div _ngcontent-mwf-c106="" class="highlight-div"><div _ngcontent-mwf-c106="" class="highlight-div-header"><div _ngcontent-mwf-c106="" class="highlight-div-header-left"><div _ngcontent-mwf-c106="" class="handle-button expand-button"><div _ngcontent-mwf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-mwf-c106="" class="highlight-div-header-right"><div _ngcontent-mwf-c106="" class="handle-button ai-button"></div><div _ngcontent-mwf-c106="" class="handle-button line-button"><div _ngcontent-mwf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-mwf-c106="" class="handle-button theme-button"><div _ngcontent-mwf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-mwf-c106="" class="handle-button copy-button"><div _ngcontent-mwf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-mwf-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" codehub="https://gitee.com/harmonyos_samples/SmallWindowScene/blob/master/entry/src/main/ets/views/WaterFlowView.ets#L76-L95" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">WaterFlow</span>({ <span class="hljs-attr">layoutMode</span>: <span class="hljs-title class_">WaterFlowLayoutMode</span>.<span class="hljs-property">SLIDING_WINDOW</span> }) {</li><li>  <span class="hljs-title class_">LazyForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">dataSource</span>, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>    <span class="hljs-title class_">FlowItem</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Num'</span> + item).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">12</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'16'</span>)</li><li>      }</li><li>    }</li><li>    .<span class="hljs-title function_">onAppear</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (item + <span class="hljs-number">20</span> == <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataSource</span>.<span class="hljs-title function_">totalCount</span>()) {</li><li>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataSource</span>.<span class="hljs-title function_">addLastItem</span>();</li><li>        }</li><li>      }</li><li>    })</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeightArray</span>[item % <span class="hljs-number">100</span>])</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">colors</span>[item % <span class="hljs-number">5</span>])</li><li>  }, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span></span>) =&gt;</span> item)</li><li>}</li><li>.<span class="hljs-title function_">columnsTemplate</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">waterFlowColumnsTemplate</span>)</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/SmallWindowScene/blob/master/entry/src/main/ets/views/WaterFlowView.ets#L76-L95" target="_blank">WaterFlowView.ets</a></div></div></div></div> </li><li>Scroll组件<p>Scroll组件会根据折叠前的滑动偏移量来保证阅读焦点不偏移，但Scroll组件无法做到List组件一样，根据列表项索引来保证阅读焦点不偏移。Scroll组件提供了<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll#scrollby9" target="_blank">scrollBy()</a>方法，以实现滑动指定距离。开发者需要根据具体的业务场景，计算出需要滑动的距离，再通过scrollBy()方法，自行适配Scroll组件的阅读焦点不偏移。</p> </li></ul> </div> <div class="tiledSection"><h2 id="section1485519169720">交互适配<i class="anchor-icon anchor-icon-link" anchorid="section1485519169720" tips="复制节点链接"></i></h2><p>折叠屏的交互方式为触控屏，常见的操作有点击、双击、长按、拖拽、滑动等，应用可根据这些操作进行功能适配，详情可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-interaction" target="_blank">多设备交互</a>。</p> </div> <div class="tiledSection"><h2 id="section7149168133019">功能开发<i class="anchor-icon anchor-icon-link" anchorid="section7149168133019" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section129324586311" class="firsth2">相机开发<i class="anchor-icon anchor-icon-link" anchorid="section129324586311" tips="复制节点链接"></i></h3><p>对于需要实现相机页面和功能的应用，在折叠屏上需要对不同的折叠状态、屏幕尺寸，相机镜头进行适配。折叠屏相机开发详情请参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-camera" target="_blank">相机硬件差异</a>，主要考虑的有以下几点。</p> <ul><li><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-camera#section181143569262" target="_blank">相机页面布局</a>：通过横向断点区分和实现不同形态屏幕的页面布局。</li><li><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-camera#section13854163154917" target="_blank">相机设备选择</a>：根据相机的状态和位置，选择当前形态下可用的相机。</li><li><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-camera#section882216138497" target="_blank">相机预览流配置</a>：配置预览流分辨率，避免出现压缩、拉伸、异常旋转的问题。</li><li><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-camera#section0752024124911" target="_blank">拍照旋转适配</a>：在横竖屏拍照场景下，正确获取并设置旋转角度，需确保图片始终正向显示。</li><li><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-camera#section50639679" target="_blank">悬停态相机页面</a>：对悬停态进行UX重布局和折痕避让。</li></ul>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.25.4.1.6.1.1" valign="top" width="7.99%"><p>设备形态</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.6.1.2" valign="top" width="18.58%"><p>折叠态</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.6.1.3" valign="top" width="30.159999999999997%"><p>悬停态</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.6.1.4" valign="top" width="22.06%"><p>展开态（竖向）</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.6.1.5" valign="top" width="21.21%"><p>展开态（横向）</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="7.99%"><p>效果图</p> </td> <td align="center" class="cellrowborder" valign="top" width="18.58%"><p><span><img height="311.2267742222222" originheight="2317" originwidth="1093" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163308.28476226575425614485827812866741:50001231000000:2800:898C0FFDFDB7272D0140C8CF9358AB7764891F95907DCD9877891072A5C9B6C4.png" title="点击放大" width="146.93599999999998"></span></p> </td> <td align="center" class="cellrowborder" valign="top" width="30.159999999999997%"><p><span><img height="171.537176" originheight="1252" originwidth="1850" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163308.65263750597054458098732300846680:50001231000000:2800:EB67259C958657A222BF6CEFEAEFCA3633DA83F99B69794D69F6308805EBC6D6.png" title="点击放大" width="253.47199999999998"></span></p> </td> <td align="center" class="cellrowborder" valign="top" width="22.06%"><p><span><img height="199.4047223333333" originheight="2425" originwidth="2176" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163308.77942452937388801110201635204570:50001231000000:2800:B9B6C0B9F639649E3937E236D33B0448D622E9190F3B8CD60DEAFEADA332663D.png" title="点击放大" width="178.95199999999997"></span></p> </td> <td align="center" class="cellrowborder" valign="top" width="21.21%"><p><span><img height="153.561953189262" originheight="2176" originwidth="2425" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163309.27965491329385098280247001944141:50001231000000:2800:ECA793447D3975D36216C32BCA87780B00D4BB6CC70105BF0B6667E99726834C.png" title="点击放大" width="171.132"></span></p> </td> </tr>  </tbody></table></div> </div> <p>折叠屏上开发相机功能的一些常见问题和解决方案可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-camera#section1684283074912" target="_blank">相机硬件差异常见问题</a>。</p> </div> <div class="tiledSection"><h2 id="section1851173143519">典型业务案例<i class="anchor-icon anchor-icon-link" anchorid="section1851173143519" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section78861611164717" class="firsth2">购物比价<i class="anchor-icon anchor-icon-link" anchorid="section78861611164717" tips="复制节点链接"></i></h3><p>购物比价类应用可以在折叠屏上展示更丰富的信息，例如可以使用分屏能力同时浏览两个商品的内容，方便用户进行对比。详细开发方案可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/multi-shopping-price-comparison" target="_blank">多设备购物比价界面</a>。</p> <p><span><img height="534.4339" originheight="787" originwidth="705" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163309.26906862587526760860785536288553:50001231000000:2800:CFF1543968397040E85A27FE886B1A64BF5D3F9BCA08AAB4CDFEF982AE53142B.png" title="点击放大" width="478.8"></span></p> <p>更多垂域案例可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-ui-development" target="_blank">多设备界面开发案例</a>。</p> </div> <div class="tiledSection"><h2 id="section192182171419">常见问题<i class="anchor-icon anchor-icon-link" anchorid="section192182171419" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section829918220173" class="firsth2">展开态下应用启动页面未铺满屏幕或出现异常布局<i class="anchor-icon anchor-icon-link" anchorid="section829918220173" tips="复制节点链接"></i></h3><p><strong>问题现象</strong></p> <p>在折叠屏展开态启动应用时，应用的启动页面未铺满整个屏幕，出现白屏区域或者启动页面被截断。</p> <p><strong>可能原因</strong></p> <p>应用未配置增强启动页。</p> <p><strong>解决方案</strong></p> <p>应用需要<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/launch-page-config#配置增强启动页" target="_blank">配置增强启动页</a>，配置后启动页面中的背景、图片和图标等资源能根据窗口大小自适应填充，保证启动页面在不同设备形态上正常显示，配置中各标签的说明可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#startwindow标签" target="_blank">startWindow标签</a>。</p> </div> <div class="tiledSection"><h3 id="section1633717187610">如何判断不同类型的折叠屏<i class="anchor-icon anchor-icon-link" anchorid="section1633717187610" tips="复制节点链接"></i></h3><p><strong>问题现象</strong></p> <p>咨询如何判断不同型号的折叠屏。</p> <p><strong>解决方案</strong></p> <p>禁止通过判断具体设备类型实现应用页面布局和功能，页面布局在不同设备上的适配推荐使用<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1532120147301" target="_blank">断点</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#onwindowsizechange7" target="_blank">window.on('windowSizeChange')</a>实现，具体见<a href="/consumer/cn/doc/best-practices/bpta-foldable-guide#section241814335915">如何实现不同折叠状态下的页面布局</a>；一些特殊的功能例如悬停态、相机等使用折叠状态监听来实现，但不能用于页面布局的适配。</p> </div> <div class="tiledSection"><h3 id="section241814335915">如何实现不同折叠状态下的页面布局<i class="anchor-icon anchor-icon-link" anchorid="section241814335915" tips="复制节点链接"></i></h3><p><strong>问题现象</strong></p> <p>应用页面布局在不同折叠状态下不知道如何适配或适配有问题。</p> <p><strong>解决方案</strong></p> <p>推荐使用断点进行页面布局的适配，根据不同断点下页面布局的UX设计，开发不同断点下的页面布局，通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#onwindowsizechange7" target="_blank">window.on('windowSizeChange')</a>监听页面的断点变化，即可实现不同折叠状态下的页面布局适配，详细开发方案参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1532120147301" target="_blank">断点</a>的开发案例。</p> </div> </div> <div></div></div>