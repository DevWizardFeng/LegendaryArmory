<h1 _ngcontent-ibi-c119="" class="doc-title ng-star-inserted" title="电脑应用开发"> 电脑应用开发 </h1>

<div _ngcontent-ibi-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="section13259164172113">概述<i class="anchor-icon anchor-icon-link" anchorid="section13259164172113" tips="复制节点链接"></i></h2>          <p>电脑设备在日常生活中发挥重要作用，是HarmonyOS 1+8设备全场景一体化体验中不可或缺的部分。</p>    </div>    <div class="tiledSection">     <h3 id="section17925165114122" class="firsth2">设备特点<i class="anchor-icon anchor-icon-link" anchorid="section17925165114122" tips="复制节点链接"></i></h3>          <p>电脑设备有以下明显特点：</p>     <ul>      <li>电脑设备拥有高分辨率的大屏幕，且尺寸、比例的跨度较大，适合展示更多内容，提高学习、娱乐和办公效率。</li>      <li>电脑支持全屏、分屏、自由窗口显示应用。</li>      <li>电脑设备支持鼠标、触控板和键盘交互。</li>     </ul>    </div>    <div class="tiledSection">     <h3 id="section6294133710282">电脑主要型号<i class="anchor-icon anchor-icon-link" anchorid="section6294133710282" tips="复制节点链接"></i></h3>          <p>HarmonyOS电脑当前主要型号包括MateBook Pro和MateBook Fold。下文将以MateBook Pro设备为例，介绍其相关信息，MateBook Fold的相关信息可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-mate-book-fold" target="_blank">MateBook Fold折叠电脑</a>。</p>     <p><span><img height="204.45850000000002" originheight="1643" originwidth="7393" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163316.07030895111797020020225977601161:50001231000000:2800:7BA83DE5B5BF5A9612B0F6969097D5E5C360690F21C406768FBB7C4863DA8AF3.png" title="点击放大" width="920"></span><span><img height="285.522" originheight="1080" originwidth="3480" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163316.32385184386448487821330017683052:50001231000000:2800:CA7ADBFE844B9C5CFB318B291C42ABDB29EA51B238CD24C9F6781F4BB53792ED.png" title="点击放大" width="920"></span></p>    </div>    <div class="tiledSection">     <h2 id="section127915358619">硬件说明<i class="anchor-icon anchor-icon-link" anchorid="section127915358619" tips="复制节点链接"></i></h2>          <p>本章将介绍电脑的屏幕尺寸以及相机硬件参数等信息。</p>    </div>    <div class="tiledSection">     <h3 id="section19341429131814" class="firsth2">屏幕规格信息<i class="anchor-icon anchor-icon-link" anchorid="section19341429131814" tips="复制节点链接"></i></h3>         </div>    <p>下面以MateBook Pro设备为例，介绍其效果图、分辨率以及横纵断点，请参见下表所示的对应关系。</p>    <div class="tablenoborder">     <div class="tbBox"><table class="layoutFixed idpTab">             <tbody><tr>        <th class="firstcol" id="mcps1.3.7.1.4.1.1" valign="top" width="17.630000000000003%">&nbsp;&nbsp;</th>        <td class="cellrowborder" valign="top" width="45.14%">         <p>MateBook Pro（笔记本形态）</p></td>        <td class="cellrowborder" valign="top" width="37.230000000000004%">         <p>外接显示器</p></td>       </tr>       <tr>        <th class="firstcol" id="mcps1.3.7.1.4.2.1" valign="top" width="17.630000000000003%">         <p><strong>效果图</strong></p></th>        <td class="cellrowborder" valign="top" width="45.14%">         <p><span><img height="391.288" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163317.74368230521875838685493238103569:50001231000000:2800:CECFAF23A868A3C8C7C72B34FDA5712668539232D6C637B06C80A12C074C90AB.png" title="点击放大" width="391.288"></span></p></td>        <td class="cellrowborder" valign="top" width="37.230000000000004%">         <p style="color: rgb(255,0,0);"><span><img height="174.79749753045772" originheight="1440" originwidth="2624" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163317.58339873926038611357288464644889:50001231000000:2800:BAC262702B03BE233962B3E43C55D9F4FE4855BC08BCDD4E154FE2E0267FC8C1.png" title="点击放大" width="318.5160000000001"></span></p></td>       </tr>       <tr>        <th class="firstcol" id="mcps1.3.7.1.4.3.1" valign="top" width="17.630000000000003%">         <p><strong>屏幕ID</strong></p></th>        <td class="cellrowborder" valign="top" width="45.14%">         <p>0</p></td>        <td class="cellrowborder" valign="top" width="37.230000000000004%">         <p>主显示器：0</p>         <p>外接显示器：与连接的MateBook Pro端口有关</p></td>       </tr>       <tr>        <th class="firstcol" id="mcps1.3.7.1.4.4.1" valign="top" width="17.630000000000003%">         <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#orientation10" target="_blank">屏幕方向Orientation</a></p></th>        <td class="cellrowborder" valign="top" width="45.14%">         <p>横屏LANDSCAPE</p></td>        <td class="cellrowborder" valign="top" width="37.230000000000004%">         <p>NA</p></td>       </tr>       <tr>        <th class="firstcol" id="mcps1.3.7.1.4.5.1" valign="top" width="17.630000000000003%">         <p><strong>分辨率（px）</strong></p></th>        <td class="cellrowborder" valign="top" width="45.14%">         <p>3120*2080</p></td>        <td class="cellrowborder" valign="top" width="37.230000000000004%">         <p>主显示器：3120*2080</p>         <p>外接显示器：取决于外接显示器的分辨率</p></td>       </tr>       <tr>        <th class="firstcol" id="mcps1.3.7.1.4.6.1" valign="top" width="17.630000000000003%">         <p><strong>分辨率（vp）向下取整</strong></p></th>        <td class="cellrowborder" valign="top" width="45.14%">         <p>1642*1094</p></td>        <td class="cellrowborder" valign="top" width="37.230000000000004%">         <p>主显示器：1642*1094</p>         <p>外接显示器：取决于外接显示器的分辨率</p></td>       </tr>       <tr>        <th class="firstcol" id="mcps1.3.7.1.4.7.1" valign="top" width="17.630000000000003%">         <p>屏幕可用宽高（px）</p></th>        <td class="cellrowborder" valign="top" width="45.14%">         <p>3120*1955</p></td>        <td class="cellrowborder" valign="top" width="37.230000000000004%">         <p>主显示器：3120*1955</p>         <p>外接显示器：取决于外接显示器的分辨率</p></td>       </tr>       <tr>        <th class="firstcol" id="mcps1.3.7.1.4.8.1" valign="top" width="17.630000000000003%">         <p>屏幕可用宽高（vp）向下取整</p></th>        <td class="cellrowborder" valign="top" width="45.14%">         <p>1642*1028</p></td>        <td class="cellrowborder" valign="top" width="37.230000000000004%">         <p>主显示器：1642*1028</p>         <p>外接显示器：取决于外接显示器的分辨率</p></td>       </tr>       <tr>        <th class="firstcol" id="mcps1.3.7.1.4.9.1" valign="top" width="17.630000000000003%">         <p><strong><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section186821126131515" target="_blank">横纵断点</a></strong></p></th>        <td class="cellrowborder" valign="top" width="45.14%">         <p>横向断点xl，纵向断点sm</p></td>        <td class="cellrowborder" valign="top" width="37.230000000000004%">         <p>主显示器：横向断点xl，纵向断点sm</p>         <p>外接显示器：取决于外接显示器的分辨率</p></td>       </tr>           </tbody></table></div>    </div>    <div class="tiledSection">     <h3 id="section6957183310132">其他硬件信息<i class="anchor-icon anchor-icon-link" anchorid="section6957183310132" tips="复制节点链接"></i></h3>          <p>电脑的相机预设了默认的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/camera-rotation-term#section1283585910517" target="_blank">镜头安装角度</a>。使用时，需考虑镜头角度与设备的旋转角度，具体定义可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/camera-rotation-term#section11826104333019" target="_blank">预览旋转角度</a>。当屏幕方向一致时，前置镜头安装角度与需设置的预览流旋转角度如下。当前电脑（以MateBook Pro设备为例）的摄像头不支持旋转。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">               <tbody><tr>         <th class="firstcol" id="mcps1.3.8.3.1.6.1.1" valign="top" width="15.540000000000001%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#属性" target="_blank">屏幕旋转角度（rotation）</a></p></th>         <td align="center" class="cellrowborder" valign="top" width="32.269999999999996%">          <p>0(0度)</p></td>         <td align="center" class="cellrowborder" valign="top" width="17.82%">          <p>1(90度)</p></td>         <td align="center" class="cellrowborder" valign="top" width="16.900000000000002%">          <p>2(180度)</p></td>         <td align="center" class="cellrowborder" valign="top" width="17.47%">          <p>3(270度)</p></td>        </tr>        <tr>         <th class="firstcol" id="mcps1.3.8.3.1.6.2.1" valign="top" width="15.540000000000001%">          <p>示意图</p></th>         <td align="center" class="cellrowborder" valign="top" width="32.269999999999996%">          <p style="color: rgb(255,0,0);"><span><img height="225.6477796" originheight="855" originwidth="1034" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163317.06454561953279161161846765724471:50001231000000:2800:AF6EFC78A6A89F29038D4507A0E6AAE2838D052C8FD7A5EB1BE080F01BAD4D30.png" title="点击放大" width="272.88399999999996"></span></p></td>         <td align="center" class="cellrowborder" valign="top" width="17.82%">          <p>NA</p></td>         <td align="center" class="cellrowborder" valign="top" width="16.900000000000002%">          <p>NA</p></td>         <td align="center" class="cellrowborder" valign="top" width="17.47%">          <p>NA</p></td>        </tr>        <tr>         <th class="firstcol" id="mcps1.3.8.3.1.6.3.1" valign="top" width="15.540000000000001%">          <p>前置相机镜头安装角度</p></th>         <td align="center" class="cellrowborder" valign="top" width="32.269999999999996%">          <p>270°</p></td>         <td align="center" class="cellrowborder" valign="top" width="17.82%">          <p>NA</p></td>         <td align="center" class="cellrowborder" valign="top" width="16.900000000000002%">          <p>NA</p></td>         <td align="center" class="cellrowborder" valign="top" width="17.47%">          <p>NA</p></td>        </tr>        <tr>         <th class="firstcol" id="mcps1.3.8.3.1.6.4.1" valign="top" width="15.540000000000001%">          <p>预览旋转角度</p></th>         <td align="center" class="cellrowborder" valign="top" width="32.269999999999996%">          <p>270°+0°=270°</p></td>         <td align="center" class="cellrowborder" valign="top" width="17.82%">          <p>NA</p></td>         <td align="center" class="cellrowborder" valign="top" width="16.900000000000002%">          <p>NA</p></td>         <td align="center" class="cellrowborder" valign="top" width="17.47%">          <p>NA</p></td>        </tr>        <tr>         <th class="firstcol" id="mcps1.3.8.3.1.6.5.1" valign="top">          <p>后置相机镜头安装角度</p></th>         <td align="center" class="cellrowborder" colspan="4" valign="top">          <p>无后置相机</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="section16339123161415">设备特有能力<i class="anchor-icon anchor-icon-link" anchorid="section16339123161415" tips="复制节点链接"></i></h3>          <p><strong>支持自由窗口</strong><strong>模式</strong></p>     <p>在电脑设备上，应用启动时默认应为自由窗口模式。</p>     <p><strong>支持创建悬浮窗类型的窗口</strong></p>     <p>悬浮窗在电脑上是一种特殊的应用窗口，悬浮窗窗口类型为WindowType.TYPE_FLOAT。</p>     <p><strong>支持外接设备</strong></p>     <p>在合适的场景下，电脑可以连接一些配件来提升交互的效率，带来更好的体验。例如键盘、鼠标、显示器等。鼠标和键盘的适配请参考<a href="https://developer.huawei.com/consumer/cn/doc/design-guides/ux-guidelines-large-screen-0000001807707561#section65561444209" target="_blank">大屏应用交互体验标准</a>。</p>    </div>    <div class="tiledSection">     <h2 id="section86791610135312">体验标准<i class="anchor-icon anchor-icon-link" anchorid="section86791610135312" tips="复制节点链接"></i></h2>          <p>应用体验建议分为功能与兼容性、稳定性、性能、功耗、安全和UX六个部分，详细信息如下所示。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.3.1.3.1.1" valign="top" width="27.169999999999998%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.3.1.3.1.2" valign="top" width="72.83%">          <p>简介</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="27.169999999999998%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/experience-suggestions-compatibility" target="_blank">应用基础功能和兼容性体验建议</a></p></td>         <td class="cellrowborder" valign="top" width="72.83%">          <p>应用与OS兼容、应用与设备兼容、应用升级兼容、功能体验相关等</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="27.169999999999998%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/experience-suggestions-stability" target="_blank">应用稳定性体验建议</a></p></td>         <td class="cellrowborder" valign="top" width="72.83%">          <p>长时间运行故障率（崩溃、冻屏等）、长时间运行内存资源异常</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="27.169999999999998%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/performance-experience-suggestions" target="_blank">应用性能体验建议</a></p></td>         <td class="cellrowborder" valign="top" width="72.83%">          <p>时延、帧率流畅体验和内存占用、CPU占用、线程数等资源占用约束</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="27.169999999999998%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-power-experience-standards" target="_blank">应用功耗体验建议</a></p></td>         <td class="cellrowborder" valign="top" width="72.83%">          <p>后台任务使用、后台硬件器件资源/软件系统资源占用管控，分布式资源占用等</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="27.169999999999998%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/security-privacy-experience-standards" target="_blank">应用安全隐私体验建议</a></p></td>         <td class="cellrowborder" valign="top" width="72.83%">          <p>基础安全、恶意软件、应用安全、隐私合规等</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="27.169999999999998%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/experience-suggestions-ux" target="_blank">应用UX体验建议</a></p></td>         <td class="cellrowborder" valign="top" width="72.83%">          <p>设计规范、设计约束的符合性，UX精致体验要求等</p></td>        </tr>             </tbody></table></div>     </div>     <p>电脑设备主要在性能与UX上有着特殊的适配体验和建议，下文主要介绍电脑的UX体验标准。</p>    </div>    <div class="tiledSection">     <h3 id="section13092178350" class="firsth2">UX体验标准<i class="anchor-icon anchor-icon-link" anchorid="section13092178350" tips="复制节点链接"></i></h3>          <p><strong>体验设计标准</strong></p>     <p>电脑拥有独特的大尺寸屏幕优势，开发其应用时推荐使用<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout" target="_blank">响应式布局</a>实时响应窗口尺寸变化，确保以最佳的布局来展示内容。电脑的UX设计标准及规范，请参考<a href="https://developer.huawei.com/consumer/cn/doc/design-guides/2in1-0000001777531700" target="_blank">电脑</a>、<a href="https://developer.huawei.com/consumer/cn/doc/design-guides/ux-guidelines-2in1-0000001777895636" target="_blank">电脑应用 UX 体验标准</a>。</p>     <p>电脑的主要体验标准如下：</p>     <ul>      <li><strong>使用系统控件：</strong>利用系统提供的菜单、标题栏、弹出框等标准控件，在保证良好基础体验的同时，减少设计和开发的工作量。</li>      <li><strong>使用合适的应用架构：</strong>根据业务的特点采用合适的架构。例如，内容类应用通常采用侧边页签的应用架构，以达到快速在不同类别的内容间切换的作用；效率类应用通常采用二分栏以及三分栏的应用架构，以达到快速高效浏览的作用。</li>      <li><strong>考虑更多内容合理布局：</strong>考虑充分利用电脑屏幕大尺寸的优势，利用响应式布局实时响应尺寸变化，确保以最佳的布局来显示内容。关于应用布局的更多详细指导，请参阅<a href="https://developer.huawei.com/consumer/cn/doc/design-guides/app-design-0000002353509845#section195431623181117" target="_blank">应用布局</a>。</li>      <li><strong>考虑多任务交互：</strong>利用大屏幕的优势来同时完成多种任务，并且结合窗口来聚焦当前任务，提高生产力效率。</li>      <li><strong>支持更多交互方式：</strong>在合适的场景下，电脑可以连接一些配件来提升交互的效率，带来更好的体验。例如键盘、鼠标。关于电脑支持的交互方式，请参阅<a href="https://developer.huawei.com/consumer/cn/doc/design-guides/hmi-overview-0000001795410269" target="_blank">人机交互</a>。</li>     </ul>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>不同尺寸屏幕下的页面布局应通过<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1532120147301" target="_blank">断点</a>进行划分和设计实现。</p>      </div></div></div>    </div>    <p><strong>体验设计差异点</strong></p>    <p>电脑设备配有高分辨率的大屏幕，在开发应用时，建议采用<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout" target="_blank">响应式布局</a>，以根据屏幕尺寸自动调整布局，实时响应窗口尺寸变化，确保内容以最优布局展示。响应式布局中最常用的特征是窗口宽度和窗口高宽比，可以将这些参数划分为不同的范围。应用需通过横纵断点来决定不同状态下的页面布局，关于断点的原理和使用示例，可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1532120147301" target="_blank">断点</a>。</p>    <p>下面以一个长视频案例为例，展示电脑界面适配自由窗口时的响应式变化和自适应变化场景效果。</p>    <p><span><img height="334.88" originheight="1456" originwidth="4000" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163317.25714568423290185005220690964821:50001231000000:2800:166BFDBBBA9E6F6DD8DA1C19D53E12A7EBB98ABAB7AF2BAE4FCFFAF101CD196A.png" title="点击放大" width="920"></span></p>    <p>实际效果：</p>    <p>     </p><div class="video-box" style="width: 601.93px; height: 347.25px;"><div id="wise_player_0" videodata="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163319.93304100676528634150672620978329:50001231000000:2800:20CC481B6547F9DEABDB6A958549120A1A8B5C629035C0AA36F4CA4A1525ED9B.mp4" preload="none" class="edui-upload-video vjs-fluid vjs-default-skin video-js vjs-paused vjs_video_3-dimensions vjs-controls-enabled vjs-workinghover vjs-v7 vjs-user-active wise_player_0-dimensions vjs-v8" tabindex="-1" role="region" lang="cn" translate="no" aria-label="Video Player"><video class="vjs-tech" preload="none" videodata="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163319.93304100676528634150672620978329:50001231000000:2800:20CC481B6547F9DEABDB6A958549120A1A8B5C629035C0AA36F4CA4A1525ED9B.mp4" id="wise_player_0_html5_api" tabindex="-1" role="application" loop="" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163319.93304100676528634150672620978329:50001231000000:2800:20CC481B6547F9DEABDB6A958549120A1A8B5C629035C0AA36F4CA4A1525ED9B.mp4"></video><div class="vjs-poster vjs-hidden" aria-disabled="false"></div><div class="vjs-title-bar vjs-hidden"><div class="vjs-title-bar-title" id="vjs-title-bar-title-27"></div><div class="vjs-title-bar-description" id="vjs-title-bar-description-28"></div></div><div class="vjs-text-track-display" translate="yes" aria-live="off" aria-atomic="true"><div style="position: absolute; inset: 0px; margin: 1.5%;"></div></div><div class="vjs-loading-spinner" dir="ltr"><span class="vjs-control-text">Video Player is loading.</span></div><button class="vjs-big-play-button" type="button" title="Play Video" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Play Video</span></button><div class="vjs-control-bar" dir="ltr"><button class="vjs-play-control vjs-control vjs-button" type="button" title="Play" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Play</span></button><div class="vjs-current-time vjs-time-control vjs-control"><span class="vjs-control-text" role="presentation">Current Time&nbsp;</span><span class="vjs-current-time-display" role="presentation">0:00</span></div><div class="vjs-progress-control vjs-control"><div tabindex="0" class="vjs-progress-holder vjs-slider vjs-slider-horizontal" role="slider" aria-valuenow="0.00" aria-valuemin="0" aria-valuemax="100" aria-label="Progress Bar" aria-valuetext="0:00 of 0:16"><div class="vjs-load-progress" style="width: 2.58%;"><span class="vjs-control-text"><span>Loaded</span>: <span class="vjs-control-text-loaded-percentage">2.58%</span></span><div data-start="0" data-end="0.413" style="left: 0%; width: 100%;"></div></div><div class="vjs-mouse-display"><div class="vjs-time-tooltip" aria-hidden="true"></div></div><div class="vjs-play-progress vjs-slider-bar" aria-hidden="true" style="width: 0%;"><div class="vjs-time-tooltip" aria-hidden="true" style="right: 0px;">0:00</div></div></div></div><div class="vjs-duration vjs-time-control vjs-control"><span class="vjs-control-text" role="presentation">Duration&nbsp;</span><span class="vjs-duration-display" role="presentation">0:16</span></div><div class="vjs-volume-panel vjs-control vjs-volume-panel-vertical"><button class="vjs-mute-control vjs-control vjs-button vjs-vol-3" type="button" title="Mute" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Mute</span></button><div class="vjs-volume-control vjs-control vjs-volume-vertical"><div tabindex="0" class="vjs-volume-bar vjs-slider-bar vjs-slider vjs-slider-vertical" role="slider" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" aria-label="Volume Level" aria-live="polite" aria-valuetext="100%"><div class="vjs-mouse-display"><div class="vjs-volume-tooltip" aria-hidden="true"></div></div><div class="vjs-volume-level"><span class="vjs-control-text"></span></div></div></div></div><div class="vjs-playback-rate vjs-menu-button vjs-menu-button-popup vjs-control vjs-button"><div class="vjs-playback-rate-value" id="vjs-playback-rate-value-label-wise_player_0_component_225">1x</div><button class="vjs-playback-rate vjs-menu-button vjs-menu-button-popup vjs-button" type="button" aria-disabled="false" title="Playback Rate" aria-haspopup="true" aria-expanded="false" aria-describedby="vjs-playback-rate-value-label-wise_player_0_component_225"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Playback Rate</span></button><div class="vjs-menu"><ul class="vjs-menu-content" role="menu"><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">2x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.8x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.5x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.2x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item vjs-selected" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="true"><span class="vjs-menu-item-text">1x</span><span class="vjs-control-text" aria-live="polite">, selected</span></li></ul></div></div><button class="vjs-fullscreen-control vjs-control vjs-button" type="button" title="Fullscreen" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Fullscreen</span></button></div><div class="vjs-error-display vjs-modal-dialog vjs-hidden " tabindex="-1" aria-describedby="wise_player_0_component_332_description" aria-hidden="true" aria-label="Modal Window" role="dialog" aria-live="polite"><p class="vjs-modal-dialog-description vjs-control-text" id="wise_player_0_component_332_description">This is a modal window.</p><div class="vjs-modal-dialog-content" role="document"></div></div><div class="vjs-modal-dialog vjs-hidden  vjs-text-track-settings" tabindex="-1" aria-describedby="wise_player_0_component_338_description" aria-hidden="true" aria-label="Caption Settings Dialog" role="dialog" aria-live="polite"><p class="vjs-modal-dialog-description vjs-control-text" id="wise_player_0_component_338_description">Beginning of dialog window. Escape will cancel and close the window.</p><div class="vjs-modal-dialog-content" role="document"><div class="vjs-track-settings-colors"><fieldset class="vjs-fg vjs-track-setting"><legend id="captions-text-legend-wise_player_0_component_338">Text</legend><span class="vjs-text-color"><label id="captions-foreground-color-wise_player_0_component_338" for="vjs_select_364" class="vjs-label">Color</label><select aria-labelledby="captions-text-legend-wise_player_0_component_338 captions-foreground-color-wise_player_0_component_338" id="vjs_select_364"><option id="captions-foreground-color-wise_player_0_component_338-White" value="#FFF" aria-labelledby="captions-text-legend-wise_player_0_component_338 captions-foreground-color-wise_player_0_component_338 captions-foreground-color-wise_player_0_component_338-White">White</option><option id="captions-foreground-color-wise_player_0_component_338-Black" value="#000" aria-labelledby="captions-text-legend-wise_player_0_component_338 captions-foreground-color-wise_player_0_component_338 captions-foreground-color-wise_player_0_component_338-Black">Black</option><option id="captions-foreground-color-wise_player_0_component_338-Red" value="#F00" aria-labelledby="captions-text-legend-wise_player_0_component_338 captions-foreground-color-wise_player_0_component_338 captions-foreground-color-wise_player_0_component_338-Red">Red</option><option id="captions-foreground-color-wise_player_0_component_338-Green" value="#0F0" aria-labelledby="captions-text-legend-wise_player_0_component_338 captions-foreground-color-wise_player_0_component_338 captions-foreground-color-wise_player_0_component_338-Green">Green</option><option id="captions-foreground-color-wise_player_0_component_338-Blue" value="#00F" aria-labelledby="captions-text-legend-wise_player_0_component_338 captions-foreground-color-wise_player_0_component_338 captions-foreground-color-wise_player_0_component_338-Blue">Blue</option><option id="captions-foreground-color-wise_player_0_component_338-Yellow" value="#FF0" aria-labelledby="captions-text-legend-wise_player_0_component_338 captions-foreground-color-wise_player_0_component_338 captions-foreground-color-wise_player_0_component_338-Yellow">Yellow</option><option id="captions-foreground-color-wise_player_0_component_338-Magenta" value="#F0F" aria-labelledby="captions-text-legend-wise_player_0_component_338 captions-foreground-color-wise_player_0_component_338 captions-foreground-color-wise_player_0_component_338-Magenta">Magenta</option><option id="captions-foreground-color-wise_player_0_component_338-Cyan" value="#0FF" aria-labelledby="captions-text-legend-wise_player_0_component_338 captions-foreground-color-wise_player_0_component_338 captions-foreground-color-wise_player_0_component_338-Cyan">Cyan</option></select></span><span class="vjs-text-opacity vjs-opacity"><label id="captions-foreground-opacity-wise_player_0_component_338" for="vjs_select_365" class="vjs-label">Opacity</label><select aria-labelledby="captions-text-legend-wise_player_0_component_338 captions-foreground-opacity-wise_player_0_component_338" id="vjs_select_365"><option id="captions-foreground-opacity-wise_player_0_component_338-Opaque" value="1" aria-labelledby="captions-text-legend-wise_player_0_component_338 captions-foreground-opacity-wise_player_0_component_338 captions-foreground-opacity-wise_player_0_component_338-Opaque">Opaque</option><option id="captions-foreground-opacity-wise_player_0_component_338-SemiTransparent" value="0.5" aria-labelledby="captions-text-legend-wise_player_0_component_338 captions-foreground-opacity-wise_player_0_component_338 captions-foreground-opacity-wise_player_0_component_338-SemiTransparent">Semi-Transparent</option></select></span></fieldset><fieldset class="vjs-bg vjs-track-setting"><legend id="captions-background-wise_player_0_component_338">Text Background</legend><span class="vjs-bg-color"><label id="captions-background-color-wise_player_0_component_338" for="vjs_select_366" class="vjs-label">Color</label><select aria-labelledby="captions-background-wise_player_0_component_338 captions-background-color-wise_player_0_component_338" id="vjs_select_366"><option id="captions-background-color-wise_player_0_component_338-Black" value="#000" aria-labelledby="captions-background-wise_player_0_component_338 captions-background-color-wise_player_0_component_338 captions-background-color-wise_player_0_component_338-Black">Black</option><option id="captions-background-color-wise_player_0_component_338-White" value="#FFF" aria-labelledby="captions-background-wise_player_0_component_338 captions-background-color-wise_player_0_component_338 captions-background-color-wise_player_0_component_338-White">White</option><option id="captions-background-color-wise_player_0_component_338-Red" value="#F00" aria-labelledby="captions-background-wise_player_0_component_338 captions-background-color-wise_player_0_component_338 captions-background-color-wise_player_0_component_338-Red">Red</option><option id="captions-background-color-wise_player_0_component_338-Green" value="#0F0" aria-labelledby="captions-background-wise_player_0_component_338 captions-background-color-wise_player_0_component_338 captions-background-color-wise_player_0_component_338-Green">Green</option><option id="captions-background-color-wise_player_0_component_338-Blue" value="#00F" aria-labelledby="captions-background-wise_player_0_component_338 captions-background-color-wise_player_0_component_338 captions-background-color-wise_player_0_component_338-Blue">Blue</option><option id="captions-background-color-wise_player_0_component_338-Yellow" value="#FF0" aria-labelledby="captions-background-wise_player_0_component_338 captions-background-color-wise_player_0_component_338 captions-background-color-wise_player_0_component_338-Yellow">Yellow</option><option id="captions-background-color-wise_player_0_component_338-Magenta" value="#F0F" aria-labelledby="captions-background-wise_player_0_component_338 captions-background-color-wise_player_0_component_338 captions-background-color-wise_player_0_component_338-Magenta">Magenta</option><option id="captions-background-color-wise_player_0_component_338-Cyan" value="#0FF" aria-labelledby="captions-background-wise_player_0_component_338 captions-background-color-wise_player_0_component_338 captions-background-color-wise_player_0_component_338-Cyan">Cyan</option></select></span><span class="vjs-bg-opacity vjs-opacity"><label id="captions-background-opacity-wise_player_0_component_338" for="vjs_select_367" class="vjs-label">Opacity</label><select aria-labelledby="captions-background-wise_player_0_component_338 captions-background-opacity-wise_player_0_component_338" id="vjs_select_367"><option id="captions-background-opacity-wise_player_0_component_338-Opaque" value="1" aria-labelledby="captions-background-wise_player_0_component_338 captions-background-opacity-wise_player_0_component_338 captions-background-opacity-wise_player_0_component_338-Opaque">Opaque</option><option id="captions-background-opacity-wise_player_0_component_338-SemiTransparent" value="0.5" aria-labelledby="captions-background-wise_player_0_component_338 captions-background-opacity-wise_player_0_component_338 captions-background-opacity-wise_player_0_component_338-SemiTransparent">Semi-Transparent</option><option id="captions-background-opacity-wise_player_0_component_338-Transparent" value="0" aria-labelledby="captions-background-wise_player_0_component_338 captions-background-opacity-wise_player_0_component_338 captions-background-opacity-wise_player_0_component_338-Transparent">Transparent</option></select></span></fieldset><fieldset class="vjs-window vjs-track-setting"><legend id="captions-window-wise_player_0_component_338">Caption Area Background</legend><span class="vjs-window-color"><label id="captions-window-color-wise_player_0_component_338" for="vjs_select_368" class="vjs-label">Color</label><select aria-labelledby="captions-window-wise_player_0_component_338 captions-window-color-wise_player_0_component_338" id="vjs_select_368"><option id="captions-window-color-wise_player_0_component_338-Black" value="#000" aria-labelledby="captions-window-wise_player_0_component_338 captions-window-color-wise_player_0_component_338 captions-window-color-wise_player_0_component_338-Black">Black</option><option id="captions-window-color-wise_player_0_component_338-White" value="#FFF" aria-labelledby="captions-window-wise_player_0_component_338 captions-window-color-wise_player_0_component_338 captions-window-color-wise_player_0_component_338-White">White</option><option id="captions-window-color-wise_player_0_component_338-Red" value="#F00" aria-labelledby="captions-window-wise_player_0_component_338 captions-window-color-wise_player_0_component_338 captions-window-color-wise_player_0_component_338-Red">Red</option><option id="captions-window-color-wise_player_0_component_338-Green" value="#0F0" aria-labelledby="captions-window-wise_player_0_component_338 captions-window-color-wise_player_0_component_338 captions-window-color-wise_player_0_component_338-Green">Green</option><option id="captions-window-color-wise_player_0_component_338-Blue" value="#00F" aria-labelledby="captions-window-wise_player_0_component_338 captions-window-color-wise_player_0_component_338 captions-window-color-wise_player_0_component_338-Blue">Blue</option><option id="captions-window-color-wise_player_0_component_338-Yellow" value="#FF0" aria-labelledby="captions-window-wise_player_0_component_338 captions-window-color-wise_player_0_component_338 captions-window-color-wise_player_0_component_338-Yellow">Yellow</option><option id="captions-window-color-wise_player_0_component_338-Magenta" value="#F0F" aria-labelledby="captions-window-wise_player_0_component_338 captions-window-color-wise_player_0_component_338 captions-window-color-wise_player_0_component_338-Magenta">Magenta</option><option id="captions-window-color-wise_player_0_component_338-Cyan" value="#0FF" aria-labelledby="captions-window-wise_player_0_component_338 captions-window-color-wise_player_0_component_338 captions-window-color-wise_player_0_component_338-Cyan">Cyan</option></select></span><span class="vjs-window-opacity vjs-opacity"><label id="captions-window-opacity-wise_player_0_component_338" for="vjs_select_369" class="vjs-label">Opacity</label><select aria-labelledby="captions-window-wise_player_0_component_338 captions-window-opacity-wise_player_0_component_338" id="vjs_select_369"><option id="captions-window-opacity-wise_player_0_component_338-Transparent" value="0" aria-labelledby="captions-window-wise_player_0_component_338 captions-window-opacity-wise_player_0_component_338 captions-window-opacity-wise_player_0_component_338-Transparent">Transparent</option><option id="captions-window-opacity-wise_player_0_component_338-SemiTransparent" value="0.5" aria-labelledby="captions-window-wise_player_0_component_338 captions-window-opacity-wise_player_0_component_338 captions-window-opacity-wise_player_0_component_338-SemiTransparent">Semi-Transparent</option><option id="captions-window-opacity-wise_player_0_component_338-Opaque" value="1" aria-labelledby="captions-window-wise_player_0_component_338 captions-window-opacity-wise_player_0_component_338 captions-window-opacity-wise_player_0_component_338-Opaque">Opaque</option></select></span></fieldset></div><div class="vjs-track-settings-font"><fieldset class="vjs-font-percent vjs-track-setting"><legend id="captions-font-size-wise_player_0_component_338">Font Size</legend><select aria-labelledby="captions-font-size-wise_player_0_component_338" id="vjs_select_370"><option id="captions-font-size-wise_player_0_component_338-50" value="0.50" aria-labelledby="captions-font-size-wise_player_0_component_338 captions-font-size-wise_player_0_component_338-50">50%</option><option id="captions-font-size-wise_player_0_component_338-75" value="0.75" aria-labelledby="captions-font-size-wise_player_0_component_338 captions-font-size-wise_player_0_component_338-75">75%</option><option id="captions-font-size-wise_player_0_component_338-100" value="1.00" aria-labelledby="captions-font-size-wise_player_0_component_338 captions-font-size-wise_player_0_component_338-100">100%</option><option id="captions-font-size-wise_player_0_component_338-125" value="1.25" aria-labelledby="captions-font-size-wise_player_0_component_338 captions-font-size-wise_player_0_component_338-125">125%</option><option id="captions-font-size-wise_player_0_component_338-150" value="1.50" aria-labelledby="captions-font-size-wise_player_0_component_338 captions-font-size-wise_player_0_component_338-150">150%</option><option id="captions-font-size-wise_player_0_component_338-175" value="1.75" aria-labelledby="captions-font-size-wise_player_0_component_338 captions-font-size-wise_player_0_component_338-175">175%</option><option id="captions-font-size-wise_player_0_component_338-200" value="2.00" aria-labelledby="captions-font-size-wise_player_0_component_338 captions-font-size-wise_player_0_component_338-200">200%</option><option id="captions-font-size-wise_player_0_component_338-300" value="3.00" aria-labelledby="captions-font-size-wise_player_0_component_338 captions-font-size-wise_player_0_component_338-300">300%</option><option id="captions-font-size-wise_player_0_component_338-400" value="4.00" aria-labelledby="captions-font-size-wise_player_0_component_338 captions-font-size-wise_player_0_component_338-400">400%</option></select></fieldset><fieldset class="vjs-edge-style vjs-track-setting"><legend id="wise_player_0_component_338">Text Edge Style</legend><select aria-labelledby="wise_player_0_component_338" id="vjs_select_371"><option id="wise_player_0_component_338-None" value="none" aria-labelledby="wise_player_0_component_338 wise_player_0_component_338-None">None</option><option id="wise_player_0_component_338-Raised" value="raised" aria-labelledby="wise_player_0_component_338 wise_player_0_component_338-Raised">Raised</option><option id="wise_player_0_component_338-Depressed" value="depressed" aria-labelledby="wise_player_0_component_338 wise_player_0_component_338-Depressed">Depressed</option><option id="wise_player_0_component_338-Uniform" value="uniform" aria-labelledby="wise_player_0_component_338 wise_player_0_component_338-Uniform">Uniform</option><option id="wise_player_0_component_338-Dropshadow" value="dropshadow" aria-labelledby="wise_player_0_component_338 wise_player_0_component_338-Dropshadow">Drop shadow</option></select></fieldset><fieldset class="vjs-font-family vjs-track-setting"><legend id="captions-font-family-wise_player_0_component_338">Font Family</legend><select aria-labelledby="captions-font-family-wise_player_0_component_338" id="vjs_select_372"><option id="captions-font-family-wise_player_0_component_338-ProportionalSansSerif" value="proportionalSansSerif" aria-labelledby="captions-font-family-wise_player_0_component_338 captions-font-family-wise_player_0_component_338-ProportionalSansSerif">Proportional Sans-Serif</option><option id="captions-font-family-wise_player_0_component_338-MonospaceSansSerif" value="monospaceSansSerif" aria-labelledby="captions-font-family-wise_player_0_component_338 captions-font-family-wise_player_0_component_338-MonospaceSansSerif">Monospace Sans-Serif</option><option id="captions-font-family-wise_player_0_component_338-ProportionalSerif" value="proportionalSerif" aria-labelledby="captions-font-family-wise_player_0_component_338 captions-font-family-wise_player_0_component_338-ProportionalSerif">Proportional Serif</option><option id="captions-font-family-wise_player_0_component_338-MonospaceSerif" value="monospaceSerif" aria-labelledby="captions-font-family-wise_player_0_component_338 captions-font-family-wise_player_0_component_338-MonospaceSerif">Monospace Serif</option><option id="captions-font-family-wise_player_0_component_338-Casual" value="casual" aria-labelledby="captions-font-family-wise_player_0_component_338 captions-font-family-wise_player_0_component_338-Casual">Casual</option><option id="captions-font-family-wise_player_0_component_338-Script" value="script" aria-labelledby="captions-font-family-wise_player_0_component_338 captions-font-family-wise_player_0_component_338-Script">Script</option><option id="captions-font-family-wise_player_0_component_338-SmallCaps" value="small-caps" aria-labelledby="captions-font-family-wise_player_0_component_338 captions-font-family-wise_player_0_component_338-SmallCaps">Small Caps</option></select></fieldset></div><div class="vjs-track-settings-controls"><button type="button" class="vjs-default-button" title="restore all settings to the default values">Reset<span class="vjs-control-text"> restore all settings to the default values</span></button><button type="button" class="vjs-done-button">Done</button></div></div><button class="vjs-close-button vjs-control vjs-button" type="button" title="Close Modal Dialog" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Close Modal Dialog</span></button><p class="vjs-control-text">End of dialog window.</p></div><div wiseplayerindex="0" class="wiseplayershaw"></div></div></div><p></p>    <p><strong>应用设计最佳实践</strong></p>    <p>根据上述UX体验标准和设计差异点，各垂域应用可根据功能和场景特点进行电脑的UX设计；更多垂域设计信息和方案可参考<a href="https://developer.huawei.com/consumer/cn/doc/design-guides/practices-overview-0000001746498066" target="_blank">应用设计最佳实践</a>、<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-ui-development" target="_blank">多设备界面开发案例</a>。</p>    <div class="tiledSection">     <h2 id="section10741621114">工程管理<i class="anchor-icon anchor-icon-link" anchorid="section10741621114" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="section04953372513" class="firsth2">工程配置<i class="anchor-icon anchor-icon-link" anchorid="section04953372513" tips="复制节点链接"></i></h3>          <p>在电脑设备上运行的应用，需要在module.json5配置文件的module字段中增加支持的deviceTypes字段，即需增设"2in1"。更多详情可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#devicetypes标签" target="_blank">deviceTypes标签</a>。</p>    </div>    <div class="tiledSection">     <h3 id="section14560111182519">包管理策略<i class="anchor-icon anchor-icon-link" anchorid="section14560111182519" tips="复制节点链接"></i></h3>          <p>电脑设备上HAP包的管理策略建议根据场景差异灵活选择，在统一性与个性化之间取得平衡，兼顾开发效率与用户体验：</p>     <ul>      <li>统一HAP多端部署：对于页面结构与交互逻辑高度相似的应用（如布局可通过响应式设计适配，核心功能一致），推荐使用同一HAP包，依托 HarmonyOS 的多设备自适应与响应式布局能力，实现跨端（如手机、平板、电脑）协同部署。此举有助于降低维护成本，提升发布与迭代效率。</li>      <li>独立HAP精准适配：电脑应用与平板的界面布局和交互功能差异较大时（如移动端为多元素交互界面，电脑则以图文展示为主，且功能范围不同），应创建独立HAP包，分别构建面向phone/tablet与电脑等设备的模块化组件，实现设备专属的UX设计、资源优化与体验定制。</li>     </ul>     <p>更多详情可参见<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-layered-architecture-design" target="_blank">分层架构设计</a>的产品定制层相关内容。</p>    </div>    <div class="tiledSection">     <h2 id="section17328172392610">窗口适配<i class="anchor-icon anchor-icon-link" anchorid="section17328172392610" tips="复制节点链接"></i></h2>          <p>本章主要介绍电脑设备应用在窗口模式、窗口方向和窗口沉浸式适配上需要注意的内容。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>本章所介绍的适配内容均面向应用的主窗口。</p>      </div></div></div>    </div>    <div class="tiledSection">     <h3 id="section33574612318" class="firsth2">适配窗口模式<i class="anchor-icon anchor-icon-link" anchorid="section33574612318" tips="复制节点链接"></i></h3>         </div>    <p>电脑设备支持全屏、分屏、自由窗口三种应用窗口模式。各模式的详细信息见<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-window-mode" target="_blank">窗口模式</a>。</p>    <p><strong>全屏</strong></p>    <p>电脑应用启动时默认为自由窗口模式，用户可以使用以下两种方式进入全屏模式：</p>    <ul>     <li>在主窗口调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#maximize12" target="_blank">maximize()</a>接口，可实现窗口最大化功能并进入全屏模式。</li>     <li>在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file" target="_blank">module.json5配置文件</a>中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#abilities标签" target="_blank">abilities标签</a>下，取消supportWindowMode字段支持的floating，仅配置[fullscreen]或[fullscreen, split]进入全屏模式。具体适配请参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-window-mode#section6205417153714" target="_blank">设置应用启动时的窗口模式、大小与位置</a>。</li>    </ul>    <p>全屏窗口沉浸式适配信息请参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-window-immersive#section1477255312219" target="_blank">窗口全屏布局方案</a>。</p>    <p><strong>分屏</strong></p>    <p>电脑支持分屏窗口模式，一般用于两个应用长时间并行使用的场景，例如边看购物攻略边购物的场景；应用也可以主动实现应用内分屏。电脑默认支持左右分屏，分屏窗口参数如下，具体适配信息请参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-window-mode#section579413164399" target="_blank">分屏窗口模式适配</a>。</p>    <div class="tablenoborder">     <div class="tbBox"><table class="layoutFixed idpTab">      <thead>       <tr>        <th align="left" class="cellrowborder" id="mcps1.3.32.1.7.1.1" valign="top" width="10.879999999999999%">         <p>设备</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.32.1.7.1.2" valign="top" width="7.01%">         <p>分屏方式</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.32.1.7.1.3" valign="top" width="9.5%">         <p>默认分屏比例</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.32.1.7.1.4" valign="top" width="11.81%">         <p>分屏窗口尺寸(px)</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.32.1.7.1.5" valign="top" width="18.15%">         <p>分屏窗口尺寸(vp)向下取整</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.32.1.7.1.6" valign="top" width="42.65%">         <p>分屏窗口断点</p></th>       </tr>      </thead>             <tbody><tr>        <td class="cellrowborder" valign="top" width="10.879999999999999%">         <p>MateBook Pro</p></td>        <td class="cellrowborder" valign="top" width="7.01%">         <p>左右分屏</p></td>        <td class="cellrowborder" valign="top" width="9.5%">         <p>1:1(默认)</p></td>        <td class="cellrowborder" valign="top" width="11.81%">         <p>1549*1955</p></td>        <td class="cellrowborder" valign="top" width="18.15%">         <p>815*1028</p></td>        <td class="cellrowborder" valign="top" width="42.65%">         <p>横向断点md，纵向断点lg</p></td>       </tr>           </tbody></table></div>    </div>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <ul>       <li>电脑设备默认分屏比例为1:1，滑动分屏条可自由调节分屏窗口的宽度。</li>       <li>分屏窗口最小宽度为320vp。</li>      </ul>     </div></div></div>    <p><strong>自由窗口</strong></p>    <p>在电脑设备上，应用启动时默认应为自由窗口模式。自由窗口模式下应用可按需进行如下适配：</p>    <ul>     <li>设置应用启动时的窗口模式大小与位置；</li>     <li>主动调节窗口大小；</li>     <li>设置窗口拖拽热区。</li>    </ul>    <p>具体适配信息请参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-window-mode#section151195853214" target="_blank">自由窗口模式适配</a>。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>自由多窗下，允许用户在一块屏幕上同时显示多个应用窗口。此时的应用窗口为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>。</p>     </div></div></div>    <div class="tiledSection">     <h3 id="section1381521612317">悬浮窗<i class="anchor-icon anchor-icon-link" anchorid="section1381521612317" tips="复制节点链接"></i></h3>          <p>悬浮窗口在电脑上是一种特殊的应用窗口，悬浮窗窗口类型为WindowType.TYPE_FLOAT，可以在已有的任务基础上，创建一个始终在前台显示的窗口，通常位于所有应用窗口之上。即使创建悬浮窗的任务退至后台，悬浮窗仍然可以在前台显示。开发者可以参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/application-window-stage#设置全局悬浮窗受限开放" target="_blank">设置悬浮窗</a>章节创建悬浮窗，并对悬浮窗进行属性设置等操作。</p>    </div>    <ul>     <li>后台拉起悬浮窗      <div class="p">       使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#minimize11" target="_blank">minimize()</a>设置主窗口最小化后，延迟调用创建悬浮窗的接口，实现后台拉起悬浮窗的场景（此处为举例说明）。       <div class="screenLinkPre"><div _ngcontent-ibi-c106="" class="highlight-div"><div _ngcontent-ibi-c106="" class="highlight-div-header"><div _ngcontent-ibi-c106="" class="highlight-div-header-left"><div _ngcontent-ibi-c106="" class="handle-button expand-button"><div _ngcontent-ibi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibi-c106="" class="highlight-div-header-right"><div _ngcontent-ibi-c106="" class="handle-button ai-button"></div><div _ngcontent-ibi-c106="" class="handle-button line-button"><div _ngcontent-ibi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibi-c106="" class="handle-button theme-button"><div _ngcontent-ibi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibi-c106="" class="handle-button copy-button"><div _ngcontent-ibi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibi-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/PCProject/entry/src/main/ets/pages/Index.ets#L29-L53" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">async</span> <span class="hljs-title function_">createFloatWindowBackground</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">getLastWindow</span>(context, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, topWindow</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'%{public}s'</span>,</li><li>          <span class="hljs-string">`Failed to obtain the top window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      topWindow.<span class="hljs-title function_">minimize</span>().<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'%{public}s'</span>,</li><li>          <span class="hljs-string">`Failed to minimize the window. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      });</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'%{public}s'</span>,</li><li>        <span class="hljs-string">`Succeeded in obtaining the top window. Window id: <span class="hljs-subst">${topWindow.getWindowProperties().id}</span>`</span>);</li><li>      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createFloatWindow</span>();</li><li>      }, <span class="hljs-number">5000</span>);</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'%{public}s'</span>,</li><li>      <span class="hljs-string">`Failed to obtain the top window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/PCProject/entry/src/main/ets/pages/Index.ets#L29-L53" target="_blank">Index.ets</a></div></div></div></div>      </div></li>     <li>移动悬浮窗      <p>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#startmoving14" target="_blank">startMoving()</a>接口实现拖拽移动悬浮窗的场景。</p>      <div class="screenLinkPre"><div _ngcontent-ibi-c106="" class="highlight-div"><div _ngcontent-ibi-c106="" class="highlight-div-header"><div _ngcontent-ibi-c106="" class="highlight-div-header-left"><div _ngcontent-ibi-c106="" class="handle-button expand-button"><div _ngcontent-ibi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibi-c106="" class="highlight-div-header-right"><div _ngcontent-ibi-c106="" class="handle-button ai-button"></div><div _ngcontent-ibi-c106="" class="handle-button line-button"><div _ngcontent-ibi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibi-c106="" class="handle-button theme-button"><div _ngcontent-ibi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibi-c106="" class="handle-button copy-button"><div _ngcontent-ibi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibi-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/PCProject/entry/src/main/ets/pages/Index.ets#L218-L237" data-highlighted="yes"><ol class="linenums"><li>.<span class="hljs-title function_">onTouch</span>(<span class="hljs-function">(<span class="hljs-params">event: TouchEvent</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (event.<span class="hljs-property">type</span> === <span class="hljs-title class_">TouchType</span>.<span class="hljs-property">Down</span>) {</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">findWindow</span>(<span class="hljs-string">'floatWindow'</span>);</li><li>      <span class="hljs-keyword">if</span> (!windowClass) {</li><li>        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Failed to find window.'</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass.<span class="hljs-title function_">startMoving</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Succeeded in starting moving window.'</span>)</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'%{public}s'</span>,</li><li>          <span class="hljs-string">`Failed to start moving. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      });</li><li>    } <span class="hljs-keyword">catch</span> (err) {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'%{public}s'</span>,</li><li>        <span class="hljs-string">`Failed to start moving window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>})</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/PCProject/entry/src/main/ets/pages/Index.ets#L218-L237" target="_blank">Index.ets</a></div></div></div></div></li>     <li>在悬浮窗中拉起主窗      <p>使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext#startability-1" target="_blank">startAbility()</a>指定want内容，拉起主窗。</p></li>    </ul>    <div class="tiledSection">     <h3 id="section9728106164014">适配窗口显示方向<i class="anchor-icon anchor-icon-link" anchorid="section9728106164014" tips="复制节点链接"></i></h3>          <p>电脑上的窗口显示方向<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#orientation9" target="_blank">Orientation</a>效果始终跟随屏幕显示方向<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#orientation10" target="_blank">Orientation</a>的效果，屏幕显示方向由具体产品定义（MateBook Pro只支持竖屏，MateBook Fold支持三个方向），具体信息可参考<a href="/consumer/cn/doc/best-practices/bpta-pc-guide#section127915358619">硬件说明</a>。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>由于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setpreferredorientation9" target="_blank">window.setPreferredOrientation()</a>设置窗口方向无效，不建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setpreferredorientation9" target="_blank">window.setPreferredOrientation()</a>设置电脑的窗口方向，也不建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getpreferredorientation12" target="_blank">getPreferredOrientation()</a>获取窗口的显示方向。</p>      </div></div></div>    </div>    <div class="tiledSection">     <h3 id="section1681214371282">适配窗口沉浸式<i class="anchor-icon anchor-icon-link" anchorid="section1681214371282" tips="复制节点链接"></i></h3>          <p>不同设备的沉浸式策略，推荐通过窗口模式或方向进行区分，而非依赖设备类型判断。可通过动态识别当前窗口模式（如全屏、分屏、自由窗口等）和方向，针对不同窗口形态实施定制化的沉浸式策略。适配窗口沉浸式请参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-window-immersive" target="_blank">窗口沉浸式</a>。</p>     <p><strong>建议适配不同窗口模式的沉浸式</strong></p>     <p>电脑设备支持的三种窗口模式：全屏、分屏、自由悬浮窗口（其中自由悬浮窗口分为自由窗口和悬浮窗）。应用可根据支持的窗口模式进行沉浸式适配，详情可参考窗口沉浸式的<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-window-immersive#section14198114410189" target="_blank">支持不同窗口模式</a>章节。</p>     <p><strong>建议适配不同窗口方向的沉浸式</strong></p>     <p>电脑设备MateBookPro仅支持竖屏方向，MateBookFold支持竖屏、横屏、反向横屏三个方向。不同窗口方向对应的避让区（如挖孔区）不同，在不同旋转状态下避让区会发生变化。窗口方向变化引起避让区变化的适配方案可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-window-immersive#section19755816161920" target="_blank">支持不同窗口方向</a>。</p>    </div>    <div class="tiledSection">     <h2 id="section583511558587">界面开发<i class="anchor-icon anchor-icon-link" anchorid="section583511558587" tips="复制节点链接"></i></h2>          <p>电脑的响应式布局，详情可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-pc-guide#section583511558587" target="_blank">电脑布局设计</a>。</p>    </div>    <div class="tiledSection">     <h3 id="section1385720593612" class="firsth2">典型布局场景<i class="anchor-icon anchor-icon-link" anchorid="section1385720593612" tips="复制节点链接"></i></h3>          <p>电脑设备上常见的响应式布局方式包括重复布局、分栏布局、挪移布局和缩进布局。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.44.3.1.5.1.1" valign="top" width="10.47%">          <p>响应式布局方式</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.44.3.1.5.1.2" valign="top" width="8.94%">          <p>典型布局场景</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.44.3.1.5.1.3" valign="top" width="17.06%">          <p>实现方案</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.44.3.1.5.1.4" valign="top" width="63.53%">          <p>效果图</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" rowspan="4" valign="top" width="10.47%">          <p>重复布局</p></td>         <td class="cellrowborder" valign="top" width="8.94%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout#section122004555383" target="_blank">列表布局</a></p></td>         <td class="cellrowborder" valign="top" width="17.06%">          <p>List组件+断点</p></td>         <td class="cellrowborder" valign="top" width="63.53%">          <p><span><img height="350.2975" originheight="1600" originwidth="2560" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163317.64600284195376940266342662870156:50001231000000:2800:90E779177C14779E935E430912AFB2E22057BA1CB75C2C6EEC5381E4CE50D190.png" title="点击放大" width="560.476"></span></p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top">          <p><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout#section4502451713" target="_blank">瀑布流布局</a></p></td>         <td class="cellrowborder" valign="top">          <p>WaterFlow组件+断点</p></td>         <td class="cellrowborder" valign="top">          <p><span><img height="83.095" originheight="1600" originwidth="2560" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163317.84356072235272796030239564297861:50001231000000:2800:F7B63EFFA7CCBCA81F5F0C9182779C4AEA7D0FFE15F2531D0C2279A29F4F7A99.png" title="点击放大" width="132.952"></span></p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top">          <p><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout#section17659141914012" target="_blank">轮播布局</a></p></td>         <td class="cellrowborder" valign="top">          <p>Swiper组件+断点</p></td>         <td class="cellrowborder" valign="top">          <p><span><img height="83.095" originheight="1600" originwidth="2560" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163317.50760671647365803402543330759564:50001231000000:2800:56698C1FD1CEC33097CEE0C905719B544D9FE94557CDB1E1D12AC1A3F013661C.png" title="点击放大" width="132.952"></span></p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top">          <p><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout#section1373617413916" target="_blank">网格布局</a></p></td>         <td class="cellrowborder" valign="top">          <p>Grid组件+断点</p></td>         <td class="cellrowborder" valign="top">          <p><span><img height="83.095" originheight="1600" originwidth="2560" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163317.99845108311064804268367025859982:50001231000000:2800:B3794C7BA8EAA7A6C10F4BFF648B1F7DD7882414FE868E1727063FD927ECF077.png" title="点击放大" width="132.952"></span></p></td>        </tr>        <tr>         <td class="cellrowborder" rowspan="3" valign="top" width="10.47%">          <p>分栏布局</p></td>         <td class="cellrowborder" valign="top" width="8.94%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout#section10393142415418" target="_blank">侧边栏</a></p></td>         <td class="cellrowborder" valign="top" width="17.06%">          <p>SideBarContainer组件+断点</p></td>         <td class="cellrowborder" valign="top" width="63.53%">          <p><span><img height="350.2975" originheight="1600" originwidth="2560" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163318.90664143892266474640002070729211:50001231000000:2800:267820EF6CF35423C0F2F2C435435AB573338ECBCCDBCD5193F27B06B99E6E1B.png" title="点击放大" width="560.476"></span></p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top">          <p><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout#section498443175014" target="_blank">侧边分级导航栏</a></p></td>         <td class="cellrowborder" valign="top">          <p>SideBarContainer组件+Tabs组件+断点</p></td>         <td class="cellrowborder" valign="top">          <p><span><img height="83.095" originheight="1600" originwidth="2560" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163318.45884074611455225808618724696693:50001231000000:2800:D733740C1F834040C464A8891050709EAD8E7D79E32CA4A1D8804E1A31AD23FE.png" title="点击放大" width="132.952"></span></p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top">          <p><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout#section5436540101314" target="_blank">三分栏</a></p></td>         <td class="cellrowborder" valign="top">          <p>SideBarContainer组件+Navigation组件+断点</p></td>         <td class="cellrowborder" valign="top">          <p><span><img height="83.095" originheight="1600" originwidth="2560" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163318.04109760102166544488936188775108:50001231000000:2800:BC0594CB9D743322B2A9CB855B7F8FA6CDC7974A62C701EC226001D70E6B6B99.png" title="点击放大" width="132.952"></span></p></td>        </tr>        <tr>         <td class="cellrowborder" rowspan="2" valign="top" width="10.47%">          <p>挪移布局</p></td>         <td class="cellrowborder" valign="top" width="8.94%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout#section12847170175118" target="_blank">插图和文字组合布局</a></p></td>         <td class="cellrowborder" valign="top" width="17.06%">          <p>GridRow/GridCol组件+断点+栅格</p></td>         <td class="cellrowborder" valign="top" width="63.53%">          <p><span><img height="350.2975" originheight="1600" originwidth="2560" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163318.49630845559531433807212425233839:50001231000000:2800:3D1D2C2CD46AB54C35A1B46B9C63CB8F93735202EB34875EDEB62DFC25D4711B.png" title="点击放大" width="560.476"></span></p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top">          <p><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout#section498443175014" target="_blank">底部/侧边导航</a></p></td>         <td class="cellrowborder" valign="top">          <p>SideBarContainer组件+断点</p></td>         <td class="cellrowborder" valign="top">          <p><span><img height="83.095" originheight="1600" originwidth="2560" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163318.52857843354299466754864199844064:50001231000000:2800:67364E14C1E1AFB19BE29B9A01BC544C17B00FE0449BB8E44F244D3BF2CBC47F.png" title="点击放大" width="132.952"></span></p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="10.47%">          <p>缩进布局</p></td>         <td class="cellrowborder" valign="top" width="8.94%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout#section1182411101519" target="_blank">单列列表布局</a></p></td>         <td class="cellrowborder" valign="top" width="17.06%">          <p>GridRow/GridCol组件+断点+栅格</p></td>         <td class="cellrowborder" valign="top" width="63.53%">          <p style="color: rgb(255,0,0);"><span><img height="350.2975" originheight="1600" originwidth="2560" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163318.04591871046590925015386943128824:50001231000000:2800:88B408B748005AF0A87C11ACA7A986EEA99AC72A2AB98A6E86EFBCA58E1F1ABB.png" title="点击放大" width="560.476"></span></p></td>        </tr>             </tbody></table></div>     </div>     <p>上述典型布局场景的实现方式可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout" target="_blank">页面布局场景</a>。复杂的分栏布局，例如：在单栏和三栏布局之间切换时的路由跳转，可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-page-layout#section11897247142110" target="_blank">分栏布局</a>。</p>    </div>    <div class="tiledSection">     <h3 id="section07741052141513">适配深浅色模式<i class="anchor-icon anchor-icon-link" anchorid="section07741052141513" tips="复制节点链接"></i></h3>          <p>当前系统存在深浅色两种显示模式，为了给用户更好的使用体验，应用应适配深浅色模式，具体适配规范可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-dark-light-color-adaptation" target="_blank">应用深浅色适配</a>。</p>    </div>    <div class="tiledSection">     <h2 id="section1634505165912">交互适配<i class="anchor-icon anchor-icon-link" anchorid="section1634505165912" tips="复制节点链接"></i></h2>          <p>本章节介绍电脑上常用交互事件，并以电脑上视频类应用为案例，介绍手势/按键相关功能的开发指导。</p>    </div>    <div class="tiledSection">     <h3 id="section1674464181912" class="firsth2">常用交互事件<i class="anchor-icon anchor-icon-link" anchorid="section1674464181912" tips="复制节点链接"></i></h3>          <p>电脑设备上的应用，需要考虑更多交互场景，鼠标、键盘和触控板的适配请参考<a href="https://developer.huawei.com/consumer/cn/doc/design-guides/ux-guidelines-large-screen-0000001807707561#section65561444209" target="_blank">大屏应用交互体验标准</a>。</p>     <p>常见交互事件包含以下5个方面：</p>     <ul>      <li>交互归一：在电脑设备上，应用应保证用户体验与其他设备上保持一致。开发方案请参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-interaction#section088812013815" target="_blank">交互归一事件适配</a>。</li>      <li>鼠标悬浮效果：电脑设备上的应用支持交互的UI组件建议都要适配鼠标悬浮效果。开发方案请参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-interaction#section088812013815" target="_blank">交互归一事件适配</a>的悬浮场景。</li>      <li>焦点导航：电脑设备自带键盘，应用应支持通过键盘实现焦点导航，指示用户当前焦点位置。开发方案请参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-interaction#section168661941154220" target="_blank">焦点导航事件适配</a>。</li>      <li>键盘快捷键：应用需要支持响应常用快捷键，便于用户快速操作。开发方案请参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-interaction#section151791829184110" target="_blank">基础输入事件</a>的按键事件适配。</li>      <li>拖拽：拖拽操作通过鼠标或触控实现跨应用数据交互，支持文字、图片、文件及图文混合内容的传输，可显著提升操作效率与用户体验。开发方案请参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-unified-drag-and-drop" target="_blank">统一拖拽</a>。</li>     </ul>    </div>    <div class="tiledSection">     <h2 id="section8405105782317">功能开发<i class="anchor-icon anchor-icon-link" anchorid="section8405105782317" tips="复制节点链接"></i></h2>          <p>针对电脑设备无后置摄像头的硬件特性，应用需通过功能适配策略解决<a href="/consumer/cn/doc/best-practices/bpta-pc-guide#section7919713141911">拍照/录像</a>及<a href="/consumer/cn/doc/best-practices/bpta-pc-guide#section118098394242">扫一扫</a>场景的兼容性问题，对于<a href="/consumer/cn/doc/best-practices/bpta-pc-guide#section0638656152519">音频焦点</a>及<a href="/consumer/cn/doc/best-practices/bpta-pc-guide#section515211420267">剪贴板</a>场景也需优先处理音频焦点管理与剪贴板权限差异，以确保任务场景的稳定性。</p>    </div>    <div class="tiledSection">     <h3 id="section7919713141911" device-type="null" class="firsth2">适配相机的旋转角度<i class="anchor-icon anchor-icon-link" anchorid="section7919713141911" tips="复制节点链接"></i></h3>          <p>当折叠电脑处于不同的设备状态时，屏幕的状态也会有所不同。在这种情况下，相机应用预览输出的原始图像需要旋转不同的角度，以确保图像在正确的方向上显示。（预览旋转角度= 镜头安装角度+屏幕显示补偿角度，屏幕显示补偿角度的值与屏幕旋转角度相同。若要自行获取镜头安装角度，可以参考：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameramanager#getsupportedcameras" target="_blank">getSupportedCameras()</a>）</p>     <p>在预览时，预览旋转角度与屏幕显示旋转角度（<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#属性" target="_blank">Display</a>.rotation）相关。若要适配相机的旋转角度，则需要在session调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-session#commitconfig11" target="_blank">commitConfig</a>完成配流后，配置输出流：</p>     <ol>      <li>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#displaygetdefaultdisplaysync9" target="_blank">display.getDefaultDisplaySync()</a>接口获取<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#属性" target="_blank">Display</a>对象并读取其rotation属性值，获得显示设备的屏幕旋转角度。</li>      <li>并根据<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/camera-rotation-term#section1283585910517" target="_blank">相机镜头角度</a>+<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/camera-rotation-term#section106421042912" target="_blank">屏幕显示旋转角度</a>的值计算<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/camera-rotation-term#section11826104333019" target="_blank">预览旋转角度</a>，可参考<a href="/consumer/cn/doc/best-practices/bpta-pc-guide#section6957183310132">其他硬件信息</a>查看对应预览旋转角度。</li>      <li>再调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-previewoutput#setpreviewrotation12" target="_blank">setPreviewRotation()</a>接口，设置图像的预览旋转角度。</li>     </ol>     <p>具体开发指导可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/camera-rotation-angle-adaptation#section1819315424275" target="_blank">适配相机旋转角度-预览</a>。</p>     <p><strong>应用对接预览流二次处理场景下的问题</strong></p>     <p>若三方应用接口对接的是预览流二次处理，导致系统无法将镜头安装角度补充到预览旋转角度中，导致不能使用系统现有的能力，因此向应用提供两种方案：</p>     <ul>      <li>若应用不需要非镜像成像，建议应用在预览流二次处理后，直接套用系统现有的角度计算方法，应用补偿相机镜头安装角度进行适配。</li>      <li>若应用需要非镜像成像，建议应用在预览流二次处理后，自行开发一套角度计算公式，应用自行适配。（非镜像成像场景下，自行适配的性能大大优于补偿相机镜头安装角度的方法）</li>     </ul>    </div>    <div class="tiledSection">     <h3 id="section118098394242">扫一扫<i class="anchor-icon anchor-icon-link" anchorid="section118098394242" tips="复制节点链接"></i></h3>          <p>由于电脑设备无后置摄像头的硬件特性，前置摄像头不便进行扫一扫操作，因此电脑端的系统暂不支持扫码能力，具体限制场景可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scan-introduction#section4799111216538" target="_blank">统一扫码服务</a>。</p>     <p>应用在电脑上调用扫码能力时，需先验证设备是否支持扫码功能后进行扫码操作，以确保应用不会闪退。可通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-syscap#caniuse" target="_blank">canIUse()</a>接口查询系统是否具备扫一扫的能力，若系统能力SystemCapability.Multimedia.Scan.ScanBarcode的验证结果为true表示系统具备扫码能力，false表示系统不具备扫码能力。</p>     <div class="screenLinkPre"><div _ngcontent-ibi-c106="" class="highlight-div"><div _ngcontent-ibi-c106="" class="highlight-div-header"><div _ngcontent-ibi-c106="" class="highlight-div-header-left"><div _ngcontent-ibi-c106="" class="handle-button expand-button"><div _ngcontent-ibi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibi-c106="" class="highlight-div-header-right"><div _ngcontent-ibi-c106="" class="handle-button ai-button"></div><div _ngcontent-ibi-c106="" class="handle-button line-button"><div _ngcontent-ibi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibi-c106="" class="handle-button theme-button"><div _ngcontent-ibi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibi-c106="" class="handle-button copy-button"><div _ngcontent-ibi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibi-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-php" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/PCProject/entry/src/main/ets/pages/Index.ets#L192-L211" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title function_ invoke__">Button</span>(<span class="hljs-string">'Scan Bar Code'</span>, { <span class="hljs-attr">controlSize</span>: ControlSize.SMALL })</li><li>  .<span class="hljs-title function_ invoke__">width</span>(<span class="hljs-number">448</span>)</li><li>  .<span class="hljs-title function_ invoke__">margin</span>({</li><li>    <span class="hljs-attr">right</span>: <span class="hljs-number">16</span>,</li><li>    <span class="hljs-attr">bottom</span>: <span class="hljs-number">16</span>,</li><li>    <span class="hljs-attr">left</span>: <span class="hljs-number">16</span></li><li>  })</li><li>  .<span class="hljs-title function_ invoke__">onClick</span>(() =&gt; {</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">isLocationAvailable</span> = <span class="hljs-title function_ invoke__">canIUse</span>(<span class="hljs-string">'SystemCapability.Multimedia.Scan.ScanBarcode'</span>);</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">if</span> (isLocationAvailable) {</li><li>        this.<span class="hljs-title function_ invoke__">getUIContext</span>().<span class="hljs-title function_ invoke__">getPromptAction</span>().<span class="hljs-title function_ invoke__">showToast</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'Scan bar code.'</span> });</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        this.<span class="hljs-title function_ invoke__">getUIContext</span>().<span class="hljs-title function_ invoke__">getPromptAction</span>().<span class="hljs-title function_ invoke__">showToast</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'Scan bar code is not supported'</span> });</li><li>      }</li><li>    } <span class="hljs-keyword">catch</span> (err) {</li><li>      hilog.<span class="hljs-title function_ invoke__">error</span>(DOMAIN, TAG, <span class="hljs-string">'%{public}s'</span>,</li><li>        `showToast args error. Cause <span class="hljs-attr">code</span>: ${err.code}, <span class="hljs-attr">message</span>: ${err.message}`);</li><li>    }</li><li>  })</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/PCProject/entry/src/main/ets/pages/Index.ets#L192-L211" target="_blank">Index.ets</a></div></div></div></div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>应用获取到当前设备不支持扫码能力后，需要进行如下的处理：</p>       <ul>        <li>建议应用侧弹出与“当前设备暂不支持扫码”相同或类似的弹窗。</li>        <li>删除整个扫一扫的功能。</li>       </ul>      </div></div></div>    </div>    <div class="tiledSection">     <h3 id="section0638656152519">音频焦点适配<i class="anchor-icon anchor-icon-link" anchorid="section0638656152519" tips="复制节点链接"></i></h3>          <p>电脑上前后台应用需从以下四个方面处理音频焦点问题：<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-audio-focus-management#section538110641114" target="_blank">音频焦点抢占流程</a>，<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-audio-focus-management#section16381186101113" target="_blank">音频流类型正确配置</a>，<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-audio-focus-management#section14383666111" target="_blank">自定义焦点策略设置</a>，<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-audio-focus-management#section1338416621118" target="_blank">焦点中断事件正确处理</a>。</p>     <p>电脑设备场景下的管理机制与其他设备相通，主要区别在于系统默认策略不一样，开发者可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-audio-focus-management#section123975612118" target="_blank">系统默认焦点策略表</a>查看电脑与其他设备间的差异。</p>    </div>    <div class="tiledSection">     <h3 id="section515211420267">剪贴板适配<i class="anchor-icon anchor-icon-link" anchorid="section515211420267" tips="复制节点链接"></i></h3>          <p>允许应用读取剪贴板的权限<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/restricted-permissions#ohospermissionread_pasteboard" target="_blank">ohos.permission.READ_PASTEBOARD</a>受限使用，电脑设备均可申请，但其他设备只有在银行卡号复制、口令复制、输入法和文档编辑类应用场景可申请该权限，其余场景需<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/pastebutton" target="_blank">使用粘贴控件</a>读取剪贴板数据。剪贴板的具体开发指导可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/pasteboard" target="_blank">剪贴板服务</a>，具体开发实例可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-distributed-pasteboard" target="_blank">跨设备剪贴板</a>。</p>    </div>    <div class="tiledSection">     <h3 id="section29345271414">性能优化<i class="anchor-icon anchor-icon-link" anchorid="section29345271414" tips="复制节点链接"></i></h3>          <p>电脑应用的性能优化直接影响用户体验、运行效率和硬件资源利用率。HarmonyOS为开发者提供<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-optimization-overview#section2012922312284" target="_blank">DevEco Profiler</a>工具，支持全维度性能监控（CPU/GPU/内存/帧率/能耗/网络等），以及代码级定位分析，协助开发者快速发现并优化性能瓶颈。性能工具使用指导可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-insight-description" target="_blank">性能优化概述</a>，性能场景优化案例可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-scenario-performance-optimization" target="_blank">性能场景优化案例</a>。</p>     <p>对于电脑中的关键线程，可以通过提升任务调度优先级，确保其获得足够的连续执行时间和资源，从而保障应用流畅运行，优化用户体验。详情可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-thread-priority-setting" target="_blank">高负载场景线程优先级设置</a>。</p>    </div>    <div class="tiledSection">     <h2 id="section1650910471918">兼容模式<i class="anchor-icon anchor-icon-link" anchorid="section1650910471918" tips="复制节点链接"></i></h2>          <ul>      <li><strong>兼容运行</strong>       <p>兼容运行是HarmonyOS为开发者提供的在电脑设备上直接运行手机/Pad应用的方式。</p>       <p><strong>兼容运行在电脑设备的窗口模式</strong></p>       <p>手机/Pad应用兼容运行在电脑设备上，窗口默认体验：</p>       <ul>        <li>如果应用支持横屏，应用以横屏窗口固定大小显示（窗口高度为屏幕高度的2/3，宽度比高度为1:1）。         <p><span><img height="544.1562" originheight="2673" originwidth="3918" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163318.97512479548581547828685922430864:50001231000000:2800:23BB356F41C64873C237C8847E42CC6E0FA51C34EE1C284606434CE293635207.png" title="点击放大" width="798"></span></p></li>        <li>如果是应用仅支持竖屏，以竖屏窗口固定大小显示（窗口高度为屏幕高度的2/3，宽度比高度为9:18）。         <div class="p">          <span><img height="544.1562" originheight="2673" originwidth="3918" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163318.81421622929463949855133129466804:50001231000000:2800:4D27E6AD5D030B355A8F6E7AF119B5854875FCC7A741FC83ADDA2DA01924BCEA.png" title="点击放大" width="798"></span>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">            <p>兼容应用不支持进入最大化。</p>           </div></div></div>         </div></li>       </ul>       <p><strong>窗口模式的白名单策略</strong></p>       <p>操作系统中预置了白名单功能，通过该白名单控制应用的默认显示比例，其中包括18:9、1:1和全屏铺满。</p></li>      <li><strong>兼容运行工程配置</strong>       <p>已经支持手机/Pad的应用，在电脑上兼容运行。在应用Entry Module的module.json5中去除对2in1设备的支持：</p>       <div _ngcontent-ibi-c106="" class="highlight-div"><div _ngcontent-ibi-c106="" class="highlight-div-header"><div _ngcontent-ibi-c106="" class="highlight-div-header-left"><div _ngcontent-ibi-c106="" class="handle-button expand-button"><div _ngcontent-ibi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibi-c106="" class="highlight-div-header-right"><div _ngcontent-ibi-c106="" class="handle-button ai-button"></div><div _ngcontent-ibi-c106="" class="handle-button line-button"><div _ngcontent-ibi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibi-c106="" class="handle-button theme-button"><div _ngcontent-ibi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibi-c106="" class="handle-button copy-button"><div _ngcontent-ibi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibi-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-bash" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-string">"deviceTypes"</span>: [</li><li>    <span class="hljs-string">"default"</span>,</li><li>    <span class="hljs-string">"tablet"</span>,</li><li>    <span class="hljs-string">"2in1"</span>(去除)</li><li>]</li></ol></pre></div></div>       <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">         <p>Entry Module所依赖的module同名配置文件也需要同步修改。</p>        </div></div></div></li>      <li><strong>应用兼容性调试</strong>       <p>开发者在生态初期采用兼容方式上架电脑，生态逐步成熟后，允许开发者持续在电脑设备上做横屏适配，因此系统提供一个设置选项，用于系统兼容策略。</p>       <p><strong>电脑设备上清除系统窗口锁定的方法</strong></p>       <p>在应用安装后，检查设置中的此应用的设置项（设置-&gt;显示和亮度-&gt;应用显示布局），将比例调整为原始比例可以退出兼容模式，以供开发者调试。</p>       <p><span><img height="707.5866" originheight="767" originwidth="865" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163319.24357824680040127974701006554229:50001231000000:2800:5135957C997A2628AB42E143D022B2E7FE941661B6609F996BACD5E30D7A9DF7.png" title="点击放大" width="798"></span></p></li>      <li><strong>兼容运行上架配置</strong>       <p><strong>电脑兼容运行方式如何上架</strong></p>       <p>应用上架过程中，在基本信息中，勾选“兼容分发到PC/2in1的AppGallery”选项，参考下图红圈处：</p>       <p><span><img originheight="405" originwidth="865" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163319.06279902236514912728900741093898:50001231000000:2800:5D387A842512F5AE1591AE32F6388E512CBA7329CD2126124C7270CBF9211BD4.png" width="865" height="405"></span></p>       <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">         <p>若在支持设备处选择“PC/2in1”上架，则不会进入兼容运行模式，系统兼容能力将不会生效。</p>        </div></div></div></li>      <li><strong>需要排查或简单适配内容</strong>       <p><strong>兼容模式下应用运行和适配的原则</strong></p>       <p>原则上，兼容应用仅需要对差异化部分做少量适配或不适配，是否需要适配，参考下方文档进行排查和处理。</p>       <p><strong>相机显示问题</strong></p>       <p>建议严格按规范适配，确保相机图像方向角度正常且不会出现内容挤压，参考：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/camera-kit" target="_blank">Camera Kit（相机服务）</a>。</p>       <p>电脑设备硬件上无后置摄像头，所以拍照录像及扫一扫等场景需要适配，否则会出现功能不可用或者闪退等情况。</p>       <div class="tablenoborder">        <div class="tbBox"><table class="layoutFixed idpTab">         <thead>          <tr>           <th align="left" class="cellrowborder" id="mcps1.3.54.2.5.7.1.3.1.1" valign="top" width="18.95%">            <p>适配点</p></th>           <th align="left" class="cellrowborder" id="mcps1.3.54.2.5.7.1.3.1.2" valign="top" width="81.05%">            <p>适配指导</p></th>          </tr>         </thead>                   <tbody><tr>           <td class="cellrowborder" valign="top" width="18.95%">            <p>扫一扫功能适配</p></td>           <td class="cellrowborder" valign="top" width="81.05%">            <p>方案一：电脑上直接屏蔽扫一扫功能。</p>            <p>方案二：默认使用前置摄像头扫码。</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="18.95%">            <p>拍照录像默认使用前置摄像头</p></td>           <td class="cellrowborder" valign="top" width="81.05%">            <p>应用先调用getSupportedCameras获取系统可用相机列表，如果拿不到CameraPosition为CAMERA_POSITION_BACK的CameraDevice，就使用CAMERA_POSITION_FRONT的CameraDevice。</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="18.95%">            <p>人脸识别</p></td>           <td class="cellrowborder" valign="top" width="81.05%">            <p>三方人脸识别KIT，在通过相机规范适配图像角度，保障画面正常后，按需进行算法训练。保障人脸识别的准确性。</p></td>          </tr>                 </tbody></table></div>       </div>       <p><strong>接口行为差异</strong></p>       <div class="tablenoborder">        <div class="tbBox"><table class="layoutFixed idpTab">         <thead>          <tr>           <th align="left" class="cellrowborder" id="mcps1.3.54.2.5.9.1.4.1.1" valign="top" width="12.07120712071207%">            <p>差异点</p></th>           <th align="left" class="cellrowborder" id="mcps1.3.54.2.5.9.1.4.1.2" valign="top" width="45.33453345334533%">            <p><strong>接口行为差异</strong></p></th>           <th align="left" class="cellrowborder" id="mcps1.3.54.2.5.9.1.4.1.3" valign="top" width="42.594259425942596%">            <p><strong>影响场景</strong></p></th>          </tr>         </thead>                   <tbody><tr>           <td class="cellrowborder" valign="top" width="12.07120712071207%">            <p>Display尺寸</p></td>           <td class="cellrowborder" valign="top" width="45.33453345334533%">            <p>兼容模式下，通过以下接口获取到的Display.width和Display.height、以及DPI，不是设备真实分辨率和DPI：</p>            <p>1）display.getAllDisplays()</p>            <p>2）display.getDisplayByIdSync()</p>            <p>3）display.getDefaultDisplaySync()</p></td>           <td class="cellrowborder" valign="top" width="42.594259425942596%">            <p>电脑自由多窗模式：自由窗口和最大化场景</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="12.07120712071207%">            <p>方向请求</p></td>           <td class="cellrowborder" valign="top" width="45.33453345334533%">            <p>兼容模式下，应用通过window.setPreferredOrientation申请横/竖屏方向，会触发应用窗口在横屏全屏/竖屏居中之间切换，不会改变屏幕方向</p></td>           <td class="cellrowborder" valign="top" width="42.594259425942596%">            <p>电脑自由多窗模式：自由窗口和最大化场景</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="12.07120712071207%">            <p>画中画</p></td>           <td class="cellrowborder" valign="top" width="45.33453345334533%">            <p>电脑设备交互体验与手机不同，暂不支持画中画，不会崩溃，画中画窗口不会显示。</p></td>           <td class="cellrowborder" valign="top" width="42.594259425942596%">            <p>移动应用在电脑上调用画中画接口不会崩溃，但是也无法回到画中画界面。</p></td>          </tr>                 </tbody></table></div>       </div>       <p><strong>返回键差异</strong></p>       <p>由于手机和电脑操作存在差异，部分页面无返回键，手机可通过屏幕边缘向内滑动进行返回，但电脑无此功能，因此电脑系统已在窗口界面上设置返回键，模拟手指从屏幕边缘向内滑动返回上一界面的行为。</p>       <p>电脑窗口的返回键效果图如下：</p>       <p><span><img height="547.9866" originheight="594" originwidth="865" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163319.29985606937711824558721756531927:50001231000000:2800:4FD533BC4499BFDBDCC8B35ED40D1A108C7574965982FABBFCE0FB269C7E1C82.png" title="点击放大" width="798"></span></p>       <p><strong>安全键盘的差异</strong></p>       <p>电脑设备上默认带物理键盘，对于安全登录的场景，如果应用的实现是基于私有的安全键盘SDK，用户通过物理键盘输入时，可能会出现密码明文显示、无法输入、输入后无法提交等问题。</p>       <ul>        <li>建议修改方案一：         <p>密码输入框如果是使用ArkUI的TextInput等输入控件，请将InputType设置为Password，即设置为密码模式。参考链接：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-textinput#inputtype枚举说明" target="_blank">TextInput</a>。</p></li>        <li>建议修改方案二：         <p>对于使用私有安全键盘的应用，密码输入控件可以直接禁止物理键盘输入，即在控件中绑定onKeyPreIme()方法并返回true。参考链接：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-events-key#onkeypreime12" target="_blank">onKeyPreIme</a>。</p></li>       </ul>       <p><strong>文件沙箱的差异</strong></p>       <p>由于不同设备的文件访问权限存在差异，且移动应用可能通过主动分发或兼容模式运行于平板、电脑等多种终端，开发时需关注以下两点：</p>       <ul>        <li>开发时应遵循<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-sandbox-directory" target="_blank">应用沙箱目录</a>开发规范，将文件存储于正确目录中。</li>        <li>开发时对敏感数据进行<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/huks-kit" target="_blank">加密存储</a>，保障应用安全与用户隐私，防范数据泄露。</li>       </ul>       <p><strong>PhotoPicker的差异</strong></p>       <p>电脑设备和tablet设备均支持使用PhotoPicker组件访问图片/视频。</p>       <p>不同Picker访问范围：</p>       <div class="tablenoborder">        <div class="tbBox"><table class="layoutFixed idpTab">         <thead>          <tr>           <th align="left" class="cellrowborder" id="mcps1.3.54.2.5.23.1.3.1.1" valign="top" width="50%">            <p>Picker</p></th>           <th align="left" class="cellrowborder" id="mcps1.3.54.2.5.23.1.3.1.2" valign="top" width="50%">            <p>可访问范围</p></th>          </tr>         </thead>                   <tbody><tr>           <td class="cellrowborder" valign="top" width="50%">            <p>PhotoPicker（PhotoViewPicker）</p></td>           <td class="cellrowborder" valign="top" width="50%">            <p>访问媒体库内的图片/视频。</p>            <p>支持保存图片/视频到媒体库</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="50%">            <p>FilePicker（DocumentViewPicker）</p></td>           <td class="cellrowborder" valign="top" width="50%">            <p>访问公共目录下的文件。</p>            <p>支持保存图片/视频/文件到公共目录</p></td>          </tr>                 </tbody></table></div>       </div>       <ul>        <li>建议修改方案一：         <p>应用没有访问/保存媒体库之外的文件需求，可保持继续使用PhotoPicker。</p></li>        <li>建议修改方案二：         <p>应用需要访问/保存图片/视频/文件时，建议使用FilePicker。</p>         <ul>          <li>查看文件： FilePicker可访问公共目录下的文件，同时支持访问媒体库（图库）中的图片和视频。</li>          <li>保存文件：当应用保存文件时使用FilePicker的save模式，文件由用户选择公共目录。</li>         </ul>         <div class="tablenoborder">          <div class="tbBox"><table class="layoutFixed idpTab">           <thead>            <tr>             <th align="left" class="cellrowborder" id="mcps1.3.54.2.5.24.2.3.1.4.1.1" valign="top" width="33.33333333333333%">              <p>场景</p></th>             <th align="left" class="cellrowborder" id="mcps1.3.54.2.5.24.2.3.1.4.1.2" valign="top" width="33.33333333333333%">              <p>建议方法</p></th>             <th align="left" class="cellrowborder" id="mcps1.3.54.2.5.24.2.3.1.4.1.3" valign="top" width="33.33333333333333%">              <p>实现机制</p></th>            </tr>           </thead>                       <tbody><tr>             <td class="cellrowborder" valign="top" width="33.33333333333333%">              <p>应用内新建文本/文档，用户点击应用提供的保存按钮/选项</p></td>             <td class="cellrowborder" valign="top" width="33.33333333333333%">              <p>使用FilePicker由用户选择保存路径以及文件名。</p></td>             <td class="cellrowborder" valign="top" width="33.33333333333333%">              <p>创建文件选择器DocumentViewPicker实例。调用save()接口拉起FilePicker界面进行文件保存。</p>              <p>应用如果后续需要对该文件继续访问需调用文件持久化接口对授权文件进行持久化操作。</p></td>            </tr>            <tr>             <td class="cellrowborder" valign="top" width="33.33333333333333%">              <p>应用内打开文件进行查看/编辑操作，用户点击应用提供的打开文件按钮</p></td>             <td class="cellrowborder" valign="top" width="33.33333333333333%">              <p>使用FilePicker由用户选择需要打开的文件。</p></td>             <td class="cellrowborder" valign="top" width="33.33333333333333%">              <p>创建文件选择器DocumentViewPicker实例。调用select()接口拉起FilePicker应用界面进行文件选择。</p>              <p>系统在用户选择文件后，将该文件读写权限授予应用。</p></td>            </tr>            <tr>             <td class="cellrowborder" valign="top" width="33.33333333333333%">              <p>应用内打开预制3D目录下的文件（仅限电脑设备或tablet设备）</p></td>             <td class="cellrowborder" valign="top" width="33.33333333333333%">              <p>使用3D目录预授权，用户同意后，应用可访问对应文件夹下的文件</p></td>             <td class="cellrowborder" valign="top" width="33.33333333333333%">              <p>调用系统接口，</p>              <p>下载目录： "ohos.permission.READ_WRITE_DOWNLOAD_DIRECTORY"</p>              <p>文档目录：</p>              <p>"ohos.permission.READ_WRITE_DOCUMENTS_DIRECTORY"</p></td>            </tr>            <tr>             <td class="cellrowborder" valign="top" width="33.33333333333333%">              <p>应用获取到文件/文件夹的URI，但是没有访问权限时，申请单文件/文件夹授权</p>              <p><strong>文件夹授权仅限电脑设备或tablet设备</strong></p></td>             <td class="cellrowborder" valign="top" width="33.33333333333333%">              <p>使用FilePicker授权模式，同时传递URI</p></td>             <td class="cellrowborder" valign="top" width="33.33333333333333%">              <p>创建文件选择器DocumentViewPicker实例。调用select()接口拉起FilePicker应用界面进行文件选择。携带参数authMode 与defaultFilePathUri。</p>              <p>此授权仍然为临时授权，需要应用申请文件/文件夹持久化。</p></td>            </tr>            <tr>             <td class="cellrowborder" valign="top" width="33.33333333333333%">              <p>应用选择指定目录保存文件</p></td>             <td class="cellrowborder" valign="top" width="33.33333333333333%">              <p>使用FilePicker由用户选择需要打开的文件。</p></td>             <td class="cellrowborder" valign="top" width="33.33333333333333%">              <p>创建文件选择器DocumentViewPicker实例。调用select()接口DocumentSelectMode传递参数为“FOLDER” 拉起FilePicker应用界面进行文件夹选择。</p>              <p>此授权仍然为临时授权，需要应用申请文件夹持久化。</p></td>            </tr>                     </tbody></table></div>         </div></li>       </ul>       <p><strong>使用KIT和传感器的排查</strong></p>       <p>电脑的硬件规格和手机不同，如Modem、GPS、后置摄像头等，使得应用在电脑上使用部分KIT的情况对比手机会出现如下差异化：</p>       <ul>        <li>不支持，可兼容运行：应用可通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-syscap#caniuse" target="_blank">canIUse()</a>系统接口检测此KIT是否支持，以运行对应逻辑，或屏蔽相关功能。如果应用不做修改，为保证三方应用顺利运行不出错，此类KIT API可运行，但不会生效。</li>        <li>模拟支持(Sensor)：应用可枚举此类Sensor，API可正常调用，返回固定数据。</li>        <li>支持：通过WIFI定位，代替GPS定位，精度有损失。</li>       </ul>       <div class="tablenoborder">        <div class="tbBox"><table class="layoutFixed idpTab">         <thead>          <tr>           <th align="left" class="cellrowborder" id="mcps1.3.54.2.5.28.1.4.1.1" valign="top" width="33.33333333333333%">            <p>KIT / Sensor</p></th>           <th align="left" class="cellrowborder" id="mcps1.3.54.2.5.28.1.4.1.2" valign="top" width="33.33333333333333%">            <p>PC规格</p></th>           <th align="left" class="cellrowborder" id="mcps1.3.54.2.5.28.1.4.1.3" valign="top" width="33.33333333333333%">            <p>修改建议</p></th>          </tr>         </thead>                   <tbody><tr>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>电话/短信</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>不支持，可兼容运行</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>接口可调用，但不执行。建议屏蔽相关功能入口。</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>陀螺仪/加速器</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>模拟支持</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>模拟设备静止。建议屏蔽相关功能入口。</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>Location Kit</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>支持，精度降低</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>支持WIFI定位，无特殊诉求，如导航，无需修改。</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>Scan Kit</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>不支持，可兼容运行</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>接口可调用，但不执行。建议屏蔽相关功能入口。</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>AR Engine</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>不支持，可兼容运行</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>接口可调用，但不执行。建议屏蔽相关功能入口。</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>XEngine Kit</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>不支持，可兼容运行</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>接口可调用，但不执行。建议屏蔽相关功能入口。</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>Device Security Kit</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>安全地理位置证明不支持，可兼容运行</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>接口可调用，但返回失败。建议屏蔽相关功能入口。</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>Account Kit</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>未成年人模式不支持，可兼容运行</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>接口可调用，但不执行。建议屏蔽相关功能入口。</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>Live View Kit</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>不支持，可兼容运行</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>接口可调用，但不执行。建议屏蔽相关功能入口。</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>Car Kit</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>不支持，可兼容运行</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>接口可调用，但不执行。建议屏蔽相关功能入口。</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>Graphics Accelerate Kit</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>不支持，可兼容运行</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>接口可调用，但不执行。建议屏蔽相关功能入口。</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>NFC</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>不支持，不兼容</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>不可调用，建议使用前先判断，不是所有设备支持NFC。</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>Camera</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>仅支持前置摄像头</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>建议屏蔽后置摄像头相关功能。优先使用前置摄像头。</p></td>          </tr>          <tr>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>Vision Kit</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>不支持，可兼容运行</p></td>           <td class="cellrowborder" valign="top" width="33.33333333333333%">            <p>接口可调用，但返回失败。建议屏蔽相关功能入口。</p></td>          </tr>                 </tbody></table></div>       </div></li>     </ul>    </div>    <div class="tiledSection">     <h2 id="section18854194463114">典型业务案例<i class="anchor-icon anchor-icon-link" anchorid="section18854194463114" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="section9549122318213" class="firsth2">长视频<i class="anchor-icon anchor-icon-link" anchorid="section9549122318213" tips="复制节点链接"></i></h3>          <p>在全屏播放视频时，长视频类应用通过横向大屏能有效提升用户的观看体验。详细开发方案可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/multi-video-app" target="_blank">多设备长视频界面</a>。</p>     <p><span><img height="515.2819000000001" originheight="831" originwidth="1286" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163319.63288308565689873171672559113110:50001231000000:2800:C479658631E9EEEB60440F66D069618B02B4247486F82F4E63F688AC5E45C942.png" title="点击放大" width="798"></span></p>    </div>    <p>更多垂域案例可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-ui-development" target="_blank">多设备界面开发案例</a>。</p>    <div class="tiledSection">     <h2 id="section25119571664">常见问题<i class="anchor-icon anchor-icon-link" anchorid="section25119571664" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="section835654714" class="firsth2">如何区分MateBook Pro和MateBook Fold<i class="anchor-icon anchor-icon-link" anchorid="section835654714" tips="复制节点链接"></i></h3>          <ul>      <li>页面布局类问题：       <p>页面布局由窗口形态、宽度和高宽比属性决定，不应区分产品型号或设备类型。例如MateBook Fold的横向展开态布局应该和MateBook Pro布局保持一致，MateBook Fold的其他状态对应横向断点lg的页面布局，应与平板布局保持一致。所以，布局类问题只需判断断点，开发响应式布局即可。详情可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1532120147301" target="_blank">断点</a>的使用。</p></li>      <li>非页面布局或功能类问题：       <p>由于MateBook Pro和MateBook Fold的设备类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-device-info#常量" target="_blank">deviceType</a>均为2in1，因此，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#displayisfoldable10" target="_blank">isFoldable()</a>判断是否为可折叠设备，MateBook Fold返回为true，MateBook Pro返回为false。</p></li>     </ul>    </div>    <div class="tiledSection">     <h3 id="section51091414203520">应用感知可用区域变化不及时<i class="anchor-icon anchor-icon-link" anchorid="section51091414203520" tips="复制节点链接"></i></h3>          <p><strong>问题现象</strong></p>     <p>应用未感知可用区域变化或者感知可用区域变化不及时，但调用moveTo()和resize()调整窗口大小或位置，导致窗口大小或位置异常。</p>     <p><strong>解决措施</strong></p>     <p>使用以下三种方法均可解决该问题：</p>     <ul>      <li>使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#displaygetdisplaybyidsync12" target="_blank">display.getDisplayByIdSync()</a>根据displayId主动获取对应可用区域的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#display" target="_blank">display</a>对象。</li>      <li>使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#getavailablearea12" target="_blank">display.getAvailableArea()</a>主动获取当前设备屏幕的可用区域。</li>      <li>使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#onavailableareachange12" target="_blank">on('availableAreaChange')</a>开启当前设备屏幕的可用区域监听。</li>     </ul>    </div>    <div class="tiledSection">     <h3 id="section19951637134718">自由多窗在适配电脑设备时，如何实现窗口设置<i class="anchor-icon anchor-icon-link" anchorid="section19951637134718" tips="复制节点链接"></i></h3>         </div>    <p><strong>问题</strong>现象</p>    <p>自由多窗在适配电脑设备时，存在以下问题：</p>    <ul>     <li>窗口大小不合适；</li>     <li>窗口被拖动并缩放到过小尺寸时，可能出现页面布局异常；</li>     <li>窗口拖动场景实现场景不明确或实现困难。</li>    </ul>    <p><strong>解决措施</strong></p>    <ul>     <li>在适配电脑设备时，存在窗口大小不合适，需要主动设置窗口的尺寸的场景，开发者可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-window-mode#section323513274320" target="_blank">主动调节窗口大小</a>实现该场景。</li>    </ul>    <ul>     <li>在适配电脑设备时，当自由窗口被拖动并缩放到过小尺寸时，可能出现页面布局异常，开发者可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-window-mode#section6754152523715" target="_blank">如何限制自由窗窗口尺寸</a>，确保页面正常显示。</li>    </ul>    <ul>     <li>应用窗口拖动是在电脑设备上使用自由多窗时常见的操作，指鼠标点击或手指触控应用窗口在屏幕区域内拖动，应用窗口跟随鼠标或手指位置移动的场景。对于使用默认标题栏的窗口，系统提供了高性能的应用窗口拖动能力。而对于没有标题栏或需要自定义标题栏的窗口，需要开发者调用系统提供的拖动能力来实现。具体的实现可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-window-mode#section1758193815438" target="_blank">如何设置窗口拖拽热区</a>。</li>    </ul>    <div class="tiledSection">     <h3 id="section98031237111617">窗口启动时应用闪跳<i class="anchor-icon anchor-icon-link" anchorid="section98031237111617" tips="复制节点链接"></i></h3>          <p><strong>可能原因</strong></p>     <p>在module.json5配置项metadata标签中设置的窗口位置大小，与窗口布局时使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/uiability-lifecycle#onwindowstagecreate" target="_blank">onWindowStageCreate()</a>设置的窗口位置大小不同。</p>     <p><strong>解决措施</strong></p>     <p>在module.json5配置项metadata标签与窗口布局处设置相同的窗口位置和大小。</p>     <div class="screenLinkPre"><div _ngcontent-ibi-c106="" class="highlight-div"><div _ngcontent-ibi-c106="" class="highlight-div-header"><div _ngcontent-ibi-c106="" class="highlight-div-header-left"><div _ngcontent-ibi-c106="" class="handle-button expand-button"><div _ngcontent-ibi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibi-c106="" class="highlight-div-header-right"><div _ngcontent-ibi-c106="" class="handle-button ai-button"></div><div _ngcontent-ibi-c106="" class="handle-button line-button"><div _ngcontent-ibi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibi-c106="" class="handle-button theme-button"><div _ngcontent-ibi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibi-c106="" class="handle-button copy-button"><div _ngcontent-ibi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibi-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/PCProject/entry/src/main/module.json5#L15-L88" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-string">"abilities"</span>: [</li><li>  {</li><li>    <span class="hljs-string">"name"</span>: <span class="hljs-string">"EntryAbility"</span>,</li><li>    <span class="hljs-string">"srcEntry"</span>: <span class="hljs-string">"./ets/entryability/EntryAbility.ets"</span>,</li><li>    <span class="hljs-string">"supportWindowMode"</span>: [</li><li>      <span class="hljs-string">"fullscreen"</span></li><li>    ],</li><li>    <span class="hljs-string">"metadata"</span>: [</li><li>      {</li><li>        <span class="hljs-string">"name"</span>: <span class="hljs-string">"ohos.ability.window.height"</span>,</li><li>        <span class="hljs-string">"value"</span>: <span class="hljs-string">"600"</span></li><li>      },</li><li>      {</li><li>        <span class="hljs-string">"name"</span>: <span class="hljs-string">"ohos.ability.window.width"</span>,</li><li>        <span class="hljs-string">"value"</span>: <span class="hljs-string">"600"</span></li><li>      },</li><li>      {</li><li>        <span class="hljs-string">"name"</span>: <span class="hljs-string">"ohos.ability.window.left"</span>,</li><li>        <span class="hljs-string">"value"</span>: <span class="hljs-string">"left"</span></li><li>      },</li><li>      {</li><li>        <span class="hljs-string">"name"</span>: <span class="hljs-string">"ohos.ability.window.top"</span>,</li><li>        <span class="hljs-string">"value"</span>: <span class="hljs-string">"top"</span></li><li>      }</li><li>    ],</li><li>    <span class="hljs-comment">// ...</span></li><li>  },</li><li>  <span class="hljs-comment">// ...</span></li><li>],</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/PCProject/entry/src/main/module.json5#L15-L88" target="_blank">module.json5</a></div></div></div></div>     <div class="screenLinkPre"><div _ngcontent-ibi-c106="" class="highlight-div"><div _ngcontent-ibi-c106="" class="highlight-div-header"><div _ngcontent-ibi-c106="" class="highlight-div-header-left"><div _ngcontent-ibi-c106="" class="handle-button expand-button"><div _ngcontent-ibi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ibi-c106="" class="highlight-div-header-right"><div _ngcontent-ibi-c106="" class="handle-button ai-button"></div><div _ngcontent-ibi-c106="" class="handle-button line-button"><div _ngcontent-ibi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ibi-c106="" class="handle-button theme-button"><div _ngcontent-ibi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ibi-c106="" class="handle-button copy-button"><div _ngcontent-ibi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ibi-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/PCProject/entry/src/main/ets/entryability/EntryAbility.ets#L41-L73" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-keyword">void</span> {</li><li>  <span class="hljs-comment">// Main window is created, set main page for this ability</span></li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onWindowStageCreate'</span>);</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> mainWindow = windowStage.<span class="hljs-title function_">getMainWindowSync</span>();</li><li>    <span class="hljs-keyword">let</span> displayId = mainWindow.<span class="hljs-title function_">getWindowProperties</span>().<span class="hljs-property">displayId</span>;</li><li>    <span class="hljs-keyword">let</span> displayClass = display.<span class="hljs-title function_">getDisplayByIdSync</span>(displayId);</li><li>    displayClass.<span class="hljs-title function_">getAvailableArea</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      mainWindow.<span class="hljs-title function_">resize</span>(mainWindow.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">px2vp</span>(<span class="hljs-number">600</span>), mainWindow.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">px2vp</span>(<span class="hljs-number">600</span>))</li><li>        .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>          hilog.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'%{public}s'</span>,</li><li>            <span class="hljs-string">`Failed to change the window size. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        });</li><li>      mainWindow.<span class="hljs-title function_">moveWindowTo</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'%{public}s'</span>,</li><li>          <span class="hljs-string">`Failed to move the window. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      });</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'%{public}s'</span>,</li><li>        <span class="hljs-string">`Failed to get the available area in this display. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    })</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'%{public}s'</span>,</li><li>      <span class="hljs-string">`Failed to move the window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>  windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'Failed to load the content. Cause: %{public}s'</span>, err);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'Succeeded in loading the content.'</span>);</li><li>  });</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/PCProject/entry/src/main/ets/entryability/EntryAbility.ets#L41-L73" target="_blank">EntryAbility.ets</a></div></div></div></div>    </div>    <div class="tiledSection">     <h3 id="section124211834619">相机预览画面旋转异常<i class="anchor-icon anchor-icon-link" anchorid="section124211834619" tips="复制节点链接"></i></h3>          <p><strong>问题现象</strong></p>     <p>折叠电脑在屏幕旋转后，相机生成的预览画面出现异常。</p>     <p><strong>可能原因</strong></p>     <p>折叠电脑在屏幕旋转后，相机预览流未适配旋转后的预览角度，造成预览画面未更新。</p>     <p><strong>解决措施</strong></p>     <p>在session调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-session#commitconfig11" target="_blank">commitConfig</a>完成配流后调用，通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-display#displaygetdefaultdisplaysync9" target="_blank">display.getDefaultDisplaySync()</a>获得显示设备的屏幕旋转角度displayRotation，并通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-previewoutput#setpreviewrotation12" target="_blank">setPreviewRotation()</a>，设置图像的预览旋转角度。具体可参考<a href="/consumer/cn/doc/best-practices/bpta-pc-guide#section8405105782317">功能开发</a>章节。</p>    </div>   </div>   <div></div></div>