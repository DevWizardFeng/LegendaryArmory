<h1 _ngcontent-sgg-c119="" class="doc-title ng-star-inserted" title="省电和深色模式下低功耗设计"> 省电和深色模式下低功耗设计 </h1>

<div _ngcontent-sgg-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="section82996358444">概述<i class="anchor-icon anchor-icon-link" anchorid="section82996358444" tips="复制节点链接"></i></h2><p>低功耗是指设备在执行各种任务时，通过应用一系列技术和策略来减少能耗，从而延长电池寿命和设备使用时间。手机等移动设备因其便携、移动的特性，续航时间的长短直接影响用户对品牌的体验和满意度。更长的续航时间可减少充电频率，提升户外使用体验。为了延长续航时间，可采取多种技术和方法来降低功耗、优化电池管理，例如优化软件算法、调整屏幕亮度和显示等。其中，省电模式和深色模式是常用的功耗优化手段：</p> <ul><li>省电模式：一种通过调整设备的设置来降低系统功耗的功能，例如适当降低屏幕亮度和CPU性能。</li><li>深色模式：深色模式是应用程序的一种背景颜色设置，用于将应用程序显示背景颜色改为深色调，例如黑色或深灰色。</li></ul> <p>为了有效去测量手机运行时的功耗，DevEco Profiler提供实时监控（Realtime Monitor）能力，可帮助开发者实时监控设备资源（如CPU、内存、FPS、GPU、Energy等）使用情况，其中Energy以3秒为周期进行刷新，体现统计周期内总功耗以及各耗能部件（包括CPU、Display、GPU、Location、Other）的功耗占用情况。综合考虑业界共识指标和实际用户使用体验，实验将主要对比屏幕显示耗电量、CPU耗电量、GPU耗电量以及最终总耗电量，关键指标如下所示：</p> <ul><li>显示耗电量：显示耗电量是手机耗电的主要来源之一，它通常占总能耗的很大比例，影响显示耗电量的关键因素包括屏幕亮度、显示内容、刷新率等。</li></ul> <ul><li>CPU耗电量：高性能的任务通常需要更多的CPU计算能力，导致较高的CPU耗电量，影响CPU耗电量的关键因素包括CPU的工作频率、功耗管理策略以及对任务的调度和分配等。</li><li>GPU耗电量：类似于CPU，高性能的图形任务会导致较高的GPU耗电量，影响GPU耗电量的关键因素包括GPU的工作频率、工作负载、绘制内容、分辨率、绘制帧率等。</li><li>最终总耗电量：最终总耗电量是指设备在特定使用场景下的总能耗，包括屏幕显示、CPU计算和GPU图形处理等。它反映了设备在某种使用情境下的总体能耗水平。</li></ul> <p>本文以“HMOS世界”APP为例，验证省电模式和深色模式对手机功耗的影响，观察电量消耗变化。同时探讨主动降低应用亮度和停止冗余动画两项措施，测试不同条件下的电量消耗。实验结果表明：</p> <ul><li>主动省电模式：设置省电模式后，系统会自动调节屏幕亮度和灭屏时间等配置项，从而显著降低显示模块的功耗，总耗电量降低约12%。</li><li>主动深色模式：切换深色模式后，OLED屏幕使用更少的像素点和背光，实现更低的亮度和对比度，相对于正常模式，总耗电量降低约24.5%。</li><li>主动调节屏幕亮度：主动调节屏幕亮度时，应用可以降低屏幕亮度，减少显示屏功耗，延长设备续航时间。相对于正常模式，总耗电量降低约36.9%。</li><li>停止冗余动画：冗余的动画绘制指的是在屏幕上绘制不必要或重复的动画效果，通过停止冗余动画可以减少GPU的工作量，从而降低GPU的功耗。相对于正常模式，总耗电量降幅约为40.2%。</li></ul> <p>通过设置省电模式、深色模式、调节屏幕亮度、停止冗余动画，最终测量的总耗电量对比如下图所示：</p> <div class="fignone"><span class="figcap"><b>图1 </b>总耗电量对比</span><br><span><img height="359.1" originheight="471" originwidth="685" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163440.64070525082069805206895979470181:50001231000000:2800:C061C0DE25D0836DAFD726F0EAD4892AD18269C75391029D7095B3064F7E3EFE.png" title="点击放大" width="523.6875"></span></div> </div> <div class="tiledSection"><h2 id="section1038215084415">功耗测量工具<i class="anchor-icon anchor-icon-link" anchorid="section1038215084415" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section239515015451" class="firsth2">DevEco Profiler<i class="anchor-icon anchor-icon-link" anchorid="section239515015451" tips="复制节点链接"></i></h3><p>DevEco Profiler 应用调优工具（以下简称 Profiler）已内置在 DevEco Studio 中，提供场景化的调优体验。Profiler 不仅帮助开发者及时了解应用或服务的 CPU、内存和图形资源使用情况，还提供高效的问题定位功能，帮助开发者快速找到问题代码。使用 Profiler 测试应用程序功耗的方法如下：</p> <ol><li>打开Profiler：在DevEco Studio内可以通过以下三种方式打开Profiler<ul><li>在DevEco Studio顶部菜单栏中选择“View -&gt; Tool Windows -&gt; Profiler”。</li><li>在DevEco Studio底部工具栏中单击“Profiler”。</li><li>按“Double Shift”或者“Ctrl+Shift+A”打开搜索功能，搜索“Profiler”。</li></ul> </li><li>连接设备：将设备通过USB连接到计算机上。</li><li>选择应用程序：在Profiler中，选择要测试的应用程序并开启Realtime Monitor。</li><li>进行应用程序操作：在设备上进行应用程序操作，如浏览网页、播放视频等。</li><li>查看结果：右侧区域展示时间窗内Energy资源的实时使用情况。将鼠标悬浮在统计图的任意位置，打开时间标线，左右移动鼠标，结合时间轴查看不同时间点的实时信息。</li></ol> <p>Profiler耗电量示意图如下所示，详细信息及使用可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/realtime-monitor" target="_blank">实时监控</a>。</p> <div class="fignone"><span class="figcap"><b>图2 </b>ProfilerEnergy模块示意图</span><br><span><img height="179.55" originheight="862" originwidth="2505" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163440.15729376164137515160264266375238:50001231000000:2800:5E67A4B966E1463B5270FCAE258E44DD45D79692C0A628EBB96677E28BFB63A3.png" title="点击放大" width="523.6875"></span></div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul><li>上图区域展示时间窗内CPU、Memory、FPS、GPU、Energy资源的实时使用情况，将鼠标悬浮于统计图中任意位置，打开时间标线，左右移动鼠标并结合时间轴可查看不同时间点上的实时信息。</li><li>Energy以3秒为周期进行刷新，体现统计周期内总功耗以及各耗能部件（包括CPU、Display、GPU、Location、Other）的功耗占用情况。</li></ul> </div></div></div> </div> <div class="tiledSection"><h3 id="section6745382451">程控电源<i class="anchor-icon anchor-icon-link" anchorid="section6745382451" tips="复制节点链接"></i></h3><p>程控电源是一种能够控制电压、电流、功率、电阻等参数的电源设备，根据用户设定的参数输出相应的电压和电流，满足各种测试需求。程控电源支持编程控制，可以模拟不同的负载条件，测试应用程序在不同负载下的功耗表现。开发人员可以利用这些信息了解应用程序的能耗特性并进行优化。</p> <p>使用程控电源测试应用程序功耗的方法如下所示：</p> <ol><li><span>连接设备：首先需要将程控电源连接到待测设备的电源输入端，并确保连接正确。</span></li><li><span>设置测试条件：在程控电源上设置测试条件，包括电压、电流、功率等参数。</span></li><li><span>进行应用程序操作：在设备上运行待测应用程序，并进行应用程序操作，如浏览网页、播放视频等。</span></li><li><span>收集数据：在测试过程中，程控电源会实时记录设备的功耗数据，包括电压、电流、功率等信息。</span></li></ol> </div> <div class="tiledSection"><h2 id="section1335695914514">省电模式<i class="anchor-icon anchor-icon-link" anchorid="section1335695914514" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section18236131468" class="firsth2">原理介绍<i class="anchor-icon anchor-icon-link" anchorid="section18236131468" tips="复制节点链接"></i></h3><p>HarmonyOS默认提供了电源模式的特性，主要分为以下三类：</p> <ul><li>正常模式：默认的电源模式，无特殊需求的情况下，此模式下的系统亮度、灭屏时间，进入睡眠时间等均适合大部分用户的需要。</li><li>性能模式：强调性能表现的电源模式，如增加系统亮度、关闭灭屏时间、防止进入睡眠等。</li><li>省电模式：强调省电表现的电源模式，如降低系统亮度、缩短灭屏时间等。<p>切换了电源模式后，随之更改的配置项有：</p> </li></ul> <ul><li>灭屏时间：可设置时长或关闭灭屏功能。主要涉及模块为显示。</li><li>自动调节亮度：可以设置开启或关闭自动调节亮度功能。主要涉及模块为传感器和显示。</li><li>自动调节屏幕旋转：可以设置开启或关闭自动调节屏幕旋转功能。主要涉及模块为传感器和显示。</li><li>系统亮度：可以设置0~255的取值。主要涉及模块为显示。</li><li>震动开关：可以设置开启或关闭震动功能，主要涉及模块为马达。</li></ul> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>在电源管理方面，HarmonyOS采用了自动切换配置，通过更改不同的配置项来实现不同的电源模式。例如，在正常模式下，系统会自动调节屏幕旋转，以保证用户在横屏和竖屏模式下都能够获得最佳的视觉效果；而在省电模式下，系统会关闭自动调节屏幕旋转功能，以降低屏幕旋转带来的能耗。</p> </div></div></div> </div> <div class="tiledSection"><h3 id="section1377219341465">场景案例<i class="anchor-icon anchor-icon-link" anchorid="section1377219341465" tips="复制节点链接"></i></h3><p>当设备电量较低时，系统切换至省电模式，减少能耗并延长电池使用时间。应用程序配合系统省电模式，智能调整功耗策略，适应低电量情况，延长续航时间，提供稳定持久的使用体验。</p> <p>获取当前设备的电源模式可以通过以下步骤实现：</p> <ol><li><span>引入系统电源管理模块power，该模块主要提供重启、关机、查询屏幕状态等接口。</span></li><li><span>调用power的getPowerMode方法来获取当前设备的电源模式。</span></li></ol> <p>省电模式下，获取当前系统电源模式的代码如下：</p> <div class="screenLinkPre"><div _ngcontent-sgg-c106="" class="highlight-div"><div _ngcontent-sgg-c106="" class="highlight-div-header"><div _ngcontent-sgg-c106="" class="highlight-div-header-left"><div _ngcontent-sgg-c106="" class="handle-button expand-button"><div _ngcontent-sgg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sgg-c106="" class="highlight-div-header-right"><div _ngcontent-sgg-c106="" class="handle-button ai-button"></div><div _ngcontent-sgg-c106="" class="handle-button line-button"><div _ngcontent-sgg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sgg-c106="" class="handle-button theme-button"><div _ngcontent-sgg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sgg-c106="" class="handle-button copy-button"><div _ngcontent-sgg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sgg-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/LowPowerOfForegroundTask/entry/src/main/ets/pages/ArticleCardView.ets#L2-L59" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Introduction of power module</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">power</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">LearningResource</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'../model/LearningResource'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">ActionButtonView</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./ActionButtonView'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">ArticleCardButtonView</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./ArticleCardButtonView'</span>;</li><li>
</li><li>@<span class="hljs-title function_">Component</span></li><li><span class="hljs-variable">export</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">ArticleCardView</span> {</li><li>  @<span class="hljs-title function_">Prop</span> <span class="hljs-variable">isLiked</span>: <span class="hljs-title class_">boolean</span> = <span class="hljs-keyword">false</span>;</li><li>  @<span class="hljs-title function_">Prop</span> <span class="hljs-variable">isCollected</span>: <span class="hljs-title class_">boolean</span> = <span class="hljs-keyword">false</span>;</li><li>  @<span class="hljs-title function_">ObjectLink</span> <span class="hljs-variable">articleItem</span>: <span class="hljs-title class_">LearningResource</span>;</li><li>  <span class="hljs-variable">onCollected</span>?: () =&gt; <span class="hljs-variable">void</span>;</li><li>  <span class="hljs-variable">onLiked</span>?: () =&gt; <span class="hljs-variable">void</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>() {</li><li>    <span class="hljs-title function_">Row</span>({ <span class="hljs-variable">space</span>: <span class="hljs-number">16</span> }) {</li><li>      <span class="hljs-title function_">Column</span>() {</li><li>        <span class="hljs-title function_">Row</span>() {</li><li>          <span class="hljs-title function_">ActionButtonView</span>({</li><li>            <span class="hljs-variable">imgResource</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">media</span>.<span class="hljs-title class_">ic_eye_open</span>'),</li><li>            <span class="hljs-variable">count</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">articleItem</span>.<span class="hljs-title class_">viewsCount</span>,</li><li>            <span class="hljs-variable">textWidth</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">float</span>.<span class="hljs-title class_">view_count_icon_width</span>')</li><li>          })</li><li>          <span class="hljs-comment">// Use getPowerMode to get the power mode of the current system and determine whether it is currently a power-saving mode.</span></li><li>          <span class="hljs-keyword">if</span> (<span class="hljs-variable">power</span>.<span class="hljs-title function_">getPowerMode</span>() == <span class="hljs-variable">power</span>.<span class="hljs-variable">DevicePowerMode</span>.<span class="hljs-variable">MODE_POWER_SAVE</span>) {</li><li>            <span class="hljs-title function_">ActionButtonView</span>({</li><li>              <span class="hljs-variable">imgResource</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">isLiked</span> ? $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">media</span>.<span class="hljs-title class_">btn_good_on</span>') : $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">media</span>.<span class="hljs-title class_">btn_good_normal</span>'),</li><li>              <span class="hljs-variable">count</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">articleItem</span>.<span class="hljs-title class_">likesCount</span>,</li><li>              <span class="hljs-variable">textWidth</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">float</span>.<span class="hljs-title class_">like_icon_width</span>')</li><li>            })</li><li>              .<span class="hljs-title function_">onClick</span>(() =&gt; {</li><li>                <span class="hljs-keyword">this</span>.<span class="hljs-variable">onLiked</span>?.();</li><li>              })</li><li>          } <span class="hljs-keyword">else</span> {</li><li>            <span class="hljs-title function_">ArticleCardButtonView</span>({</li><li>              <span class="hljs-variable">clickAnimationPath</span>: <span class="hljs-string">'common/lottie/liked_lottie.json'</span>,</li><li>              <span class="hljs-variable">cancelAnimationPath</span>: <span class="hljs-string">'common/lottie/cancel_liked_lottie.json'</span>,</li><li>              <span class="hljs-variable">isClicked</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">isLiked</span>,</li><li>              <span class="hljs-variable">count</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">articleItem</span>.<span class="hljs-title class_">likesCount</span>,</li><li>              <span class="hljs-variable">articleId</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">articleItem</span>.<span class="hljs-title class_">id</span>,</li><li>              <span class="hljs-variable">textWidth</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">float</span>.<span class="hljs-title class_">like_icon_width</span>'),</li><li>              <span class="hljs-keyword">type</span>: <span class="hljs-string">'like'</span>,</li><li>              <span class="hljs-variable">onClicked</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">onLiked</span>,</li><li>              <span class="hljs-variable">normalImage</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">media</span>.<span class="hljs-title class_">btn_like_normal</span>'),</li><li>              <span class="hljs-variable">onImage</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">media</span>.<span class="hljs-title class_">btn_like_on</span>')</li><li>            })</li><li>          }</li><li>        }</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-variable">FlexAlign</span>.<span class="hljs-variable">SpaceBetween</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">layoutWeight</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-variable">FlexAlign</span>.<span class="hljs-variable">SpaceAround</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/LowPowerOfForegroundTask/entry/src/main/ets/pages/ArticleCardView.ets#L2-L59" target="_blank">ArticleCardView.ets</a></div></div></div></div> </div> <div class="tiledSection"><h3 id="section13231761218">功耗分析<i class="anchor-icon anchor-icon-link" anchorid="section13231761218" tips="复制节点链接"></i></h3><p>同一界面下滑动列表项，分别对比正常模式和省电模式来测试关闭和开启省电模式情况下的总耗电量和CPU模块、GPU模块、显示模块的耗电量。最终，使用DevEco Studio的Profiler工具测量得到的数据如下所示：</p> <div class="fignone"><span class="figcap"><b>图3 </b>使用省电模式前后耗电量对比</span></div> <p><span><img height="397.005" originheight="448" originwidth="590" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163440.39416689186267378496640006875791:50001231000000:2800:76E44B1A250DEE1B2669165B68705F2CAA3EE71CE76FFE48396E2FFCE267A55E.png" title="点击放大" width="523.6875"></span></p> <p>从测试数据可以看出：</p> <ol><li>CPU和GPU模块的耗电量几乎没有变化。这表明在测试条件下，这两个模块的能耗表现相对稳定，不受省电模式的影响。</li><li>显示模块耗电量下降明显，降幅达到13.2%。这表明省电模式对于显示模块的能耗有着显著的影响。</li><li>总耗电量有部分下降，降幅接近12.0%。</li></ol> <p>这一结果表明省电模式显著节能，通过降低亮度和自动调节亮度，减少显示模块的能耗，从而达到了降低总体能耗的目的。</p> </div> <div class="tiledSection"><h2 id="section221914535123">深色模式<i class="anchor-icon anchor-icon-link" anchorid="section221914535123" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section18634502139" class="firsth2">原理介绍<i class="anchor-icon anchor-icon-link" anchorid="section18634502139" tips="复制节点链接"></i></h3><p>通过启用深色模式，可以进一步实现能耗的降低。首先，深色模式使用更少的像素点和背光，因此能够减少能量的消耗。其次，深色模式在OLED屏幕上可以关闭像素点，这一特性进一步减少了能耗。在实际开发过程中，应用需要根据当前设备状态来适配深色模式，开发者可以通过设置分层参数数据实现：</p> <ol><li><span>新建一个资源目录，选择需要根据深浅颜色模式（Color Mode）区分，进行分层数据读取。</span></li><li><span>在color.json文件中，设计对应组件读取的数据。</span></li></ol> </div> <div class="tiledSection"><h3 id="section1617913241138">场景案例<i class="anchor-icon anchor-icon-link" anchorid="section1617913241138" tips="复制节点链接"></i></h3><p>在应用省电模式后，继续在“我的”界面下设置深色模式，可以在显示模块获得显著收益。应用深色模式的步骤如下：</p> <ol><li><span>创建深色模式资源文件夹：在项目的resources文件下，创建深色模式的Dark资源文件夹，如下图1所示。</span><p></p><div class="fignone"><span class="figcap"><b>图4 </b>创建深色模式资源文件夹</span><br><span><img height="326.839786" originheight="536" originwidth="867" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163440.19768211948309312012257660297219:50001231000000:2800:16746854245D192C73F29AA16A3693209B7EC435B4540EC772021E0408B817B1.png" title="点击放大" width="528.6750000000001"></span></div> <p></p></li><li><span>资源文件适配：为深色模式下的界面设计相应的颜色和图标资源文件。</span></li><li><span>在主题中设置深色模式样式：在应用的主题中定义深色模式的样式，包括背景色、文本颜色、图标颜色等。</span></li><li><span>动态切换模式：在应用中实现动态切换深色模式和浅色模式的功能，使用户可以根据自己的喜好随时切换应用的界面模式。</span></li><li><span>测试和优化：实现深色模式后，需充分测试界面显示效果和用户体验，确保符合预期，并提供友好的提示和引导。</span></li></ol> <div class="fignone"><span class="figcap"><b>图5 </b>深色模式示意图</span><p><span><img height="549.2235000000001" originheight="2258" originwidth="1093" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163440.34281771141564752423868589407387:50001231000000:2800:A4615BEA740EC1DF5C573F40F9AA03B26EAB383B0EE694EB3F8CC9D22C92DF66.png" title="点击放大" width="266"></span></p> </div> </div> <div class="tiledSection"><h3 id="section12513104419138">功耗分析<i class="anchor-icon anchor-icon-link" anchorid="section12513104419138" tips="复制节点链接"></i></h3><p>同一界面下，分别对比测试关闭和开启深色模式情况下的总耗电量和CPU模块、GPU模块、Display模块的耗电量。最终，使用DevEco Studio的Profiler工具检测得到的数据如下所示：</p> <div class="fignone"><span class="figcap"><b>图6 </b>使用深色模式前后耗电量对比</span></div> <p><span><img height="353.115" originheight="398" originwidth="590" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163440.40012339268016614049921570095048:50001231000000:2800:2A6D9D60AF836E789954DA6D4D152E84FBBD6015A0AE515F8EF516D4F6EF7982.png" title="点击放大" width="523.6875"></span></p> <p>根据测试数据分析，得出以下结论：</p> <ol><li>CPU和GPU模块耗电量保持稳定。这表明在当前测试条件下，CPU和GPU的能耗未受到深色模式的影响。</li><li>显示模块的耗电量大幅下降，降幅达到了28.6%。</li><li>综合考虑以上数据，总耗电量有小幅度下降，降幅达到了14.2%。</li></ol> <p>这一结果表明深色模式的使用对设备的整体能耗具有积极的影响，可以有效降低设备的能耗水平。深色模式通过减少需要点亮的像素点数量，从而有效降低了显示模块的功耗。</p> </div> <div class="tiledSection"><h2 id="section169191682144">其他优化措施<i class="anchor-icon anchor-icon-link" anchorid="section169191682144" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section10483718181414" class="firsth2">优化措施介绍<i class="anchor-icon anchor-icon-link" anchorid="section10483718181414" tips="复制节点链接"></i></h3><p>在省电模式和深色模式下，根据不同的应用场景，常用的优化方式包括：</p> <ul><li>主动降低应用亮度：可以通过主动降低应用的亮度来减少显示屏的功耗，延长设备的续航时间。</li><li>主动降低音量大小：降低设备的音量大小可以减少功耗，尤其是在使用耳机或扬声器时。这一优化方式可以在一定程度上减少设备的能耗，延长电池的使用时间。</li><li>停止一些冗余动效：减少动效的运行可以降低系统功耗的开销，例如过度的页面切换动画、图标动效等。</li><li>视频场景数据缓存按聚合方式下载：视频的WiFi下载建议一次下载大量内容然后空闲一段时间，不建议连续不断的以小流量的速度下载（如每20s下载一次，每次下载3~5s）。</li></ul> <p>采用上述优化方法，可在省电模式和深色模式下降低设备能耗，延长电池使用时间，提升用户体验。结合测试数据，可明确了解各优化方式对设备能耗的影响，指导实际优化工作。</p> </div> <div class="tiledSection"><h3 id="section55635332145">场景案例<i class="anchor-icon anchor-icon-link" anchorid="section55635332145" tips="复制节点链接"></i></h3></div> <p>在设计和开发应用时，需根据不同的使用场景采取相应的优化措施以降低功耗。例如，在运行视频应用程序时，通过降低屏幕亮度、调整屏幕刷新率和关闭不必要的背光来降低功耗。而在运行音频应用程序时，则通过关闭不必要的传感器和减少CPU负载来降低功耗。根据场景选择合适的优化措施，能够帮助设备在不同使用场景下提供最佳性能和用户体验，同时最大限度地降低功耗。</p> <ul><li>主动降低应用亮度</li></ul> <p>主动降低应用亮度步骤如下：</p> <ol><li><span>根据UIAbility的context的配置信息，判断当前是否深色模式。</span></li><li><span>通过WindowStage的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-windowstage#getmainwindowsync9" target="_blank">getMainWindowSync()</a>方法，获取当前主窗口Window对象。</span></li><li><span>使用Window对象的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowbrightness9" target="_blank">setWindowBrightness()</a>方法设置当前应用的屏幕亮度。</span></li></ol> <div class="p">在深色模式下增加主动降低应用亮度，具体代码实现如下：<div class="screenLinkPre"><div _ngcontent-sgg-c106="" class="highlight-div"><div _ngcontent-sgg-c106="" class="highlight-div-header"><div _ngcontent-sgg-c106="" class="highlight-div-header-left"><div _ngcontent-sgg-c106="" class="handle-button expand-button"><div _ngcontent-sgg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sgg-c106="" class="highlight-div-header-right"><div _ngcontent-sgg-c106="" class="handle-button ai-button"></div><div _ngcontent-sgg-c106="" class="handle-button line-button"><div _ngcontent-sgg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sgg-c106="" class="handle-button theme-button"><div _ngcontent-sgg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sgg-c106="" class="handle-button copy-button"><div _ngcontent-sgg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sgg-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/LowPowerOfForegroundTask/entry/src/main/ets/entryability/EntryAbility.ets#L8-L65" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-keyword">void</span> {</li><li>    <span class="hljs-comment">// ...</span></li><li>    <span class="hljs-comment">// Determine whether it is currently in dark mode.</span></li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>?.<span class="hljs-property">config</span>?.<span class="hljs-property">colorMode</span> == <span class="hljs-title class_">ConfigurationConstant</span>.<span class="hljs-property">ColorMode</span>.<span class="hljs-property">COLOR_MODE_DARK</span>) {</li><li>      <span class="hljs-keyword">let</span> windowClass = windowStage.<span class="hljs-title function_">getMainWindowSync</span>();</li><li>      <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-comment">// Set the brightness of the current application window</span></li><li>        windowClass.<span class="hljs-title function_">setWindowBrightness</span>(<span class="hljs-number">0.2</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>          <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to set the brightness. Cause: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>            <span class="hljs-keyword">return</span>;</li><li>          }</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the brightness.'</span>);</li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (exception) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to set the brightness. Cause: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(exception));</li><li>      }</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/LowPowerOfForegroundTask/entry/src/main/ets/entryability/EntryAbility.ets#L8-L65" target="_blank">EntryAbility.ets</a></div></div></div></div> </div> <ul><li>停止一些冗余动效</li></ul> <p>在HMOS世界App的案例中，点赞和收藏的动画在省电和深色模式下会消耗更多资源。可以关闭这些冗余动效，关闭步骤如下：</p> <ol><li><span>导入系统电源管理power模块。</span></li><li><span>根据power的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-power#powergetpowermode9" target="_blank">getPowerMode</a>获取当前设备的电源模式，并判断当前是否为省电模式。</span></li><li><span>根据实际场景，停止或者替换冗余的动效。</span></li></ol> <div class="fignone"><span class="figcap"><b>图7 </b>省电和深色模式下停止冗余动效</span><br><span><img height="545.5261" originheight="720" originwidth="348" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163441.58745785586475706241022176765482:50001231000000:2800:8AC2A29C30595430A6704520336917AEFDFA3C5AEE24D477C8671AFBB8C8D61C.gif" title="点击放大" width="266"></span></div> <p>在省电模式下，停止点赞和收藏动画，具体代码实现如下：</p> <div class="screenLinkPre"><div _ngcontent-sgg-c106="" class="highlight-div"><div _ngcontent-sgg-c106="" class="highlight-div-header"><div _ngcontent-sgg-c106="" class="highlight-div-header-left"><div _ngcontent-sgg-c106="" class="handle-button expand-button"><div _ngcontent-sgg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sgg-c106="" class="highlight-div-header-right"><div _ngcontent-sgg-c106="" class="handle-button ai-button"></div><div _ngcontent-sgg-c106="" class="handle-button line-button"><div _ngcontent-sgg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sgg-c106="" class="handle-button theme-button"><div _ngcontent-sgg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sgg-c106="" class="handle-button copy-button"><div _ngcontent-sgg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sgg-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/LowPowerOfForegroundTask/entry/src/main/ets/pages/ArticleCardViewNew.ets#L2-L81" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">power</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">ArticleCardButtonView</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./ArticleCardButtonView'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">ActionButtonView</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./ActionButtonView'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">LearningResource</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'../model/LearningResource'</span>;</li><li>
</li><li>@<span class="hljs-title function_">Component</span></li><li><span class="hljs-variable">export</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">ArticleCardView</span> {</li><li>  @<span class="hljs-title function_">Prop</span> <span class="hljs-variable">isLiked</span>: <span class="hljs-title class_">boolean</span> = <span class="hljs-keyword">false</span>;</li><li>  @<span class="hljs-title function_">Prop</span> <span class="hljs-variable">isCollected</span>: <span class="hljs-title class_">boolean</span> = <span class="hljs-keyword">false</span>;</li><li>  @<span class="hljs-title function_">ObjectLink</span> <span class="hljs-variable">articleItem</span>: <span class="hljs-title class_">LearningResource</span>;</li><li>  <span class="hljs-variable">onCollected</span>?: () =&gt; <span class="hljs-variable">void</span>;</li><li>  <span class="hljs-variable">onLiked</span>?: () =&gt; <span class="hljs-variable">void</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>() {</li><li>    <span class="hljs-title function_">Row</span>({ <span class="hljs-variable">space</span>: <span class="hljs-number">16</span> }) {</li><li>      <span class="hljs-title function_">Column</span>() {</li><li>        <span class="hljs-title function_">Row</span>() {</li><li>          <span class="hljs-title function_">ActionButtonView</span>({</li><li>            <span class="hljs-variable">imgResource</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">media</span>.<span class="hljs-title class_">ic_eye_open</span>'),</li><li>            <span class="hljs-variable">count</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">articleItem</span>.<span class="hljs-title class_">viewsCount</span>,</li><li>            <span class="hljs-variable">textWidth</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">float</span>.<span class="hljs-title class_">view_count_icon_width</span>')</li><li>          })</li><li>          <span class="hljs-comment">// Determine whether it is a power-saving mode</span></li><li>          <span class="hljs-keyword">if</span> (<span class="hljs-variable">power</span>.<span class="hljs-title function_">getPowerMode</span>() == <span class="hljs-variable">power</span>.<span class="hljs-variable">DevicePowerMode</span>.<span class="hljs-variable">MODE_EXTREME_POWER_SAVE</span>) {</li><li>            <span class="hljs-comment">// Set up likes and favorite pictures</span></li><li>            <span class="hljs-title function_">ActionButtonView</span>({</li><li>              <span class="hljs-variable">imgResource</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">isLiked</span> ? $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">media</span>.<span class="hljs-title class_">btn_good_on</span>') : $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">media</span>.<span class="hljs-title class_">btn_good_normal</span>'),</li><li>              <span class="hljs-variable">count</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">articleItem</span>.<span class="hljs-title class_">likesCount</span>,</li><li>              <span class="hljs-variable">textWidth</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">float</span>.<span class="hljs-title class_">like_icon_width</span>')</li><li>            })</li><li>              .<span class="hljs-title function_">onClick</span>(() =&gt; {</li><li>                <span class="hljs-keyword">this</span>.<span class="hljs-variable">onLiked</span>?.();</li><li>              })</li><li>
</li><li>            <span class="hljs-title function_">ActionButtonView</span>({</li><li>              <span class="hljs-variable">imgResource</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">isCollected</span> ? $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">media</span>.<span class="hljs-title class_">btn_favorites_on</span>') : $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">media</span>.<span class="hljs-title class_">btn_favorites_normal</span>'),</li><li>              <span class="hljs-variable">count</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">articleItem</span>.<span class="hljs-title class_">collectionCount</span>,</li><li>              <span class="hljs-variable">textWidth</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">float</span>.<span class="hljs-title class_">star_icon_width</span>')</li><li>            })</li><li>              .<span class="hljs-title function_">onClick</span>(() =&gt; {</li><li>                <span class="hljs-keyword">this</span>.<span class="hljs-variable">onCollected</span>?.()</li><li>              })</li><li>          } <span class="hljs-keyword">else</span> {</li><li>            <span class="hljs-comment">// Set the lottie animation of likes and collections</span></li><li>            <span class="hljs-title function_">ArticleCardButtonView</span>({</li><li>              <span class="hljs-variable">clickAnimationPath</span>: <span class="hljs-string">'common/lottie/liked_lottie.json'</span>,</li><li>              <span class="hljs-variable">cancelAnimationPath</span>: <span class="hljs-string">'common/lottie/cancel_liked_lottie.json'</span>,</li><li>              <span class="hljs-variable">isClicked</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">isLiked</span>,</li><li>              <span class="hljs-variable">count</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">articleItem</span>.<span class="hljs-title class_">likesCount</span>,</li><li>              <span class="hljs-variable">articleId</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">articleItem</span>.<span class="hljs-title class_">id</span>,</li><li>              <span class="hljs-variable">textWidth</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">float</span>.<span class="hljs-title class_">like_icon_width</span>'),</li><li>              <span class="hljs-keyword">type</span>: <span class="hljs-string">'like'</span>,</li><li>              <span class="hljs-variable">onClicked</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">onLiked</span>,</li><li>              <span class="hljs-variable">normalImage</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">media</span>.<span class="hljs-title class_">btn_like_normal</span>'),</li><li>              <span class="hljs-variable">onImage</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">media</span>.<span class="hljs-title class_">btn_like_on</span>')</li><li>            })</li><li>
</li><li>            <span class="hljs-title function_">ArticleCardButtonView</span>({</li><li>              <span class="hljs-variable">clickAnimationPath</span>: <span class="hljs-string">'common/lottie/collected_lottie.json'</span>,</li><li>              <span class="hljs-variable">cancelAnimationPath</span>: <span class="hljs-string">'common/lottie/cancel_collect_lottie.json'</span>,</li><li>              <span class="hljs-variable">isClicked</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">isCollected</span>,</li><li>              <span class="hljs-variable">count</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">articleItem</span>.<span class="hljs-title class_">collectionCount</span>,</li><li>              <span class="hljs-variable">articleId</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">articleItem</span>.<span class="hljs-title class_">id</span>,</li><li>              <span class="hljs-variable">textWidth</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">float</span>.<span class="hljs-title class_">star_icon_width</span>'),</li><li>              <span class="hljs-keyword">type</span>: <span class="hljs-string">'collect'</span>,</li><li>              <span class="hljs-variable">onClicked</span>: <span class="hljs-keyword">this</span>.<span class="hljs-title class_">onCollected</span>,</li><li>              <span class="hljs-variable">normalImage</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">media</span>.<span class="hljs-title class_">btn_collect_normal</span>'),</li><li>              <span class="hljs-variable">onImage</span>: $<span class="hljs-title class_">r</span>('<span class="hljs-title class_">app</span>.<span class="hljs-title class_">media</span>.<span class="hljs-title class_">btn_collect_on</span>')</li><li>            })</li><li>          }</li><li>        }</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-variable">FlexAlign</span>.<span class="hljs-variable">SpaceBetween</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">layoutWeight</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-variable">FlexAlign</span>.<span class="hljs-variable">SpaceAround</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/BestPracticeSnippets/blob/master/LowPowerOfForegroundTask/entry/src/main/ets/pages/ArticleCardViewNew.ets#L2-L81" target="_blank">ArticleCardViewNew.ets</a></div></div></div></div> <div class="tiledSection"><h3 id="section138194320154">功耗分析<i class="anchor-icon anchor-icon-link" anchorid="section138194320154" tips="复制节点链接"></i></h3></div> <p>同一界面下，设置省电模式和深色模式，测试主动减少应用亮度前后、去掉冗余动画前后CPU、GPU、显示模块的耗电量和总耗电量。使用DevEco Studio的Profiler工具检测得到数据如下：</p> <div class="fignone"><span class="figcap"><b>图8 </b>主动降低应用亮度前后耗电量对比</span><br><span><img originheight="400" originwidth="520" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163441.45488625957734440474219347502264:50001231000000:2800:92774FEA38B0CC92DB3B7E50918FE5EBEDDF96EE8DDE098F8DD8FB947CA98F67.png" width="520" height="400"></span></div> <div class="fignone"><span class="figcap"><b>图9 </b>去掉冗余动画前后耗电量对比</span></div> <p><span><img originheight="400" originwidth="520" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163441.22211790940155370810240543928322:50001231000000:2800:62283D52D715A4260AFBF73D0F29B8B8E119675D9D3D976FA963DABB45A7B09F.png" width="520" height="400"></span></p> <p>测试数据显示：</p> <ol><li>主动降低应用亮度的主要效用体现在显示模块，降幅约为23.7%。</li><li>停止冗余动画的效用体现在GPU模块，降幅约为17.7%。</li><li>主动降低应用亮度后，总耗电量减少约16.4%。停止点赞、收藏动画后，总耗电量减少约5.3%。</li></ol> <div class="tiledSection"><h2 id="section1699650141515">总结<i class="anchor-icon anchor-icon-link" anchorid="section1699650141515" tips="复制节点链接"></i></h2><p>针对“HMOS世界”的功耗优化，分别使用省电模式和深色模式进行优化，并增加其他可选的推荐优化项，测试其在对应的GPU模块和显示模块的耗电量。测试表明，与正常模式相比，开启省电模式和深色模式后，功耗显著下降。针对应用需求，主动降低应用亮度、去掉冗余动画等措施后，功耗在对应模块持续下降。各项对比指标数据如下所示：</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><caption><b>表1 </b>显示模块功耗优化</caption><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.34.3.2.5.1.1" valign="top" width="16.001600160016004%"><p>性能指标</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.34.3.2.5.1.2" valign="top" width="24.98249824982498%"><p>开启省电模式</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.34.3.2.5.1.3" valign="top" width="32.11321132113211%"><p>开启深色模式</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.34.3.2.5.1.4" valign="top" width="26.902690269026902%"><p>主动降低应用亮度</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="16.001600160016004%"><p>显示耗电量下降率</p> </td> <td class="cellrowborder" valign="top" width="24.98249824982498%"><p>13.2%</p> </td> <td class="cellrowborder" valign="top" width="32.11321132113211%"><p>21.9%</p> </td> <td class="cellrowborder" valign="top" width="26.902690269026902%"><p>15.4%</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="16.001600160016004%"><p>总耗电量下降率</p> </td> <td class="cellrowborder" valign="top" width="24.98249824982498%"><p>12.0%</p> </td> <td class="cellrowborder" valign="top" width="32.11321132113211%"><p>12.5%</p> </td> <td class="cellrowborder" valign="top" width="26.902690269026902%"><p>12.4%</p> </td> </tr>  </tbody></table></div> </div>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><caption><b>表2 </b>GPU模块功耗优化</caption><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.34.4.2.4.1.1" valign="top" width="24.037596240375965%">&nbsp;&nbsp;</th> <th align="left" class="cellrowborder" id="mcps1.3.34.4.2.4.1.2" valign="top" width="34.81651834816519%"><p>GPU耗电量下降率</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.34.4.2.4.1.3" valign="top" width="41.145885411458856%"><p>总耗电量下降率</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="24.037596240375965%"><p>去掉冗余动画</p> </td> <td class="cellrowborder" valign="top" width="34.81651834816519%"><p>17.7%</p> </td> <td class="cellrowborder" valign="top" width="41.145885411458856%"><p>3.3%</p> </td> </tr>  </tbody></table></div> </div> <p>通过上述数据，可以看出启用省电模式和深色模式能够显著降低设备能耗。</p> <ul><li>省电模式能够有效延长电池使用时间，减少设备发热和功耗，提升用户设备使用体验的持久性。</li><li>相比亮色界面，深色模式在OLED和AMOLED屏幕上能减少功耗，因为这些屏幕在显示黑色时会关闭相应像素。此外，深色模式还能减少夜间或低光环境下的眩光，提高视觉舒适度。</li><li>除了省电模式和深色模式，还可以通过针对特定场景的定制优化措施进一步降低设备功耗。这些措施能够更精确地满足用户需求，提供个性化和高效的节能方案。</li></ul> <p>在应用开发中，开发者可以采用特定技术手段来降低应用的功耗，为用户提供节能高效的体验，满足用户对续航能力的需求。</p> </div> </div> <div></div></div>