<h1 _ngcontent-gnt-c119="" class="doc-title ng-star-inserted" title="跨设备剪贴板"> 跨设备剪贴板 </h1>

<div _ngcontent-gnt-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="section112973281231">概述<i class="anchor-icon anchor-icon-link" anchorid="section112973281231" tips="复制节点链接"></i></h2>          <p>剪贴板分为本地剪贴板和跨设备剪贴板，本地剪贴板提供设备内的内容复制粘贴，跨设备剪贴板提供跨设备的内容复制粘贴。跨设备剪贴板通过全场景协同能力同步剪贴板内容，实现手机、PC/2in1、平板等设备间的无缝数据互通。</p>     <p>当用户拥有多台设备时，可以通过跨设备剪贴板的功能，在A设备的应用上复制一段内容，粘贴到B设备的应用中，高效地完成多设备间的内容共享，其核心价值在于提升多设备协作效率。</p>    </div>    <div class="tiledSection">     <h2 id="section2205103472317">实现原理<i class="anchor-icon anchor-icon-link" anchorid="section2205103472317" tips="复制节点链接"></i></h2>          <p><strong>场景分析</strong></p>     <p>1. 用户在设备A复制数据，写入到系统剪贴板服务。</p>     <p>2. 系统剪贴板服务将处理相关数据，并完成数据同步，此过程开发者不感知。</p>     <p>3. 用户在设备B读取系统剪贴板内容，粘贴来自设备A的数据。</p>     <p>详细的使用限制可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/distributed-pasteboard-guide#section17575828642" target="_blank">跨设备剪贴板开发指导</a>。</p>     <p><strong>关键技术</strong></p>     <p>在开发跨设备剪贴板的功能时，系统将自动完成跨设备的数据传递，应用可根据实际需求，接入跨设备剪贴板，完成跨设备剪贴板的开发，具体运作机制可参考：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/distributed-pasteboard-overview#section1047015015477" target="_blank">跨设备剪贴板特性简介</a>。</p>    </div>    <div class="tiledSection">     <h2 id="section8286114062312">开发流程<i class="anchor-icon anchor-icon-link" anchorid="section8286114062312" tips="复制节点链接"></i></h2>          <p>跨设备剪贴板的开发流程主要包括以下两个步骤：</p>     <ol>      <li>设备A复制数据，写入剪贴板服务：将需要存入系统剪贴板的数据转换为系统剪贴板可接受的通用格式，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-pasteboard#setdata9" target="_blank">SystemPasteboard.setData()</a>方法，将数据写入系统剪贴板。</li>      <li>设备B粘贴数据，读取剪贴板内容：可以<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/pastebutton" target="_blank">使用粘贴控件</a>获得临时授权直接读取剪贴板数据。或申请系统剪贴板权限<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/restricted-permissions#ohospermissionread_pasteboard" target="_blank">ohos.permission.READ_PASTEBOARD</a>后，使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-pasteboard#systempasteboard" target="_blank">@ohos.pasteboard (剪贴板)</a>接口读取剪贴板数据。具体开发步骤请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/get-pastedata-permission-guidelines#访问剪贴板内容" target="_blank">访问剪贴板内容</a>。</li>     </ol>     <p>下文将通过<a href="/consumer/cn/doc/best-practices/bpta-distributed-pasteboard#section1146419501282">粘贴分享直达</a>场景、<a href="/consumer/cn/doc/best-practices/bpta-distributed-pasteboard#section91711442235">多样式复制粘贴</a>场景、<a href="/consumer/cn/doc/best-practices/bpta-distributed-pasteboard#section58295561239">进度条接入</a>场景，详细介绍跨设备剪贴板开发过程中常见场景的开发实现流程。</p>    </div>    <div class="tiledSection">     <h2 id="section1146419501282">分享直达<i class="anchor-icon anchor-icon-link" anchorid="section1146419501282" tips="复制节点链接"></i></h2>          <p>用户在任意应用（如短信、浏览器等）中复制包含特定标识的文本（如活动口令、订单号或链接等），随后打开目标应用（如商城应用、服务应用），应用能自动识别复制文本中预设的关键字或编码。应用在校验关键字格式、时效性或用户权限通过后，弹窗或直接跳转至关联的活动页面、订单详情页或其他特定功能模块。例如用户复制短信中的活动链接，打开商城应用后自动跳转至促销活动页，无需手动搜索或点击多级菜单。</p>     <p>      </p><div class="video-box" style="width: 327px; height: 327px;"><div id="wise_player_0" videodata="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163253.03461171682067587539899102018422:50001231000000:2800:1922DD01B14988FB5463E56E0E4044A54B06F09E21D34657D7BD4C19CB2DC145.mp4" preload="none" class="edui-upload-video vjs-fluid vjs-default-skin video-js vjs-paused vjs_video_3-dimensions vjs-controls-enabled vjs-workinghover vjs-v7 vjs-user-active wise_player_0-dimensions vjs-v8" tabindex="-1" role="region" lang="cn" translate="no" aria-label="Video Player"><video class="vjs-tech" preload="none" videodata="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163253.03461171682067587539899102018422:50001231000000:2800:1922DD01B14988FB5463E56E0E4044A54B06F09E21D34657D7BD4C19CB2DC145.mp4" id="wise_player_0_html5_api" tabindex="-1" role="application" loop="" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163253.03461171682067587539899102018422:50001231000000:2800:1922DD01B14988FB5463E56E0E4044A54B06F09E21D34657D7BD4C19CB2DC145.mp4"></video><div class="vjs-poster vjs-hidden" aria-disabled="false"></div><div class="vjs-title-bar vjs-hidden"><div class="vjs-title-bar-title" id="vjs-title-bar-title-408"></div><div class="vjs-title-bar-description" id="vjs-title-bar-description-409"></div></div><div class="vjs-text-track-display" translate="yes" aria-live="off" aria-atomic="true"><div style="position: absolute; inset: 0px; margin: 1.5%;"></div></div><div class="vjs-loading-spinner" dir="ltr"><span class="vjs-control-text">Video Player is loading.</span></div><button class="vjs-big-play-button" type="button" title="Play Video" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Play Video</span></button><div class="vjs-control-bar" dir="ltr"><button class="vjs-play-control vjs-control vjs-button" type="button" title="Play" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Play</span></button><div class="vjs-current-time vjs-time-control vjs-control"><span class="vjs-control-text" role="presentation">Current Time&nbsp;</span><span class="vjs-current-time-display" role="presentation">0:00</span></div><div class="vjs-progress-control vjs-control"><div tabindex="0" class="vjs-progress-holder vjs-slider vjs-slider-horizontal" role="slider" aria-valuenow="0.00" aria-valuemin="0" aria-valuemax="100" aria-label="Progress Bar" aria-valuetext="0:00 of 0:10"><div class="vjs-load-progress" style="width: 9.32%;"><span class="vjs-control-text"><span>Loaded</span>: <span class="vjs-control-text-loaded-percentage">9.32%</span></span><div data-start="0" data-end="0.975" style="left: 0%; width: 100%;"></div></div><div class="vjs-mouse-display"><div class="vjs-time-tooltip" aria-hidden="true"></div></div><div class="vjs-play-progress vjs-slider-bar" aria-hidden="true" style="width: 0%;"><div class="vjs-time-tooltip" aria-hidden="true" style="right: 0px;">0:00</div></div></div></div><div class="vjs-duration vjs-time-control vjs-control"><span class="vjs-control-text" role="presentation">Duration&nbsp;</span><span class="vjs-duration-display" role="presentation">0:10</span></div><div class="vjs-volume-panel vjs-control vjs-volume-panel-vertical"><button class="vjs-mute-control vjs-control vjs-button vjs-vol-3" type="button" title="Mute" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Mute</span></button><div class="vjs-volume-control vjs-control vjs-volume-vertical"><div tabindex="0" class="vjs-volume-bar vjs-slider-bar vjs-slider vjs-slider-vertical" role="slider" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" aria-label="Volume Level" aria-live="polite" aria-valuetext="100%"><div class="vjs-mouse-display"><div class="vjs-volume-tooltip" aria-hidden="true"></div></div><div class="vjs-volume-level"><span class="vjs-control-text"></span></div></div></div></div><div class="vjs-playback-rate vjs-menu-button vjs-menu-button-popup vjs-control vjs-button"><div class="vjs-playback-rate-value" id="vjs-playback-rate-value-label-wise_player_0_component_593">1x</div><button class="vjs-playback-rate vjs-menu-button vjs-menu-button-popup vjs-button" type="button" aria-disabled="false" title="Playback Rate" aria-haspopup="true" aria-expanded="false" aria-describedby="vjs-playback-rate-value-label-wise_player_0_component_593"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Playback Rate</span></button><div class="vjs-menu"><ul class="vjs-menu-content" role="menu"><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">2x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.8x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.5x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.2x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item vjs-selected" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="true"><span class="vjs-menu-item-text">1x</span><span class="vjs-control-text" aria-live="polite">, selected</span></li></ul></div></div><button class="vjs-fullscreen-control vjs-control vjs-button" type="button" title="Fullscreen" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Fullscreen</span></button></div><div class="vjs-error-display vjs-modal-dialog vjs-hidden " tabindex="-1" aria-describedby="wise_player_0_component_700_description" aria-hidden="true" aria-label="Modal Window" role="dialog" aria-live="polite"><p class="vjs-modal-dialog-description vjs-control-text" id="wise_player_0_component_700_description">This is a modal window.</p><div class="vjs-modal-dialog-content" role="document"></div></div><div class="vjs-modal-dialog vjs-hidden  vjs-text-track-settings" tabindex="-1" aria-describedby="wise_player_0_component_706_description" aria-hidden="true" aria-label="Caption Settings Dialog" role="dialog" aria-live="polite"><p class="vjs-modal-dialog-description vjs-control-text" id="wise_player_0_component_706_description">Beginning of dialog window. Escape will cancel and close the window.</p><div class="vjs-modal-dialog-content" role="document"><div class="vjs-track-settings-colors"><fieldset class="vjs-fg vjs-track-setting"><legend id="captions-text-legend-wise_player_0_component_706">Text</legend><span class="vjs-text-color"><label id="captions-foreground-color-wise_player_0_component_706" for="vjs_select_732" class="vjs-label">Color</label><select aria-labelledby="captions-text-legend-wise_player_0_component_706 captions-foreground-color-wise_player_0_component_706" id="vjs_select_732"><option id="captions-foreground-color-wise_player_0_component_706-White" value="#FFF" aria-labelledby="captions-text-legend-wise_player_0_component_706 captions-foreground-color-wise_player_0_component_706 captions-foreground-color-wise_player_0_component_706-White">White</option><option id="captions-foreground-color-wise_player_0_component_706-Black" value="#000" aria-labelledby="captions-text-legend-wise_player_0_component_706 captions-foreground-color-wise_player_0_component_706 captions-foreground-color-wise_player_0_component_706-Black">Black</option><option id="captions-foreground-color-wise_player_0_component_706-Red" value="#F00" aria-labelledby="captions-text-legend-wise_player_0_component_706 captions-foreground-color-wise_player_0_component_706 captions-foreground-color-wise_player_0_component_706-Red">Red</option><option id="captions-foreground-color-wise_player_0_component_706-Green" value="#0F0" aria-labelledby="captions-text-legend-wise_player_0_component_706 captions-foreground-color-wise_player_0_component_706 captions-foreground-color-wise_player_0_component_706-Green">Green</option><option id="captions-foreground-color-wise_player_0_component_706-Blue" value="#00F" aria-labelledby="captions-text-legend-wise_player_0_component_706 captions-foreground-color-wise_player_0_component_706 captions-foreground-color-wise_player_0_component_706-Blue">Blue</option><option id="captions-foreground-color-wise_player_0_component_706-Yellow" value="#FF0" aria-labelledby="captions-text-legend-wise_player_0_component_706 captions-foreground-color-wise_player_0_component_706 captions-foreground-color-wise_player_0_component_706-Yellow">Yellow</option><option id="captions-foreground-color-wise_player_0_component_706-Magenta" value="#F0F" aria-labelledby="captions-text-legend-wise_player_0_component_706 captions-foreground-color-wise_player_0_component_706 captions-foreground-color-wise_player_0_component_706-Magenta">Magenta</option><option id="captions-foreground-color-wise_player_0_component_706-Cyan" value="#0FF" aria-labelledby="captions-text-legend-wise_player_0_component_706 captions-foreground-color-wise_player_0_component_706 captions-foreground-color-wise_player_0_component_706-Cyan">Cyan</option></select></span><span class="vjs-text-opacity vjs-opacity"><label id="captions-foreground-opacity-wise_player_0_component_706" for="vjs_select_733" class="vjs-label">Opacity</label><select aria-labelledby="captions-text-legend-wise_player_0_component_706 captions-foreground-opacity-wise_player_0_component_706" id="vjs_select_733"><option id="captions-foreground-opacity-wise_player_0_component_706-Opaque" value="1" aria-labelledby="captions-text-legend-wise_player_0_component_706 captions-foreground-opacity-wise_player_0_component_706 captions-foreground-opacity-wise_player_0_component_706-Opaque">Opaque</option><option id="captions-foreground-opacity-wise_player_0_component_706-SemiTransparent" value="0.5" aria-labelledby="captions-text-legend-wise_player_0_component_706 captions-foreground-opacity-wise_player_0_component_706 captions-foreground-opacity-wise_player_0_component_706-SemiTransparent">Semi-Transparent</option></select></span></fieldset><fieldset class="vjs-bg vjs-track-setting"><legend id="captions-background-wise_player_0_component_706">Text Background</legend><span class="vjs-bg-color"><label id="captions-background-color-wise_player_0_component_706" for="vjs_select_734" class="vjs-label">Color</label><select aria-labelledby="captions-background-wise_player_0_component_706 captions-background-color-wise_player_0_component_706" id="vjs_select_734"><option id="captions-background-color-wise_player_0_component_706-Black" value="#000" aria-labelledby="captions-background-wise_player_0_component_706 captions-background-color-wise_player_0_component_706 captions-background-color-wise_player_0_component_706-Black">Black</option><option id="captions-background-color-wise_player_0_component_706-White" value="#FFF" aria-labelledby="captions-background-wise_player_0_component_706 captions-background-color-wise_player_0_component_706 captions-background-color-wise_player_0_component_706-White">White</option><option id="captions-background-color-wise_player_0_component_706-Red" value="#F00" aria-labelledby="captions-background-wise_player_0_component_706 captions-background-color-wise_player_0_component_706 captions-background-color-wise_player_0_component_706-Red">Red</option><option id="captions-background-color-wise_player_0_component_706-Green" value="#0F0" aria-labelledby="captions-background-wise_player_0_component_706 captions-background-color-wise_player_0_component_706 captions-background-color-wise_player_0_component_706-Green">Green</option><option id="captions-background-color-wise_player_0_component_706-Blue" value="#00F" aria-labelledby="captions-background-wise_player_0_component_706 captions-background-color-wise_player_0_component_706 captions-background-color-wise_player_0_component_706-Blue">Blue</option><option id="captions-background-color-wise_player_0_component_706-Yellow" value="#FF0" aria-labelledby="captions-background-wise_player_0_component_706 captions-background-color-wise_player_0_component_706 captions-background-color-wise_player_0_component_706-Yellow">Yellow</option><option id="captions-background-color-wise_player_0_component_706-Magenta" value="#F0F" aria-labelledby="captions-background-wise_player_0_component_706 captions-background-color-wise_player_0_component_706 captions-background-color-wise_player_0_component_706-Magenta">Magenta</option><option id="captions-background-color-wise_player_0_component_706-Cyan" value="#0FF" aria-labelledby="captions-background-wise_player_0_component_706 captions-background-color-wise_player_0_component_706 captions-background-color-wise_player_0_component_706-Cyan">Cyan</option></select></span><span class="vjs-bg-opacity vjs-opacity"><label id="captions-background-opacity-wise_player_0_component_706" for="vjs_select_735" class="vjs-label">Opacity</label><select aria-labelledby="captions-background-wise_player_0_component_706 captions-background-opacity-wise_player_0_component_706" id="vjs_select_735"><option id="captions-background-opacity-wise_player_0_component_706-Opaque" value="1" aria-labelledby="captions-background-wise_player_0_component_706 captions-background-opacity-wise_player_0_component_706 captions-background-opacity-wise_player_0_component_706-Opaque">Opaque</option><option id="captions-background-opacity-wise_player_0_component_706-SemiTransparent" value="0.5" aria-labelledby="captions-background-wise_player_0_component_706 captions-background-opacity-wise_player_0_component_706 captions-background-opacity-wise_player_0_component_706-SemiTransparent">Semi-Transparent</option><option id="captions-background-opacity-wise_player_0_component_706-Transparent" value="0" aria-labelledby="captions-background-wise_player_0_component_706 captions-background-opacity-wise_player_0_component_706 captions-background-opacity-wise_player_0_component_706-Transparent">Transparent</option></select></span></fieldset><fieldset class="vjs-window vjs-track-setting"><legend id="captions-window-wise_player_0_component_706">Caption Area Background</legend><span class="vjs-window-color"><label id="captions-window-color-wise_player_0_component_706" for="vjs_select_736" class="vjs-label">Color</label><select aria-labelledby="captions-window-wise_player_0_component_706 captions-window-color-wise_player_0_component_706" id="vjs_select_736"><option id="captions-window-color-wise_player_0_component_706-Black" value="#000" aria-labelledby="captions-window-wise_player_0_component_706 captions-window-color-wise_player_0_component_706 captions-window-color-wise_player_0_component_706-Black">Black</option><option id="captions-window-color-wise_player_0_component_706-White" value="#FFF" aria-labelledby="captions-window-wise_player_0_component_706 captions-window-color-wise_player_0_component_706 captions-window-color-wise_player_0_component_706-White">White</option><option id="captions-window-color-wise_player_0_component_706-Red" value="#F00" aria-labelledby="captions-window-wise_player_0_component_706 captions-window-color-wise_player_0_component_706 captions-window-color-wise_player_0_component_706-Red">Red</option><option id="captions-window-color-wise_player_0_component_706-Green" value="#0F0" aria-labelledby="captions-window-wise_player_0_component_706 captions-window-color-wise_player_0_component_706 captions-window-color-wise_player_0_component_706-Green">Green</option><option id="captions-window-color-wise_player_0_component_706-Blue" value="#00F" aria-labelledby="captions-window-wise_player_0_component_706 captions-window-color-wise_player_0_component_706 captions-window-color-wise_player_0_component_706-Blue">Blue</option><option id="captions-window-color-wise_player_0_component_706-Yellow" value="#FF0" aria-labelledby="captions-window-wise_player_0_component_706 captions-window-color-wise_player_0_component_706 captions-window-color-wise_player_0_component_706-Yellow">Yellow</option><option id="captions-window-color-wise_player_0_component_706-Magenta" value="#F0F" aria-labelledby="captions-window-wise_player_0_component_706 captions-window-color-wise_player_0_component_706 captions-window-color-wise_player_0_component_706-Magenta">Magenta</option><option id="captions-window-color-wise_player_0_component_706-Cyan" value="#0FF" aria-labelledby="captions-window-wise_player_0_component_706 captions-window-color-wise_player_0_component_706 captions-window-color-wise_player_0_component_706-Cyan">Cyan</option></select></span><span class="vjs-window-opacity vjs-opacity"><label id="captions-window-opacity-wise_player_0_component_706" for="vjs_select_737" class="vjs-label">Opacity</label><select aria-labelledby="captions-window-wise_player_0_component_706 captions-window-opacity-wise_player_0_component_706" id="vjs_select_737"><option id="captions-window-opacity-wise_player_0_component_706-Transparent" value="0" aria-labelledby="captions-window-wise_player_0_component_706 captions-window-opacity-wise_player_0_component_706 captions-window-opacity-wise_player_0_component_706-Transparent">Transparent</option><option id="captions-window-opacity-wise_player_0_component_706-SemiTransparent" value="0.5" aria-labelledby="captions-window-wise_player_0_component_706 captions-window-opacity-wise_player_0_component_706 captions-window-opacity-wise_player_0_component_706-SemiTransparent">Semi-Transparent</option><option id="captions-window-opacity-wise_player_0_component_706-Opaque" value="1" aria-labelledby="captions-window-wise_player_0_component_706 captions-window-opacity-wise_player_0_component_706 captions-window-opacity-wise_player_0_component_706-Opaque">Opaque</option></select></span></fieldset></div><div class="vjs-track-settings-font"><fieldset class="vjs-font-percent vjs-track-setting"><legend id="captions-font-size-wise_player_0_component_706">Font Size</legend><select aria-labelledby="captions-font-size-wise_player_0_component_706" id="vjs_select_738"><option id="captions-font-size-wise_player_0_component_706-50" value="0.50" aria-labelledby="captions-font-size-wise_player_0_component_706 captions-font-size-wise_player_0_component_706-50">50%</option><option id="captions-font-size-wise_player_0_component_706-75" value="0.75" aria-labelledby="captions-font-size-wise_player_0_component_706 captions-font-size-wise_player_0_component_706-75">75%</option><option id="captions-font-size-wise_player_0_component_706-100" value="1.00" aria-labelledby="captions-font-size-wise_player_0_component_706 captions-font-size-wise_player_0_component_706-100">100%</option><option id="captions-font-size-wise_player_0_component_706-125" value="1.25" aria-labelledby="captions-font-size-wise_player_0_component_706 captions-font-size-wise_player_0_component_706-125">125%</option><option id="captions-font-size-wise_player_0_component_706-150" value="1.50" aria-labelledby="captions-font-size-wise_player_0_component_706 captions-font-size-wise_player_0_component_706-150">150%</option><option id="captions-font-size-wise_player_0_component_706-175" value="1.75" aria-labelledby="captions-font-size-wise_player_0_component_706 captions-font-size-wise_player_0_component_706-175">175%</option><option id="captions-font-size-wise_player_0_component_706-200" value="2.00" aria-labelledby="captions-font-size-wise_player_0_component_706 captions-font-size-wise_player_0_component_706-200">200%</option><option id="captions-font-size-wise_player_0_component_706-300" value="3.00" aria-labelledby="captions-font-size-wise_player_0_component_706 captions-font-size-wise_player_0_component_706-300">300%</option><option id="captions-font-size-wise_player_0_component_706-400" value="4.00" aria-labelledby="captions-font-size-wise_player_0_component_706 captions-font-size-wise_player_0_component_706-400">400%</option></select></fieldset><fieldset class="vjs-edge-style vjs-track-setting"><legend id="wise_player_0_component_706">Text Edge Style</legend><select aria-labelledby="wise_player_0_component_706" id="vjs_select_739"><option id="wise_player_0_component_706-None" value="none" aria-labelledby="wise_player_0_component_706 wise_player_0_component_706-None">None</option><option id="wise_player_0_component_706-Raised" value="raised" aria-labelledby="wise_player_0_component_706 wise_player_0_component_706-Raised">Raised</option><option id="wise_player_0_component_706-Depressed" value="depressed" aria-labelledby="wise_player_0_component_706 wise_player_0_component_706-Depressed">Depressed</option><option id="wise_player_0_component_706-Uniform" value="uniform" aria-labelledby="wise_player_0_component_706 wise_player_0_component_706-Uniform">Uniform</option><option id="wise_player_0_component_706-Dropshadow" value="dropshadow" aria-labelledby="wise_player_0_component_706 wise_player_0_component_706-Dropshadow">Drop shadow</option></select></fieldset><fieldset class="vjs-font-family vjs-track-setting"><legend id="captions-font-family-wise_player_0_component_706">Font Family</legend><select aria-labelledby="captions-font-family-wise_player_0_component_706" id="vjs_select_740"><option id="captions-font-family-wise_player_0_component_706-ProportionalSansSerif" value="proportionalSansSerif" aria-labelledby="captions-font-family-wise_player_0_component_706 captions-font-family-wise_player_0_component_706-ProportionalSansSerif">Proportional Sans-Serif</option><option id="captions-font-family-wise_player_0_component_706-MonospaceSansSerif" value="monospaceSansSerif" aria-labelledby="captions-font-family-wise_player_0_component_706 captions-font-family-wise_player_0_component_706-MonospaceSansSerif">Monospace Sans-Serif</option><option id="captions-font-family-wise_player_0_component_706-ProportionalSerif" value="proportionalSerif" aria-labelledby="captions-font-family-wise_player_0_component_706 captions-font-family-wise_player_0_component_706-ProportionalSerif">Proportional Serif</option><option id="captions-font-family-wise_player_0_component_706-MonospaceSerif" value="monospaceSerif" aria-labelledby="captions-font-family-wise_player_0_component_706 captions-font-family-wise_player_0_component_706-MonospaceSerif">Monospace Serif</option><option id="captions-font-family-wise_player_0_component_706-Casual" value="casual" aria-labelledby="captions-font-family-wise_player_0_component_706 captions-font-family-wise_player_0_component_706-Casual">Casual</option><option id="captions-font-family-wise_player_0_component_706-Script" value="script" aria-labelledby="captions-font-family-wise_player_0_component_706 captions-font-family-wise_player_0_component_706-Script">Script</option><option id="captions-font-family-wise_player_0_component_706-SmallCaps" value="small-caps" aria-labelledby="captions-font-family-wise_player_0_component_706 captions-font-family-wise_player_0_component_706-SmallCaps">Small Caps</option></select></fieldset></div><div class="vjs-track-settings-controls"><button type="button" class="vjs-default-button" title="restore all settings to the default values">Reset<span class="vjs-control-text"> restore all settings to the default values</span></button><button type="button" class="vjs-done-button">Done</button></div></div><button class="vjs-close-button vjs-control vjs-button" type="button" title="Close Modal Dialog" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Close Modal Dialog</span></button><p class="vjs-control-text">End of dialog window.</p></div><div wiseplayerindex="0" class="wiseplayershaw"></div></div></div><p></p>     <p><strong>构建</strong><strong>数据存入剪贴板</strong></p>     <p>使用createData()创建一个包含单URI类型的pasteData数据。使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-pasteboard#setdata9" target="_blank">setData()</a>方法将pasteData数据写入系统剪贴板。</p>     <div _ngcontent-gnt-c106="" class="highlight-div"><div _ngcontent-gnt-c106="" class="highlight-div-header"><div _ngcontent-gnt-c106="" class="highlight-div-header-left"><div _ngcontent-gnt-c106="" class="handle-button expand-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gnt-c106="" class="highlight-div-header-right"><div _ngcontent-gnt-c106="" class="handle-button ai-button"></div><div _ngcontent-gnt-c106="" class="handle-button line-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gnt-c106="" class="handle-button theme-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gnt-c106="" class="handle-button copy-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gnt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-variable">pasteData</span>: <span class="hljs-title class_">pasteboard</span>.<span class="hljs-title class_">PasteData</span> = <span class="hljs-variable">pasteboard</span>.<span class="hljs-title function_">createData</span>(<span class="hljs-variable">pasteboard</span>.<span class="hljs-variable">MIMETYPE_TEXT_URI</span>, <span class="hljs-string">'PageABuilder'</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">systemPasteboard</span>: <span class="hljs-title class_">pasteboard</span>.<span class="hljs-title class_">SystemPasteboard</span> = <span class="hljs-variable">pasteboard</span>.<span class="hljs-title function_">getSystemPasteboard</span>();</li><li><span class="hljs-variable">await</span> <span class="hljs-variable">systemPasteboard</span>.<span class="hljs-title function_">setData</span>(<span class="hljs-variable">pasteData</span>);</li></ol></pre></div></div>     <p><strong>读取剪贴板数据实现跳转</strong></p>     <p>由于应用读取系统剪贴板的权限<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/restricted-permissions#ohospermissionread_pasteboard" target="_blank">ohos.permission.READ_PASTEBOARD</a>是受限访问的，因此需要先通过AGC平台申请此权限，才能获取系统剪贴板内的数据。具体申请权限的流程可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-signing#section89479413571" target="_blank">使用ACL的签名配置指导</a>。</p>     <p>首先，应用在启动时或从后台进入前台时，在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-custom-component-lifecycle#onpageshow" target="_blank">onPageShow()</a>生命周期中检查系统剪贴板中是否包含URI类型数据。URI类型数据存在时检查权限ohos.permission.READ_PASTEBOARD是否已授权。确认权限授权后，使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-pasteboard#getdata9" target="_blank">getData()</a>方法获取系统剪贴板内的数据，并使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-pasteboard#getprimaryuri7" target="_blank">getPrimaryUri()</a>方法获取单URI类型的数据。校验数据格式正确后，拉起弹窗询问用户是否需要执行跳转。</p>     <div _ngcontent-gnt-c106="" class="highlight-div"><div _ngcontent-gnt-c106="" class="highlight-div-header"><div _ngcontent-gnt-c106="" class="highlight-div-header-left"><div _ngcontent-gnt-c106="" class="handle-button expand-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gnt-c106="" class="highlight-div-header-right"><div _ngcontent-gnt-c106="" class="handle-button ai-button"></div><div _ngcontent-gnt-c106="" class="handle-button line-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gnt-c106="" class="handle-button theme-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gnt-c106="" class="handle-button copy-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gnt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title function_">onPageShow</span>(): <span class="hljs-title class_">void</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-variable">systemPasteboard</span>: <span class="hljs-title class_">pasteboard</span>.<span class="hljs-title class_">SystemPasteboard</span> = <span class="hljs-variable">pasteboard</span>.<span class="hljs-title function_">getSystemPasteboard</span>();</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-variable">result</span>: <span class="hljs-title class_">boolean</span> = <span class="hljs-variable">systemPasteboard</span>.<span class="hljs-title function_">hasDataType</span>(<span class="hljs-variable">pasteboard</span>.<span class="hljs-variable">MIMETYPE_TEXT_URI</span>)</li><li>  <span class="hljs-keyword">if</span> (<span class="hljs-variable">result</span>) {</li><li>    <span class="hljs-keyword">this</span>.<span class="hljs-title function_">checkPermissionGrant</span>();</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-title function_">checkPermissionGrant</span>(): <span class="hljs-title class_">void</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-variable">hasPermission</span> = <span class="hljs-keyword">false</span>;</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-variable">tokenId</span>: <span class="hljs-title class_">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-variable">bundleInfo</span>: <span class="hljs-title class_">bundleManager</span>.<span class="hljs-title class_">BundleInfo</span> =</li><li>      <span class="hljs-variable">bundleManager</span>.<span class="hljs-title function_">getBundleInfoForSelfSync</span>(<span class="hljs-variable">bundleManager</span>.<span class="hljs-variable">BundleFlag</span>.<span class="hljs-variable">GET_BUNDLE_INFO_WITH_APPLICATION</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-variable">appInfo</span>: <span class="hljs-title class_">bundleManager</span>.<span class="hljs-title class_">ApplicationInfo</span> = <span class="hljs-variable">bundleInfo</span>.<span class="hljs-variable">appInfo</span>;</li><li>    <span class="hljs-variable">tokenId</span> = <span class="hljs-variable">appInfo</span>.<span class="hljs-variable">accessTokenId</span>;</li><li>  } <span class="hljs-keyword">catch</span> (<span class="hljs-variable">error</span>) {</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-variable">err</span>: <span class="hljs-title class_">BusinessError</span> = <span class="hljs-variable">error</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">BusinessError</span>;</li><li>    <span class="hljs-variable">hilog</span>.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[Home]'</span>,</li><li>      `<span class="hljs-variable">Failed</span> <span class="hljs-variable">to</span> <span class="hljs-variable">get</span> <span class="hljs-variable">bundle</span> <span class="hljs-variable">info</span> <span class="hljs-keyword">for</span> <span class="hljs-variable">self</span>. <span class="hljs-variable">Code</span> <span class="hljs-keyword">is</span> ${<span class="hljs-variable">err</span>.<span class="hljs-variable">code</span>}, <span class="hljs-variable">message</span> <span class="hljs-keyword">is</span> ${<span class="hljs-variable">err</span>.<span class="hljs-variable">message</span>}`);</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-variable">atManager</span> = <span class="hljs-variable">abilityAccessCtrl</span>.<span class="hljs-title function_">createAtManager</span>();</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-variable">approximatelyLocation</span> = <span class="hljs-variable">atManager</span>.<span class="hljs-title function_">checkAccessTokenSync</span>(<span class="hljs-variable">tokenId</span>, <span class="hljs-string">'ohos.permission.READ_PASTEBOARD'</span>);</li><li>    <span class="hljs-variable">hasPermission</span> = <span class="hljs-variable">approximatelyLocation</span> === <span class="hljs-variable">abilityAccessCtrl</span>.<span class="hljs-variable">GrantStatus</span>.<span class="hljs-variable">PERMISSION_GRANTED</span>;</li><li>  } <span class="hljs-keyword">catch</span> (<span class="hljs-variable">error</span>) {</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-variable">err</span>: <span class="hljs-title class_">BusinessError</span> = <span class="hljs-variable">error</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">BusinessError</span>;</li><li>    <span class="hljs-variable">hilog</span>.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[Home]'</span>, `<span class="hljs-variable">Failed</span> <span class="hljs-variable">to</span> <span class="hljs-variable">check</span> <span class="hljs-variable">access</span> <span class="hljs-variable">token</span>. <span class="hljs-variable">Code</span> <span class="hljs-keyword">is</span> ${<span class="hljs-variable">err</span>.<span class="hljs-variable">code</span>}, <span class="hljs-variable">message</span> <span class="hljs-keyword">is</span> ${<span class="hljs-variable">err</span>.<span class="hljs-variable">message</span>}`);</li><li>  }</li><li>  <span class="hljs-keyword">if</span> (<span class="hljs-variable">hasPermission</span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-variable">systemPasteboard</span>: <span class="hljs-title class_">pasteboard</span>.<span class="hljs-title class_">SystemPasteboard</span> = <span class="hljs-variable">pasteboard</span>.<span class="hljs-title function_">getSystemPasteboard</span>();</li><li>    <span class="hljs-variable">systemPasteboard</span>.<span class="hljs-title function_">getData</span>().<span class="hljs-title function_">then</span>((<span class="hljs-variable">pasteData</span>: <span class="hljs-title class_">pasteboard</span>.<span class="hljs-title class_">PasteData</span>) =&gt; {</li><li>      <span class="hljs-keyword">this</span>.<span class="hljs-variable">uri</span> = <span class="hljs-variable">pasteData</span>.<span class="hljs-title function_">getPrimaryUri</span>();</li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.<span class="hljs-variable">uri</span> === <span class="hljs-string">'PageABuilder'</span> || <span class="hljs-keyword">this</span>.<span class="hljs-variable">uri</span> === <span class="hljs-string">'PageBBuilder'</span>) {</li><li>        <span class="hljs-keyword">this</span>.<span class="hljs-variable">dialogControllerImage</span>.<span class="hljs-keyword">open</span>();</li><li>      }</li><li>    }).<span class="hljs-keyword">catch</span>((<span class="hljs-variable">err</span>: <span class="hljs-title class_">BusinessError</span>) =&gt; {</li><li>      <span class="hljs-variable">hilog</span>.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[Home]'</span>, <span class="hljs-string">'Failed to get PasteData. Cause: '</span> + <span class="hljs-variable">err</span>.<span class="hljs-variable">message</span>);</li><li>    })</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable">hilog</span>.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[Home]'</span>, <span class="hljs-string">'The app is not authorized.'</span>);</li><li>    <span class="hljs-keyword">this</span>.<span class="hljs-title function_">requestPermissionsFn</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="section91711442235">多样式复制粘贴<i class="anchor-icon anchor-icon-link" anchorid="section91711442235" tips="复制节点链接"></i></h2>          <p>随着富文本数据接入不同设备，为了使复制的数据能够被更多的设备B识别，设备A需要将同一份数据的多种样式存入剪贴板中。如设备A图文混排的富文本数据可以按<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-pasteboard#常量" target="_blank">纯文本类型（'text/plain'）</a>、包含文字样式及图片的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-pasteboard#常量" target="_blank">HTML类型（'text/html'）</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-pasteboard#常量" target="_blank">纯图片类型（'pixelMap'）</a>等多种类型存入剪贴板。设备B选择需要的类型读取对应类型的数据，然后实现粘贴操作。剪贴板支持的数据类型请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-pasteboard#常量" target="_blank">@ohos.pasteboard (剪贴板)</a>。</p>     <p>      </p><div class="video-box" style="width: 326.25px; height: 326.25px;"><div id="wise_player_1" videodata="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163253.26106226509548991896725117482449:50001231000000:2800:95D952DE2B2473970A9221A7B6A3AA0C943548CE37B59B5E2F5CA0F8531E9BE6.mp4" preload="none" class="edui-upload-video vjs-fluid vjs-default-skin video-js vjs-paused vjs_video_3-dimensions vjs-controls-enabled vjs-workinghover vjs-v7 vjs-user-active wise_player_1-dimensions vjs-v8" tabindex="-1" role="region" lang="cn" translate="no" aria-label="Video Player"><video class="vjs-tech" preload="none" videodata="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163253.26106226509548991896725117482449:50001231000000:2800:95D952DE2B2473970A9221A7B6A3AA0C943548CE37B59B5E2F5CA0F8531E9BE6.mp4" id="wise_player_1_html5_api" tabindex="-1" role="application" loop="" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163253.26106226509548991896725117482449:50001231000000:2800:95D952DE2B2473970A9221A7B6A3AA0C943548CE37B59B5E2F5CA0F8531E9BE6.mp4"></video><div class="vjs-poster vjs-hidden" aria-disabled="false"></div><div class="vjs-title-bar vjs-hidden"><div class="vjs-title-bar-title" id="vjs-title-bar-title-776"></div><div class="vjs-title-bar-description" id="vjs-title-bar-description-777"></div></div><div class="vjs-text-track-display" translate="yes" aria-live="off" aria-atomic="true"><div style="position: absolute; inset: 0px; margin: 1.5%;"></div></div><div class="vjs-loading-spinner" dir="ltr"><span class="vjs-control-text">Video Player is loading.</span></div><button class="vjs-big-play-button" type="button" title="Play Video" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Play Video</span></button><div class="vjs-control-bar" dir="ltr"><button class="vjs-play-control vjs-control vjs-button" type="button" title="Play" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Play</span></button><div class="vjs-current-time vjs-time-control vjs-control"><span class="vjs-control-text" role="presentation">Current Time&nbsp;</span><span class="vjs-current-time-display" role="presentation">0:00</span></div><div class="vjs-progress-control vjs-control"><div tabindex="0" class="vjs-progress-holder vjs-slider vjs-slider-horizontal" role="slider" aria-valuenow="0.00" aria-valuemin="0" aria-valuemax="100" aria-label="Progress Bar" aria-valuetext="0:00 of 0:09"><div class="vjs-load-progress" style="width: 12.24%;"><span class="vjs-control-text"><span>Loaded</span>: <span class="vjs-control-text-loaded-percentage">12.24%</span></span><div data-start="0" data-end="1.214" style="left: 0%; width: 100%;"></div></div><div class="vjs-mouse-display"><div class="vjs-time-tooltip" aria-hidden="true"></div></div><div class="vjs-play-progress vjs-slider-bar" aria-hidden="true" style="width: 0%;"><div class="vjs-time-tooltip" aria-hidden="true" style="right: 0px;">0:00</div></div></div></div><div class="vjs-duration vjs-time-control vjs-control"><span class="vjs-control-text" role="presentation">Duration&nbsp;</span><span class="vjs-duration-display" role="presentation">0:09</span></div><div class="vjs-volume-panel vjs-control vjs-volume-panel-vertical"><button class="vjs-mute-control vjs-control vjs-button vjs-vol-3" type="button" title="Mute" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Mute</span></button><div class="vjs-volume-control vjs-control vjs-volume-vertical"><div tabindex="0" class="vjs-volume-bar vjs-slider-bar vjs-slider vjs-slider-vertical" role="slider" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" aria-label="Volume Level" aria-live="polite" aria-valuetext="100%"><div class="vjs-mouse-display"><div class="vjs-volume-tooltip" aria-hidden="true"></div></div><div class="vjs-volume-level"><span class="vjs-control-text"></span></div></div></div></div><div class="vjs-playback-rate vjs-menu-button vjs-menu-button-popup vjs-control vjs-button"><div class="vjs-playback-rate-value" id="vjs-playback-rate-value-label-wise_player_1_component_961">1x</div><button class="vjs-playback-rate vjs-menu-button vjs-menu-button-popup vjs-button" type="button" aria-disabled="false" title="Playback Rate" aria-haspopup="true" aria-expanded="false" aria-describedby="vjs-playback-rate-value-label-wise_player_1_component_961"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Playback Rate</span></button><div class="vjs-menu"><ul class="vjs-menu-content" role="menu"><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">2x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.8x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.5x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.2x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item vjs-selected" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="true"><span class="vjs-menu-item-text">1x</span><span class="vjs-control-text" aria-live="polite">, selected</span></li></ul></div></div><button class="vjs-fullscreen-control vjs-control vjs-button" type="button" title="Fullscreen" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Fullscreen</span></button></div><div class="vjs-error-display vjs-modal-dialog vjs-hidden " tabindex="-1" aria-describedby="wise_player_1_component_1068_description" aria-hidden="true" aria-label="Modal Window" role="dialog" aria-live="polite"><p class="vjs-modal-dialog-description vjs-control-text" id="wise_player_1_component_1068_description">This is a modal window.</p><div class="vjs-modal-dialog-content" role="document"></div></div><div class="vjs-modal-dialog vjs-hidden  vjs-text-track-settings" tabindex="-1" aria-describedby="wise_player_1_component_1074_description" aria-hidden="true" aria-label="Caption Settings Dialog" role="dialog" aria-live="polite"><p class="vjs-modal-dialog-description vjs-control-text" id="wise_player_1_component_1074_description">Beginning of dialog window. Escape will cancel and close the window.</p><div class="vjs-modal-dialog-content" role="document"><div class="vjs-track-settings-colors"><fieldset class="vjs-fg vjs-track-setting"><legend id="captions-text-legend-wise_player_1_component_1074">Text</legend><span class="vjs-text-color"><label id="captions-foreground-color-wise_player_1_component_1074" for="vjs_select_1100" class="vjs-label">Color</label><select aria-labelledby="captions-text-legend-wise_player_1_component_1074 captions-foreground-color-wise_player_1_component_1074" id="vjs_select_1100"><option id="captions-foreground-color-wise_player_1_component_1074-White" value="#FFF" aria-labelledby="captions-text-legend-wise_player_1_component_1074 captions-foreground-color-wise_player_1_component_1074 captions-foreground-color-wise_player_1_component_1074-White">White</option><option id="captions-foreground-color-wise_player_1_component_1074-Black" value="#000" aria-labelledby="captions-text-legend-wise_player_1_component_1074 captions-foreground-color-wise_player_1_component_1074 captions-foreground-color-wise_player_1_component_1074-Black">Black</option><option id="captions-foreground-color-wise_player_1_component_1074-Red" value="#F00" aria-labelledby="captions-text-legend-wise_player_1_component_1074 captions-foreground-color-wise_player_1_component_1074 captions-foreground-color-wise_player_1_component_1074-Red">Red</option><option id="captions-foreground-color-wise_player_1_component_1074-Green" value="#0F0" aria-labelledby="captions-text-legend-wise_player_1_component_1074 captions-foreground-color-wise_player_1_component_1074 captions-foreground-color-wise_player_1_component_1074-Green">Green</option><option id="captions-foreground-color-wise_player_1_component_1074-Blue" value="#00F" aria-labelledby="captions-text-legend-wise_player_1_component_1074 captions-foreground-color-wise_player_1_component_1074 captions-foreground-color-wise_player_1_component_1074-Blue">Blue</option><option id="captions-foreground-color-wise_player_1_component_1074-Yellow" value="#FF0" aria-labelledby="captions-text-legend-wise_player_1_component_1074 captions-foreground-color-wise_player_1_component_1074 captions-foreground-color-wise_player_1_component_1074-Yellow">Yellow</option><option id="captions-foreground-color-wise_player_1_component_1074-Magenta" value="#F0F" aria-labelledby="captions-text-legend-wise_player_1_component_1074 captions-foreground-color-wise_player_1_component_1074 captions-foreground-color-wise_player_1_component_1074-Magenta">Magenta</option><option id="captions-foreground-color-wise_player_1_component_1074-Cyan" value="#0FF" aria-labelledby="captions-text-legend-wise_player_1_component_1074 captions-foreground-color-wise_player_1_component_1074 captions-foreground-color-wise_player_1_component_1074-Cyan">Cyan</option></select></span><span class="vjs-text-opacity vjs-opacity"><label id="captions-foreground-opacity-wise_player_1_component_1074" for="vjs_select_1101" class="vjs-label">Opacity</label><select aria-labelledby="captions-text-legend-wise_player_1_component_1074 captions-foreground-opacity-wise_player_1_component_1074" id="vjs_select_1101"><option id="captions-foreground-opacity-wise_player_1_component_1074-Opaque" value="1" aria-labelledby="captions-text-legend-wise_player_1_component_1074 captions-foreground-opacity-wise_player_1_component_1074 captions-foreground-opacity-wise_player_1_component_1074-Opaque">Opaque</option><option id="captions-foreground-opacity-wise_player_1_component_1074-SemiTransparent" value="0.5" aria-labelledby="captions-text-legend-wise_player_1_component_1074 captions-foreground-opacity-wise_player_1_component_1074 captions-foreground-opacity-wise_player_1_component_1074-SemiTransparent">Semi-Transparent</option></select></span></fieldset><fieldset class="vjs-bg vjs-track-setting"><legend id="captions-background-wise_player_1_component_1074">Text Background</legend><span class="vjs-bg-color"><label id="captions-background-color-wise_player_1_component_1074" for="vjs_select_1102" class="vjs-label">Color</label><select aria-labelledby="captions-background-wise_player_1_component_1074 captions-background-color-wise_player_1_component_1074" id="vjs_select_1102"><option id="captions-background-color-wise_player_1_component_1074-Black" value="#000" aria-labelledby="captions-background-wise_player_1_component_1074 captions-background-color-wise_player_1_component_1074 captions-background-color-wise_player_1_component_1074-Black">Black</option><option id="captions-background-color-wise_player_1_component_1074-White" value="#FFF" aria-labelledby="captions-background-wise_player_1_component_1074 captions-background-color-wise_player_1_component_1074 captions-background-color-wise_player_1_component_1074-White">White</option><option id="captions-background-color-wise_player_1_component_1074-Red" value="#F00" aria-labelledby="captions-background-wise_player_1_component_1074 captions-background-color-wise_player_1_component_1074 captions-background-color-wise_player_1_component_1074-Red">Red</option><option id="captions-background-color-wise_player_1_component_1074-Green" value="#0F0" aria-labelledby="captions-background-wise_player_1_component_1074 captions-background-color-wise_player_1_component_1074 captions-background-color-wise_player_1_component_1074-Green">Green</option><option id="captions-background-color-wise_player_1_component_1074-Blue" value="#00F" aria-labelledby="captions-background-wise_player_1_component_1074 captions-background-color-wise_player_1_component_1074 captions-background-color-wise_player_1_component_1074-Blue">Blue</option><option id="captions-background-color-wise_player_1_component_1074-Yellow" value="#FF0" aria-labelledby="captions-background-wise_player_1_component_1074 captions-background-color-wise_player_1_component_1074 captions-background-color-wise_player_1_component_1074-Yellow">Yellow</option><option id="captions-background-color-wise_player_1_component_1074-Magenta" value="#F0F" aria-labelledby="captions-background-wise_player_1_component_1074 captions-background-color-wise_player_1_component_1074 captions-background-color-wise_player_1_component_1074-Magenta">Magenta</option><option id="captions-background-color-wise_player_1_component_1074-Cyan" value="#0FF" aria-labelledby="captions-background-wise_player_1_component_1074 captions-background-color-wise_player_1_component_1074 captions-background-color-wise_player_1_component_1074-Cyan">Cyan</option></select></span><span class="vjs-bg-opacity vjs-opacity"><label id="captions-background-opacity-wise_player_1_component_1074" for="vjs_select_1103" class="vjs-label">Opacity</label><select aria-labelledby="captions-background-wise_player_1_component_1074 captions-background-opacity-wise_player_1_component_1074" id="vjs_select_1103"><option id="captions-background-opacity-wise_player_1_component_1074-Opaque" value="1" aria-labelledby="captions-background-wise_player_1_component_1074 captions-background-opacity-wise_player_1_component_1074 captions-background-opacity-wise_player_1_component_1074-Opaque">Opaque</option><option id="captions-background-opacity-wise_player_1_component_1074-SemiTransparent" value="0.5" aria-labelledby="captions-background-wise_player_1_component_1074 captions-background-opacity-wise_player_1_component_1074 captions-background-opacity-wise_player_1_component_1074-SemiTransparent">Semi-Transparent</option><option id="captions-background-opacity-wise_player_1_component_1074-Transparent" value="0" aria-labelledby="captions-background-wise_player_1_component_1074 captions-background-opacity-wise_player_1_component_1074 captions-background-opacity-wise_player_1_component_1074-Transparent">Transparent</option></select></span></fieldset><fieldset class="vjs-window vjs-track-setting"><legend id="captions-window-wise_player_1_component_1074">Caption Area Background</legend><span class="vjs-window-color"><label id="captions-window-color-wise_player_1_component_1074" for="vjs_select_1104" class="vjs-label">Color</label><select aria-labelledby="captions-window-wise_player_1_component_1074 captions-window-color-wise_player_1_component_1074" id="vjs_select_1104"><option id="captions-window-color-wise_player_1_component_1074-Black" value="#000" aria-labelledby="captions-window-wise_player_1_component_1074 captions-window-color-wise_player_1_component_1074 captions-window-color-wise_player_1_component_1074-Black">Black</option><option id="captions-window-color-wise_player_1_component_1074-White" value="#FFF" aria-labelledby="captions-window-wise_player_1_component_1074 captions-window-color-wise_player_1_component_1074 captions-window-color-wise_player_1_component_1074-White">White</option><option id="captions-window-color-wise_player_1_component_1074-Red" value="#F00" aria-labelledby="captions-window-wise_player_1_component_1074 captions-window-color-wise_player_1_component_1074 captions-window-color-wise_player_1_component_1074-Red">Red</option><option id="captions-window-color-wise_player_1_component_1074-Green" value="#0F0" aria-labelledby="captions-window-wise_player_1_component_1074 captions-window-color-wise_player_1_component_1074 captions-window-color-wise_player_1_component_1074-Green">Green</option><option id="captions-window-color-wise_player_1_component_1074-Blue" value="#00F" aria-labelledby="captions-window-wise_player_1_component_1074 captions-window-color-wise_player_1_component_1074 captions-window-color-wise_player_1_component_1074-Blue">Blue</option><option id="captions-window-color-wise_player_1_component_1074-Yellow" value="#FF0" aria-labelledby="captions-window-wise_player_1_component_1074 captions-window-color-wise_player_1_component_1074 captions-window-color-wise_player_1_component_1074-Yellow">Yellow</option><option id="captions-window-color-wise_player_1_component_1074-Magenta" value="#F0F" aria-labelledby="captions-window-wise_player_1_component_1074 captions-window-color-wise_player_1_component_1074 captions-window-color-wise_player_1_component_1074-Magenta">Magenta</option><option id="captions-window-color-wise_player_1_component_1074-Cyan" value="#0FF" aria-labelledby="captions-window-wise_player_1_component_1074 captions-window-color-wise_player_1_component_1074 captions-window-color-wise_player_1_component_1074-Cyan">Cyan</option></select></span><span class="vjs-window-opacity vjs-opacity"><label id="captions-window-opacity-wise_player_1_component_1074" for="vjs_select_1105" class="vjs-label">Opacity</label><select aria-labelledby="captions-window-wise_player_1_component_1074 captions-window-opacity-wise_player_1_component_1074" id="vjs_select_1105"><option id="captions-window-opacity-wise_player_1_component_1074-Transparent" value="0" aria-labelledby="captions-window-wise_player_1_component_1074 captions-window-opacity-wise_player_1_component_1074 captions-window-opacity-wise_player_1_component_1074-Transparent">Transparent</option><option id="captions-window-opacity-wise_player_1_component_1074-SemiTransparent" value="0.5" aria-labelledby="captions-window-wise_player_1_component_1074 captions-window-opacity-wise_player_1_component_1074 captions-window-opacity-wise_player_1_component_1074-SemiTransparent">Semi-Transparent</option><option id="captions-window-opacity-wise_player_1_component_1074-Opaque" value="1" aria-labelledby="captions-window-wise_player_1_component_1074 captions-window-opacity-wise_player_1_component_1074 captions-window-opacity-wise_player_1_component_1074-Opaque">Opaque</option></select></span></fieldset></div><div class="vjs-track-settings-font"><fieldset class="vjs-font-percent vjs-track-setting"><legend id="captions-font-size-wise_player_1_component_1074">Font Size</legend><select aria-labelledby="captions-font-size-wise_player_1_component_1074" id="vjs_select_1106"><option id="captions-font-size-wise_player_1_component_1074-50" value="0.50" aria-labelledby="captions-font-size-wise_player_1_component_1074 captions-font-size-wise_player_1_component_1074-50">50%</option><option id="captions-font-size-wise_player_1_component_1074-75" value="0.75" aria-labelledby="captions-font-size-wise_player_1_component_1074 captions-font-size-wise_player_1_component_1074-75">75%</option><option id="captions-font-size-wise_player_1_component_1074-100" value="1.00" aria-labelledby="captions-font-size-wise_player_1_component_1074 captions-font-size-wise_player_1_component_1074-100">100%</option><option id="captions-font-size-wise_player_1_component_1074-125" value="1.25" aria-labelledby="captions-font-size-wise_player_1_component_1074 captions-font-size-wise_player_1_component_1074-125">125%</option><option id="captions-font-size-wise_player_1_component_1074-150" value="1.50" aria-labelledby="captions-font-size-wise_player_1_component_1074 captions-font-size-wise_player_1_component_1074-150">150%</option><option id="captions-font-size-wise_player_1_component_1074-175" value="1.75" aria-labelledby="captions-font-size-wise_player_1_component_1074 captions-font-size-wise_player_1_component_1074-175">175%</option><option id="captions-font-size-wise_player_1_component_1074-200" value="2.00" aria-labelledby="captions-font-size-wise_player_1_component_1074 captions-font-size-wise_player_1_component_1074-200">200%</option><option id="captions-font-size-wise_player_1_component_1074-300" value="3.00" aria-labelledby="captions-font-size-wise_player_1_component_1074 captions-font-size-wise_player_1_component_1074-300">300%</option><option id="captions-font-size-wise_player_1_component_1074-400" value="4.00" aria-labelledby="captions-font-size-wise_player_1_component_1074 captions-font-size-wise_player_1_component_1074-400">400%</option></select></fieldset><fieldset class="vjs-edge-style vjs-track-setting"><legend id="wise_player_1_component_1074">Text Edge Style</legend><select aria-labelledby="wise_player_1_component_1074" id="vjs_select_1107"><option id="wise_player_1_component_1074-None" value="none" aria-labelledby="wise_player_1_component_1074 wise_player_1_component_1074-None">None</option><option id="wise_player_1_component_1074-Raised" value="raised" aria-labelledby="wise_player_1_component_1074 wise_player_1_component_1074-Raised">Raised</option><option id="wise_player_1_component_1074-Depressed" value="depressed" aria-labelledby="wise_player_1_component_1074 wise_player_1_component_1074-Depressed">Depressed</option><option id="wise_player_1_component_1074-Uniform" value="uniform" aria-labelledby="wise_player_1_component_1074 wise_player_1_component_1074-Uniform">Uniform</option><option id="wise_player_1_component_1074-Dropshadow" value="dropshadow" aria-labelledby="wise_player_1_component_1074 wise_player_1_component_1074-Dropshadow">Drop shadow</option></select></fieldset><fieldset class="vjs-font-family vjs-track-setting"><legend id="captions-font-family-wise_player_1_component_1074">Font Family</legend><select aria-labelledby="captions-font-family-wise_player_1_component_1074" id="vjs_select_1108"><option id="captions-font-family-wise_player_1_component_1074-ProportionalSansSerif" value="proportionalSansSerif" aria-labelledby="captions-font-family-wise_player_1_component_1074 captions-font-family-wise_player_1_component_1074-ProportionalSansSerif">Proportional Sans-Serif</option><option id="captions-font-family-wise_player_1_component_1074-MonospaceSansSerif" value="monospaceSansSerif" aria-labelledby="captions-font-family-wise_player_1_component_1074 captions-font-family-wise_player_1_component_1074-MonospaceSansSerif">Monospace Sans-Serif</option><option id="captions-font-family-wise_player_1_component_1074-ProportionalSerif" value="proportionalSerif" aria-labelledby="captions-font-family-wise_player_1_component_1074 captions-font-family-wise_player_1_component_1074-ProportionalSerif">Proportional Serif</option><option id="captions-font-family-wise_player_1_component_1074-MonospaceSerif" value="monospaceSerif" aria-labelledby="captions-font-family-wise_player_1_component_1074 captions-font-family-wise_player_1_component_1074-MonospaceSerif">Monospace Serif</option><option id="captions-font-family-wise_player_1_component_1074-Casual" value="casual" aria-labelledby="captions-font-family-wise_player_1_component_1074 captions-font-family-wise_player_1_component_1074-Casual">Casual</option><option id="captions-font-family-wise_player_1_component_1074-Script" value="script" aria-labelledby="captions-font-family-wise_player_1_component_1074 captions-font-family-wise_player_1_component_1074-Script">Script</option><option id="captions-font-family-wise_player_1_component_1074-SmallCaps" value="small-caps" aria-labelledby="captions-font-family-wise_player_1_component_1074 captions-font-family-wise_player_1_component_1074-SmallCaps">Small Caps</option></select></fieldset></div><div class="vjs-track-settings-controls"><button type="button" class="vjs-default-button" title="restore all settings to the default values">Reset<span class="vjs-control-text"> restore all settings to the default values</span></button><button type="button" class="vjs-done-button">Done</button></div></div><button class="vjs-close-button vjs-control vjs-button" type="button" title="Close Modal Dialog" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Close Modal Dialog</span></button><p class="vjs-control-text">End of dialog window.</p></div><div wiseplayerindex="1" class="wiseplayershaw"></div></div></div><p></p>     <p><strong>构建数据存入剪贴板</strong></p>     <div class="p">      创建<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-pasteboard#pastedata" target="_blank">PasteData</a>类型对象pasteData，通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-pasteboard#getrecord9" target="_blank">PasteData.getRecord()</a>方法获取数据条目<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-pasteboard#pastedatarecord7" target="_blank">PasteDataRecord</a>。本示例中使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor" target="_blank">RichEditor</a>组件实现富文本数据的初始化，开发者可以选择其他富文本实现方案读取粘贴富文本数据。使用初始化RichEditor组件<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorstyledstringcontroller12" target="_blank">RichEditorStyledStringController</a>控制器的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#getstyledstring12" target="_blank">getStyledString()</a>方法获取富文本框内的数据。根据需要的数据类型，使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-pasteboard#addentry14" target="_blank">PasteDataRecord.addEntry()</a>方法向条目中添加多种类型的数据。最后，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-pasteboard#setdata9" target="_blank">setData()</a>方法将包含多样式数据的对象pasteData存入系统剪贴板。需要注意，PasteDataRecord 仅支持单个PixelMap数据传输，如需传输多个PixelMap，需要向PasteData中存入多个PasteDataRecord分别保存PixelMap。       <div class="screenLinkPre"><div _ngcontent-gnt-c106="" class="highlight-div"><div _ngcontent-gnt-c106="" class="highlight-div-header"><div _ngcontent-gnt-c106="" class="highlight-div-header-left"><div _ngcontent-gnt-c106="" class="handle-button expand-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gnt-c106="" class="highlight-div-header-right"><div _ngcontent-gnt-c106="" class="handle-button ai-button"></div><div _ngcontent-gnt-c106="" class="handle-button line-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gnt-c106="" class="handle-button theme-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gnt-c106="" class="handle-button copy-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gnt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/pasteboard/blob/master/entry/src/main/ets/pages/PasteBoard.ets#L205-L229" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-variable">pasteData</span>: <span class="hljs-title class_">pasteboard</span>.<span class="hljs-title class_">PasteData</span> = <span class="hljs-variable">pasteboard</span>.<span class="hljs-title function_">createData</span>(<span class="hljs-variable">pasteboard</span>.<span class="hljs-variable">MIMETYPE_TEXT_PLAIN</span>, <span class="hljs-string">''</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">record</span>: <span class="hljs-title class_">pasteboard</span>.<span class="hljs-title class_">PasteDataRecord</span> = <span class="hljs-variable">pasteData</span>.<span class="hljs-title function_">getRecord</span>(<span class="hljs-number">0</span>);</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">styledString</span>: <span class="hljs-title class_">StyledString</span> = <span class="hljs-keyword">this</span>.<span class="hljs-variable">editController</span>.<span class="hljs-title function_">getStyledString</span>();</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">html</span>: <span class="hljs-title class_">string</span> = <span class="hljs-variable">StyledString</span>.<span class="hljs-title function_">toHtml</span>(<span class="hljs-variable">styledString</span>);</li><li>
</li><li><span class="hljs-variable">record</span>.<span class="hljs-title function_">addEntry</span>(<span class="hljs-variable">pasteboard</span>.<span class="hljs-variable">MIMETYPE_TEXT_HTML</span>, <span class="hljs-variable">html</span>);</li><li><span class="hljs-variable">record</span>.<span class="hljs-title function_">addEntry</span>(<span class="hljs-variable">pasteboard</span>.<span class="hljs-variable">MIMETYPE_TEXT_PLAIN</span>, <span class="hljs-variable">styledString</span>.<span class="hljs-title function_">getString</span>());</li><li><span class="hljs-keyword">const</span> <span class="hljs-variable">htmlSpans</span> = <span class="hljs-keyword">this</span>.<span class="hljs-variable">pastePixelMapController</span>.<span class="hljs-title function_">fromStyledString</span>(<span class="hljs-variable">styledString</span>);</li><li><span class="hljs-keyword">if</span> (!<span class="hljs-variable">htmlSpans</span> || <span class="hljs-variable">htmlSpans</span>.<span class="hljs-variable">length</span> &lt; <span class="hljs-number">1</span>) {</li><li>  <span class="hljs-keyword">return</span>;</li><li>}</li><li><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> <span class="hljs-variable">i</span> = <span class="hljs-number">0</span>; <span class="hljs-variable">i</span> &lt; <span class="hljs-title class_">htmlSpans</span>.<span class="hljs-title class_">length</span>; <span class="hljs-title class_">i</span>++) {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-variable">span</span> = <span class="hljs-variable">htmlSpans</span>[<span class="hljs-variable">i</span>];</li><li>  <span class="hljs-keyword">if</span> (!!(<span class="hljs-variable">span</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">RichEditorImageSpanResult</span>)?.<span class="hljs-variable">valuePixelMap</span>) {</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-variable">pixelMap</span> = (<span class="hljs-variable">span</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">RichEditorImageSpanResult</span>)?.<span class="hljs-variable">valuePixelMap</span>;</li><li>    <span class="hljs-variable">record</span>.<span class="hljs-title function_">addEntry</span>(<span class="hljs-variable">pasteboard</span>.<span class="hljs-variable">MIMETYPE_PIXELMAP</span>, <span class="hljs-variable">pixelMap</span>);</li><li>    <span class="hljs-keyword">break</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">systemPasteBoard</span>: <span class="hljs-title class_">pasteboard</span>.<span class="hljs-title class_">SystemPasteboard</span> = <span class="hljs-variable">pasteboard</span>.<span class="hljs-title function_">getSystemPasteboard</span>();</li><li><span class="hljs-variable">await</span> <span class="hljs-variable">systemPasteBoard</span>.<span class="hljs-title function_">setData</span>(<span class="hljs-variable">pasteData</span>).<span class="hljs-keyword">catch</span>((<span class="hljs-variable">err</span>: <span class="hljs-title class_">BusinessError</span>) =&gt; {</li><li>  <span class="hljs-variable">hilog</span>.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[PasteBoard]'</span>, `<span class="hljs-variable">Failed</span> <span class="hljs-variable">to</span> <span class="hljs-variable">set</span> <span class="hljs-variable">pastedata</span>. <span class="hljs-variable">Code</span>: ${<span class="hljs-variable">err</span>.<span class="hljs-variable">code</span>}, <span class="hljs-variable">message</span>: ${<span class="hljs-variable">err</span>.<span class="hljs-variable">message</span>}`);</li><li>});</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/pasteboard/blob/master/entry/src/main/ets/pages/PasteBoard.ets#L205-L229" target="_blank">PasteBoard.ets</a></div></div></div></div>     </div>     <p><strong>实现多样式数据读取</strong></p>     <ol>      <li>数据写入系统剪贴板后，通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/pastebutton" target="_blank">粘贴控件</a>获得临时授权读取剪贴板数据。直接点击粘贴按钮，使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-pasteboard#getdata9" target="_blank">getData()</a>方法，即可直接读取系统剪贴板的内容。        <div class="screenLinkPre"><div _ngcontent-gnt-c106="" class="highlight-div"><div _ngcontent-gnt-c106="" class="highlight-div-header"><div _ngcontent-gnt-c106="" class="highlight-div-header-left"><div _ngcontent-gnt-c106="" class="handle-button expand-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gnt-c106="" class="highlight-div-header-right"><div _ngcontent-gnt-c106="" class="handle-button ai-button"></div><div _ngcontent-gnt-c106="" class="handle-button line-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gnt-c106="" class="handle-button theme-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gnt-c106="" class="handle-button copy-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gnt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/pasteboard/blob/master/entry/src/main/ets/pages/PasteBoard.ets#L109-L193" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title function_">PasteButton</span>()</li><li>  <span class="hljs-comment">// ...</span></li><li>  .<span class="hljs-title function_">onClick</span>(<span class="hljs-variable">async</span> (<span class="hljs-variable">_event</span>: <span class="hljs-title class_">ClickEvent</span>, <span class="hljs-variable">result</span>: <span class="hljs-title class_">PasteButtonOnClickResult</span>) =&gt; {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable">result</span> === <span class="hljs-variable">PasteButtonOnClickResult</span>.<span class="hljs-variable">SUCCESS</span>) {</li><li>      <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-comment">// ...</span></li><li>        <span class="hljs-keyword">let</span> <span class="hljs-variable">systemPasteBoard</span>: <span class="hljs-title class_">pasteboard</span>.<span class="hljs-title class_">SystemPasteboard</span> = <span class="hljs-variable">pasteboard</span>.<span class="hljs-title function_">getSystemPasteboard</span>();</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-variable">gettedData</span> = <span class="hljs-variable">await</span> <span class="hljs-variable">systemPasteBoard</span>.<span class="hljs-title function_">getData</span>();</li><li>        <span class="hljs-comment">// ...</span></li><li>      } <span class="hljs-keyword">catch</span> {</li><li>        (<span class="hljs-variable">err</span>: <span class="hljs-title class_">BusinessError</span>) =&gt; {</li><li>          <span class="hljs-variable">hilog</span>.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[PasteBoard]'</span>, `<span class="hljs-variable">getData</span> <span class="hljs-variable">error</span>.<span class="hljs-variable">code</span>: ${<span class="hljs-variable">err</span>.<span class="hljs-variable">code</span>}, <span class="hljs-variable">message</span>: ${<span class="hljs-variable">err</span>.<span class="hljs-variable">message</span>}`);</li><li>        }</li><li>      }</li><li>    }</li><li>  })</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/pasteboard/blob/master/entry/src/main/ets/pages/PasteBoard.ets#L109-L193" target="_blank">PasteBoard.ets</a></div></div></div></div></li>      <li>对于存储在系统剪贴板中的多样式数据，使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-pasteboard#getvalidtypes14" target="_blank">PasteDataRecord.getValidTypes()</a>方法获取剪贴板中数据类型与传入参数类型的交集的数据类型数组，交集结果表示请求的类型在剪贴板中存在。遍历数据类型数组，使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-pasteboard#getdata14" target="_blank">PasteDataRecord.getData()</a>方法获取对应类型的数据，通过不同RichEditor组件的控制器，实现不同类型数据的粘贴。请注意若剪贴板中不存在请求的数据类型，则对应类型的粘贴操作无法执行，对应RichEditor组件中内容不做更新。        <div class="screenLinkPre"><div _ngcontent-gnt-c106="" class="highlight-div"><div _ngcontent-gnt-c106="" class="highlight-div-header"><div _ngcontent-gnt-c106="" class="highlight-div-header-left"><div _ngcontent-gnt-c106="" class="handle-button expand-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gnt-c106="" class="highlight-div-header-right"><div _ngcontent-gnt-c106="" class="handle-button ai-button"></div><div _ngcontent-gnt-c106="" class="handle-button line-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gnt-c106="" class="handle-button theme-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gnt-c106="" class="handle-button copy-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gnt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-csharp" codehub="https://gitee.com/harmonyos_samples/pasteboard/blob/master/entry/src/main/ets/pages/PasteBoard.ets#L110-L194" data-highlighted="yes"><ol class="linenums"><li>PasteButton()</li><li>  <span class="hljs-comment">// ...</span></li><li>  .onClick(<span class="hljs-keyword">async</span> (_event: ClickEvent, result: PasteButtonOnClickResult) =&gt; {</li><li>    <span class="hljs-keyword">if</span> (result === PasteButtonOnClickResult.SUCCESS) {</li><li>      <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-comment">// ...</span></li><li>        <span class="hljs-keyword">let</span> systemPasteBoard: pasteboard.SystemPasteboard = pasteboard.getSystemPasteboard();</li><li>        <span class="hljs-keyword">let</span> gettedData = <span class="hljs-keyword">await</span> systemPasteBoard.getData();</li><li>        <span class="hljs-keyword">if</span> (gettedData.getRecordCount() &lt;= <span class="hljs-number">0</span>) {</li><li>          <span class="hljs-keyword">return</span>;</li><li>        }</li><li>
</li><li>        <span class="hljs-keyword">let</span> isPastedSuccess: boolean = <span class="hljs-literal">false</span>;</li><li>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; gettedData.getRecordCount(); i++) {</li><li>          <span class="hljs-keyword">let</span> <span class="hljs-keyword">record</span> = gettedData.getRecord(i);</li><li>          <span class="hljs-keyword">let</span> targetTypes: <span class="hljs-built_in">string</span>[] = [</li><li>            pasteboard.MIMETYPE_TEXT_HTML,</li><li>            pasteboard.MIMETYPE_TEXT_PLAIN,</li><li>            pasteboard.MIMETYPE_PIXELMAP</li><li>          ];</li><li>          <span class="hljs-keyword">let</span> tmpTypes: <span class="hljs-built_in">string</span>[] = <span class="hljs-keyword">record</span>.getValidTypes(targetTypes);</li><li>          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; tmpTypes.length; j++) {</li><li>            <span class="hljs-keyword">switch</span> (tmpTypes[j]) {</li><li>              <span class="hljs-keyword">case</span> pasteboard.MIMETYPE_TEXT_HTML: {</li><li>                <span class="hljs-keyword">let</span> htmlRecord = <span class="hljs-keyword">await</span> <span class="hljs-keyword">record</span>.getData(pasteboard.MIMETYPE_TEXT_HTML);</li><li>                htmlRecord = htmlRecord <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>;</li><li>                <span class="hljs-keyword">this</span>.handlerPasteHtmlData(htmlRecord);</li><li>                isPastedSuccess = <span class="hljs-literal">true</span>;</li><li>                <span class="hljs-keyword">break</span>;</li><li>              }</li><li>              <span class="hljs-keyword">case</span> pasteboard.MIMETYPE_TEXT_PLAIN: {</li><li>                <span class="hljs-keyword">let</span> textRecord = <span class="hljs-keyword">await</span> <span class="hljs-keyword">record</span>.getData(pasteboard.MIMETYPE_TEXT_PLAIN);</li><li>                textRecord = textRecord <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>;</li><li>                <span class="hljs-keyword">let</span> styledString = <span class="hljs-keyword">new</span> StyledString(textRecord);</li><li>                <span class="hljs-keyword">this</span>.pasteTextController.setStyledString(styledString);</li><li>                isPastedSuccess = <span class="hljs-literal">true</span>;</li><li>                <span class="hljs-keyword">break</span>;</li><li>              }</li><li>              <span class="hljs-keyword">case</span> pasteboard.MIMETYPE_PIXELMAP: {</li><li>                <span class="hljs-keyword">let</span> pixelMapRecord = <span class="hljs-keyword">await</span> <span class="hljs-keyword">record</span>.getData(pasteboard.MIMETYPE_PIXELMAP);</li><li>                pixelMapRecord = pixelMapRecord <span class="hljs-keyword">as</span> PixelMap;</li><li>                <span class="hljs-keyword">this</span>.pastePixelMapController.deleteSpans();</li><li>                <span class="hljs-keyword">this</span>.pastePixelMapController.addImageSpan(pixelMapRecord, {</li><li>                  imageStyle: {</li><li>                    size: [<span class="hljs-string">'57px'</span>, <span class="hljs-string">'57px'</span>]</li><li>                  }</li><li>                });</li><li>                isPastedSuccess = <span class="hljs-literal">true</span>;</li><li>                <span class="hljs-keyword">break</span>;</li><li>              }</li><li>              <span class="hljs-literal">default</span>:</li><li>                <span class="hljs-keyword">break</span>;</li><li>            }</li><li>          }</li><li>        }</li><li>        <span class="hljs-comment">// ...</span></li><li>      } <span class="hljs-keyword">catch</span> {</li><li>        (err: BusinessError) =&gt; {</li><li>          hilog.error(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[PasteBoard]'</span>, `getData error.code: ${err.code}, message: ${err.message}`);</li><li>        }</li><li>      }</li><li>    }</li><li>  })</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/pasteboard/blob/master/entry/src/main/ets/pages/PasteBoard.ets#L110-L194" target="_blank">PasteBoard.ets</a></div></div></div></div></li>     </ol>    </div>    <div class="tiledSection">     <h2 id="section58295561239">进度条接入<i class="anchor-icon anchor-icon-link" anchorid="section58295561239" tips="复制节点链接"></i></h2>          <p>允许文件粘贴时，通常需要使用进度条将抽象进程转化为可视化的动态变化，帮助用户快速理解了解当前进展。</p>     <p>      </p><div class="video-box" style="width: 329.25px; height: 329.25px;"><div id="wise_player_2" videodata="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163253.22710226727093691280283313942879:50001231000000:2800:CE56CF837018A928854CC7DF7B20EAB0D14C36C74165E26FB095517F87C12B87.mp4" preload="none" class="edui-upload-video vjs-fluid vjs-default-skin video-js vjs-paused vjs_video_3-dimensions vjs-controls-enabled vjs-workinghover vjs-v7 vjs-user-active wise_player_2-dimensions vjs-v8" tabindex="-1" role="region" lang="cn" translate="no" aria-label="Video Player"><video class="vjs-tech" preload="none" videodata="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163253.22710226727093691280283313942879:50001231000000:2800:CE56CF837018A928854CC7DF7B20EAB0D14C36C74165E26FB095517F87C12B87.mp4" id="wise_player_2_html5_api" tabindex="-1" role="application" loop="" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/publicContent/011/111/111/0000000000011111111.20251211163253.22710226727093691280283313942879:50001231000000:2800:CE56CF837018A928854CC7DF7B20EAB0D14C36C74165E26FB095517F87C12B87.mp4"></video><div class="vjs-poster vjs-hidden" aria-disabled="false"></div><div class="vjs-title-bar vjs-hidden"><div class="vjs-title-bar-title" id="vjs-title-bar-title-27"></div><div class="vjs-title-bar-description" id="vjs-title-bar-description-28"></div></div><div class="vjs-text-track-display" translate="yes" aria-live="off" aria-atomic="true"><div style="position: absolute; inset: 0px; margin: 1.5%;"></div></div><div class="vjs-loading-spinner" dir="ltr"><span class="vjs-control-text">Video Player is loading.</span></div><button class="vjs-big-play-button" type="button" title="Play Video" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Play Video</span></button><div class="vjs-control-bar" dir="ltr"><button class="vjs-play-control vjs-control vjs-button" type="button" title="Play" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Play</span></button><div class="vjs-current-time vjs-time-control vjs-control"><span class="vjs-control-text" role="presentation">Current Time&nbsp;</span><span class="vjs-current-time-display" role="presentation">0:00</span></div><div class="vjs-progress-control vjs-control"><div tabindex="0" class="vjs-progress-holder vjs-slider vjs-slider-horizontal" role="slider" aria-valuenow="0.00" aria-valuemin="0" aria-valuemax="100" aria-label="Progress Bar" aria-valuetext="0:00 of 0:10"><div class="vjs-load-progress" style="width: 13.87%;"><span class="vjs-control-text"><span>Loaded</span>: <span class="vjs-control-text-loaded-percentage">13.87%</span></span><div data-start="0" data-end="1.451" style="left: 0%; width: 100%;"></div></div><div class="vjs-mouse-display"><div class="vjs-time-tooltip" aria-hidden="true"></div></div><div class="vjs-play-progress vjs-slider-bar" aria-hidden="true" style="width: 0%;"><div class="vjs-time-tooltip" aria-hidden="true" style="right: 0px;">0:00</div></div></div></div><div class="vjs-duration vjs-time-control vjs-control"><span class="vjs-control-text" role="presentation">Duration&nbsp;</span><span class="vjs-duration-display" role="presentation">0:10</span></div><div class="vjs-volume-panel vjs-control vjs-volume-panel-vertical"><button class="vjs-mute-control vjs-control vjs-button vjs-vol-3" type="button" title="Mute" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Mute</span></button><div class="vjs-volume-control vjs-control vjs-volume-vertical"><div tabindex="0" class="vjs-volume-bar vjs-slider-bar vjs-slider vjs-slider-vertical" role="slider" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" aria-label="Volume Level" aria-live="polite" aria-valuetext="100%"><div class="vjs-mouse-display"><div class="vjs-volume-tooltip" aria-hidden="true"></div></div><div class="vjs-volume-level"><span class="vjs-control-text"></span></div></div></div></div><div class="vjs-playback-rate vjs-menu-button vjs-menu-button-popup vjs-control vjs-button"><div class="vjs-playback-rate-value" id="vjs-playback-rate-value-label-wise_player_2_component_225">1x</div><button class="vjs-playback-rate vjs-menu-button vjs-menu-button-popup vjs-button" type="button" aria-disabled="false" title="Playback Rate" aria-haspopup="true" aria-expanded="false" aria-describedby="vjs-playback-rate-value-label-wise_player_2_component_225"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Playback Rate</span></button><div class="vjs-menu"><ul class="vjs-menu-content" role="menu"><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">2x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.8x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.5x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="false"><span class="vjs-menu-item-text">1.2x</span><span class="vjs-control-text" aria-live="polite"></span></li><li class="vjs-menu-item vjs-selected" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="true"><span class="vjs-menu-item-text">1x</span><span class="vjs-control-text" aria-live="polite">, selected</span></li></ul></div></div><button class="vjs-fullscreen-control vjs-control vjs-button" type="button" title="Fullscreen" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Fullscreen</span></button></div><div class="vjs-error-display vjs-modal-dialog vjs-hidden " tabindex="-1" aria-describedby="wise_player_2_component_332_description" aria-hidden="true" aria-label="Modal Window" role="dialog" aria-live="polite"><p class="vjs-modal-dialog-description vjs-control-text" id="wise_player_2_component_332_description">This is a modal window.</p><div class="vjs-modal-dialog-content" role="document"></div></div><div class="vjs-modal-dialog vjs-hidden  vjs-text-track-settings" tabindex="-1" aria-describedby="wise_player_2_component_338_description" aria-hidden="true" aria-label="Caption Settings Dialog" role="dialog" aria-live="polite"><p class="vjs-modal-dialog-description vjs-control-text" id="wise_player_2_component_338_description">Beginning of dialog window. Escape will cancel and close the window.</p><div class="vjs-modal-dialog-content" role="document"><div class="vjs-track-settings-colors"><fieldset class="vjs-fg vjs-track-setting"><legend id="captions-text-legend-wise_player_2_component_338">Text</legend><span class="vjs-text-color"><label id="captions-foreground-color-wise_player_2_component_338" for="vjs_select_364" class="vjs-label">Color</label><select aria-labelledby="captions-text-legend-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338" id="vjs_select_364"><option id="captions-foreground-color-wise_player_2_component_338-White" value="#FFF" aria-labelledby="captions-text-legend-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338-White">White</option><option id="captions-foreground-color-wise_player_2_component_338-Black" value="#000" aria-labelledby="captions-text-legend-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338-Black">Black</option><option id="captions-foreground-color-wise_player_2_component_338-Red" value="#F00" aria-labelledby="captions-text-legend-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338-Red">Red</option><option id="captions-foreground-color-wise_player_2_component_338-Green" value="#0F0" aria-labelledby="captions-text-legend-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338-Green">Green</option><option id="captions-foreground-color-wise_player_2_component_338-Blue" value="#00F" aria-labelledby="captions-text-legend-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338-Blue">Blue</option><option id="captions-foreground-color-wise_player_2_component_338-Yellow" value="#FF0" aria-labelledby="captions-text-legend-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338-Yellow">Yellow</option><option id="captions-foreground-color-wise_player_2_component_338-Magenta" value="#F0F" aria-labelledby="captions-text-legend-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338-Magenta">Magenta</option><option id="captions-foreground-color-wise_player_2_component_338-Cyan" value="#0FF" aria-labelledby="captions-text-legend-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338 captions-foreground-color-wise_player_2_component_338-Cyan">Cyan</option></select></span><span class="vjs-text-opacity vjs-opacity"><label id="captions-foreground-opacity-wise_player_2_component_338" for="vjs_select_365" class="vjs-label">Opacity</label><select aria-labelledby="captions-text-legend-wise_player_2_component_338 captions-foreground-opacity-wise_player_2_component_338" id="vjs_select_365"><option id="captions-foreground-opacity-wise_player_2_component_338-Opaque" value="1" aria-labelledby="captions-text-legend-wise_player_2_component_338 captions-foreground-opacity-wise_player_2_component_338 captions-foreground-opacity-wise_player_2_component_338-Opaque">Opaque</option><option id="captions-foreground-opacity-wise_player_2_component_338-SemiTransparent" value="0.5" aria-labelledby="captions-text-legend-wise_player_2_component_338 captions-foreground-opacity-wise_player_2_component_338 captions-foreground-opacity-wise_player_2_component_338-SemiTransparent">Semi-Transparent</option></select></span></fieldset><fieldset class="vjs-bg vjs-track-setting"><legend id="captions-background-wise_player_2_component_338">Text Background</legend><span class="vjs-bg-color"><label id="captions-background-color-wise_player_2_component_338" for="vjs_select_366" class="vjs-label">Color</label><select aria-labelledby="captions-background-wise_player_2_component_338 captions-background-color-wise_player_2_component_338" id="vjs_select_366"><option id="captions-background-color-wise_player_2_component_338-Black" value="#000" aria-labelledby="captions-background-wise_player_2_component_338 captions-background-color-wise_player_2_component_338 captions-background-color-wise_player_2_component_338-Black">Black</option><option id="captions-background-color-wise_player_2_component_338-White" value="#FFF" aria-labelledby="captions-background-wise_player_2_component_338 captions-background-color-wise_player_2_component_338 captions-background-color-wise_player_2_component_338-White">White</option><option id="captions-background-color-wise_player_2_component_338-Red" value="#F00" aria-labelledby="captions-background-wise_player_2_component_338 captions-background-color-wise_player_2_component_338 captions-background-color-wise_player_2_component_338-Red">Red</option><option id="captions-background-color-wise_player_2_component_338-Green" value="#0F0" aria-labelledby="captions-background-wise_player_2_component_338 captions-background-color-wise_player_2_component_338 captions-background-color-wise_player_2_component_338-Green">Green</option><option id="captions-background-color-wise_player_2_component_338-Blue" value="#00F" aria-labelledby="captions-background-wise_player_2_component_338 captions-background-color-wise_player_2_component_338 captions-background-color-wise_player_2_component_338-Blue">Blue</option><option id="captions-background-color-wise_player_2_component_338-Yellow" value="#FF0" aria-labelledby="captions-background-wise_player_2_component_338 captions-background-color-wise_player_2_component_338 captions-background-color-wise_player_2_component_338-Yellow">Yellow</option><option id="captions-background-color-wise_player_2_component_338-Magenta" value="#F0F" aria-labelledby="captions-background-wise_player_2_component_338 captions-background-color-wise_player_2_component_338 captions-background-color-wise_player_2_component_338-Magenta">Magenta</option><option id="captions-background-color-wise_player_2_component_338-Cyan" value="#0FF" aria-labelledby="captions-background-wise_player_2_component_338 captions-background-color-wise_player_2_component_338 captions-background-color-wise_player_2_component_338-Cyan">Cyan</option></select></span><span class="vjs-bg-opacity vjs-opacity"><label id="captions-background-opacity-wise_player_2_component_338" for="vjs_select_367" class="vjs-label">Opacity</label><select aria-labelledby="captions-background-wise_player_2_component_338 captions-background-opacity-wise_player_2_component_338" id="vjs_select_367"><option id="captions-background-opacity-wise_player_2_component_338-Opaque" value="1" aria-labelledby="captions-background-wise_player_2_component_338 captions-background-opacity-wise_player_2_component_338 captions-background-opacity-wise_player_2_component_338-Opaque">Opaque</option><option id="captions-background-opacity-wise_player_2_component_338-SemiTransparent" value="0.5" aria-labelledby="captions-background-wise_player_2_component_338 captions-background-opacity-wise_player_2_component_338 captions-background-opacity-wise_player_2_component_338-SemiTransparent">Semi-Transparent</option><option id="captions-background-opacity-wise_player_2_component_338-Transparent" value="0" aria-labelledby="captions-background-wise_player_2_component_338 captions-background-opacity-wise_player_2_component_338 captions-background-opacity-wise_player_2_component_338-Transparent">Transparent</option></select></span></fieldset><fieldset class="vjs-window vjs-track-setting"><legend id="captions-window-wise_player_2_component_338">Caption Area Background</legend><span class="vjs-window-color"><label id="captions-window-color-wise_player_2_component_338" for="vjs_select_368" class="vjs-label">Color</label><select aria-labelledby="captions-window-wise_player_2_component_338 captions-window-color-wise_player_2_component_338" id="vjs_select_368"><option id="captions-window-color-wise_player_2_component_338-Black" value="#000" aria-labelledby="captions-window-wise_player_2_component_338 captions-window-color-wise_player_2_component_338 captions-window-color-wise_player_2_component_338-Black">Black</option><option id="captions-window-color-wise_player_2_component_338-White" value="#FFF" aria-labelledby="captions-window-wise_player_2_component_338 captions-window-color-wise_player_2_component_338 captions-window-color-wise_player_2_component_338-White">White</option><option id="captions-window-color-wise_player_2_component_338-Red" value="#F00" aria-labelledby="captions-window-wise_player_2_component_338 captions-window-color-wise_player_2_component_338 captions-window-color-wise_player_2_component_338-Red">Red</option><option id="captions-window-color-wise_player_2_component_338-Green" value="#0F0" aria-labelledby="captions-window-wise_player_2_component_338 captions-window-color-wise_player_2_component_338 captions-window-color-wise_player_2_component_338-Green">Green</option><option id="captions-window-color-wise_player_2_component_338-Blue" value="#00F" aria-labelledby="captions-window-wise_player_2_component_338 captions-window-color-wise_player_2_component_338 captions-window-color-wise_player_2_component_338-Blue">Blue</option><option id="captions-window-color-wise_player_2_component_338-Yellow" value="#FF0" aria-labelledby="captions-window-wise_player_2_component_338 captions-window-color-wise_player_2_component_338 captions-window-color-wise_player_2_component_338-Yellow">Yellow</option><option id="captions-window-color-wise_player_2_component_338-Magenta" value="#F0F" aria-labelledby="captions-window-wise_player_2_component_338 captions-window-color-wise_player_2_component_338 captions-window-color-wise_player_2_component_338-Magenta">Magenta</option><option id="captions-window-color-wise_player_2_component_338-Cyan" value="#0FF" aria-labelledby="captions-window-wise_player_2_component_338 captions-window-color-wise_player_2_component_338 captions-window-color-wise_player_2_component_338-Cyan">Cyan</option></select></span><span class="vjs-window-opacity vjs-opacity"><label id="captions-window-opacity-wise_player_2_component_338" for="vjs_select_369" class="vjs-label">Opacity</label><select aria-labelledby="captions-window-wise_player_2_component_338 captions-window-opacity-wise_player_2_component_338" id="vjs_select_369"><option id="captions-window-opacity-wise_player_2_component_338-Transparent" value="0" aria-labelledby="captions-window-wise_player_2_component_338 captions-window-opacity-wise_player_2_component_338 captions-window-opacity-wise_player_2_component_338-Transparent">Transparent</option><option id="captions-window-opacity-wise_player_2_component_338-SemiTransparent" value="0.5" aria-labelledby="captions-window-wise_player_2_component_338 captions-window-opacity-wise_player_2_component_338 captions-window-opacity-wise_player_2_component_338-SemiTransparent">Semi-Transparent</option><option id="captions-window-opacity-wise_player_2_component_338-Opaque" value="1" aria-labelledby="captions-window-wise_player_2_component_338 captions-window-opacity-wise_player_2_component_338 captions-window-opacity-wise_player_2_component_338-Opaque">Opaque</option></select></span></fieldset></div><div class="vjs-track-settings-font"><fieldset class="vjs-font-percent vjs-track-setting"><legend id="captions-font-size-wise_player_2_component_338">Font Size</legend><select aria-labelledby="captions-font-size-wise_player_2_component_338" id="vjs_select_370"><option id="captions-font-size-wise_player_2_component_338-50" value="0.50" aria-labelledby="captions-font-size-wise_player_2_component_338 captions-font-size-wise_player_2_component_338-50">50%</option><option id="captions-font-size-wise_player_2_component_338-75" value="0.75" aria-labelledby="captions-font-size-wise_player_2_component_338 captions-font-size-wise_player_2_component_338-75">75%</option><option id="captions-font-size-wise_player_2_component_338-100" value="1.00" aria-labelledby="captions-font-size-wise_player_2_component_338 captions-font-size-wise_player_2_component_338-100">100%</option><option id="captions-font-size-wise_player_2_component_338-125" value="1.25" aria-labelledby="captions-font-size-wise_player_2_component_338 captions-font-size-wise_player_2_component_338-125">125%</option><option id="captions-font-size-wise_player_2_component_338-150" value="1.50" aria-labelledby="captions-font-size-wise_player_2_component_338 captions-font-size-wise_player_2_component_338-150">150%</option><option id="captions-font-size-wise_player_2_component_338-175" value="1.75" aria-labelledby="captions-font-size-wise_player_2_component_338 captions-font-size-wise_player_2_component_338-175">175%</option><option id="captions-font-size-wise_player_2_component_338-200" value="2.00" aria-labelledby="captions-font-size-wise_player_2_component_338 captions-font-size-wise_player_2_component_338-200">200%</option><option id="captions-font-size-wise_player_2_component_338-300" value="3.00" aria-labelledby="captions-font-size-wise_player_2_component_338 captions-font-size-wise_player_2_component_338-300">300%</option><option id="captions-font-size-wise_player_2_component_338-400" value="4.00" aria-labelledby="captions-font-size-wise_player_2_component_338 captions-font-size-wise_player_2_component_338-400">400%</option></select></fieldset><fieldset class="vjs-edge-style vjs-track-setting"><legend id="wise_player_2_component_338">Text Edge Style</legend><select aria-labelledby="wise_player_2_component_338" id="vjs_select_371"><option id="wise_player_2_component_338-None" value="none" aria-labelledby="wise_player_2_component_338 wise_player_2_component_338-None">None</option><option id="wise_player_2_component_338-Raised" value="raised" aria-labelledby="wise_player_2_component_338 wise_player_2_component_338-Raised">Raised</option><option id="wise_player_2_component_338-Depressed" value="depressed" aria-labelledby="wise_player_2_component_338 wise_player_2_component_338-Depressed">Depressed</option><option id="wise_player_2_component_338-Uniform" value="uniform" aria-labelledby="wise_player_2_component_338 wise_player_2_component_338-Uniform">Uniform</option><option id="wise_player_2_component_338-Dropshadow" value="dropshadow" aria-labelledby="wise_player_2_component_338 wise_player_2_component_338-Dropshadow">Drop shadow</option></select></fieldset><fieldset class="vjs-font-family vjs-track-setting"><legend id="captions-font-family-wise_player_2_component_338">Font Family</legend><select aria-labelledby="captions-font-family-wise_player_2_component_338" id="vjs_select_372"><option id="captions-font-family-wise_player_2_component_338-ProportionalSansSerif" value="proportionalSansSerif" aria-labelledby="captions-font-family-wise_player_2_component_338 captions-font-family-wise_player_2_component_338-ProportionalSansSerif">Proportional Sans-Serif</option><option id="captions-font-family-wise_player_2_component_338-MonospaceSansSerif" value="monospaceSansSerif" aria-labelledby="captions-font-family-wise_player_2_component_338 captions-font-family-wise_player_2_component_338-MonospaceSansSerif">Monospace Sans-Serif</option><option id="captions-font-family-wise_player_2_component_338-ProportionalSerif" value="proportionalSerif" aria-labelledby="captions-font-family-wise_player_2_component_338 captions-font-family-wise_player_2_component_338-ProportionalSerif">Proportional Serif</option><option id="captions-font-family-wise_player_2_component_338-MonospaceSerif" value="monospaceSerif" aria-labelledby="captions-font-family-wise_player_2_component_338 captions-font-family-wise_player_2_component_338-MonospaceSerif">Monospace Serif</option><option id="captions-font-family-wise_player_2_component_338-Casual" value="casual" aria-labelledby="captions-font-family-wise_player_2_component_338 captions-font-family-wise_player_2_component_338-Casual">Casual</option><option id="captions-font-family-wise_player_2_component_338-Script" value="script" aria-labelledby="captions-font-family-wise_player_2_component_338 captions-font-family-wise_player_2_component_338-Script">Script</option><option id="captions-font-family-wise_player_2_component_338-SmallCaps" value="small-caps" aria-labelledby="captions-font-family-wise_player_2_component_338 captions-font-family-wise_player_2_component_338-SmallCaps">Small Caps</option></select></fieldset></div><div class="vjs-track-settings-controls"><button type="button" class="vjs-default-button" title="restore all settings to the default values">Reset<span class="vjs-control-text"> restore all settings to the default values</span></button><button type="button" class="vjs-done-button">Done</button></div></div><button class="vjs-close-button vjs-control vjs-button" type="button" title="Close Modal Dialog" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Close Modal Dialog</span></button><p class="vjs-control-text">End of dialog window.</p></div><div wiseplayerindex="2" class="wiseplayershaw"></div></div></div><p></p>     <p><strong>构建</strong><strong>数据存入剪贴板</strong></p>     <p>创建一个包含单样式的pasteData数据。创建一个文本文件存入剪贴板。</p>     <div class="screenLinkPre"><div _ngcontent-gnt-c106="" class="highlight-div"><div _ngcontent-gnt-c106="" class="highlight-div-header"><div _ngcontent-gnt-c106="" class="highlight-div-header-left"><div _ngcontent-gnt-c106="" class="handle-button expand-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gnt-c106="" class="highlight-div-header-right"><div _ngcontent-gnt-c106="" class="handle-button ai-button"></div><div _ngcontent-gnt-c106="" class="handle-button line-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gnt-c106="" class="handle-button theme-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gnt-c106="" class="handle-button copy-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gnt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/pasteboard/blob/master/entry/src/main/ets/pages/ProgressBar.ets#L139-L153" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-variable">filesDir</span> = <span class="hljs-variable">uiContext</span>?.<span class="hljs-title function_">getHostContext</span>()!.<span class="hljs-variable">filesDir</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">fileFullName</span> = <span class="hljs-variable">filesDir</span> + <span class="hljs-string">'/test1.txt'</span>;</li><li><span class="hljs-variable">hilog</span>.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[ProgressBar]'</span>, <span class="hljs-string">'The fileFullName of str is:'</span> + <span class="hljs-variable">fileFullName</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">file</span> = <span class="hljs-variable">fs</span>.<span class="hljs-title function_">openSync</span>(<span class="hljs-variable">fileFullName</span>, <span class="hljs-variable">fs</span>.<span class="hljs-variable">OpenMode</span>.<span class="hljs-variable">READ_WRITE</span> | <span class="hljs-variable">fs</span>.<span class="hljs-variable">OpenMode</span>.<span class="hljs-variable">CREATE</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">writeLen</span> = <span class="hljs-variable">fs</span>.<span class="hljs-title function_">writeSync</span>(<span class="hljs-variable">file</span>.<span class="hljs-variable">fd</span>, <span class="hljs-variable">VALUE_TEST_STRING_ELEMENT</span>);</li><li><span class="hljs-variable">hilog</span>.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[ProgressBar]'</span>, <span class="hljs-string">'The size of str is: '</span> + <span class="hljs-variable">writeLen</span>);</li><li><span class="hljs-variable">fs</span>.<span class="hljs-title function_">closeSync</span>(<span class="hljs-variable">file</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">pasteData</span> =</li><li>  <span class="hljs-variable">pasteboard</span>.<span class="hljs-title function_">createData</span>(<span class="hljs-variable">pasteboard</span>.<span class="hljs-variable">MIMETYPE_TEXT_URI</span>, <span class="hljs-variable">fileUri</span>.<span class="hljs-title function_">getUriFromPath</span>(<span class="hljs-variable">fileFullName</span>));</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">systemPasteBoard</span>: <span class="hljs-title class_">pasteboard</span>.<span class="hljs-title class_">SystemPasteboard</span> = <span class="hljs-variable">pasteboard</span>.<span class="hljs-title function_">getSystemPasteboard</span>();</li><li><span class="hljs-variable">await</span> <span class="hljs-variable">systemPasteBoard</span>.<span class="hljs-title function_">setData</span>(<span class="hljs-variable">pasteData</span>).<span class="hljs-keyword">catch</span>((<span class="hljs-variable">err</span>: <span class="hljs-title class_">BusinessError</span>) =&gt; {</li><li>  <span class="hljs-variable">hilog</span>.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[ProgressBar]'</span>,</li><li>    `<span class="hljs-variable">Failed</span> <span class="hljs-variable">to</span> <span class="hljs-variable">set</span> <span class="hljs-variable">pastedata</span>. <span class="hljs-variable">Code</span>: ${<span class="hljs-variable">err</span>.<span class="hljs-variable">code</span>}, <span class="hljs-variable">message</span>: ${<span class="hljs-variable">err</span>.<span class="hljs-variable">message</span>}`);</li><li>});</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/pasteboard/blob/master/entry/src/main/ets/pages/ProgressBar.ets#L139-L153" target="_blank">ProgressBar.ets</a></div></div></div></div>     <p><strong>获取剪贴板的内容和进度</strong></p>     <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/pastebutton" target="_blank">使用粘贴控件</a>获取临时授权后，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-pasteboard#getdatawithprogress15" target="_blank">getDataWithProgress()</a>方法获取剪贴板的内容及进度。params参数用于在应用使用剪贴板提供的文件拷贝功能时提供必要的信息，包括目标路径、文件冲突处理选项、进度条类型等。<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-pasteboard#progresslistener15" target="_blank">ProgressListener</a>是用于订阅进度数据变化的函数，可以当前获取数据的进度信息。进度数据状态变量更新后，刷新进度条Progress组件显示。</p>     <div class="screenLinkPre"><div _ngcontent-gnt-c106="" class="highlight-div"><div _ngcontent-gnt-c106="" class="highlight-div-header"><div _ngcontent-gnt-c106="" class="highlight-div-header-left"><div _ngcontent-gnt-c106="" class="handle-button expand-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gnt-c106="" class="highlight-div-header-right"><div _ngcontent-gnt-c106="" class="handle-button ai-button"></div><div _ngcontent-gnt-c106="" class="handle-button line-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gnt-c106="" class="handle-button theme-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gnt-c106="" class="handle-button copy-button"><div _ngcontent-gnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gnt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/pasteboard/blob/master/entry/src/main/ets/pages/ProgressBar.ets#L88-L128" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title function_">PasteButton</span>()</li><li><span class="hljs-comment">// ...</span></li><li>  .<span class="hljs-title function_">onClick</span>(<span class="hljs-variable">async</span> (<span class="hljs-variable">event</span>: <span class="hljs-title class_">ClickEvent</span>, <span class="hljs-variable">result</span>: <span class="hljs-title class_">PasteButtonOnClickResult</span>) =&gt; {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable">result</span> === <span class="hljs-variable">PasteButtonOnClickResult</span>.<span class="hljs-variable">SUCCESS</span>) {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-variable">systemPasteboard</span> = <span class="hljs-variable">pasteboard</span>.<span class="hljs-title function_">getSystemPasteboard</span>();</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-variable">ProgressListener</span> = (<span class="hljs-variable">progress</span>: <span class="hljs-title class_">pasteboard</span>.<span class="hljs-title class_">ProgressInfo</span>) =&gt; {</li><li>        <span class="hljs-keyword">this</span>.<span class="hljs-variable">progressInfo</span> = <span class="hljs-variable">progress</span>.<span class="hljs-variable">progress</span>;</li><li>        <span class="hljs-variable">hilog</span>.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[ProgressBar]'</span>, <span class="hljs-string">'progressListener success, progress:'</span> + <span class="hljs-variable">progress</span>.<span class="hljs-variable">progress</span>);</li><li>      }</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-variable">dstUri</span>: <span class="hljs-title class_">string</span> = <span class="hljs-variable">fileUri</span>.<span class="hljs-title function_">getUriFromPath</span>(<span class="hljs-variable">dstDir</span>);</li><li>      <span class="hljs-variable">hilog</span>.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[ProgressBar]'</span>, <span class="hljs-string">'progressBar'</span> + <span class="hljs-string">'dstUri: '</span> + <span class="hljs-variable">dstUri</span> + <span class="hljs-string">' length: '</span> + <span class="hljs-variable">dstUri</span>.<span class="hljs-variable">length</span>);</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-variable">params</span>: <span class="hljs-title class_">pasteboard</span>.<span class="hljs-title class_">GetDataParams</span> = {</li><li>        <span class="hljs-variable">destUri</span>: <span class="hljs-title class_">dstUri</span>,</li><li>        <span class="hljs-variable">progressIndicator</span>: <span class="hljs-title class_">pasteboard</span>.<span class="hljs-title class_">ProgressIndicator</span>.<span class="hljs-title class_">NONE</span>,</li><li>        <span class="hljs-variable">progressListener</span>: <span class="hljs-title class_">ProgressListener</span></li><li>      };</li><li>      <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-variable">await</span> <span class="hljs-variable">systemPasteboard</span>.<span class="hljs-title function_">getDataWithProgress</span>(<span class="hljs-variable">params</span>).<span class="hljs-title function_">then</span>((<span class="hljs-variable">data</span>) =&gt; {</li><li>          <span class="hljs-variable">hilog</span>.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[ProgressBar]'</span>, <span class="hljs-string">'getDataWithProgress success'</span>);</li><li>          <span class="hljs-variable">fs</span>.<span class="hljs-title function_">unlink</span>(<span class="hljs-variable">dstUri</span>);</li><li>        }).<span class="hljs-keyword">catch</span>((<span class="hljs-variable">error</span>: <span class="hljs-title class_">BusinessError</span>) =&gt; {</li><li>          <span class="hljs-variable">hilog</span>.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[ProgressBar]'</span>, <span class="hljs-string">'getDataWithProgress failed,error: '</span> + <span class="hljs-variable">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable">error</span>));</li><li>        })</li><li>        <span class="hljs-comment">// ...</span></li><li>      } <span class="hljs-keyword">catch</span> (<span class="hljs-variable">err</span>) {</li><li>        <span class="hljs-variable">hilog</span>.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'[ProgressBar]'</span>,</li><li>          <span class="hljs-string">'getDataWithProgress fail,err：'</span> + <span class="hljs-variable">err</span>.<span class="hljs-variable">code</span> + <span class="hljs-string">',message: '</span> + <span class="hljs-variable">err</span>.<span class="hljs-variable">message</span>);</li><li>      }</li><li>    }</li><li>  })</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/pasteboard/blob/master/entry/src/main/ets/pages/ProgressBar.ets#L88-L128" target="_blank">ProgressBar.ets</a></div></div></div></div>    </div>    <div class="tiledSection">     <h2 id="section06981913410">示例代码<i class="anchor-icon anchor-icon-link" anchorid="section06981913410" tips="复制节点链接"></i></h2>          <ul>      <li><a href="https://gitee.com/harmonyos_samples/pasteboard" target="_blank">实现剪贴板复制粘贴的功能</a></li>     </ul>    </div>   </div>   <div></div></div>